{"version":3,"file":"ChangeVisualization.js","names":["sap","ui","define","Core","Fragment","difference","deepEqual","JsControlTreeModifier","Control","OverlayRegistry","OverlayUtil","ElementUtil","PersistenceWriteAPI","Layer","FlUtils","ResourceModel","JSONModel","ChangeIndicator","ChangeIndicatorRegistry","ChangeCategories","ChangeStates","_onClick","oPopover","this","getPopover","isOpen","close","_isOverlayInvisible","oOverlay","getDomRef","isVisible","ChangeVisualization","extend","metadata","library","properties","rootControlId","type","isActive","defaultValue","aggregations","popover","multiple","constructor","_oChangeIndicatorRegistry","changeCategories","getCategories","prototype","apply","arguments","_oTextBundle","getLibraryResourceBundle","setModel","bundle","_oChangeVisualizationModel","active","getIsActive","changeState","ALL","setDefaultBindingMode","_sSelectedChangeCategory","_bSetModeChanged","_fnOnClickHandler","bind","setVersionsModel","oToolbar","oVersionsModel","getModel","setRootControlId","sRootControlId","getRootControlId","_reset","setProperty","_getComponent","getAppComponentForControl","getElementInstance","setIsActive","bActiveState","_updateVisualizationModel","exit","destroy","_toggleRootOverlayClickHandler","updateAfterSave","getProperty","reset","_updateChangeRegistry","then","_selectChangeCategory","_selectChangeState","_updateVisualizationModelMenuData","_determineChangeVisibility","aRegisteredIndependentChanges","aAllRelevantChanges","sVisualizedChangeState","filterRelevantChanges","aChanges","filter","oChange","changeStates","includes","aHiddenChanges","aVisualizedChanges","bHasDraftChanges","bHasDirtyChanges","aAllRelevantChangeIds","map","id","forEach","DIRTY","DRAFT","getOverlay","visualizationInfo","displayElementIds","change","getId","push","aRelevantHiddenChanges","aRelevantVisualizedChanges","relevantHiddenChanges","relevantVisualizedChanges","hasDirtyChanges","hasDraftChanges","getData","aAllRegisteredChanges","getAllRegisteredChanges","getRelevantChangesWithSelector","dependent","oSortedChanges","aCommandData","Object","keys","sChangeCategoryName","sTitle","_getChangeCategoryLabel","_getChangesForChangeCategory","length","key","count","title","icon","getIconForCategory","unshift","popupInfoMessage","getText","sortedChanges","sChangeCategory","changeCategory","undefined","iChangesCount","sLabelKey","toUpperCase","_getChangeCategoryButton","sButtonKey","openChangeCategorySelectionPopover","oEvent","_oToolbarButton","byId","getParameter","load","name","createId","controller","addDependent","openBy","setPopover","onChangeCategorySelection","sSelectedChangeCategory","getSource","getBindingContext","getObject","onVersioningCategoryChange","sSelectedChangeState","getSelectedKey","sChangeCategoryText","changeCategoryText","_updateChangeIndicators","_setFocusedIndicator","_sSelectedChangeState","_getCommandForChange","sCommand","getSupportInformation","command","getSelector","oComponent","oSelectorControl","bySelector","oLastDependentSelector","getDependentSelectorList","slice","oLastDependentSelectorControl","searchForCommand","sAggregationName","oControl","getElement","getDesignTimeMetadata","getCommandName","getChangeType","oParentOverlay","getParentElementOverlay","oParentAggregationOverlay","getParentAggregationOverlay","getAggregationName","_collectChanges","mPropertyBag","selector","invalidateCache","includeCtrlVariants","currentLayer","CUSTOMER","includeDirtyChanges","onlyCurrentVariants","_getUIChanges","removeOutdatedRegisteredChanges","removeRegisteredChangesWithoutVizInfo","displayedVersion","aRegisteredChangeIds","getRegisteredChangeIds","oCurrentChanges","reduce","oChanges","aCurrentChangeIds","sChangeIdToRemove","removeRegisteredChange","aPromises","sChangeIdToAdd","oChangeToAdd","sCommandName","registerChange","Promise","all","selectChange","sChangeId","_selectChange","aDependentElements","getRegisteredChange","dependentElementIds","sElementId","oOverlayDomRef","scrollIntoView","block","classList","add","addEventListener","remove","once","oData","setData","assign","oSelectors","getSelectorsWithRegisteredChanges","oIndicators","_mDisplayElementsKeyMap","sSelectorId","aChangesOnIndicator","aRelevantChanges","_filterRelevantChanges","some","oElementOverlay","affectedElementId","oRelevantContainer","getRelevantContainer","oOverlayPosition","getClientRects","left","top","posX","parseInt","posY","changes","oChangeIndicator","getChangeIndicator","sOverlayId","_createChangeIndicator","sDisplayElementsKey","displayElementsKey","getOverlayId","setOverlayId","_registerIndicatorBrowserEvents","content","aIndicators","onIndicatorInteraction","bActivate","oIndicator","getVisible","onIndicatorBrowserInteraction","onDetailPopoverOpened","attachBrowserEvent","attachDetailPopoverOpened","aChangeVizInfo","Array","isArray","oRootData","oChangeVizInfo","visible","overlayId","selectorId","bindElement","registerChangeIndicator","applyChanges","aVisibleIndicators","getChangeIndicators","sort","oIndicator1","oIndicator2","iDeltaY","getPosY","iDeltaX","getPosX","aVisibleIndicatorsOnScrollPosition","iIndex","tabIndex","focus","bEnable","oRootOverlayDomRef","oRootOverlay","capture","removeEventListener","triggerModeChange","oRootControl","oMenuButton","getControl","versioningEnabled","versioningAvailable","adjustToolbarSectionWidths"],"sources":["ChangeVisualization-dbg.js"],"mappings":"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"}