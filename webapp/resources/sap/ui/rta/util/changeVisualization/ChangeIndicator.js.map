{"version":3,"file":"ChangeIndicator.js","names":["sap","ui","define","Fragment","JSONModel","Control","DateFormat","KeyCodes","getCommandVisualization","FlUtils","resolveBinding","ChangeVisualizationUtils","Core","ChangeCategories","ChangeIndicator","extend","metadata","library","properties","changes","type","defaultValue","posX","posY","overlayId","selectorId","aggregations","_popover","multiple","visibility","events","selectChange","parameters","changeId","keyPress","originalEvent","detailPopoverOpened","renderer","apiVersion","render","oRm","oControl","openStart","class","sTooltip","getTooltip_AsString","attr","getChanges","length","openEnd","getId","text","close","constructor","this","_oDetailModel","setDefaultBindingMode","_fnHoverTrue","_setHoverStyleClasses","bind","_fnHoverFalse","prototype","apply","arguments","_bEventAttachedToElement","handleBrowserEventsOnOverlay","oOverlay","sEventHandler","_onSelect","_onKeyDown","handleBrowserEventsOnIndicator","oIndicator","centerVertically","oIndicatorDomRef","getDomRef","iOverlayHeight","byId","getOverlayId","offsetHeight","iIndicatorHeight","addStyleClass","getTexts","mChangeInformation","oRtaResourceBundle","sOverlayId","oAffectedElement","affectedElementId","mDescriptionPayload","Object","keys","descriptionPayload","reduce","sKey","vOriginalValue","bIsBinding","isBinding","vValue","mPropertyBag","appComponent","getAppComponentForControl","sElementLabel","getDesignTimeMetadata","getLabel","oCommandVisualization","oDescription","getDescription","sCommandName","commandName","sDescriptionText","sDescriptionTooltip","description","descriptionText","descriptionTooltip","changeCategory","sShortenedElementLabel","shortenString","sChangeTextKey","toUpperCase","getText","sDetailButtonText","buttonText","sIconTooltip","tooltip","iconTooltip","getDates","sCreationDate","change","getCreation","oDate","Date","sFallbackDate","fullDate","getDateTimeInstance","format","relativeDate","relative","formatChangesModelItem","getLibraryResourceBundle","oTexts","oDates","id","detailButtonText","icon","getIconForCategory","init","_iOldTabIndex","call","setVisible","bVisible","getAggregation","destroy","focus","_bScheduledForFocus","setOverlayId","oDomRef","parentNode","removeChild","placeAt","getStaticAreaRef","setProperty","onAfterRendering","appendChild","tabIndex","exit","setChanges","aChanges","setData","reverse","map","setTooltip","oEvent","stopPropagation","_toggleDetailPopover","keyCode","ENTER","fireKeyPress","onDetailPopoverOpened","preventDefault","onIndicatorBrowserInteraction","bAdd","getMetadata","getName","sFunctionName","getAttribute","load","name","sId","controller","then","oPopover","_bOpenedByChangeIndicator","setAggregation","setModel","openBy","fireDetailPopoverOpened","isOpen","undefined","_showDependentElements","sChangeId","getSource","getBindingContext","getObject","fireSelectChange"],"sources":["ChangeIndicator-dbg.js"],"mappings":"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"}