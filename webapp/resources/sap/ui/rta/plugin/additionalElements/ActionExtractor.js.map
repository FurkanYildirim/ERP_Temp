{"version":3,"file":"ActionExtractor.js","names":["sap","ui","define","difference","merge","Log","JsControlTreeModifier","ElementUtil","OverlayRegistry","DelegateMediatorAPI","AdditionalElementsUtils","Utils","ActionExtractor","loadKnownDefaultDelegateLibraries","aLoadLibraryPromises","aRequiredLibraries","getKnownDefaultDelegateLibraries","forEach","sLibrary","oLoadLibraryPromise","getCore","loadLibrary","async","then","Promise","resolve","catch","vError","warning","push","all","getAddViaDelegateActionData","mAction","oDesignTimeMetadata","oPlugin","hasChangeHandler","changeType","element","bHasChangeHandler","aggregationName","aggregation","addPropertyActionData","designTimeMetadata","action","delegateInfo","payload","delegate","instance","modelType","requiredLibraries","undefined","getInvisibleElements","oParentOverlay","sAggregationName","oParentElement","getElement","aInvisibleElements","getAggregation","filter","oControl","oOverlay","getOverlay","hasStableId","oRelevantContainer","getRelevantContainer","oRelevantContainerOverlay","oOverlayToCheck","bAnyParentInvisible","getElementVisibility","getParentElementOverlay","this","map","oInvisibleElement","sourceAggregation","defaultGetAggregationName","oParent","oChild","sParentAggregationName","isValidAction","oCheckElementOverlay","mParents","bValidAction","relevantContainerOverlay","filterValidAddPropertyActions","aActions","aDefaultDelegateLibraries","fnFilterActions","aFilteredActions","oCheckElement","changeOnRelevantContainer","relevantContainer","parent","getDelegateForControl","control","modifier","supportsDefault","supportsDefaultDelegate","mDelegateInfo","names","length","getRequiredLibrariesForDefaultDelegate","delegateName","Boolean","reduce","oPreviousActionsPromise","getRevealActionFromAggregations","aParents","_mReveal","aAggregationNames","aInvisibleChildren","aInvisibleChildrenPerAggregation","sAggregation","concat","call","bind","oInitialRevealObject","elements","controlTypeNames","mRevealPromise","oPreviousPromise","mInvisibleElement","mReveal","checkAndEnrichReveal","reveal","sTargetAggregation","mRevealAction","bRevealEnabled","oHasChangeHandlerPromise","sSourceAggregation","getDesignTimeMetadata","getAction","oRevealSelector","isElementValid","getParents","parentOverlay","getAggregationName","oAggregationOverlay","getAggregationOverlay","checkTargetZone","bIncludeReveal","targetAggregation","mName","getName","getActions","bSibling","oSourceElementOverlay","bInvalidate","oDesignTime","sSiblingOrChild","_mAddActions","oRevealActionsPromise","_getRevealActions","oAddPropertyActionsPromise","_getAddViaDelegateActions","aAllActions","mAllActions","asSibling","asChild","getActionsOrUndef","mRevealCache","bIsSyncRegistered","attachEventOnce","findAllSiblingsInContainer","mCachedResult","getId","getChildren","isIgnored","mAggregatedReveal","getActionDataFromAggregations","oAction","oReturn","addViaDelegate"],"sources":["ActionExtractor-dbg.js"],"mappings":"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"}