{"version":3,"file":"RedlineCollaboration.js","names":["sap","ui","define","Element","vkCore","RedlineTool","RedlineConversation","uuidv4","RedlineUpgradeManager","core","RedlineCollaboration","extend","metadata","library","aggregations","conversations","singularName","type","multiple","associations","viewport","activeConversation","activeComment","events","elementCreated","parameters","element","elementClicked","elementId","elementHovered","conversationActivating","conversation","conversationActivated","viewportLocked","constructor","sId","apply","this","arguments","undefined","_elementId","prototype","init","_header","Map","exit","_tool","setActive","destroy","byId","getViewport","surface","getMeasurementSurface","detachMeasurementsAdded","_onmMeasurementsAdded","detachMeasurementsRemoving","_onMeasurementsRemoving","detachScaleChanged","_onMeasurementsScaleChanged","getElementId","setViewport","setAssociation","attachElementCreated","_onElementCreated","attachElementClicked","_onElementClicked","attachElementHovered","_onElementHovered","addTool","attachMeasurementsAdded","_onMeasurementsAdded","attachMeasurementsRemoving","attachScaleChanged","event","measurements","getParameter","getActiveConversation","comment","getActiveComment","forEach","measurement","json","toJSON","addMeasurement","id","getId","removeMeasurement","comments","getComments","scale","setMeasurementScale","fireElementHovered","addContent","destroyRedlineElements","_activate","fireElementCreated","fireElementClicked","setHeaderProperty","key","value","set","getHeaderProperty","get","removeHeaderProperty","delete","createConversation","name","conversationName","addConversation","setActiveConversation","getViewInfo","result","_updateViewInfo","setViewInfo","_deactivate","fireConversationActivating","scene","getContentConnector","getContent","views","getViews","view","j","length","getViewId","getEventBus","subscribe","_readyForAnimation","vsm","getViewStateManager","vm","getViewManager","_activatingView","getActive","activateView","getMeasurements","fromJSON","getMeasurementScale","setShouldRenderFrame","fireConversationActivated","animationPlayer","getAnimationPlayer","setTime","getAnimationOffset","viewInfo","getCamera","getCameraRef","camera","enabled","unsubscribe","createElement","redlineElement","setViewId","getCurrentView","setAnimationOffset","getTime","startAdding","deactivateRedlineDrawing","stopAdding","removeElement","removeContent","_normalizeElementsArray","elements","normalizedArray","currentElements","getActiveRedlineElements","Array","isArray","i","vk","RedlineElement","push","k","setHighlight","color","setHalo","setHaloColor","_haloColor","getGizmo","rerender","setDefaultHighlightColor","clearHighlight","addStyleClass","className","removeStyleClass","toggleStyleClass","query","matrices","visibility","selection","freezeView","unfreezeView","getRedlineElements","getText","_createConversationFromJSON","userIds","importJSON","upgrade","Set","destroyConversations","setActiveComment","headerProperties","Object","entries","header","jsonConversations","ids","add","initialId","getConversations","initialConversation","exportJSON","activeId","headerObject","fromEntries","schemaVersion","map"],"sources":["RedlineCollaboration-dbg.js"],"mappings":"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"}