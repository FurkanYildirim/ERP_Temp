{"version":3,"file":"ViewStateManager.js","names":["sap","ui","define","vkCore","ViewStateManagerBase","THREE","cssColorToColor","colorToCSSColor","abgrToColor","colorToABGR","Scene","ObjectType","RotationType","NodesTransitionHelper","OutlineRenderer","HighlightPlayer","HighlightDisplayState","Highlight","AnimationTrackType","AnimationTrackValueType","AnimationMath","NodeContentType","ThreeUtils","core","TransformationMatrix","VisibilityTracker","ViewStateManager","extend","metadata","library","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_nodeHierarchy","_nodeStates","Map","_selectedNodes","Set","_outlineRenderer","_outlinedNodes","setOutlineColor","setOutlineWidth","_visibilityTracker","_showSelectionBoundingBox","_boundingBoxesScene","_selectedNodesBoundingBox","Box3","_selectionColor","Color","setHighlightColor","_joints","_nodesTransitionHelper","setViewStateManager","_highlightPlayer","_transitionPlayer","getEventBus","subscribe","_onActivateView","_clearBoundingBoxScene","all3DNodes","allGroupNodes","getAllTHREENodes","forEach","n3d","disposeObject","parent","remove","g3d","exit","unsubscribe","destroy","dispose","_setContent","content","_scene","scene","_setScene","initialView","getInitialView","_currentView","_resetNodesMaterialAndOpacityByCurrentView","_setNodeHierarchy","getDefaultNodeHierarchy","activateView","nodeHierarchy","oldNodeHierarchy","clear","attachNodeReplaced","_handleNodeReplaced","attachNodeUpdated","_handleNodeUpdated","attachNodeRemoving","_handleNodeRemoving","_initialState","visible","hidden","that","allNodeRefs","findNodesByName","nodeRef","push","fireVisibilityChanged","fireNodeHierarchyReplaced","newNodeHierarchy","_getJointByChildNode","joint","_jointCollection","i","length","node","event","replacedNodeRef","getParameter","replacementNodeRef","getSelectionState","setSelectionState","_renderOutline","renderer","camera","c","_outlineColorABGR","color","red","green","blue","render","Array","from","getNodeHierarchy","getVisibilityChanges","getShouldTrackVisibilityChanges","getInfo","getCurrentView","viewManager","byId","getViewManager","currentView","getActiveView","resetNodeProperty","property","nodeInfo","getNodeInfos","nodes","ji","includes","target","Opacity","transforms","nodeRefs","positions","newPosition","newRotation","newScale","transform","position","Vector3","rotation","Quaternion","scale","newMatrix","arrayToMatrixThree","decompose","toArray","Scale","Rotate","Translate","slice","translation","quaternion","setTransformation","_vkSetOpacity","opacity","eventParameters","changed","fireOpacityChanged","bind","getVisibilityComplete","nodeProxy","createNodeProxy","veId","getVeId","destroyNodeProxy","getVisibilityState","resetVisibility","setVisibilityState","isArray","map","recursive","force","isBulkChange","recursiveVisibility","idx","collected","_collectNodesRecursively","concat","fill","changedVisibility","usedNodeRefs","filter","index","userData","skipIt","has","add","children","trackNodeRef","enumerateSelection","callback","enumerateOutlinedNodes","selectionSet","isSelected","_getSelectionComplete","selected","outlined","_isAChild","childNodeRef","ancestor","_AddBoundingBox","_vkCalculateObjectOrientedBoundingBox","_RemoveBoundingBox","boundingBox","_expandBoundingBoxWithSelected","isEmpty","union","_updateBoundingBoxes","bbox","pos","scl","identityQuat","matrix","Matrix4","elements","makeEmpty","matrices","count","size","Float32Array","getCenter","getSize","multiplyScalar","compose","premultiply","matrixWorld","x","y","z","applyMatrix4","expandByPoint","object","deleteObject","createObject","itm","geometry","attributes","array","set","version","mtl","material","LineBasicMaterial","onBeforeCompile","shader","vertexShader","replace","geom","InstancedBufferGeometry","setIndex","BufferAttribute","Uint16Array","setAttribute","Float32BufferAttribute","InstancedBufferAttribute","LineSegments","frustumCulled","setShowSelectionBoundingBox","val","fireSelectionChanged","unselected","getShowSelectionBoundingBox","_isAncestorSelected","_updateHighlightColor","parentSelected","nodeContentType","_vkGetNodeContentType","Background","Symbol","highlightColor","_highlightColorABGR","undefined","_vkUpdateMaterialColor","l","objectType","Hotspot","blockNotification","getRecursiveSelection","value","self","indexOf","_appendAncestors","setSelectionStates","selectedNodeRefs","unselectedNodeRefs","delete","CSSColor","isValid","fireOutlineColorChanged","outlineColor","outlineColorABGR","getOutlineColor","inABGRFormat","getOutliningState","outliningSet","isOutlined","setOutliningStates","outlinedNodeRefs","unoutlinedNodeRefs","getRecursiveOutlining","unoutlined","fireOutliningChanged","width","_outlineWidth","fireOutlineWidthChanged","getOutlineWidth","result","collectChildNodes","enumerateChildren","_getOpacity","getOpacity","setOpacity","recursiveOpacity","changedOpacity","_getTintColorABGR","tintColor","_getTintColor","getTintColor","getTintColorMethodName","setTintColor","toABGR","recursiveColor","changedColor","changedABGR","_vkSetTintColor","tintColorABGR","fireTintColorChanged","fireHighlightColorChanged","highlightColorABGR","getHighlightColor","getRestTransformationUsingJoint","getRestTransformation","getRelativeTransformation","getData","restPosition","rTranslation","rQuaternion","fromArray","invert","rScale","getTransformationWorld","updateMatrixWorld","getTransformation","getTranslation","getRotation","getScale","getComponent","_convertQuaternionToAngleAxis","w","normalize","angle","Math","acos","s","sqrt","rotationType","AngleAxis","Euler","euler","setFromQuaternion","transformations","transformation","getTransformParametersForEvent","updateMatrix","clone","angleAxis","axis","setFromAxisAngle","setFromEuler","fireTransformationChanged","getJoints","setJoints","joints","playback","_playbackAssociatedWithJoints","jointSet","jointMap","values","next","get","jointSequence","intermediateNodes","nodesToUpdate","imNode","pop","offsetTranslation","offsetQuaternion","offsetScale","originalRotationType","offsetOpacity","_updateJointNode","nodeMatrix","restTransformation","restOpacity","worldMatrix","totalOpacity","getRestOpacity","offsetTrans","_getEndPropertyInPreviousPlayback","offsetRotate","offsetQ","multiply","jParentWorldMatrix","jParentOpacity","parentJoint","poffsetTrans","poffsetScale","poffsetRotate","poffsetQ","poffsetOpacity","jointMatrix","copy","calcJointOpacity","treeOpacity","jointParentOpacity","abs","_propagateOpacityToJointChildren","opacities","jointParentMap","applyOpacity","_updateMaterialInNode","child","animatedColor","materialId","_setNodeMaterial","getSymbolNodes","nodeId","view","getViews","symbolNodes","reduce","nodeInfos","currNode","treeNode","sid","backgroundNodeNameImageType","sphere","plane","_getBackgroundNodeInfos","currBackgroundNode","backgroundNodes","traverse","name","getSceneRef","current","all","getBackgroundImageType","setBackgroundImageType","imageType","targetBackgroundNode","find","setPosition","convertTo4x4","_resetNodesStatusByCurrentView","setVisibility","animationNodeTransition","playbacks","getPlaybacks","equalMatrices","setNodeForDisplay","nodeStartDataByAnimation","data","nodeVisible","nodeInvisible","info","getChildren","symbolNode","_startViewChangeNodeTransition","startDisplay","displaying","attachEventOnce","display","displayNodesMoving","window","requestAnimationFrame","nativeScene","channel","eventId","source","getId","playViewGroup","skipCameraTransitionAnimation","ignoreAnimationPosition","fireViewStateApplying","_prepareTransition","reset","fireViewStateApplied","publish","setHighlightDisplayState","state","playing","start","Date","now","stopped","stop","pausing","pause","_startHighlight","_playHighlight","play","fadeInNodes","fadeOutNodes","_fadeInBackground","_fadeOutBackground","visibleNodes","hiddenNodes","collectTransitionMeshes","newVisible","oldVisible","symbolContent","renderOrder","_startTransition","timeInterval","fadeInHighlight","duration","cycles","addHighlights","fadeOutHighlight","fadeOut","_playTransition","updateNodesRestTransformation","updateRestTransformation","sequence","getSequence","_fireSequenceChanged","DoNotFireSequenceChanged","restoreRestTransformation","setRestTransformation","po","ro","sc","mat","positionThree","quaternionThree","scaleThree","setRestOpacity","restoreRestOpacity","updateRestOpacity","getRestTransformationWorld","wMat","_addToTransformation","quat","quata","order","eul","threeQuatToNeutralEuler","nr","glMatrixQuatToNeutral","neutralEulerToGlMatrixQuat","makeRotationFromQuaternion","matrixa","setFromRotationMatrix","setInterpolatedRelativeValues","rtranslate","rscale","rrotate","ropacity","_setJointNodeMatrix","skipUpdateJointNode","newTransformation","jointQuaternion","jointParentMatrix","multiplyMatrices","nodeParentMatrix","updateWorldMatrix","_adjustQuaternionAndScale","subnode","matrixAutoUpdate","_getEndPropertyInLastPlayback","propertyValue","k","lastPlayback","lastSequence","_convertedFromAbsolute","getNodeBoundaryProperty","includeJointNode","pb","j","previousPlayback","_convertTracksToRelative","reversedPlayback","_conversionDoneForReversed","_conversionDone","nodesAnimation","getNodeAnimation","nodeAnimation","startT","startS","startQ","key","translateTrack","getIsAbsoluteValue","getKeysCount","getKey","updateKey","setIsAbsoluteValue","scaleTrack","opacityTrack","rotateTrack","startRMatrix","invStartRMatrix","aMatrix","rMatrix","valueType","getKeysType","e0","getModulatedAngularValue","makeRotationAxis","_getTrackKeys","track","keys","time","_setJointNodeOffsets","trackType","currentTranslation","currentScale","setTranslationKey","blockTrackChangedEvent","restTranslation","nodeMat","restTrans","offset","oldTrack","createTrack","trackValueType","isAbsoluteValue","setNodeAnimation","insertKey","newTrack","KeyValue","absoluteValue","PreviousTrack","CurrentTrack","parentMatrix1","parentMatrix2","quaternion1","quaternion2","scale1","scale2","getClosestAligned","v","v1","v2","v3","d1","dot","d2","d3","mat1","rotMat2","mat2","vx1","vy1","vz1","extractBasis","basis1","vx2","vy2","vz2","quat2","setScaleKey","restScale","nodeQuaternion","qScaleArray","setRotationKey","eulerRotation","offsetQuat","restQuat","setAxisAngleRotationKey","axisAngle","setKeysType","getTotalOpacity","_vkGetTotalOpacity","setTotalOpacity","parentTotal","setOpacityKey","_visibilityChanges","changedNodes","getScene","nodeRefToPersistentId","getSelectable","isScene","selectable","setSelectable"],"sources":["ViewStateManager-dbg.js"],"mappings":"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"}