{"version":3,"file":"NodesTransitionHelper.js","names":["sap","ui","define","THREE","Element","TransformationMatrix","NodesTransitionHelper","extend","metadata","library","properties","publicMethods","events","displaying","displayed","prototype","init","this","_viewStateManager","_nodeLocalmMatrixMap","Map","_nodeLocalMatrixMapForVisibility","_timeIntervalForDisplay","_startTimeForDisplay","destroy","apply","arguments","setViewStateManager","viewStateManager","setNodeForDisplay","node","newMatrix","set","oldMatrix","getLocalMatrix","convertTo4x3","elements","setDisappearingNode","om","nm","visible","_viewport","getViewStateManager","setVisibilityState","getNodeRef","setAppearingNode","_interpolateNodePositionForVisibility","data","interpolateCoeff","nodeRef","_interpolateNodePosition","oldTHREEMatrix","Matrix4","fromArray","convertTo4x4","oldPosition","Vector3","oldQuaternion","Quaternion","oldScale","decompose","newTHREEMatrix","newPosition","newQuaternion","newScale","position","lerpVectors","quaternion","copy","slerp","scale","translation","toArray","startDisplay","timeInterval","size","undefined","Date","now","forEach","matrices","fireDisplaying","displayNodesMoving","Math","min","pow","transforms","nodeRefs","positions","push","bind","length","setTransformation","visibility","values","clear","fireDisplayed"],"sources":["NodesTransitionHelper-dbg.js"],"mappings":"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"}