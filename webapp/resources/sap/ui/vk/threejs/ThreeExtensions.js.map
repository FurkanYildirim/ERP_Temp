{"version":3,"file":"ThreeExtensions.js","names":["sap","ui","define","abgrToColor","ObjectType","THREE","NodeContentType","ThreeUtils","Object3D","prototype","defaultEmissive","r","g","b","defaultSpecular","_vkCalculateObjectOrientedBoundingBox","computeObjectOrientedBoundingBox","this","userData","boundingBox","Box3","_vkTraverseNodeGeometry","callback","i","l","children","length","child","geometry","undefined","skipIt","_vkSetHighlightColor","colorABGR","node","highlightingColor","_vkUpdateMaterialColor","_vkSetTintColor","tintColorABGR","tintColor","_vkSetOpacity","opacity","joints","nodeJointMap","parentJointsMap","Map","forEach","joint","parent","set","jointsArray","get","push","_vkTraverseNodes","_vkUpdateMaterialOpacity","material","color","originalMaterial","map","bumpMap","alphaMap","envMap","emissiveMap","aoMap","clone","copy","emissive","specular","highlightColor","Color","fromArray","lerp","c","red","green","blue","alpha","defaultHighlightingEmissive","defaultHighlightingSpecular","transparent","hasOpacity","obj3D","currentOpacity","offsetOpacity","renderOrder","depthTest","side","DoubleSide","_vkGetTotalOpacity","_vkTraverseMeshNodes","_vkUpdate","isDetailView","childJoints","j","box3ApplyMatrix4","matrix","min","max","m","elements","cx","x","cy","y","cz","z","ex","ey","ez","tcx","tcy","tcz","tex","Math","abs","tey","tez","_expandBoundingBox","visibleOnly","ignoreDynamicObjects","ignore2DObjects","nodeBoundingBox","expandBoundingBox","rg","renderGroup","setFromPackedArray","computeBoundingBox","isEmpty","matrixWorld","isFinite","selectionBoundingBox","traverse","is2D","visible","_vkPersistentId","treeNode","sid","_vkSetNodeContentType","nodeContentType","Reference","Background","renderStage","Symbol","updateMatrix","updateMatrixWorld","direction","Vector3","setFromMatrixColumn","normalize","_vkGetNodeContentType","Camera","_vkZoomTo","margin","size","getSize","lengthSq","boxVertices","matViewProj","Matrix4","projectVector","projectBox","Box2","calcBoxProjection","camera","vertex","project","expandByPoint","Vector2","view","enabled","offsetX","width","offsetY","height","zoomScale","insideFrustum","multiplyMatrices","projectionMatrix","matrixWorldInverse","applyMatrix4","target","getCenter","dir","getWorldDirection","multiplyScalar","position","sub","isPerspectiveCamera","step","vPos1","vPos2","nj","add","isOrthographicCamera","zoom","updateProjectionMatrix","Mesh","_vkClone","clonedMesh","disposeMaterial"],"sources":["ThreeExtensions-dbg.js"],"mappings":"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"}