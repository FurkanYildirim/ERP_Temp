{"version":3,"file":"OutlineRenderer.js","names":["sap","ui","define","THREE","Log","ThreeUtils","OutlineRenderer","outlineWidth","this","_outlineWidth","_copyMaterial","MeshBasicMaterial","transparent","fog","_maskMaterial","side","DoubleSide","_outlineMaterial","ShaderMaterial","uniforms","mask","value","offset","Vector2","vertexShader","join","fragmentShader","_expandMaterial","_screenCamera","OrthographicCamera","_screenMesh","Mesh","PlaneGeometry","prototype","setOutlineWidth","width","render","renderer","scene","camera","selectedObjects","outlineColor","joints","length","size","getSize","pixelRatio","height","_renderTarget1","options","minFilter","NearestFilter","magFilter","WebGLRenderTarget","texture","generateMipmaps","_renderTarget2","nodeJointMap","parentJointsMap","Map","forEach","joint","node","parent","set","jointsArray","get","push","color","selectedMeshes","Set","addMeshNode","isMesh","add","mesh","i","selectedObject","Color","_vkTraverseNodes","oldClearColor","getClearColor","oldClearAlpha","getClearAlpha","oldAutoClear","autoClear","setClearColor","material","rt1","rt2","setRenderTarget","clear","values","next","done","Vector4","rt","map","dispose","disposeMaterial","disposeObject"],"sources":["OutlineRenderer-dbg.js"],"mappings":"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"}