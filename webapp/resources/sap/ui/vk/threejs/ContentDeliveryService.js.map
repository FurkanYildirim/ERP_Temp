{"version":3,"file":"ContentDeliveryService.js","names":["sap","ui","define","Log","ManagedObject","TotaraLoader","SceneBuilder","Material","THREE","getResourceBundle","ObjectType","ContentDeliveryService","extend","metadata","library","properties","authorizationHandler","maxActiveRequests","type","defaultValue","consumptionScenario","maxUrlLength","meshesBatchSize","materialsBatchSize","geomMeshesBatchSize","geomMeshesMaxBatchDataSize","annotationsBatchSize","tracksBatchSize","sequencesBatchSize","voxelThreshold","skipLowLODRendering","events","cameraChanged","parameters","sceneId","camera","enableEventBubbling","sceneUpdated","viewGroupUpdated","currentViewGroupId","sceneCompleted","loadingFinished","currentViewId","contentChangesProgress","percent","errorReported","error","initialViewCompleted","constructor","sId","mSettings","this","_loader","setSceneBuilder","apply","arguments","setSkipLowLODRendering","getSkipLowLODRendering","_transientSceneMap","Map","_currentNodeHierarchy","prototype","getMaxActiveRequests","setMaxActiveRequests","getConsumptionScenario","setConsumptionScenario","getMaxUrlLength","setMaxUrlLength","getMeshesBatchSize","setMeshesBatchSize","getMaterialsBatchSize","setMaterialsBatchSize","getGeomMeshesBatchSize","setGeomMeshesBatchSize","getGeomMeshesMaxBatchDataSize","setGeomMeshesMaxBatchDataSize","getAnnotationsBatchSize","setAnnotationsBatchSize","getTracksBatchSize","setTracksBatchSize","getSequencesBatchSize","setSequencesBatchSize","getVoxelThreshold","setVoxelThreshold","setProperty","uuid","replace","c","r","Math","random","v","toString","toLowerCase","initUrl","url","keepCachedData","correlationId","endsWith","that","notifyUpdate","fireSceneUpdated","notifyViewGroupUpdate","currentSceneInfo","context","getContext","id","fireViewGroupUpdated","running","getUrl","sceneBuilder","dispose","onErrorCallbacks","attach","_reportError","bind","onMaterialFinishedCallbacks","onImageFinishedCallbacks","onImageDetailsFinishedCallbacks","onViewGroupUpdatedCallbacks","setUrl","setCorrelationId","run","cleanup","Promise","resolve","fireErrorReported","_createLoadParam","reject","parentNode","contentResource","initialCamera","sceneLoaded","scene","getScene","contextParams","root","vkScene","activateView","getActivateView","enableLogger","getEnableLogger","includeAnimation","getIncludeAnimation","includeBackground","getIncludeBackground","includeHidden","getIncludeHidden","includeParametric","getIncludeParametric","includeUsageId","getIncludeUsageId","metadataFilter","getMetadataFilter","pushPMI","getPushPMI","pushViewGroups","getPushViewGroups","useSecureConnection","getUseSecureConnection","onActiveCamera","newCam","isInitialCam","getVeid","phase","fireCameraChanged","onInitialSceneFinished","initialView","node","annotations","getSceneBuilder","_annotations","loader","onSceneCompleted","fireSceneCompleted","onLoadingFinished","fireLoadingFinished","onContentChangesProgress","event","fireContentChangesProgress","source","percentage","onInitialViewCompleted","fireInitialViewCompleted","errorCallback","info","warning","JSON","stringify","getParameters","reason","getParameter","errorCode","detachErrorReported","attachErrorReported","load","nodeProxy","getNodeProxy","getNodeHierarchy","getSource","getText","request","decrementResourceCountersForDeletedTreeNode","sid","update","sids","viewId","then","result","i","replacedNodeRefs","length","fireNodeReplaced","ReplacedNodeRef","ReplacementNodeRef","replacementNodeRefs","ReplacedNodeId","ReplacementNodeId","sceneVeId","sidArray","catch","exit","loadView","requestView","view","updatedNodes","fireNodeUpdated","nodeRef","updatePlaybacks","playbackIds","loadViewGroup","viewGroupId","requestViewGroup","views","loadAnnotation","annotationId","requestAnnotation","annotation","assignMaterialToNodes","material","nodeRefs","assignToRestOfSceneTree","requestMaterial","materialRef","assignMaterial","recursive","userData","markedForNotAssigningMaterial","createNodeProxy","setMaterialRef","destroyNodeProxy","children","forEach","child","objectType","PMI","Hotspot","j","replaceMaterialOnNodes","originalMaterial","replacementMaterial","all","values","originalMaterialRef","replacementMaterialRef","replaceMaterial","childRef","Array","isArray","printLogTokens"],"sources":["ContentDeliveryService-dbg.js"],"mappings":"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"}