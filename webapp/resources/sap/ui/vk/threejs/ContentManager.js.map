{"version":3,"file":"ContentManager.js","names":["sap","ui","define","jQuery","Log","THREE","ContentManagerBase","Scene","TransformationMatrix","PerspectiveCamera","OrthographicCamera","Messages","getResourceBundle","ContentDeliveryService","ThreeUtils","ShadowContentResource","contentResource","Object","defineProperties","this","source","value","getSource","sourceType","getSourceType","sourceId","writable","name","localMatrix","children","nodeProxy","loader","builder","_shadowContentResource","ContentManager","extend","metadata","library","basePrototype","getMetadata","getParent","getClass","prototype","init","call","_shadowContentResources","exit","defaultCdsLoader","destroy","defaultMataiLoader","_handleContentChangesProgress","event","fireContentChangesProgress","phase","getParameter","percentage","_handleContentLoadingFinished","fireContentLoadingFinished","node","setCastShadow","object","isMesh","castShadow","receiveShadow","ni","length","initLights","nativeScene","lightGroup","Group","add","private","bbox","Box3","setFromObject","size","getSize","Vector3","center","getCenter","maxSize","pointLight","PointLight","color","setRGB","visible","lightColors","Color","lightDirs","l","lMax","directionalLight","DirectionalLight","copy","position","updateWorldMatrix","topLight","set","shadow","mapSize","width","height","d","camera","left","right","top","bottom","far","bias","groundGeo","PlaneGeometry","x","z","groundMat","ShadowMaterial","opacity","ground","Mesh","rotation","Math","PI","y","min","loadContent","content","contentResources","fireContentChangesStarted","scene","that","_loadContentResources","then","values","info","i","getInitialView","initialView","setInitialView","loaders","push","builders","backgroundTopColor","backgroundBottomColor","renderMode","upAxis","getSceneRef","updateMatrixWorld","_initSceneWithCDSLoaderIfExists","fireContentChangesFinished","reason","errMsg","errorText","message","getText","VIT37","summary","error","failureReason","errorMessage","_findLoader","_contentManagerResolver","settings","Promise","resolve","toLowerCase","cdsModule","require","Class","authorizationHandler","_authorizationHandler","consumptionScenario","_consumptionScenario","mataiModule","getKey","type","equals","resource","updateProperties","root","getNodeRef","getName","getSourceId","compareMatrix","identity","first","second","getLocalMatrix","matrix","fromArray","convertTo4x4","decompose","quaternion","scale","matrixWorldNeedsUpdate","toInsert","toDelete","Map","remove","key","list","get","parent","forEach","child","getDefaultNodeHierarchy","createNodeProxy","update","shadowContentResources","changes","arrayDiff","change","index","getContentResources","splice","promises","toReuse","pop","destroyNodeProxy","attachContentChangesProgress","attachContentLoadingFinished","_retryCount","load","disposeSubtree","allNodes","allGroupNodes","getAllTHREENodes","materials","geometries","has","geometry","uuid","disposeGeometry","material","disposeMaterial","userData","originalMaterial","clear","cleanup","_loader","sceneBuilder","removeContext","currentSceneInfo","id","detachContentChangesProgress","detachContentLoadingFinished","skipIt","res","all","getSceneBuilder","setSceneBuilder","attachNodeRemoving","removed","treeNode","sid","decrementResourceCountersForDeletedTreeNode","destroyContent","Array","isArray","sb","createOrthographicCamera","createPerspectiveCamera"],"sources":["ContentManager-dbg.js"],"mappings":"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"}