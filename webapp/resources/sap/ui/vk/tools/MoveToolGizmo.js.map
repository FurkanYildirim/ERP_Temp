{"version":3,"file":"MoveToolGizmo.js","names":["sap","ui","define","getResourceBundle","THREE","BufferGeometryUtils","Gizmo","MoveToolGizmoRenderer","CoordinateSystem","GizmoPlacementMode","AxisColours","AnimationTrackType","assert","Log","MoveToolGizmo","extend","metadata","library","prototype","init","apply","this","_createEditingForm","getText","_gizmoIndex","_handleIndex","_value","Vector3","_moveDelta","_viewport","_tool","_sceneGizmo","Scene","light","DirectionalLight","position","set","add","AmbientLight","_gizmo","Group","_touchAreas","_coordinateSystem","World","_placementMode","Default","_nodes","_matViewProj","Matrix4","_gizmoSize","createGizmoArrow","dir","color","touchAreas","arrowLength","lineRadius","coneHeight","coneRadius","touchRadius","multiplyScalar","material","MeshLambertMaterial","transparent","lineGeometry","CylinderGeometry","m","makeBasis","y","z","x","setPosition","clone","applyMatrix4","line","Mesh","matrixAutoUpdate","userData","coneGeometry","cone","touchGeometry","touchGeometry2","mergedGeometry","mergeBufferGeometries","createGizmoPlane","a","b","colors","Float32Array","geometry","BufferGeometry","vertices","setAttribute","Float32BufferAttribute","setIndex","MeshBasicMaterial","opacity","visible","side","DoubleSide","plane","lineVertices","Line","LineBasicMaterial","vertexColors","linewidth","window","devicePixelRatio","_axisTitles","_createAxisTitles","_line","LineSegments","frustumCulled","hasDomElement","resetValues","setScalar","setCoordinateSystem","coordinateSystem","screenSystem","Screen","gizmoObjects","children","touchObjects","show","viewport","tool","length","_updateSelection","_viewStateManager","nodesProperties","_getNodesProperties","fireEvent","hide","_cleanTempData","_updateEditingForm","getGizmoCount","Local","Parent","getTouchObject","i","_updateGizmoObjectTransformation","arrowHighlighting","highlightHandle","index","hoverMode","arrow","highlight","setHex","axisTitle","colorAttr","attributes","copyArray","needsUpdate","selectHandle","gizmoIndex","getAutoResetValues","setShouldRenderFrame","beginGesture","_beginValue","_matOrigin","matrixWorld","forEach","nodeInfo","node","matOrigin","originLocal","origin","setFromMatrixPosition","parent","matParentInv","copy","invert","_printEventInfo","event","debug","properties","name","offsetToRest","offsetToPrevious","absolute","world","restDifference","restDifferenceInCoordinates","_getOffsetToRestInCoordinateSystem","offsetInWorld","toArray","Custom","gmat","extractRotation","gmatInv","nmat","nmatInv","size","getRenderer","getSize","Vector2","camera","getCamera","getCameraRef","Vector4","mat","Matrix3","setFromMatrix4","matInv","offsetInCamera","applyMatrix3","dx","w","projectionMatrix","elements","width","dy","height","property","_getEffectiveParent","pMat","rtransform","getRelativeTransformation","offsetToRestInParent","translation","slice","offsetToPreviousInParent","sequenceOffset","_playback","_getEndPropertyInPreviousPlayback","Translate","restTrans","getRestTransformation","previous","quat","Quaternion","scale","matrix","decompose","MatPreviousTInv","makeTranslation","MatRestTInv","MatSInv","makeScale","MatRInv","makeRotationFromQuaternion","MatTOffsetToPrevious","multiply","MatTOffsetToRest","skipUpdateJointNode","_setJointNodeOffsets","offsetTranslation","_setJointNodeMatrix","joint","getRestTransformationUsingJoint","pos","sc","qu","quaternion","offsetScale","offsetQuaternion","offsetQuat","matRot","matTrans","matRest","matT","transform","getTransformation","wtrans","getTransformationWorld","_nodeUserDataMap","get","initialTranslation","restDifferenceInWorld","push","bind","endGesture","offsetInParam","fireMoved","_setOffset","offset","effParent","setFromMatrixScale","originPos","sub","pos1","pos2","Math","round","_move","setFromMatrixColumn","normalize","dot","anchorPoint","_getAnchorPoint","matInvAnchor","scaleAnchor","newPos","posAttribute","getAttribute","array","computeBoundingBox","abs","max","setRGB","addVectors","basis","_extractBasis","multiplyMatrices","matrixWorldNeedsUpdate","ignore","move","getValue","getComponent","setValue","value","setComponent","expandBoundingBox","boundingBox","_expandBoundingBox","viewStateManager","call","getEnableSnapping","getDetector","setSource","handleSelectionChanged","_getSelectionCenter","target","arguments","that","toScreenXYZ","vector","widthHalf","heightHalf","project","fromScreenXYZ","unproject","getScreenCenter","leftTop","rightTop","rightBottom","leftBottom","cornerPoints","OnScreen","viewportRect","getDomRef","getBoundingClientRect","posOnScreen","edgePos","checkOnScreen","setX","setY","some","c","ObjectCenter","center","getCenter","Box3","expandByObject","_updateGizmoTransformation","_updateAxisTitles","_getEditingFormPosition","direction","render","getMetadata","getName","renderer","matrixWorldInverse","clearDepth","l"],"sources":["MoveToolGizmo-dbg.js"],"mappings":";;;;;;AAQAA,IAAIC,GAAGC,OAAO,CACb,uBACA,sBACA,oCACA,UACA,0BACA,qBACA,uBACA,gBACA,wBACA,kBACA,gBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAoBA,IAAIC,EAAgBR,EAAMS,OAAO,gCAAuF,CACvHC,SAAU,CACTC,QAAS,eAIXH,EAAcI,UAAUC,KAAO,WAC9B,GAAIb,EAAMY,UAAUC,KAAM,CACzBb,EAAMY,UAAUC,KAAKC,MAAMC,KAC5B,CAEAA,KAAKC,mBAAmBnB,IAAoBoB,QAAQ,iBAAkB,IACtEF,KAAKG,aAAe,EACpBH,KAAKI,cAAgB,EACrBJ,KAAKK,OAAS,IAAItB,EAAMuB,QACxBN,KAAKO,WAAa,IAAIxB,EAAMuB,QAE5BN,KAAKQ,UAAY,KACjBR,KAAKS,MAAQ,KACbT,KAAKU,YAAc,IAAI3B,EAAM4B,MAC7B,IAAIC,EAAQ,IAAI7B,EAAM8B,iBAAiB,SAAU,IACjDD,EAAME,SAASC,IAAI,EAAG,EAAG,GACzBf,KAAKU,YAAYM,IAAIJ,GACrBZ,KAAKU,YAAYM,IAAI,IAAIjC,EAAMkC,aAAa,SAAU,KACtDjB,KAAKkB,OAAS,IAAInC,EAAMoC,MACxBnB,KAAKoB,YAAc,IAAIrC,EAAMoC,MAC7BnB,KAAKU,YAAYM,IAAIhB,KAAKkB,QAC1BlB,KAAKqB,kBAAoBlC,EAAiBmC,MAC1CtB,KAAKuB,eAAiBnC,EAAmBoC,QACzCxB,KAAKyB,OAAS,GACdzB,KAAK0B,aAAe,IAAI3C,EAAM4C,QAC9B3B,KAAK4B,WAAa,GAElB,SAASC,EAAiBC,EAAKC,EAAOC,GACrC,IAAIC,EAAc,GACjBC,EAAa,EACbC,EAAa,GACbC,EAAa,EACbC,EAAc,GACfP,EAAIQ,eAAe,EAAIL,GACvB,IAAIM,EAAW,IAAIxD,EAAMyD,oBAAoB,CAAET,MAAOA,EAAOU,YAAa,OAC1E,IAAIC,EAAe,IAAI3D,EAAM4D,iBAAiBT,EAAYA,EAAYD,EAAcE,EAAY,GAChG,IAAIS,GAAI,IAAI7D,EAAM4C,SAAUkB,UAAU,IAAI9D,EAAMuB,QAAQwB,EAAIgB,EAAGhB,EAAIiB,EAAGjB,EAAIkB,GAAIlB,EAAK,IAAI/C,EAAMuB,QAAQwB,EAAIiB,EAAGjB,EAAIkB,EAAGlB,EAAIgB,IACvHF,EAAEK,YAAYnB,EAAIoB,QAAQZ,gBAAgBL,EAAcE,GAAc,KACtEO,EAAaS,aAAaP,GAC1B,IAAIQ,EAAO,IAAIrE,EAAMsE,KAAKX,EAAcH,GACxCa,EAAKE,iBAAmB,MACxBF,EAAKG,SAASxB,MAAQA,EAEtB,IAAIyB,EAAe,IAAIzE,EAAM4D,iBAAiB,EAAGP,EAAYD,EAAY,GAAI,GAC7ES,EAAEK,YAAYnB,EAAIoB,QAAQZ,eAAeL,EAAcE,EAAa,KACpEqB,EAAaL,aAAaP,GAC1B,IAAIa,EAAO,IAAI1E,EAAMsE,KAAKG,EAAcjB,GACxCkB,EAAKH,iBAAmB,MACxBF,EAAKpC,IAAIyC,GAET,IAAIC,EAAgB,IAAI3E,EAAM4D,iBAAiBN,EAAc,GAAKA,EAAc,GAAKA,EAAa,GAAI,GACtGqB,EAAcP,aAAaP,GAC3B,IAAIe,EAAiB,IAAI5E,EAAM4D,iBAAiBN,EAAc,GAAKA,EAAc,GAAKA,EAAa,GAAI,GACvGO,EAAEK,YAAYnB,EAAIoB,QAAQZ,eAAeL,EAAc,KACvD0B,EAAeR,aAAaP,GAC5B,IAAIgB,EAAiB5E,EAAoB6E,sBAAsB,CAACH,EAAeC,IAC/E3B,EAAWhB,IAAI,IAAIjC,EAAMsE,KAAKO,EAAgBrB,IAE9C,OAAOa,CACR,CAEA,SAASU,EAAiBC,EAAGC,EAAGhC,GAC/B,IAAIiC,EAAS,IAAIC,aAAa,GAC9BD,EAAOF,GAAKE,EAAOD,EAAI,GAAK,EAC5BC,EAAOF,EAAI,GAAKE,EAAOD,EAAI,GAAK,GAChC,IAAIG,EAAW,IAAIpF,EAAMqF,eACzB,IAAIC,EAAW,IAAIH,aAAa,IAChCG,EAAS,EAAIN,GAAKM,EAAS,EAAIL,GAAKK,EAAS,EAAIN,GAAKM,EAAS,EAAIL,GAAK,KACxEG,EAASG,aAAa,WAAY,IAAIvF,EAAMwF,uBAAuBF,EAAU,IAC7EF,EAASK,SAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAClC,IAAIjC,EAAW,IAAIxD,EAAM0F,kBAAkB,CAAE1C,MAAO,SAAU2C,QAAS,GAAKjC,YAAa,KAAMkC,QAAS,MAAOC,KAAM7F,EAAM8F,aAC3H,IAAIC,EAAQ,IAAI/F,EAAMsE,KAAKc,EAAU5B,GACrCuC,EAAMxB,iBAAmB,MACzBwB,EAAMvB,SAASU,OAASA,EAExB,IAAIvB,EAAe,IAAI3D,EAAMqF,eAC7B,IAAIW,EAAe,IAAIb,aAAa,GACpCa,EAAahB,GAAKgB,EAAahB,EAAI,GAAKgB,EAAaf,EAAI,GAAKe,EAAaf,EAAI,GAAK,KACpFtB,EAAa4B,aAAa,WAAY,IAAIvF,EAAMwF,uBAAuBQ,EAAc,IACrFrC,EAAa4B,aAAa,QAAS,IAAIvF,EAAMwF,uBAAuBN,EAAQ,IAC5E,IAAIb,EAAO,IAAIrE,EAAMiG,KAAKtC,EAAc,IAAI3D,EAAMkG,kBAAkB,CAAEC,aAAc,KAAMzC,YAAa,KAAM0C,UAAWC,OAAOC,oBAC/HjC,EAAKE,iBAAmB,MACxBwB,EAAM9D,IAAIoC,GAEVpB,EAAWhB,IAAI,IAAIjC,EAAMsE,KAAKc,EAAU,IAAIpF,EAAM0F,kBAAkB,CAAEG,KAAM7F,EAAM8F,eAElF,OAAOC,CACR,CAGA9E,KAAKkB,OAAOF,IAAIa,EAAiB,IAAI9C,EAAMuB,QAAQ,EAAG,EAAG,GAAIjB,EAAY2D,EAAGhD,KAAKoB,cACjFpB,KAAKkB,OAAOF,IAAIa,EAAiB,IAAI9C,EAAMuB,QAAQ,EAAG,EAAG,GAAIjB,EAAYyD,EAAG9C,KAAKoB,cACjFpB,KAAKkB,OAAOF,IAAIa,EAAiB,IAAI9C,EAAMuB,QAAQ,EAAG,EAAG,GAAIjB,EAAY0D,EAAG/C,KAAKoB,cAGjFpB,KAAKkB,OAAOF,IAAI8C,EAAiB,EAAG,EAAG9D,KAAKoB,cAC5CpB,KAAKkB,OAAOF,IAAI8C,EAAiB,EAAG,EAAG9D,KAAKoB,cAC5CpB,KAAKkB,OAAOF,IAAI8C,EAAiB,EAAG,EAAG9D,KAAKoB,cAE5CpB,KAAKsF,YAActF,KAAKuF,oBACxBvF,KAAKU,YAAYM,IAAIhB,KAAKsF,aAE1B,IAAInB,EAAW,IAAIpF,EAAMqF,eACzBD,EAASG,aAAa,WAAY,IAAIvF,EAAMwF,uBAAuB,IAAIL,aAAa,GAAI,IACxFlE,KAAKwF,MAAQ,IAAIzG,EAAM0G,aAAatB,EAAU,IAAIpF,EAAMkG,mBACxDjF,KAAKwF,MAAME,cAAgB,MAC3B1F,KAAKwF,MAAMb,QAAU,MACrB3E,KAAKkB,OAAOF,IAAIhB,KAAKwF,MACtB,EAEA/F,EAAcI,UAAU8F,cAAgB,WACvC,OAAO,IACR,EAEAlG,EAAcI,UAAU+F,YAAc,WACrC5F,KAAKK,OAAOwF,UAAU,EACvB,EAEApG,EAAcI,UAAUiG,oBAAsB,SAASC,GACtD/F,KAAKqB,kBAAoB0E,EACzB,IAAIC,EAAeD,IAAqB5G,EAAiB8G,OACzD,IAAIC,EAAelG,KAAKkB,OAAOiF,SAC9BC,EAAepG,KAAKoB,YAAY+E,SACjCD,EAAa,GAAGvB,QAAUuB,EAAa,GAAGvB,QAAUuB,EAAa,GAAGvB,SAAWqB,EAC/EI,EAAa,GAAGzB,QAAUyB,EAAa,GAAGzB,QAAUyB,EAAa,GAAGzB,SAAWqB,EAC/EhG,KAAKsF,YAAYa,SAAS,GAAGxB,SAAWqB,EACxChG,KAAKG,YAAcH,KAAKI,cAAgB,CACzC,EAEAX,EAAcI,UAAUwG,KAAO,SAASC,EAAUC,GACjDvG,KAAKQ,UAAY8F,EACjBtG,KAAKS,MAAQ8F,EACbvG,KAAKyB,OAAO+E,OAAS,EACrBxG,KAAKyG,iBAAiBH,EAASI,mBAC/B,IAAIC,EAAkB3G,KAAK4G,sBAC3B5G,KAAKS,MAAMoG,UAAU,SAAU,CAAE7D,EAAG,EAAGF,EAAG,EAAGC,EAAG,EAAG4D,gBAAiBA,GAAmB,KACxF,EAEAlH,EAAcI,UAAUiH,KAAO,WAC9B9G,KAAK+G,iBAEL/G,KAAKQ,UAAY,KACjBR,KAAKS,MAAQ,KACbT,KAAKG,YAAcH,KAAKI,cAAgB,EACxCJ,KAAKgH,mBAAmB,MACzB,EAEAvH,EAAcI,UAAUoH,cAAgB,WACvC,GAAIjH,KAAKqB,oBAAsBlC,EAAiB+H,OAASlH,KAAKqB,oBAAsBlC,EAAiBgI,OAAQ,CAC5G,OAAOnH,KAAKyB,OAAO+E,MACpB,KAAO,CACN,OAAOxG,KAAKyB,OAAO+E,OAAS,EAAI,EAAI,CACrC,CACD,EAEA/G,EAAcI,UAAUuH,eAAiB,SAASC,GACjD,GAAIrH,KAAKyB,OAAO+E,SAAW,EAAG,CAC7B,OAAO,IACR,CAEAxG,KAAKsH,iCAAiCtH,KAAKoB,YAAaiG,EAAG,MAE3D,OAAOrH,KAAKoB,WACb,EAEA,IAAImG,EAAoB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAExC9H,EAAcI,UAAU2H,gBAAkB,SAASC,EAAOC,GACzD,IAAIL,EACJ,IAAKA,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACvB,IAAIM,EAAQ3H,KAAKkB,OAAOiF,SAASkB,GACjC,IAAIO,EAAYL,EAAkBE,GAAU,GAAKJ,EACjD,IAAItF,EAAQ6F,EAAY,SAAWD,EAAMpE,SAASxB,MAClD4F,EAAMpF,SAASR,MAAM8F,OAAO9F,GAC5B4F,EAAMpF,SAASmC,QAAWkD,GAAaF,EAAa,EAAI,IACxDC,EAAMxB,SAAS,GAAG5D,SAASR,MAAM8F,OAAO9F,GACxC4F,EAAMxB,SAAS,GAAG5D,SAASmC,QAAWkD,GAAaF,EAAa,EAAI,IAEpE,IAAII,EAAY9H,KAAKsF,YAAYa,SAASkB,GAC1CS,EAAUvF,SAASR,MAAM8F,OAAO9F,GAChC+F,EAAUvF,SAASmC,QAAUkD,GAAaF,EAAY,EAAI,GAC3D,CAEA,IAAKL,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACvB,IAAIvC,EAAQ9E,KAAKkB,OAAOiF,SAASkB,GACjCvC,EAAMvC,SAASoC,QAAU0C,IAAMI,EAE/B,IAAIM,EAAYjD,EAAMqB,SAAS,GAAGhC,SAAS6D,WAAWjG,MACtDgG,EAAUE,UAAUZ,IAAMI,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK3C,EAAMvB,SAASU,QAC/E8D,EAAUG,YAAc,KACxBpD,EAAMqB,SAAS,GAAG5D,SAASmC,QAAW2C,IAAMI,GAASC,EAAa,EAAI,GACvE,CACD,EAEAjI,EAAcI,UAAUsI,aAAe,SAASV,EAAOW,GACtDpI,KAAKG,YAAciI,EACnBpI,KAAKI,aAAeqH,EACpB,GAAIzH,KAAKS,MAAM4H,qBAAsB,CACpCrI,KAAK4F,aACN,CACA5F,KAAKQ,UAAU8H,sBAChB,EAEA7I,EAAcI,UAAU0I,aAAe,WACtCvI,KAAKwI,YAAcxI,KAAKK,OAAO6C,QAC/BlD,KAAKO,WAAWsF,UAAU,GAC1B7F,KAAKyI,WAAazI,KAAKkB,OAAOwH,YAAYxF,QAC1ClD,KAAKyB,OAAOkH,QAAQ,SAASC,GAC5B,IAAIC,EAAOD,EAASC,KACpBD,EAASE,UAAYD,EAAKH,YAAYxF,QACtC0F,EAASG,YAAcF,EAAK/H,SAASoC,QACrC0F,EAASI,QAAS,IAAIjK,EAAMuB,SAAU2I,sBAAsBJ,EAAKH,aACjE,GAAIG,EAAKK,OAAQ,CAChBN,EAASO,cAAe,IAAIpK,EAAM4C,SAAUyH,KAAKP,EAAKK,OAAOR,aAAaW,QAC3E,KAAO,CACNT,EAASO,aAAe,IAAIpK,EAAM4C,OACnC,CACD,EACD,EAEAlC,EAAcI,UAAUyJ,gBAAkB,SAASC,EAAOvG,EAAGF,EAAGC,EAAG4D,GAClEnH,EAAIgK,MAAMD,EAAQ,aAAe,QAAUvG,EAAI,SAAWF,EAAI,SAAWC,GACzE4D,EAAgBgC,QAAQ,SAASc,GAChCjK,EAAIgK,MAAM,SAAWC,EAAWZ,KAAKa,MACrC,GAAID,EAAWE,aAAc,CAC5BnK,EAAIgK,MAAM,mBAAqBC,EAAWE,aAAa,GAAK,KACzDF,EAAWE,aAAa,GAAK,KAC7BF,EAAWE,aAAa,GAAK,MACjC,KAAO,CACNnK,EAAIgK,MAAM,qBACX,CACA,GAAIC,EAAWG,iBAAkB,CAChCpK,EAAIgK,MAAM,uBAAyBC,EAAWG,iBAAiB,GAAK,KACjEH,EAAWG,iBAAiB,GAAK,KACjCH,EAAWG,iBAAiB,GAAK,MACrC,KAAO,CACNpK,EAAIgK,MAAM,yBACX,CACA,GAAIC,EAAWI,SAAU,CACxBrK,EAAIgK,MAAM,eAAiBC,EAAWI,SAAS,GAAK,KACjDJ,EAAWI,SAAS,GAAK,KACzBJ,EAAWI,SAAS,GAAK,MAC7B,KAAO,CACNrK,EAAIgK,MAAM,iBACX,CACA,GAAIC,EAAWK,MAAO,CACrBtK,EAAIgK,MAAM,YAAcC,EAAWK,MAAM,GAAK,KAC3CL,EAAWK,MAAM,GAAK,KACtBL,EAAWK,MAAM,GAAK,MAC1B,KAAO,CACNtK,EAAIgK,MAAM,cACX,CACA,GAAIC,EAAWM,eAAgB,CAC9BvK,EAAIgK,MAAM,qBAAuBC,EAAWM,eAAe,GAAK,KAC7DN,EAAWM,eAAe,GAAK,KAC/BN,EAAWM,eAAe,GAAK,MACnC,KAAO,CACNvK,EAAIgK,MAAM,uBACX,CACA,GAAIC,EAAWO,4BAA6B,CAC3CxK,EAAIgK,MAAM,kCAAoCC,EAAWO,4BAA4B,GAAK,KACvFP,EAAWO,4BAA4B,GAAK,KAC5CP,EAAWO,4BAA4B,GAAK,MAChD,KAAO,CACNxK,EAAIgK,MAAM,oCACX,CACD,EACD,EAEA/J,EAAcI,UAAUoK,mCAAqC,SAASpB,EAAMqB,EAAenE,GAC1F,GAAIA,IAAqB5G,EAAiBmC,MAAO,CAChD,OAAO4I,EAAcC,SACtB,MAAO,GAAIpE,IAAqB5G,EAAiBiL,OAAQ,CACxD,IAAIC,GAAO,IAAItL,EAAM4C,SAAU2I,gBAAgBtK,KAAKkB,OAAOwH,aAC3D,IAAI6B,GAAU,IAAIxL,EAAM4C,SAAUyH,KAAKiB,GAAMhB,SAC7C,OAAOa,EAAchH,QAAQC,aAAaoH,GAASJ,SACpD,MAAO,GAAIpE,IAAqB5G,EAAiB+H,MAAO,CACvD,IAAIsD,GAAO,IAAIzL,EAAM4C,SAAU2I,gBAAgBzB,EAAKH,aACpD,IAAI+B,GAAU,IAAI1L,EAAM4C,SAAUyH,KAAKoB,GAAMnB,SAC7C,OAAOa,EAAchH,QAAQC,aAAasH,GAASN,SACpD,MAAO,GAAIpE,IAAqB5G,EAAiB8G,OAAQ,CACxD,IAAIyE,EAAO1K,KAAKQ,UAAUmK,cAAcC,QAAQ,IAAI7L,EAAM8L,SAC1D,IAAIC,EAAS9K,KAAKQ,UAAUuK,YAAYC,eACxC,IAAIhC,GAAS,IAAIjK,EAAMkM,SAAU7B,KAAKpJ,KAAKkB,OAAOJ,UAAUqC,aAAanD,KAAK0B,cAC9E,IAAIwJ,GAAM,IAAInM,EAAMoM,SAAUC,eAAeN,EAAOpC,aACpD,IAAI2C,GAAS,IAAItM,EAAMoM,SAAU/B,KAAK8B,GAAK7B,SAC3C,IAAIiC,EAAiBpB,EAAchH,QAAQqI,aAAaF,GAExD,IAAIG,EAAK,EAAIxC,EAAOyC,GAAKX,EAAOY,iBAAiBC,SAAS,GAAKjB,EAAKkB,OACpE,IAAIC,EAAK,EAAI7C,EAAOyC,GAAKX,EAAOY,iBAAiBC,SAAS,GAAKjB,EAAKoB,QAEpE,MAAO,CAACR,EAAetI,EAAIwI,EAAIF,EAAexI,EAAI+I,EAAI,EACvD,CACD,EAEApM,EAAcI,UAAU+G,oBAAsB,WAC7C,IAAID,EAAkB,GACtB3G,KAAKyB,OAAOkH,QAAQ,SAASC,GAC5B,IAAIC,EAAOD,EAASC,KACpB,IAAIkD,EAAW,CAAC,EAChBA,EAASlD,KAAOA,EAChB,IAAIK,EAASlJ,KAAKgM,oBAAoBnD,GAItC,IAAIoD,EAAO,IAAIlN,EAAM4C,QAGrB,GAAIuH,IAAWL,EAAKK,OAAQ,CAC3B,IAAIgD,EAAalM,KAAKQ,UAAUkG,kBAAkByF,0BAA0BtD,GAC5EkD,EAASK,qBAAuBF,EAAWG,YAAYC,QAEvD,GAAIzD,EAAKK,OAAQ,CAChB+C,GAAO,IAAIlN,EAAM4C,SAAU2I,gBAAgBzB,EAAKK,OAAOR,YACxD,CAEAqD,EAASQ,yBAA2BR,EAASK,qBAAqBE,QAElE,IAAIE,EACJ,GAAIxM,KAAKyM,UAAW,CACnBD,EAAiBxM,KAAKQ,UAAUkG,kBAAkBgG,kCAAkC7D,EAAMvJ,EAAmBqN,UAAW3M,KAAKyM,WAC7H,GAAID,EAAgB,CACnBT,EAASQ,yBAAyB,IAAMC,EAAe,GACvDT,EAASQ,yBAAyB,IAAMC,EAAe,GACvDT,EAASQ,yBAAyB,IAAMC,EAAe,EACxD,CACD,CAEA,IAAII,EAAY5M,KAAKQ,UAAUkG,kBAAkBmG,sBAAsBhE,GACvE,IAAIiE,EAAW,CAACF,EAAUP,YAAY,GAAIO,EAAUP,YAAY,GAAIO,EAAUP,YAAY,IAC1F,GAAIG,EAAgB,CACnBM,EAAS,IAAMN,EAAe,GAC9BM,EAAS,IAAMN,EAAe,GAC9BM,EAAS,IAAMN,EAAe,EAC/B,CAEA,IAAIO,EAAO,IAAIhO,EAAMiO,WACrB,IAAIC,EAAQ,IAAIlO,EAAMuB,QACtB,IAAIQ,EAAW,IAAI/B,EAAMuB,QACzBuI,EAAKqE,OAAOC,UAAUrM,EAAUiM,EAAME,GACtC,IAAIG,GAAkB,IAAIrO,EAAM4C,SAAU0L,iBAAiBP,EAAS,IAAKA,EAAS,IAAKA,EAAS,IAChG,IAAIQ,GAAc,IAAIvO,EAAM4C,SAAU0L,iBAAiBT,EAAUP,YAAY,IAAKO,EAAUP,YAAY,IAAKO,EAAUP,YAAY,IAEnI,GAAIY,EAAMjK,IAAM,GAAOiK,EAAMnK,IAAM,GAAOmK,EAAMlK,IAAM,EAAK,CAC1DkK,EAAMjK,EAAI,EACViK,EAAMnK,EAAI,EACVmK,EAAMlK,EAAI,CACX,CACA,IAAIwK,GAAU,IAAIxO,EAAM4C,SAAU6L,UAAU,EAAIP,EAAMjK,EAAG,EAAIiK,EAAMnK,EAAG,EAAImK,EAAMlK,GAChF,IAAI0K,GAAU,IAAI1O,EAAM4C,SAAU+L,2BAA2BX,EAAK1D,UAElE,IAAIsE,EAAuBJ,EAAQrK,QAAQ0K,SAASH,GAASG,SAASR,GAAiBQ,SAAS/E,EAAKqE,QACrGS,EAAqBR,UAAUrM,EAAUiM,EAAME,GAC/ClB,EAASnC,iBAAmB9I,EAASqJ,UAErC,IAAI0D,EAAmBN,EAAQK,SAASH,GAASG,SAASN,GAAaM,SAAS/E,EAAKqE,QACrFW,EAAiBV,UAAUrM,EAAUiM,EAAME,GAC3ClB,EAASpC,aAAe7I,EAASqJ,SAClC,KAAO,CACN,GAAItB,EAAKtF,SAASuK,oBAAqB,CACtC9N,KAAKQ,UAAUkG,kBAAkBqH,qBAAqBlF,EAAMvJ,EAAmBqN,UAChF,CAEA,GAAI9D,EAAKtF,UAAYsF,EAAKtF,SAASyK,kBAAmB,CACrDjC,EAASK,qBAAuBvD,EAAKtF,SAASyK,kBAAkB1B,OACjE,KAAO,CACNP,EAASK,qBAAuB,CAAC,EAAG,EAAG,EACxC,CACAL,EAASQ,yBAA2BR,EAASK,qBAAqBE,QAElE,GAAIzD,EAAKtF,SAASuK,oBAAqB,CACtCjF,EAAKtF,SAASuK,oBAAsB,MACpC9N,KAAKQ,UAAUkG,kBAAkBuH,sBACjCpF,EAAKtF,SAASuK,oBAAsB,IACrC,CAEA,IAAII,EAAQlO,KAAKQ,UAAUkG,kBAAkByH,gCAAgCtF,GAE7E,IAAIuF,EAAM,IAAIrP,EAAMuB,QACpB,IAAI+N,EAAK,IAAItP,EAAMuB,QAAQ4N,EAAMjB,MAAM,GAAIiB,EAAMjB,MAAM,GAAIiB,EAAMjB,MAAM,IACvE,IAAIqB,EAAK,IAAIvP,EAAMiO,WAAWkB,EAAMK,WAAW,GAAIL,EAAMK,WAAW,GAAIL,EAAMK,WAAW,GAAIL,EAAMK,WAAW,IAC9G,GAAI1F,EAAKtF,SAASiL,YAAa,CAC9BH,EAAGrL,GAAK6F,EAAKtF,SAASiL,YAAY,GAClCH,EAAGvL,GAAK+F,EAAKtF,SAASiL,YAAY,GAClCH,EAAGtL,GAAK8F,EAAKtF,SAASiL,YAAY,EACnC,CACA,GAAI3F,EAAKtF,SAASkL,iBAAkB,CACnC,IAAIC,EAAa,IAAI3P,EAAMiO,WAAWnE,EAAKtF,SAASkL,iBAAiB,GACpE5F,EAAKtF,SAASkL,iBAAiB,GAC/B5F,EAAKtF,SAASkL,iBAAiB,GAC/B5F,EAAKtF,SAASkL,iBAAiB,IAChCH,EAAGV,SAASc,EACb,CACA,IAAIC,GAAS,IAAI5P,EAAM4C,SAAU+L,2BAA2BY,GAC5D,IAAIM,GAAW,IAAI7P,EAAM4C,SAAU0L,gBAAgBa,EAAM7B,YAAY,GAAI6B,EAAM7B,YAAY,GAAI6B,EAAM7B,YAAY,IAEjH,IAAIwC,EAAU3F,EAAOR,YAAYxF,QAAQ0K,SAASgB,GAAUhB,SAASe,GAAQ1B,MAAMoB,GACnF,IAAIS,GAAO,IAAI/P,EAAM4C,SAAUyH,KAAKyF,GAASxF,SAASuE,SAAS/E,EAAKH,aAEpEoG,EAAK3B,UAAUiB,EAAKE,EAAID,GACxBtC,EAASnC,iBAAmBwE,EAAIjE,UAChC4B,EAASpC,aAAeyE,EAAIjE,SAC7B,CAEA,IAAI4E,EAAY/O,KAAKQ,UAAUkG,kBAAkBsI,kBAAkBnG,GACnEkD,EAASlC,SAAW,CAACkF,EAAU1C,YAAY,GAAI0C,EAAU1C,YAAY,GAAI0C,EAAU1C,YAAY,IAE/F,IAAI4C,EAASjP,KAAKQ,UAAUkG,kBAAkBwI,uBAAuBrG,GACrEkD,EAASjC,MAAQmF,EAAO5C,YAExB,IAAI9I,EACJ,GAAIvD,KAAKmP,iBAAkB,CAC1B5L,EAAWvD,KAAKmP,iBAAiBC,IAAIvG,EACtC,CAEA,GAAItF,GAAYA,EAAS8L,mBAAoB,CAC5CtD,EAAShC,eAAiB,CAACgF,EAAU1C,YAAY,GAAK9I,EAAS8L,mBAAmB,GAClFN,EAAU1C,YAAY,GAAK9I,EAAS8L,mBAAmB,GACvDN,EAAU1C,YAAY,GAAK9I,EAAS8L,mBAAmB,IACvD,GAAIrP,KAAKqB,oBAAsBlC,EAAiBgI,OAAQ,CACvD4E,EAAS/B,4BAA8B+B,EAAShC,eAAeuC,OAChE,KAAO,CACN,IAAIgD,EAAwB,IAAIvQ,EAAMuB,QAAQyL,EAAShC,eAAe,GAAIgC,EAAShC,eAAe,GAAIgC,EAAShC,eAAe,IAAI5G,aAAa8I,GAC/IF,EAAS/B,4BAA8BhK,KAAKiK,mCAAmCpB,EAAMyG,EAAuBtP,KAAKqB,kBAClH,CACD,CACAsF,EAAgB4I,KAAKxD,EACtB,EAAEyD,KAAKxP,OAEP,OAAO2G,CACR,EAEAlH,EAAcI,UAAU4P,WAAa,WACpCzP,KAAKwF,MAAMb,QAAU,MACrB,IAAIgC,EAAkB3G,KAAK4G,sBAC3B,IAAI8I,EAAgB1P,KAAKO,WAAW2C,QACpC,GAAIlD,KAAKqB,oBAAsBlC,EAAiBiL,OAAQ,CACvD,IAAIC,GAAO,IAAItL,EAAM4C,SAAU2I,gBAAgBtK,KAAKkB,OAAOwH,aAC3D,IAAI6B,GAAU,IAAIxL,EAAM4C,SAAUyH,KAAKiB,GAAMhB,SAC7CqG,EAAcvM,aAAaoH,EAC5B,QACOvK,KAAKwI,YAEZxI,KAAKyB,OAAOkH,QAAQ,SAASC,GAC5B,IAAIC,EAAOD,EAASC,KACpB,GAAIA,EAAKtF,SAAU,QACXsF,EAAKtF,SAASuK,mBACtB,CACA9N,KAAKQ,UAAUkG,kBAAkBqH,qBAAqBlF,EAAMvJ,EAAmBqN,UAChF,EAAE6C,KAAKxP,OAEPA,KAAKS,MAAMkP,UAAU,CAAE3M,EAAG0M,EAAc1M,EAAGF,EAAG4M,EAAc5M,EAAGC,EAAG2M,EAAc3M,EAAG4D,gBAAiBA,IACpG3G,KAAKsJ,gBAAgB,gBAAiBoG,EAAc1M,EAAG0M,EAAc5M,EAAG4M,EAAc3M,EAAG4D,EAC1F,EAEAlH,EAAcI,UAAU+P,WAAa,SAASC,EAAQzH,GACrD,GAAIpI,KAAKqB,oBAAsBlC,EAAiB+H,OAASlH,KAAKqB,oBAAsBlC,EAAiBgI,OAAQ,CAE5G,IAAIyB,EAAW5I,KAAKyB,OAAO2G,GAC3B,IAAIS,EAAOD,EAASC,KACpB,IAAIiH,EAAY9P,KAAKgM,oBAAoBnD,GACzC,GAAI7I,KAAKqB,oBAAsBlC,EAAiBgI,QAAU2I,EAAW,CACpEjH,EAAOiH,CACR,CACA,IAAIzE,GAAS,IAAItM,EAAM4C,SAAUyH,KAAKP,EAAKH,aAAaW,SACxD,IAAI4D,GAAQ,IAAIlO,EAAMuB,SAAUyP,mBAAmBlH,EAAKH,aACxD,IAAIsH,EAAYpH,EAASI,OAAO9F,QAAQC,aAAakI,GACrDwE,EAASjH,EAASI,OAAO9F,QAAQlC,IAAI6O,GAAQ1M,aAAakI,GAAQ4E,IAAID,GAAWpC,SAASX,EAC3F,MAAO,GAAIjN,KAAKqB,oBAAsBlC,EAAiB8G,OAAQ,CAE9D,IAAIyE,EAAO1K,KAAKQ,UAAUmK,cAAcC,QAAQ,IAAI7L,EAAM8L,SAC1D,IAAIqF,EAAOlQ,KAAKkB,OAAOJ,SAASoC,QAAQC,aAAanD,KAAK0B,cAC1D,IAAIyO,EAAOnQ,KAAKkB,OAAOJ,SAASoC,QAAQlC,IAAI6O,GAAQ1M,aAAanD,KAAK0B,cACtEmO,EAAO9O,IAAIqP,KAAKC,OAAOF,EAAKnN,EAAIkN,EAAKlN,GAAK,GAAM0H,EAAKkB,OAAQwE,KAAKC,OAAOF,EAAKrN,EAAIoN,EAAKpN,GAAK,GAAM4H,EAAKoB,QAAS,EACjH,CAEA,IAAInF,EAAkB3G,KAAK4G,sBAC3B,IAAI8I,EAAgBG,EAAO3M,QAC3B,GAAIlD,KAAKqB,oBAAsBlC,EAAiBiL,OAAQ,CACvD,IAAIC,GAAO,IAAItL,EAAM4C,SAAU2I,gBAAgBtK,KAAKkB,OAAOwH,aAC3D,IAAI6B,GAAU,IAAIxL,EAAM4C,SAAUyH,KAAKiB,GAAMhB,SAC7CqG,EAAcvM,aAAaoH,EAC5B,CACA,GAAIvK,KAAKS,MAAMoG,UAAU,SAAU,CAAE7D,EAAG0M,EAAc1M,EAAGF,EAAG4M,EAAc5M,EAAGC,EAAG2M,EAAc3M,EAAG4D,gBAAiBA,GAAmB,MAAO,CAC3I3G,KAAKsJ,gBAAgB,iBAAkBoG,EAAc1M,EAAG0M,EAAc5M,EAAG4M,EAAc3M,EAAG4D,GAC1F3G,KAAKsQ,MAAMT,GAEX,GAAI7P,KAAKqB,oBAAsBlC,EAAiB8G,OAAQ,CAEvD4J,EAAO9O,KAAI,IAAIhC,EAAMuB,SAAUiQ,oBAAoBvQ,KAAKyI,WAAY,GAAG+H,YAAYC,IAAIZ,IACtF,IAAI9Q,EAAMuB,SAAUiQ,oBAAoBvQ,KAAKyI,WAAY,GAAG+H,YAAYC,IAAIZ,GAC5E,EACF,MAAO,GAAI7P,KAAKqB,oBAAsBlC,EAAiBiL,OAAQ,CAC9D,IAAIsG,EAAc1Q,KAAK2Q,kBACvB,GAAID,EAAa,CAChB,IAAIE,GAAe,IAAI7R,EAAM4C,SAAUyH,KAAKsH,EAAYhI,aAAaW,SACrE,IAAIwH,GAAc,IAAI9R,EAAMuB,SAAUyP,mBAAmBW,EAAYhI,aACrE,IAAIoI,EAASJ,EAAY5P,SAASoC,QAAQC,aAAayN,GACvDf,EAAOzG,KAAKsH,EAAY5P,SAASoC,QAAQlC,IAAI6O,GAAQ1M,aAAayN,GAAcX,IAAIa,GAAQlD,SAASiD,GACtG,CACD,CAGA,IAAIE,EAAe/Q,KAAKwF,MAAMrB,SAAS6M,aAAa,YACpDD,EAAaE,MAAMlQ,IAAI8O,EAAOvN,gBAAgB,GAAG6H,WACjD4G,EAAa7I,YAAc,KAC3BlI,KAAKwF,MAAMrB,SAAS+M,qBACpBrB,EAAO9O,IAAIqP,KAAKe,IAAItB,EAAO7M,GAAIoN,KAAKe,IAAItB,EAAO/M,GAAIsN,KAAKe,IAAItB,EAAO9M,IACnE8M,EAAOvN,eAAe,EAAI8N,KAAKgB,IAAIvB,EAAO7M,EAAG6M,EAAO/M,EAAG+M,EAAO9M,IAC9D/C,KAAKwF,MAAMjD,SAASR,MAAMsP,OAAOxB,EAAO7M,EAAG6M,EAAO/M,EAAG+M,EAAO9M,GAC5D/C,KAAKwF,MAAMb,QAAU,IACtB,CACD,EAEAlF,EAAcI,UAAUyQ,MAAQ,SAAST,GACxC7P,KAAKK,OAAOiR,WAAWtR,KAAKwI,YAAaqH,GACzC7P,KAAKO,WAAW6I,KAAKyG,GAErB7P,KAAKyB,OAAOkH,QAAQ,SAASC,GAC5B,IAAIC,EAAOD,EAASC,KACpB,IAAKA,EAAKtF,SAAU,CACnBsF,EAAKtF,SAAW,CAAC,CAClB,CACAsF,EAAKtF,SAASuK,oBAAsB,IACrC,GAEA,GAAI9N,KAAKqB,oBAAsBlC,EAAiB+H,OAASlH,KAAKqB,oBAAsBlC,EAAiBgI,OAAQ,CAC5GnH,KAAKyB,OAAOkH,QAAQ,SAASC,GAC5B,IAAIC,EAAOD,EAASC,KACpB,IAAIiH,EAAY9P,KAAKgM,oBAAoBnD,GACzC,IAAI0I,EAAQ,KACZ,GAAIvR,KAAKqB,oBAAsBlC,EAAiBgI,QAAU2I,EAAW,CACpEyB,EAAQvR,KAAKwR,cAAc1B,EAAUpH,YACtC,KAAO,CACN6I,EAAQvR,KAAKwR,cAAc3I,EAAKH,YACjC,CACA,IAAI0F,EAAMxF,EAASI,OAAO9F,QAC1BkL,EAAIpN,IAAIuQ,EAAM,GAAGjP,eAAeuN,EAAO7M,IAAIhC,IAAIuQ,EAAM,GAAGjP,eAAeuN,EAAO/M,IAAI9B,IAAIuQ,EAAM,GAAGjP,eAAeuN,EAAO9M,IACrH8F,EAAKH,YAAYzF,YAAYmL,GAC7BvF,EAAKqE,OAAOuE,iBAAiB7I,EAASO,aAAcN,EAAKH,aACzDG,EAAK/H,SAASmI,sBAAsBJ,EAAKqE,QACzCrE,EAAK6I,uBAAyB,IAC/B,EAAElC,KAAKxP,MACR,KAAO,CACN,GAAIA,KAAKqB,oBAAsBlC,EAAiB8G,OAAQ,CAEvD,IAAIyE,EAAO1K,KAAKQ,UAAUmK,cAAcC,QAAQ,IAAI7L,EAAM8L,SAC1D,IAAIC,EAAS9K,KAAKQ,UAAUuK,YAAYC,eACxC,IAAIhC,GAAS,IAAIjK,EAAMkM,SAAU7B,KAAKpJ,KAAKkB,OAAOJ,UAAUqC,aAAanD,KAAK0B,cAC9E,IAAI8J,EAAKqE,EAAO7M,EAAI,EAAIgG,EAAOyC,GAAKX,EAAOY,iBAAiBC,SAAS,GAAKjB,EAAKkB,OAC/E,IAAIC,EAAKgE,EAAO/M,EAAI,EAAIkG,EAAOyC,GAAKX,EAAOY,iBAAiBC,SAAS,GAAKjB,EAAKoB,QAC/E+D,EAAOU,oBAAoBzF,EAAOpC,YAAa,GAAGpG,eAAekJ,GACjEqE,EAAO7O,KAAI,IAAIjC,EAAMuB,SAAUiQ,oBAAoBzF,EAAOpC,YAAa,GAAGpG,eAAeuJ,GAC1F,CAEA7L,KAAKkB,OAAOJ,SAASmI,sBAAsBjJ,KAAKyI,YAAYzH,IAAI6O,GAChE,GAAI7P,KAAKqB,oBAAsBlC,EAAiBiL,OAAQ,CAEvD,IAAIsG,EAAc1Q,KAAK2Q,kBACvB,GAAID,EAAa,CAChBA,EAAY5P,SAASsI,KAAKpJ,KAAKkB,OAAOJ,SACvC,CACD,CACAd,KAAKyB,OAAOkH,QAAQ,SAASC,GAC5B,IAAKA,EAAS+I,OAAQ,CACrB,IAAI9I,EAAOD,EAASC,KACpBA,EAAKH,YAAYzF,YAAY2F,EAASI,OAAO9F,QAAQlC,IAAI6O,IACzDhH,EAAKqE,OAAOuE,iBAAiB7I,EAASO,aAAcN,EAAKH,aACzDG,EAAK/H,SAASmI,sBAAsBJ,EAAKqE,QACzCrE,EAAK6I,uBAAyB,IAC/B,CACD,EACD,CAEA1R,KAAKQ,UAAU8H,sBAChB,EAEA7I,EAAcI,UAAU+R,KAAO,SAAS5O,EAAGF,EAAGC,GAC7C/C,KAAKuI,eACL,GAAIvI,KAAKqB,oBAAsBlC,EAAiBiL,OAAQ,CACvD,IAAIyF,EAAS,IAAI9Q,EAAMuB,QAAQ0C,EAAGF,EAAGC,GACrC,IAAIsH,GAAO,IAAItL,EAAM4C,SAAU2I,gBAAgBtK,KAAKkB,OAAOwH,aAC3DmH,EAAO1M,aAAakH,GACpBrH,EAAI6M,EAAO7M,EACXF,EAAI+M,EAAO/M,EACXC,EAAI8M,EAAO9M,CACZ,CACA/C,KAAKsQ,MAAM,IAAIvR,EAAMuB,QAAQ0C,EAAGF,EAAGC,GAAK,GACzC,EAEAtD,EAAcI,UAAUgS,SAAW,WAClC,OAAQ7R,KAAKG,aAAe,GAAKH,KAAKI,cAAgB,GAAKJ,KAAKI,aAAe,EAAKJ,KAAKK,OAAOyR,aAAa9R,KAAKI,cAAgB,CACnI,EAEAX,EAAcI,UAAUkS,SAAW,SAASC,GAC3C,GAAIhS,KAAKG,aAAe,GAAKH,KAAKI,cAAgB,GAAKJ,KAAKI,aAAe,EAAG,CAC7EJ,KAAKuI,eACLvI,KAAKsQ,OAAM,IAAIvR,EAAMuB,SAAU2R,aAAajS,KAAKI,aAAc4R,EAAQhS,KAAKK,OAAOyR,aAAa9R,KAAKI,gBACrGJ,KAAKyP,YACN,CACD,EAEAhQ,EAAcI,UAAUqS,kBAAoB,SAASC,GACpD,GAAInS,KAAKQ,UAAW,CACnBR,KAAKoS,mBAAmBD,EAAanS,KAAKQ,UAAUuK,YAAYC,eAAgB,KACjF,CACD,EAEAvL,EAAcI,UAAU4G,iBAAmB,SAAS4L,GACnDpT,EAAMY,UAAU4G,iBAAiB6L,KAAKtS,KAAMqS,GAE5C,GAAIrS,KAAKS,MAAM8R,oBAAqB,CACnCvS,KAAKS,MAAM+R,cAAcC,UAAUJ,EAAkBrS,KAAKQ,UAC3D,CACD,EAEAf,EAAcI,UAAU6S,uBAAyB,SAASnJ,GACzD,GAAIvJ,KAAKQ,UAAW,CACnBR,KAAKyG,iBAAiBzG,KAAKQ,UAAUkG,mBACrC,IAAIC,EAAkB3G,KAAK4G,sBAC3B5G,KAAKS,MAAMoG,UAAU,SAAU,CAAE7D,EAAG,EAAGF,EAAG,EAAGC,EAAG,EAAG4D,gBAAiBA,GAAmB,MACvF3G,KAAKG,YAAcH,KAAKI,cAAgB,CACzC,CACD,EAEAX,EAAcI,UAAU8S,oBAAsB,SAASC,GACtD3T,EAAMY,UAAU8S,oBAAoB5S,MAAMC,KAAM6S,WAEhD,IAAIC,EAAO9S,KAEX,SAAS+S,EAAYC,EAAQlI,EAAQc,EAAOE,GAC3C,IAAImH,EAAarH,EAAQ,EACzB,IAAIsH,EAAcpH,EAAS,EAC3BkH,EAAOG,QAAQrI,GACfkI,EAAOhQ,EAAKgQ,EAAOhQ,EAAIiQ,EAAaA,EACpCD,EAAOlQ,IAAMkQ,EAAOlQ,EAAIoQ,GAAcA,EACtC,OAAOF,CACR,CAGA,SAASI,EAAcJ,EAAQlI,EAAQc,EAAOE,GAC7C,IAAImH,EAAarH,EAAQ,EACzB,IAAIsH,EAAcpH,EAAS,EAC3BkH,EAAOhQ,GAAKgQ,EAAOhQ,EAAIiQ,GAAaA,EACpCD,EAAOlQ,IAAMkQ,EAAOlQ,EAAIoQ,GAAcA,EACtCF,EAAOK,UAAUvI,GACjB,OAAOkI,CACR,CAGA,SAASM,EAAgBxI,EAAQc,EAAOE,GACvC,IAAIyH,EAAU,IAAIxU,EAAMuB,QAAQwS,EAAKlR,WAAYkR,EAAKlR,WAAY,GAClE,IAAI4R,EAAW,IAAIzU,EAAMuB,QAAQsL,EAAQkH,EAAKlR,WAAYkR,EAAKlR,WAAY,GAC3E,IAAI6R,EAAc,IAAI1U,EAAMuB,QAAQsL,EAAQkH,EAAKlR,WAAYkK,EAASgH,EAAKlR,WAAY,GACvF,IAAI8R,EAAa,IAAI3U,EAAMuB,QAAQwS,EAAKlR,WAAYkK,EAASgH,EAAKlR,WAAY,GAE9E,IAAI+R,EAAe,CAClBP,EAAcG,EAASzI,EAAQc,EAAOE,GACtCsH,EAAcI,EAAU1I,EAAQc,EAAOE,GACvCsH,EAAcK,EAAa3I,EAAQc,EAAOE,GAC1CsH,EAAcM,EAAY5I,EAAQc,EAAOE,IAE1C,OAAO6H,EAAa,GAAG3S,IAAI2S,EAAa,IAAI3S,IAAI2S,EAAa,IAAI3S,IAAI2S,EAAa,IAAIrR,eAAe,IACtG,CAGA,GAAItC,KAAKuB,iBAAmBnC,EAAmBwU,SAAU,CACxD,IAAIC,EAAe7T,KAAKQ,UAAUsT,YAAYC,wBAC9C,IAAInI,EAAQiI,EAAajI,MACzB,IAAIE,EAAS+H,EAAa/H,OAC1B,IAAIhB,EAAS9K,KAAKQ,UAAUuK,YAAYC,eACxC,IAAIgJ,EAAcjB,EAAYH,EAAO1P,QAAS4H,EAAQc,EAAOE,GAC7D,IAAImI,EAAUD,EAAY9Q,QAG1B,IAAIgR,EAAgB,CAEnBD,EAAQjR,EAAIhD,KAAK4B,YAAcqS,EAAQE,KAAKrB,EAAKlR,aAEjDqS,EAAQjR,EAAI4I,EAAQ5L,KAAK4B,YAAcqS,EAAQE,KAAKvI,EAAQkH,EAAKlR,YAEjEqS,EAAQnR,EAAI9C,KAAK4B,YAAcqS,EAAQG,KAAKtB,EAAKlR,aAEjDqS,EAAQnR,EAAIgJ,EAAS9L,KAAK4B,YAAcqS,EAAQG,KAAKtI,EAASgH,EAAKlR,aAClEyS,KAAK,SAASC,GAAK,OAAOA,IAAM,KAAO,IAAM1B,EAAOxJ,KAAKgK,EAAca,EAASnJ,EAAQc,EAAOE,IAGjG,OAAOkI,EAAYjR,EAAI,GAAO6P,EAAOxJ,KAAKkK,EAAgBxI,EAAQc,EAAOE,KAAYoI,GAAiBtB,CAEvG,MAAO,GAAI5S,KAAKuB,iBAAmBnC,EAAmBmV,cAAgBvU,KAAKyB,OAAO+E,SAAW,EAAG,CAC/F,IAAIgO,EAAS,IAAIzV,EAAMuB,QACvB,GAAIN,KAAKyB,OAAO,GAAGoH,KAAKtF,SAAS4O,YAAa,CAC7CnS,KAAKyB,OAAO,GAAGoH,KAAKtF,SAAS4O,YAAYsC,UAAUD,EACpD,KAAO,CACN,IAAIrC,EAAc,IAAIpT,EAAM2V,KAC5BvC,EAAYwC,eAAe3U,KAAKyB,OAAO,GAAGoH,MAC1CsJ,EAAYsC,UAAUD,EACvB,CACA5B,EAAOxJ,KAAKoL,EAAOrR,aAAanD,KAAKyB,OAAO,GAAGoH,KAAKH,aACrD,CACD,EAEAjJ,EAAcI,UAAU+U,2BAA6B,SAASvN,EAAGyD,GAChE,IAAImC,EAAQjN,KAAKsH,iCAAiCtH,KAAKkB,OAAQmG,EAAG,MAClErH,KAAK6U,kBAAkB7U,KAAKsF,YAAatF,KAAKkB,OAAQ4J,EAAQ9K,KAAK4B,WAAa,GAAIqL,GACpFjN,KAAKwF,MAAMyH,MAAMpH,UAAU,GAAK7F,KAAK4B,WAAaqL,GACnD,EAEAxN,EAAcI,UAAUiV,wBAA0B,WACjD,IAAI7H,EAAQjN,KAAKsH,iCAAiCtH,KAAKkB,OAAQlB,KAAKG,YAAa,MACjF,IAAI4U,GAAY,IAAIhW,EAAMuB,SAAUiQ,oBAAoBvQ,KAAKkB,OAAOwH,YAAa1I,KAAKI,cAAcoQ,YACpG,OAAOuE,EAAU7R,QAAQZ,gBAAgBtC,KAAK4B,WAAa,IAAMqL,GAAOjM,IAAIhB,KAAKkB,OAAOJ,UAAUqC,aAAanD,KAAK0B,aACrH,EAEAjC,EAAcI,UAAUmV,OAAS,WAChCzV,EAAOS,KAAKQ,WAAaR,KAAKQ,UAAUyU,cAAcC,YAAc,6BAA8B,yDAElG,GAAIlV,KAAKyB,OAAO+E,OAAS,EAAG,CAC3B,IAAI2O,EAAWnV,KAAKQ,UAAUmK,cAC7BG,EAAS9K,KAAKQ,UAAUuK,YAAYC,eAErChL,KAAK0B,aAAa+P,iBAAiB3G,EAAOY,iBAAkBZ,EAAOsK,oBAEnED,EAASE,aAET,IAAK,IAAIhO,EAAI,EAAGiO,EAAItV,KAAKiH,gBAAiBI,EAAIiO,EAAGjO,IAAK,CACrDrH,KAAK4U,2BAA2BvN,EAAGyD,GACnCqK,EAASH,OAAOhV,KAAKU,YAAaoK,EACnC,CACD,CAEA9K,KAAKgH,mBAAmBhH,KAAKyB,OAAO+E,OAAS,GAAKxG,KAAKG,aAAe,GAAKH,KAAKI,cAAgB,GAAKJ,KAAKI,aAAe,EAAGJ,KAAKI,aAClI,EAEA,OAAOX,CAER"}