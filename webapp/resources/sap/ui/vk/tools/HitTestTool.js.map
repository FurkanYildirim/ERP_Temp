{"version":3,"file":"HitTestTool.js","names":["sap","ui","define","Tool","HitTestToolHandler","HitTestIdMode","THREE","HitTestTool","extend","metadata","library","properties","IdMode","type","defaultValue","ThreeJS","events","hit","parameters","id","object","point","clickType","constructor","sId","mSettings","_instance","apply","this","arguments","setToolid","_viewport","_handler","_loco","prototype","init","call","setFootprint","setActive","value","activeViewport","gizmoContainer","_prepare","_removeLocoHandler","_addLocoHandler","okToExec","isViewportType","_dvl","_dvlRendererId","_scene","getSceneRef","queueCommand","command","Renderer","_queueCommand","hitTest","x","y","scene","camera","hitResult","_renderer","element","domElement","mouse","Vector2","offsetLeft","clientWidth","offsetTop","clientHeight","raycaster","Raycaster","setFromCamera","getCameraRef","intersects","intersectObjects","children","length","i","result","parent","userData","closed","skipIt","visible","isBillboard","isDetailView","ret","idResult","getIdMode","VEsID","nodeRefToPersistentId","fireHit"],"sources":["HitTestTool-dbg.js"],"mappings":"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"}