{"version":3,"file":"RotateToolGizmo.js","names":["sap","ui","define","THREE","Gizmo","RotateToolGizmoRenderer","RotatableAxis","CoordinateSystem","AxisColours","AnimationTrackType","AnimationTrackValueType","GizmoPlacementMode","assert","Log","RotateToolGizmo","extend","metadata","library","prototype","init","apply","this","_createEditingForm","String","fromCharCode","_gizmoIndex","_handleIndex","_value","Vector3","_rotationDelta","_viewport","_tool","_sceneGizmo","Scene","_gizmo","Group","_touchAreas","add","_axis","All","_coordinateSystem","World","_nodes","_matViewProj","Matrix4","_gizmoSize","createGizmoCircle","axis","color","radius","segments","geometry","TorusGeometry","rotateY","Math","PI","rotateX","circle","Mesh","MeshBasicMaterial","transparent","matrixAutoUpdate","userData","createTouchCircle","opacity","i","AxesHelper","arcMaterial","side","DoubleSide","_arcMesh","BufferGeometry","visible","_axisTitles","_createAxisTitles","hasDomElement","setAxis","value","RotatableAxises","X","Y","Z","Screen","children","resetValues","setScalar","setCoordinateSystem","coordinateSystem","screenSystem","show","viewport","tool","length","_updateSelection","_viewStateManager","nodesProperties","_getNodesProperties","fireEvent","x","y","z","_prepareForCreatingRotationKey","animationPlayer","time","playbackIndex","forEach","nodeInfo","nodeRef","node","euler","setTime","data","getAnimatedProperty","Rotate","offsetToPrevious","_nodeUserDataMap","Map","get","set","eulerInParentCoors","Euler","startEulerInParentCoors","bind","playback","getCurrentPlayback","_prepareForCreatingKey","hide","_cleanTempData","_updateEditingForm","getGizmoCount","Local","Parent","getTouchObject","_updateGizmoObjectTransformation","highlightHandle","index","hoverMode","arrow","material","setHex","axisTitle","selectHandle","gizmoIndex","getAutoResetValues","setShouldRenderFrame","beginGesture","_beginValue","clone","_matOrigin","matrixWorld","parent","updateMatrixWorld","matOrigin","matLocalOrigin","matrix","matParentInv","copy","invert","quaternion","_printEventInfo","event","debug","properties","name","offsetToRest","offsetToRestInCoordinates","absolute","world","restDifference","restDifferenceInCoordinates","property","offsetEuler","offsetQ","Quaternion","setFromEuler","_playback","sequenceOffset","_getEndPropertyInPreviousPlayback","sequenceOffsetQ","multiply","w","transform","getTransformation","wtrans","getTransformationWorld","wq","we","setFromQuaternion","quatInitialDiffInv","quat","push","endGesture","startEuler","Custom","skipUpdateJointNode","_setJointNodeOffsets","fireRotated","getNearestRotation","original","target","abs","rotateFromRestPosition","MathUtils","degToRad","ni","nc","ignore","radToDeg","restTrans","getRestTransformationUsingJoint","restQuaternion","_getEffectiveParent","offsetQuaternion","_setJointNodeMatrix","updateMatrix","rotateRestPosition","currentMat","currentMatInv","matRest","matRestInv","offsetMat","makeRotationFromQuaternion","offsetRotationMatInParent","offsetMInParent","quatInitialDiff","currentE","setFromRotationMatrix","matInitialDiff","decompose","position","scale","_updateEulerForCreatingAnimationKey","aboutSingleAxis","rTrans","getRelativeTransformation","em","sm","offsetQInParent","offsetMatInParent","offsetRotationMat","_rotate","addVectors","toArray","angle","axisIndex","charCodeAt","setFromMatrixColumn","normalize","matRotate","makeRotationAxis","pos","setFromMatrixPosition","setPosition","sub","applyMatrix4","setFromMatrixScale","localAxis","transformDirection","setFromAxisAngle","_setRotationAxisAngle","angle1","angle2","deltaAngle","vertices","dir","i1","i2","n","max","ceil","a","setComponent","cos","sin","indices","geom","setIndex","setAttribute","Float32BufferAttribute","rotate","_getValueLocaleOptions","useGrouping","minimumFractionDigits","maximumFractionDigits","getValue","getComponent","setValue","expandBoundingBox","boundingBox","_expandBoundingBox","getCamera","getCameraRef","viewStateManager","call","getEnableSnapping","getDetector","setSource","handleSelectionChanged","_getLevelingQuaternion","objectIndex","anchorPoint","_getAnchorPoint","_getObjectSize","Box3","isEmpty","size","getSize","_updateGizmoTransformation","camera","_updateAxisTitles","_getEditingFormPosition","direction","multiplyScalar","render","getMetadata","getName","renderer","getRenderer","multiplyMatrices","projectionMatrix","matrixWorldInverse","clearDepth","l"],"sources":["RotateToolGizmo-dbg.js"],"mappings":"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"}