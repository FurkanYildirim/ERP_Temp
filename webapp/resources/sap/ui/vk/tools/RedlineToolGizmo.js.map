{"version":3,"file":"RedlineToolGizmo.js","names":["sap","ui","define","Gizmo","RedlineToolGizmoRenderer","RedlineToolGizmo","extend","metadata","library","aggregations","redlineElements","type","activeElement","multiple","visibility","prototype","init","apply","this","_activeElement","_virtualLeft","_virtualTop","_virtualSideLength","show","getParent","_viewport","attachEvent","_onResize","addStyleClass","hide","detachEvent","removeStyleClass","_startAdding","elementInstance","setAggregation","_stopAdding","addElement","element","vk","RedlineElementLine","getLength","destroy","addRedlineElement","getEditable","RedlineElementText","_createdTextElement","editTextElement","fireElementCreated","_toVirtualSpace","x","y","arguments","length","_toPixelSpace","getDomRef","rerender","_getPanningRatio","clientRect","getBoundingClientRect","height","width","selectText","domRef","_textEditingElement","childNodes","blur","_nextElementSibling","nextElementSibling","parentNode","appendChild","focus","select","onBeforeRendering","viewport","virtualViewportSize","getOutputSize","left","top","sideLength","onAfterRendering","that","attachTextEventHandlers","textArea","onfocus","event","style","background","backdropFilter","resize","overflow","onblur","scrollTop","setWidth","parseFloat","Math","max","scrollHeight","setHeight","insertBefore","onchange","setText","value","addEventListener","stopPropagation","getRedlineElements","forEach","onkeydown","setMarked"],"sources":["RedlineToolGizmo-dbg.js"],"mappings":"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"}