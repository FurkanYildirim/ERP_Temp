{"version":3,"file":"ScaleToolHandler.js","names":["sap","ui","define","EventProvider","Menu","MenuItem","getResourceBundle","THREE","CoordinateSystem","ScaleToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_rayCaster","Raycaster","_handleIndex","_gizmoIndex","_handleAxis","Vector3","_handleDirection","_gizmoOrigin","_mouse","Vector2","_mouseOrigin","_originScale","_objectSize","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","setFromCamera","getCamera","getCameraRef","_updateHandles","hoverMode","prevHandleIndex","n","type","i","l","getGizmoCount","touchObj","getTouchObject","intersects","intersectObjects","children","length","indexOf","object","setFromMatrixPosition","matrixWorld","setFromMatrixColumn","normalize","_getObjectScale","_getObjectSize","scale","axis1","axis2","addVectors","highlightHandle","setShouldRenderFrame","hover","_inside","_gesture","handled","click","selectHandle","_getAxisOffset","ray","dir","clone","cross","direction","delta","origin","sub","dot","_getPlaneOffset","dist","multiplyScalar","beginGesture","set","_dragOrigin","move","getEnableSnapping","getDetector","detect","viewport","_viewport","gizmo","detectType","setScalar","getNonUniformScaleEnabled","setComponent","dy","z","isFinite","getEnableStepping","scaleStep","Math","pow","round","log10","max","_setScale","endGesture","undefined","contextMenu","getAllowContextMenu","menu","items","text","getText","key","World","Local","Screen","Custom","itemSelected","item","getParameters","setCoordinateSystem","getKey","bind","openAsContextMenu","_getOffset","obj","rectangle","getBoundingClientRect","p","left","window","pageXOffset","top","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["ScaleToolHandler-dbg.js"],"mappings":"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"}