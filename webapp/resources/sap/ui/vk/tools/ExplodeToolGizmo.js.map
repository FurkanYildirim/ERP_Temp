{"version":3,"file":"ExplodeToolGizmo.js","names":["sap","ui","define","getResourceBundle","THREE","BufferGeometryUtils","Gizmo","AxisColours","ExplodeAxis","ExplodeDirection","ExplodeType","AnimationTrackType","assert","Log","core","ExplodeToolGizmo","extend","metadata","library","GIZMO_SIZE","TOUCH_RADIUS","HANDLES","PositiveX","PositiveY","PositiveZ","NegativeX","NegativeY","NegativeZ","ResetAdjustment","AdjustUp","AdjustDown","MoveUp","MoveDown","prototype","init","apply","this","_createEditingForm","getText","_moveDelta","Vector3","_anchorPosition","_axisDirection","_axisColor","_magnitude","_viewport","_tool","_groups","_nodes","_groupsMap","Map","_sceneGizmo","Scene","ambientLight","AmbientLight","layers","enableAll","add","directionalLight","DirectionalLight","position","set","_gizmo","Group","_touchAreas","_touchAreas2","_matViewProj","Matrix4","touchMaterial","MeshLambertMaterial","color","transparent","opacity","createGizmoArrow","arrowLength","dir","touchAreas","lineRadius","coneRadius","coneHeight","material","lineGeometry","CylinderGeometry","d1","y","z","x","d2","m","makeBasis","setPosition","clone","multiplyScalar","applyMatrix4","line","Mesh","matrixAutoUpdate","userData","coneGeometry","cone","touchGeometry","parameters","height","touchGeometry2","mergedGeometry","mergeBufferGeometries","_axisTitles","_createAxisTitles","undefined","d","_groupGizmo","sphere","IcosahedronGeometry","dconeHeight","doubleCone","rotateX","Math","PI","MeshBasicMaterial","side","BackSide","addTouchCylinder","a","b","enableAllLayer","obj","traverse","child","updateLayers","children","forEach","index","node","enable","min","hasDomElement","show","viewport","tool","length","_handleGroupsChanged","hide","_cleanTempData","_updateEditingForm","getGizmoCount","_getActiveAxisIndex","_getSelectedItem","getTouchObject","i","_updateGizmoObjectTransformation","_updateGroupGizmoTransformation","event","_setMagnitude","groupsMap","clear","getItems","slice","nodes","group","items","getNodeRef","boundingBox","Box3","_expandBoundingBox","push","center","getCenter","local","setFromMatrixPosition","matrix","origin","matrixWorld","matParentInv","parent","copy","invert","_calculateGroupOffsets","getMagnitude","byId","getSelectedItem","_handleSelectedItemChanged","vsm","_viewStateManager","outlined","Set","selectedItem","item","unoutlined","enumerateOutlinedNodes","has","setOutliningStates","Array","from","highlightHandle","hoverMode","_handleIndex","arrow","highlight","setHex","bind","axisDirection","getType","Linear","abs","size","totalLength","bbox","getBoundingBox","_center","getSize","dot","_offset","_deltaOffset","offsetScale","delta","maxSize","maxNodeCenter","manhattanLength","axis","getAxis","direction","getDirection","X","Y","Z","indexOf","Negative","_recalculateOffsets","setShouldRenderFrame","_updateAxis","setFromMatrixColumn","normalize","_moveSelectedGroup","removeItem","insertItem","fireItemSequenceChangePressed","moveUp","_setMagnitudeAdjustmentMultiplier","value","finalValue","setMagnitudeAdjustmentMultiplier","_updatePositions","magnitudeAdjustmentMultiplier","getMagnitudeAdjustmentMultiplier","_beginGesture","setScalar","_beginMagnitude","_magnitudeAdjustmentMultiplier","setAxis","setDirection","Positive","fireAxisSelected","magnitude","_setOffset","offset","setMagnitude","fireMagnitudeChanging","type","linear","nodeInfo","sub","multiplyMatrices","updateMatrixWorld","_getEffectiveParent","_setJointNodeOffsets","Translate","_endGesture","fireMagnitudeChanged","fireItemPositionAdjusted","expandBoundingBox","getCamera","getCameraRef","fromArray","getAnchor","decompose","quaternion","scale","_getGizmoScale","axisIndex","visible","setFromUnitVectors","updateMatrix","_updateGizmoTransformation","camera","_getCameraLayersMask","mask","render","getMetadata","getName","renderer","getRenderer","projectionMatrix","matrixWorldInverse","clearDepth","_updateAxisTitles"],"sources":["ExplodeToolGizmo-dbg.js"],"mappings":"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"}