{"version":3,"file":"SceneBuilder.js","names":["sap","ui","define","Log","Element","Ellipse","Rectangle","Line","Polyline","Path","Text","Image","LinearGradient","OrthographicCamera","View","NodeContentType","NavigationMode","TransformationMatrix","getResourceBundle","TotaraUtils","colorToCSSColor","SceneBuilder","rootNode","contentResource","resolve","reject","this","_rootNode","_contentResource","_resolve","_reject","_cameras","Map","_sceneIdTreeNodesMap","_sceneIdRootNodeMap","_materialMap","_annotationsMap","_annotationNodesMap","_materialNodesMap","_nodes","_viewGroups","_views","_viewThumbnails","_geometries","_geometryMeshes","_meshNodes","_meshSubmeshes","_images","_imageTextures","_fillStyles","_lineStyles","_textStyles","_joints","_yIndex","_materialsByTextureImageId","nodeProxy","getNodeProxy","nodeHierarchy","getNodeHierarchy","_vkScene","getScene","source","getSource","name","set","_currentSceneId","userData","skipIt","getName","prototype","setScene","info","result","err","status","errorText","getText","matrix","upAxis","camera","get","cameraId","JSON","stringify","node","backgroundTopColor","backgroundBottomColor","builder","setRootNode","nodeId","sceneId","vkScene","sid","setNodePersistentId","nodeRef","_resetCurrentScene","cleanup","clear","getNode","contextIterator","values","contextItem","next","done","value","nodes","createCamera","cameraInfo","setUpDirection","Array","isArray","up","setZoomFactor","zoom","setPosition","origin","id","getCamera","hasMesh","meshId","has","hasImage","imageId","hasAnnotation","annotationId","findBestLOD","lods","i","length","type","undefined","setMeshNode","_setMeshNode","setModelViewVisibilitySet","setAnimationPlaybacks","loadingFinished","createThumbnail","view","thumbnailData","window","btoa","String","fromCharCode","apply","data","_fireThumbnailLoaded","modelView","insertSubmesh","submeshInfo","lod","boundingBox","geometry","ni","_addGeometryToNode","pushElementIntoMapArray","getViewGroup","viewGroupId","viewGroup","views","vi","viewId","push","insertViewGroup","createViewGroup","description","setViewGroupId","setName","setDescription","metadata","veids","NavigationModes","turntable","Turntable","orbit","Orbit","pan","Pan","Zoom","insertView","viewInfo","createView","aspectRatio","safeAreaAspectRatio","autoPlayAnimation","navigationMode","NoChange","dimension","thumbnailId","imageData","setCamera","flyToTime","preDelay","postDelay","topColor","_getSavedColor","topColour","localStorage","getItem","setTopColor","bottomColor","bottomColour","setBottomColor","query","addView","getView","setViewCamera","getChildNodeIds","includeMeshNode","ids","children","child","treeNode","setViewNodeInfos","nodeInfos","setNodeInfos","finalizeViewGroups","entries","removeViews","setVoxelThreshold","voxelThreshold","getVoxelThreshold","createNode","nodeInfo","transform","convertTo3x2","usageIds","parametricId","setVisible","visible","visualisable","joints","forEach","joint","parent","parentSid","jointNodes","concat","viewBox","parentId","add","contentType","_vkSetNodeContentType","Hotspot","Annotation","preferMeshes","createAnnotation","attributes","annotation","getAnnotation","createImageNote","remove","nodeIds","that","target","delete","_getMatrixFromBoundingBox","Float32Array","Math","max","Number","EPSILON","materialId","material","_getMaterial","indices","points","isPositionQuantized","i0","i1","i2","l","segments","isPolyline","Object","assign","lineColor","lineWidth","path","isTriangleMesh","materialID","fillStyle","colour","color","subelement","uid","setGeometry","geomInfo","geometryMeshes","mi","_fireSceneUpdated","submeshes","DEFAULT_T","DEFAULT_R","DEFAULT_S","getTransformationMatrix","shape","_compose","t","r","s","setParametricContent","parametricContent","warning","shapes","_createObject","polarToCartesian","cx","cy","rx","ry","angle","cos","sin","stroke_id","lineStyle","fill_id","gradient","fillURL","style_id","style","textStyles","major","radius","minor","start","end","PI","short","abs","clockwise","po","label","j","imageNode","removeNode","createMaterial","materialInfo","textureIds","lineColour","width","haloWidth","lineHaloWidth","endCapStyle","lineEndRound","dashPattern","lineDashPattern","dashPatternScale","lineDashPatternScale","widthCoordinateSpace","lineWidthCoordinateSpace","emissiveColour","opacity","textureEmissive","textureImageId","texture","textureInfo","imageIdsToLoad","Set","textureWidth","textureHeight","height","nodeIdsToUpdate","setMaterial","_createTemporaryMaterial","checkMaterialExists","temporaryMaterialNeeded","materialNeeded","content","updateViewsForReplacedNodes","insertFillStyle","veid","insertLineStyle","insertTextStyle","textStyle","uint8ArrayToString","uint8Array","finalString","CHUNK_SIZE","index","slice","min","e","createImage","imageInfo","binaryData","dv","DataView","buffer","isPng","getUint8","parseInt","imageDataStr","dataUri","materialsAwaitingTexture","m","size","bind","setViewThumbnail","tileWidth","viewInfoColor","settingColor","red","floor","green","blue","alpha","computeMeshPriority","submeshBBoxes"],"sources":["SceneBuilder-dbg.js"],"mappings":"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"}