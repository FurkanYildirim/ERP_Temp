{"version":3,"file":"ControlPersonalizationWriteAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Element","FlexState","VariantUtils","ControlVariantApplyAPI","FlexRuntimeInfoAPI","ChangeHandlerStorage","Settings","ChangesWriteAPI","FlexControllerFactory","Layer","Utils","mChangeCreationListeners","checkChangeSpecificData","oChange","sLayer","changeSpecificData","Promise","reject","Error","changeType","selectorControl","sControlType","getMetadata","getName","getChangeHandler","getRelevantVariantManagementReference","oAppComponent","oControl","bUseStaticArea","sVMControlId","getRelevantVariantManagementControlId","getSelector","id","logAndReject","sMessage","error","ControlPersonalizationWriteAPI","add","mPropertyBag","changes","length","resolve","oReferenceControl","selectorElement","getAppComponentForControl","sFlexReference","getFlexReference","element","oFlexController","createForControl","oVariantModel","getModel","getVariantModelName","USER","aSuccessfulChanges","createChanges","aChanges","reduce","pPromise","oPersonalizationChange","then","transient","ignoreVariantManagement","variantReference","sVariantManagementReference","useStaticArea","sCurrentVariantReference","oData","currentVariant","Object","assign","developerMode","layer","create","selector","oCreatedChange","addPreparedChange","push","changeInstance","catch","oError","message","applyChanges","setQueuedForApply","apply","change","oResult","success","deleteChange","initialize","componentId","getId","forEach","fnCallback","reset","selectors","appComponent","aSelectorIds","map","vControl","sControlId","sLocalId","getLocalId","isInitialized","control","resetChanges","undefined","changeTypes","restore","removeDirtyChanges","generator","save","saveSequenceOfDirtyChanges","buildSelectorFromElementIdAndType","elementId","elementType","controlType","isCondensingEnabled","getInstance","oSettings","attachChangeCreation","concat","detachChangeCreation","Array","isArray","filter","fnRegisteredCallback","detachAllChangeCreationListeners"],"sources":["ControlPersonalizationWriteAPI-dbg.js"],"mappings":"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"}