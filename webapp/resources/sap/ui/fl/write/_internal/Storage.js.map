{"version":3,"file":"Storage.js","names":["sap","ui","define","StorageUtils","StorageFeaturesMerger","States","ObjectPath","WRITE_CONNECTOR_NAME_SPACE","_getWriteConnectors","getConnectors","findConnectorConfigForLayer","sLayer","aConnectors","aFilteredConnectors","filter","oConnector","layers","indexOf","length","Error","_sendLoadFeaturesToConnector","aConnectorPromises","map","oConnectorConfig","writeConnectorModule","loadFeatures","url","then","oFeatures","features","catch","logAndResolveDefault","bind","Promise","all","_getConnectorConfigByLayer","reject","this","_validateDraftScenario","mPropertyBag","draft","resolve","require","FeaturesAPI","isVersioningEnabled","layer","bDraftEnabled","findChangeCreateIndex","oCurrentChange","aCondensedChanges","aNewChanges","oInnerChange","getState","LifecycleState","NEW","getFileType","iChangeCreateIndex","findIndex","oNewChange","getId","prepareCondensingForConnector","mCondense","allChanges","condensedChanges","namespace","convertToFileContent","iOffset","bAlreadyReordered","forEach","oChange","index","sFileType","condenserState","bDifferentOrder","PERSISTED","DELETED","delete","push","aReorderedChanges","slice","reorder","create","update","iChangeUpdateIndex","content","getContent","_executeActionByName","sActionName","undefined","get","call","Storage","write","condense","oCreatedChanges","change","flexObjects","oResult","status","aResponse","Object","values","pop","response","remove","reset","getFlexInfo","getContexts","loadContextDescriptions","isContextSharingEnabled","mergeResults","publish","contextBasedAdaptation","load","writeChange","versions","activate","discardDraft","translation","getSourceLanguages","getTexts","postTranslationTexts"],"sources":["Storage-dbg.js"],"mappings":"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"}