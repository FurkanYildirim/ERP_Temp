{"version":3,"file":"VariantModel.js","names":["sap","ui","define","_omit","_isEqual","each","includes","isEmptyObject","merge","ObjectPath","Log","JsControlTreeModifier","BusyIndicator","Core","Reverter","URLHandler","FlexObjectFactory","Switcher","VariantManagementState","VariantUtil","Layer","LayerUtils","Utils","Settings","ContextBasedAdaptationsAPI","JSONModel","_mUShellServices","variantSelectHandler","oEvent","mPropertyBag","executeAfterSwitch","mParameters","mVariantProperties","oModel","model","sVMReference","vmReference","bVariantSwitch","bOldVariantWasModified","get","oData","sTargetVReference","key","sSourceVReference","Promise","resolve","then","currentVariant","originalCurrentVariant","updateCurrentVariant","variantManagementReference","newVariantReference","appComponent","oAppComponent","internallyCalled","aControlChanges","getControlChangesForVariant","reference","sFlexReference","vReference","eraseDirtyChanges","changes","revert","callVariantSwitchListeners","bind","getParameters","aVariantDirtyChanges","_getDirtyChangesFromVariantChanges","reverse","revertMultipleChanges","modifier","flexController","oFlexController","undefined","forEach","oChange","deleteChange","fnCallback","_oVariantSwitchPromise","catch","setVariantSwitchPromise","setUShellService","sServiceName","oService","switchVariantAndUpdateModel","sScenario","switchVariant","this","updateVariantInURL","newVReference","updatePersonalVariantPropertiesWithFlpSettings","oVariant","oSettings","getInstanceOrUndef","isVariantPersonalizationEnabled","remove","rename","change","updatePublicVariantPropertiesWithSettings","bUserIsAuthorized","isKeyUser","getUserId","isPublicFlVariantEnabled","toUpperCase","author","isVariantValidForRemove","sVariantManagementReference","bDesignTimeModeToBeSet","sLayer","getCurrentLayer","USER","layer","waitForControlToBeRendered","oControl","getDomRef","addEventDelegate","onAfterRendering","initUshellServices","oUShellContainer","getUshellContainer","aServicePromises","getUShellService","all","aServices","vError","Error","setOriginalVariantProperties","originalTitle","title","originalFavorite","favorite","originalExecuteOnSelect","executeOnSelect","originalVisible","visible","originalContexts","contexts","getVariant","aVariants","sVariantKey","find","oCurrentVariant","VariantModel","extend","constructor","pSequentialImportCompleted","apply","sharing","PRIVATE","PUBLIC","oChangePersistence","_oChangePersistence","getComponentName","_oResourceBundle","getLibraryResourceBundle","_oVariantAppliedListeners","fnUpdateListener","updateData","oDataSelector","getVariantManagementMap","addUpdateListener","prototype","oNewVariantsMap","oCurrentData","Object","assign","getData","entries","sVariantManagementKey","oVariantMapEntry","variants","map","oCurrentVariantData","oVariantToCheck","defaultVariant","originalDefaultVariant","modified","setData","invalidateMap","checkUpdate","initialize","getInstance","mProperties","currentVReference","call","scenario","getCurrentVariantReference","getVariantManagementReference","sVariantReference","iIndex","keys","some","sKey","index","variantIndex","getVariantTitle","handleInitialLoadScenario","oVariantManagementControl","oVariantChangesForVariant","getVariantChangesForVariant","sDefaultVariantReference","getExecuteOnSelectionForStandardDefault","setExecuteOnSelect","oStandardVariant","instance","setExecuteOnSelection","attachVariantApplied","byId","vmControlId","getVariantManagementReferenceForControl","waitForVMControlInit","bInitialLoad","callAfterInitialVariant","waitForInitialVariantChanges","sCurrentVariantReference","callback","control","getRelevantVariantManagementControlId","getVariantManagementControlIds","showExecuteOnSelection","getId","error","sNewVariantReference","createScenario","sControlId","detachVariantApplied","sVMControlId","eraseDirtyChangesOnVariant","aSourceVariantChanges","aSourceVariantDirtyChanges","addAndApplyChangesOnVariant","aChanges","reduce","oPreviousPromise","addPreparedChange","getControlIdBySelector","getSelector","applyChange","_getVariantTitleCount","sNewText","iCount","toLowerCase","createNewVariant","oSourceVariant","id","variantName","adaptationId","getFlexObjectMetadata","generator","currentVariantComparison","sourceVariantSource","getLayer","variantReference","getVariantReference","sourceVariantReference","createFlVariant","_duplicateVariant","sSourceVariantReference","aVariantChanges","oVariantChange","convertToFileContent","compareAgainstCurrentLayer","mContextBasedAdaptationBag","bHasAdaptationsModel","hasAdaptationsModel","getDisplayedAdaptationId","oDuplicateVariant","controlChanges","variantChanges","slice","oDuplicateChangeData","aSameLayerChanges","support","sourceChangeFileName","fileName","packageName","createDefaultFileName","changeType","push","createFromFileContent","copyVariant","oDuplicateVariantData","sAuthor","VENDOR","setFavorite","oChangeProperties","selector","fileType","content","createBaseChange","concat","addDirtyChange","removeVariant","aChangesToBeDeleted","getDirtyChanges","filter","variant","component","collectModelChanges","aModelVariants","sLayerOfChange","manageVariants","sClass","oContextSharingComponentPromise","attachEventOnce","fnManageClickRta","openManagementDialog","addVariantChange","mAdditionalChangeContent","setVariantProperties","mNewChangeData","setContent","setText","deleteVariantChange","oVariantInstance","setName","createdByReset","setVisible","setContexts","aHashParameters","getStoredHashParams","indexOf","update","parameters","updateURL","_bDesignTimeMode","updateHashEntry","splice","_ensureStandardVariantExists","oVMDataSection","oVMDataSectionWithoutInit","oStandardVariantInstance","getText","user","DEFAULT_AUTHOR","BASE","addFakeStandardVariant","setModelPropertiesForControl","showFavorites","bOriginalMode","clearAllVariantURLParameters","fnManageClick","_initializeManageVariantsEvents","detachManage","_isEditable","variantsEditable","attachManage","aConfiguredChanges","aConfigurationChangesContent","saveDirtyChanges","handleDirtyChanges","aCopiedVariantDirtyChanges","saveSequenceOfDirtyChanges","oResponse","oResponseData","response","_handleSaveEvent","getSource","_handleSave","getAppComponentForControl","getLocalId","aNewVariantDirtyChanges","bSetDefault","def","bSetExecuteOnSelect","execute","overwrite","sVariantLayer","public","sVariantChangeLayer","name","mPropertyBagSetDefault","oSetDefaultChange","mPropertyBagSetExecute","oSetExecuteChange","sId","switchToDefaultForVariantManagement","show","hide","switchToDefaultForVariant","sVariantId","registerToModel","getEditable","attachEvent","attachSave","sUpdateURL","getUpdateVariantInURL","registerControl","handleModelContextChange","vmControl","initPromise","resolveFunction","init","promise","aChangeFileNames","getSavedToVariant","getCurrentControlVariantIds","aCurrentVariants","aVMControlIds","createId","destroy","removeUpdateListener","clearFakeStandardVariants"],"sources":["VariantModel-dbg.js"],"mappings":"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"}