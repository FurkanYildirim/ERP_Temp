{"version":3,"file":"BaseValueListProvider.js","names":["sap","ui","define","library","EventProvider","ODataType","MetadataAnalyser","FormatUtil","DateTimeUtil","Log","Token","Filter","FilterOperator","TableUtil","isEmptyObject","DisplayBehaviour","smartfilterbar","ANALYTICAL_PARAMETER_PREFIX","BaseValueListProvider","extend","constructor","mParams","call","this","sFieldName","fieldName","oControl","control","oODataModel","model","oFilterModel","filterModel","oFilterProvider","filterProvider","sDisplayFormat","displayFormat","_oDateFormatSettings","dateFormatSettings","_aValidationPromises","sContext","context","fnAsyncWritePromise","_selectedODataRowHandler","selectedODataRowHandler","hasOwnProperty","_fieldViewMetadata","fieldViewMetadata","sValueListEntitySetName","bResolveInOutParams","resolveInOutParams","sDisplayBehaviour","displayBehaviour","sDDLBDisplayBehaviour","auto","sDefaultDropDownDisplayBehaviour","descriptionOnly","_sType","type","_sMaxLength","maxLength","sPropertyTypePath","_resolvePropertyPath","loadAnnotation","fullyQualifiedFieldName","_oMetadataAnalyser","metadataAnalyser","_sFullyQualifiedFieldName","_attachAnnotationLoadOnRender","error","_onAnnotationLoad","primaryValueListAnnotation","annotation","additionalAnnotations","prototype","oBeforeRenderingEventDelegate","onBeforeRendering","removeEventDelegate","_bValueListRequested","bInitialised","_onMetadataInitialised","sAggregationName","bTypeAheadEnabled","$","_loadAnnotation","addEventDelegate","oAfterRenderingEventDelegate","_bCleanupMetadataAnalyser","getValueListAnnotation","then","bind","oError","_oError","debug","Promise","resolve","sBindingContextPath","hasValueListRelevantQualifiers","getBindingContext","getPath","getValueListAnnotationLazy","attachValueListChanged","fnFunction","oListener","attachEvent","detachValueListChanged","detachEvent","mValueList","oAnnotation","oPrimaryValueListAnnotation","_resolveAnnotationData","_fBaseValueListProviderResolve","primaryValueListAnnotationWithPVQualifier","Array","isArray","length","additionalAnnotationsWithPVQualifier","concat","oBindingInfo","getBindingInfo","sPath","sProperty","aPaths","parts","path","split","replace","iLen","i","aCols","oField","aHighImportanceFields","sValueListsDDLBDisplayBehaviour","bSupportBasicSearch","isSearchSupported","sValueListTitle","valueListTitle","qualifier","sKey","keyField","_aKeys","keys","valueListEntitySetName","mInParams","inParams","mOutParams","outParams","mConstParams","constParams","_getValueListsDDLBDisplayBehaviour","sTokenDisplayBehaviour","sDefaultTokenDisplayBehaviour","descriptionAndId","sSingleFieldDisplayBehaviour","sDefaultSingleFieldDisplayBehaviour","descriptionField","idOnly","sDescription","_aCols","_aCombinedDescriptionColNames","aSelect","valueListFields","_aHighImportanceCols","visible","oColumnConfig","_getColumnConfigFromField","indexOf","push","name","deprecationCodeField","oValueListKeyProperty","find","oValueListField","fullName","getTextArrangementValue","includes","sType","oType","oConstraints","oFormatOptions","sDescriptionName","getDescriptionFieldName","sFieldMaxLength","sDescriptionLabel","sDescriptionMaxLength","iSpaceBetweenCombinedColumns","vTemplate","bIsTimezone","getIsTimezoneProperty","oDateTimeWithTimezoneType","precision","scale","isCalendarDate","hasTextArrangementAnnotation","idAndDescription","oDescriptionField","fieldLabel","Object","assign","parseInt","isTimezone","getType","showDate","showTime","description","descriptionLabel","label","tooltip","quickInfo","suggestionsWidth","calcColumnWidth","width","headerGap","template","sort","sortable","undefined","sorted","sortOrder","_getFilterData","oData","oFilterData","_oSmartFilter","getFilterData","forEach","sName","_setFilterData","mFilterOutputData","setFilterData","_adaptPropertyValue","sValueListFieldName","sValue","sRetValue","Date","isNaN","fields","oProperty","some","oProp","utcToLocal","isDigitSequence","oRegex","RegExp","test","_calculateFilterInputData","sLocalFieldName","oBindingContext","sConstFieldName","mFilterInputData","aFilterField","getData","_isFieldHiddenInFilterBar","ranges","sPathToResolve","getProperty","oFilterBar","oFilterItem","_getFilterItemByName","getVisibleInFilterBar","_calculateAndSetFilterOutputData","aData","sFieldDescription","oExistingData","oNewData","fFilterItemDuplicates","fFilterRangeDuplicates","fFilterItemInRangesDuplicates","oItem","key","oRange","value1","operation","getTime","oFieldViewMetadata","_getFieldMetadata","sDescriptionKey","oValue","bAddAsRange","hasValueListAnnotation","UTC","exclude","value2","text","getFormattedExpressionFromDisplayBehaviour","items","oFieldData","filter","fireEvent","changes","setData","_calculateAndSetODataModelOutputData","mChangedFields","setProperty","jQuery","_handleRowsSelect","aDataModelRow","j","sText","oToken","aTokens","aCurrentTokens","oCurrentToken","addToken","getTokens","data","sCurrentKey","getKey","splice","setTokens","readData","aInput","aFilters","sInput","_oReadPromise","toUpperCase","EQ","read","filters","success","oResponseData","response","results","isA","_getUpdatedDataModelRows","oErrorResponse","aCurrentKeys","aResult","sRowKey","_addValidationPromise","oPromise","iPromiseIndex","oCurrPromise","bIsAdded","finally","_removeValidationPromise","iIndex","_getCurrentValidationPromises","aCurrentValidationPromises","_isMultiFilterField","_getDisplayBehaviour","setValue","oBinding","getBinding","setSelectedValue","destroy","apply","arguments","bIsDestroyed"],"sources":["BaseValueListProvider-dbg.js"],"mappings":"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"}