{"version":3,"file":"ColumnsController.js","names":["sap","ui","define","BaseController","MLibrary","CompLibrary","Util","merge","ColumnsController","extend","constructor","sId","mSettings","apply","this","arguments","setType","P13nPanelType","columns","setItemType","metadata","properties","triggerModelChangeOnColumnInvisible","type","group","defaultValue","events","afterColumnsModelDataChange","prototype","setTable","oTable","getTableType","personalization","TableType","ResponsiveTable","oColumnResizerPlugin","findElements","oElement","isA","detachColumnResize","_onColumnResize","attachColumnResize","AnalyticalTable","Table","TreeTable","detachColumnMove","_onColumnMove","detachColumnVisibility","_onColumnVisibility","attachColumnMove","attachColumnVisibility","_monkeyPatchTable","getColumn2Json","oColumn","sColumnKey","iIndex","columnKey","index","visible","getVisible","width","getWidth","undefined","total","getSummed","getAdditionalData2Json","oJsonData","fixedColumnCount","getFixedColumnCount","showDetails","getColumn2JsonTransient","sText","sTooltip","text","tooltip","handleIgnore","oJson","columnsItems","syncJson2Table","getTable","oColumnKey2ColumnMap","getColumnMap","fireBeforePotentialTableChange","_applyChangesToUiTableType","_applyChangesToMTableType","fireAfterPotentialTableChange","getDataSuiteFormat2Json","oDataSuiteFormat","createControlDataStructure","fnAddProperty","sPropertyName","oPropertyValue","getIndexByKey","length","splice","getControlDataInitial","filter","oMItem","forEach","Visualizations","aLineItemVisualizations","oVisualization","Type","Content","oContent","Value","aColumnWidthVisualizations","Width","Total","getDataSuiteFormatSnapshot","oControlDataTotal","getUnionData","getControlData","aColumnsItemsContainingTotal","oColumnsItem","map","aColumnsItemsVisible","sort","_sortByIndex","push","Label","aColumnWidthItems","oEvent","iNewPos","getParameter","getColumnKey","oControlData","aColumnsItems","iIndexTo","iIndexFrom","iStep","_sortAdaptationData","findIndex","oItem","aMItem","_swapIndexes","updateControlDataBaseFromJson","fireAfterColumnsModelDataChange","_updateInternalModel","_onColumnTotal","oParams","column","isSummed","_onColumnFixedCount","iFixedColumnCount","getInternalModel","setProperty","vPropertyValue","getPanel","oPayload","iVisibleItemsThreshold","visibleItemsThreshold","Promise","resolve","require","P13nColumnsPanel","P13nItem","P13nColumnsItem","items","path","template","beforeNavigationTo","setModelFunction","changeColumnsItems","oControlDataReduce","getControlDataReduce","setControlDataReduce2Model","_enhanceForStableKeys","fireAfterPotentialModelChange","json","bind","oItem1","oItem2","_quickSortPartition","aColumns","iStartIndex","iEndIndex","i","iPartitionIndex","oPivot","_quickSort","iInitialStartIndex","iInitialEndIndex","aStack","pop","_sortIndexesByOrder","Number","isInteger","iLastVisibleColumnIndex","retrieveAdaptationUI","SelectionPanel","aP13nData","getAdaptationData","oSelectionPanel","showHeader","enableCount","fieldColumn","getCore","getLibraryResourceBundle","getText","setP13nData","_oListControl","setMultiSelectMode","oPanel","aMapped","attachChange","oChangeEvt","getSource","getP13nData","oP13nItem","oP13nColumnItem","name","position","oNew","_transformAdaptationData","oReduce","oTransient","oAdaptationItem","a","b","oColumnsItemsMap","that","fSetOrderArray","aColumnKeys","aColumnsItemsSortedByIndex","indexOf","fSetVisibility","setVisible","fSetOrder","iTableColumnIndex","indexOfColumn","iModelColumnIndex","removeColumn","insertColumn","fSetWidth","setWidth","fSetTotal","setSummed","aColumnsItemsArray","getColumnKeys","setFixedColumnCount","bTableInvalidateNeeded","setOrder","invalidate","getChangeType","oControlDataReduceBase","oControlDataReduceCompare","oChangeData","getChangeData","bNeedModelChange","getTriggerModelChangeOnColumnInvisible","oChangeType","ChangeType","TableChanged","bChangedDataShowDetails","some","ModelChanged","Unchanged","copy","bShowDetailsNotChanged","bIsEqual","oItemCompare","getArrayElementByKey","semanticEqual","aToBeDeleted","property","Object","keys","_sortArrayByPropertyName","aArrayToBeSorted","bTakeACopy","aSortedArray","propertyA","propertyB","oJsonBase","oUnion","sAttribute","Array","isArray","oMItemBase","oMItemUnion","getStableColumnKeys","_checkFillRequired","aGapsFilled","_getFilledArray","mJson","reduce","obj","bFillRequired","mJsonBase","iIndexNew","fixConflictWithIgnore","oJsonIgnore","bIsConflictSituation","oMItemIgnore","iItemIndex","isColumnSelected","fSetFixedColumnCountOrigin","fSetFixedColumnCountOverwritten","bSuppressInvalidate","toString","_updateInternalModelShowHide","bShowDetails","exit"],"sources":["ColumnsController-dbg.js"],"mappings":"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"}