/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff2200.ui","sap/sac/df/firefly/ff2240.ui.program","sap/sac/df/firefly/ff3600.horizon.ui.api","sap/sac/df/firefly/ff4305.olap.model"],function(e){"use strict";e.FilterDialogProgramRunnerFactory={createForDimension:function(t,i,l,o){var r=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION);r.setObjectArgument(e.DfOuDialogProgram.PARAM_QUERY_MANAGER,i);r.setArgument(e.FilterDialog.PARAM_DIMENSION_NAME,l);r.setArgument(e.FilterDialog.PARAM_TITLE,o);return r},createForVariable:function(t,i,l,o){var r=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE);if(e.notNull(i)){r.setObjectArgument(e.DfOuDialogProgram.PARAM_QUERY_MANAGER,i);r.setArgument(e.FilterDialog.PARAM_VARIABLE_NAME,l.getName())}else{r.setObjectArgument(e.FilterDialog.PARAM_VARIABLE,l)}r.setArgument(e.FilterDialog.PARAM_TITLE,o);return r},createForHierarchyCatalog:function(t,i,l,o){var r=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_HIERARCHY_CATALOG);r.setObjectArgument(e.DfOuDialogProgram.PARAM_QUERY_MANAGER,i);r.setArgument(e.FilterDialog.PARAM_DIMENSION_NAME,l);r.setArgument(e.FilterDialog.PARAM_TITLE,o);return r},createForMeasureBasedFilter:function(t,i,l,o,r){var a=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_MEASURE_BASED_FILTER);a.setObjectArgument(e.DfOuDialogProgram.PARAM_QUERY_MANAGER,i);a.setArgument(e.FilterDialog.PARAM_MBF_MEMBER_NAME,l);a.setObjectArgument(e.FilterDialog.PARAM_MBF,o);a.setArgument(e.FilterDialog.PARAM_TITLE,r);return a},createForLinkedMeasureBasedFilter:function(t,i,l,o,r){var a=e.ProgramRunner.createRunner(t,e.FilterDialog.DEFAULT_PROGRAM_NAME_MEASURE_BASED_FILTER);a.setObjectArgument(e.DfOuDialogProgram.PARAM_QUERY_MANAGER,i);a.setArgument(e.FilterDialog.PARAM_MBF_MEMBER_NAME,l);a.setArgument(e.FilterDialog.PARAM_LAYERED_FILTER_NAME,o);a.setArgument(e.FilterDialog.PARAM_TITLE,r);return a}};e.FilterDialogValueFactory={s_factory:null,setInstance:function(t){e.FilterDialogValueFactory.s_factory=t},createValue:function(t,i,l){return e.FilterDialogValueFactory.s_factory.newValue(t,i,l)},createValueExt:function(t,i,l,o,r){return e.FilterDialogValueFactory.s_factory.newValueExt(t,i,l,o,r)},createValueWithType:function(t,i,l,o){return e.FilterDialogValueFactory.s_factory.newValueWithType(t,i,l,o)},createValueHelpValue:function(t){return e.FilterDialogValueFactory.s_factory.newValueHelpValue(t)},createValueHelpValueExt:function(t,i,l){return e.FilterDialogValueFactory.s_factory.newValueHelpValueExt(t,i,l)},createRangeValue:function(t,i,l){return e.FilterDialogValueFactory.s_factory.newRangeValue(t,i,l)},createDateRangeDynamic:function(t){return e.FilterDialogValueFactory.s_factory.newDateRangeDynamic(t)},createDateRangeFixed:function(t,i,l,o){return e.FilterDialogValueFactory.s_factory.newDateRangeFixed(t,i,l,o)},createEmptyValue:function(){return e.FilterDialogValueFactory.s_factory.newEmptyValue()},createNullValue:function(){return e.FilterDialogValueFactory.s_factory.newNullValue()},createSelectionFromFilter:function(t,i){return e.FilterDialogValueFactory.s_factory.newSelectionFromFilter(t,i)},createSelectionFromVariable:function(t){return e.FilterDialogValueFactory.s_factory.newSelectionFromVariable(t)}};e.FilterDialogMBFUtils={getMemberName:function(t){return e.FilterDialogMBFUtils.getMemberNameFromFormula(e.FilterDialogMBFUtils.asFormulaFunction(t.getFormula()))},getMemberNameFromFormula:function(t){if(e.notNull(t)&&e.XString.isEqual(t.getFunctionName(),e.FormulaOperator.IF.getName())&&t.hasElements()){var i=e.FilterDialogMBFUtils.asFormulaFunction(t.get(0));var l=e.notNull(i)?e.FilterDialogMBFUtils.getByFormulaOperator(i.getFunctionName()):null;if(l===e.ComparisonOperator.BETWEEN||l===e.ComparisonOperator.NOT_BETWEEN){i=e.FilterDialogMBFUtils.asFormulaFunction(i.get(0))}if(e.notNull(i)&&i.hasElements()){var o=i.get(0).getOlapComponentType()===e.OlapComponentType.FORMULA_ITEM_MEMBER?i.get(0):null;if(e.notNull(o)&&e.XStringUtils.isNotNullAndNotEmpty(o.getMemberName())){return o.getMemberName()}}return e.FilterDialogMBFUtils.getMemberNameFromFormula(e.FilterDialogMBFUtils.asFormulaFunction(t.get(2)))}return null},getFilterRangesByMemberName:function(t,i){var l=e.XList.create();e.FilterDialogMBFUtils.addFormulaFunctionToSelection(e.FilterDialogMBFUtils.asFormulaFunction(t.getFormula()),i,l);return l},getFilterRanges:function(t){var i=e.XList.create();var l=e.FilterDialogMBFUtils.getMemberName(t);if(e.notNull(l)){e.FilterDialogMBFUtils.addFormulaFunctionToSelection(e.FilterDialogMBFUtils.asFormulaFunction(t.getFormula()),l,i)}return i},addFormulaFunctionToSelection:function(t,i,l){if(e.notNull(t)&&e.XString.isEqual(t.getFunctionName(),e.FormulaOperator.IF.getName())&&t.size()===3){var o=e.FilterDialogMBFUtils.asFormulaFunction(t.get(0));if(e.notNull(o)){var r=e.FilterDialogMBFUtils.getByFormulaOperator(o.getFunctionName());if(r===e.ComparisonOperator.BETWEEN||r===e.ComparisonOperator.NOT_BETWEEN){if(o.size()===2){var a=e.FilterDialogMBFUtils.createItemFromFormulaFunction(e.FilterDialogMBFUtils.asFormulaFunction(o.get(0)),i,e.ComparisonOperator.EQUAL);var n=e.FilterDialogMBFUtils.createItemFromFormulaFunction(e.FilterDialogMBFUtils.asFormulaFunction(o.get(1)),i,e.ComparisonOperator.EQUAL);if(e.notNull(a)&&e.notNull(n)){l.add(e.FilterDialogValueFactory.createRangeValue(a,n,r===e.ComparisonOperator.NOT_BETWEEN))}}}else if(e.notNull(r)){e.XCollectionUtils.addIfNotNull(l,e.FilterDialogMBFUtils.createItemFromFormulaFunction(o,i,r))}}var s=e.FilterDialogMBFUtils.asFormulaFunction(t.get(2));e.FilterDialogMBFUtils.addFormulaFunctionToSelection(s,i,l)}},createItemFromFormulaFunction:function(t,i,l){if(e.notNull(t)&&t.size()===2){var o=t.get(0).getOlapComponentType()===e.OlapComponentType.FORMULA_ITEM_MEMBER?t.get(0):null;var r=e.FilterDialogMBFUtils.asFormulaFunction(t.get(1));if(e.notNull(o)&&e.XString.isEqual(o.getMemberName(),i)&&e.notNull(r)&&r.hasElements()){var a=r.get(0);if(a.getOlapComponentType()===e.OlapComponentType.FORMULA_CONSTANT){return e.FilterDialogValueFactory.createValueExt(a.getString(),null,null,null,l)}}}return null},asFormulaFunction:function(t){return e.notNull(t)&&t.getOlapComponentType()===e.OlapComponentType.FORMULA_FUNCTION?t:null},createFormula:function(t,i,l){if(!e.XCollectionUtils.hasElements(l)){return null}var o=e.QFactory.createFormulaFunctionWithName(t,e.FormulaOperator.IF.getName());var r=null;var a=o;for(var n=0;n<l.size();n++){var s=l.get(n);if(!e.FilterDialogMBFUtils.isValidValue(s)){continue}var g=s.getComparisonOperator();var u=e.FilterDialogMBFUtils.getFormulaOperator(g);var F=g===e.ComparisonOperator.BETWEEN;var p;if((F||g===e.ComparisonOperator.NOT_BETWEEN)&&s.getType()===e.FilterDialogValueType.RANGE){var D=s;p=e.QFactory.createFormulaFunctionWithName(t,u.getName());p.add(e.FilterDialogMBFUtils.createFormulaItemFunction(t,i,F?e.FormulaOperator.GE:e.FormulaOperator.LT,D.getLow().getKey()));p.add(e.FilterDialogMBFUtils.createFormulaItemFunction(t,i,F?e.FormulaOperator.LE:e.FormulaOperator.GT,D.getHigh().getKey()))}else{p=e.FilterDialogMBFUtils.createFormulaItemFunction(t,i,u,s.getKey())}o.add(p);o.add(e.QFactory.createFormulaConstantWithStringValue(t,"1"));if(n===l.size()-1){o.add(e.QFactory.createFormulaConstantWithStringValue(t,"0"))}else{r=o;o=e.QFactory.createFormulaFunctionWithName(t,e.FormulaOperator.IF.getName());r.add(o)}}if(o.isEmpty()){if(o===a){return null}r.removeAt(2);r.add(e.QFactory.createFormulaConstantWithStringValue(t,"0"))}return a},isValidValue:function(t){if(e.isNull(t)||t.isNull()){return false}if(t.getType()===e.FilterDialogValueType.RANGE){var i=t;return!i.getLow().isNull()&&i.getLow().getKey()!==null&&!i.getHigh().isNull()&&i.getHigh().getKey()!==null}return t.getKey()!==null},createFormulaItemFunction:function(t,i,l,o){var r=e.QFactory.createFormulaFunctionWithName(t,l.getName());r.add(e.QFactory.createFormulaMemberWithName(t,i));var a=e.QFactory.createFormulaFunctionWithName(t,e.FormulaOperator.DECFLOAT.getName());a.add(e.QFactory.createFormulaConstantWithStringValue(t,o));r.add(a);return r},getByFormulaOperator:function(t){if(e.XString.isEqual(t,e.FormulaOperator.AND.getName())){return e.ComparisonOperator.BETWEEN}if(e.XString.isEqual(t,e.FormulaOperator.OR.getName())){return e.ComparisonOperator.NOT_BETWEEN}if(e.XString.isEqual(t,e.FormulaOperator.GT.getName())){return e.ComparisonOperator.GREATER_THAN}if(e.XString.isEqual(t,e.FormulaOperator.GE.getName())){return e.ComparisonOperator.GREATER_EQUAL}if(e.XString.isEqual(t,e.FormulaOperator.LT.getName())){return e.ComparisonOperator.LESS_THAN}if(e.XString.isEqual(t,e.FormulaOperator.LE.getName())){return e.ComparisonOperator.LESS_EQUAL}if(e.XString.isEqual(t,e.FormulaOperator.EQ.getName())){return e.ComparisonOperator.EQUAL}if(e.XString.isEqual(t,e.FormulaOperator.NE.getName())){return e.ComparisonOperator.NOT_EQUAL}return null},getFormulaOperator:function(t){if(t===e.ComparisonOperator.BETWEEN){return e.FormulaOperator.AND}if(t===e.ComparisonOperator.NOT_BETWEEN){return e.FormulaOperator.OR}if(t===e.ComparisonOperator.GREATER_THAN){return e.FormulaOperator.GT}if(t===e.ComparisonOperator.GREATER_EQUAL){return e.FormulaOperator.GE}if(t===e.ComparisonOperator.LESS_THAN){return e.FormulaOperator.LT}if(t===e.ComparisonOperator.LESS_EQUAL){return e.FormulaOperator.LE}if(t===e.ComparisonOperator.NOT_EQUAL){return e.FormulaOperator.NE}return e.FormulaOperator.EQ}};e.FilterDialogValueUtils={supportsFilterOnDimension:function(t){return e.notNull(t)&&t.getKeyField()!==null&&t.getKeyField().isFilterable()},newSelectionFromFilter:function(t,i){return e.FilterDialogValueFactory.createSelectionFromFilter(t,i)},newSelectionFromMeasureBasedFilter:function(t){return e.FilterDialogMBFUtils.getFilterRanges(t)},updateDynamicFilter:function(t,i){if(e.isNull(t)){return}var l=e.XCollectionUtils.hasElements(i);var o=t.getFilter();if(l||e.notNull(o)){var r=t.getQueryModel().getFilter();r.queueEventing();var a=r.getDynamicFilter();if(l){e.FilterDialogValueUtils._updateFilterWithSelection(t,e.notNull(o)?o:a.getCartesianProductWithDefault().getCartesianListWithDefault(t),i)}else{a.removeFilterById(o.getUniqueId())}r.resumeEventing()}},updateLayeredFilter:function(t,i,l){if(e.isNull(t)||e.XStringUtils.isNullOrEmpty(i)){return}var o=e.XCollectionUtils.hasElements(l);var r=t.getQueryModel().getFilter();var a=r.getLinkedFilter(i);var n=e.notNull(a)?a.getCartesianList(t):null;if(o||e.notNull(n)){r.queueEventing();if(e.isNull(a)){a=e.QFactory.createFilterExpression(r,r);r.linkFilter(i,a)}a.setPreserveOnRepoSerialization(true);if(o){e.FilterDialogValueUtils._updateFilterWithSelection(t,e.notNull(n)?n:a.getCartesianProductWithDefault().getCartesianListWithDefault(t),l)}else{a.removeFilterById(n.getUniqueId());if(!a.getFilterRootElement().getChildren().hasNext()){r.linkFilter(i,null)}}r.resumeEventing()}},_updateFilterWithSelection:function(t,i,l){e.XObjectExt.assertNotNullExt(t,"Dimension must not be null");e.XObjectExt.assertNotNullExt(i,"Filter must not be null");e.XObjectExt.assertNotNullExt(l,"Selection must not be null");i.clear();var o=l.get(0).getHierarchyName();var r=e.XStringUtils.isNotNullAndNotEmpty(o);var a=r&&(!t.isHierarchyActive()||!e.XString.isEqual(o,t.getHierarchyName()));var n=r?t.getHierarchyKeyField():t.getFlatKeyField();var s=r?t.getHierarchyDisplayKeyField():t.getFlatDisplayKeyField();if(s===n){s=null}var g=r?t.getHierarchyTextField():t.getFlatTextField();var u=t.getFilterCapabilities().getFilterCapabilitiesByField(n);var F=e.notNull(u)?u.getSupportedComparisonOperators(e.SetSign.EXCLUDING):null;i.setHierarchyName(o);i.setField(n);i.addSupplementField(s);i.addSupplementField(g);i.setConvertToFlatFilter(a);for(var p=0;p<l.size();p++){var D=l.get(p);var m=D.getType();var _=D.getComparisonOperator();var E;if(m===e.FilterDialogValueType.DATE_RANGE_FIXED||m===e.FilterDialogValueType.DATE_RANGE_DYNAMIC){E=e.QFactory.createFilterOperationDateRange(i.getFilterExpression(),i.getField());i.add(E)}else{E=i.addNewCartesianElement()}E.setHierarchyName(i.getHierarchyName());E.setComparisonOperator(_);E.setSetSign(e.SetSign.INCLUDING);if(D.isNull()){E.setComparisonOperator(e.ComparisonOperator.IS_NULL);if(_===e.ComparisonOperator.NOT_EQUAL&&e.notNull(F)&&F.contains(e.ComparisonOperator.IS_NULL)){E.setSetSign(e.SetSign.EXCLUDING)}}else if(_===e.ComparisonOperator.NOT_EQUAL&&e.notNull(F)&&F.contains(e.ComparisonOperator.EQUAL)){E.setComparisonOperator(e.ComparisonOperator.EQUAL);E.setSetSign(e.SetSign.EXCLUDING)}else if(_===e.ComparisonOperator.NOT_BETWEEN&&e.notNull(F)&&F.contains(e.ComparisonOperator.BETWEEN)){E.setComparisonOperator(e.ComparisonOperator.BETWEEN);E.setSetSign(e.SetSign.EXCLUDING)}else if(_===e.ComparisonOperator.NOT_MATCH&&e.notNull(F)&&F.contains(e.ComparisonOperator.MATCH)){E.setComparisonOperator(e.ComparisonOperator.MATCH);E.setSetSign(e.SetSign.EXCLUDING)}if(m===e.FilterDialogValueType.RANGE){e.FilterDialogValueUtils._setFilterValue(E.getLow(),D.getLow(),n,s,g,E);e.FilterDialogValueUtils._setFilterValue(E.getHigh(),D.getHigh(),n,s,g,E)}else if(m===e.FilterDialogValueType.DATE_RANGE_FIXED||m===e.FilterDialogValueType.DATE_RANGE_DYNAMIC){E.setDateRange(D.getDateRange(),n)}else if(!D.isNull()){e.FilterDialogValueUtils._setFilterValue(E.getLow(),D,n,s,g,E)}}},_setFilterValue:function(t,i,l,o,r,a){if(i.getType()===e.FilterDialogValueType.VALUEHELP){t.setDimensionMember(i.getValueHelpNode().getDimensionMember())}else{var n=i.getKey();t.setValue(e.XValueUtil.getValueFromString(e.notNull(n)?n:"",l.getValueType()))}a.setField(l);if(i.hasDisplayKey()&&e.notNull(o)){t.addSupplementValue(o.getName(),i.getDisplayKey())}if(e.notNull(r)){t.addSupplementValue(r.getName(),i.getText())}},updateMeasureBasedFilter:function(t,i,l,o,r,a){if(e.isNull(t)||e.XStringUtils.isNullOrEmpty(l)||!e.XCollectionUtils.hasElements(o)){return}if(e.XStringUtils.isNotNullAndNotEmpty(i)){var n=t.getQueryModel().getFilter();n.queueEventing();e.FilterDialogValueUtils._updateMBF(t,l,o,r,a);if(t.getFormula()===null){n.linkFilter(i,null)}else{var s=n.getLinkedFilter(i);if(e.isNull(s)){s=e.QFactory.createFilterExpression(n,n);n.linkFilter(i,s)}s.setPreserveOnRepoSerialization(true);if(s.getFilterRootElement()!==t){s.setComplexRoot(t)}}n.resumeEventing()}else{t.queueEventing();e.FilterDialogValueUtils._updateMBF(t,l,o,r,a);t.resumeEventing()}},_updateMBF:function(t,i,l,o,r){t.clearDimensionContext();e.XCollectionUtils.forEachString(l,function(e){t.addDimensionContext(e)}.bind(this));t.setCrossCalculationMeasure(o);t.setFormula(e.FilterDialogMBFUtils.createFormula(t,i,r))}};e.FilterDialogLambdaCloseListener=function(){};e.FilterDialogLambdaCloseListener.prototype=new e.XObject;e.FilterDialogLambdaCloseListener.prototype._ff_c="FilterDialogLambdaCloseListener";e.FilterDialogLambdaCloseListener.create=function(t,i){var l=new e.FilterDialogLambdaCloseListener;l.m_submitConsumer=t;l.m_cancelProcedure=i;return l};e.FilterDialogLambdaCloseListener.prototype.m_submitConsumer=null;e.FilterDialogLambdaCloseListener.prototype.m_cancelProcedure=null;e.FilterDialogLambdaCloseListener.prototype.onFilterDialogOk=function(t){if(e.notNull(this.m_submitConsumer)){this.m_submitConsumer(t)}};e.FilterDialogLambdaCloseListener.prototype.onFilterDialogCancel=function(){if(e.notNull(this.m_cancelProcedure)){this.m_cancelProcedure()}};e.FilterDialogLambdaCloseListener.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_submitConsumer=null;this.m_cancelProcedure=null};e.FilterDialogConfig=function(){};e.FilterDialogConfig.prototype=new e.XObject;e.FilterDialogConfig.prototype._ff_c="FilterDialogConfig";e.FilterDialogConfig.create=function(t,i,l){var o=new e.FilterDialogConfig;o.setupConfig(t,i,l);return o};e.FilterDialogConfig.prototype.m_contentType=null;e.FilterDialogConfig.prototype.m_variable=null;e.FilterDialogConfig.prototype.m_dimension=null;e.FilterDialogConfig.prototype.m_mbfMemberName=null;e.FilterDialogConfig.prototype.m_filterMeasureBased=null;e.FilterDialogConfig.prototype.m_isOpenWithDynamicFilter=false;e.FilterDialogConfig.prototype.m_layeredFilterName=null;e.FilterDialogConfig.prototype.m_closeListener=null;e.FilterDialogConfig.prototype.m_beforeFilterChangeListener=null;e.FilterDialogConfig.prototype.m_listenerSelectionChange=null;e.FilterDialogConfig.prototype.m_title=null;e.FilterDialogConfig.prototype.m_selectionMode=null;e.FilterDialogConfig.prototype.m_selectionRequired=false;e.FilterDialogConfig.prototype.m_resizeable=false;e.FilterDialogConfig.prototype.m_defaultSelection=null;e.FilterDialogConfig.prototype.m_alwaysShowSelectionContainer=false;e.FilterDialogConfig.prototype.m_externalValueHelpProcess=null;e.FilterDialogConfig.prototype.m_offerExclude=false;e.FilterDialogConfig.prototype.m_offerListView=false;e.FilterDialogConfig.prototype.m_offerRangeView=false;e.FilterDialogConfig.prototype.m_offerFunctionalValuesView=false;e.FilterDialogConfig.prototype.m_listPageSize=0;e.FilterDialogConfig.prototype.m_listPreloadPageCount=0;e.FilterDialogConfig.prototype.m_listSearchSize=0;e.FilterDialogConfig.prototype.m_listChildNodePageSize=0;e.FilterDialogConfig.prototype.m_dimensionDisplayInfo=null;e.FilterDialogConfig.prototype.m_forceFlatPresentation=false;e.FilterDialogConfig.prototype.m_offerClipboard=false;e.FilterDialogConfig.prototype.m_offerHierarchyChange=false;e.FilterDialogConfig.prototype.m_offerReadModeChange=false;e.FilterDialogConfig.prototype.m_offerReadModeExtendedSettings=false;e.FilterDialogConfig.prototype.m_readMode=null;e.FilterDialogConfig.prototype.m_offerEqualInRangeFilter=false;e.FilterDialogConfig.prototype.m_dynamicDateRangeMaxYears=0;e.FilterDialogConfig.prototype.setupConfig=function(t,i,l){this.evalContentObject(t,i,l);this.m_isOpenWithDynamicFilter=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OPEN_WITH_DYNAMIC_FILTER,false);this.m_layeredFilterName=t.getStringByKey(e.FilterDialog.PARAM_LAYERED_FILTER_NAME);this.m_closeListener=t.getXObjectByKey(e.FilterDialog.PARAM_LISTENER_CLOSE);this.m_beforeFilterChangeListener=t.getXObjectByKey(e.FilterDialog.PARAM_LISTENER_BEFORE_FILTER_CHANGE);this.m_listenerSelectionChange=t.getXObjectByKey(e.FilterDialog.PARAM_LISTENER_SELECTION_CHANGE);this.m_title=t.getStringByKey(e.FilterDialog.PARAM_TITLE);this.m_selectionMode=e.UiSelectionMode.lookup(t.getStringByKey(e.FilterDialog.PARAM_SELECTION_MODE));if(e.isNull(this.m_selectionMode)){this.m_selectionMode=e.UiSelectionMode.SINGLE_SELECT_LEFT}this.m_selectionRequired=t.getBooleanByKeyExt(e.FilterDialog.PARAM_SELECTION_REQUIRED,false);this.m_resizeable=t.getBooleanByKeyExt(e.FilterDialog.PARAM_RESIZABLE,true);this.m_defaultSelection=t.getXObjectByKey(e.FilterDialog.PARAM_DEFAULT_SELECTION);this.m_alwaysShowSelectionContainer=t.getBooleanByKeyExt(e.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER,false);this.m_externalValueHelpProcess=t.getXObjectByKey(e.FilterDialog.PARAM_EXTERNAL_VALUEHELP_PROCESS);this.m_offerExclude=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_EXCLUDE,false);if(this.m_contentType===e.FilterDialogContentType.DIMENSION){this.m_offerRangeView=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_RANGE_VIEW,false);this.m_offerFunctionalValuesView=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_FUNCTIONAL_VALUES_VIEW,false)&&e.notNull(this.m_dimension)&&this.m_dimension.getModelCapabilities().supportsFunctionalValueHelp();this.m_offerListView=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_LIST_VIEW,false)||!this.m_offerRangeView&&!this.m_offerFunctionalValuesView;if(this.m_isOpenWithDynamicFilter&&e.notNull(this.m_dimension)){this.m_defaultSelection=e.FilterDialogValueFactory.createSelectionFromFilter(this.m_dimension,this.m_dimension.getFilter())}else if(e.XStringUtils.isNotNullAndNotEmpty(this.m_layeredFilterName)&&e.notNull(this.m_dimension)){var o=this.m_dimension.getQueryModel().getFilter().getLinkedFilter(this.m_layeredFilterName);var r=e.notNull(o)?o.getCartesianList(this.m_dimension):null;this.m_defaultSelection=e.FilterDialogValueFactory.createSelectionFromFilter(this.m_dimension,r)}if(e.notNull(this.m_defaultSelection)&&this.m_defaultSelection.size()>1&&this.m_selectionMode.isSingleSelect()){this.m_defaultSelection.clear()}}else if(this.m_contentType===e.FilterDialogContentType.VARIABLE||this.m_contentType===e.FilterDialogContentType.HIERARCHY_CATALOG){this.m_offerListView=true}else if(this.m_contentType===e.FilterDialogContentType.MEASURE_BASED_FILTER){this.m_offerRangeView=true;if(e.XStringUtils.isNotNullAndNotEmpty(this.m_layeredFilterName)&&e.notNull(i)&&i.getModelCapabilities().supportsFilterMeasureBased()){var a=i.getQueryModel().getFilter().getLinkedFilter(this.m_layeredFilterName);if(e.notNull(a)){var n=a.getFilterRootElement();if(e.notNull(n)&&n.getOlapComponentType()===e.FilterComponentType.FILTER_MEASURE_BASED){this.m_filterMeasureBased=n}}if(e.isNull(this.m_filterMeasureBased)){this.m_filterMeasureBased=e.QFactory.createFilterMeasureBased(i.getQueryModel(),this.m_layeredFilterName)}}}this.m_listPageSize=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_LIST_PAGE_SIZE,20),1);this.m_listPreloadPageCount=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_LIST_PRELOAD_PAGE_COUNT,8),1);this.m_listSearchSize=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_LIST_SEARCH_SIZE,100),1);this.m_listChildNodePageSize=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_LIST_CHILD_NODES_PAGE_SIZE,50),1);this.m_dimensionDisplayInfo=e.FilterDialogDimensionDisplayInfo.lookup(t.getStringByKey(e.FilterDialog.PARAM_DIMENSION_DISPLAY_INFO));this.m_forceFlatPresentation=t.getBooleanByKeyExt(e.FilterDialog.PARAM_FORCE_FLAT_PRESENTATION,false);this.m_offerClipboard=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_CLIPBOARD,false);this.m_offerHierarchyChange=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE,false);this.m_readMode=e.OlapUiReadMode.lookup(t.getStringByKey(e.FilterDialog.PARAM_READMODE));this.m_offerReadModeExtendedSettings=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS,false);this.m_offerReadModeChange=this.m_offerReadModeExtendedSettings||e.isNull(this.m_readMode)||t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_READMODE_CHANGE,false);this.m_offerEqualInRangeFilter=t.getBooleanByKeyExt(e.FilterDialog.PARAM_OFFER_EQUAL_IN_RANGE_FILTER,false);this.m_dynamicDateRangeMaxYears=e.XMath.max(t.getIntegerByKeyExt(e.FilterDialog.PARAM_DYNAMIC_DATE_RANGE_MAX_YEARS,100),0)};e.FilterDialogConfig.prototype.evalContentObject=function(t,i,l){this.m_contentType=l;if(this.m_contentType===e.FilterDialogContentType.VARIABLE){this.m_variable=t.getXObjectByKey(e.FilterDialog.PARAM_VARIABLE);if(e.isNull(this.m_variable)&&e.notNull(i)&&t.containsKey(e.FilterDialog.PARAM_VARIABLE_NAME)){this.m_variable=i.getVariable(t.getStringByKey(e.FilterDialog.PARAM_VARIABLE_NAME))}this.m_dimension=e.notNull(this.m_variable)?this.m_variable.getDimension():null}else if((this.m_contentType===e.FilterDialogContentType.DIMENSION||this.m_contentType===e.FilterDialogContentType.HIERARCHY_CATALOG)&&e.notNull(i)){this.m_dimension=i.getDimensionAccessor().getDimensionByName(t.getStringByKey(e.FilterDialog.PARAM_DIMENSION_NAME))}else if(this.m_contentType===e.FilterDialogContentType.MEASURE_BASED_FILTER){this.m_mbfMemberName=t.getStringByKey(e.FilterDialog.PARAM_MBF_MEMBER_NAME);this.m_filterMeasureBased=t.getXObjectByKey(e.FilterDialog.PARAM_MBF);if(e.XStringUtils.isNullOrEmpty(this.m_mbfMemberName)&&e.notNull(this.m_filterMeasureBased)){this.m_mbfMemberName=e.FilterDialogMBFUtils.getMemberName(this.m_filterMeasureBased)}}};e.FilterDialogConfig.prototype.isValid=function(){if(this.m_contentType===e.FilterDialogContentType.VARIABLE){return e.notNull(this.m_variable)&&e.notNull(this.m_dimension)}if(this.m_contentType===e.FilterDialogContentType.DIMENSION){var t=this.m_isOpenWithDynamicFilter||e.XStringUtils.isNotNullAndNotEmpty(this.m_layeredFilterName);return e.notNull(this.m_dimension)&&(!t||e.XCollectionUtils.hasElements(this.m_defaultSelection)||e.FilterDialogValueUtils.supportsFilterOnDimension(this.m_dimension))}if(this.m_contentType===e.FilterDialogContentType.HIERARCHY_CATALOG){return e.notNull(this.m_dimension)}if(this.m_contentType===e.FilterDialogContentType.MEASURE_BASED_FILTER){return e.XStringUtils.isNotNullAndNotEmpty(this.m_mbfMemberName)&&e.notNull(this.m_filterMeasureBased)}return false};e.FilterDialogConfig.prototype.releaseObject=function(){e.XObject.prototype.releaseObject.call(this);this.m_contentType=null;this.m_variable=null;this.m_dimension=null;this.m_mbfMemberName=null;this.m_filterMeasureBased=null;this.m_layeredFilterName=null;this.m_closeListener=null;this.m_beforeFilterChangeListener=null;this.m_listenerSelectionChange=null;this.m_title=null;this.m_selectionMode=null;this.m_defaultSelection=null;this.m_externalValueHelpProcess=null;this.m_dimensionDisplayInfo=null;this.m_readMode=null};e.FilterDialogConfig.prototype.getContentType=function(){return this.m_contentType};e.FilterDialogConfig.prototype.getVariable=function(){return this.m_variable};e.FilterDialogConfig.prototype.getDimension=function(){return this.m_dimension};e.FilterDialogConfig.prototype.getMeasureBasedFilterMember=function(){return this.m_mbfMemberName};e.FilterDialogConfig.prototype.getMeasureBasedFilter=function(){return this.m_filterMeasureBased};e.FilterDialogConfig.prototype.isOpenWithDynamicFilter=function(){return this.m_isOpenWithDynamicFilter};e.FilterDialogConfig.prototype.isOpenWithLayeredFilter=function(){return!this.m_isOpenWithDynamicFilter&&e.XStringUtils.isNotNullAndNotEmpty(this.m_layeredFilterName)};e.FilterDialogConfig.prototype.getLayeredFilterName=function(){return this.m_layeredFilterName};e.FilterDialogConfig.prototype.getCloseListener=function(){return this.m_closeListener};e.FilterDialogConfig.prototype.getBeforeFilterChangeListener=function(){return this.m_beforeFilterChangeListener};e.FilterDialogConfig.prototype.getListenerSelectionChange=function(){return this.m_listenerSelectionChange};e.FilterDialogConfig.prototype.getTitle=function(){return this.m_title};e.FilterDialogConfig.prototype.getSelectionMode=function(){return this.m_selectionMode};e.FilterDialogConfig.prototype.isSelectionRequired=function(){return this.m_selectionRequired};e.FilterDialogConfig.prototype.isResizeable=function(){return this.m_resizeable};e.FilterDialogConfig.prototype.getDefaultSelection=function(){return this.m_defaultSelection};e.FilterDialogConfig.prototype.isAlwaysShowSelectionContainer=function(){return this.m_alwaysShowSelectionContainer};e.FilterDialogConfig.prototype.getExternalValueHelpProcess=function(){return this.m_externalValueHelpProcess};e.FilterDialogConfig.prototype.isOfferExclude=function(){return this.m_offerExclude};e.FilterDialogConfig.prototype.isOfferListView=function(){return this.m_offerListView};e.FilterDialogConfig.prototype.isOfferRangeView=function(){return this.m_offerRangeView};e.FilterDialogConfig.prototype.isOfferFunctionalValuesView=function(){return this.m_offerFunctionalValuesView};e.FilterDialogConfig.prototype.getListPageSize=function(){return this.m_listPageSize};e.FilterDialogConfig.prototype.getListPreloadPageCount=function(){return this.m_listPreloadPageCount};e.FilterDialogConfig.prototype.getListSearchSize=function(){return this.m_listSearchSize};e.FilterDialogConfig.prototype.getListChildNodePageSize=function(){return this.m_listChildNodePageSize};e.FilterDialogConfig.prototype.getDimensionDisplayInfo=function(){return this.m_dimensionDisplayInfo};e.FilterDialogConfig.prototype.isOfferClipboard=function(){return this.m_offerClipboard};e.FilterDialogConfig.prototype.isForceFlatPresentation=function(){return this.m_forceFlatPresentation};e.FilterDialogConfig.prototype.isOfferHierarchyChange=function(){return this.m_offerHierarchyChange};e.FilterDialogConfig.prototype.isOfferEqualInRangeFilter=function(){return this.m_offerEqualInRangeFilter};e.FilterDialogConfig.prototype.getDynamicDateRangeMaxYears=function(){return this.m_dynamicDateRangeMaxYears};e.FilterDialogConfig.prototype.isOfferReadModeChange=function(){return this.m_offerReadModeChange};e.FilterDialogConfig.prototype.isOfferReadModeExtendedSettings=function(){return this.m_offerReadModeExtendedSettings};e.FilterDialogConfig.prototype.getReadMode=function(){return this.m_readMode};e.FilterDialogContentType=function(){};e.FilterDialogContentType.prototype=new e.XConstant;e.FilterDialogContentType.prototype._ff_c="FilterDialogContentType";e.FilterDialogContentType.VARIABLE=null;e.FilterDialogContentType.DIMENSION=null;e.FilterDialogContentType.HIERARCHY_CATALOG=null;e.FilterDialogContentType.MEASURE_BASED_FILTER=null;e.FilterDialogContentType.staticSetup=function(){e.FilterDialogContentType.VARIABLE=e.XConstant.setupName(new e.FilterDialogContentType,"Variable");e.FilterDialogContentType.DIMENSION=e.XConstant.setupName(new e.FilterDialogContentType,"Dimension");e.FilterDialogContentType.HIERARCHY_CATALOG=e.XConstant.setupName(new e.FilterDialogContentType,"HierarchyCatalog");e.FilterDialogContentType.MEASURE_BASED_FILTER=e.XConstant.setupName(new e.FilterDialogContentType,"MeasureBasedFilter")};e.FilterDialogContentType.prototype.isValueHelp=function(){return this.isVariableValueHelp()||this.isDimensionMemberValueHelp()};e.FilterDialogContentType.prototype.isVariableValueHelp=function(){return this.isEqualTo(e.FilterDialogContentType.VARIABLE)};e.FilterDialogContentType.prototype.isDimensionMemberValueHelp=function(){return this.isEqualTo(e.FilterDialogContentType.DIMENSION)};e.FilterDialogContentType.prototype.isHierarchyCatalog=function(){return this.isEqualTo(e.FilterDialogContentType.HIERARCHY_CATALOG)};e.FilterDialogContentType.prototype.isMeasureBasedFilter=function(){return this.isEqualTo(e.FilterDialogContentType.MEASURE_BASED_FILTER)};e.FilterDialogContentType.prototype.isBackendDriven=function(){return this.isValueHelp()||this.isHierarchyCatalog()};e.FilterDialogDimensionDisplayInfo=function(){};e.FilterDialogDimensionDisplayInfo.prototype=new e.XConstant;e.FilterDialogDimensionDisplayInfo.prototype._ff_c="FilterDialogDimensionDisplayInfo";e.FilterDialogDimensionDisplayInfo.ID=null;e.FilterDialogDimensionDisplayInfo.DESCRIPTION=null;e.FilterDialogDimensionDisplayInfo.ID_AND_DESCRIPTION=null;e.FilterDialogDimensionDisplayInfo.QUERY_DEFAULT=null;e.FilterDialogDimensionDisplayInfo.s_lookup=null;e.FilterDialogDimensionDisplayInfo.staticSetup=function(){e.FilterDialogDimensionDisplayInfo.s_lookup=e.XHashMapByString.create();e.FilterDialogDimensionDisplayInfo.ID=e.FilterDialogDimensionDisplayInfo.crateDimDisplayInfo("id");e.FilterDialogDimensionDisplayInfo.DESCRIPTION=e.FilterDialogDimensionDisplayInfo.crateDimDisplayInfo("description");e.FilterDialogDimensionDisplayInfo.ID_AND_DESCRIPTION=e.FilterDialogDimensionDisplayInfo.crateDimDisplayInfo("idAndDescription");e.FilterDialogDimensionDisplayInfo.QUERY_DEFAULT=e.FilterDialogDimensionDisplayInfo.crateDimDisplayInfo("queryDefault")};e.FilterDialogDimensionDisplayInfo.crateDimDisplayInfo=function(t){var i=e.XConstant.setupName(new e.FilterDialogDimensionDisplayInfo,t);e.FilterDialogDimensionDisplayInfo.s_lookup.put(e.XString.toLowerCase(t),i);return i};e.FilterDialogDimensionDisplayInfo.lookup=function(t){return e.FilterDialogDimensionDisplayInfo.s_lookup.getByKey(e.XString.toLowerCase(t))};e.FilterDialogDimensionDisplayInfo.prototype.showId=function(){return this===e.FilterDialogDimensionDisplayInfo.ID||this===e.FilterDialogDimensionDisplayInfo.ID_AND_DESCRIPTION};e.FilterDialogDimensionDisplayInfo.prototype.showDescription=function(){return this===e.FilterDialogDimensionDisplayInfo.DESCRIPTION||this===e.FilterDialogDimensionDisplayInfo.ID_AND_DESCRIPTION};e.FilterDialogViewType=function(){};e.FilterDialogViewType.prototype=new e.XConstant;e.FilterDialogViewType.prototype._ff_c="FilterDialogViewType";e.FilterDialogViewType.s_allTypes=null;e.FilterDialogViewType.LIST=null;e.FilterDialogViewType.RANGE=null;e.FilterDialogViewType.MEASURE_BASED_FILTER=null;e.FilterDialogViewType.FUNCTIONAL_VALUES=null;e.FilterDialogViewType.staticSetup=function(){e.FilterDialogViewType.s_allTypes=e.XHashMapByString.create();e.FilterDialogViewType.LIST=e.FilterDialogViewType.setupFilterType("List");e.FilterDialogViewType.RANGE=e.FilterDialogViewType.setupFilterType("Range");e.FilterDialogViewType.MEASURE_BASED_FILTER=e.FilterDialogViewType.setupFilterType("MeasureBasedFilter");e.FilterDialogViewType.FUNCTIONAL_VALUES=e.FilterDialogViewType.setupFilterType("FunctionalValues")};e.FilterDialogViewType.setupFilterType=function(t){var i=e.XConstant.setupName(new e.FilterDialogViewType,t);e.FilterDialogViewType.s_allTypes.put(t,i);return i};e.FilterDialogViewType.getByName=function(t){return e.FilterDialogViewType.s_allTypes.getByKey(t)};e.FilterDialogViewType.getAllFilterTypes=function(){return e.FilterDialogViewType.s_allTypes.getValuesAsReadOnlyList()};e.FilterDialogViewType.prototype.isSupportedByDim=function(t,i){if(e.notNull(t)){if(this===e.FilterDialogViewType.LIST){return true}if(this===e.FilterDialogViewType.RANGE){var l=t.getFlatKeyField();var o=l.getValueType();if(o.isNumber()){return true}var r=e.QFilterUtil.supportsDateRangeFilter(l);if(r||o.isDateBased()||t.getDimensionType()===e.DimensionType.TIME||t.getDimensionType()===e.DimensionType.DATE){return r}if(i){var a=t.getFilterCapabilities().getFilterCapabilitiesByField(l);return e.notNull(a)&&e.XCollectionUtils.contains(a.getSupportedComparisonOperators(e.SetSign.INCLUDING),function(e){return e.isRange()}.bind(this))}}if(this===e.FilterDialogViewType.MEASURE_BASED_FILTER){return t.isStructure()&&t.getQueryModel().getModelCapabilities().supportsFilterMeasureBased()}if(this===e.FilterDialogViewType.FUNCTIONAL_VALUES){return t.getModelCapabilities().supportsFunctionalValueHelp()}}return false};e.FilterDialogValueType=function(){};e.FilterDialogValueType.prototype=new e.XConstant;e.FilterDialogValueType.prototype._ff_c="FilterDialogValueType";e.FilterDialogValueType.BASIC=null;e.FilterDialogValueType.VALUEHELP=null;e.FilterDialogValueType.RANGE=null;e.FilterDialogValueType.DATE_RANGE_DYNAMIC=null;e.FilterDialogValueType.DATE_RANGE_FIXED=null;e.FilterDialogValueType.HIERARCHY_CATALOG=null;e.FilterDialogValueType.VALUEHELP_FUNCTION=null;e.FilterDialogValueType.staticSetup=function(){e.FilterDialogValueType.BASIC=e.XConstant.setupName(new e.FilterDialogValueType,"basic");e.FilterDialogValueType.VALUEHELP=e.XConstant.setupName(new e.FilterDialogValueType,"valueHelp");e.FilterDialogValueType.RANGE=e.XConstant.setupName(new e.FilterDialogValueType,"range");e.FilterDialogValueType.DATE_RANGE_DYNAMIC=e.XConstant.setupName(new e.FilterDialogValueType,"dateRangeDynamic");e.FilterDialogValueType.DATE_RANGE_FIXED=e.XConstant.setupName(new e.FilterDialogValueType,"dateRangeFixed");e.FilterDialogValueType.HIERARCHY_CATALOG=e.XConstant.setupName(new e.FilterDialogValueType,"hierarchyCatalog");e.FilterDialogValueType.VALUEHELP_FUNCTION=e.XConstant.setupName(new e.FilterDialogValueType,"valueHelpFunction")};e.OlapUiReadMode=function(){};e.OlapUiReadMode.prototype=new e.XConstant;e.OlapUiReadMode.prototype._ff_c="OlapUiReadMode";e.OlapUiReadMode.s_lookup=null;e.OlapUiReadMode.BOOKED=null;e.OlapUiReadMode.BOOKED_CASCADING=null;e.OlapUiReadMode.MASTER=null;e.OlapUiReadMode.QUERY_DEFAULT=null;e.OlapUiReadMode.staticSetup=function(){e.OlapUiReadMode.s_lookup=e.XHashMapByString.create();e.OlapUiReadMode.BOOKED=e.OlapUiReadMode.create("booked");e.OlapUiReadMode.BOOKED_CASCADING=e.OlapUiReadMode.create("bookedCascading");e.OlapUiReadMode.MASTER=e.OlapUiReadMode.create("master");e.OlapUiReadMode.QUERY_DEFAULT=e.OlapUiReadMode.create("default")};e.OlapUiReadMode.create=function(t){var i=e.XConstant.setupName(new e.OlapUiReadMode,t);e.OlapUiReadMode.s_lookup.put(e.XString.toLowerCase(t),i);return i};e.OlapUiReadMode.lookup=function(t){return e.OlapUiReadMode.s_lookup.getByKey(e.XString.toLowerCase(t))};e.DfOuDialogProgram=function(){};e.DfOuDialogProgram.prototype=new e.DfUiDialogProgram;e.DfOuDialogProgram.prototype._ff_c="DfOuDialogProgram";e.DfOuDialogProgram.PARAM_QUERY_MANAGER="queryManager";e.DfOuDialogProgram.PARAM_QUERY_MANAGER_NAME="queryManagerName";e.DfOuDialogProgram.PARAM_OK_PROCEDURE="okProcedure";e.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE="cancelProcedure";e.DfOuDialogProgram.prototype.m_queryManager=null;e.DfOuDialogProgram.prototype.m_okProcedure=null;e.DfOuDialogProgram.prototype.m_cancelProcedure=null;e.DfOuDialogProgram.prototype.releaseObject=function(){this.m_queryManager=null;this.m_okProcedure=null;this.m_cancelProcedure=null;e.DfUiDialogProgram.prototype.releaseObject.call(this)};e.DfOuDialogProgram.prototype.prepareProgramMetadata=function(t){t.addParameter(e.DfOuDialogProgram.PARAM_QUERY_MANAGER,"The query manager.");t.addParameter(e.DfOuDialogProgram.PARAM_QUERY_MANAGER_NAME,"The name of the query manager (String)");t.addParameter(e.DfOuDialogProgram.PARAM_OK_PROCEDURE,"A procedure to notify the caller when the ok button was pressed.");t.addParameter(e.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE,"A procedure to notify the caller when the cancel button was pressed.");this.prepareOlapDialogMetadata(t)};e.DfOuDialogProgram.prototype.processArguments=function(t){var i=this.getArguments();if(e.isNull(this.m_queryManager)){this.m_queryManager=i.getXObjectByKey(e.DfOuDialogProgram.PARAM_QUERY_MANAGER);if(e.isNull(this.m_queryManager)&&t.containsKey(e.DfOuDialogProgram.PARAM_QUERY_MANAGER_NAME)){var l=this.getProcess().getParentProcess();if(e.notNull(l)){var o=l.getApplication();if(e.notNull(o)){var r=o.getOlapEnvironment();if(e.notNull(r)){this.m_queryManager=r.getQueryManagerByName(t.getStringByKey(e.DfOuDialogProgram.PARAM_QUERY_MANAGER_NAME))}}}}}this.m_okProcedure=i.getXObjectByKey(e.DfOuDialogProgram.PARAM_OK_PROCEDURE);this.m_cancelProcedure=i.getXObjectByKey(e.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE);this.processOlapDialogArguments(i)};e.DfOuDialogProgram.prototype.assertQueryManagerSet=function(){if(e.isNull(this.m_queryManager)){throw e.XException.createRuntimeException("Missing query manager!")}};e.DfOuDialogProgram.prototype.getQueryManager=function(){return this.m_queryManager};e.DfOuDialogProgram.prototype.setQueryManager=function(e){this.m_queryManager=e};e.DfOuDialogProgram.prototype.notifyOkPressed=function(){if(e.notNull(this.m_okProcedure)){this.m_okProcedure.execute()}};e.DfOuDialogProgram.prototype.notifyCancelPressed=function(){if(e.notNull(this.m_cancelProcedure)){this.m_cancelProcedure.execute()}};e.FilterDialog=function(){};e.FilterDialog.prototype=new e.DfOuDialogProgram;e.FilterDialog.prototype._ff_c="FilterDialog";e.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION="FilterDialogDimension";e.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE="FilterDialogVariable";e.FilterDialog.DEFAULT_PROGRAM_NAME_HIERARCHY_CATALOG="FilterDialogHierarchyCatalog";e.FilterDialog.DEFAULT_PROGRAM_NAME_MEASURE_BASED_FILTER="FilterDialogMeasureBasedFilter";e.FilterDialog.PARAM_VARIABLE_NAME="variableName";e.FilterDialog.PARAM_VARIABLE="variable";e.FilterDialog.PARAM_DIMENSION_NAME="dimensionName";e.FilterDialog.PARAM_MBF_MEMBER_NAME="measureBasedFilterMemberName";e.FilterDialog.PARAM_MBF="measureBasedFilter";e.FilterDialog.PARAM_OPEN_WITH_DYNAMIC_FILTER="openWithDynamicFilter";e.FilterDialog.PARAM_LAYERED_FILTER_NAME="layeredFilterName";e.FilterDialog.PARAM_LISTENER_CLOSE="closeListener";e.FilterDialog.PARAM_LISTENER_BEFORE_FILTER_CHANGE="beforeFilterChangeListener";e.FilterDialog.PARAM_LISTENER_SELECTION_CHANGE="listenerSelectionChange";e.FilterDialog.PARAM_TITLE="title";e.FilterDialog.PARAM_SELECTION_MODE="selectionMode";e.FilterDialog.PARAM_SELECTION_REQUIRED="selectionRequired";e.FilterDialog.PARAM_RESIZABLE="resizeable";e.FilterDialog.PARAM_DEFAULT_SELECTION="defaultSelection";e.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER="alwaysShowSelectionContainer";e.FilterDialog.PARAM_EXTERNAL_VALUEHELP_PROCESS="externalValueHelpProcess";e.FilterDialog.PARAM_OFFER_EXCLUDE="offerExclude";e.FilterDialog.PARAM_OFFER_LIST_VIEW="offerListView";e.FilterDialog.PARAM_OFFER_RANGE_VIEW="offerRangeView";e.FilterDialog.PARAM_OFFER_FUNCTIONAL_VALUES_VIEW="offerFunctionalValuesView";e.FilterDialog.PARAM_LIST_PAGE_SIZE="lisPageSize";e.FilterDialog.PARAM_LIST_PRELOAD_PAGE_COUNT="listPreloadPageCount";e.FilterDialog.PARAM_LIST_SEARCH_SIZE="listSearchSize";e.FilterDialog.PARAM_LIST_CHILD_NODES_PAGE_SIZE="childNodesPageSize";e.FilterDialog.PARAM_DIMENSION_DISPLAY_INFO="dimensionDisplayInfo";e.FilterDialog.PARAM_FORCE_FLAT_PRESENTATION="forceFlatPresentation";e.FilterDialog.PARAM_OFFER_CLIPBOARD="offerClipboard";e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE="offerHierarchyChange";e.FilterDialog.PARAM_OFFER_READMODE_CHANGE="offerReadModeChange";e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS="offerReadModeExtendedSettings";e.FilterDialog.PARAM_READMODE="readMode";e.FilterDialog.PARAM_OFFER_EQUAL_IN_RANGE_FILTER="offerEqualInRangeFilter";e.FilterDialog.PARAM_DYNAMIC_DATE_RANGE_MAX_YEARS="dynamicDateRangeMaxYears";e.FilterDialog.prototype.m_config=null;e.FilterDialog.prototype.releaseObject=function(){e.DfOuDialogProgram.prototype.releaseObject.call(this);this.m_config=e.XObjectExt.release(this.m_config)};e.FilterDialog.prototype.prepareOlapDialogMetadata=function(t){t.addParameter(e.FilterDialog.PARAM_VARIABLE_NAME,"The name of the variable to open the dialog for (String)");t.addParameter(e.FilterDialog.PARAM_VARIABLE,"The variable to open the dialog for. There is no query manager available in planning sequences and therefore the variable must be transferred via this object parameter (Object)");t.addParameter(e.FilterDialog.PARAM_DIMENSION_NAME,"The name of the dimension to open the dialog for (String)");t.addParameter(e.FilterDialog.PARAM_MBF_MEMBER_NAME,"The name of the structure/dimension member to open the measure based filter dialog for (String)");t.addParameter(e.FilterDialog.PARAM_MBF,"The measure based filter to open the filter dialog for. The MBF member name and either this or a layered filter name must be set. (Object)");t.addParameter(e.FilterDialog.PARAM_OPEN_WITH_DYNAMIC_FILTER,"Whether the dialog should parse and update the dynamic filter (Boolean)");t.addParameter(e.FilterDialog.PARAM_LAYERED_FILTER_NAME,"Whether the dialog should parse and update a specific layered filter (String)");t.addParameter(e.FilterDialog.PARAM_LISTENER_CLOSE,"A close listener (Object)");t.addParameter(e.FilterDialog.PARAM_LISTENER_BEFORE_FILTER_CHANGE,"A listener triggered just before the filter is updated (Object)");t.addParameter(e.FilterDialog.PARAM_LISTENER_SELECTION_CHANGE,"A listener for selection changes (Object)");t.addParameter(e.FilterDialog.PARAM_TITLE,"The dialog title (String)");t.addParameter(e.FilterDialog.PARAM_SELECTION_MODE,"The name of the dialog UI selection mode (String)");t.addParameter(e.FilterDialog.PARAM_SELECTION_REQUIRED,"Whether a selection is required (Boolean)");t.addParameter(e.FilterDialog.PARAM_RESIZABLE,"Whether the dialog should be resizeable (Boolean)");t.addParameter(e.FilterDialog.PARAM_DEFAULT_SELECTION,"A list of values selected by default (Object)");t.addParameter(e.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER,"Whether the selection list should always be visible in the dialog (Boolean)");t.addParameter(e.FilterDialog.PARAM_EXTERNAL_VALUEHELP_PROCESS,"A modified value help process (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_EXCLUDE,"Whether an exclude toggle should be available (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_LIST_VIEW,"Whether a list of members should be available for selection (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_RANGE_VIEW,"Whether it should be possible to view and define range values (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_FUNCTIONAL_VALUES_VIEW,"Whether functional values should be available for selection (Boolean)");t.addParameter(e.FilterDialog.PARAM_LIST_PAGE_SIZE,"The page size in a list view (Integer)");t.addParameter(e.FilterDialog.PARAM_LIST_PRELOAD_PAGE_COUNT,"The pages preloaded in a list view (Integer)");t.addParameter(e.FilterDialog.PARAM_LIST_SEARCH_SIZE,"The amount of values searched in a list view (Integer)");t.addParameter(e.FilterDialog.PARAM_LIST_CHILD_NODES_PAGE_SIZE,"The page size of children in a tree (Integer)");t.addParameter(e.FilterDialog.PARAM_DIMENSION_DISPLAY_INFO,"The dimension display info in a list, e.g. id or description (String)");t.addParameter(e.FilterDialog.PARAM_FORCE_FLAT_PRESENTATION,"Whether a flat members list should be displayed and the hierarchy of the dimension should be ignored (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_CLIPBOARD,"Whether a clipboard for copy paste functionality should be available (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_HIERARCHY_CHANGE,"Whether changing the hierarchy should be available (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_READMODE_CHANGE,"Whether changing the readmode should be possible. Will automatically be possible if no readMode parameter is provided (Boolean)");t.addParameter(e.FilterDialog.PARAM_OFFER_READMODE_EXTENDED_SETTINGS,"Whether additional readmodes like BOOKED_AND_SPACE_AND_STATE should be available for selection (Boolean)");t.addParameter(e.FilterDialog.PARAM_READMODE,"The name of the initial used readmode of type OlapUiReadMode (String)");t.addParameter(e.FilterDialog.PARAM_OFFER_EQUAL_IN_RANGE_FILTER,"Whether comparison operator EQUAL should be availble in range view (Boolean)");t.addParameter(e.FilterDialog.PARAM_DYNAMIC_DATE_RANGE_MAX_YEARS,"The max amount of years for look back and ahead in dynamic date ranges (Integer)")};e.FilterDialog.prototype.processOlapDialogArguments=function(t){this.m_config=e.FilterDialogConfig.create(t,this.getQueryManager(),this.getContentType());if(!this.m_config.isValid()){this.kill();throw e.XException.createIllegalArgumentException("Invalid filter dialog configuration!")}};e.FilterDialog.prototype.setupProgram=function(){return null};e.FilterDialog.prototype.isResizeAllowed=function(){return e.notNull(this.m_config)&&this.m_config.isResizeable()};e.FilterDialog.prototype.getDefaultContainerSize=function(){if(this.getUiManager().getDeviceInfo().isMobile()){return e.UiSize.createMax()}return e.UiSize.createExt(e.UiCssLength.createExt(974,e.UiCssSizeUnit.PIXEL),e.UiCssLength.createExt(640,e.UiCssSizeUnit.PIXEL))};e.FilterDialog.prototype.getConfig=function(){return this.m_config};e.FilterDialog.prototype.getVariableConfig=function(){return this.getContentType()===e.FilterDialogContentType.VARIABLE?this.m_config:null};e.FilterDialog.prototype.getDimensionConfig=function(){return this.getContentType()===e.FilterDialogContentType.DIMENSION?this.m_config:null};e.FilterDialog.prototype.getHierarchyCatalogConfig=function(){return this.getContentType()===e.FilterDialogContentType.HIERARCHY_CATALOG?this.m_config:null};e.FilterDialog.prototype.getMeasureBasedFilterConfig=function(){return this.getContentType()===e.FilterDialogContentType.MEASURE_BASED_FILTER?this.m_config:null};e.OlapUiApiModule=function(){};e.OlapUiApiModule.prototype=new e.DfModule;e.OlapUiApiModule.prototype._ff_c="OlapUiApiModule";e.OlapUiApiModule.s_module=null;e.OlapUiApiModule.getInstance=function(){if(e.isNull(e.OlapUiApiModule.s_module)){e.DfModule.checkInitialized(e.UiModule.getInstance());e.DfModule.checkInitialized(e.UiProgramModule.getInstance());e.DfModule.checkInitialized(e.OlapApiModule.getInstance());e.DfModule.checkInitialized(e.HorizonUiApiModule.getInstance());e.OlapUiApiModule.s_module=e.DfModule.startExt(new e.OlapUiApiModule);e.FilterDialogValueType.staticSetup();e.FilterDialogContentType.staticSetup();e.FilterDialogDimensionDisplayInfo.staticSetup();e.DfModule.stopExt(e.OlapUiApiModule.s_module)}return e.OlapUiApiModule.s_module};e.OlapUiApiModule.prototype.getName=function(){return"ff8005.olap.ui.api"};e.OlapUiApiModule.getInstance();return sap.firefly});
//# sourceMappingURL=ff8005.olap.ui.api.js.map