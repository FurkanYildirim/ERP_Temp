/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff4310.olap.impl","sap/sac/df/firefly/ff4220.olap.catalog.api"],function(e){"use strict";e.OlapCatalogFileSystemDriver=function(){};e.OlapCatalogFileSystemDriver.prototype=new e.XObject;e.OlapCatalogFileSystemDriver.prototype._ff_c="OlapCatalogFileSystemDriver";e.OlapCatalogFileSystemDriver.QUERY="Query";e.OlapCatalogFileSystemDriver.getSearchAllText=function(t){return e.XStringUtils.concatenate3("*",t,"*")};e.OlapCatalogFileSystemDriver.prototype.m_catalogManager=null;e.OlapCatalogFileSystemDriver.prototype.m_systemName=null;e.OlapCatalogFileSystemDriver.prototype.isCatalogManagerInitialised=function(){return e.notNull(this.m_catalogManager)?true:false};e.OlapCatalogFileSystemDriver.prototype.setupCatalogManager=function(t,a,r,l){var n=e.ApplicationFactory.createApplication(t);var i=e.OlapCatalogApiModule.SERVICE_TYPE_OLAP_CATALOG.createServiceConfig(n);i.setSystemName(a);this.setSystemName(a);var o;if(!e.XString.isEqual(a,e.SystemType.BPCE.getName())){o=i.processLightweightOlapCatalogManagerCreation(r,l,null)}else{o=i.processOlapCatalogManagerCreation(r,l,null)}this.setCatalogManager(o.getData())};e.OlapCatalogFileSystemDriver.prototype.getSystemType=function(){return this.m_catalogManager.getApplication().getConnectionPool().getConnection(this.getSystemName()).getSystemDescription().getSystemType()};e.OlapCatalogFileSystemDriver.prototype.isDWCSystem=function(){var t=false;if(this.m_catalogManager.getApplication().getConnectionPool().getConnection(this.getSystemName()).getSystemDescription().getProperties().containsKey("CONTEXT_PATH")){if(e.XString.containsString(this.m_catalogManager.getApplication().getConnectionPool().getConnection(this.getSystemName()).getSystemDescription().getProperties().getByKey("CONTEXT_PATH"),"dwaas-core")){t=true}}return t};e.OlapCatalogFileSystemDriver.prototype.getObjectsByType=function(e,t,a,r){if(this.m_catalogManager.supportsCombinedSearch()){this.m_catalogManager.setSelectedType(e);this.m_catalogManager.addSelectedType(e)}else{this.m_catalogManager.setSelectedType(e)}return this.getAllChildObjects(t,a,r)};e.OlapCatalogFileSystemDriver.prototype.getObjectsBySchema=function(t,a,r,l){this.m_catalogManager.setM_schema(e.XString.toUpperCase(t));return this.getAllChildObjects(a,r,l)};e.OlapCatalogFileSystemDriver.prototype.getAllChildObjects=function(t,a,r){if(e.notNull(r)){this.setSearchText(r);this.processCartesianFilter(r)}var l=this.m_catalogManager.processGetResult(a,t,null);return l};e.OlapCatalogFileSystemDriver.prototype.setSearchText=function(t){var a=t.getOffset();this.m_catalogManager.setResultOffset(a);var r=t.getMaxItems();this.m_catalogManager.setResultMaxSize(r);var l=t.getSearchValue();l=e.notNull(l)?e.OlapCatalogFileSystemDriver.getSearchAllText(l):"*";this.m_catalogManager.setSearchFilter(l);if(this.m_catalogManager.getM_schema()!==null){this.setTextSearch(false,l)}else{this.setTextSearch(true,l)}};e.OlapCatalogFileSystemDriver.prototype.setTextSearch=function(t,a){this.m_catalogManager.setSearchOnName(t);if(this.m_catalogManager.supportsCombinedSearch()){this.m_catalogManager.setSearchOnText(t);this.m_catalogManager.setSearchOnPackageExt(t,a,e.PresentationSelect.KEY_AND_TEXT,e.LogicalBoolOperator.OR,null)}};e.OlapCatalogFileSystemDriver.prototype.processCartesianFilter=function(t){var a=t.getCartesianFilter();if(e.notNull(a)){for(var r=0;r<a.size();r++){var l=a.get(r);var n=l.getValue();var i=l.getName();if(e.XString.isEqual(i,e.XFileAttribute.DESCRIPTION.getName())){this.m_catalogManager.setSearchFilter(n);this.m_catalogManager.setSearchOnText(true)}else if(e.XString.isEqual(i,e.XFileAttribute.OLAP_DATASOURCE_NAME.getName())){this.m_catalogManager.setSearchFilter(n);this.m_catalogManager.setSearchOnName(true)}else if(e.XString.isEqual(i,e.XFileAttribute.OLAP_DATASOURCE_SCHEMA.getName())){this.m_catalogManager.setSearchOnSchema(true)}else if(e.XString.isEqual(i,e.XFileAttribute.NODE_SUB_TYPE.getName())){var o=e.XStringTokenizer.splitString(n,",");this.m_catalogManager.setInternalTypeIncludeList(o)}else if(e.XString.isEqual(i,e.XFileAttribute.NODE_TYPE.getName())&&this.m_catalogManager.supportsCombinedSearch()){var s=e.XStringTokenizer.splitString(n,",");var g=s.getIterator();while(g.hasNext()){var p=g.next();var u=e.MetaObjectType.lookup(p);this.m_catalogManager.addSelectedType(u)}}else if(e.XString.isEqual(i,e.XFileAttribute.OLAP_DATA_CATEGORY.getName())){if(this.m_catalogManager.getQueryManager().getQueryModel().getModelCapabilities().supportsMetadataDataCategory()){this.m_catalogManager.setDataCategoryFilter(n)}}}}};e.OlapCatalogFileSystemDriver.prototype.getObjectByName=function(e,t,a){this.m_catalogManager.setSearchFilter(e);this.m_catalogManager.setSearchOnName(true);var r=this.m_catalogManager.processGetResult(a,t,null);return r};e.OlapCatalogFileSystemDriver.prototype.setSystemName=function(e){this.m_systemName=e};e.OlapCatalogFileSystemDriver.prototype.getSystemName=function(){return this.m_systemName};e.OlapCatalogFileSystemDriver.prototype.createFsObjectsFolderDefinition=function(){var t;if(this.getSystemType().isTypeOf(e.SystemType.BW)){var a=e.XList.create();a.add(e.XHierarchyElement.createHierarchyElement(e.OlapComponentType.CATALOG_TYPE,e.OlapCatalogFileSystemDriver.QUERY,e.OlapCatalogFileSystemDriver.QUERY));t=e.ExtResult.create(a,null)}else{t=this.m_catalogManager.getAllTypes()}return t};e.OlapCatalogFileSystemDriver.prototype.getAllSchemas=function(t){if(e.notNull(t)){this.setSearchText(t);this.processCartesianFilter(t)}var a=this.m_catalogManager.getAllSchemas(null);return a};e.OlapCatalogFileSystemDriver.prototype.getAllObjectTypes=function(){var t=null;if(this.getSystemType().isTypeOf(e.SystemType.BW)){var a=e.XList.create();a.add(e.XHierarchyElement.createHierarchyElement(e.OlapComponentType.CATALOG_TYPE,e.OlapCatalogFileSystemDriver.QUERY,e.OlapCatalogFileSystemDriver.QUERY));t=e.ExtResult.create(a,null)}else{t=this.m_catalogManager.getAllTypes()}return t};e.OlapCatalogFileSystemDriver.prototype.setCatalogManager=function(e){this.m_catalogManager=e};e.OlapCatalogFileSystemDriver.prototype.getTuplesCountTotal=function(){if(this.getSystemType().isTypeOf(e.SystemType.BW)){return-1}return this.m_catalogManager.getQueryManager().getActiveResultSetContainer().getCursorResultSet().getCursorRowsAxis().getTuplesCountTotal()};e.OlapCatalogFileSystemDriver.prototype.resetSearchFlags=function(){if(e.notNull(this.m_catalogManager)){this.m_catalogManager.setSearchOnSchema(false);this.m_catalogManager.setInternalTypeIncludeList(e.XListOfString.create());this.m_catalogManager.setSearchOnPackageExt(false,"",e.PresentationSelect.KEY_AND_TEXT,e.LogicalBoolOperator.OR,null);this.m_catalogManager.setM_schema(null)}};e.OlapFileRequestListener=function(){};e.OlapFileRequestListener.prototype=new e.XObject;e.OlapFileRequestListener.prototype._ff_c="OlapFileRequestListener";e.OlapFileRequestListener.create=function(t){var a=new e.OlapFileRequestListener;a.callback=t;return a};e.OlapFileRequestListener.prototype.callback=null;e.OlapFileRequestListener.prototype.onChildrenFetched=function(e){this.callback(e)};e.OlapFileRequestListener2=function(){};e.OlapFileRequestListener2.prototype=new e.XObject;e.OlapFileRequestListener2.prototype._ff_c="OlapFileRequestListener2";e.OlapFileRequestListener2.create=function(t){var a=new e.OlapFileRequestListener2;a.callback=t;return a};e.OlapFileRequestListener2.prototype.callback=null;e.OlapFileRequestListener2.prototype.onChildrenFetched=function(e){this.callback(e)};e.OlapFileUtils={INFINITY:"âˆž",HASH:"#",processCatalogResult:function(t,a,r,l,n){var i=e.XList.create();var o=t.getObjectsIterator();while(o.hasNext()){var s=o.next();if(e.OlapFileUtils.isValidModelName(s.getName())){var g=e.XUri.createChildFile(l.getTargetUri(),s.getName());var p=e.XHashMapOfStringByString.create();p.put(e.XFileAttribute.NODE_TYPE.getName(),s.getDataCategory());p.put(e.XFileAttribute.NODE_SUB_TYPE.getName(),s.getInternalType());p.put(e.XFileAttribute.OLAP_DATASOURCE_TYPE.getName(),s.getType().getName());p.put(e.XFileAttribute.OLAP_DATASOURCE_SCHEMA.getName(),s.getSchemaName());p.put(e.XFileAttribute.OLAP_DATASOURCE_NAME.getName(),s.getName());p.put(e.XFileAttribute.OLAP_DATASOURCE_PACKAGE.getName(),s.getPackageName());p.put(e.XFileAttribute.OLAP_DATA_CATEGORY.getName(),s.getDataCategory());var u=e.PrFactory.createStructure();u.putString(e.XFileAttribute.DESCRIPTION.getName(),s.getText());p.put(e.XFileAttribute.DESCRIPTION.getName(),s.getText());u.putString(e.XFileAttribute.DISPLAY_NAME.getName(),s.getName());u.putString(e.XFileAttribute.FILE_TYPE.getName(),s.getType().getName());if(n){if(e.XString.isEqual(s.getType().getName(),"view")&&e.XString.isEqual(s.getInternalType(),"CALC")){p.put(e.XFileAttribute.ICON.getName(),r.getIconByName("CUBE"))}else if(e.XString.isEqual(s.getType().getName(),"inamodel")){p.put(e.XFileAttribute.ICON.getName(),r.getIconByName("DATASET"))}else if(s.isComponentNode()){p.put(e.XFileAttribute.ICON.getName(),r.getIconByName("SPACE"))}}u.putBoolean(e.XFileAttribute.IS_EXISTING.getName(),true);if(s.isComponentNode()){u.putBoolean(e.XFileAttribute.IS_DIRECTORY.getName(),true);u.putBoolean(e.XFileAttribute.IS_FILE.getName(),false)}else{u.putBoolean(e.XFileAttribute.IS_DIRECTORY.getName(),false);u.putBoolean(e.XFileAttribute.IS_FILE.getName(),true)}u.putBoolean(e.XFileAttribute.IS_HIDDEN.getName(),false);u.putBoolean(e.XFileAttribute.IS_EXECUTABLE.getName(),true);u.putBoolean(e.XFileAttribute.IS_READABLE.getName(),true);u.putBoolean(e.XFileAttribute.IS_WRITEABLE.getName(),false);u.putBoolean(e.XFileAttribute.SUPPORTS_SEARCH.getName(),true);if(s.getCreatedBy()!==null){u.putString(e.XFileAttribute.CREATED_BY_DISPLAY_NAME.getName(),s.getCreatedBy())}if(s.getCreatedOn()!==null){u.putString(e.XFileAttribute.CREATED_AT.getName(),s.getCreatedOn().toIso8601Format())}if(s.getUpdatedBy()!==null){u.putString(e.XFileAttribute.CHANGED_BY_DISPLAY_NAME.getName(),s.getCreatedBy())}if(s.getUpdatedOn()!==null){u.putString(e.XFileAttribute.CHANGED_AT.getName(),s.getCreatedOn().toIso8601Format())}if(s.isComponentNode()){u.putBoolean(e.XFileAttribute.SUPPORTS_MAX_ITEMS.getName(),true);u.putBoolean(e.XFileAttribute.SUPPORTS_OFFSET.getName(),true);u.putBoolean(e.XFileAttribute.SUPPORTS_SINGLE_SORT.getName(),false);u.putBoolean(e.XFileAttribute.SUPPORTS_CARTESIAN_FILTER.getName(),true);var c=u.putNewStructure(e.XFileAttribute.SUPPORTED_FILTERS.getName());var m=c.putNewStructure(e.XFileAttribute.OLAP_DATASOURCE_PACKAGE.getName()).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES.getName());m.addString(e.XFileFilterType.EXACT.getName());m.addString(e.XFileFilterType.ASTERISK.getName());var y=c.putNewStructure(e.XFileAttribute.OLAP_DATASOURCE_SCHEMA.getName()).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES.getName());y.addString(e.XFileFilterType.EXACT.getName());y.addString(e.XFileFilterType.ASTERISK.getName());var C=c.putNewStructure(e.XFileAttribute.NODE_SUB_TYPE.getName()).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES.getName());C.addString(e.XFileFilterType.EXACT.getName());C.addString(e.XFileFilterType.ASTERISK.getName());var S=c.putNewStructure(e.XFileAttribute.NODE_TYPE.getName()).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES.getName());S.addString(e.XFileFilterType.EXACT.getName());S.addString(e.XFileFilterType.ASTERISK.getName());var O=c.putNewStructure(e.XFileAttribute.OLAP_DATA_CATEGORY.getName()).putNewList(e.XFileAttribute.SUPPORTED_FILTER_TYPES.getName());O.addString(e.XFileFilterType.EXACT.getName());O.addString(e.XFileFilterType.ASTERISK.getName())}var h=e.OlapFile.createFile(a,r,g,p);h.setMetadata(u);i.add(h)}}return i},isValidSchemaName:function(t){return!e.XString.containsString(t,e.OlapFileUtils.HASH)},isValidModelName:function(t){return!e.XString.containsString(t,e.OlapFileUtils.INFINITY)}};e.OlapCatalogResult=function(){};e.OlapCatalogResult.prototype=new e.XObject;e.OlapCatalogResult.prototype._ff_c="OlapCatalogResult";e.OlapCatalogResult.create=function(t,a){var r=new e.OlapCatalogResult;r.setupExt(t,a);return r};e.OlapCatalogResult.prototype.m_items=null;e.OlapCatalogResult.prototype.getFirstKeyField=function(t,a){var r=t.getDimensionByName(a);if(e.notNull(r)){return r.getFirstFieldByType(e.PresentationType.KEY)}return null};e.OlapCatalogResult.prototype.setupExt=function(t,a){this.m_items=e.XList.create();var r=t.getQueryModel();var l=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_TYPE);var n=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_SCHEMA);var i=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE);var o=null;var s=null;var g=r.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE);if(e.notNull(g)){o=g.getFirstFieldByType(e.PresentationType.KEY);s=g.getFirstFieldByType(e.PresentationType.TEXT)}var p=null;var u=r.getModelCapabilities();if(u.supportsMetadataDataCategory()){p=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_DATA_CATEGORY)}var c=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_QUERY_ALIAS);var m=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_BASEDATASOURCE_SCHEMANAME);var y=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_BASEDATASOURCE_PACKAGENAME);var C=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_BASEDATASOURCE_OBJECTNAME);var S=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_PLANNING_MODEL_NAME);var O=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_PLANNING_MODEL_SCHEMA_NAME);var h=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_INTERNAL_TYPE);var _=this.getFirstKeyField(r,e.OlapCatalogManager2.CN_PACKAGE);var N=r.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT);var f=null;var d=null;var T=null;var F=null;if(e.notNull(N)){f=N.getFieldByName(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY);d=N.getFieldByName(e.OlapCatalogManager2.CN_OBJECT_MDX_FLAG);T=N.getFirstFieldByType(e.PresentationType.KEY);F=N.getFirstFieldByType(e.PresentationType.TEXT)}var E=r.getDimensionByName(e.OlapCatalogManager2.CN_CURRENCY);var A=null;var M=null;if(e.notNull(E)){A=E.getFirstFieldByType(e.PresentationType.KEY);M=E.getFirstFieldByType(e.PresentationType.TEXT)}var P=r.getDimensionByName(e.OlapCatalogManager2.CN_CURRENCY_TRANSLATION_NAME);var v=null;var R=null;if(e.notNull(P)){v=P.getFirstFieldByType(e.PresentationType.KEY);R=P.getFirstFieldByType(e.PresentationType.TEXT)}var D=r.getDimensionByName(e.OlapCatalogManager2.CN_CURRENCY_TARGET);var I=null;if(e.notNull(D)){I=D.getFirstFieldByType(e.PresentationType.KEY)}var L=r.getDimensionByName(e.OlapCatalogManager2.CN_FORMULA_OPERATORS);var b=null;var B=null;var X=null;if(e.notNull(L)){b=L.getFirstFieldByType(e.PresentationType.KEY);B=L.getFirstFieldByType(e.PresentationType.TEXT);X=L.getFieldByName(e.OlapCatalogManager2.CN_FORMULA_OPERATORS_OPERANDS_NUMBER)}var U=t.getRowsAxis();var x=U.getTuplesCount();for(var Y=0;Y<x;Y++){var Q=U.getTupleAt(Y);var j=e.OlapCatalogItem.createCatalogItem();if(e.notNull(p)){j.setDataCategory(Q.getStringByField(p))}if(e.notNull(c)){j.setQueryAlias(Q.getStringByField(c))}if(e.notNull(h)){j.setInternalType(Q.getStringByField(h))}if(e.notNull(l)){var K=Q.getStringByField(l);j.setType(e.MetaObjectType.lookupAndCreate(K))}if(e.notNull(n)){j.setSchemaName(Q.getStringByField(n))}if(e.notNull(_)){j.setPackageName(Q.getStringByField(_))}if(e.notNull(T)){j.setObjectName(Q.getStringByField(T))}if(e.notNull(F)){j.setText(Q.getStringByField(F))}if(e.isNull(f)){j.setPlanQuery(false)}else{j.setPlanQuery(Q.getBooleanByField(f))}if(e.notNull(d)){var w=Q.getTristateByField(d);j.setHasMdxFlag(w)}var G=e.QFactory.createDataSource();if(e.notNull(i)){G.setType(e.MetaObjectType.lookup(Q.getStringByField(i)))}if(e.notNull(s)){G.setText(Q.getStringByField(s))}if(e.notNull(o)){G.setName(Q.getStringByField(o))}if(e.notNull(m)){G.setSchemaName(Q.getStringByField(m))}if(e.notNull(y)){G.setPackageName(Q.getStringByField(y))}if(e.notNull(C)&&e.XString.size(Q.getStringByField(C))>0){G.setName(Q.getStringByField(C))}j.setBaseDataSource(G);if(e.notNull(S)){j.setPlanningModelName(Q.getStringByField(S))}if(e.notNull(O)){j.setPlanningModelSchemaName(Q.getStringByField(O))}if(e.notNull(A)){j.setCurrencyKey(Q.getStringByField(A))}if(e.notNull(M)){j.setCurrencyText(Q.getStringByField(M))}if(e.notNull(v)){j.setCurrencyTranslationNameKey(Q.getStringByField(v))}if(e.notNull(R)){j.setCurrencyTranslationNameText(Q.getStringByField(R))}if(e.notNull(I)){j.setCurrencyTargetKey(Q.getStringByField(I))}if(e.notNull(b)){j.setFormulaOperatorKey(Q.getStringByField(b))}if(e.notNull(B)){j.setFormulaOperatorText(Q.getStringByField(B))}if(e.notNull(X)){j.setFormulaOperatorNumberOfOperands(Q.getIntegerByField(X))}var H=true;if(e.XStringUtils.isNotNullAndNotEmpty(a)){var q=Q.getStringByField(I);if(e.XStringUtils.isNotNullAndNotEmpty(q)&&!e.XString.isEqual(q,a)){H=false}}if(H){this.m_items.add(j)}}};e.OlapCatalogResult.prototype.releaseObject=function(){this.m_items=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_items);e.XObject.prototype.releaseObject.call(this)};e.OlapCatalogResult.prototype.getObjectsIterator=function(){return this.m_items.getIterator()};e.OlapCatalogResult.prototype.getObjectsList=function(){return this.m_items};e.OlapCatalogResult.prototype.toString=function(){var t=e.XStringBuffer.create();if(e.notNull(this.m_items)){for(var a=0;a<this.m_items.size();a++){var r=this.m_items.get(a);if(e.notNull(r)){t.append(r.toString())}t.appendNewLine()}}return t.toString()};e.PlanningCatalogItem=function(){};e.PlanningCatalogItem.prototype=new e.XObject;e.PlanningCatalogItem.prototype._ff_c="PlanningCatalogItem";e.PlanningCatalogItem.createCatalogItem=function(){return new e.PlanningCatalogItem};e.PlanningCatalogItem.prototype.m_objectNameKey=null;e.PlanningCatalogItem.prototype.m_objectNameLongText=null;e.PlanningCatalogItem.prototype.m_planningOperationType=null;e.PlanningCatalogItem.prototype.releaseObject=function(){this.m_objectNameKey=null;this.m_objectNameLongText=null;this.m_planningOperationType=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningCatalogItem.prototype.getObjectNameKey=function(){return this.m_objectNameKey};e.PlanningCatalogItem.prototype.setObjectNameKey=function(e){this.m_objectNameKey=e};e.PlanningCatalogItem.prototype.getObjectNameLongText=function(){return this.m_objectNameLongText};e.PlanningCatalogItem.prototype.setObjectNameLongText=function(e){this.m_objectNameLongText=e};e.PlanningCatalogItem.prototype.getType=function(){return this.m_planningOperationType};e.PlanningCatalogItem.prototype.setType=function(e){this.m_planningOperationType=e};e.PlanningCatalogItem.prototype.getDataSource=function(){var t=this.getType();if(t===e.PlanningOperationType.PLANNING_FUNCTION){return e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_FUNCTION,this.getObjectNameKey())}else if(t===e.PlanningOperationType.PLANNING_SEQUENCE){return e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_SEQUENCE,this.getObjectNameKey())}else{return null}};e.PlanningCatalogItem.prototype.toString=function(){var t=e.XStringBuffer.create();if(e.notNull(this.m_planningOperationType)){t.append(this.m_planningOperationType.toString())}t.append(": ").append(this.m_objectNameKey);if(!e.XString.isEqual(this.m_objectNameKey,this.m_objectNameLongText)){t.append(" description: ").append(this.m_objectNameLongText)}return t.toString()};e.PlanningCatalogResult=function(){};e.PlanningCatalogResult.prototype=new e.XObject;e.PlanningCatalogResult.prototype._ff_c="PlanningCatalogResult";e.PlanningCatalogResult.create=function(t,a){var r=new e.PlanningCatalogResult;r.setupExt(t,a);return r};e.PlanningCatalogResult.prototype.m_items=null;e.PlanningCatalogResult.prototype.releaseObject=function(){this.m_items=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_items);e.XObject.prototype.releaseObject.call(this)};e.PlanningCatalogResult.prototype.setupExt=function(t,a){this.m_items=e.XList.create();var r=t.getQueryModel();var l=r.getDimensionByName(e.PlanningCatalogManager.CN_OBJECT_NAME).getFirstFieldByType(e.PresentationType.KEY);var n=r.getDimensionByName(e.PlanningCatalogManager.CN_OBJECT_NAME).getFirstFieldByType(e.PresentationType.TEXT);var i=r.getDimensionByName(e.PlanningCatalogManager.CN_PLANNING_TYPE).getFirstFieldByType(e.PresentationType.KEY);var o=t.getRowsAxis();var s=o.getTuplesCount();for(var g=0;g<s;g++){var p=o.getTupleAt(g);var u=p.getStringByField(l);var c=p.getStringByField(n);var m=p.getStringByField(i);var y=e.PlanningOperationType.lookup(m);e.XObjectExt.assertNotNullExt(y,"illegal planning type");if(y===e.PlanningOperationType.PLANNING_FUNCTION){e.XBooleanUtils.checkTrue(a.isSearchOnPlanningFunctions(),"illegal planning type")}if(y===e.PlanningOperationType.PLANNING_SEQUENCE){e.XBooleanUtils.checkTrue(a.isSearchOnPlanningSequences(),"illegal planning type")}var C=e.PlanningCatalogItem.createCatalogItem();C.setType(y);C.setObjectNameKey(u);C.setObjectNameLongText(c);this.m_items.add(C)}};e.PlanningCatalogResult.prototype.getObjectsIterator=function(){return this.m_items.getIterator()};e.PlanningCatalogResult.prototype.toString=function(){var t=e.XStringBuffer.create();if(e.notNull(this.m_items)){for(var a=0;a<this.m_items.size();a++){var r=this.m_items.get(a);if(e.notNull(r)){t.append(r.toString())}t.appendNewLine()}}return t.toString()};e.PlanningModelCatalogItem=function(){};e.PlanningModelCatalogItem.prototype=new e.XObject;e.PlanningModelCatalogItem.prototype._ff_c="PlanningModelCatalogItem";e.PlanningModelCatalogItem.createCatalogItem=function(){return new e.PlanningModelCatalogItem};e.PlanningModelCatalogItem.prototype.m_schemaName=null;e.PlanningModelCatalogItem.prototype.m_modelName=null;e.PlanningModelCatalogItem.prototype.releaseObject=function(){this.m_schemaName=null;this.m_modelName=null;e.XObject.prototype.releaseObject.call(this)};e.PlanningModelCatalogItem.prototype.getSchemaName=function(){return this.m_schemaName};e.PlanningModelCatalogItem.prototype.setSchemaName=function(e){this.m_schemaName=e};e.PlanningModelCatalogItem.prototype.getModelName=function(){return this.m_modelName};e.PlanningModelCatalogItem.prototype.setModelName=function(e){this.m_modelName=e};e.PlanningModelCatalogItem.prototype.getDataSource=function(){var t=e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_MODEL,this.getModelName());var a=this.getSchemaName();if(e.XStringUtils.isNotNullAndNotEmpty(a)){t.setSchemaName(a)}return t};e.PlanningModelCatalogItem.prototype.toString=function(){return e.XStringUtils.concatenate3(this.m_schemaName," - ",this.m_modelName)};e.PlanningModelCatalogResult=function(){};e.PlanningModelCatalogResult.prototype=new e.XObject;e.PlanningModelCatalogResult.prototype._ff_c="PlanningModelCatalogResult";e.PlanningModelCatalogResult.prototype.m_resultListener=null;e.PlanningModelCatalogResult.prototype.m_customIdentifier=null;e.PlanningModelCatalogResult.prototype.m_items=null;e.PlanningModelCatalogResult.prototype.releaseObject=function(){this.m_resultListener=null;this.m_customIdentifier=null;this.m_items=e.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_items);e.XObject.prototype.releaseObject.call(this)};e.PlanningModelCatalogResult.prototype.getResultListener=function(){return this.m_resultListener};e.PlanningModelCatalogResult.prototype.setResultListener=function(e){this.m_resultListener=e};e.PlanningModelCatalogResult.prototype.getCustomIdentifier=function(){return this.m_customIdentifier};e.PlanningModelCatalogResult.prototype.setCustomIdentifier=function(e){this.m_customIdentifier=e};e.PlanningModelCatalogResult.prototype.getObjectsIterator=function(){return this.m_items.getIterator()};e.PlanningModelCatalogResult.prototype.getResponsesReturnCodeStrict=function(t,a){if(e.isNull(t)||e.isNull(a)){return-1}var r=0;var l=false;var n=e.PrUtils.getStructureProperty(t,"Planning");if(e.isNull(n)){var i=e.PrUtils.getListProperty(t,"Planning");if(e.notNull(i)){l=true;for(var o=0;o<i.size();o++){n=e.PrUtils.getStructureElement(i,o);if(e.notNull(n)){var s=this.isValidPlanningStructure(n,a);if(s!==0){r=s;break}}}}}else{l=true;return this.isValidPlanningStructure(n,a)}if(!l){a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.PARSER_ERROR,"Planning structure is missing",t);return 0}return r};e.PlanningModelCatalogResult.prototype.isValidPlanningStructure=function(t,a){var r=e.PrUtils.getIntegerValueProperty(t,"return_code",0);if(e.isNull(t)){a.addError(e.ErrorCodes.PARSER_ERROR,"Planning structure is missing");return r}var l=e.PrUtils.getStringValueProperty(t,"exception_text",null);if(e.notNull(l)){a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.OTHER_ERROR,l,t);return r}var n=e.PrUtils.getStringValueProperty(t,"message",null);if(e.notNull(n)){a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.OTHER_ERROR,n,t);return r}if(r!==0){var i=e.XStringBuffer.create();i.append("Error: return code ").appendInt(r);a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_STATE,i.toString(),t)}return r};e.PlanningModelCatalogResult.prototype.processResponseStructure=function(t,a){var r=this.getResponsesReturnCodeStrict(t,a);if(r!==0){return}var l=e.PrUtils.getStructureProperty(t,"Planning");var n=e.PrUtils.getListProperty(l,"models");if(e.isNull(n)){a.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.PARSER_ERROR,"error in processing response structure",t);return}var i=e.XList.create();for(var o=0;o<n.size();o++){var s=e.PrUtils.getStructureElement(n,o);if(e.isNull(s)){a.addErrorExt(e.OriginLayer.DRIVER,0,"error in processing response structure",t);return}var g=e.PrUtils.getStringProperty(s,"schema");if(e.isNull(g)){a.addErrorExt(e.OriginLayer.DRIVER,0,"error in processing response structure",t);return}var p=e.PrUtils.getListProperty(s,"models");if(e.isNull(p)){a.addErrorExt(e.OriginLayer.DRIVER,0,"error in processing response structure",t);return}for(var u=0;u<p.size();u++){var c=e.PrUtils.getStringElement(p,u);if(e.isNull(c)){a.addErrorExt(e.OriginLayer.DRIVER,0,"error in processing response structure",t);return}var m=e.PlanningModelCatalogItem.createCatalogItem();m.setSchemaName(g.getString());m.setModelName(c.getString());i.add(m)}}this.m_items=i};e.PlanningModelCatalogResult.prototype.toString=function(){var t=e.XStringBuffer.create();if(e.notNull(this.m_items)){for(var a=0;a<this.m_items.size();a++){var r=this.m_items.get(a);if(e.notNull(r)){t.append(r.toString())}t.appendNewLine()}}return t.toString()};e.OlapCatalogFileSystem=function(){};e.OlapCatalogFileSystem.prototype=new e.DfXFileSystem;e.OlapCatalogFileSystem.prototype._ff_c="OlapCatalogFileSystem";e.OlapCatalogFileSystem.CHILDREN="children";e.OlapCatalogFileSystem.NAME="name";e.OlapCatalogFileSystem.FOLDER="Folder";e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR="/";e.OlapCatalogFileSystem.create=function(t){var a=new e.OlapCatalogFileSystem;a.setupProcessContext(t);a.setupIcons();return a};e.OlapCatalogFileSystem.createByHost=function(t,a){var r=new e.OlapCatalogFileSystem;var l=new e.OlapCatalogFileSystemDriver;r.m_olapDrivers=e.XHashMapByString.create();r.m_olapDrivers.put(a,l);r.setupIcons();r.setupProcessContext(t);return r};e.OlapCatalogFileSystem.prototype.m_fs=null;e.OlapCatalogFileSystem.prototype.m_rootFile=null;e.OlapCatalogFileSystem.prototype.m_olapDrivers=null;e.OlapCatalogFileSystem.prototype.m_iconMap=null;e.OlapCatalogFileSystem.prototype.getOlapDrivers=function(){return this.m_olapDrivers};e.OlapCatalogFileSystem.prototype.getProtocolType=function(){return e.ProtocolType.FS_OLAP_CATALOG};e.OlapCatalogFileSystem.prototype.getFileType=function(t){if(this.isDirectoryExt(t)){return e.XFileType.DIR}else{return e.XFileType.FILE}};e.OlapCatalogFileSystem.prototype.isExistingExt=function(t){var a=t.getTargetUriPath();var r=this.getFileStructure(a);return e.notNull(r)};e.OlapCatalogFileSystem.prototype.newFile=function(t,a){var r=e.OlapFile.createFile(t,this,a,e.XHashMapOfStringByString.create());if(e.notNull(this.m_rootFile)&&e.XString.isEqual(a.getPath(),e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR)){var l=a.getHost();if(!e.XString.isEqual(l,this.m_rootFile.getUri().getHost())){this.m_rootFile=r}return this.m_rootFile}else if(e.XString.isEqual(a.getPath(),e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR)){this.m_rootFile=r}return r};e.OlapCatalogFileSystem.prototype.isFileExt=function(e){return!this.isDirectoryExt(e)};e.OlapCatalogFileSystem.prototype.isDirectoryExt=function(t){var a=t.getTargetUriPath();var r=this.getFileStructure(a);return e.notNull(r)?r.containsKey(e.OlapCatalogFileSystem.CHILDREN):false};e.OlapCatalogFileSystem.prototype.getAttributes=function(t){var a=null;var r=t.getTargetUriPath();var l=this.getFileStructure(r);if(e.notNull(l)){a=l.getStructureByKey("attributes")}if(e.isNull(a)){a=e.DfXFileSystem.prototype.getAttributes.call(this,t)}return a};e.OlapCatalogFileSystem.prototype.getChildren=function(t){var a=e.XList.create();var r=t.getTargetUriPath();var l=t.getUri().getHost();var n=this.m_olapDrivers.getByKey(l);if(e.XString.isEqual(r,e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR)){var i=this.m_olapDrivers.getByKey(l).createFsObjectsFolderDefinition();var o=i.getData().getIterator();while(o.hasNext()){var s=e.XHashMapOfStringByString.create();s.put(e.XFileAttribute.NODE_TYPE.getName(),e.OlapCatalogFileSystem.FOLDER);var g=n.getSystemType().getName();s.put(e.XFileAttribute.SYSTEM_TYPE.getName(),g);var p=o.next();var u=e.XString.toLowerCase(p.getName());var c=e.XUri.createChildFile(t.getTargetUri(),u);var m=e.OlapFile.createFile(this.getProcess(),this,c,s);a.add(m)}}else{var y=t.getName();var C=e.MetaObjectType.lookup(y);if(e.notNull(C)){var S=n.getObjectsByType(C,null,e.SyncType.BLOCKING,null);a=e.OlapFileUtils.processCatalogResult(S.getData(),this.getProcess(),this,t,n.isDWCSystem())}}return a};e.OlapCatalogFileSystem.prototype.processFetchChildren=function(t,a,r,l,n){return e.OlapFileFetchAction.createAndRun(a,t,this,e.OlapFileRequestListener.create(function(t){var a=t.getData();if(e.notNull(r)){var n=e.SyncActionProxy.create(t);r.onChildrenFetched(n,a,a.getCachedChildFiles(),a.getProviderChildrenResultset(),l)}}.bind(this)),l,false,n)};e.OlapCatalogFileSystem.prototype.processFetchMetadata=function(t,a,r,l){var n=e.OlapFileFetchAction.createAndRun(a,t,this,e.OlapFileRequestListener.create(function(t){var a=t.getData();if(e.notNull(r)){var n=e.SyncActionProxy.create(t);r.onFileFetchMetadata(n,a,a.getCachedMetadata(),l)}}.bind(this)),l,true,null);var i=e.SyncActionProxy.create(n);return i};e.OlapCatalogFileSystem.prototype.getFileStructure=function(t){var a=null;if(e.XString.startsWith(t,e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR)===true){a=this.m_fs;var r=e.XStringTokenizer.splitString(t,e.OlapCatalogFileSystem.DIRECTORY_SEPERATOR);if(e.XStringUtils.isNullOrEmpty(r.get(0))){r.removeAt(0)}var l=r.size();if(l>0){if(e.XStringUtils.isNullOrEmpty(r.get(l-1))){r.removeAt(l-1)}}for(var n=0;n<r.size()&&e.notNull(a);n++){var i=r.get(n);var o=a.getListByKey(e.OlapCatalogFileSystem.CHILDREN);a=null;if(e.notNull(o)){for(var s=0;s<o.size();s++){var g=o.getStructureAt(s);var p=g.getStringByKey(e.OlapCatalogFileSystem.NAME);if(e.XString.isEqual(i,p)){a=g;break}}}}}return a};e.OlapCatalogFileSystem.prototype.setupIcons=function(){this.m_iconMap=e.XLinkedHashMapOfStringByString.create();var t="sap-icon://fpa/";var a="sap-icon://";this.m_iconMap.put("CUBE",e.XStringUtils.concatenate2(t,"live-model"));this.m_iconMap.put("DATASET",e.XStringUtils.concatenate2(t,"fact-view"));this.m_iconMap.put("SPACE",e.XStringUtils.concatenate2(a,"curriculum"))};e.OlapCatalogFileSystem.prototype.getIconByName=function(e){return this.m_iconMap.getByKey(e)};e.OlapCatalogProgramSubSystem=function(){};e.OlapCatalogProgramSubSystem.prototype=new e.DfSubSysFilesystem;e.OlapCatalogProgramSubSystem.prototype._ff_c="OlapCatalogProgramSubSystem";e.OlapCatalogProgramSubSystem.DEFAULT_PROGRAM_NAME="@SubSys.FileSystem.fsolapcatalog";e.OlapCatalogProgramSubSystem.prototype.m_fs=null;e.OlapCatalogProgramSubSystem.prototype.m_olapFileSystems=null;e.OlapCatalogProgramSubSystem.prototype.newProgram=function(){var t=new e.OlapCatalogProgramSubSystem;t.setup();return t};e.OlapCatalogProgramSubSystem.prototype.getProgramName=function(){return e.OlapCatalogProgramSubSystem.DEFAULT_PROGRAM_NAME};e.OlapCatalogProgramSubSystem.prototype.getProtocolType=function(){return e.ProtocolType.FS_OLAP_CATALOG};e.OlapCatalogProgramSubSystem.prototype.runProcess=function(){this.m_olapFileSystems=e.XHashMapByString.create();var t=this.getProcess();this.m_fs=e.OlapCatalogFileSystem.create(t);this.activateSubSystem(null,e.SubSystemStatus.ACTIVE);return true};e.OlapCatalogProgramSubSystem.prototype.getFileSystem=function(e){return this.m_fs};e.OlapCatalogProgramSubSystem.prototype.getFileSystemByUri=function(t){var a=t.getHost();var r;var l=this.m_olapFileSystems.getByKey(a);if(e.notNull(l)){r=l}else{if(e.notNull(a)){r=e.OlapCatalogFileSystem.createByHost(this.getProcess(),a)}else{r=e.OlapCatalogFileSystem.create(this.getProcess())}this.m_olapFileSystems.put(a,r)}this.m_fs=r;return this.m_fs};e.OlapCatalogProgramSubSystem.prototype.getAllInitializedFileSystems=function(){return this.m_olapFileSystems};e.OlapCatalogProgramSubSystem.prototype.processFetchFileSystem=function(t,a,r,l){return e.XFsOlapCatalogActionFetch.createAndRun(t,a,r,this,l)};e.OlapFileFetchAction=function(){};e.OlapFileFetchAction.prototype=new e.SyncActionExt;e.OlapFileFetchAction.prototype._ff_c="OlapFileFetchAction";e.OlapFileFetchAction.createAndRun=function(t,a,r,l,n,i,o){var s=new e.OlapFileFetchAction;s.m_file=a;s.m_ofs=r;s.m_metaDataOnly=i;s.m_FileQueryConfig=o;s.setData(a);s.setupActionAndRun(t,l,n,r);return s};e.OlapFileFetchAction.prototype.m_file=null;e.OlapFileFetchAction.prototype.m_ofs=null;e.OlapFileFetchAction.prototype.m_metaDataOnly=false;e.OlapFileFetchAction.prototype.m_FileQueryConfig=null;e.OlapFileFetchAction.prototype.processSynchronization=function(t){var a=this.m_file.getUri().getHost();var r=this.m_ofs.getOlapDrivers().getByKey(a);var l=true;if(e.isNull(r)){r=new e.OlapCatalogFileSystemDriver;this.m_ofs.getOlapDrivers().put(a,r)}if(!r.isCatalogManagerInitialised()||!e.XString.isEqual(a,r.getSystemName())){this.setupCatalogManager(t,a,r)}else{l=this.processTargetUri(t,r)}return l};e.OlapFileFetchAction.prototype.processTargetUri=function(t,a){var r=true;var l=this.m_file.getTargetUriPath();var n=this.m_file.getName();try{if(this.m_metaDataOnly){if(e.XString.isEqual(n,"Schema")||e.XString.isEqual(n,"Type")){var i=this.getFolderMetaData(n,false);this.m_file.setMetadata(i);r=false}else{a.getObjectByName(this.m_file.getName(),this,e.SyncType.NON_BLOCKING)}}else{if(e.XString.isEqual(l,e.XFile.SLASH)){this.getAndSetObjectsFolders(a);r=false}else if(e.XString.containsString(l,"Schema/")&&!e.XString.isEqual(n,"Schema")){a.getObjectsBySchema(n,this,t,this.m_FileQueryConfig)}else if(e.XString.containsString(l,"Type/")&&!e.XString.isEqual(n,"Type")){var o=this.m_file.getName();var s=e.MetaObjectType.lookup(o);a.getObjectsByType(s,this,t,this.m_FileQueryConfig)}else if(e.XString.isEqual(n,"Schema")){var g=a.getAllSchemas(this.m_FileQueryConfig);if(e.notNull(g)){this.setChildFiles(a,g,false)}r=false}else if(e.XString.isEqual(n,"Type")){var p=a.getAllObjectTypes();if(e.notNull(p)){this.setChildFiles(a,p,false)}r=false}else{var u=e.MetaObjectType.lookup(n);if(e.notNull(u)){a.getObjectsByType(u,this,t,this.m_FileQueryConfig)}}}}catch(t){this.addError(e.ErrorCodes.OTHER_ERROR,"Error occurred while retrieving files.");this.onOlapCatalogResult(null,null,null)}return r};e.OlapFileFetchAction.prototype.setChildFiles=function(t,a,r){var l=a.getData().getIterator();var n=e.XList.create();while(l.hasNext()){var i=e.XHashMapOfStringByString.create();i.put(e.XFileAttribute.NODE_TYPE.getName(),e.OlapCatalogFileSystem.FOLDER);var o=t.getSystemType().getName();i.put(e.XFileAttribute.SYSTEM_TYPE.getName(),o);if(t.isDWCSystem()){i.put(e.XFileAttribute.ICON.getName(),this.m_ofs.getIconByName("SPACE"))}var s=l.next();if(e.notNull(s)&&e.XString.size(s.getName())>0){var g=e.XString.toLowerCase(s.getName());if(e.OlapFileUtils.isValidSchemaName(g)){var p=e.XUri.createChildFile(this.m_file.getTargetUri(),g);var u=e.OlapFile.createFile(this.getProcess(),this.m_ofs,p,i);var c=this.getFolderMetaData(g,r);u.setMetadata(c);n.add(u)}}}this.m_file.setProviderChildFiles(n,t.getTuplesCountTotal())};e.OlapFileFetchAction.prototype.setupCatalogManager=function(t,a,r){try{r.setupCatalogManager(this.getProcess(),a,t,this)}catch(t){this.addError(e.ErrorCodes.OTHER_ERROR,"Error occurred while retrieving files.");this.onOlapCatalogResult(null,null,null)}};e.OlapFileFetchAction.prototype.getAndSetObjectsFolders=function(t){var a=e.XList.create();var r=e.XHashMapOfStringByString.create();r.put(e.XFileAttribute.NODE_TYPE.getName(),e.OlapCatalogFileSystem.FOLDER);var l=t.getSystemType().getName();r.put(e.XFileAttribute.SYSTEM_TYPE.getName(),l);var n=e.XUri.createChildDir(this.m_file.getTargetUri(),"Schema");var i=e.OlapFile.createFile(this.getProcess(),this.m_ofs,n,r);var o=this.getFolderMetaData("Schema",false);i.setMetadata(o);a.add(i);var s=e.XUri.createChildDir(this.m_file.getTargetUri(),"Type");var g=e.OlapFile.createFile(this.getProcess(),this.m_ofs,s,r);var p=this.getFolderMetaData("Type",false);g.setMetadata(p);a.add(g);this.m_file.setProviderChildFiles(a,2)};e.OlapFileFetchAction.prototype.getFolderMetaData=function(t,a){var r=e.PrFactory.createStructure();r.putBoolean(e.XFileAttribute.IS_DIRECTORY.getName(),true);r.putString(e.XFileAttribute.DISPLAY_NAME.getName(),t);r.putBoolean(e.XFileAttribute.IS_HIDDEN.getName(),false);r.putBoolean(e.XFileAttribute.IS_EXECUTABLE.getName(),false);r.putBoolean(e.XFileAttribute.SUPPORTS_SEARCH.getName(),a);r.putBoolean(e.XFileAttribute.SUPPORTS_MAX_ITEMS.getName(),true);r.putBoolean(e.XFileAttribute.SUPPORTS_OFFSET.getName(),true);r.putBoolean(e.XFileAttribute.SUPPORTS_SINGLE_SORT.getName(),false);r.putBoolean(e.XFileAttribute.SUPPORTS_CARTESIAN_FILTER.getName(),true);return r};e.OlapFileFetchAction.prototype.callListener=function(e,t,a,r){t.onChildrenFetched(e)};e.OlapFileFetchAction.prototype.onOlapCatalogResult=function(t,a,r){if(e.notNull(t)){this.addAllMessages(t)}if(e.notNull(a)){this.getAndSetObjects(a)}else{var l=e.XList.create();this.m_file.setProviderChildFiles(l,-1)}var n=this.getOlapCatalogFileSystemDriverByHost();n.resetSearchFlags();this.endSync()};e.OlapFileFetchAction.prototype.getAndSetObjects=function(t){var a=this.getOlapCatalogFileSystemDriverByHost();var r=e.OlapFileUtils.processCatalogResult(t,this.getProcess(),this.m_ofs,this.m_file,a.isDWCSystem());var l=e.XList.create();if(e.notNull(r)){for(var n=0;n<r.size();n++){l.add(r.get(n))}}this.m_file.setProviderChildFiles(l,a.getTuplesCountTotal())};e.OlapFileFetchAction.prototype.getOlapCatalogFileSystemDriverByHost=function(){var e=this.m_file.getUri().getHost();var t=this.m_ofs.getOlapDrivers().getByKey(e);return t};e.OlapFileFetchAction.prototype.onOlapCatalogManagerCreated=function(t,a,r){this.addAllMessages(t);var l=this.m_file.getTargetUriPath();var n=this.m_file.getUri().getHost();var i=this.m_ofs.getOlapDrivers().getByKey(n);if(e.notNull(t)&&!t.hasErrors()){try{i.setCatalogManager(t.getData());if(e.XString.isEqual(l,e.XFile.SLASH)){this.getAndSetObjectsFolders(i);this.endSync()}else if(this.m_metaDataOnly){var o=this.m_file.getName();if(e.XString.isEqual(o,"Schema")||e.XString.isEqual(o,"Type")){var s=this.getFolderMetaData(o,false);this.m_file.setMetadata(s);this.endSync()}else{i.getObjectByName(this.m_file.getName(),this,e.SyncType.NON_BLOCKING)}}else{var g=this.m_file.getName();var p=e.MetaObjectType.lookup(g);if(e.notNull(p)){i.getObjectsByType(p,this,e.SyncType.NON_BLOCKING,this.m_FileQueryConfig)}}}catch(t){this.addError(e.ErrorCodes.OTHER_ERROR,"Error occurred while retrieving files.");this.onOlapCatalogResult(null,null,null)}}else{this.onOlapCatalogResult(null,null,null)}};e.XFsOlapCatalogActionFetch=function(){};e.XFsOlapCatalogActionFetch.prototype=new e.SyncActionExt;e.XFsOlapCatalogActionFetch.prototype._ff_c="XFsOlapCatalogActionFetch";e.XFsOlapCatalogActionFetch.createAndRun=function(t,a,r,l,n){var i=new e.XFsOlapCatalogActionFetch;i.m_uri=n;i.setupActionAndRun(t,a,r,l);return i};e.XFsOlapCatalogActionFetch.prototype.m_uri=null;e.XFsOlapCatalogActionFetch.prototype.processSynchronization=function(e){var t=this.getActionContext().getFileSystemByUri(this.m_uri);this.setData(t);return false};e.XFsOlapCatalogActionFetch.prototype.callListener=function(e,t,a,r){t.onFileSystemFetched(e,a,r)};e.OlapFile=function(){};e.OlapFile.prototype=new e.DfXFileProviderNonBlocking;e.OlapFile.prototype._ff_c="OlapFile";e.OlapFile.createFile=function(t,a,r,l){var n=new e.OlapFile;n.setupOlapFile(t,a,r);n.m_exists=true;var i=r.getPath();var o=e.XString.isEqual(a.getRootDirectoryUri().getPath(),r.getPath());if(o||e.XString.endsWith(i,"/")){n.getAttributes().putString(e.XFileAttribute.NODE_TYPE.getName(),"Folder");var s=l.getByKey(e.XFileAttribute.SYSTEM_TYPE.getName());n.getAttributes().putString(e.XFileAttribute.SYSTEM_TYPE.getName(),s)}else{if(e.notNull(l)&&l.size()>0){var g=l.getKeysAsIteratorOfString();while(g.hasNext()){var p=g.next();n.getAttributes().putString(p,l.getByKey(p))}}}return n};e.OlapFile.prototype.m_attributes=null;e.OlapFile.prototype.m_exists=false;e.OlapFile.prototype.processProviderMkdir=e.noSupport;e.OlapFile.prototype.processProviderLoad=e.noSupport;e.OlapFile.prototype.processProviderDelete=e.noSupport;e.OlapFile.prototype.processProviderSave=e.noSupport;e.OlapFile.prototype.processProviderRename=e.noSupport;e.OlapFile.prototype.processProviderFetchChildren=function(t,a,r,l){var n=this.m_fs.processFetchChildren(this,t,a,r,l);var i=e.SyncActionProxy.create(n);return i};e.OlapFile.prototype.processProviderFetchMetadata=function(e,t,a){return this.m_fs.processFetchMetadata(this,e,t,a)};e.OlapFile.prototype.isExisting=function(){return this.m_exists};e.OlapFile.prototype.setExists=function(e){this.m_exists=e};e.OlapFile.prototype.getAttributes=function(){if(e.isNull(this.m_attributes)){this.m_attributes=e.PrFactory.createStructure()}return this.m_attributes};e.OlapFile.prototype.isDirectory=function(){return e.XString.isEqual("Folder",this.getAttributes().getStringByKey(e.XFileAttribute.NODE_TYPE.getName()))};e.OlapFile.prototype.isFile=function(){return!this.isDirectory()};e.OlapFile.prototype.getLastModifiedTimestamp=function(){return 0};e.OlapFile.prototype.setupOlapFile=function(e,t,a){this.setupFile(e,t,a)};e.OlapCatalogService=function(){};e.OlapCatalogService.prototype=new e.DfService;e.OlapCatalogService.prototype._ff_c="OlapCatalogService";e.OlapCatalogService.CLAZZ=null;e.OlapCatalogService.staticSetup=function(){e.OlapCatalogService.CLAZZ=e.XClass.create(e.OlapCatalogService)};e.OlapCatalogService.prototype.m_catalogManager=null;e.OlapCatalogService.prototype.getCatalogManager=function(){return this.m_catalogManager};e.OlapCatalogService.prototype.releaseObject=function(){this.m_catalogManager=e.XObjectExt.release(this.m_catalogManager);e.DfService.prototype.releaseObject.call(this)};e.OlapCatalogService.prototype.processSynchronization=function(t){var a=this.getServiceConfig();var r=e.QueryServiceConfig.create(this.getApplication());r.setSystemName(a.getSystemName());var l=e.QFactory.createDataSourceWithType(a.getMetaObjectType(),"$$DataSource$$");r.setDataSource(l);r.setProviderType(e.ProviderType.ANALYTICS);r.setConnectionContainer(this.getConnection());r.processQueryManagerCreation(t,this,null);return true};e.OlapCatalogService.prototype.onQueryManagerCreated=function(t,a,r){this.addAllMessages(t);if(t.isValid()){this.m_catalogManager=e.OlapCatalogManager2.create(a);if(a.getSession().hasFeature(e.FeatureToggleOlap.OPTIMIZE_MDS_CATALOG)&&a.supportsReturnedDataSelection()&&a.getSystemType().isTypeOf(e.SystemType.HANA)){a.queueEventing();var l=a.getQueryModel();l.toggleReturnedDataSelection(e.ReturnedDataSelection.ACTIONS,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.CELL_DATA_TYPE,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.CELL_FORMAT,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.CELL_VALUE_TYPES,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.EXCEPTION_SETTINGS,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.EXCEPTIONS,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.INPUT_READINESS_STATES,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.NUMERIC_ROUNDING,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.NUMERIC_SHIFT,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.UNIT_DESCRIPTIONS,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.UNIT_TYPES,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.UNITS,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.VALUES,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.VALUES_FORMATTED,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.VALUES_ROUNDED,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.TUPLE_DISPLAY_LEVEL,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.TUPLE_DRILL_STATE,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.TUPLE_LEVEL,false);l.toggleReturnedDataSelection(e.ReturnedDataSelection.TUPLE_PARENT_INDEXES,false);a.resumeEventing()}}this.endSync()};e.PlanningCatalogService=function(){};e.PlanningCatalogService.prototype=new e.DfService;e.PlanningCatalogService.prototype._ff_c="PlanningCatalogService";e.PlanningCatalogService.CLAZZ=null;e.PlanningCatalogService.staticSetup=function(){e.PlanningCatalogService.CLAZZ=e.XClass.create(e.PlanningCatalogService)};e.PlanningCatalogService.prototype.m_catalogManager=null;e.PlanningCatalogService.prototype.releaseObject=function(){this.m_catalogManager=e.XObjectExt.release(this.m_catalogManager);e.DfService.prototype.releaseObject.call(this)};e.PlanningCatalogService.prototype.getCatalogManager=function(){return this.m_catalogManager};e.PlanningCatalogService.prototype.processSynchronization=function(t){var a=this.getServiceConfig();var r=e.QueryServiceConfig.create(this.getApplication());r.setSystemName(a.getSystemName());var l=e.QFactory.createDataSourceWithType(e.MetaObjectType.CATALOG_VIEW,"$$DataSource$$");r.setDataSource(l);r.setProviderType(e.ProviderType.PLANNING);r.setConnectionContainer(this.getConnection());r.processQueryManagerCreation(t,this,null);return true};e.PlanningCatalogService.prototype.onQueryManagerCreated=function(t,a,r){this.addAllMessages(t);if(t.isValid()){this.m_catalogManager=e.PlanningCatalogManager.create(a)}this.endSync()};e.PlanningCatalogServiceConfig=function(){};e.PlanningCatalogServiceConfig.prototype=new e.DfServiceConfig;e.PlanningCatalogServiceConfig.prototype._ff_c="PlanningCatalogServiceConfig";e.PlanningCatalogServiceConfig.CLAZZ=null;e.PlanningCatalogServiceConfig.staticSetup=function(){e.PlanningCatalogServiceConfig.CLAZZ=e.XClass.create(e.PlanningCatalogServiceConfig)};e.PlanningCatalogServiceConfig.prototype.processPlanningCatalogManagerCreation=function(e,t,a){return this.processSyncAction(e,t,a)};e.PlanningCatalogServiceConfig.prototype.callListener=function(e,t,a,r){t.onPlanningCatalogManagerCreated(e,a,r)};e.PlanningCatalogServiceConfig.prototype.setDataFromService=function(e){this.setData(e.getCatalogManager())};e.PlanningModelCatalogService=function(){};e.PlanningModelCatalogService.prototype=new e.DfService;e.PlanningModelCatalogService.prototype._ff_c="PlanningModelCatalogService";e.PlanningModelCatalogService.CLAZZ=null;e.PlanningModelCatalogService.staticSetup=function(){e.PlanningModelCatalogService.CLAZZ=e.XClass.create(e.PlanningModelCatalogService)};e.PlanningModelCatalogService.prototype.m_catalogManager=null;e.PlanningModelCatalogService.prototype.releaseObject=function(){this.m_catalogManager=e.XObjectExt.release(this.m_catalogManager);e.DfService.prototype.releaseObject.call(this)};e.PlanningModelCatalogService.prototype.isServiceConfigMatching=function(t,a,r){var l=t.getSystemType();if(e.isNull(l)){this.addError(e.ErrorCodes.INVALID_SYSTEM,"illegal system type");return false}if(!l.isTypeOf(e.SystemType.HANA)){this.addErrorExt(e.OriginLayer.DRIVER,e.ErrorCodes.INVALID_SYSTEM,"illegal system type",l);return false}return true};e.PlanningModelCatalogService.prototype.getCatalogManager=function(){return this.m_catalogManager};e.PlanningModelCatalogService.prototype.processSynchronization=function(t){this.m_catalogManager=e.PlanningModelCatalogManager.create(this);return false};e.PlanningModelCatalogService.prototype.getOlapEnv=function(){return this.getApplication().getOlapEnvironment()};e.PlanningModelCatalogServiceConfig=function(){};e.PlanningModelCatalogServiceConfig.prototype=new e.DfServiceConfig;e.PlanningModelCatalogServiceConfig.prototype._ff_c="PlanningModelCatalogServiceConfig";e.PlanningModelCatalogServiceConfig.CLAZZ=null;e.PlanningModelCatalogServiceConfig.staticSetup=function(){e.PlanningModelCatalogServiceConfig.CLAZZ=e.XClass.create(e.PlanningModelCatalogServiceConfig)};e.PlanningModelCatalogServiceConfig.prototype.processPlanningModelCatalogManagerCreation=function(e,t,a){return this.processSyncAction(e,t,a)};e.PlanningModelCatalogServiceConfig.prototype.callListener=function(e,t,a,r){t.onPlanningModelCatalogManagerCreated(e,a,r)};e.PlanningModelCatalogServiceConfig.prototype.setDataFromService=function(e){this.setData(e.getCatalogManager())};e.OlapCatalogManager2=function(){};e.OlapCatalogManager2.prototype=new e.QOlapSyncAction;e.OlapCatalogManager2.prototype._ff_c="OlapCatalogManager2";e.OlapCatalogManager2.CN_TYPE="Type";e.OlapCatalogManager2.CN_SCHEMA="SchemaName";e.OlapCatalogManager2.CN_PACKAGE="PackageName";e.OlapCatalogManager2.CN_OBJECT="ObjectName";e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY="ObjectName.IS_PLANQUERY";e.OlapCatalogManager2.CN_OBJECT_MDX_FLAG="ObjectName.MDX_FLAG";e.OlapCatalogManager2.CN_BASEDATASOURCE="BaseDataSource";e.OlapCatalogManager2.CN_BASEDATASOURCE_SCHEMANAME="BaseDataSourceSchemaName";e.OlapCatalogManager2.CN_BASEDATASOURCE_PACKAGENAME="BaseDataSourcePackageName";e.OlapCatalogManager2.CN_BASEDATASOURCE_OBJECTNAME="BaseDataSourceObjectName";e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE="BaseDataSourceType";e.OlapCatalogManager2.CN_PLANNING_MODEL_NAME="ModelName";e.OlapCatalogManager2.CN_PLANNING_MODEL_SCHEMA_NAME="ModelSchemaName";e.OlapCatalogManager2.CN_DATA_CATEGORY="DataCategory";e.OlapCatalogManager2.CN_QUERY_ALIAS="QueryAlias";e.OlapCatalogManager2.CN_INTERNAL_TYPE="InternalType";e.OlapCatalogManager2.CN_CURRENCY="Currency";e.OlapCatalogManager2.CN_CURRENCY_TRANSLATION_NAME="Name";e.OlapCatalogManager2.CN_CURRENCY_TARGET="Target";e.OlapCatalogManager2.CN_FORMULA_OPERATORS="FormulaOperators";e.OlapCatalogManager2.CN_FORMULA_OPERATORS_OPERANDS_NUMBER="FormulaOperators.OPERANDS_NUMBER";e.OlapCatalogManager2.create=function(t){var a=new e.OlapCatalogManager2;a.setupCatalogManager(t);return a};e.OlapCatalogManager2.prototype.m_catalogResult=null;e.OlapCatalogManager2.prototype.m_type=null;e.OlapCatalogManager2.prototype.m_types=null;e.OlapCatalogManager2.prototype.m_isSearchOnName=false;e.OlapCatalogManager2.prototype.m_isSearchOnText=false;e.OlapCatalogManager2.prototype.m_isSearchOnSchema=false;e.OlapCatalogManager2.prototype.m_isSearchOnPackage=false;e.OlapCatalogManager2.prototype.m_isTransientInfoProvidersIncluded=false;e.OlapCatalogManager2.prototype.m_schema=null;e.OlapCatalogManager2.prototype.m_withOtherFiltersPackage=null;e.OlapCatalogManager2.prototype.m_packageComparisonOperator=null;e.OlapCatalogManager2.prototype.m_baseDataSourceFilterList=null;e.OlapCatalogManager2.prototype.m_internalTypeIncludeList=null;e.OlapCatalogManager2.prototype.m_internalTypeExcludeList=null;e.OlapCatalogManager2.prototype.m_textFilter=null;e.OlapCatalogManager2.prototype.m_baseDataSourceFilter=null;e.OlapCatalogManager2.prototype.m_categoryFilter=null;e.OlapCatalogManager2.prototype.m_packageFilter=null;e.OlapCatalogManager2.prototype.m_baseDataSourceTypeFilter=null;e.OlapCatalogManager2.prototype.m_planQueryFilter=null;e.OlapCatalogManager2.prototype.m_interestedCurrency=null;e.OlapCatalogManager2.prototype.releaseObject=function(){this.m_type=null;this.m_textFilter=null;this.m_categoryFilter=null;this.m_packageFilter=null;this.m_baseDataSourceFilter=null;this.m_baseDataSourceFilterList=e.XObjectExt.release(this.m_baseDataSourceFilterList);this.m_internalTypeIncludeList=e.XObjectExt.release(this.m_internalTypeIncludeList);this.m_internalTypeExcludeList=e.XObjectExt.release(this.m_internalTypeExcludeList);this.m_baseDataSourceTypeFilter=e.XObjectExt.release(this.m_baseDataSourceTypeFilter);this.m_planQueryFilter=null;this.m_catalogResult=e.XObjectExt.release(this.m_catalogResult);this.m_withOtherFiltersPackage=null;this.m_packageComparisonOperator=null;this.m_types=e.XObjectExt.release(this.m_types);this.m_interestedCurrency=null;this.m_schema=null;e.QOlapSyncAction.prototype.releaseObject.call(this)};e.OlapCatalogManager2.prototype.setupCatalogManager=function(t){this.setupAction(null,null,null,t);this.m_planQueryFilter=e.TriStateBool._DEFAULT;this.m_isTransientInfoProvidersIncluded=true;this.m_types=e.XList.create()};e.OlapCatalogManager2.prototype.clearSearchFlags=function(){this.m_isSearchOnName=false;this.m_isSearchOnText=false;this.m_isSearchOnSchema=false;this.m_isSearchOnPackage=false};e.OlapCatalogManager2.prototype.processGetResult=function(e,t,a){return this.processSyncAction(e,t,a)};e.OlapCatalogManager2.prototype.getAllTypes=function(){return this.getAllMember(e.OlapComponentType.CATALOG_TYPE,e.OlapCatalogManager2.CN_TYPE,null,null,null)};e.OlapCatalogManager2.prototype.getAllSchemas=function(t){return this.getAllMember(e.OlapComponentType.CATALOG_SCHEMA,e.OlapCatalogManager2.CN_SCHEMA,t,null,null)};e.OlapCatalogManager2.prototype.getAllPackages=function(t,a){return this.getAllMember(e.OlapComponentType.CATALOG_PACKAGE,e.OlapCatalogManager2.CN_PACKAGE,t,a,null)};e.OlapCatalogManager2.prototype.getAllObjects=function(t,a,r){return this.getAllMember(e.OlapComponentType.CATALOG_OBJECT,e.OlapCatalogManager2.CN_OBJECT,t,a,r)};e.OlapCatalogManager2.prototype.getAllMember=function(t,a,r,l,n){var i=this.getQueryManager().getQueryModel();var o=i.getConvenienceCommands();o.resetToDefault();if(e.notNull(r)){o.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_TYPE,r.getCamelCaseName(),e.ComparisonOperator.EQUAL)}if(e.notNull(l)){o.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_SCHEMA,l,e.ComparisonOperator.EQUAL)}if(e.notNull(n)){o.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_PACKAGE,n,e.ComparisonOperator.EQUAL)}o.clearAxis(e.AxisType.ROWS);o.moveDimensionOnAxisTo(a,e.AxisType.ROWS,0);o.addFieldByTypeToResultSet(a,e.PresentationType.KEY);o.addFieldByTypeToResultSet(a,e.PresentationType.TEXT);var s=this.getQueryManager().processQueryExecution(e.SyncType.BLOCKING,null,null);var g=e.XList.create();if(s.isValid()){var p=i.getDimensionByName(a);var u=p.getKeyField();var c=p.getTextField();var m=s.getData().getClassicResultSet();var y=m.getRowsAxis();var C=y.getTuplesCount();for(var S=0;S<C;S++){var O=y.getTupleAt(S);var h=O.getStringByField(u);var _=h;if(e.notNull(c)){_=O.getStringByField(c)}g.add(e.XHierarchyElement.createHierarchyElement(t,h,_))}}return e.ExtResult.create(g,s)};e.OlapCatalogManager2.prototype.processSynchronization=function(t){var a=e.XListOfString.create();a.add(e.OlapCatalogManager2.CN_TYPE);a.add(e.OlapCatalogManager2.CN_SCHEMA);a.add(e.OlapCatalogManager2.CN_PACKAGE);a.add(e.OlapCatalogManager2.CN_OBJECT);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE);var r=this.getQueryManager();var l=r.getQueryModel();var n=l.getModelCapabilities();if(n.supportsMetadataDataCategory()){a.add(e.OlapCatalogManager2.CN_DATA_CATEGORY)}if(this.getSession().hasFeature(e.FeatureToggleOlap.QUERY_ALIAS_FROM_CATALOG)){a.add(e.OlapCatalogManager2.CN_QUERY_ALIAS)}a.add(e.OlapCatalogManager2.CN_INTERNAL_TYPE);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE_SCHEMANAME);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE_PACKAGENAME);a.add(e.OlapCatalogManager2.CN_BASEDATASOURCE_OBJECTNAME);a.add(e.OlapCatalogManager2.CN_PLANNING_MODEL_NAME);a.add(e.OlapCatalogManager2.CN_PLANNING_MODEL_SCHEMA_NAME);var i=l.getConvenienceCommands();i.resetToDefault();if(e.notNull(this.m_schema)){i.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_SCHEMA,this.m_schema,e.ComparisonOperator.EQUAL)}i.clearAxis(e.AxisType.ROWS);for(var o=0;o<a.size();o++){var s=a.get(o);if(l.getDimensionByName(s)!==null){i.moveDimensionToAxis(s,e.AxisType.ROWS);i.addFieldByTypeToResultSet(s,e.PresentationType.KEY);i.addFieldByTypeToResultSet(s,e.PresentationType.TEXT)}}i.addFieldToResultSet(e.OlapCatalogManager2.CN_OBJECT,e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY);i.addFieldToResultSet(e.OlapCatalogManager2.CN_OBJECT,e.OlapCatalogManager2.CN_OBJECT_MDX_FLAG);if(this.supportsCombinedSearch()){this.setupFilterComplex()}else{this.setupFilterSimple()}r.processQueryExecution(t,this,null);return true};e.OlapCatalogManager2.prototype.supportsCombinedSearch=function(){var t=this.getSystemType();if(e.isNull(t)){return false}return t.isTypeOf(e.SystemType.HANA)||this.isLightweightSearch()||t.isTypeOf(e.SystemType.VIRTUAL_INA_ODATA)};e.OlapCatalogManager2.prototype.getSystemType=function(){var t=this.getQueryManagerBase();if(e.isNull(t)){return null}var a=t.getSystemType();return a};e.OlapCatalogManager2.prototype.isLightweightSearch=function(){var t=this.getQueryManagerBase();return e.notNull(t)&&t.isLightweightSearch()};e.OlapCatalogManager2.prototype.setupFilterComplex=function(){var t=this.getQueryManager().getQueryModel();var a=e.QFactory.createFilterAnd(t);var r=this.getSelectedTypes();if(e.notNull(r)&&r.hasElements()&&t.getDimensionByName(e.OlapCatalogManager2.CN_TYPE)!==null){var l=r.size();if(l===1){this.createAndAddFilterOp(r.get(0).getCamelCaseName(),a,e.ComparisonOperator.EQUAL,e.OlapCatalogManager2.CN_TYPE,e.PresentationType.KEY)}else{this.createFilterElementsInCartesianList(l,r,a)}}var n=this.getSearchFilter();var i=e.QFactory.createFilterOr(a);if(e.XStringUtils.isNotNullAndNotEmpty(n)){if(this.isSearchOnName()&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT)!==null){this.createAndAddFilterOp(n,i,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_OBJECT,e.PresentationType.KEY)}if(this.isSearchOnText()&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT)!==null){this.createAndAddFilterOp(n,i,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_OBJECT,e.PresentationType.TEXT)}if(this.isSearchOnSchema()&&t.getDimensionByName(e.OlapCatalogManager2.CN_SCHEMA)!==null){this.createAndAddFilterOp(n,i,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_SCHEMA,e.PresentationType.KEY)}}if(this.isSearchOnPackage()&&t.getDimensionByName(e.OlapCatalogManager2.CN_PACKAGE)!==null){var o;if(this.m_withOtherFiltersPackage===e.LogicalBoolOperator.OR){o=i}else{o=a}this.createAndAddFilterOp(this.m_packageFilter,o,this.determineComparisonOperator(this.m_packageComparisonOperator,this.m_packageFilter),e.OlapCatalogManager2.CN_PACKAGE,e.PresentationType.KEY)}this.addFilterToRoot(a,i);var s=t.getModelCapabilities();if(s.supportsMetadataDataCategory()&&e.XStringUtils.isNotNullAndNotEmpty(this.m_categoryFilter)&&t.getDimensionByName(e.OlapCatalogManager2.CN_DATA_CATEGORY)!==null){this.createAndAddFilterOp(this.m_categoryFilter,a,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_DATA_CATEGORY,e.PresentationType.KEY)}if(e.notNull(this.m_baseDataSourceFilter)&&t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE)!==null){this.createAndAddFilterOp(this.m_baseDataSourceFilter,a,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_BASEDATASOURCE,e.PresentationType.KEY)}if(e.XCollectionUtils.hasElements(this.m_baseDataSourceFilterList)&&t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE)!==null){var g=e.ComparisonOperator.EQUAL;for(var p=0;p<this.m_baseDataSourceFilterList.size();p++){var u=this.m_baseDataSourceFilterList.get(p);if(e.XString.containsString(u,"*")){g=e.ComparisonOperator.MATCH;break}}var c=e.QFactory.createFilterOr(a);for(var m=0;m<this.m_baseDataSourceFilterList.size();m++){this.createAndAddFilterOp(this.m_baseDataSourceFilterList.get(m),c,g,e.OlapCatalogManager2.CN_BASEDATASOURCE,e.PresentationType.KEY)}this.addFilterToRoot(a,c)}if(e.XCollectionUtils.hasElements(this.m_baseDataSourceTypeFilter)&&t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE)!==null){var y=e.QFactory.createFilterOr(a);for(var C=0;C<this.m_baseDataSourceTypeFilter.size();C++){this.createAndAddFilterOp(e.XString.toUpperCase(this.m_baseDataSourceTypeFilter.get(C).getName()),y,e.ComparisonOperator.EQUAL,null,null)}this.addFilterToRoot(a,y)}if(e.XCollectionUtils.hasElements(this.m_internalTypeIncludeList)&&t.getDimensionByName(e.OlapCatalogManager2.CN_INTERNAL_TYPE)!==null){var S=e.ComparisonOperator.EQUAL;for(var O=0;O<this.m_internalTypeIncludeList.size();O++){var h=this.m_internalTypeIncludeList.get(O);if(e.XString.containsString(h,"*")){S=e.ComparisonOperator.MATCH;break}}var _=e.QFactory.createFilterOr(a);for(var N=0;N<this.m_internalTypeIncludeList.size();N++){this.createAndAddFilterOp(this.m_internalTypeIncludeList.get(N),_,S,e.OlapCatalogManager2.CN_INTERNAL_TYPE,e.PresentationType.KEY)}this.addFilterToRoot(a,_)}if(e.XCollectionUtils.hasElements(this.m_internalTypeExcludeList)&&t.getDimensionByName(e.OlapCatalogManager2.CN_INTERNAL_TYPE)!==null){var f=e.ComparisonOperator.NOT_EQUAL;for(var d=0;d<this.m_internalTypeExcludeList.size();d++){var T=this.m_internalTypeExcludeList.get(d);if(e.XString.containsString(T,"*")){f=e.ComparisonOperator.NOT_MATCH;break}}var F=e.QFactory.createFilterAnd(a);for(var E=0;E<this.m_internalTypeExcludeList.size();E++){this.createAndAddFilterOp(this.m_internalTypeExcludeList.get(E),F,f,e.OlapCatalogManager2.CN_INTERNAL_TYPE,e.PresentationType.KEY)}this.addFilterToRoot(a,F)}if(this.m_planQueryFilter!==e.TriStateBool._DEFAULT&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY)!==null){if(this.m_planQueryFilter!==e.TriStateBool._TRUE){this.createAndAddFilterOp("true",a,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY,e.PresentationType.KEY)}else if(this.m_planQueryFilter!==e.TriStateBool._FALSE){this.createAndAddFilterOp("false",a,e.ComparisonOperator.MATCH,e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY,e.PresentationType.KEY)}}if(a.hasElements()){t.getFilter().getDynamicFilter().setComplexRoot(a)}};e.OlapCatalogManager2.prototype.addFilterToRoot=function(e,t){if(t.hasElements()){e.add(t)}};e.OlapCatalogManager2.prototype.createFilterElementsInCartesianList=function(t,a,r){var l=this.getQueryManager().getQueryModel();var n=l.getFilter().getDynamicFilter();var i=l.getDimensionByName(e.OlapCatalogManager2.CN_TYPE);var o=i.getFirstFieldByType(e.PresentationType.KEY);var s=e.QFactory.createFilterCartesianListWithField(n,o);r.add(s);for(var g=0;g<t;g++){var p=a.get(g).getCamelCaseName();var u=s.addNewCartesianElement();u.setComparisonOperator(e.ComparisonOperator.EQUAL);u.setLowString(p)}};e.OlapCatalogManager2.prototype.createAndAddFilterOp=function(t,a,r,l,n){var i=this.getQueryManager().getQueryModel();var o=i.getFilter().getDynamicFilter();var s=null;if(e.notNull(l)){s=i.getDimensionByName(l)}if(e.notNull(s)){var g=s.getFirstFieldByType(n);var p=e.QFactory.createFilterOperationWithOperator(o,g,r);p.setLowString(t);a.add(p)}};e.OlapCatalogManager2.prototype.determineComparisonOperator=function(t,a){if(e.notNull(t)){return t}if(e.XString.containsString(a,"*")){return e.ComparisonOperator.MATCH}return e.ComparisonOperator.EQUAL};e.OlapCatalogManager2.prototype.setupFilterSimple=function(){var t=this.getQueryManager().getQueryModel();var a=t.getConvenienceCommands();var r=this.getSelectedType();if(e.notNull(r)&&t.getDimensionByName(e.OlapCatalogManager2.CN_TYPE)!==null){a.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_TYPE,r.getCamelCaseName(),e.ComparisonOperator.EQUAL)}var l=this.getSearchFilter();if(e.XStringUtils.isNotNullAndNotEmpty(l)&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT)!==null){if(this.isSearchOnName()){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_OBJECT,e.PresentationType.KEY,l,e.ComparisonOperator.MATCH)}else if(this.isSearchOnText()){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_OBJECT,e.PresentationType.TEXT,l,e.ComparisonOperator.MATCH)}}var n=this.getPackageFilter();if(e.XStringUtils.isNotNullAndNotEmpty(n)&&t.getDimensionByName(e.OlapCatalogManager2.CN_PACKAGE)!==null){if(this.isSearchOnPackage()){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_PACKAGE,e.PresentationType.KEY,n,e.ComparisonOperator.EQUAL)}}var i=t.getModelCapabilities();if(i.supportsMetadataDataCategory()&&e.XStringUtils.isNotNullAndNotEmpty(this.m_categoryFilter)&&t.getDimensionByName(e.OlapCatalogManager2.CN_DATA_CATEGORY)!==null){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_DATA_CATEGORY,e.PresentationType.KEY,this.m_categoryFilter,e.ComparisonOperator.MATCH)}if(t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE)!==null){if(e.notNull(this.m_baseDataSourceFilter)){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_BASEDATASOURCE,e.PresentationType.KEY,this.m_baseDataSourceFilter,e.ComparisonOperator.MATCH)}}if(e.XCollectionUtils.hasElements(this.m_baseDataSourceFilterList)&&t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE)!==null){var o=e.ComparisonOperator.EQUAL;for(var s=0;s<this.m_baseDataSourceFilterList.size();s++){var g=this.m_baseDataSourceFilterList.get(s);if(e.XString.containsString(g,"*")){o=e.ComparisonOperator.MATCH;break}}for(var p=0;p<this.m_baseDataSourceFilterList.size();p++){a.addSingleMemberFilterByDimensionName(e.OlapCatalogManager2.CN_BASEDATASOURCE,this.m_baseDataSourceFilterList.get(p),o)}}if(t.getDimensionByName(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE)!==null){if(e.XCollectionUtils.hasElements(this.m_baseDataSourceTypeFilter)){var u=this.m_baseDataSourceTypeFilter.size();for(var c=0;c<u;c++){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE,e.PresentationType.KEY,e.XString.toUpperCase(this.m_baseDataSourceTypeFilter.get(c).getName()),e.ComparisonOperator.EQUAL)}}if(!this.m_isTransientInfoProvidersIncluded){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_BASEDATASOURCE_TYPE,e.PresentationType.KEY,"TRPR",e.ComparisonOperator.NOT_EQUAL)}}if(this.m_planQueryFilter!==e.TriStateBool._DEFAULT&&t.getDimensionByName(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY)!==null){if(this.m_planQueryFilter!==e.TriStateBool._TRUE){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY,e.PresentationType.KEY,"true",e.ComparisonOperator.MATCH)}else if(this.m_planQueryFilter!==e.TriStateBool._FALSE){a.addStringFilterByPresentation(e.OlapCatalogManager2.CN_OBJECT_IS_PLANQUERY,e.PresentationType.KEY,"false",e.ComparisonOperator.MATCH)}}};e.OlapCatalogManager2.prototype.callListener=function(e,t,a,r){t.onOlapCatalogResult(e,a,r)};e.OlapCatalogManager2.prototype.onQueryExecuted=function(t,a,r){this.addAllMessages(t);if(t.isValid()){var l=a.getClassicResultSet();this.m_catalogResult=e.OlapCatalogResult.create(l,this.m_interestedCurrency);this.setData(this.m_catalogResult)}this.endSync()};e.OlapCatalogManager2.prototype.setSearchOnText=function(e){if(this.m_isSearchOnText!==e){if(!this.supportsCombinedSearch()){this.clearSearchFlags();this.m_isSearchOnName=!e}this.m_isSearchOnText=e;this.resetSyncState()}};e.OlapCatalogManager2.prototype.isSearchOnText=function(){return this.m_isSearchOnText};e.OlapCatalogManager2.prototype.setSearchOnName=function(e){if(this.m_isSearchOnName!==e){if(!this.supportsCombinedSearch()){this.clearSearchFlags();this.m_isSearchOnText=!e}this.m_isSearchOnName=e;this.resetSyncState()}};e.OlapCatalogManager2.prototype.isSearchOnName=function(){return this.m_isSearchOnName};e.OlapCatalogManager2.prototype.setSearchOnSchema=function(e){if(this.m_isSearchOnSchema!==e){if(this.isLightweightSearch()||!this.supportsCombinedSearch()){return}this.m_isSearchOnSchema=e;this.resetSyncState()}};e.OlapCatalogManager2.prototype.isSearchOnSchema=function(){return this.m_isSearchOnSchema};e.OlapCatalogManager2.prototype.setSearchOnPackageExt=function(t,a,r,l,n){if(l===e.LogicalBoolOperator.NOT){throw e.XException.createIllegalArgumentException("Only AND or OR are allowed.")}if(this.m_isSearchOnPackage!==t){if(this.isLightweightSearch()){return}if(!this.supportsCombinedSearch()){this.clearSearchFlags()}this.m_isSearchOnPackage=t;this.m_packageFilter=a;this.m_packageComparisonOperator=n;this.m_withOtherFiltersPackage=l;this.resetSyncState()}};e.OlapCatalogManager2.prototype.getPackageFilter=function(){return this.m_packageFilter};e.OlapCatalogManager2.prototype.isSearchOnPackage=function(){return this.m_isSearchOnPackage};e.OlapCatalogManager2.prototype.setSelectedType=function(e){this.ensureTypeIsSelectable(e);this.m_type=e;this.m_types.clear();this.m_types.add(e);this.resetSyncState()};e.OlapCatalogManager2.prototype.getSelectedType=function(){return this.m_type};e.OlapCatalogManager2.prototype.addSelectedType=function(t){if(!this.supportsCombinedSearch()){throw e.XException.createIllegalArgumentException("More than 1 Metaobject types not supported")}this.ensureTypeIsSelectable(t);this.m_types.add(t);this.resetSyncState()};e.OlapCatalogManager2.prototype.getSelectedTypes=function(){return this.m_types};e.OlapCatalogManager2.prototype.ensureTypeIsSelectable=function(t){if(this.isLightweightSearch()){if(t!==e.MetaObjectType.QUERY&&t!==e.MetaObjectType.DEFAULT_REPORT_QUERY&&t!==e.MetaObjectType.DEFAULT_PLAN_QUERY&&t!==e.MetaObjectType.FILTER&&t!==e.MetaObjectType.INFOPROVIDER&&t!==e.MetaObjectType.ALVL&&t!==e.MetaObjectType.INFOOBJECT&&t!==e.MetaObjectType.PLANNING_SEQUENCE&&t!==e.MetaObjectType.PLANNING_FUNCTION&&t!==e.MetaObjectType.QUERY_VIEW&&t!==e.MetaObjectType.CDS_PROJECTION_VIEW){throw e.XException.createIllegalArgumentException("Only these types are supported when using the lightweight catalog manager: QUERY, DEFAULT_REPORT_QUERY, DEFAULT_PLAN_QUERY, FILTER, INFOPROVIDER, ALVL, INFOOBJECT, PLANNING_SEQUENCE, PLANNING_FUNCTION, QUERY_VIEW")}}};e.OlapCatalogManager2.prototype.setSearchFilter=function(e){this.m_textFilter=e;this.resetSyncState()};e.OlapCatalogManager2.prototype.getSearchFilter=function(){return this.m_textFilter};e.OlapCatalogManager2.prototype.setResultOffset=function(e){this.getQueryManager().setOffsetRows(e);this.resetSyncState()};e.OlapCatalogManager2.prototype.getResultOffset=function(){return this.getQueryManager().getOffsetRows()};e.OlapCatalogManager2.prototype.setResultMaxSize=function(e){this.getQueryManager().setMaxRows(e);this.resetSyncState()};e.OlapCatalogManager2.prototype.getResultMaxSize=function(){return this.getQueryManager().getMaxRows()};e.OlapCatalogManager2.prototype.setPlanQueryFilter=function(e){this.m_planQueryFilter=e};e.OlapCatalogManager2.prototype.getPlanQueryFilter=function(){return this.m_planQueryFilter};e.OlapCatalogManager2.prototype.getBaseDataSourceFilter=function(){return this.m_baseDataSourceFilter};e.OlapCatalogManager2.prototype.setBaseDataSourceFilter=function(t){if(this.isLightweightSearch()){return}if(e.isNull(t)){this.m_baseDataSourceFilter=null}else{this.setBaseDataSourceFilterList(null);this.m_baseDataSourceFilter=t}this.resetSyncState()};e.OlapCatalogManager2.prototype.setBaseDataSourceFilterList=function(t){if(this.isLightweightSearch()){return}if(e.isNull(t)){this.m_baseDataSourceFilterList=e.XObjectExt.release(this.m_baseDataSourceFilterList)}else{this.setBaseDataSourceFilter(null);this.m_baseDataSourceFilterList=e.XListOfString.createFromReadOnlyList(t)}this.resetSyncState()};e.OlapCatalogManager2.prototype.getBaseDataSourceFilterList=function(){return this.m_baseDataSourceFilterList};e.OlapCatalogManager2.prototype.getBaseDataSourceTypeFilterList=function(){return this.m_baseDataSourceTypeFilter};e.OlapCatalogManager2.prototype.setBaseDataSourceTypeFilterList=function(e){if(this.isLightweightSearch()){return}this.m_baseDataSourceTypeFilter=e;this.resetSyncState()};e.OlapCatalogManager2.prototype.setInternalTypeIncludeList=function(t){if(this.isLightweightSearch()){return}if(e.XCollectionUtils.hasElements(t)){this.m_internalTypeIncludeList=e.XListOfString.createFromReadOnlyList(t)}else{this.m_internalTypeIncludeList=e.XObjectExt.release(this.m_internalTypeIncludeList)}this.resetSyncState()};e.OlapCatalogManager2.prototype.getInternalTypeIncludeList=function(){return this.m_internalTypeIncludeList};e.OlapCatalogManager2.prototype.setInternalTypeExcludeList=function(t){if(this.isLightweightSearch()){return}if(e.XCollectionUtils.hasElements(t)){this.m_internalTypeExcludeList=e.XListOfString.createFromReadOnlyList(t)}else{this.m_internalTypeExcludeList=e.XObjectExt.release(this.m_internalTypeExcludeList)}this.resetSyncState()};e.OlapCatalogManager2.prototype.getInternalTypeExcludeList=function(){return this.m_internalTypeExcludeList};e.OlapCatalogManager2.prototype.setDataCategoryFilter=function(t){if(!this.getQueryManager().getQueryModel().getModelCapabilities().supportsMetadataDataCategory()){e.noSupport()}this.m_categoryFilter=t;this.resetSyncState()};e.OlapCatalogManager2.prototype.getDataCategoryFilter=function(){return this.m_categoryFilter};e.OlapCatalogManager2.prototype.isTransientInfoProvidersIncluded=function(){return this.m_isTransientInfoProvidersIncluded};e.OlapCatalogManager2.prototype.setTransientInfoProvidersIncluded=function(e){this.m_isTransientInfoProvidersIncluded=e};e.OlapCatalogManager2.prototype.setFixedCurrency=function(e){this.m_interestedCurrency=e};e.OlapCatalogManager2.prototype.setM_schema=function(e){this.m_schema=e};e.OlapCatalogManager2.prototype.getM_schema=function(){return this.m_schema};e.PlanningCatalogManager=function(){};e.PlanningCatalogManager.prototype=new e.QOlapSyncAction;e.PlanningCatalogManager.prototype._ff_c="PlanningCatalogManager";e.PlanningCatalogManager.CN_OBJECT_NAME="ObjectName";e.PlanningCatalogManager.CN_BASE_DATA_SOURCE="BaseDataSource";e.PlanningCatalogManager.CN_PLANNING_TYPE="PlanningType";e.PlanningCatalogManager.CN_PLANNING_FUNCTION_TYPE="PlanningFunctionType";e.PlanningCatalogManager.create=function(t){var a=new e.PlanningCatalogManager;a.setupCatalogManager(t);return a};e.PlanningCatalogManager.prototype.m_searchOnPlanningFunctions=false;e.PlanningCatalogManager.prototype.m_searchOnPlanningSequences=false;e.PlanningCatalogManager.prototype.m_textFilter=null;e.PlanningCatalogManager.prototype.m_isSearchOnText=false;e.PlanningCatalogManager.prototype.m_isSearchOnName=false;e.PlanningCatalogManager.prototype.setupCatalogManager=function(e){this.setupAction(null,null,null,e);this.m_isSearchOnText=false;this.m_isSearchOnName=false;this.m_searchOnPlanningFunctions=true;this.m_searchOnPlanningSequences=false};e.PlanningCatalogManager.prototype.releaseObject=function(){this.m_textFilter=null;e.QOlapSyncAction.prototype.releaseObject.call(this)};e.PlanningCatalogManager.prototype.setSearchOnText=function(e){this.m_isSearchOnText=e;this.m_isSearchOnName=!this.m_isSearchOnText;this.resetSyncState()};e.PlanningCatalogManager.prototype.setSearchOnName=function(e){this.m_isSearchOnName=e;this.m_isSearchOnText=!this.m_isSearchOnName;this.resetSyncState()};e.PlanningCatalogManager.prototype.isSearchOnText=function(){return this.m_isSearchOnText};e.PlanningCatalogManager.prototype.isSearchOnName=function(){return this.m_isSearchOnName};e.PlanningCatalogManager.prototype.setSearchFilter=function(e){this.m_textFilter=e;this.resetSyncState()};e.PlanningCatalogManager.prototype.getSearchFilter=function(){return this.m_textFilter};e.PlanningCatalogManager.prototype.setSearchOnPlanningFunctions=function(e){this.m_searchOnPlanningFunctions=e};e.PlanningCatalogManager.prototype.isSearchOnPlanningFunctions=function(){return this.m_searchOnPlanningFunctions};e.PlanningCatalogManager.prototype.setSearchOnPlanningSequences=function(e){this.m_searchOnPlanningSequences=e};e.PlanningCatalogManager.prototype.isSearchOnPlanningSequences=function(){return this.m_searchOnPlanningSequences};e.PlanningCatalogManager.prototype.processGetResult=function(e,t,a){return this.processSyncAction(e,t,a)};e.PlanningCatalogManager.prototype.callListener=function(e,t,a,r){t.onPlanningCatalogResult(e,a,r)};e.PlanningCatalogManager.prototype.processSynchronization=function(t){var a=this.getQueryManager().getQueryModel();var r=a.getConvenienceCommands();r.resetToDefault();r.moveDimensionToAxis(e.PlanningCatalogManager.CN_OBJECT_NAME,e.AxisType.ROWS);r.addAllFieldsToResultSet(e.PlanningCatalogManager.CN_OBJECT_NAME);r.moveDimensionToAxis(e.PlanningCatalogManager.CN_BASE_DATA_SOURCE,e.AxisType.ROWS);r.addAllFieldsToResultSet(e.PlanningCatalogManager.CN_BASE_DATA_SOURCE);r.moveDimensionToAxis(e.PlanningCatalogManager.CN_PLANNING_TYPE,e.AxisType.ROWS);r.addAllFieldsToResultSet(e.PlanningCatalogManager.CN_PLANNING_TYPE);r.moveDimensionToAxis(e.PlanningCatalogManager.CN_PLANNING_FUNCTION_TYPE,e.AxisType.ROWS);r.addAllFieldsToResultSet(e.PlanningCatalogManager.CN_PLANNING_FUNCTION_TYPE);var l=this.getSearchFilter();if(e.notNull(l)&&e.XString.size(l)>0){if(this.isSearchOnName()){r.addStringFilterByPresentation(e.PlanningCatalogManager.CN_OBJECT_NAME,e.PresentationType.KEY,l,e.ComparisonOperator.MATCH)}if(this.isSearchOnText()){r.addStringFilterByPresentation(e.PlanningCatalogManager.CN_OBJECT_NAME,e.PresentationType.TEXT,l,e.ComparisonOperator.MATCH)}}r.clearFiltersByDimensionName(e.PlanningCatalogManager.CN_PLANNING_TYPE);var n=0;if(this.isSearchOnPlanningFunctions()){n++}if(this.isSearchOnPlanningSequences()){n++}if(n===1){if(this.isSearchOnPlanningFunctions()){r.addSingleMemberFilterByDimensionName(e.PlanningCatalogManager.CN_PLANNING_TYPE,e.PlanningOperationType.T_PLANNING_FUNCTION,e.ComparisonOperator.EQUAL)}if(this.isSearchOnPlanningSequences()){r.addSingleMemberFilterByDimensionName(e.PlanningCatalogManager.CN_PLANNING_TYPE,e.PlanningOperationType.T_PLANNING_SEQUENCE,e.ComparisonOperator.EQUAL)}}this.getQueryManager().processQueryExecution(t,this,null);return true};e.PlanningCatalogManager.prototype.onQueryExecuted=function(t,a,r){this.addAllMessages(t);if(t.isValid()){var l=a.getClassicResultSet();this.setData(e.PlanningCatalogResult.create(l,this))}this.endSync()};e.PlanningModelCatalogManager=function(){};e.PlanningModelCatalogManager.prototype=new e.QOlapSyncAction;e.PlanningModelCatalogManager.prototype._ff_c="PlanningModelCatalogManager";e.PlanningModelCatalogManager.create=function(t){var a=new e.PlanningModelCatalogManager;var r=t.getServiceConfig().getSystemName();a.setupPlanningModelCatalogManager(t.getOlapEnv(),r);return a};e.PlanningModelCatalogManager.prototype.m_systemName=null;e.PlanningModelCatalogManager.prototype.releaseObject=function(){var t=this.getData();if(e.notNull(t)){e.XObjectExt.release(t)}this.m_systemName=null;e.QOlapSyncAction.prototype.releaseObject.call(this)};e.PlanningModelCatalogManager.prototype.setupPlanningModelCatalogManager=function(e,t){this.setupAction(null,null,null,e);this.m_systemName=t};e.PlanningModelCatalogManager.prototype.processGetResult=function(e,t,a){return this.processSyncAction(e,t,a)};e.PlanningModelCatalogManager.prototype.processSynchronization=function(t){var a=this.getApplication().getConnectionPool().getConnection(this.m_systemName);var r=a.getSystemDescription();var l=r.getSystemType();if(!l.isTypeOf(e.SystemType.HANA)){throw e.XException.createIllegalStateException("illegal system type")}var n=a.newRpcFunction(l.getInAPath());var i=n.getRpcRequest();var o=this.serializeToJson();i.setRequestStructure(o);n.processFunctionExecution(t,this,null);return true};e.PlanningModelCatalogManager.prototype.onFunctionExecuted=function(t,a,r){this.addAllMessages(t);if(t.isValid()){var l=new e.PlanningModelCatalogResult;var n=a.getRootElement();var i=e.PrFactory.createStructureDeepCopy(n);var o=e.MessageManager.createMessageManagerExt(this.getSession());l.processResponseStructure(i,o);this.setData(l)}this.endSync()};e.PlanningModelCatalogManager.prototype.callListener=function(e,t,a,r){t.onPlanningModelCatalogResult(e,a,r)};e.PlanningModelCatalogManager.prototype.serializeToJson=function(){var t=e.PrFactory.createStructure();var a=t.putNewStructure("Planning");a.putString("command","get_models");return t};e.OlapCatalogItem=function(){};e.OlapCatalogItem.prototype=new e.QDataSource;e.OlapCatalogItem.prototype._ff_c="OlapCatalogItem";e.OlapCatalogItem.createCatalogItem=function(){var t=new e.OlapCatalogItem;t.setupDataSource(null);t.setText(null);t.setBaseDataSource(null);t.setPlanQuery(false);t.setHasMdxFlag(e.TriStateBool._DEFAULT);return t};e.OlapCatalogItem.prototype.m_isPlanQuery=false;e.OlapCatalogItem.prototype.m_hasMdxFlag=null;e.OlapCatalogItem.prototype.m_baseDataSource=null;e.OlapCatalogItem.prototype.m_planningModelName=null;e.OlapCatalogItem.prototype.m_planningModelSchemaName=null;e.OlapCatalogItem.prototype.m_dataCategory=null;e.OlapCatalogItem.prototype.m_internalType=null;e.OlapCatalogItem.prototype.m_currencyKey=null;e.OlapCatalogItem.prototype.m_currencyText=null;e.OlapCatalogItem.prototype.m_currencyTranslationNameKey=null;e.OlapCatalogItem.prototype.m_currencyTranslationNameText=null;e.OlapCatalogItem.prototype.m_currencyTargetKey=null;e.OlapCatalogItem.prototype.m_formulaOperatorKey=null;e.OlapCatalogItem.prototype.m_formulaOperatorText=null;e.OlapCatalogItem.prototype.m_formulaOperatorNumberOfOperands=0;e.OlapCatalogItem.prototype.m_queryAlias=null;e.OlapCatalogItem.prototype.getCurrencyTranslationNameKey=function(){return this.m_currencyTranslationNameKey};e.OlapCatalogItem.prototype.setCurrencyTranslationNameKey=function(e){this.m_currencyTranslationNameKey=e};e.OlapCatalogItem.prototype.getCurrencyTranslationNameText=function(){return this.m_currencyTranslationNameText};e.OlapCatalogItem.prototype.setCurrencyTranslationNameText=function(e){this.m_currencyTranslationNameText=e};e.OlapCatalogItem.prototype.getCurrencyTargetKey=function(){return this.m_currencyTargetKey};e.OlapCatalogItem.prototype.setCurrencyTargetKey=function(e){this.m_currencyTargetKey=e};e.OlapCatalogItem.prototype.getCurrencyKey=function(){return this.m_currencyKey};e.OlapCatalogItem.prototype.setCurrencyKey=function(e){this.m_currencyKey=e};e.OlapCatalogItem.prototype.getCurrencyText=function(){return this.m_currencyText};e.OlapCatalogItem.prototype.setCurrencyText=function(e){this.m_currencyText=e};e.OlapCatalogItem.prototype.getFormulaOperatorKey=function(){return this.m_formulaOperatorKey};e.OlapCatalogItem.prototype.setFormulaOperatorKey=function(e){this.m_formulaOperatorKey=e};e.OlapCatalogItem.prototype.getFormulaOperatorText=function(){return this.m_formulaOperatorText};e.OlapCatalogItem.prototype.setFormulaOperatorText=function(e){this.m_formulaOperatorText=e};e.OlapCatalogItem.prototype.getFormulaOperatorNumberOfOperands=function(){return this.m_formulaOperatorNumberOfOperands};e.OlapCatalogItem.prototype.setFormulaOperatorNumberOfOperands=function(e){this.m_formulaOperatorNumberOfOperands=e};e.OlapCatalogItem.prototype.releaseObject=function(){this.m_baseDataSource=null;this.m_planningModelName=null;this.m_planningModelSchemaName=null;this.m_dataCategory=null;this.m_internalType=null;this.m_currencyKey=null;this.m_currencyText=null;this.m_currencyTranslationNameKey=null;this.m_currencyTranslationNameText=null;this.m_currencyTargetKey=null;this.m_formulaOperatorKey=null;this.m_formulaOperatorText=null;this.m_queryAlias=null;e.QDataSource.prototype.releaseObject.call(this)};e.OlapCatalogItem.prototype.getBaseDataSource=function(){return this.m_baseDataSource};e.OlapCatalogItem.prototype.setBaseDataSource=function(e){this.m_baseDataSource=e};e.OlapCatalogItem.prototype.isPlanQuery=function(){return this.m_isPlanQuery};e.OlapCatalogItem.prototype.setPlanQuery=function(e){this.m_isPlanQuery=e};e.OlapCatalogItem.prototype.hasMdxFlag=function(){return this.m_hasMdxFlag.getBoolean()};e.OlapCatalogItem.prototype.hasMdxFlagExt=function(){return this.m_hasMdxFlag};e.OlapCatalogItem.prototype.setHasMdxFlag=function(e){this.m_hasMdxFlag=e};e.OlapCatalogItem.prototype.getPlanningModelName=function(){return this.m_planningModelName};e.OlapCatalogItem.prototype.setPlanningModelName=function(e){this.m_planningModelName=e};e.OlapCatalogItem.prototype.getPlanningModelSchemaName=function(){return this.m_planningModelSchemaName};e.OlapCatalogItem.prototype.setPlanningModelSchemaName=function(e){this.m_planningModelSchemaName=e};e.OlapCatalogItem.prototype.getDataCategory=function(){return this.m_dataCategory};e.OlapCatalogItem.prototype.setDataCategory=function(e){this.m_dataCategory=e};e.OlapCatalogItem.prototype.getInternalType=function(){return this.m_internalType};e.OlapCatalogItem.prototype.setInternalType=function(e){this.m_internalType=e};e.OlapCatalogItem.prototype.getPlanningModelDataSource=function(){if(e.XStringUtils.isNullOrEmpty(this.m_planningModelName)){return null}var t=e.QFactory.createDataSourceWithType(e.MetaObjectType.PLANNING_MODEL,this.m_planningModelName);if(e.XStringUtils.isNotNullAndNotEmpty(this.m_planningModelSchemaName)){t.setSchemaName(this.m_planningModelSchemaName)}return t};e.OlapCatalogItem.prototype.getTagValue=function(e){return null};e.OlapCatalogItem.prototype.getContentElement=function(){return this};e.OlapCatalogItem.prototype.getContentConstant=function(){return null};e.OlapCatalogItem.prototype.toString=function(){var t=e.XStringBuffer.create();var a=this.getFullQualifiedName();if(e.XStringUtils.isNotNullAndNotEmpty(a)){this.appendDelimiterIfNotEmpty(t);t.append(a)}var r=this.getText();if(e.XStringUtils.isNotNullAndNotEmpty(r)){if(e.XString.isEqual(r,this.getName())){t.append(" - ")}else{t.append(" + ")}t.append(r)}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_internalType)){this.appendDelimiterIfNotEmpty(t);t.append("Internal Type: ").append(this.m_internalType)}if(this.m_isPlanQuery){this.appendDelimiterIfNotEmpty(t);t.append("Is Planning Query")}var l=this.getPlanningModelDataSource();if(e.notNull(l)&&e.XStringUtils.isNotNullAndNotEmpty(l.getFullQualifiedName())){this.appendDelimiterIfNotEmpty(t);t.append(l.getFullQualifiedName())}if(e.notNull(this.m_baseDataSource)&&e.XStringUtils.isNotNullAndNotEmpty(this.m_baseDataSource.getFullQualifiedName())){this.appendDelimiterIfNotEmpty(t);t.append("Base Data Source: ").append(this.m_baseDataSource.getFullQualifiedName())}if(e.XStringUtils.isNotNullAndNotEmpty(this.m_dataCategory)){this.appendDelimiterIfNotEmpty(t);t.append("Data Category: ").append(this.m_dataCategory)}return t.toString()};e.OlapCatalogItem.prototype.appendDelimiterIfNotEmpty=function(e){if(e.length()>0){e.append(" | ")}};e.OlapCatalogItem.prototype.setQueryAlias=function(e){this.m_queryAlias=e};e.OlapCatalogItem.prototype.getQueryAlias=function(){return this.m_queryAlias};e.OlapCatalogImplModule=function(){};e.OlapCatalogImplModule.prototype=new e.DfModule;e.OlapCatalogImplModule.prototype._ff_c="OlapCatalogImplModule";e.OlapCatalogImplModule.s_module=null;e.OlapCatalogImplModule.getInstance=function(){if(e.isNull(e.OlapCatalogImplModule.s_module)){e.DfModule.checkInitialized(e.OlapImplModule.getInstance());e.DfModule.checkInitialized(e.OlapCatalogApiModule.getInstance());e.OlapCatalogImplModule.s_module=e.DfModule.startExt(new e.OlapCatalogImplModule);var t=e.RegistrationService.getInstance();e.PlanningCatalogServiceConfig.staticSetup();t.addServiceConfig(e.OlapCatalogApiModule.XS_PLANNING_CATALOG,e.PlanningCatalogServiceConfig.CLAZZ);e.PlanningCatalogService.staticSetup();t.addService(e.OlapCatalogApiModule.XS_PLANNING_CATALOG,e.PlanningCatalogService.CLAZZ);e.PlanningModelCatalogServiceConfig.staticSetup();t.addServiceConfig(e.OlapCatalogApiModule.XS_PLANNING_MODEL_CATALOG,e.PlanningModelCatalogServiceConfig.CLAZZ);e.PlanningModelCatalogService.staticSetup();t.addService(e.OlapCatalogApiModule.XS_PLANNING_MODEL_CATALOG,e.PlanningModelCatalogService.CLAZZ);e.OlapCatalogService.staticSetup();t.addService(e.OlapCatalogApiModule.XS_OLAP_CATALOG,e.OlapCatalogService.CLAZZ);e.DfModule.stopExt(e.OlapCatalogImplModule.s_module);e.ProgramRegistration.setProgramFactory(new e.OlapCatalogProgramSubSystem)}return e.OlapCatalogImplModule.s_module};e.OlapCatalogImplModule.prototype.getName=function(){return"ff4330.olap.catalog.impl"};e.OlapCatalogImplModule.getInstance();return sap.firefly});
//# sourceMappingURL=ff4330.olap.catalog.impl.js.map