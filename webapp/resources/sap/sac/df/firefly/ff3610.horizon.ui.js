/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.define(["sap/sac/df/firefly/ff3600.horizon.ui.api"],function(t){"use strict";t.HuHorizonConstants={PARAM_CONFIG:"config",PARAM_CONFIG_FILE:"configFile",PARAM_WORKSPACE:"workspace",DEBUG_LOG_ENV_VARIABLE:"ff_horizon_debug",DEBUG_LOG_ENABLED:false,DEFAULT_HOME_DIRECTORY:"/home/main/",DEFAULT_PLUGIN_DIRECTORY:"${ff_resources}/programs/horizon/plugins",ALT_PLUGIN_DIRECTORY:"/home/main/horizon/plugins",SELECTED_WORKSPACE_PATH_KEY:"selectedWorkSpacePath"};t.HuHorizonInternalNotifications={PLUGIN_STARTED:"com.oFF.Horizon.Notification.PluginStarted",PLUGIN_STARTED_PLUGIN_NAME_NOTIFI_DATA:"com.oFF.Horizon.NotificationData.PluginStartedPluginName",PLUGIN_STARTED_PLUGIN_TYPE_NOTIFI_DATA:"com.oFF.Horizon.NotificationData.PluginStartedPluginType",DOCUMENT_TITLE_CHANGED:"com.oFF.Horizon.Notification.DocumentTitleChanged",DOCUMENT_TITLE_CHANGED_NEW_TITLE_NOTIFI_DATA:"com.oFF.Horizon.NotificationData.DocumentTitleChangedNewTitle",MESSAGE_MANAGER_STATUS_CHANGED:"com.oFF.Horizon.Notification.MessageManagerStatusChanged",MESSAGE_MANAGER_STATUS_CHANGED_NEW_STATUS_NOTIFI_DATA:"com.oFF.Horizon.NotificationData.MessageManagerStatusChangedNewStatus",MESSAGE_MANAGER_NEW_MESSAGE:"com.oFF.Horizon.Notification.MessageManagerNewMessage",MESSAGE_MANAGER_NEW_MESSAGE_MESSAGE_NOTIFI_DATA:"com.oFF.Horizon.NotificationData.MessageManagerNewMessageMessage",MESSAGE_MANAGER_CLEAR_MESSAGES:"com.oFF.Horizon.Notification.MessageManagerClearMessages",MESSAGE_MANAGER_CLEAR_MESSAGES_MESSAGE_TYPE_NOTIFI_DATA:"com.oFF.Horizon.NotificationData.MessageManagerClearMessagesMessageType",MESSAGE_MANAGER_CLEAR_ALL_MESSAGES:"com.oFF.Horizon.Notification.MessageManagerClearAllMessages",STATUS_BAR_MANAGER_CLEAR_MESSAGES_PRESSED:"com.oFF.Horizon.Notification.StatusBarManagerClearMessagesPressed",STATUS_BAR_MANAGER_CLEAR_MESSAGES_PRESSED_MESSAGE_TYPE_NOTIFY_DATA:"com.oFF.Horizon.NotificationData.StatusBarManagerClearMessagesPressedMessageType"};t.HuPluginFactory={newPluginInstance:function(e){var o=t.HuPluginRegistration.getPluginClass(e);if(t.notNull(o)){var n=o.newInstance(null);return n}return null}};t.HuPluginRegistration={s_pluginsDefs:null,staticSetup:function(){t.HuPluginRegistration.s_pluginsDefs=t.XLinkedHashMapByString.create()},registerPluginByClass:function(e){if(t.notNull(e)){try{var o=e.newInstance(null);var n=o.getName();if(!t.HuPluginRegistration.s_pluginsDefs.containsKey(n)){var i=t.HuPluginDef.create(n);i.setFactoryClass(e);t.HuPluginRegistration.s_pluginsDefs.put(n,i)}else{var r=t.HuPluginRegistration.s_pluginsDefs.getByKey(n);if(r.getFactoryClass()===null){r.setFactoryClass(e)}}o=null}catch(e){throw t.XException.createRuntimeException("Failed to register plugin class! Class might be invalid!")}}},registerPluginByManifest:function(e){if(t.notNull(e)){var o=e.getName();if(!t.HuPluginRegistration.s_pluginsDefs.containsKey(o)){var n=t.HuPluginDef.create(o);n.setManifest(e);t.HuPluginRegistration.s_pluginsDefs.put(o,n)}else{var i=t.HuPluginRegistration.s_pluginsDefs.getByKey(o);if(i.getManifest()===null){i.setManifest(e)}}}},getPluginDef:function(e){if(t.XStringUtils.isNotNullAndNotEmpty(e)){return t.HuPluginRegistration.s_pluginsDefs.getByKey(e)}return null},getPluginClass:function(e){if(t.XStringUtils.isNotNullAndNotEmpty(e)){var o=t.HuPluginRegistration.s_pluginsDefs.getByKey(e);if(t.notNull(o)){return o.getFactoryClass()}}return null},isPluginLoaded:function(e){if(t.XStringUtils.isNotNullAndNotEmpty(e)){var o=t.HuPluginRegistration.s_pluginsDefs.getByKey(e);if(t.notNull(o)){return o.isPluginLoaded()}}return false},canPluginBeInitialized:function(e){if(t.XStringUtils.isNotNullAndNotEmpty(e)){var o=t.HuPluginRegistration.s_pluginsDefs.getByKey(e);if(t.notNull(o)){return o.canBeInitialized()}}return false},hasManifest:function(e){if(t.XStringUtils.isNotNullAndNotEmpty(e)){var o=t.HuPluginRegistration.s_pluginsDefs.getByKey(e);if(t.notNull(o)){return o.getManifest()!==null}}return false},getAllRegisteredPluginNames:function(){var e=t.HuPluginRegistration.s_pluginsDefs.getKeysAsReadOnlyListOfString().createListOfStringCopy();e.sortByDirection(t.XSortDirection.ASCENDING);return e},getAllLoadedPluginNamesByType:function(e){var o=t.XListOfString.create();t.XCollectionUtils.forEach(t.HuPluginRegistration.s_pluginsDefs.getValuesAsReadOnlyList(),function(n){if(n.isPluginLoaded()&&(t.isNull(e)||n.getPluginType()===e)){o.add(n.getName())}}.bind(this));o.sortByDirection(t.XSortDirection.ASCENDING);return o},getAllLoadedPluginNames:function(){return t.HuPluginRegistration.getAllLoadedPluginNamesByType(null)},loadApiPlugins:function(){var e=t.HuPluginRegistrationApi.getAllApiPlugins();if(t.notNull(e)&&e.size()>0){t.XCollectionUtils.forEachString(e,function(e){if(!t.HuPluginRegistration.isPluginLoaded(e)){t.HuPluginRegistration.registerPluginByClass(t.HuPluginRegistrationApi.getPluginClass(e))}}.bind(this))}}};t.HuPluginContainerConfigConstants={SIZE_KEY:"size",WIDTH_KEY:"width",HEIGHT_KEY:"height"};t.HuPluginContainerConfig=function(){};t.HuPluginContainerConfig.prototype=new t.XObject;t.HuPluginContainerConfig.prototype._ff_c="HuPluginContainerConfig";t.HuPluginContainerConfig.createFromConfig=function(e){var o=new t.HuPluginContainerConfig;o.setupByConfig(e);return o};t.HuPluginContainerConfig.prototype.m_size=null;t.HuPluginContainerConfig.prototype.releaseObject=function(){this.m_size=t.XObjectExt.release(this.m_size);t.XObject.prototype.releaseObject.call(this)};t.HuPluginContainerConfig.prototype.setupByConfig=function(e){this.m_size=t.UiSize.createEmpty();this.parseConfig(e)};t.HuPluginContainerConfig.prototype.getSize=function(){return this.m_size};t.HuPluginContainerConfig.prototype.setSize=function(e){if(t.notNull(e)){if(e.isStructure()){var o=e.asStructure();var n=o.getStringByKey(t.HuPluginContainerConfigConstants.WIDTH_KEY);var i=o.getStringByKey(t.HuPluginContainerConfigConstants.HEIGHT_KEY);this.m_size.setByCss(n,i)}else if(e.isString()){var r=e.asString().getString();this.m_size.setByCss(r,r)}}};t.HuPluginContainerConfig.prototype.parseConfig=function(e){if(t.notNull(e)&&e.isStructure()){this.setSize(e.getByKey(t.HuPluginContainerConfigConstants.SIZE_KEY))}};t.HuPluginManifestConstants={NAME_KEY:"Name",DESCRIPTION_KEY:"Description",DISPLAY_NAME_KEY:"DisplayName",PLUGIN_TYPE_KEY:"Type",PLUGIN_CATEGORY_KEY:"Category",MODULES_KEY:"Modules",URL_KEY:"Url"};t.HuUtils={formatLogWithContextName:function(e,o){if(t.XStringUtils.isNotNullAndNotEmpty(e)){return t.XStringUtils.concatenate4("(",e,") ",o)}return o}};t.HuHorizonConfigConstants={CONFIG_FILE_NAME:"horizon.cfg",CONFIGIGURATION_SECTION:"configuration",PLUGINS_SECTION:"plugins",COMMANDS_SECTION:"commands",TOOLBAR_SECTION:"toolbar"};t.HuHorizonWorkspaceConstants={HORIZON_DIR_NAME:".horizon",SETTINGS_DIR_NAME:"settings",PLUGIN_SETTINGS_DIR_NAME:"plugins",STATE_FILE_NAME:"state.json"};t.HuConfigurationConstants={TITLE:"title",MENU_VISIBLE:"menuVisible",TOOLBAR_VISIBLE:"toolbarVisible",STATUS_BAR_VISIBLE:"statusBarVisible",PLUGIN_DIRECTORIES:"pluginDirectories",ALLOW_VIEW_REORDERING:"allowViewReordering"};t.HuPluginConfigurationConstants={NAME:"name",PLUGIN:"plugin",CONFIG:"config"};t.HuToolbarConfigurationConstants={ACTION:"action",NAME:"name",TEXT:"text",ICON:"icon",TOOLTIP:"tooltip",GROUP:"group"};t.HuMessage=function(){};t.HuMessage.prototype=new t.XObject;t.HuMessage.prototype._ff_c="HuMessage";t.HuMessage.createInformation=function(e,o,n,i){var r=new t.HuMessage;r.setupMessageObject(e,o,n,t.HuMessageType.INFORMATION,i);return r};t.HuMessage.createSuccess=function(e,o,n,i){var r=new t.HuMessage;r.setupMessageObject(e,o,n,t.HuMessageType.SUCCESS,i);return r};t.HuMessage.createWarning=function(e,o,n,i){var r=new t.HuMessage;r.setupMessageObject(e,o,n,t.HuMessageType.WARNING,i);return r};t.HuMessage.createError=function(e,o,n,i){var r=new t.HuMessage;r.setupMessageObject(e,o,n,t.HuMessageType.ERROR,i);return r};t.HuMessage.prototype.m_title=null;t.HuMessage.prototype.m_subtitle=null;t.HuMessage.prototype.m_description=null;t.HuMessage.prototype.m_messageType=null;t.HuMessage.prototype.m_messageGroup=null;t.HuMessage.prototype.releaseObject=function(){this.m_messageType=null;this.m_messageGroup=null;t.XObject.prototype.releaseObject.call(this)};t.HuMessage.prototype.setupMessageObject=function(e,o,n,i,r){this.m_title=e;this.m_subtitle=o;this.m_description=n;this.m_messageType=i;this.m_messageGroup=r;if(t.isNull(this.m_messageType)){this.m_messageType=t.HuMessageType.INFORMATION}if(t.isNull(this.m_messageGroup)){this.m_messageGroup=t.HuMessageGroup.SYSTEM}};t.HuMessage.prototype.getTitle=function(){return this.m_title};t.HuMessage.prototype.getSubtitle=function(){return this.m_subtitle};t.HuMessage.prototype.getDescription=function(){return this.m_description};t.HuMessage.prototype.getMessageType=function(){return this.m_messageType};t.HuMessage.prototype.getMessageGroup=function(){return this.m_messageGroup};t.HuLogger=function(){};t.HuLogger.prototype=new t.XObject;t.HuLogger.prototype._ff_c="HuLogger";t.HuLogger.INFO_PREFIX="[Info] ";t.HuLogger.DEBUG_PREFIX="[Debug] ";t.HuLogger.createNewLogger=function(){var e=new t.HuLogger;return e};t.HuLogger.prototype.m_isDebugLogEnabled=false;t.HuLogger.prototype.releaseObject=function(){t.XObject.prototype.releaseObject.call(this)};t.HuLogger.prototype.setDebugEnabled=function(t){this.m_isDebugLogEnabled=t};t.HuLogger.prototype.logInfo=function(e){t.XLogger.println(t.XStringUtils.concatenate2(t.HuLogger.INFO_PREFIX,e))};t.HuLogger.prototype.logDebug=function(e){if(this.m_isDebugLogEnabled){t.XLogger.println(t.XStringUtils.concatenate2(t.HuLogger.DEBUG_PREFIX,e))}};t.HuHorizonDebugService=function(){};t.HuHorizonDebugService.prototype=new t.XObject;t.HuHorizonDebugService.prototype._ff_c="HuHorizonDebugService";t.HuHorizonDebugService.create=function(e){var o=new t.HuHorizonDebugService;o.setupInternal(e);return o};t.HuHorizonDebugService.prototype.m_process=null;t.HuHorizonDebugService.prototype.releaseObject=function(){this.m_process=null;t.XObject.prototype.releaseObject.call(this)};t.HuHorizonDebugService.prototype.setupInternal=function(t){this.m_process=t};t.HuHorizonDebugService.prototype.isDebugModeEnabled=function(){return this.getProcess().getEnvironment().getBooleanByKeyExt(t.HuHorizonConstants.DEBUG_LOG_ENV_VARIABLE,t.HuHorizonConstants.DEBUG_LOG_ENABLED)};t.HuHorizonDebugService.prototype.presentPluginProcessTaskManger=function(){var e=t.SuTaskManager.createDialogRunnerForProcessId(this.getProcess(),this.getProcess().getProcessId());e.runProgram()};t.HuHorizonDebugService.prototype.getProcess=function(){return this.m_process};t.HuPluginNameConfig=function(){};t.HuPluginNameConfig.prototype=new t.XObject;t.HuPluginNameConfig.prototype._ff_c="HuPluginNameConfig";t.HuPluginNameConfig.create=function(e,o,n){var i=new t.HuPluginNameConfig;i.setupInternal(e,o,n);return i};t.HuPluginNameConfig.prototype.m_pluginName=null;t.HuPluginNameConfig.prototype.m_name=null;t.HuPluginNameConfig.prototype.m_config=null;t.HuPluginNameConfig.prototype.releaseObject=function(){this.m_pluginName=null;this.m_config=null;this.m_name=null};t.HuPluginNameConfig.prototype.setupInternal=function(t,e,o){this.m_pluginName=t;this.m_config=e;this.m_name=o};t.HuPluginNameConfig.prototype.getName=function(){return this.m_name};t.HuPluginNameConfig.prototype.getPluginName=function(){return this.m_pluginName};t.HuPluginNameConfig.prototype.getConfig=function(){return this.m_config};t.HuToolbarItem=function(){};t.HuToolbarItem.prototype=new t.XObject;t.HuToolbarItem.prototype._ff_c="HuToolbarItem";t.HuToolbarItem.create=function(e,o,n,i,r,s){var a=new t.HuToolbarItem;a.setupToolbarItem(e,o,n,i,r,s);return a};t.HuToolbarItem.prototype.m_actionId=null;t.HuToolbarItem.prototype.m_name=null;t.HuToolbarItem.prototype.m_text=null;t.HuToolbarItem.prototype.m_icon=null;t.HuToolbarItem.prototype.m_tooltip=null;t.HuToolbarItem.prototype.m_group=null;t.HuToolbarItem.prototype.releaseObject=function(){this.m_group=null;t.XObject.prototype.releaseObject.call(this)};t.HuToolbarItem.prototype.setupToolbarItem=function(e,o,n,i,r,s){this.m_actionId=e;this.m_name=o;this.m_text=n;this.m_icon=i;this.m_tooltip=r;this.m_group=s;if(t.XStringUtils.isNullOrEmpty(this.m_icon)){this.m_icon="question-mark"}if(t.isNull(this.m_group)){this.m_group=t.HuToolbarGroup.UNGROUPED}};t.HuToolbarItem.prototype.isValid=function(){return t.XStringUtils.isNotNullAndNotEmpty(this.m_actionId)};t.HuToolbarItem.prototype.getActionId=function(){return this.m_actionId};t.HuToolbarItem.prototype.getName=function(){return this.m_name};t.HuToolbarItem.prototype.getText=function(){return this.m_text};t.HuToolbarItem.prototype.getIcon=function(){return this.m_icon};t.HuToolbarItem.prototype.getTooltip=function(){return this.m_tooltip};t.HuToolbarItem.prototype.getGroup=function(){return this.m_group};t.HuHorizonBootConfig=function(){};t.HuHorizonBootConfig.prototype=new t.XObjectExt;t.HuHorizonBootConfig.prototype._ff_c="HuHorizonBootConfig";t.HuHorizonBootConfig.create=function(){var e=new t.HuHorizonBootConfig;e.setupBootConfig();return e};t.HuHorizonBootConfig.prototype.m_configStr=null;t.HuHorizonBootConfig.prototype.m_configFilePath=null;t.HuHorizonBootConfig.prototype.releaseObject=function(){t.XObjectExt.prototype.releaseObject.call(this)};t.HuHorizonBootConfig.prototype.setupBootConfig=function(){};t.HuHorizonBootConfig.prototype.setConfigString=function(t){this.m_configStr=t};t.HuHorizonBootConfig.prototype.getConfigString=function(){return this.m_configStr};t.HuHorizonBootConfig.prototype.setConfigFilePath=function(t){this.m_configFilePath=t};t.HuHorizonBootConfig.prototype.getConfigFilePath=function(){return this.m_configFilePath};t.HuHorizonBootConfig.prototype.shouldBootIntoVirtualWorkspace=function(){return t.XStringUtils.isNotNullAndNotEmpty(this.getConfigString())||t.XStringUtils.isNotNullAndNotEmpty(this.getConfigFilePath())};t.HuPluginManifest=function(){};t.HuPluginManifest.prototype=new t.XObject;t.HuPluginManifest.prototype._ff_c="HuPluginManifest";t.HuPluginManifest.createByStructure=function(e){var o=new t.HuPluginManifest;o.setupByStructure(e);if(o.isValid()){return o}return null};t.HuPluginManifest.prototype.m_name=null;t.HuPluginManifest.prototype.m_description=null;t.HuPluginManifest.prototype.m_displayName=null;t.HuPluginManifest.prototype.m_pluginType=null;t.HuPluginManifest.prototype.m_pluginCategory=null;t.HuPluginManifest.prototype.m_moduleDependencies=null;t.HuPluginManifest.prototype.m_url=null;t.HuPluginManifest.prototype.releaseObject=function(){this.m_pluginType=null;t.XObject.prototype.releaseObject.call(this)};t.HuPluginManifest.prototype.setupInternal=function(){this.m_moduleDependencies=t.XListOfString.create()};t.HuPluginManifest.prototype.setupByStructure=function(t){this.setupInternal();this.parseStructure(t)};t.HuPluginManifest.prototype.getName=function(){return this.m_name};t.HuPluginManifest.prototype.getDescription=function(){return this.m_description};t.HuPluginManifest.prototype.getDisplayName=function(){return this.m_displayName};t.HuPluginManifest.prototype.getPluginType=function(){return this.m_pluginType};t.HuPluginManifest.prototype.getPluginCategory=function(){return this.m_pluginCategory};t.HuPluginManifest.prototype.getDependencies=function(){return this.m_moduleDependencies};t.HuPluginManifest.prototype.getUrl=function(){return this.m_url};t.HuPluginManifest.prototype.setName=function(t){this.m_name=t};t.HuPluginManifest.prototype.setDescription=function(t){this.m_description=t};t.HuPluginManifest.prototype.setDisplayName=function(t){this.m_displayName=t};t.HuPluginManifest.prototype.setPluginType=function(t){this.m_pluginType=t};t.HuPluginManifest.prototype.setPluginCategory=function(t){this.m_pluginCategory=t};t.HuPluginManifest.prototype.addModuleDependency=function(t){if(!this.m_moduleDependencies.contains(t)){this.m_moduleDependencies.add(t)}};t.HuPluginManifest.prototype.setUrl=function(t){this.m_url=t};t.HuPluginManifest.prototype.isValid=function(){return t.XStringUtils.isNotNullAndNotEmpty(this.m_name)};t.HuPluginManifest.prototype.parseStructure=function(e){if(t.notNull(e)&&e.isStructure()){this.setName(e.getStringByKey(t.HuPluginManifestConstants.NAME_KEY));this.setDescription(e.getStringByKey(t.HuPluginManifestConstants.DESCRIPTION_KEY));this.setDisplayName(e.getStringByKey(t.HuPluginManifestConstants.DISPLAY_NAME_KEY));this.setPluginType(t.HuHorizonPluginType.lookup(e.getStringByKey(t.HuPluginManifestConstants.PLUGIN_TYPE_KEY)));this.setPluginCategory(t.HuHorizonPluginCategory.lookup(e.getStringByKey(t.HuPluginManifestConstants.PLUGIN_CATEGORY_KEY)));this.processModuleDependencies(e.getListByKey(t.HuPluginManifestConstants.MODULES_KEY));this.setUrl(e.getStringByKey(t.HuPluginManifestConstants.URL_KEY))}else{throw t.XException.createRuntimeException("Missing or invalid plugin manifest json!")}};t.HuPluginManifest.prototype.processModuleDependencies=function(e){if(t.notNull(e)&&e.isList()){for(var o=0;o<e.size();o++){if(e.getElementTypeAt(o)===t.PrElementType.STRING){var n=e.getStringAt(o);this.addModuleDependency(n)}}}};t.HuDfHorizonProcessor=function(){};t.HuDfHorizonProcessor.prototype=new t.XObject;t.HuDfHorizonProcessor.prototype._ff_c="HuDfHorizonProcessor";t.HuDfHorizonProcessor.prototype.m_logger=null;t.HuDfHorizonProcessor.prototype.releaseObject=function(){this.m_logger=null;t.XObject.prototype.releaseObject.call(this)};t.HuDfHorizonProcessor.prototype.setupWithLogger=function(t){this.m_logger=t};t.HuDfHorizonProcessor.prototype.getLogger=function(){return this.m_logger};t.HuDfHorizonProcessor.prototype.getLogContextName=function(){return this.getProcessorName()};t.HuDfHorizonProcessor.prototype.logInfo=function(e){if(this.getLogger()!==null){this.getLogger().logInfo(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))}};t.HuDfHorizonProcessor.prototype.logDebug=function(e){if(this.getLogger()!==null){this.getLogger().logDebug(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))}};t.HuPluginLoaderService=function(){};t.HuPluginLoaderService.prototype=new t.XObject;t.HuPluginLoaderService.prototype._ff_c="HuPluginLoaderService";t.HuPluginLoaderService.create=function(e,o){var n=new t.HuPluginLoaderService;n.setupInternal(e,o);return n};t.HuPluginLoaderService.prototype.m_logger=null;t.HuPluginLoaderService.prototype.m_process=null;t.HuPluginLoaderService.prototype.m_modulesInProgressList=null;t.HuPluginLoaderService.prototype.releaseObject=function(){this.m_logger=null;this.m_process=null;this.m_modulesInProgressList.clear();this.m_modulesInProgressList=t.XObjectExt.release(this.m_modulesInProgressList);t.XObject.prototype.releaseObject.call(this)};t.HuPluginLoaderService.prototype.setupInternal=function(e,o){this.m_logger=e;if(t.isNull(this.m_logger)){this.m_logger=t.HuLogger.createNewLogger()}this.m_process=o;this.m_modulesInProgressList=t.XList.create()};t.HuPluginLoaderService.prototype.getLogger=function(){return this.m_logger};t.HuPluginLoaderService.prototype.getLogContextName=function(){return"Plugin Loader"};t.HuPluginLoaderService.prototype.logInfo=function(e){this.getLogger().logInfo(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuPluginLoaderService.prototype.logDebug=function(e){this.getLogger().logDebug(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuPluginLoaderService.prototype.loadPlugin=function(e){var o=t.XPromise.create(function(o,n){if(e.isPluginLoaded()){this.logDebug(t.XStringUtils.concatenate2("Plugin already loaded: ",e.getName()));o(t.XBooleanValue.create(true))}else{if(e.canLoadLibraryByUrl()){this.loadPluginLibrary(e).onFinally(function(){o(t.XBooleanValue.create(true))}.bind(this))}else{this.loadPluginModuleDependencies(e).onFinally(function(){o(t.XBooleanValue.create(true))}.bind(this))}}}.bind(this));return o};t.HuPluginLoaderService.prototype.getProcess=function(){return this.m_process};t.HuPluginLoaderService.prototype.getModuleManager=function(){return this.getProcess().getKernel()};t.HuPluginLoaderService.prototype.loadPluginModuleDependencies=function(e){var o=t.XPromise.create(function(o,n){if(t.isNull(e)||e.getManifest()===null||e.isPluginLoaded()){o(t.XBooleanValue.create(true));return}var i=e.getManifest().getDependencies();if(t.isNull(i)||i.size()===0){o(t.XBooleanValue.create(true));return}this.getLogger().logDebug(t.XStringUtils.concatenate4("Loading ",e.getName()," module dependencies: ",t.XCollectionUtils.join(i,", ")));this.getModuleManager().processMultiModulesLoad(t.SyncType.NON_BLOCKING,i,t.UiLambdaModuleLoadedMultiListener.create(function(n,i){this.logDebug(t.XStringUtils.concatenate3("Dependencies for plugin ",e.getName()," successfully loaded!"));o(t.XBooleanValue.create(true))}.bind(this)),null)}.bind(this));return o};t.HuPluginLoaderService.prototype.loadPluginLibrary=function(e){var o=t.XPromise.create(function(o,n){var i=t.ModuleManager.getModuleDef(e.getName());if(t.isNull(i)){i=t.ModuleManager.registerLibrary(e.getName(),e.getName(),e.getManifest().getUrl())}if(t.notNull(i)){this.getLogger().logDebug(t.XStringUtils.concatenate2("Loading plugin library: ",e.getName()));var r=t.XListOfString.create();r.add(i.getName());this.getModuleManager().processMultiModulesLoad(t.SyncType.NON_BLOCKING,r,t.UiLambdaModuleLoadedMultiListener.create(function(n,i){this.getLogger().logDebug(t.XStringUtils.concatenate4("Plugin library ",e.getManifest().getName()," successfully loaded from: ",e.getManifest().getUrl()));o(t.XBooleanValue.create(true))}.bind(this)),null)}else{this.logDebug(t.XStringUtils.concatenate2("Library not found: ",e.getName()));o(t.XBooleanValue.create(true))}}.bind(this));return o};t.HuDfHorizonBootAction=function(){};t.HuDfHorizonBootAction.prototype=new t.XObjectExt;t.HuDfHorizonBootAction.prototype._ff_c="HuDfHorizonBootAction";t.HuDfHorizonBootAction.prototype.m_bootController=null;t.HuDfHorizonBootAction.prototype.releaseObject=function(){this.m_bootController=null;t.XObjectExt.prototype.releaseObject.call(this)};t.HuDfHorizonBootAction.prototype.setupWithBootController=function(t){this.m_bootController=t;this.setupAction()};t.HuDfHorizonBootAction.prototype.getLocalStorage=function(){return this.getBootController().getLocalStorage()};t.HuDfHorizonBootAction.prototype.getLocalNotificationCenter=function(){return this.getBootController().getLocalNotificationCenter()};t.HuDfHorizonBootAction.prototype.getLogger=function(){return this.getBootController().getLogger()};t.HuDfHorizonBootAction.prototype.getLogContextName=function(){return"Boot Action"};t.HuDfHorizonBootAction.prototype.logInfo=function(e){this.getLogger().logInfo(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuDfHorizonBootAction.prototype.logDebug=function(e){this.getLogger().logDebug(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuDfHorizonBootAction.prototype.getBootController=function(){return this.m_bootController};t.HuDfHorizonManager=function(){};t.HuDfHorizonManager.prototype=new t.XObject;t.HuDfHorizonManager.prototype._ff_c="HuDfHorizonManager";t.HuDfHorizonManager.prototype.m_toolContext=null;t.HuDfHorizonManager.prototype.releaseObject=function(){this.m_toolContext=null;t.XObject.prototype.releaseObject.call(this)};t.HuDfHorizonManager.prototype.setupWithToolsContext=function(t){this.m_toolContext=t;this.logDebug("-> Init");this.setupManager()};t.HuDfHorizonManager.prototype.setToolsContext=function(t){this.m_toolContext=t};t.HuDfHorizonManager.prototype.getLocalStorage=function(){return this.m_toolContext.getLocalStorage()};t.HuDfHorizonManager.prototype.getLocalNotificationCenter=function(){return this.m_toolContext.getLocalNotificationCenter()};t.HuDfHorizonManager.prototype.getLogger=function(){return this.m_toolContext.getLogger()};t.HuDfHorizonManager.prototype.getLogContextName=function(){return this.getManagerName()};t.HuDfHorizonManager.prototype.logInfo=function(e){if(this.getLogger()!==null){this.getLogger().logInfo(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))}};t.HuDfHorizonManager.prototype.logDebug=function(e){if(this.getLogger()!==null){this.getLogger().logDebug(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))}};t.HuPluginDef=function(){};t.HuPluginDef.prototype=new t.XObject;t.HuPluginDef.prototype._ff_c="HuPluginDef";t.HuPluginDef.create=function(e){var o=new t.HuPluginDef;o.setupWithName(e);return o};t.HuPluginDef.prototype.m_name=null;t.HuPluginDef.prototype.m_factoryClass=null;t.HuPluginDef.prototype.m_metadataInstance=null;t.HuPluginDef.prototype.m_manifest=null;t.HuPluginDef.prototype.releaseObject=function(){this.m_factoryClass=null;this.m_metadataInstance=null;this.m_manifest=null;t.XObject.prototype.releaseObject.call(this)};t.HuPluginDef.prototype.setupWithName=function(t){this.m_name=t};t.HuPluginDef.prototype.setFactoryClass=function(e){if(t.isNull(this.m_factoryClass)){this.m_factoryClass=e;this.createMetadataInstance(e)}};t.HuPluginDef.prototype.setManifest=function(e){if(t.isNull(this.m_manifest)){this.m_manifest=e}};t.HuPluginDef.prototype.setMetadata=function(e){if(t.isNull(this.m_metadataInstance)){this.m_metadataInstance=e}};t.HuPluginDef.prototype.getFactoryClass=function(){return this.m_factoryClass};t.HuPluginDef.prototype.getMetadata=function(){return this.m_metadataInstance};t.HuPluginDef.prototype.getManifest=function(){return this.m_manifest};t.HuPluginDef.prototype.isPluginLoaded=function(){return this.getFactoryClass()!==null};t.HuPluginDef.prototype.canLoadLibraryByUrl=function(){return this.getManifest()!==null&&t.XStringUtils.isNotNullAndNotEmpty(this.getManifest().getUrl())&&t.XLanguage.getLanguage()===t.XLanguage.JAVASCRIPT||t.XLanguage.getLanguage()===t.XLanguage.TYPESCRIPT};t.HuPluginDef.prototype.canBeInitialized=function(){return this.isPluginLoaded()&&this.getPluginType()!==null};t.HuPluginDef.prototype.isPluginFullyValid=function(){return this.canBeInitialized()&&this.getManifest()!==null};t.HuPluginDef.prototype.getName=function(){if(t.XStringUtils.isNullOrEmpty(this.m_name)){try{this.m_name=this.getMetadata().getName()}catch(e){if(this.getManifest()!==null&&t.XStringUtils.isNotNullAndNotEmpty(this.getManifest().getName())){this.m_name=this.getManifest().getName()}}}return this.m_name};t.HuPluginDef.prototype.getDescription=function(){var e=null;try{e=this.getMetadata().getDescription()}catch(o){if(this.getManifest()!==null&&t.XStringUtils.isNotNullAndNotEmpty(this.getManifest().getDescription())){e=this.getManifest().getDescription()}}return e};t.HuPluginDef.prototype.getDisplayName=function(){var e=null;try{e=this.getMetadata().getDisplayName()}catch(o){if(this.getManifest()!==null&&t.XStringUtils.isNotNullAndNotEmpty(this.getManifest().getDisplayName())){e=this.getManifest().getDisplayName()}}return e};t.HuPluginDef.prototype.getPluginType=function(){var t=null;try{t=this.getMetadata().getPluginType()}catch(e){if(this.getManifest()!==null&&this.getManifest().getPluginType()!==null){t=this.getManifest().getPluginType()}}return t};t.HuPluginDef.prototype.getPluginCategory=function(){var e=t.HuHorizonPluginCategory.OTHER;try{e=this.getMetadata().getPluginCategory()}catch(t){if(this.getManifest()!==null&&this.getManifest().getPluginCategory()!==null){e=this.getManifest().getPluginCategory()}}return e};t.HuPluginDef.prototype.getDependencies=function(){if(this.getManifest()!==null){return this.getManifest().getDependencies()}return null};t.HuPluginDef.prototype.getUrl=function(){if(this.getManifest()!==null){return this.getManifest().getUrl()}return null};t.HuPluginDef.prototype.createMetadataInstance=function(e){if(t.notNull(e)){var o=e.newInstance(null);this.m_metadataInstance=o}else{throw t.XException.createRuntimeException("Failed to create plugin manifest from metadata class! Class might be invalid!")}};t.HuConfigurationGeneralProcessor=function(){};t.HuConfigurationGeneralProcessor.prototype=new t.HuDfHorizonProcessor;t.HuConfigurationGeneralProcessor.prototype._ff_c="HuConfigurationGeneralProcessor";t.HuConfigurationGeneralProcessor.create=function(e,o){var n=new t.HuConfigurationGeneralProcessor;n.setupWithLogger(e);n.setupWitJson(o);return n};t.HuConfigurationGeneralProcessor.prototype.m_configurationJson=null;t.HuConfigurationGeneralProcessor.prototype.releaseObject=function(){this.m_configurationJson=null;t.HuDfHorizonProcessor.prototype.releaseObject.call(this)};t.HuConfigurationGeneralProcessor.prototype.setupWitJson=function(t){this.m_configurationJson=t};t.HuConfigurationGeneralProcessor.prototype.getProcessorName=function(){return"General Configuration Processor"};t.HuConfigurationGeneralProcessor.prototype.getWorkspaceTitle=function(){return this.getConfigurationJson().getStringByKeyExt(t.HuConfigurationConstants.TITLE,"Horizon")};t.HuConfigurationGeneralProcessor.prototype.setWorkspaceTitle=function(e){this.getConfigurationJson().putString(t.HuConfigurationConstants.TITLE,e);return this};t.HuConfigurationGeneralProcessor.prototype.isMenuVisible=function(){return this.getConfigurationJson().getBooleanByKeyExt(t.HuConfigurationConstants.MENU_VISIBLE,true)};t.HuConfigurationGeneralProcessor.prototype.setMenuVisible=function(e){this.getConfigurationJson().putBoolean(t.HuConfigurationConstants.MENU_VISIBLE,e);return this};t.HuConfigurationGeneralProcessor.prototype.isToolbarVisible=function(){return this.getConfigurationJson().getBooleanByKeyExt(t.HuConfigurationConstants.TOOLBAR_VISIBLE,true)};t.HuConfigurationGeneralProcessor.prototype.isToolbarPropertySet=function(){return this.getConfigurationJson().containsKey(t.HuConfigurationConstants.TOOLBAR_VISIBLE)};t.HuConfigurationGeneralProcessor.prototype.setToolbarVisible=function(e){this.getConfigurationJson().putBoolean(t.HuConfigurationConstants.TOOLBAR_VISIBLE,e);return this};t.HuConfigurationGeneralProcessor.prototype.isStatusBarVisible=function(){return this.getConfigurationJson().getBooleanByKeyExt(t.HuConfigurationConstants.STATUS_BAR_VISIBLE,true)};t.HuConfigurationGeneralProcessor.prototype.setStatusBarVisible=function(e){this.getConfigurationJson().putBoolean(t.HuConfigurationConstants.STATUS_BAR_VISIBLE,e);return this};t.HuConfigurationGeneralProcessor.prototype.getPluginDirectories=function(){var e=this.getConfigurationJson().getListByKey(t.HuConfigurationConstants.PLUGIN_DIRECTORIES);var o=t.XListOfString.create();if(t.notNull(e)){for(var n=0;n<e.size();n++){if(e.getElementTypeAt(n)===t.PrElementType.STRING){var i=e.getStringAt(n);o.add(i)}}}return o};t.HuConfigurationGeneralProcessor.prototype.addPluginDirectory=function(e){var o=this.getConfigurationJson().getListByKey(t.HuConfigurationConstants.PLUGIN_DIRECTORIES);if(t.isNull(o)){o=this.getConfigurationJson().putNewList(t.HuConfigurationConstants.PLUGIN_DIRECTORIES)}if(t.XStringUtils.isNotNullAndNotEmpty(e)){o.addString(e)}return this};t.HuConfigurationGeneralProcessor.prototype.removePluginDirectory=function(e){var o=this.getConfigurationJson().getListByKey(t.HuConfigurationConstants.PLUGIN_DIRECTORIES);if(t.isNull(o)){o=this.getConfigurationJson().putNewList(t.HuConfigurationConstants.PLUGIN_DIRECTORIES)}if(t.XStringUtils.isNotNullAndNotEmpty(e)){o.removeElement(t.PrFactory.createString(e))}return this};t.HuConfigurationGeneralProcessor.prototype.isViewReorderingAllowed=function(){return this.getConfigurationJson().getBooleanByKeyExt(t.HuConfigurationConstants.ALLOW_VIEW_REORDERING,false)};t.HuConfigurationGeneralProcessor.prototype.setViewReorderingAllowed=function(e){this.getConfigurationJson().putBoolean(t.HuConfigurationConstants.ALLOW_VIEW_REORDERING,e);return this};t.HuConfigurationGeneralProcessor.prototype.getConfigurationJson=function(){return this.m_configurationJson};t.HuConfigurationPluginsProcessor=function(){};t.HuConfigurationPluginsProcessor.prototype=new t.HuDfHorizonProcessor;t.HuConfigurationPluginsProcessor.prototype._ff_c="HuConfigurationPluginsProcessor";t.HuConfigurationPluginsProcessor.create=function(e,o,n){var i=new t.HuConfigurationPluginsProcessor;i.setupWithLogger(e);i.setupWithPluginsJson(o,n);return i};t.HuConfigurationPluginsProcessor.prototype.m_allConfigPlugins=null;t.HuConfigurationPluginsProcessor.prototype.m_startupViewPlugins=null;t.HuConfigurationPluginsProcessor.prototype.m_commandPluginsToStart=null;t.HuConfigurationPluginsProcessor.prototype.m_invalidPluginNames=null;t.HuConfigurationPluginsProcessor.prototype.releaseObject=function(){t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_commandPluginsToStart);t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_startupViewPlugins);t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_allConfigPlugins);this.m_invalidPluginNames=t.XObjectExt.release(this.m_invalidPluginNames);t.HuDfHorizonProcessor.prototype.releaseObject.call(this)};t.HuConfigurationPluginsProcessor.prototype.setupWithPluginsJson=function(e,o){this.m_allConfigPlugins=t.XList.create();this.m_startupViewPlugins=t.XList.create();this.m_commandPluginsToStart=t.XList.create();this.m_invalidPluginNames=t.XListOfString.create();this._processConfigSection(e);this._processConfigSection(o);this._validatePlugins();this._groupPlugins()};t.HuConfigurationPluginsProcessor.prototype.getProcessorName=function(){return"Plugins Configuration Processor"};t.HuConfigurationPluginsProcessor.prototype.getAllStartupPlugins=function(){var e=t.XListOfString.create();t.XCollectionUtils.forEach(this.m_allConfigPlugins,function(t){e.add(t.getPluginName())}.bind(this));return e};t.HuConfigurationPluginsProcessor.prototype.hasStartupViewPlugins=function(){return this.m_startupViewPlugins.hasElements()};t.HuConfigurationPluginsProcessor.prototype.processStartupViewPlugins=function(e){if(t.notNull(e)){t.XCollectionUtils.forEach(this.m_startupViewPlugins,function(t){e(t)}.bind(this))}};t.HuConfigurationPluginsProcessor.prototype.processCommands=function(e){if(t.notNull(e)){t.XCollectionUtils.forEach(this.m_commandPluginsToStart,function(t){e(t)}.bind(this))}};t.HuConfigurationPluginsProcessor.prototype.getInvalidPluginNames=function(){return this.m_invalidPluginNames};t.HuConfigurationPluginsProcessor.prototype._processConfigSection=function(e){if(t.notNull(e)){if(e.isStructure()){this._processPluginStructure(e.asStructure())}else if(e.isList()){this._processPluginList(e.asList())}else if(e.isString()){this._processPluginString(e.asString())}}};t.HuConfigurationPluginsProcessor.prototype._processPluginStructure=function(e){var o=e.getKeysAsReadOnlyListOfString();t.XCollectionUtils.forEachString(o,function(o){var n=e.getStructureByKey(o).getStringByKey(t.HuPluginConfigurationConstants.PLUGIN);if(t.XStringUtils.isNullOrEmpty(n)){n=o}if(t.XStringUtils.isNotNullAndNotEmpty(n)){var i=e.getStructureByKey(o).getStringByKey(t.HuPluginConfigurationConstants.NAME);var r=e.getStructureByKey(o).getStructureByKey(t.HuPluginConfigurationConstants.CONFIG);if(t.isNull(r)){r=e.getStructureByKey(o)}if(t.isNull(r)){r=t.PrFactory.createStructure()}var s=t.HuPluginNameConfig.create(n,r,i);this.m_allConfigPlugins.add(s)}}.bind(this))};t.HuConfigurationPluginsProcessor.prototype._processPluginList=function(e){t.XCollectionUtils.forEach(e,function(e){if(e.isStructure()){var o=e.asStructure();var n=o.getStringByKey(t.HuPluginConfigurationConstants.PLUGIN);if(t.XStringUtils.isNotNullAndNotEmpty(n)){var i=o.getStringByKey(t.HuPluginConfigurationConstants.NAME);var r=o.getStructureByKey(t.HuPluginConfigurationConstants.CONFIG);if(t.isNull(r)){r=t.PrFactory.createStructure()}var s=t.HuPluginNameConfig.create(n,r,i);this.m_allConfigPlugins.add(s)}}else if(e.isString()){var a=e.asString().getString();var u=t.HuPluginNameConfig.create(a,t.PrFactory.createStructure(),null);this.m_allConfigPlugins.add(u)}}.bind(this))};t.HuConfigurationPluginsProcessor.prototype._processPluginString=function(e){var o=e.getString();var n=t.HuPluginNameConfig.create(o,t.PrFactory.createStructure(),null);this.m_allConfigPlugins.add(n)};t.HuConfigurationPluginsProcessor.prototype._validatePlugins=function(){if(t.notNull(this.m_allConfigPlugins)&&this.m_allConfigPlugins.size()>0){var e=t.XList.create();t.XCollectionUtils.forEach(this.m_allConfigPlugins,function(o){var n=o.getPluginName();var i=t.HuPluginRegistration.canPluginBeInitialized(n);if(i){e.add(o)}else{this.m_invalidPluginNames.add(n)}}.bind(this));this.m_allConfigPlugins.clear();this.m_allConfigPlugins=t.XObjectExt.release(this.m_allConfigPlugins);this.m_allConfigPlugins=e}};t.HuConfigurationPluginsProcessor.prototype._groupPlugins=function(){if(t.notNull(this.m_allConfigPlugins)&&this.m_allConfigPlugins.size()>0){t.XCollectionUtils.forEach(this.m_allConfigPlugins,function(e){var o=t.HuPluginRegistration.getPluginDef(e.getPluginName());if(o.getPluginType()===t.HuHorizonPluginType.COMPONENT){this.m_startupViewPlugins.add(e)}else if(o.getPluginType()===t.HuHorizonPluginType.DOCUMENT){this.m_startupViewPlugins.add(e)}else if(o.getPluginType()===t.HuHorizonPluginType.COMMAND){this.m_commandPluginsToStart.add(e)}}.bind(this))}};t.HuConfigurationToolbarProcessor=function(){};t.HuConfigurationToolbarProcessor.prototype=new t.HuDfHorizonProcessor;t.HuConfigurationToolbarProcessor.prototype._ff_c="HuConfigurationToolbarProcessor";t.HuConfigurationToolbarProcessor.create=function(e,o){var n=new t.HuConfigurationToolbarProcessor;n.setupWithLogger(e);n.setupWithToolbarJson(o);return n};t.HuConfigurationToolbarProcessor.prototype.m_allToolbarItems=null;t.HuConfigurationToolbarProcessor.prototype.m_allGroupsInOrder=null;t.HuConfigurationToolbarProcessor.prototype.m_groupedToolbarItems=null;t.HuConfigurationToolbarProcessor.prototype.releaseObject=function(){this.m_groupedToolbarItems.clear();this.m_groupedToolbarItems=t.XObjectExt.release(this.m_groupedToolbarItems);this.m_allGroupsInOrder.clear();this.m_allGroupsInOrder=t.XObjectExt.release(this.m_allGroupsInOrder);this.m_allToolbarItems=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_allToolbarItems);t.HuDfHorizonProcessor.prototype.releaseObject.call(this)};t.HuConfigurationToolbarProcessor.prototype.setupWithToolbarJson=function(e){this.m_allToolbarItems=t.XList.create();this.m_allGroupsInOrder=t.XList.create();this.m_groupedToolbarItems=t.XLinkedHashMapByString.create();this._processToolbarSection(e);this._createGroupsAndGroupItems()};t.HuConfigurationToolbarProcessor.prototype.getProcessorName=function(){return"Toolbar Configuration Processor"};t.HuConfigurationToolbarProcessor.prototype.getAllToolbarItems=function(){return this.m_allToolbarItems};t.HuConfigurationToolbarProcessor.prototype.getAllGroupsInOrder=function(){return this.m_allGroupsInOrder};t.HuConfigurationToolbarProcessor.prototype.getAllToolbarItemsGrouped=function(){return this.m_groupedToolbarItems};t.HuConfigurationToolbarProcessor.prototype.hasToolbarItems=function(){return this.getAllToolbarItems().hasElements()};t.HuConfigurationToolbarProcessor.prototype._processToolbarSection=function(e){if(t.notNull(e)){if(e.isList()){this._processToolbarList(e.asList())}}};t.HuConfigurationToolbarProcessor.prototype._processToolbarList=function(e){t.XCollectionUtils.forEach(e,function(e){if(e.isStructure()){var o=e.asStructure();var n=o.getStringByKey(t.HuToolbarConfigurationConstants.ACTION);if(t.XStringUtils.isNotNullAndNotEmpty(n)){var i=o.getStringByKey(t.HuToolbarConfigurationConstants.NAME);var r=o.getStringByKey(t.HuToolbarConfigurationConstants.TEXT);var s=o.getStringByKey(t.HuToolbarConfigurationConstants.ICON);var a=o.getStringByKey(t.HuToolbarConfigurationConstants.TOOLTIP);var u=o.getStringByKey(t.HuToolbarConfigurationConstants.GROUP);var l=t.HuToolbarGroup.UNGROUPED;if(t.XStringUtils.isNotNullAndNotEmpty(u)){l=t.HuToolbarGroup.createCustomGroupIfNecessary(u)}var g=t.HuToolbarItem.create(n,i,r,s,a,l);this.m_allToolbarItems.add(g)}}else if(e.isString()){var c=e.asString().getString();var p=t.HuToolbarItem.create(c,null,null,null,null,null);this.m_allToolbarItems.add(p)}}.bind(this))};t.HuConfigurationToolbarProcessor.prototype._createGroupsAndGroupItems=function(){if(t.notNull(this.m_allToolbarItems)&&this.m_allToolbarItems.size()>0){t.XCollectionUtils.forEach(this.m_allToolbarItems,function(e){var o=e.getGroup();if(o!==t.HuToolbarGroup.UNGROUPED&&!this.m_allGroupsInOrder.contains(o)){this.m_allGroupsInOrder.add(o)}var n=this.m_groupedToolbarItems.getByKey(o.getName());if(t.isNull(n)){n=t.XList.create();this.m_groupedToolbarItems.put(o.getName(),n)}n.add(e)}.bind(this));if(this.m_groupedToolbarItems.containsKey(t.HuToolbarGroup.UNGROUPED.getName())){this.m_allGroupsInOrder.add(t.HuToolbarGroup.UNGROUPED)}}};t.HuPluginManifestProcessor=function(){};t.HuPluginManifestProcessor.prototype=new t.HuDfHorizonProcessor;t.HuPluginManifestProcessor.prototype._ff_c="HuPluginManifestProcessor";t.HuPluginManifestProcessor.create=function(e,o){var n=new t.HuPluginManifestProcessor;n.setupWithLogger(e);n.setupInternal(o);return n};t.HuPluginManifestProcessor.prototype.m_process=null;t.HuPluginManifestProcessor.prototype.m_pluginLoader=null;t.HuPluginManifestProcessor.prototype.releaseObject=function(){this.m_process=null;this.m_pluginLoader=t.XObjectExt.release(this.m_pluginLoader);t.HuDfHorizonProcessor.prototype.releaseObject.call(this)};t.HuPluginManifestProcessor.prototype.setupInternal=function(e){this.m_process=e;this.m_pluginLoader=t.HuPluginLoaderService.create(this.getLogger(),this.getProcess())};t.HuPluginManifestProcessor.prototype.getProcessorName=function(){return"Plugin Manifest Processor"};t.HuPluginManifestProcessor.prototype.processPluginManifestDirectories=function(e){var o=t.XPromise.create(function(o,n){var i=t.XList.create();t.XCollectionUtils.forEach(e,function(t){i.add(this.processPluginManifestDirectory(t))}.bind(this));var r=t.XPromise.allSettled(i);r.onFinally(function(){o(t.XBooleanValue.create(true))}.bind(this))}.bind(this));return o};t.HuPluginManifestProcessor.prototype.getProcess=function(){return this.m_process};t.HuPluginManifestProcessor.prototype.getPluginLoader=function(){return this.m_pluginLoader};t.HuPluginManifestProcessor.prototype.processPluginManifestDirectory=function(e){if(t.notNull(e)){var o=t.XPromise.create(function(o,n){this.getLogger().logDebug(t.XStringUtils.concatenate2("Processing plugin dir: ",e.getUri().getPath()));t.UtFilePromise.isExisting(e).then(function(i){if(i.getBoolean()){this.logDebug("Plugins dir existing!");t.UtFilePromise.fetchChildren(e).then(function(e){this.logDebug(t.XStringUtils.concatenate3("Plugin directory has ",t.XInteger.convertToString(e.size())," number of items!"));this.processDirectoryChildren(e).onFinally(function(){o(t.XBooleanValue.create(true))}.bind(this));return e}.bind(this),n)}else{this.logDebug("Plugins dir NOT existing!");o(t.XBooleanValue.create(true))}return i}.bind(this),n)}.bind(this));return o}return t.XPromise.resolve(t.XBooleanValue.create(true))};t.HuPluginManifestProcessor.prototype.processDirectoryChildren=function(e){var o=t.XPromise.create(function(o,n){var i=t.XList.create();t.XCollectionUtils.forEach(e,function(t){if(!t.isHidden()){i.add(this.processPluginManifestFile(t))}}.bind(this));var r=t.XPromise.allSettled(i);r.onFinally(function(){o(t.XBooleanValue.create(true))}.bind(this))}.bind(this));return o};t.HuPluginManifestProcessor.prototype.processPluginManifestFile=function(e){var o=t.XPromise.create(function(o,n){t.UtFilePromise.loadJsonContent(e).then(function(e){var n=t.HuPluginManifest.createByStructure(e);if(t.notNull(n)){this.logDebug(t.XStringUtils.concatenate2("Plugin manifest loaded successfully: ",n.getName()));if(t.HuPluginRegistration.getPluginDef(n.getName())===null){t.HuPluginRegistration.registerPluginByManifest(n);var i=t.HuPluginRegistration.getPluginDef(n.getName());if(t.notNull(i)&&!i.isPluginLoaded()){this.getPluginLoader().loadPlugin(i).onFinally(function(){o(t.XBooleanValue.create(true))}.bind(this))}}else if(!t.HuPluginRegistration.isPluginLoaded(n.getName())){this.getPluginLoader().loadPlugin(t.HuPluginRegistration.getPluginDef(n.getName())).onFinally(function(){o(t.XBooleanValue.create(true))}.bind(this))}else{if(!t.HuPluginRegistration.hasManifest(n.getName())){this.logDebug("Plugin registered but has no manifest! Adding manifest!");t.HuPluginRegistration.registerPluginByManifest(n)}else{this.logDebug("Plugin already registered!")}o(t.XBooleanValue.create(true))}}else{this.logDebug("Failed to process plugin file!");o(t.XBooleanValue.create(true))}return e}.bind(this),n)}.bind(this));return o};t.HuEmptyWorkspaceView=function(){};t.HuEmptyWorkspaceView.prototype=new t.DfUiView;t.HuEmptyWorkspaceView.prototype._ff_c="HuEmptyWorkspaceView";t.HuEmptyWorkspaceView.create=function(e){var o=new t.HuEmptyWorkspaceView;o.initView(e);return o};t.HuEmptyWorkspaceView.prototype.m_messageLbl=null;t.HuEmptyWorkspaceView.prototype.m_reloadConfigProcedure=null;t.HuEmptyWorkspaceView.prototype.getViewControl=function(e){return e.newControl(t.UiType.FLEX_LAYOUT)};t.HuEmptyWorkspaceView.prototype.destroyView=function(){this.m_messageLbl=t.XObjectExt.release(this.m_messageLbl);this.m_reloadConfigProcedure=null};t.HuEmptyWorkspaceView.prototype.setupView=function(){};t.HuEmptyWorkspaceView.prototype.layoutView=function(e){e.setDirection(t.UiFlexDirection.COLUMN);e.useMaxSpace();e.setAlignItems(t.UiFlexAlignItems.CENTER);e.setJustifyContent(t.UiFlexJustifyContent.CENTER);this.m_messageLbl=e.addNewItemOfType(t.UiType.LABEL);this.m_messageLbl.setWrapping(true);this.m_messageLbl.setMaxWidth(t.UiCssLength.create("75%"));var o=e.addNewItemOfType(t.UiType.FLEX_LAYOUT);o.setDirection(t.UiFlexDirection.ROW);o.setJustifyContent(t.UiFlexJustifyContent.CENTER);o.setMargin(t.UiCssBoxEdges.create("1rem 0 0 0"));var n=o.addNewItemOfType(t.UiType.BUTTON);n.setText("Reload config");n.setIcon("refresh");n.registerOnPress(t.UiLambdaPressListener.create(function(t){this.notifyReloadConfigButtonPressed()}.bind(this)));n.setVisible(false)};t.HuEmptyWorkspaceView.prototype.setMessageText=function(e){if(t.notNull(this.m_messageLbl)){this.m_messageLbl.setText(e)}};t.HuEmptyWorkspaceView.prototype.setReloadConfigButtonPressedProcdeure=function(t){this.m_reloadConfigProcedure=t};t.HuEmptyWorkspaceView.prototype.notifyReloadConfigButtonPressed=function(){if(t.notNull(this.m_reloadConfigProcedure)){this.m_reloadConfigProcedure()}};t.HuSplashScreenView=function(){};t.HuSplashScreenView.prototype=new t.DfUiView;t.HuSplashScreenView.prototype._ff_c="HuSplashScreenView";t.HuSplashScreenView.create=function(e){var o=new t.HuSplashScreenView;o.initView(e);return o};t.HuSplashScreenView.prototype.m_splashImagePath=null;t.HuSplashScreenView.prototype.m_splashImage=null;t.HuSplashScreenView.prototype.m_currentBootActionLbl=null;t.HuSplashScreenView.prototype.m_splashProgressIndicator=null;t.HuSplashScreenView.prototype.m_splashMessageStrip=null;t.HuSplashScreenView.prototype.getViewControl=function(e){return e.newControl(t.UiType.FLEX_LAYOUT)};t.HuSplashScreenView.prototype.destroyView=function(){this.m_splashImage=t.XObjectExt.release(this.m_splashImage);this.m_currentBootActionLbl=t.XObjectExt.release(this.m_currentBootActionLbl);this.m_splashProgressIndicator=t.XObjectExt.release(this.m_splashProgressIndicator);this.m_splashMessageStrip=t.XObjectExt.release(this.m_splashMessageStrip)};t.HuSplashScreenView.prototype.setupView=function(){};t.HuSplashScreenView.prototype.layoutView=function(e){e.setDirection(t.UiFlexDirection.COLUMN);e.useMaxSpace();e.setAlignItems(t.UiFlexAlignItems.CENTER);this.m_splashImage=e.addNewItemOfType(t.UiType.IMAGE);this.m_splashImage.setSrc(this.m_splashImagePath);this.m_splashImage.useMaxSpace();this.m_splashImage.setImageMode(t.UiImageMode.BACKGROUND);this.m_splashImage.setBackgroundSize("contain");this.m_splashImage.setBackgroundPosition("center");this.m_splashImage.setMargin(t.UiCssBoxEdges.create("1rem 0 0 0"));this.m_currentBootActionLbl=e.addNewItemOfType(t.UiType.LABEL);this.m_currentBootActionLbl.setTextAlign(t.UiTextAlign.CENTER);this.m_currentBootActionLbl.setFlex("0 0 auto");this.m_currentBootActionLbl.setMargin(t.UiCssBoxEdges.create("1rem 0 0 0"));this.m_currentBootActionLbl.setVisible(false);this.m_currentBootActionLbl.setText("");this.m_splashProgressIndicator=e.addNewItemOfType(t.UiType.PROGRESS_INDICATOR);this.m_splashProgressIndicator.setWidth(t.UiCssLength.create("50%"));this.m_splashProgressIndicator.setMargin(t.UiCssBoxEdges.create("0 0 0.5rem 0"));this.m_splashMessageStrip=e.addNewItemOfType(t.UiType.MESSAGE_STRIP);this.m_splashMessageStrip.setMessageType(t.UiMessageType.ERROR);this.m_splashMessageStrip.setMargin(t.UiCssBoxEdges.create("0 0 1rem 0"));this.m_splashMessageStrip.setShowCloseButton(false);this.m_splashMessageStrip.setVisible(false)};t.HuSplashScreenView.prototype.setSplashScreenImagePath=function(e){this.m_splashImagePath=e;if(t.notNull(this.m_splashImage)){this.m_splashImage.setSrc(e)}};t.HuSplashScreenView.prototype.setCurrentStatusText=function(e){if(t.notNull(this.m_currentBootActionLbl)){if(t.XStringUtils.isNotNullAndNotEmpty(e)){this.m_currentBootActionLbl.setVisible(true)}else{this.m_currentBootActionLbl.setVisible(false)}this.m_currentBootActionLbl.setText(e)}};t.HuSplashScreenView.prototype.setCurrentPercentValue=function(e){if(t.notNull(this.m_splashProgressIndicator)){this.m_splashProgressIndicator.setPercentValue(e)}};t.HuSplashScreenView.prototype.setErrorMessage=function(e){if(t.notNull(this.m_splashMessageStrip)){if(t.XStringUtils.isNotNullAndNotEmpty(e)){this.m_splashMessageStrip.setVisible(true)}else{this.m_splashMessageStrip.setVisible(false)}this.m_splashMessageStrip.setText(e)}};t.HuHorizonBootControllerStatus=function(){};t.HuHorizonBootControllerStatus.prototype=new t.XConstant;t.HuHorizonBootControllerStatus.prototype._ff_c="HuHorizonBootControllerStatus";t.HuHorizonBootControllerStatus.INITIAL=null;t.HuHorizonBootControllerStatus.BOOT_IN_PROGRESS=null;t.HuHorizonBootControllerStatus.BOOT_ERROR=null;t.HuHorizonBootControllerStatus.BOOT_FINISHED=null;t.HuHorizonBootControllerStatus.WORKSPACE_SWITCH_IN_PROGRESS=null;t.HuHorizonBootControllerStatus.WORKSPACE_SWITCH_FINISHED=null;t.HuHorizonBootControllerStatus.staticSetup=function(){t.HuHorizonBootControllerStatus.INITIAL=t.HuHorizonBootControllerStatus.createWithName("Initial");t.HuHorizonBootControllerStatus.BOOT_IN_PROGRESS=t.HuHorizonBootControllerStatus.createWithName("BootInProgress");t.HuHorizonBootControllerStatus.BOOT_ERROR=t.HuHorizonBootControllerStatus.createWithName("BootError");t.HuHorizonBootControllerStatus.BOOT_FINISHED=t.HuHorizonBootControllerStatus.createWithName("BootFinished");t.HuHorizonBootControllerStatus.WORKSPACE_SWITCH_IN_PROGRESS=t.HuHorizonBootControllerStatus.createWithName("WorkspaceSwitchInProgress");t.HuHorizonBootControllerStatus.WORKSPACE_SWITCH_FINISHED=t.HuHorizonBootControllerStatus.createWithName("WorkspaceSwitchFinished")};t.HuHorizonBootControllerStatus.createWithName=function(e){return t.XConstant.setupName(new t.HuHorizonBootControllerStatus,e)};t.HuHorizonConfigBootAction=function(){};t.HuHorizonConfigBootAction.prototype=new t.HuDfHorizonBootAction;t.HuHorizonConfigBootAction.prototype._ff_c="HuHorizonConfigBootAction";t.HuHorizonConfigBootAction.create=function(e){var o=new t.HuHorizonConfigBootAction;o.setupWithBootController(e);return o};t.HuHorizonConfigBootAction.prototype.m_configFile=null;t.HuHorizonConfigBootAction.prototype.m_configStr=null;t.HuHorizonConfigBootAction.prototype.m_configFilePath=null;t.HuHorizonConfigBootAction.prototype.releaseObject=function(){this.m_configFile=t.XObjectExt.release(this.m_configFile);t.HuDfHorizonBootAction.prototype.releaseObject.call(this)};t.HuHorizonConfigBootAction.prototype.setupAction=function(){};t.HuHorizonConfigBootAction.prototype.getActionName=function(){return"Config"};t.HuHorizonConfigBootAction.prototype.executeBootAction=function(){if(this.getBootController().getWorkspaceManager()!==null&&!this.getBootController().getWorkspaceManager().isVirtualWorkspace()&&this.getBootController().getWorkspaceManager().getWorkspaceDirectory()!==null){this.m_configFile=this.getBootController().getWorkspaceManager().getWorkspaceDirectory().newChild(t.HuHorizonConfigConstants.CONFIG_FILE_NAME)}if(this.getBootController().getWorkspaceManager()!==null&&this.getBootController().getWorkspaceManager().isVirtualWorkspace()&&t.XStringUtils.isNotNullAndNotEmpty(this.m_configStr)){var e=this.parseStringifiedJson(this.m_configStr);if(t.notNull(e)){this.getBootController().initConfigManager(e);return t.XPromise.resolve(t.XBooleanValue.create(true))}}if(t.isNull(this.m_configFile)&&this.getBootController().getWorkspaceManager()!==null&&t.XStringUtils.isNotNullAndNotEmpty(this.m_configFilePath)){this.m_configFile=t.XFile.createWithVars(this.getBootController().getProcess(),this.m_configFilePath)}var o=t.XPromise.create(function(e,o){this.loadConfigJson(this.m_configFile).then(function(o){this.getBootController().initConfigManager(o);e(t.XBooleanValue.create(true));return o}.bind(this),function(n){if(n.getErrorType()===t.HuErrorType.CONFIG_SYNTAX_ERROR){o(t.XError.create("Syntax error! Could not read configuration file!"))}else{this.getBootController().initConfigManager(null);if(n.getErrorType()===t.HuErrorType.CONFIG_FILE_NOT_FOUND&&this.shouldCreateConfigFileIfNeeded()){this.createConfigFile().onFinally(function(){e(t.XBooleanValue.create(true))}.bind(this))}else{e(t.XBooleanValue.create(true))}}}.bind(this))}.bind(this));return o};t.HuHorizonConfigBootAction.prototype.setConfigStr=function(t){this.m_configStr=t};t.HuHorizonConfigBootAction.prototype.setConfigFilePath=function(t){this.m_configFilePath=t};t.HuHorizonConfigBootAction.prototype.loadConfigJson=function(e){var o=t.XPromise.create(function(o,n){t.UtFilePromise.isExisting(e).then(function(e){if(e.getBoolean()){t.UtFilePromise.loadJsonContent(this.m_configFile).then(function(t){o(t);return t}.bind(this),function(e){n(t.XError.create("Cannot read file!").setErrorType(t.HuErrorType.CONFIG_SYNTAX_ERROR))}.bind(this))}else{n(t.XError.create("File does not exist!").setErrorType(t.HuErrorType.CONFIG_FILE_NOT_FOUND))}return e}.bind(this),function(e){n(t.XError.create(e.getText()).attachCause(e).setErrorType(t.HuErrorType.CONFIG_FILE_NOT_FOUND))}.bind(this))}.bind(this));return o};t.HuHorizonConfigBootAction.prototype.createConfigFile=function(){return t.UtFilePromise.saveContent(this.m_configFile,this.getBootController().getConfigManager().getSaveContent()).then(function(t){return t}.bind(this),null)};t.HuHorizonConfigBootAction.prototype.parseStringifiedJson=function(e){var o=null;if(t.XStringUtils.isNotNullAndNotEmpty(e)){var n=t.JsonParserFactory.newInstance();var i=n.parse(e);if(t.notNull(i)&&i.isStructure()){o=i}n=t.XObjectExt.release(n)}return o};t.HuHorizonConfigBootAction.prototype.shouldCreateConfigFileIfNeeded=function(){return this.getBootController().getWorkspaceManager()!==null&&!this.getBootController().getWorkspaceManager().isVirtualWorkspace()&&this.getBootController().getWorkspaceManager().getWorkspaceDirectory()!==null};t.HuHorizonFinalizeSetupBootAction=function(){};t.HuHorizonFinalizeSetupBootAction.prototype=new t.HuDfHorizonBootAction;t.HuHorizonFinalizeSetupBootAction.prototype._ff_c="HuHorizonFinalizeSetupBootAction";t.HuHorizonFinalizeSetupBootAction.create=function(e){var o=new t.HuHorizonFinalizeSetupBootAction;o.setupWithBootController(e);return o};t.HuHorizonFinalizeSetupBootAction.prototype.releaseObject=function(){t.HuDfHorizonBootAction.prototype.releaseObject.call(this)};t.HuHorizonFinalizeSetupBootAction.prototype.setupAction=function(){};t.HuHorizonFinalizeSetupBootAction.prototype.getActionName=function(){return"FinalizeSetup"};t.HuHorizonFinalizeSetupBootAction.prototype.executeBootAction=function(){return this.getBootController().finalizeMainControllerSetup()};t.HuHorizonPluginsBootAction=function(){};t.HuHorizonPluginsBootAction.prototype=new t.HuDfHorizonBootAction;t.HuHorizonPluginsBootAction.prototype._ff_c="HuHorizonPluginsBootAction";t.HuHorizonPluginsBootAction.create=function(e){var o=new t.HuHorizonPluginsBootAction;o.setupWithBootController(e);return o};t.HuHorizonPluginsBootAction.prototype.releaseObject=function(){t.HuDfHorizonBootAction.prototype.releaseObject.call(this)};t.HuHorizonPluginsBootAction.prototype.setupAction=function(){this.logDebug(t.XStringUtils.concatenate2("Number of registered plugins: ",t.XInteger.convertToString(t.HuPluginRegistration.getAllLoadedPluginNames().size())))};t.HuHorizonPluginsBootAction.prototype.getActionName=function(){return"Plugins"};t.HuHorizonPluginsBootAction.prototype.executeBootAction=function(){var e=t.XPromise.create(function(e,o){this.loadPluginManifests().then(function(n){this.loadApiPlugins().then(function(o){e(t.XBooleanValue.create(true));return o}.bind(this),o);return n}.bind(this),o)}.bind(this));return e};t.HuHorizonPluginsBootAction.prototype.loadPluginManifests=function(){var e=t.XList.create();e.add(t.XFile.createWithVars(this.getBootController().getProcess(),t.HuHorizonConstants.DEFAULT_PLUGIN_DIRECTORY));e.add(t.XFile.createWithVars(this.getBootController().getProcess(),t.HuHorizonConstants.ALT_PLUGIN_DIRECTORY));t.XCollectionUtils.forEachString(this.getBootController().getConfigManager().getProgramConfiguration().getPluginDirectories(),function(o){e.add(t.XFile.createWithVars(this.getBootController().getProcess(),o))}.bind(this));var o=t.HuPluginManifestProcessor.create(this.getBootController().getLogger(),this.getBootController().getProcess());return o.processPluginManifestDirectories(e)};t.HuHorizonPluginsBootAction.prototype.loadApiPlugins=function(){var e=t.XPromise.create(function(e,o){t.HuPluginRegistration.loadApiPlugins();e(t.XBooleanValue.create(true))}.bind(this));return e};t.HuHorizonWorkspaceBootAction=function(){};t.HuHorizonWorkspaceBootAction.prototype=new t.HuDfHorizonBootAction;t.HuHorizonWorkspaceBootAction.prototype._ff_c="HuHorizonWorkspaceBootAction";t.HuHorizonWorkspaceBootAction.create=function(e){var o=new t.HuHorizonWorkspaceBootAction;o.setupWithBootController(e);return o};t.HuHorizonWorkspaceBootAction.prototype.releaseObject=function(){t.HuDfHorizonBootAction.prototype.releaseObject.call(this)};t.HuHorizonWorkspaceBootAction.prototype.setupAction=function(){};t.HuHorizonWorkspaceBootAction.prototype.getActionName=function(){return"Workspace"};t.HuHorizonWorkspaceBootAction.prototype.executeBootAction=function(){if(this.getBootController().getBootConfig().shouldBootIntoVirtualWorkspace()){this.getBootController().initWorkspaceManager(null);return t.XPromise.resolve(t.XBooleanValue.create(true))}else{var e=t.XPromise.create(function(e,o){this.selectWorkspace().then(function(n){if(t.notNull(n)){this.handleDirectorySelected(n).then(function(o){e(t.XBooleanValue.create(true));return o}.bind(this),o)}else{o(t.XError.create("No workspace selected! Cannot continue!"))}return n}.bind(this),o)}.bind(this));return e}};t.HuHorizonWorkspaceBootAction.prototype.presentWorkspaceDirectorySelection=function(){return this.showWorkspaceSelectionDialog()};t.HuHorizonWorkspaceBootAction.prototype.switchWorkspace=function(t){return this.handleDirectorySelected(t)};t.HuHorizonWorkspaceBootAction.prototype.handleDirectorySelected=function(t){this.saveSelectedWorspaceDirPath(t);return this.getBootController().initWorkspaceManager(t)};t.HuHorizonWorkspaceBootAction.prototype.selectWorkspace=function(){var e=this.getBootController().getLocalStorage().getStringByKey(t.HuHorizonConstants.SELECTED_WORKSPACE_PATH_KEY);if(t.XStringUtils.isNotNullAndNotEmpty(e)){var o=t.XPromise.create(function(o,n){var i=t.XFile.createWithVars(this.getBootController().getProcess(),e);t.UtFilePromise.isExisting(i).then(function(t){if(t.getBoolean()){o(i)}else{this.logDebug("Saved workspace does not exist!");this.showWorkspaceSelectionDialog().then(function(t){o(t);return t}.bind(this),n)}return t}.bind(this),n)}.bind(this));return o}return this.showWorkspaceSelectionDialog()};t.HuHorizonWorkspaceBootAction.prototype.showWorkspaceSelectionDialog=function(){var e=t.XPromise.create(function(e,o){var n=t.HuHorizonWorkspaceSelectionPopup.create(this.getBootController());if(this.getBootController().getWorkspaceManager()!==null&&this.getBootController().getWorkspaceManager().getWorkspaceDirectory()!==null){n.setInputValue(this.getBootController().getWorkspaceManager().getWorkspaceDirectory().getUri().getPath())}else{n.setInputValue(t.HuHorizonConstants.DEFAULT_HOME_DIRECTORY)}n.setInputConsumer(function(n){if(t.XStringUtils.isNotNullAndNotEmpty(n)){var i=t.XFile.createWithVars(this.getBootController().getProcess(),n);e(i)}else{o(t.XError.create("Invalid directory path!"))}}.bind(this));n.setCancelProcedure(function(){o(t.XError.create("Please specify a workspace to proceed!"))}.bind(this));n.open()}.bind(this));return e};t.HuHorizonWorkspaceBootAction.prototype.saveSelectedWorspaceDirPath=function(e){if(t.notNull(e)){var o=e.getUri().getPath();this.getBootController().getLocalStorage().putString(t.HuHorizonConstants.SELECTED_WORKSPACE_PATH_KEY,o)}};t.HuHorizonControllerStatus=function(){};t.HuHorizonControllerStatus.prototype=new t.XConstant;t.HuHorizonControllerStatus.prototype._ff_c="HuHorizonControllerStatus";t.HuHorizonControllerStatus.INITIAL=null;t.HuHorizonControllerStatus.BOOTING=null;t.HuHorizonControllerStatus.READY=null;t.HuHorizonControllerStatus.staticSetup=function(){t.HuHorizonControllerStatus.INITIAL=t.HuHorizonControllerStatus.createWithName("Initial");t.HuHorizonControllerStatus.BOOTING=t.HuHorizonControllerStatus.createWithName("Booting");t.HuHorizonControllerStatus.READY=t.HuHorizonControllerStatus.createWithName("Ready")};t.HuHorizonControllerStatus.createWithName=function(e){return t.XConstant.setupName(new t.HuHorizonControllerStatus,e)};t.HuHorizonMainController=function(){};t.HuHorizonMainController.prototype=new t.XObjectExt;t.HuHorizonMainController.prototype._ff_c="HuHorizonMainController";t.HuHorizonMainController.create=function(e){var o=new t.HuHorizonMainController;o.setupWithProgramInstance(e);return o};t.HuHorizonMainController.prototype.m_programInstance=null;t.HuHorizonMainController.prototype.m_loggerInstance=null;t.HuHorizonMainController.prototype.m_globalDataSpace=null;t.HuHorizonMainController.prototype.m_workspaceManager=null;t.HuHorizonMainController.prototype.m_horizonConfigManager=null;t.HuHorizonMainController.prototype.m_horizonPluginManager=null;t.HuHorizonMainController.prototype.m_horizonCommandManager=null;t.HuHorizonMainController.prototype.m_stateManager=null;t.HuHorizonMainController.prototype.m_messageManager=null;t.HuHorizonMainController.prototype.m_shellController=null;t.HuHorizonMainController.prototype.m_uiController=null;t.HuHorizonMainController.prototype.m_debugService=null;t.HuHorizonMainController.prototype.m_activeBootController=null;t.HuHorizonMainController.prototype.m_statusChangedListeners=null;t.HuHorizonMainController.prototype.m_currentStatus=null;t.HuHorizonMainController.prototype.releaseObject=function(){this.m_horizonCommandManager=t.XObjectExt.release(this.m_horizonCommandManager);this.m_horizonPluginManager=t.XObjectExt.release(this.m_horizonPluginManager);this.m_stateManager=t.XObjectExt.release(this.m_stateManager);this.m_messageManager=t.XObjectExt.release(this.m_messageManager);this.m_activeBootController=t.XObjectExt.release(this.m_activeBootController);this.m_uiController=t.XObjectExt.release(this.m_uiController);this.m_shellController=t.XObjectExt.release(this.m_shellController);this.m_workspaceManager=t.XObjectExt.release(this.m_workspaceManager);this.m_horizonConfigManager=t.XObjectExt.release(this.m_horizonConfigManager);this.m_globalDataSpace=t.XObjectExt.release(this.m_globalDataSpace);this.m_currentStatus=null;this.m_statusChangedListeners=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_statusChangedListeners);this.m_debugService=t.XObjectExt.release(this.m_debugService);this.m_loggerInstance=t.XObjectExt.release(this.m_loggerInstance);this.m_programInstance=null;t.XObjectExt.prototype.releaseObject.call(this)};t.HuHorizonMainController.prototype.setupWithProgramInstance=function(e){this.m_programInstance=e;this.m_debugService=t.HuHorizonDebugService.create(this.getProcess());this.m_loggerInstance=t.HuLogger.createNewLogger();this.m_loggerInstance.setDebugEnabled(this.m_debugService.isDebugModeEnabled());this.m_statusChangedListeners=t.XList.create();this.m_currentStatus=t.HuHorizonControllerStatus.INITIAL;this.m_shellController=t.HuHorizonShellController.create(this)};t.HuHorizonMainController.prototype.getMainController=function(){return this};t.HuHorizonMainController.prototype.getGenesis=function(){return this.getProgramInstance().getGenesis()};t.HuHorizonMainController.prototype.getProcess=function(){return this.getProgramInstance().getProcess()};t.HuHorizonMainController.prototype.getSession=function(){return this.getProgramInstance().getSession()};t.HuHorizonMainController.prototype.getLogger=function(){return this.m_loggerInstance};t.HuHorizonMainController.prototype.getLogContextName=function(){return"Controller"};t.HuHorizonMainController.prototype.logInfo=function(e){this.getLogger().logInfo(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuHorizonMainController.prototype.logDebug=function(e){this.getLogger().logDebug(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuHorizonMainController.prototype.isDebugMode=function(){return this.getDebugService().isDebugModeEnabled()};t.HuHorizonMainController.prototype.getLocalStorage=function(){return this.getProcess().getLocalStorage()};t.HuHorizonMainController.prototype.getLocalNotificationCenter=function(){return this.getProcess().getLocalNotificationCenter()};t.HuHorizonMainController.prototype.getDataSpace=function(){return this.m_globalDataSpace};t.HuHorizonMainController.prototype.getWorkspaceManager=function(){return this.m_workspaceManager};t.HuHorizonMainController.prototype.getConfigManager=function(){return this.m_horizonConfigManager};t.HuHorizonMainController.prototype.getPluginManager=function(){return this.m_horizonPluginManager};t.HuHorizonMainController.prototype.getCommandManager=function(){return this.m_horizonCommandManager};t.HuHorizonMainController.prototype.getStateManager=function(){return this.m_stateManager};t.HuHorizonMainController.prototype.getMessageManager=function(){return this.m_messageManager};t.HuHorizonMainController.prototype.getShellController=function(){return this.m_shellController};t.HuHorizonMainController.prototype.getUiController=function(){return this.m_uiController};t.HuHorizonMainController.prototype.getDebugService=function(){return this.m_debugService};t.HuHorizonMainController.prototype.addStatusChangedListener=function(e){this.m_statusChangedListeners.add(t.XConsumerHolder.create(e))};t.HuHorizonMainController.prototype.removeStatusChangedListener=function(e){t.XCollectionUtils.removeIf(this.m_statusChangedListeners,function(t){return t.getConsumer()===e}.bind(this))};t.HuHorizonMainController.prototype.getProgramInstance=function(){return this.m_programInstance};t.HuHorizonMainController.prototype.getCurrentControllerStatus=function(){return this.m_currentStatus};t.HuHorizonMainController.prototype.setControllerStatus=function(e){if(t.notNull(e)&&this.m_currentStatus!==e){this.m_currentStatus=e;this.logDebug(t.XStringUtils.concatenate2("Status changed to: ",e.getName()));this._handleStatusChangedInternal(e);this._notifyListenersStatusChanged(e)}};t.HuHorizonMainController.prototype.setLoggerInstance=function(e){if(t.notNull(e)){this.m_loggerInstance=e}};t.HuHorizonMainController.prototype.initiateBoot=function(e,o,n){this.setControllerStatus(t.HuHorizonControllerStatus.BOOTING);this.m_activeBootController=t.HuHorizonBootController.create(this);this.m_activeBootController.setConfigString(e);this.m_activeBootController.setConfigFilePath(o);var i=this.m_activeBootController.executeRegularBoot();i.then(function(t){this._handleSuccessfulBoot();return t}.bind(this),null);return i};t.HuHorizonMainController.prototype.requestWorkspaceSwitch=function(){this.m_activeBootController=t.HuHorizonBootController.create(this);this.m_activeBootController.addStatusChangedListener(function(e){if(e===t.HuHorizonBootControllerStatus.WORKSPACE_SWITCH_IN_PROGRESS){this.setControllerStatus(t.HuHorizonControllerStatus.BOOTING)}}.bind(this));var e=this.m_activeBootController.executeWorkspaceSwitch();e.then(function(t){this._handleSuccessfulBoot();return t}.bind(this),null)};t.HuHorizonMainController.prototype.initWorkspaceManager=function(e){if(this.getCurrentControllerStatus()!==t.HuHorizonControllerStatus.READY){this.logDebug("Init -> Workspace manager");this.m_workspaceManager=t.HuHorizonWorkspaceManager.create(this,e)}else{this._throwInvalidStateException()}};t.HuHorizonMainController.prototype.initConfigManager=function(e){if(this.getCurrentControllerStatus()!==t.HuHorizonControllerStatus.READY){this.logDebug("Init -> Config manager");this.m_horizonConfigManager=t.HuHorizonConfigManager.create(this,e)}else{this._throwInvalidStateException()}};t.HuHorizonMainController.prototype.finalizeControllerSetup=function(){if(this.getCurrentControllerStatus()!==t.HuHorizonControllerStatus.READY){this.logDebug("Init -> Finalize setup");this.logDebug("Init -> Initialize global data space");this.m_globalDataSpace=t.HuDataSpace.create();this.logDebug("Init -> Process plugin configuration");this.getConfigManager().processPluginConfiguration();this._createInvalidPluginMessagesIfNeeded();this.logDebug("Init -> Create plugin manager");this.m_horizonPluginManager=t.HuHorizonPluginManager.create(this);this.logDebug("Init -> Create command manager");this.m_horizonCommandManager=t.HuHorizonCommandManager.create(this);this.logDebug("Init -> Create state manager");this.m_stateManager=t.HuHorizonStateManager.create(this);this.logDebug("Init -> Initialize config command plugins");this._initAllConfigCommandPlugins();this.logDebug("Init -> Create Ui controller");this.m_uiController=t.HuHorizonUiController.create(this)}else{this._throwInvalidStateException()}};t.HuHorizonMainController.prototype._notifyListenersStatusChanged=function(e){t.XCollectionUtils.forEach(this.m_statusChangedListeners,function(t){t.accept(e)}.bind(this))};t.HuHorizonMainController.prototype._throwInvalidStateException=function(){throw t.XException.createRuntimeException("Cannot replace manger instance as controller is already in ready state!")};t.HuHorizonMainController.prototype._initAllConfigCommandPlugins=function(){this.getConfigManager().getPluginsConfiguration().processCommands(function(t){this._initializeCommandPluginIfNeeded(t.getPluginName(),t.getConfig())}.bind(this))};t.HuHorizonMainController.prototype._initializeCommandPluginIfNeeded=function(e,o){if(!this.getCommandManager().isCommandSpaceRegistered(e)){var n=this.getPluginManager().newCommandPluginInstance(e,this.getMainController(),o);if(t.notNull(n)){this.logDebug(t.XStringUtils.concatenate2("Registering command --\x3e ",n.getCommandSpaceName()));this.getCommandManager().registerCommandInstance(n)}}else{this.logDebug(t.XStringUtils.concatenate2("Command plugin already registered and running --\x3e ",e))}};t.HuHorizonMainController.prototype._handleStatusChangedInternal=function(e){if(e===t.HuHorizonControllerStatus.BOOTING){this._prepareBoot()}else if(e===t.HuHorizonControllerStatus.READY){this._controllerReady()}};t.HuHorizonMainController.prototype._prepareBoot=function(){this.logDebug("Init -> Prepare boot...");this.getShellController().getMenuManager().setMenuVisible(false);this.m_messageManager=t.XObjectExt.release(this.m_messageManager);this.m_messageManager=t.HuHorizonMessageManager.create(this);this.m_globalDataSpace=t.XObjectExt.release(this.m_globalDataSpace);this.m_workspaceManager=t.XObjectExt.release(this.m_workspaceManager);this.m_horizonConfigManager=t.XObjectExt.release(this.m_horizonConfigManager);this.m_horizonPluginManager=t.XObjectExt.release(this.m_horizonPluginManager);this.m_horizonCommandManager=t.XObjectExt.release(this.m_horizonCommandManager);this.m_stateManager=t.XObjectExt.release(this.m_stateManager);this.m_uiController=t.XObjectExt.release(this.m_uiController)};t.HuHorizonMainController.prototype._controllerReady=function(){this.logDebug("Init -> Controller ready...");this.getMessageManager().setStatus("Ready...");this.getShellController().reInitShell();this.getUiController().reInitUi();this._setInitialStatus()};t.HuHorizonMainController.prototype._createInvalidPluginMessagesIfNeeded=function(){var e=this.getConfigManager().getPluginsConfiguration().getInvalidPluginNames();if(t.notNull(e)&&e.size()>0){t.XCollectionUtils.forEachString(e,function(e){var o=t.XStringUtils.concatenate3("The plugin with name ",e," was not found!");this.getMessageManager().addSystemWarningMessage("Invalid plugin!",o,null)}.bind(this))}};t.HuHorizonMainController.prototype._setInitialStatus=function(){if(!this.getConfigManager().getPluginsConfiguration().hasStartupViewPlugins()){this.getMessageManager().setStatus("No startup document or component plugins specified in the configuration...")}};t.HuHorizonMainController.prototype._handleSuccessfulBoot=function(){this.m_activeBootController=t.XObjectExt.release(this.m_activeBootController);this.setControllerStatus(t.HuHorizonControllerStatus.READY)};t.HuDataSpace=function(){};t.HuDataSpace.prototype=new t.XObjectExt;t.HuDataSpace.prototype._ff_c="HuDataSpace";t.HuDataSpace.create=function(){var e=new t.HuDataSpace;e.setupSpace();return e};t.HuDataSpace.prototype.m_structure=null;t.HuDataSpace.prototype.m_objMap=null;t.HuDataSpace.prototype.m_dataSpaceChangedConsumerMap=null;t.HuDataSpace.prototype.m_keyObserverMap=null;t.HuDataSpace.prototype.releaseObject=function(){this.m_structure=t.XObjectExt.release(this.m_structure);this.m_objMap=t.XObjectExt.release(this.m_objMap);this.m_dataSpaceChangedConsumerMap=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_dataSpaceChangedConsumerMap);this.m_keyObserverMap=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_keyObserverMap);t.XObjectExt.prototype.releaseObject.call(this)};t.HuDataSpace.prototype.setupSpace=function(){this.m_structure=t.PrFactory.createStructure();this.m_objMap=t.XHashMapByString.create();this.m_dataSpaceChangedConsumerMap=t.XHashMapByString.create();this.m_keyObserverMap=t.XHashMapByString.create()};t.HuDataSpace.prototype.addSpaceChangedListener=function(e){if(t.notNull(e)){var o=t.XGuid.getGuid();o=t.XStringUtils.concatenate2("dsChanged_",o);this.m_dataSpaceChangedConsumerMap.put(o,t.XConsumerHolder.create(e));return o}return null};t.HuDataSpace.prototype.removeSpaceChangedListener=function(e){t.XCollectionUtils.removeFromMapIf(this.m_dataSpaceChangedConsumerMap,function(t,o){return o.getConsumer()===e}.bind(this))};t.HuDataSpace.prototype.removeSpaceChangedListenerByUuid=function(t){this.m_dataSpaceChangedConsumerMap.remove(t)};t.HuDataSpace.prototype.addKeyObserver=function(e,o){if(t.XStringUtils.isNotNullAndNotEmpty(e)&&t.notNull(o)){if(!this.m_keyObserverMap.containsKey(e)){this.m_keyObserverMap.put(e,t.XHashMapByString.create())}var n=t.XGuid.getGuid();n=t.XStringUtils.concatenate4("dsObserver_",e,"_",n);this.m_keyObserverMap.getByKey(e).put(n,t.XProcedureHolder.create(o));return n}return null};t.HuDataSpace.prototype.removeKeyObserver=function(e){t.XCollectionUtils.forEach(this.m_keyObserverMap.getValuesAsReadOnlyList(),function(o){t.XCollectionUtils.removeFromMapIf(o,function(t,o){return o.getProcedure()===e}.bind(this))}.bind(this))};t.HuDataSpace.prototype.removeKeyObserverByUuid=function(e){t.XCollectionUtils.forEach(this.m_keyObserverMap,function(t){if(t.containsKey(e)){t.remove(e)}}.bind(this))};t.HuDataSpace.prototype.containsKey=function(t){return this.m_structure.containsKey(t)||this.m_objMap.containsKey(t)};t.HuDataSpace.prototype.remove=function(t){if(this.m_structure.containsKey(t)){this.m_structure.remove(t);this._fireDataSpaceChangedEvent(t)}else if(this.m_objMap.containsKey(t)){this.m_objMap.remove(t);this._fireDataSpaceChangedEvent(t)}};t.HuDataSpace.prototype.getStringByKey=function(t){return this.m_structure.getStringByKey(t)};t.HuDataSpace.prototype.getStringByKeyExt=function(t,e){return this.m_structure.getStringByKeyExt(t,e)};t.HuDataSpace.prototype.getIntegerByKey=function(t){return this.m_structure.getIntegerByKey(t)};t.HuDataSpace.prototype.getIntegerByKeyExt=function(t,e){return this.m_structure.getIntegerByKeyExt(t,e)};t.HuDataSpace.prototype.getLongByKey=function(t){return this.m_structure.getLongByKey(t)};t.HuDataSpace.prototype.getLongByKeyExt=function(t,e){return this.m_structure.getLongByKeyExt(t,e)};t.HuDataSpace.prototype.getDoubleByKey=function(t){return this.m_structure.getDoubleByKey(t)};t.HuDataSpace.prototype.getDoubleByKeyExt=function(t,e){return this.m_structure.getDoubleByKeyExt(t,e)};t.HuDataSpace.prototype.getBooleanByKey=function(t){return this.m_structure.getBooleanByKey(t)};t.HuDataSpace.prototype.getBooleanByKeyExt=function(t,e){return this.m_structure.getBooleanByKeyExt(t,e)};t.HuDataSpace.prototype.hasNullByKey=function(t){return this.m_structure.hasNullByKey(t)};t.HuDataSpace.prototype.getXObjectByKey=function(t){return this.m_objMap.getByKey(t)};t.HuDataSpace.prototype.getXObjectByKeyExt=function(e,o){var n=this.m_objMap.getByKey(e);if(t.notNull(n)){return n}return o};t.HuDataSpace.prototype.putString=function(t,e){this.m_structure.putString(t,e);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype.putStringNotNull=function(t,e){this.m_structure.putStringNotNull(t,e);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype.putStringNotNullAndNotEmpty=function(t,e){this.m_structure.putStringNotNullAndNotEmpty(t,e);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype.putInteger=function(t,e){this.m_structure.putInteger(t,e);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype.putLong=function(t,e){this.m_structure.putLong(t,e);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype.putDouble=function(t,e){this.m_structure.putDouble(t,e);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype.putBoolean=function(t,e){this.m_structure.putBoolean(t,e);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype.putNull=function(t){this.m_structure.putNull(t);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype.putXObject=function(t,e){this.m_objMap.put(t,e);this._fireDataSpaceChangedEvent(t)};t.HuDataSpace.prototype._fireDataSpaceChangedEvent=function(e){var o=this.m_keyObserverMap.getByKey(e);if(t.notNull(o)&&o.size()>0){t.XCollectionUtils.forEach(o.getValuesAsReadOnlyList(),function(t){t.execute()}.bind(this))}t.XCollectionUtils.forEach(this.m_dataSpaceChangedConsumerMap.getValuesAsReadOnlyList(),function(t){t.accept(e)}.bind(this))};t.HuDfHorizonUiManager=function(){};t.HuDfHorizonUiManager.prototype=new t.HuDfHorizonManager;t.HuDfHorizonUiManager.prototype._ff_c="HuDfHorizonUiManager";t.HuDfHorizonUiManager.prototype.m_genesis=null;t.HuDfHorizonUiManager.prototype.releaseObject=function(){this.m_genesis=null;t.HuDfHorizonManager.prototype.releaseObject.call(this)};t.HuDfHorizonUiManager.prototype.setupManagerWithGenesis=function(t,e){this.m_genesis=e;this.setupWithToolsContext(t)};t.HuDfHorizonUiManager.prototype.getGenesis=function(){return this.m_genesis};t.HuDfHorizonPluginController=function(){};t.HuDfHorizonPluginController.prototype=new t.XObjectExt;t.HuDfHorizonPluginController.prototype._ff_c="HuDfHorizonPluginController";t.HuDfHorizonPluginController.prototype.m_uuid=null;t.HuDfHorizonPluginController.prototype.m_pluginSubApplication=null;t.HuDfHorizonPluginController.prototype.m_pluginProcess=null;t.HuDfHorizonPluginController.prototype.m_pluginDefRef=null;t.HuDfHorizonPluginController.prototype.m_pluginInstance=null;t.HuDfHorizonPluginController.prototype.m_parentController=null;t.HuDfHorizonPluginController.prototype.m_configJson=null;t.HuDfHorizonPluginController.prototype.m_dataSpaceChangedUuidList=null;t.HuDfHorizonPluginController.prototype.m_pluginStorage=null;t.HuDfHorizonPluginController.prototype.releaseObject=function(){this._getPluginInstance().destroyPlugin();this._cleanUpDataSpaceListeners();this._destroySpecificPlugin();this.m_pluginDefRef=null;this.m_parentController=null;this.m_configJson=t.XObjectExt.release(this.m_configJson);this.m_pluginStorage=t.XObjectExt.release(this.m_pluginStorage);this.m_pluginSubApplication=t.XObjectExt.release(this.m_pluginSubApplication);this.m_pluginProcess=t.XObjectExt.release(this.m_pluginProcess);this.m_pluginInstance=null;t.XObjectExt.prototype.releaseObject.call(this)};t.HuDfHorizonPluginController.prototype.getProcess=function(){return this.m_pluginProcess};t.HuDfHorizonPluginController.prototype.getSession=function(){return this.getProcess()};t.HuDfHorizonPluginController.prototype.getApplication=function(){return this.m_pluginSubApplication};t.HuDfHorizonPluginController.prototype.getLocalStorage=function(){return this._getParentController().getLocalStorage()};t.HuDfHorizonPluginController.prototype.getLocalNotificationCenter=function(){return this._getParentController().getLocalNotificationCenter()};t.HuDfHorizonPluginController.prototype.getLogger=function(){return this._getParentController().getLogger()};t.HuDfHorizonPluginController.prototype.getLogContextName=function(){return"Plugin"};t.HuDfHorizonPluginController.prototype.logInfo=function(e){this.getLogger().logInfo(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuDfHorizonPluginController.prototype.logDebug=function(e){this.getLogger().logDebug(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuDfHorizonPluginController.prototype.getConfigJson=function(){if(t.isNull(this.m_configJson)){this.m_configJson=t.PrFactory.createStructure()}return this.m_configJson};t.HuDfHorizonPluginController.prototype.executeAction=function(e,o){if(this._getParentController()!==null){return this._getParentController().getMainController().getCommandManager().executeAction(e,this,o)}return t.XPromise.reject(t.XError.create("Critical error during action execution!"))};t.HuDfHorizonPluginController.prototype.addDataSpaceChangedListener=function(e){if(t.isNull(this.m_dataSpaceChangedUuidList)){this.m_dataSpaceChangedUuidList=t.XListOfString.create()}var o=this._getDataSpaceBase().addSpaceChangedListener(e);if(t.XStringUtils.isNotNullAndNotEmpty(o)){this.m_dataSpaceChangedUuidList.add(o)}return o};t.HuDfHorizonPluginController.prototype.removeDataSpaceChangedListener=function(e){this._getDataSpaceBase().removeSpaceChangedListenerByUuid(e);if(t.notNull(this.m_dataSpaceChangedUuidList)){this.m_dataSpaceChangedUuidList.removeElement(e)}};t.HuDfHorizonPluginController.prototype.actionExists=function(t){if(this._getParentController()!==null){return this._getParentController().getMainController().getCommandManager().actionExists(t)}return false};t.HuDfHorizonPluginController.prototype.getAllActionIds=function(){if(this._getParentController()!==null){return this._getParentController().getMainController().getCommandManager().getAllActionIds()}return t.XListOfString.create()};t.HuDfHorizonPluginController.prototype.getMainController=function(){return this._getParentController().getMainController()};t.HuDfHorizonPluginController.prototype.getUuid=function(){return this.m_uuid};t.HuDfHorizonPluginController.prototype.getName=function(){return this._getPluginDef().getName()};t.HuDfHorizonPluginController.prototype.getDescription=function(){return this._getPluginDef().getDescription()};t.HuDfHorizonPluginController.prototype.getDisplayName=function(){return this._getPluginDef().getDisplayName()};t.HuDfHorizonPluginController.prototype.getPluginCategory=function(){return this._getPluginDef().getPluginCategory()};t.HuDfHorizonPluginController.prototype.getDataSpace=function(){return this._getParentController().getDataSpace()};t.HuDfHorizonPluginController.prototype.getPluginStorage=function(){return this.m_pluginStorage};t.HuDfHorizonPluginController.prototype.addInfoMessage=function(t,e,o){this.getMainController().getMessageManager().addInfoMessage(t,e,o,this._getPluginMessageGroup())};t.HuDfHorizonPluginController.prototype.addSuccessMessage=function(t,e,o){this.getMainController().getMessageManager().addSuccessMessage(t,e,o,this._getPluginMessageGroup())};t.HuDfHorizonPluginController.prototype.addWarningMessage=function(t,e,o){this.getMainController().getMessageManager().addWarningMessage(t,e,o,this._getPluginMessageGroup())};t.HuDfHorizonPluginController.prototype.addErrorMessage=function(t,e,o){this.getMainController().getMessageManager().addErrorMessage(t,e,o,this._getPluginMessageGroup())};t.HuDfHorizonPluginController.prototype.setParentController=function(e){if(t.isNull(this.m_parentController)&&t.notNull(e)){this.m_parentController=e}};t.HuDfHorizonPluginController.prototype.setPluginInstance=function(e){if(t.isNull(this.m_pluginInstance)&&t.notNull(e)){this.m_pluginInstance=e}};t.HuDfHorizonPluginController.prototype.setPluginDef=function(e){if(t.isNull(this.m_pluginDefRef)&&t.notNull(e)){this.m_pluginDefRef=e}};t.HuDfHorizonPluginController.prototype.setConfigJson=function(e){if(t.isNull(this.m_configJson)&&t.notNull(e)){this.m_configJson=e.clone()}};t.HuDfHorizonPluginController.prototype.run=function(){if(t.isNull(this.m_parentController)||t.isNull(this.m_pluginInstance)){throw t.XException.createRuntimeException("Failed to run plugin! Missing parent controller or plugin instance!")}if(t.isNull(this.m_uuid)){this.m_uuid=t.XGuid.getGuid();this.m_pluginStorage=t.HuPluginDataStorage.create(null);this._createSubProcess();this._initSpecificPlugin();try{this._getPluginInstance().processConfig(this.getConfigJson());var e=this._setupSpecificPlugin();if(t.isNull(e)){this._runSpecificPlugin()}else{this._setPluginUiBusy(true);e.onCatch(function(t){this._handlePluginSetupError(t)}.bind(this)).onFinally(function(){this._setPluginUiBusy(false);this._runSpecificPlugin()}.bind(this))}}catch(e){this._handlePluginStartupException(t.XError.createWithThrowable(e))}this._postPluginStartedNotification()}else{throw t.XException.createRuntimeException("Ilegal state! The plugin is already running.")}};t.HuDfHorizonPluginController.prototype.kill=function(){this.releaseObject()};t.HuDfHorizonPluginController.prototype._getPluginDef=function(){return this.m_pluginDefRef};t.HuDfHorizonPluginController.prototype._getParentController=function(){return this.m_parentController};t.HuDfHorizonPluginController.prototype._getPluginInstance=function(){return this.m_pluginInstance};t.HuDfHorizonPluginController.prototype._createSubProcess=function(){var e=this._getParentController().getProcess().getApplication();var o=this._getParentController().getProcess().newChildProcess(t.ProcessType.PLUGIN);o.setDescription(this.getName());this.m_pluginProcess=o;this.m_pluginSubApplication=e.newSubApplication(this.m_pluginProcess);o.registerOnEvent(t.ProcessEventLambdaListener.create(function(e,o){if(o===t.ProcessEventType.TERMINATED){this.m_pluginProcess=null;this.kill()}}.bind(this)))};t.HuDfHorizonPluginController.prototype._getDataSpaceBase=function(){return this.getDataSpace()};t.HuDfHorizonPluginController.prototype._postPluginStartedNotification=function(){var e=t.XNotificationData.create();e.putString(t.HuHorizonInternalNotifications.PLUGIN_STARTED_PLUGIN_NAME_NOTIFI_DATA,this.getName());e.putXObject(t.HuHorizonInternalNotifications.PLUGIN_STARTED_PLUGIN_TYPE_NOTIFI_DATA,this.getPluginType());this.getLocalNotificationCenter().postNotificationWithName(t.HuHorizonInternalNotifications.PLUGIN_STARTED,e)};t.HuDfHorizonPluginController.prototype._handlePluginStartupException=function(e){this.addErrorMessage("Startup failed!","Error during plugin startup!",e.getText());t.XLogger.println(t.XException.getStackTrace(e.getThrowable(),0))};t.HuDfHorizonPluginController.prototype._cleanUpDataSpaceListeners=function(){if(t.notNull(this.m_dataSpaceChangedUuidList)&&this.m_dataSpaceChangedUuidList.size()>0){if(this._getDataSpaceBase()!==null){t.XCollectionUtils.forEachString(this.m_dataSpaceChangedUuidList,function(t){this._getDataSpaceBase().removeSpaceChangedListenerByUuid(t)}.bind(this))}this.m_dataSpaceChangedUuidList.clear()}this.m_dataSpaceChangedUuidList=t.XObjectExt.release(this.m_dataSpaceChangedUuidList)};t.HuDfHorizonPluginController.prototype._getPluginMessageGroup=function(){return t.HuMessageGroup.createForPluginNameIfNecessary(this.getName(),this.getDisplayName())};t.HuDfHorizonPluginController.prototype._handlePluginSetupError=function(t){this.addErrorMessage("Setup failed!","Error during plugin setup!",t.getText())};t.HuHorizonDfPopup=function(){};t.HuHorizonDfPopup.prototype=new t.DfUiPopup;t.HuHorizonDfPopup.prototype._ff_c="HuHorizonDfPopup";t.HuHorizonDfPopup.prototype.m_controller=null;t.HuHorizonDfPopup.prototype.releaseObject=function(){this.m_controller=null;t.DfUiPopup.prototype.releaseObject.call(this)};t.HuHorizonDfPopup.prototype.setupPopup=function(e){t.DfUiPopup.prototype.setupPopup.call(this,e)};t.HuHorizonDfPopup.prototype.setupWithController=function(t){this.m_controller=t;this.setupPopup(t.getGenesis())};t.HuHorizonDfPopup.prototype.getGenericController=function(){return this.m_controller};t.HuPluginDataStorage=function(){};t.HuPluginDataStorage.prototype=new t.XObject;t.HuPluginDataStorage.prototype._ff_c="HuPluginDataStorage";t.HuPluginDataStorage.create=function(e){var o=new t.HuPluginDataStorage;o.setupStorage(e);return o};t.HuPluginDataStorage.prototype.m_storageFile=null;t.HuPluginDataStorage.prototype.m_structure=null;t.HuPluginDataStorage.prototype.releaseObject=function(){this.m_structure=t.XObjectExt.release(this.m_structure);this.m_storageFile=t.XObjectExt.release(this.m_storageFile);t.XObject.prototype.releaseObject.call(this)};t.HuPluginDataStorage.prototype.setupStorage=function(e){this.m_storageFile=e;this.m_structure=t.PrFactory.createStructure()};t.HuPluginDataStorage.prototype.save=function(){return null};t.HuPluginDataStorage.prototype.clearStorage=function(){this.m_structure.clear();this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.hasData=function(){return this.m_structure.hasElements()};t.HuPluginDataStorage.prototype.getStringByKey=function(t){return this.m_structure.getStringByKey(t)};t.HuPluginDataStorage.prototype.getStringByKeyExt=function(t,e){return this.m_structure.getStringByKeyExt(t,e)};t.HuPluginDataStorage.prototype.getIntegerByKey=function(t){return this.m_structure.getIntegerByKey(t)};t.HuPluginDataStorage.prototype.getIntegerByKeyExt=function(t,e){return this.m_structure.getIntegerByKeyExt(t,e)};t.HuPluginDataStorage.prototype.getLongByKey=function(t){return this.m_structure.getLongByKey(t)};t.HuPluginDataStorage.prototype.getLongByKeyExt=function(t,e){return this.m_structure.getLongByKeyExt(t,e)};t.HuPluginDataStorage.prototype.getDoubleByKey=function(t){return this.m_structure.getDoubleByKey(t)};t.HuPluginDataStorage.prototype.getDoubleByKeyExt=function(t,e){return this.m_structure.getDoubleByKeyExt(t,e)};t.HuPluginDataStorage.prototype.getBooleanByKey=function(t){return this.m_structure.getBooleanByKey(t)};t.HuPluginDataStorage.prototype.getBooleanByKeyExt=function(t,e){return this.m_structure.getBooleanByKeyExt(t,e)};t.HuPluginDataStorage.prototype.hasNullByKey=function(t){return this.m_structure.hasNullByKey(t)};t.HuPluginDataStorage.prototype.putString=function(t,e){this.m_structure.putString(t,e);this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.putStringNotNull=function(t,e){this.m_structure.putStringNotNull(t,e);this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.putStringNotNullAndNotEmpty=function(t,e){this.m_structure.putStringNotNullAndNotEmpty(t,e);this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.putInteger=function(t,e){this.m_structure.putInteger(t,e);this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.putLong=function(t,e){this.m_structure.putLong(t,e);this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.putDouble=function(t,e){this.m_structure.putDouble(t,e);this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.putBoolean=function(t,e){this.m_structure.putBoolean(t,e);this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.putNull=function(t){this.m_structure.putNull(t);this.savePluginStorageInternal()};t.HuPluginDataStorage.prototype.savePluginStorageInternal=function(){};t.HuDfSubController=function(){};t.HuDfSubController.prototype=new t.XObjectExt;t.HuDfSubController.prototype._ff_c="HuDfSubController";t.HuDfSubController.prototype.m_mainController=null;t.HuDfSubController.prototype.releaseObject=function(){this.m_mainController=null;t.XObjectExt.prototype.releaseObject.call(this)};t.HuDfSubController.prototype.setupWithMainController=function(t){this.m_mainController=t;this.setupController()};t.HuDfSubController.prototype.getMainController=function(){return this.m_mainController};t.HuDfSubController.prototype.getGenesis=function(){return this.getMainController().getGenesis()};t.HuDfSubController.prototype.getProcess=function(){return this.getMainController().getProcess()};t.HuDfSubController.prototype.getSession=function(){return this.getMainController().getSession()};t.HuDfSubController.prototype.getLocalStorage=function(){return this.getMainController().getLocalStorage()};t.HuDfSubController.prototype.getLocalNotificationCenter=function(){return this.getMainController().getLocalNotificationCenter()};t.HuDfSubController.prototype.getLogger=function(){return this.getMainController().getLogger()};t.HuDfSubController.prototype.getLogContextName=function(){return this.getControllerName()};t.HuDfSubController.prototype.logInfo=function(e){this.getLogger().logInfo(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuDfSubController.prototype.logDebug=function(e){this.getLogger().logDebug(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuDfSubController.prototype.getDebugService=function(){return this.getMainController().getDebugService()};t.HuDfSubController.prototype.isDebugMode=function(){return this.getDebugService().isDebugModeEnabled()};t.HuDfSubController.prototype.getMainGenesis=function(){return this.getMainController().getProgramInstance().getGenesis()};t.HuHorizonCommandManager=function(){};t.HuHorizonCommandManager.prototype=new t.HuDfHorizonManager;t.HuHorizonCommandManager.prototype._ff_c="HuHorizonCommandManager";t.HuHorizonCommandManager.create=function(e){var o=new t.HuHorizonCommandManager;o.setupWithToolsContext(e);return o};t.HuHorizonCommandManager.prototype.m_registeredCommandPlugins=null;t.HuHorizonCommandManager.prototype.releaseObject=function(){this.m_registeredCommandPlugins.clear();this.m_registeredCommandPlugins=t.XObjectExt.release(this.m_registeredCommandPlugins);t.HuDfHorizonManager.prototype.releaseObject.call(this)};t.HuHorizonCommandManager.prototype.setupManager=function(){this.m_registeredCommandPlugins=t.XHashMapByString.create()};t.HuHorizonCommandManager.prototype.getManagerName=function(){return"Command Manager"};t.HuHorizonCommandManager.prototype.registerCommandInstance=function(e){if(t.notNull(e)){var o=e.getCommandSpaceName();if(!this.m_registeredCommandPlugins.containsKey(o)){this.m_registeredCommandPlugins.put(e.getCommandSpaceName(),e)}}};t.HuHorizonCommandManager.prototype.executeAction=function(e,o,n){var i="Unknown error during action execution!";var r=this._validateActionId(e);if(r){var s=this._getCommandSpace(e);var a=this.m_registeredCommandPlugins.getByKey(s);if(t.notNull(a)){var u=this._getActionName(e);if(a.hasAction(u)){var l=a.executeCommandSpaceAction(u,o,n);if(t.isNull(l)){l=t.XPromise.resolve(t.XBooleanValue.create(true))}return l}else{i=t.XStringUtils.concatenate4("Action ",u," not found on command space ",s)}}else{i=t.XStringUtils.concatenate2("Command space not found: ",s)}}else{i=t.XStringUtils.concatenate2("Invalid action id: ",e)}this.logInfo(i);return t.XPromise.reject(t.XError.create(i))};t.HuHorizonCommandManager.prototype.getAllRunningCommandSpaces=function(){return this.m_registeredCommandPlugins.getKeysAsReadOnlyListOfString()};t.HuHorizonCommandManager.prototype.isCommandSpaceRegistered=function(t){return this.m_registeredCommandPlugins.containsKey(t)};t.HuHorizonCommandManager.prototype.actionExists=function(e){var o=this._validateActionId(e);if(o){var n=this._getCommandSpace(e);var i=this.m_registeredCommandPlugins.getByKey(n);if(t.notNull(i)){var r=this._getActionName(e);if(i.hasAction(r)){return true}}}return false};t.HuHorizonCommandManager.prototype.getAllActionIds=function(){var e=t.XListOfString.create();t.XCollectionUtils.forEach(this.m_registeredCommandPlugins.getValuesAsReadOnlyList(),function(t){e.addAll(t.getAllActionNames())}.bind(this));return e};t.HuHorizonCommandManager.prototype._validateActionId=function(e){var o=t.XStringTokenizer.splitString(e,".");return t.notNull(o)&&o.size()===2};t.HuHorizonCommandManager.prototype._getCommandSpace=function(e){var o=t.XStringTokenizer.splitString(e,".");if(t.notNull(o)&&o.size()===2){return o.get(0)}return null};t.HuHorizonCommandManager.prototype._getActionName=function(e){var o=t.XStringTokenizer.splitString(e,".");if(t.notNull(o)&&o.size()===2){return o.get(1)}return null};t.HuHorizonConfigManager=function(){};t.HuHorizonConfigManager.prototype=new t.HuDfHorizonManager;t.HuHorizonConfigManager.prototype._ff_c="HuHorizonConfigManager";t.HuHorizonConfigManager.create=function(e,o){var n=new t.HuHorizonConfigManager;n.setupWithToolsContext(e);n.processJson(o);return n};t.HuHorizonConfigManager.prototype.m_configJson=null;t.HuHorizonConfigManager.prototype.m_configurationProcessor=null;t.HuHorizonConfigManager.prototype.m_pluginConfigProcessor=null;t.HuHorizonConfigManager.prototype.m_toolbarConfigProcessor=null;t.HuHorizonConfigManager.prototype.releaseObject=function(){this.m_pluginConfigProcessor=t.XObjectExt.release(this.m_pluginConfigProcessor);this.m_configurationProcessor=t.XObjectExt.release(this.m_configurationProcessor);this.m_toolbarConfigProcessor=t.XObjectExt.release(this.m_toolbarConfigProcessor);this.m_configJson=t.XObjectExt.release(this.m_configJson);t.HuDfHorizonManager.prototype.releaseObject.call(this)};t.HuHorizonConfigManager.prototype.setupManager=function(){};t.HuHorizonConfigManager.prototype.processJson=function(e){if(t.isNull(e)){this.m_configJson=t.PrFactory.createStructure();this.setupEmptyConfig()}else{this.m_configJson=e.clone();this.validateExistingConfig()}this.m_configurationProcessor=t.HuConfigurationGeneralProcessor.create(this.getLogger(),this.getConfigurationSection());this.m_toolbarConfigProcessor=t.HuConfigurationToolbarProcessor.create(this.getLogger(),this.getToolbarSection())};t.HuHorizonConfigManager.prototype.getManagerName=function(){return"Config Manager"};t.HuHorizonConfigManager.prototype.getSaveContent=function(){var e=t.PrUtils.serialize(this.getJson(),false,true,2);return t.XContent.createStringContent(t.ContentType.JSON,e)};t.HuHorizonConfigManager.prototype.getJson=function(){return this.m_configJson};t.HuHorizonConfigManager.prototype.getProgramConfiguration=function(){return this.m_configurationProcessor};t.HuHorizonConfigManager.prototype.processPluginConfiguration=function(){this.m_pluginConfigProcessor=t.HuConfigurationPluginsProcessor.create(this.getLogger(),this.getPluginsSection(),this.getCommandsSection())};t.HuHorizonConfigManager.prototype.getPluginsConfiguration=function(){return this.m_pluginConfigProcessor};t.HuHorizonConfigManager.prototype.getToolbarConfiguration=function(){return this.m_toolbarConfigProcessor};t.HuHorizonConfigManager.prototype.setupEmptyConfig=function(){this.validateExistingConfig()};t.HuHorizonConfigManager.prototype.validateExistingConfig=function(){if(!this.m_configJson.containsKey(t.HuHorizonConfigConstants.CONFIGIGURATION_SECTION)){this.m_configJson.putNewStructure(t.HuHorizonConfigConstants.CONFIGIGURATION_SECTION)}if(!this.m_configJson.containsKey(t.HuHorizonConfigConstants.PLUGINS_SECTION)){this.m_configJson.putNewList(t.HuHorizonConfigConstants.PLUGINS_SECTION)}if(!this.m_configJson.containsKey(t.HuHorizonConfigConstants.COMMANDS_SECTION)){this.m_configJson.putNewList(t.HuHorizonConfigConstants.COMMANDS_SECTION)}if(!this.m_configJson.containsKey(t.HuHorizonConfigConstants.TOOLBAR_SECTION)){this.m_configJson.putNewList(t.HuHorizonConfigConstants.TOOLBAR_SECTION)}};t.HuHorizonConfigManager.prototype.getConfigurationSection=function(){return this.getJson().getStructureByKey(t.HuHorizonConfigConstants.CONFIGIGURATION_SECTION)};t.HuHorizonConfigManager.prototype.getPluginsSection=function(){return this.getJson().getByKey(t.HuHorizonConfigConstants.PLUGINS_SECTION)};t.HuHorizonConfigManager.prototype.getCommandsSection=function(){return this.getJson().getByKey(t.HuHorizonConfigConstants.COMMANDS_SECTION)};t.HuHorizonConfigManager.prototype.getToolbarSection=function(){return this.getJson().getByKey(t.HuHorizonConfigConstants.TOOLBAR_SECTION)};t.HuHorizonMenuManager=function(){};t.HuHorizonMenuManager.prototype=new t.HuDfHorizonManager;t.HuHorizonMenuManager.prototype._ff_c="HuHorizonMenuManager";t.HuHorizonMenuManager.create=function(e,o){var n=new t.HuHorizonMenuManager;n.setupWithToolsContext(e);n.setProgramInstance(o);return n};t.HuHorizonMenuManager.prototype.m_programInstance=null;t.HuHorizonMenuManager.prototype.m_menuButtons=null;t.HuHorizonMenuManager.prototype.releaseObject=function(){this.m_menuButtons=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_menuButtons);this.clearMenuButtons();this.m_programInstance=null;t.HuDfHorizonManager.prototype.releaseObject.call(this)};t.HuHorizonMenuManager.prototype.setupManager=function(){this.m_menuButtons=t.XList.create()};t.HuHorizonMenuManager.prototype.setProgramInstance=function(t){this.m_programInstance=t};t.HuHorizonMenuManager.prototype.getManagerName=function(){return"Menu Manager"};t.HuHorizonMenuManager.prototype.setMenuVisible=function(t){this.getProgramInstance().setProgramMenuVisible(t)};t.HuHorizonMenuManager.prototype.isMenuVisible=function(){return this.getProgramInstance().isProgramMenuVisible()};t.HuHorizonMenuManager.prototype.clearMenuButtons=function(){this.getMenuControl().clearItems()};t.HuHorizonMenuManager.prototype.addMenuButton=function(t,e,o){var n=this.getProgramInstance().addProgramMenuButton(t,e,o);this.m_menuButtons.add(n);return n};t.HuHorizonMenuManager.prototype.getAllMenuButtons=function(){return this.m_menuButtons};t.HuHorizonMenuManager.prototype.getProgramInstance=function(){return this.m_programInstance};t.HuHorizonMenuManager.prototype.getMenuControl=function(){return this.getProgramInstance().getProgramMenu()};t.HuHorizonMessageManager=function(){};t.HuHorizonMessageManager.prototype=new t.HuDfHorizonManager;t.HuHorizonMessageManager.prototype._ff_c="HuHorizonMessageManager";t.HuHorizonMessageManager.create=function(e){var o=new t.HuHorizonMessageManager;o.setupWithToolsContext(e);return o};t.HuHorizonMessageManager.prototype.m_statusMessage=null;t.HuHorizonMessageManager.prototype.m_infoMessages=null;t.HuHorizonMessageManager.prototype.m_successMessages=null;t.HuHorizonMessageManager.prototype.m_warningMessages=null;t.HuHorizonMessageManager.prototype.m_errorMessages=null;t.HuHorizonMessageManager.prototype.m_statusBarClearMessagesPressedObserverId=null;t.HuHorizonMessageManager.prototype.releaseObject=function(){this.m_infoMessages=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_infoMessages);this.m_successMessages=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_successMessages);this.m_warningMessages=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_warningMessages);this.m_errorMessages=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_errorMessages);this.getLocalNotificationCenter().removeObserverByUuid(this.m_statusBarClearMessagesPressedObserverId);this.m_statusBarClearMessagesPressedObserverId=null;t.HuDfHorizonManager.prototype.releaseObject.call(this)};t.HuHorizonMessageManager.prototype.setupManager=function(){this.m_infoMessages=t.XList.create();this.m_successMessages=t.XList.create();this.m_warningMessages=t.XList.create();this.m_errorMessages=t.XList.create();this._observeStatusBarClearMessagesPressedNotification()};t.HuHorizonMessageManager.prototype.getManagerName=function(){return"Message Manager"};t.HuHorizonMessageManager.prototype.setStatus=function(t){this.m_statusMessage=t;this._postStatusChangedNotification()};t.HuHorizonMessageManager.prototype.getStatus=function(){return this.m_statusMessage};t.HuHorizonMessageManager.prototype.addInfoMessage=function(e,o,n,i){if(t.XStringUtils.isNotNullAndNotEmpty(e)){var r=t.HuMessage.createInformation(e,o,n,i);this.m_infoMessages.add(r);this._postNewMessageNotification(r)}};t.HuHorizonMessageManager.prototype.addSuccessMessage=function(e,o,n,i){if(t.XStringUtils.isNotNullAndNotEmpty(e)){var r=t.HuMessage.createSuccess(e,o,n,i);this.m_successMessages.add(r);this._postNewMessageNotification(r)}};t.HuHorizonMessageManager.prototype.addWarningMessage=function(e,o,n,i){if(t.XStringUtils.isNotNullAndNotEmpty(e)){var r=t.HuMessage.createWarning(e,o,n,i);this.m_warningMessages.add(r);this._postNewMessageNotification(r)}};t.HuHorizonMessageManager.prototype.addErrorMessage=function(e,o,n,i){if(t.XStringUtils.isNotNullAndNotEmpty(e)){var r=t.HuMessage.createError(e,o,n,i);this.m_errorMessages.add(r);this._postNewMessageNotification(r)}};t.HuHorizonMessageManager.prototype.addSystemInfoMessage=function(e,o,n){this.addInfoMessage(e,o,n,t.HuMessageGroup.SYSTEM)};t.HuHorizonMessageManager.prototype.addSystemSuccessMessage=function(e,o,n){this.addSuccessMessage(e,o,n,t.HuMessageGroup.SYSTEM)};t.HuHorizonMessageManager.prototype.addSystemWarningMessage=function(e,o,n){this.addWarningMessage(e,o,n,t.HuMessageGroup.SYSTEM)};t.HuHorizonMessageManager.prototype.addSystemErrorMessage=function(e,o,n){this.addErrorMessage(e,o,n,t.HuMessageGroup.SYSTEM)};t.HuHorizonMessageManager.prototype.getAllInfoMessages=function(){return this.m_infoMessages};t.HuHorizonMessageManager.prototype.getAllSuccessMessages=function(){return this.m_successMessages};t.HuHorizonMessageManager.prototype.getAllWarningMessages=function(){return this.m_warningMessages};t.HuHorizonMessageManager.prototype.getAllErrorMessages=function(){return this.m_errorMessages};t.HuHorizonMessageManager.prototype.getAllMessages=function(){var e=t.XList.create();e.addAll(this.getAllInfoMessages());e.addAll(this.getAllSuccessMessages());e.addAll(this.getAllWarningMessages());e.addAll(this.getAllErrorMessages());return e};t.HuHorizonMessageManager.prototype.clearInfoMessages=function(){this._clearMessagesByType(t.HuMessageType.INFORMATION);this._postMessagesClearNotification(t.HuMessageType.INFORMATION)};t.HuHorizonMessageManager.prototype.clearSuccessMessages=function(){this._clearMessagesByType(t.HuMessageType.SUCCESS);this._postMessagesClearNotification(t.HuMessageType.SUCCESS)};t.HuHorizonMessageManager.prototype.clearWarningMessages=function(){this._clearMessagesByType(t.HuMessageType.WARNING);this._postMessagesClearNotification(t.HuMessageType.WARNING)};t.HuHorizonMessageManager.prototype.clearErrorMessages=function(){this._clearMessagesByType(t.HuMessageType.ERROR);this._postMessagesClearNotification(t.HuMessageType.ERROR)};t.HuHorizonMessageManager.prototype.clearAllMessages=function(){this.clearInfoMessages();this.clearSuccessMessages();this.clearWarningMessages();this.clearErrorMessages();this._postAllMessagesClearNotification()};t.HuHorizonMessageManager.prototype.hasInfoMessages=function(){return this.m_infoMessages.size()>0};t.HuHorizonMessageManager.prototype.hasSuccessMessages=function(){return this.m_successMessages.size()>0};t.HuHorizonMessageManager.prototype.hasWarningMessages=function(){return this.m_warningMessages.size()>0};t.HuHorizonMessageManager.prototype.hasErrorMessages=function(){return this.m_errorMessages.size()>0};t.HuHorizonMessageManager.prototype.hasMessages=function(){return this.hasInfoMessages()||this.hasSuccessMessages()||this.hasWarningMessages()||this.hasErrorMessages()};t.HuHorizonMessageManager.prototype._clearMessagesByType=function(e){if(e===t.HuMessageType.INFORMATION){t.XCollectionUtils.releaseEntriesFromCollection(this.m_infoMessages);this.m_infoMessages.clear()}else if(e===t.HuMessageType.SUCCESS){t.XCollectionUtils.releaseEntriesFromCollection(this.m_successMessages);this.m_successMessages.clear()}else if(e===t.HuMessageType.WARNING){t.XCollectionUtils.releaseEntriesFromCollection(this.m_warningMessages);this.m_warningMessages.clear()}else if(e===t.HuMessageType.ERROR){t.XCollectionUtils.releaseEntriesFromCollection(this.m_errorMessages);this.m_errorMessages.clear()}};t.HuHorizonMessageManager.prototype._postStatusChangedNotification=function(){var e=t.XNotificationData.create();e.putString(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_STATUS_CHANGED_NEW_STATUS_NOTIFI_DATA,this.m_statusMessage);this.getLocalNotificationCenter().postNotificationWithName(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_STATUS_CHANGED,e)};t.HuHorizonMessageManager.prototype._postNewMessageNotification=function(e){var o=t.XNotificationData.create();o.putXObject(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_NEW_MESSAGE_MESSAGE_NOTIFI_DATA,e);this.getLocalNotificationCenter().postNotificationWithName(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_NEW_MESSAGE,o)};t.HuHorizonMessageManager.prototype._postMessagesClearNotification=function(e){var o=t.XNotificationData.create();o.putXObject(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_CLEAR_MESSAGES_MESSAGE_TYPE_NOTIFI_DATA,e);this.getLocalNotificationCenter().postNotificationWithName(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_CLEAR_MESSAGES,o)};t.HuHorizonMessageManager.prototype._postAllMessagesClearNotification=function(){this.getLocalNotificationCenter().postNotificationWithName(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_CLEAR_ALL_MESSAGES,null)};t.HuHorizonMessageManager.prototype._observeStatusBarClearMessagesPressedNotification=function(){if(t.XStringUtils.isNullOrEmpty(this.m_statusBarClearMessagesPressedObserverId)){this.m_statusBarClearMessagesPressedObserverId=this.getLocalNotificationCenter().addObserverForName(t.HuHorizonInternalNotifications.STATUS_BAR_MANAGER_CLEAR_MESSAGES_PRESSED,function(e){var o=e.getXObjectByKey(t.HuHorizonInternalNotifications.STATUS_BAR_MANAGER_CLEAR_MESSAGES_PRESSED_MESSAGE_TYPE_NOTIFY_DATA);this._clearMessagesByType(o)}.bind(this))}};t.HuHorizonPluginManager=function(){};t.HuHorizonPluginManager.prototype=new t.HuDfHorizonManager;t.HuHorizonPluginManager.prototype._ff_c="HuHorizonPluginManager";t.HuHorizonPluginManager.create=function(e){var o=new t.HuHorizonPluginManager;o.setupWithToolsContext(e);return o};t.HuHorizonPluginManager.prototype.m_runningViewPlugins=null;t.HuHorizonPluginManager.prototype.m_runningCommandPlugins=null;t.HuHorizonPluginManager.prototype.releaseObject=function(){this.m_runningViewPlugins=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_runningViewPlugins);this.m_runningCommandPlugins=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_runningCommandPlugins);t.HuDfHorizonManager.prototype.releaseObject.call(this)};t.HuHorizonPluginManager.prototype.setupManager=function(){this.m_runningViewPlugins=t.XHashMapByString.create();this.m_runningCommandPlugins=t.XHashMapByString.create()};t.HuHorizonPluginManager.prototype.getManagerName=function(){return"Plugin Manager"};t.HuHorizonPluginManager.prototype.newViewPluginInstance=function(e,o,n){if(t.HuPluginRegistration.isPluginLoaded(e)){var i=this._newGenericViewPlugin(e,o,n);if(t.notNull(i)){this.m_runningViewPlugins.put(i.getUuid(),i);return i}}else{this.logDebug(t.XStringUtils.concatenate2("Plugin not available, cannot create instance -> ",e))}return null};t.HuHorizonPluginManager.prototype.newCommandPluginInstance=function(e,o,n){var i=this._newCommandPlugin(e,o,n);if(t.notNull(i)){this.m_runningCommandPlugins.put(i.getUuid(),i);return i}else{this.logDebug(t.XStringUtils.concatenate2("Plugin not enabled, cannot create instance -> ",e))}return null};t.HuHorizonPluginManager.prototype.getViewPluginByUuid=function(t){return this.m_runningViewPlugins.getByKey(t)};t.HuHorizonPluginManager.prototype.getCommandPluginByUuid=function(t){return this.m_runningCommandPlugins.getByKey(t)};t.HuHorizonPluginManager.prototype.killPluginByUuid=function(e){var o=null;if(this.m_runningViewPlugins.containsKey(e)){o=this.m_runningViewPlugins.getByKey(e)}else if(this.m_runningCommandPlugins.containsKey(e)){o=this.m_runningCommandPlugins.getByKey(e)}if(t.notNull(o)){o.kill();return true}return false};t.HuHorizonPluginManager.prototype._getPluginType=function(e,o){if(t.notNull(e)){var n=t.HuPluginRegistration.getPluginDef(o).getManifest();if(t.notNull(n)&&n.getPluginType()!==null){return n.getPluginType()}return e.getPluginType()}return null};t.HuHorizonPluginManager.prototype._setupPluginAndRun=function(e,o,n,i,r){if(t.notNull(e)&&t.notNull(o)&&t.notNull(n)){e.setPluginInstance(o);e.setParentController(n);e.setConfigJson(i);e.setPluginDef(r);e.run()}};t.HuHorizonPluginManager.prototype._newComponentPlugin=function(e,o,n){var i=t.HuPluginFactory.newPluginInstance(e);if(t.notNull(i)&&i.getPluginType()===t.HuHorizonPluginType.COMPONENT){var r=new t.HuComponentPluginController;this._setupPluginAndRun(r,i,o,n,t.HuPluginRegistration.getPluginDef(e));return r}return null};t.HuHorizonPluginManager.prototype._newDocumentPlugin=function(e,o,n){var i=t.HuPluginFactory.newPluginInstance(e);if(t.notNull(i)&&i.getPluginType()===t.HuHorizonPluginType.DOCUMENT){var r=new t.HuDocumentPluginController;this._setupPluginAndRun(r,i,o,n,t.HuPluginRegistration.getPluginDef(e));return r}return null};t.HuHorizonPluginManager.prototype._newCommandPlugin=function(e,o,n){var i=t.HuPluginFactory.newPluginInstance(e);if(t.notNull(i)&&i.getPluginType()===t.HuHorizonPluginType.COMMAND){var r=new t.HuCommandPluginController;this._setupPluginAndRun(r,i,o,n,t.HuPluginRegistration.getPluginDef(e));return r}return null};t.HuHorizonPluginManager.prototype._newGenericViewPlugin=function(e,o,n){var i=t.HuPluginFactory.newPluginInstance(e);if(t.notNull(i)){var r=this._getPluginType(i,e);if(r===t.HuHorizonPluginType.COMPONENT){return this._newComponentPlugin(e,o,n)}else if(r===t.HuHorizonPluginType.DOCUMENT){return this._newDocumentPlugin(e,o,n)}}return null};t.HuHorizonStateManager=function(){};t.HuHorizonStateManager.prototype=new t.HuDfHorizonManager;t.HuHorizonStateManager.prototype._ff_c="HuHorizonStateManager";t.HuHorizonStateManager.create=function(e){var o=new t.HuHorizonStateManager;o.setupWithToolsContext(e);return o};t.HuHorizonStateManager.prototype.releaseObject=function(){t.HuDfHorizonManager.prototype.releaseObject.call(this)};t.HuHorizonStateManager.prototype.setupManager=function(){};t.HuHorizonStateManager.prototype.getManagerName=function(){return"State Manager"};t.HuHorizonWorkspaceManager=function(){};t.HuHorizonWorkspaceManager.prototype=new t.HuDfHorizonManager;t.HuHorizonWorkspaceManager.prototype._ff_c="HuHorizonWorkspaceManager";t.HuHorizonWorkspaceManager.create=function(e,o){var n=new t.HuHorizonWorkspaceManager;n.setupWithToolsContext(e);n.processWorkspaceDir(o);return n};t.HuHorizonWorkspaceManager.prototype.m_workspaceDir=null;t.HuHorizonWorkspaceManager.prototype.m_horizonDir=null;t.HuHorizonWorkspaceManager.prototype.m_settingsDir=null;t.HuHorizonWorkspaceManager.prototype.m_pluginSettingsDir=null;t.HuHorizonWorkspaceManager.prototype.m_stateFile=null;t.HuHorizonWorkspaceManager.prototype.m_isVirtualWorkspace=false;t.HuHorizonWorkspaceManager.prototype.releaseObject=function(){this.m_stateFile=t.XObjectExt.release(this.m_stateFile);this.m_pluginSettingsDir=t.XObjectExt.release(this.m_pluginSettingsDir);this.m_settingsDir=t.XObjectExt.release(this.m_settingsDir);this.m_horizonDir=t.XObjectExt.release(this.m_horizonDir);this.m_workspaceDir=t.XObjectExt.release(this.m_workspaceDir);t.HuDfHorizonManager.prototype.releaseObject.call(this)};t.HuHorizonWorkspaceManager.prototype.setupManager=function(){};t.HuHorizonWorkspaceManager.prototype.processWorkspaceDir=function(e){this.m_workspaceDir=e;if(t.isNull(this.m_workspaceDir)){this.m_isVirtualWorkspace=true;this.logDebug("No workspace directory specified! Settings cannot be preserved!")}};t.HuHorizonWorkspaceManager.prototype.getManagerName=function(){return"Workspace Manager"};t.HuHorizonWorkspaceManager.prototype.prepareSubDirectoriesIfNecessary=function(){if(t.notNull(this.m_workspaceDir)){var e=t.XPromise.create(function(e,o){this.prepareHorizonDirIfNecessary().then(function(n){this.prepareSettingsDirIfNecessary().then(function(n){this.preparePluginSettingsDirIfNecessary().then(function(o){e(t.XBooleanValue.create(true));return o}.bind(this),o);return n}.bind(this),o);return n}.bind(this),o)}.bind(this));return e}return t.XPromise.reject(t.XError.create("No workspace directory specified"))};t.HuHorizonWorkspaceManager.prototype.getWorkspaceDirectory=function(){return this.m_workspaceDir};t.HuHorizonWorkspaceManager.prototype.getHorizonDirectory=function(){return this.m_horizonDir};t.HuHorizonWorkspaceManager.prototype.getSettingsDirectory=function(){return this.m_settingsDir};t.HuHorizonWorkspaceManager.prototype.getPluginSettingsDirectory=function(){return this.m_pluginSettingsDir};t.HuHorizonWorkspaceManager.prototype.getStateFile=function(){return this.m_stateFile};t.HuHorizonWorkspaceManager.prototype.isVirtualWorkspace=function(){return this.m_isVirtualWorkspace};t.HuHorizonWorkspaceManager.prototype.prepareHorizonDirIfNecessary=function(){if(this.getSettingsDirectory()===null){var e=t.XPromise.create(function(e,o){var n=this.m_workspaceDir.newChild(t.HuHorizonWorkspaceConstants.HORIZON_DIR_NAME);this.prepareDirIfNecessary(n).then(function(i){this.m_horizonDir=n;this.prepareStateFileIfNecessary().then(function(o){e(t.XBooleanValue.create(true));return o}.bind(this),o);return i}.bind(this),o)}.bind(this));return e}return t.XPromise.resolve(t.XBooleanValue.create(true))};t.HuHorizonWorkspaceManager.prototype.prepareSettingsDirIfNecessary=function(){if(this.getSettingsDirectory()===null){var e=t.XPromise.create(function(e,o){var n=this.getHorizonDirectory().newChild(t.HuHorizonWorkspaceConstants.SETTINGS_DIR_NAME);this.prepareDirIfNecessary(n).then(function(o){this.m_settingsDir=n;e(t.XBooleanValue.create(true));return o}.bind(this),o)}.bind(this));return e}return t.XPromise.resolve(t.XBooleanValue.create(true))};t.HuHorizonWorkspaceManager.prototype.preparePluginSettingsDirIfNecessary=function(){if(this.getPluginSettingsDirectory()===null){var e=t.XPromise.create(function(e,o){var n=this.getSettingsDirectory().newChild(t.HuHorizonWorkspaceConstants.PLUGIN_SETTINGS_DIR_NAME);this.prepareDirIfNecessary(n).then(function(o){this.m_pluginSettingsDir=n;e(t.XBooleanValue.create(true));return o}.bind(this),o)}.bind(this));return e}return t.XPromise.resolve(t.XBooleanValue.create(true))};t.HuHorizonWorkspaceManager.prototype.prepareStateFileIfNecessary=function(){if(this.getStateFile()===null){var e=t.XPromise.create(function(e,o){var n=this.getHorizonDirectory().newChild(t.HuHorizonWorkspaceConstants.STATE_FILE_NAME);this.prepareFileIfNecessary(n).then(function(o){this.m_stateFile=n;e(t.XBooleanValue.create(true));return o}.bind(this),o)}.bind(this));return e}return t.XPromise.resolve(t.XBooleanValue.create(true))};t.HuHorizonWorkspaceManager.prototype.prepareDirIfNecessary=function(e){var o=t.XPromise.create(function(o,n){t.UtFilePromise.isExisting(e).then(function(i){if(i.getBoolean()){o(e)}else{t.UtFilePromise.mkdir(e,false).then(function(t){o(e);return t}.bind(this),n)}return i}.bind(this),n)}.bind(this));return o};t.HuHorizonWorkspaceManager.prototype.prepareFileIfNecessary=function(e){var o=t.XPromise.create(function(o,n){t.UtFilePromise.isExisting(e).then(function(i){if(i.getBoolean()){o(e)}else{t.UtFilePromise.saveContent(e,t.XContent.createStringContent(t.ContentType.JSON,"")).then(function(t){o(e);return t}.bind(this),n)}return i}.bind(this),n)}.bind(this));return o};t.HuMessageGroup=function(){};t.HuMessageGroup.prototype=new t.XConstant;t.HuMessageGroup.prototype._ff_c="HuMessageGroup";t.HuMessageGroup.SYSTEM=null;t.HuMessageGroup.PLUGIN=null;t.HuMessageGroup.s_pluginGroups=null;t.HuMessageGroup.staticSetup=function(){t.HuMessageGroup.s_pluginGroups=t.XHashMapByString.create();t.HuMessageGroup.SYSTEM=t.HuMessageGroup.createWithName("System");t.HuMessageGroup.PLUGIN=t.HuMessageGroup.createWithName("Plugin")};t.HuMessageGroup.createWithName=function(e){var o=t.XConstant.setupName(new t.HuMessageGroup,e);o.setDisplayName(e);return o};t.HuMessageGroup.createForPluginNameIfNecessary=function(e,o){var n=t.HuMessageGroup.s_pluginGroups.getByKey(e);if(t.isNull(n)){n=t.HuMessageGroup.createWithName(e);n.setDisplayName(t.XStringUtils.isNotNullAndNotEmpty(o)?o:e);t.HuMessageGroup.s_pluginGroups.put(e,n)}return t.HuMessageGroup.s_pluginGroups.getByKey(e)};t.HuMessageGroup.prototype.m_displayName=null;t.HuMessageGroup.prototype.setDisplayName=function(t){this.m_displayName=t};t.HuMessageGroup.prototype.getDisplayName=function(){return this.m_displayName};t.HuMessageType=function(){};t.HuMessageType.prototype=new t.XConstant;t.HuMessageType.prototype._ff_c="HuMessageType";t.HuMessageType.INFORMATION=null;t.HuMessageType.SUCCESS=null;t.HuMessageType.WARNING=null;t.HuMessageType.ERROR=null;t.HuMessageType.staticSetup=function(){t.HuMessageType.INFORMATION=t.HuMessageType.createWithName("Information");t.HuMessageType.SUCCESS=t.HuMessageType.createWithName("Success");t.HuMessageType.WARNING=t.HuMessageType.createWithName("Warning");t.HuMessageType.ERROR=t.HuMessageType.createWithName("Error")};t.HuMessageType.createWithName=function(e){return t.XConstant.setupName(new t.HuMessageType,e)};t.HuToolbarGroup=function(){};t.HuToolbarGroup.prototype=new t.XConstant;t.HuToolbarGroup.prototype._ff_c="HuToolbarGroup";t.HuToolbarGroup.DEBUG=null;t.HuToolbarGroup.UNGROUPED=null;t.HuToolbarGroup.s_customGroups=null;t.HuToolbarGroup.staticSetup=function(){t.HuToolbarGroup.s_customGroups=t.XHashMapByString.create();t.HuToolbarGroup.DEBUG=t.HuToolbarGroup.createWithName("Debug");t.HuToolbarGroup.UNGROUPED=t.HuToolbarGroup.createWithName("Ungrouped")};t.HuToolbarGroup.createWithName=function(e){var o=t.XConstant.setupName(new t.HuToolbarGroup,e);return o};t.HuToolbarGroup.createCustomGroupIfNecessary=function(e){var o=t.HuToolbarGroup.s_customGroups.getByKey(e);if(t.isNull(o)){o=t.HuToolbarGroup.createWithName(e);t.HuToolbarGroup.s_customGroups.put(e,o)}return t.HuToolbarGroup.s_customGroups.getByKey(e)};t.HuHorizonBootController=function(){};t.HuHorizonBootController.prototype=new t.HuDfSubController;t.HuHorizonBootController.prototype._ff_c="HuHorizonBootController";t.HuHorizonBootController.create=function(e){var o=new t.HuHorizonBootController;o.setupWithMainController(e);return o};t.HuHorizonBootController.prototype.m_bootConfig=null;t.HuHorizonBootController.prototype.m_bootActionsSequenceList=null;t.HuHorizonBootController.prototype.m_currentAction=null;t.HuHorizonBootController.prototype.m_numberOfBootActions=0;t.HuHorizonBootController.prototype.m_bootError=false;t.HuHorizonBootController.prototype.m_currentStatus=null;t.HuHorizonBootController.prototype.m_statusChangedListeners=null;t.HuHorizonBootController.prototype.m_splashScreen=null;t.HuHorizonBootController.prototype.releaseObject=function(){this.m_bootConfig=t.XObjectExt.release(this.m_bootConfig);this.m_bootActionsSequenceList=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_bootActionsSequenceList);this.m_currentAction=null;this.m_currentStatus=null;this.m_statusChangedListeners=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_statusChangedListeners);this.m_splashScreen=t.XObjectExt.release(this.m_splashScreen);t.HuDfSubController.prototype.releaseObject.call(this)};t.HuHorizonBootController.prototype.setupController=function(){this.m_statusChangedListeners=t.XList.create();this.m_currentStatus=t.HuHorizonBootControllerStatus.INITIAL;this.m_bootConfig=t.HuHorizonBootConfig.create();this.m_bootActionsSequenceList=t.XList.create()};t.HuHorizonBootController.prototype.getControllerName=function(){return"Boot Controller"};t.HuHorizonBootController.prototype.executeRegularBoot=function(){this._prepareRegularBoot();return this._startRegularBoot()};t.HuHorizonBootController.prototype.getBootConfig=function(){return this.m_bootConfig};t.HuHorizonBootController.prototype.executeWorkspaceSwitch=function(){this._prepareWorkspaceSwitch();return this._startWorkspaceSwitch()};t.HuHorizonBootController.prototype.setConfigString=function(t){this.m_bootConfig.setConfigString(t)};t.HuHorizonBootController.prototype.setConfigFilePath=function(t){this.m_bootConfig.setConfigFilePath(t)};t.HuHorizonBootController.prototype.initWorkspaceManager=function(t){this.getMainController().initWorkspaceManager(t);return this.getMainController().getWorkspaceManager().prepareSubDirectoriesIfNecessary()};t.HuHorizonBootController.prototype.getWorkspaceManager=function(){return this.getMainController().getWorkspaceManager()};t.HuHorizonBootController.prototype.initConfigManager=function(e){this.getMainController().initConfigManager(e);return t.XPromise.resolve(t.XBooleanValue.create(true))};t.HuHorizonBootController.prototype.getConfigManager=function(){return this.getMainController().getConfigManager()};t.HuHorizonBootController.prototype.finalizeMainControllerSetup=function(){var e=t.XPromise.create(function(e,o){try{this.getMainController().finalizeControllerSetup();e(t.XBooleanValue.create(true))}catch(e){var n=t.XError.create("Error during boot finalization!").attachCause(t.XError.createWithThrowable(e));o(n)}}.bind(this));return e};t.HuHorizonBootController.prototype.getCurrentStatus=function(){return this.m_currentStatus};t.HuHorizonBootController.prototype.addStatusChangedListener=function(e){this.m_statusChangedListeners.add(t.XConsumerHolder.create(e))};t.HuHorizonBootController.prototype.removeStatusChangedListener=function(e){t.XCollectionUtils.removeIf(this.m_statusChangedListeners,function(t){return t.getConsumer()===e}.bind(this))};t.HuHorizonBootController.prototype._logBootActionStart=function(e){this.logDebug(t.XStringUtils.concatenate2("### Starting action: -> ",e.getActionName()))};t.HuHorizonBootController.prototype._logBootActionFinish=function(e){this.logDebug(t.XStringUtils.concatenate2("### Finished action: -> ",e.getActionName()))};t.HuHorizonBootController.prototype._setStatus=function(e){if(t.notNull(e)&&this.m_currentStatus!==e){this.m_currentStatus=e;this.logDebug(t.XStringUtils.concatenate2("Controller status changed to: ",e.getName()));this._notifyStatusChanged(e)}};t.HuHorizonBootController.prototype._notifyStatusChanged=function(e){t.XCollectionUtils.forEach(this.m_statusChangedListeners,function(t){t.accept(e)}.bind(this))};t.HuHorizonBootController.prototype._presentSplashScreen=function(){var e=this.getMainController().getProcess().resolvePath("${ff_mimes}/images/horizon/splashScreen.png");this.m_splashScreen=t.HuSplashScreenView.create(this.getGenesis());this.m_splashScreen.setSplashScreenImagePath(e);this.getMainGenesis().setRoot(this.m_splashScreen.getView())};t.HuHorizonBootController.prototype._prepareRegularBoot=function(){this.m_bootActionsSequenceList.clear();this.m_bootError=false;var e=t.HuHorizonConfigBootAction.create(this);e.setConfigStr(this.getBootConfig().getConfigString());e.setConfigFilePath(this.getBootConfig().getConfigFilePath());this.m_bootActionsSequenceList.add(t.HuHorizonWorkspaceBootAction.create(this));this.m_bootActionsSequenceList.add(e);this.m_bootActionsSequenceList.add(t.HuHorizonPluginsBootAction.create(this));this.m_bootActionsSequenceList.add(t.HuHorizonFinalizeSetupBootAction.create(this));this.m_numberOfBootActions=this.m_bootActionsSequenceList.size()};t.HuHorizonBootController.prototype._startRegularBoot=function(){this._presentSplashScreen();this._setStatus(t.HuHorizonBootControllerStatus.BOOT_IN_PROGRESS);return this._processBootActionsInOrder().then(function(e){this._setStatus(t.HuHorizonBootControllerStatus.BOOT_FINISHED);return e}.bind(this),null)};t.HuHorizonBootController.prototype._prepareWorkspaceSwitch=function(){this.m_bootActionsSequenceList.clear();this.m_bootError=false;this.m_bootActionsSequenceList.add(t.HuHorizonConfigBootAction.create(this));this.m_bootActionsSequenceList.add(t.HuHorizonPluginsBootAction.create(this));this.m_bootActionsSequenceList.add(t.HuHorizonFinalizeSetupBootAction.create(this));this.m_numberOfBootActions=this.m_bootActionsSequenceList.size()};t.HuHorizonBootController.prototype._startWorkspaceSwitch=function(){return this._switchWorkspaceInternal().then(function(e){this._setStatus(t.HuHorizonBootControllerStatus.WORKSPACE_SWITCH_FINISHED);return e}.bind(this),null)};t.HuHorizonBootController.prototype._switchWorkspaceInternal=function(){var e=t.XPromise.create(function(e,o){var n=t.HuHorizonWorkspaceBootAction.create(this);n.presentWorkspaceDirectorySelection().then(function(i){if(t.notNull(i)){this._presentSplashScreen();this._setStatus(t.HuHorizonBootControllerStatus.WORKSPACE_SWITCH_IN_PROGRESS);this._logBootActionStart(n);n.switchWorkspace(i).then(function(o){this._logBootActionFinish(n);this._processBootActionsInOrder().then(function(o){e(t.XBooleanValue.create(true));return o}.bind(this),null);return o}.bind(this),o)}else{o(t.XError.create("Missing workspace directory!"))}return i}.bind(this),function(t){this.logDebug("Workspace switch cancelled!")}.bind(this))}.bind(this));return e};t.HuHorizonBootController.prototype._processBootActionsInOrder=function(){var e=t.XPromise.create(function(t,e){this._processCurrentBootAction(t,e)}.bind(this));return e};t.HuHorizonBootController.prototype._processCurrentBootAction=function(e,o){if(t.notNull(this.m_bootActionsSequenceList)&&this.m_bootActionsSequenceList.size()>0){this.m_currentAction=this.m_bootActionsSequenceList.removeAt(0);this._setCurrentActionLbl();this._logBootActionStart(this.m_currentAction);this.m_currentAction.executeBootAction().then(function(t){this._logBootActionFinish(this.m_currentAction);this._setProgressIndicatorValue();this._processCurrentBootAction(e,o);return t}.bind(this),function(e){var n=t.XStringUtils.concatenate2("Error during startup! Reason: ",e.getText());this._showBootError(n);o(e)}.bind(this))}else{this.m_currentAction=null;this._setCurrentActionLbl();e(t.XBooleanValue.create(true))}};t.HuHorizonBootController.prototype._setCurrentActionLbl=function(){var e=null;if(t.notNull(this.m_currentAction)&&!this.m_bootError){e=t.XStringUtils.concatenate2("Proccessing: ",this.m_currentAction.getActionName())}else if(t.notNull(this.m_currentAction)&&this.m_bootError){e=t.XStringUtils.concatenate2("Boot interrupted during: ",this.m_currentAction.getActionName())}else if(this.m_bootError){e="Boot error..."}else{e="Boot finished..."}this.m_splashScreen.setCurrentStatusText(e)};t.HuHorizonBootController.prototype._setProgressIndicatorValue=function(){var t=this.m_bootActionsSequenceList.size();var e=t/this.m_numberOfBootActions;e=e*100;e=100-e;this.m_splashScreen.setCurrentPercentValue(e)};t.HuHorizonBootController.prototype._showBootError=function(e){if(t.XStringUtils.isNotNullAndNotEmpty(e)){this.m_splashScreen.setErrorMessage(e);this.m_bootError=true;this._setCurrentActionLbl()}else{this.m_splashScreen.setErrorMessage(null)}};t.HuCommandPluginController=function(){};t.HuCommandPluginController.prototype=new t.HuDfHorizonPluginController;t.HuCommandPluginController.prototype._ff_c="HuCommandPluginController";t.HuCommandPluginController.prototype.m_actionMap=null;t.HuCommandPluginController.prototype.getPluginType=function(){return t.HuHorizonPluginType.COMMAND};t.HuCommandPluginController.prototype.toString=function(){var e=t.XStringBuffer.create();e.append("[Command] ");e.append(this.getCommandSpaceName());if(t.XStringUtils.isNotNullAndNotEmpty(this.getDescription())){e.append(" - ");e.append(this.getDescription())}return e.toString()};t.HuCommandPluginController.prototype._initSpecificPlugin=function(){this.m_actionMap=t.XHashMapByString.create()};t.HuCommandPluginController.prototype._setupSpecificPlugin=function(){return this._getCommandPluginInstance().setupPlugin(this)};t.HuCommandPluginController.prototype._setPluginUiBusy=function(t){};t.HuCommandPluginController.prototype._runSpecificPlugin=function(){this._getCommandPluginInstance().registerActions(this)};t.HuCommandPluginController.prototype._destroySpecificPlugin=function(){this.m_actionMap=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_actionMap)};t.HuCommandPluginController.prototype.registerAction=function(e,o){this.m_actionMap.put(e,t.XBiFunctionHolder.create(o))};t.HuCommandPluginController.prototype.getCommandSpaceName=function(){return this.getName()};t.HuCommandPluginController.prototype.executeCommandSpaceAction=function(e,o,n){var i=this.m_actionMap.getByKey(e);if(t.notNull(i)){return i.apply(o,n)}return null};t.HuCommandPluginController.prototype.hasAction=function(t){return this.m_actionMap.containsKey(t)};t.HuCommandPluginController.prototype.getAllActionNames=function(){return this.m_actionMap.getKeysAsReadOnlyListOfString()};t.HuCommandPluginController.prototype._getCommandPluginInstance=function(){return this._getPluginInstance()};t.HuDfViewPluginController=function(){};t.HuDfViewPluginController.prototype=new t.HuDfHorizonPluginController;t.HuDfViewPluginController.prototype._ff_c="HuDfViewPluginController";t.HuDfViewPluginController.prototype.m_pluginGenesis=null;t.HuDfViewPluginController.prototype.m_viewPluginWrapper=null;t.HuDfViewPluginController.prototype.m_containerConfig=null;t.HuDfViewPluginController.prototype._initSpecificPlugin=function(){this.m_containerConfig=t.HuPluginContainerConfig.createFromConfig(this.getConfigJson());var e=this._getParentController().getMainController().getGenesis();if(t.isNull(e)){throw t.XException.createRuntimeException("Missing genesis! Cannot create view plugin!")}this.m_viewPluginWrapper=e.newControl(t.UiType.CONTENT_WRAPPER);this.m_viewPluginWrapper.useMaxSpace();var o=t.UiGenesis.create(this.m_viewPluginWrapper);this.m_pluginGenesis=o;this._initSpecificViewPlugin()};t.HuDfViewPluginController.prototype._setPluginUiBusy=function(t){if(this.getPluginWrapperView()!==null){this.getPluginWrapperView().setBusy(t)}};t.HuDfViewPluginController.prototype._destroySpecificPlugin=function(){this._destroySpecificViewPlugin();this.m_containerConfig=t.XObjectExt.release(this.m_containerConfig);this.m_viewPluginWrapper=t.XObjectExt.release(this.m_viewPluginWrapper);this.m_pluginGenesis=t.XObjectExt.release(this.m_pluginGenesis)};t.HuDfViewPluginController.prototype.getView=function(){return this.getPluginWrapperView()};t.HuDfViewPluginController.prototype.getPluginWrapperView=function(){return this.m_viewPluginWrapper};t.HuDfViewPluginController.prototype.getPluginContainerConfig=function(){return this.m_containerConfig};t.HuDfViewPluginController.prototype.onPluginContainerResize=function(t,e){try{this._getViewPluginInstance().onResize(t,e)}catch(t){this.logDebug("Missing onResize method on the plugin instance!")}};t.HuDfViewPluginController.prototype._getPluginGenesis=function(){return this.m_pluginGenesis};t.HuDfViewPluginController.prototype._getViewPluginInstance=function(){return this._getPluginInstance()};t.HuHorizonWorkspaceSelectionPopup=function(){};t.HuHorizonWorkspaceSelectionPopup.prototype=new t.HuHorizonDfPopup;t.HuHorizonWorkspaceSelectionPopup.prototype._ff_c="HuHorizonWorkspaceSelectionPopup";t.HuHorizonWorkspaceSelectionPopup.create=function(e){var o=new t.HuHorizonWorkspaceSelectionPopup;o.setupWithController(e);return o};t.HuHorizonWorkspaceSelectionPopup.prototype.m_inputConsumer=null;t.HuHorizonWorkspaceSelectionPopup.prototype.m_cancelProcedure=null;t.HuHorizonWorkspaceSelectionPopup.prototype.m_input=null;t.HuHorizonWorkspaceSelectionPopup.prototype.releaseObject=function(){this.m_inputConsumer=null;this.m_cancelProcedure=null;this.m_input=t.XObjectExt.release(this.m_input);t.HuHorizonDfPopup.prototype.releaseObject.call(this)};t.HuHorizonWorkspaceSelectionPopup.prototype.configurePopup=function(e){e.setTitle("Horizon workspace");e.setWidth(t.UiCssLength.create("600px"));this.addButton(null,t.UiButtonType.DEFAULT,"Cancel","sys-cancel-2",t.UiLambdaPressListener.create(function(t){this.cancelPopup()}.bind(this)));this.addButton(null,t.UiButtonType.PRIMARY,"Launch","begin",t.UiLambdaPressListener.create(function(t){this.confirmPopup()}.bind(this)))};t.HuHorizonWorkspaceSelectionPopup.prototype.buildPopupContent=function(e){var o=e.newControl(t.UiType.FLEX_LAYOUT);o.useMaxSpace();o.setDirection(t.UiFlexDirection.COLUMN);var n=o.addNewItemOfType(t.UiType.LABEL);n.setText("Select a directory as a workspace");n.setFontWeight(t.UiFontWeight.BOLD);var i=o.addNewItemOfType(t.UiType.LABEL);i.setText("Horizon uses the workspace directory to store settings and state artifacts.");i.setMargin(t.UiCssBoxEdges.create("0 0 0.5rem 0"));this.m_input=o.addNewItemOfType(t.UiType.INPUT);this.m_input.setShowValueHelp(true);this.m_input.registerOnEnter(t.UiLambdaEnterListener.create(function(t){this.confirmPopup()}.bind(this)));this.m_input.registerOnValueHelpRequest(t.UiLambdaValueHelpRequestListener.create(function(t){this.presentDirectorySelection()}.bind(this)));e.setRoot(o)};t.HuHorizonWorkspaceSelectionPopup.prototype.setInputConsumer=function(t){this.m_inputConsumer=t};t.HuHorizonWorkspaceSelectionPopup.prototype.setCancelProcedure=function(t){this.m_cancelProcedure=t};t.HuHorizonWorkspaceSelectionPopup.prototype.setInputValue=function(e){if(t.notNull(this.m_input)){this.m_input.setValue(e)}};t.HuHorizonWorkspaceSelectionPopup.prototype.confirmPopup=function(){if(t.notNull(this.m_inputConsumer)&&t.notNull(this.m_input)){this.m_inputConsumer(this.m_input.getValue())}this.close()};t.HuHorizonWorkspaceSelectionPopup.prototype.cancelPopup=function(){if(t.notNull(this.m_cancelProcedure)){this.m_cancelProcedure()}this.close()};t.HuHorizonWorkspaceSelectionPopup.prototype.presentDirectorySelection=function(){var e=t.SuResourceExplorerConfigWrapper.create();e.setTitle("Select a directory as a workspace");e.setInitialPath(t.HuHorizonConstants.DEFAULT_HOME_DIRECTORY);t.SuResourceExplorerPromise.selectDirectory(this.getGenericController().getProcess(),e).then(function(e){if(t.notNull(e)){this.m_input.setValue(e.getUri().getPath())}return e}.bind(this),function(t){this.getGenesis().showErrorToast(t.getText())}.bind(this))};t.HuHorizonWorkspaceSelectionPopup.prototype.onAfterOpen=function(e){if(t.notNull(this.m_input)){this.m_input.focus()}};t.HuHorizonWorkspaceSelectionPopup.prototype.onAfterClose=function(t){};t.HuHorizonShellController=function(){};t.HuHorizonShellController.prototype=new t.HuDfSubController;t.HuHorizonShellController.prototype._ff_c="HuHorizonShellController";t.HuHorizonShellController.create=function(e){var o=new t.HuHorizonShellController;o.setupWithMainController(e);return o};t.HuHorizonShellController.prototype.m_menuManager=null;t.HuHorizonShellController.prototype.releaseObject=function(){t.HuDfSubController.prototype.releaseObject.call(this)};t.HuHorizonShellController.prototype.setupController=function(){this.m_menuManager=t.HuHorizonMenuManager.create(this,this.getMainController().getProgramInstance());this._registerDocumentPluginTitleChanged()};t.HuHorizonShellController.prototype.getControllerName=function(){return"Shell Controller"};t.HuHorizonShellController.prototype.reInitShell=function(){this.getMenuManager().clearMenuButtons();this._renderFileMenu();this._renderDebugMenuIfNeeded();this._applyInitialConfig()};t.HuHorizonShellController.prototype.setTitle=function(t){this.getMainController().getProgramInstance().setContainerTitle(t)};t.HuHorizonShellController.prototype.isEmbedded=function(){return this.getMainController().getProgramInstance().isContainerEmbedded()};t.HuHorizonShellController.prototype.getMenuManager=function(){return this.m_menuManager};t.HuHorizonShellController.prototype._applyInitialConfig=function(){this.setTitle(this.getMainController().getConfigManager().getProgramConfiguration().getWorkspaceTitle());this.getMenuManager().setMenuVisible(this.getMainController().getConfigManager().getProgramConfiguration().isMenuVisible())};t.HuHorizonShellController.prototype._renderFileMenu=function(){this.getMenuManager().addMenuButton("File",null,function(t){this._presentFileMenu(t)}.bind(this))};t.HuHorizonShellController.prototype._renderDebugMenuIfNeeded=function(){if(this.isDebugMode()){this.getMenuManager().addMenuButton("Debug",null,function(t){this._presentDebugMenu(t)}.bind(this))}};t.HuHorizonShellController.prototype._registerDocumentPluginTitleChanged=function(){this.getLocalNotificationCenter().addObserverForName(t.HuHorizonInternalNotifications.DOCUMENT_TITLE_CHANGED,function(e){var o=e.getStringByKey(t.HuHorizonInternalNotifications.DOCUMENT_TITLE_CHANGED_NEW_TITLE_NOTIFI_DATA);this.logDebug(t.HuHorizonInternalNotifications.DOCUMENT_TITLE_CHANGED);this.logDebug(o);if(t.XStringUtils.isNotNullAndNotEmpty(o)){this.setTitle(o)}}.bind(this))};t.HuHorizonShellController.prototype._presentFileMenu=function(e){if(t.notNull(e)&&e.getControl()!==null){var o=this.getGenesis().newControl(t.UiType.MENU);var n=o.addNewItem();n.setText("Preferences...");n.setIcon("settings");n.setEnabled(true);n.registerOnPress(t.UiLambdaPressListener.create(function(e){var o=t.ProgramRunner.createRunner(this.getProcess(),t.SuSettingsDialog.DEFAULT_PROGRAM_NAME);o.runProgram()}.bind(this)));var i=o.addNewItem();i.setText("Available plugins...");i.setIcon("switch-views");i.setEnabled(true);i.setSectionStart(true);i.registerOnPress(t.UiLambdaPressListener.create(function(t){this.presentPluginList()}.bind(this)));if(!this.getMainController().getWorkspaceManager().isVirtualWorkspace()){var r=o.addNewItem();r.setText("Switch workspace...");r.setIcon("list");r.setEnabled(true);r.setSectionStart(true);r.registerOnPress(t.UiLambdaPressListener.create(function(t){this.getMainController().requestWorkspaceSwitch()}.bind(this)))}if(!this.isEmbedded()){var s=o.addNewItem();s.setText("Exit");s.setIcon("decline");s.setEnabled(true);s.setSectionStart(true);s.registerOnPress(t.UiLambdaPressListener.create(function(t){this.getMainController().getProgramInstance().terminate()}.bind(this)))}o.openAt(e.getControl())}};t.HuHorizonShellController.prototype.presentPluginList=function(){var e=t.ProgramRunner.createRunner(this.getProcess(),t.HuPluginListDialog.DEFAULT_PROGRAM_NAME);e.setBooleanArgument("showAll",this.isDebugMode());e.runProgram()};t.HuHorizonShellController.prototype._presentDebugMenu=function(e){if(t.notNull(e)&&e.getControl()!==null){var o=this.getGenesis().newControl(t.UiType.MENU);var n=o.addNewItem();n.setText("Plugin processes...");n.setIcon("instance");n.setEnabled(true);n.registerOnPress(t.UiLambdaPressListener.create(function(t){this.getDebugService().presentPluginProcessTaskManger()}.bind(this)));o.openAt(e.getControl())}};t.HuHorizonUiController=function(){};t.HuHorizonUiController.prototype=new t.HuDfSubController;t.HuHorizonUiController.prototype._ff_c="HuHorizonUiController";t.HuHorizonUiController.create=function(e){var o=new t.HuHorizonUiController;o.setupWithMainController(e);return o};t.HuHorizonUiController.prototype.m_statusBarManager=null;t.HuHorizonUiController.prototype.m_toolbarManager=null;t.HuHorizonUiController.prototype.m_viewManager=null;t.HuHorizonUiController.prototype.m_mainLayout=null;t.HuHorizonUiController.prototype.releaseObject=function(){this.m_statusBarManager=t.XObjectExt.release(this.m_statusBarManager);this.m_toolbarManager=t.XObjectExt.release(this.m_toolbarManager);this.m_viewManager=t.XObjectExt.release(this.m_viewManager);this.m_mainLayout=t.XObjectExt.release(this.m_mainLayout);this.getMainGenesis().clearUi();t.HuDfSubController.prototype.releaseObject.call(this)};t.HuHorizonUiController.prototype.setupController=function(){this.m_statusBarManager=t.HuHorizonStatusBarManager.create(this,this.getGenesis());this.m_toolbarManager=t.HuHorizonToolbarManager.create(this,this.getGenesis());this.m_viewManager=t.HuHorizonViewManager.create(this,this.getGenesis(),"ffHorizonMainContent")};t.HuHorizonUiController.prototype.getControllerName=function(){return"Ui Controller"};t.HuHorizonUiController.prototype.reInitUi=function(){this.logDebug("Initialize Ui");this.m_mainLayout=this.getGenesis().newControl(t.UiType.FLEX_LAYOUT);this.m_mainLayout.useMaxSpace();this.m_mainLayout.setDirection(t.UiFlexDirection.COLUMN);this.m_mainLayout.setBackgroundDesign(t.UiBackgroundDesign.SOLID);this.m_mainLayout.addItem(this.getToolbarManager().getView());this.m_mainLayout.addItem(this.getViewManager().getView());this.m_mainLayout.addItem(this.getStatusBarManager().getView());this._applyInitialConfig();this.getMainGenesis().setRoot(this.m_mainLayout);this._applyInitialStatusBarState();this._renderToolbar();this._renderPlugins();this.logDebug("Ui initialized!")};t.HuHorizonUiController.prototype.getStatusBarManager=function(){return this.m_statusBarManager};t.HuHorizonUiController.prototype.getToolbarManager=function(){return this.m_toolbarManager};t.HuHorizonUiController.prototype.getViewManager=function(){return this.m_viewManager};t.HuHorizonUiController.prototype._applyInitialConfig=function(){this.logDebug("Applying initial ui config");this.getToolbarManager().setToolbarVisible(this._shouldShowToolbar());this.getStatusBarManager().setStatusBarVisible(this.getMainController().getConfigManager().getProgramConfiguration().isStatusBarVisible())};t.HuHorizonUiController.prototype._applyInitialStatusBarState=function(){this.logDebug("Applying initial status bar state");var e=this.getMainController().getMessageManager().getStatus();if(t.XStringUtils.isNotNullAndNotEmpty(e)){this.getStatusBarManager().setStatusMessage(e)}if(this.getMainController().getMessageManager().hasMessages()){this.getStatusBarManager().addAllMessages(this.getMainController().getMessageManager().getAllMessages())}};t.HuHorizonUiController.prototype._renderToolbar=function(){this.logDebug("Rendering --- toolbar");this._createDebugToolbarGroupIfNeeded();this._generateToolbarItemsIfNeeded();this.getToolbarManager().renderToolbar()};t.HuHorizonUiController.prototype._renderPlugins=function(){this.logDebug("Rendering --- plugins");if(this.getMainController().getConfigManager().getPluginsConfiguration().hasStartupViewPlugins()){this.getMainController().getConfigManager().getPluginsConfiguration().processStartupViewPlugins(function(e){var o=this.getMainController().getPluginManager().newViewPluginInstance(e.getPluginName(),this.getMainController(),e.getConfig());if(t.notNull(o)){this.logDebug(t.XStringUtils.concatenate2("Rendering plugin --\x3e ",o.getName()));this.getViewManager().addPluginView(o)}}.bind(this))}else{this._presentEmptyWorkspaceView();this.logDebug("No view plugins specified in the configuration! Nothing to render...")}};t.HuHorizonUiController.prototype._presentEmptyWorkspaceView=function(){var e=t.HuEmptyWorkspaceView.create(this.getGenesis());e.setMessageText("No document or component plugins specified in the configuration...");e.setReloadConfigButtonPressedProcdeure(function(){this.getGenesis().showInfoToast("Works...")}.bind(this));this.m_mainLayout.removeItem(this.getViewManager().getView());this.m_mainLayout.insertItem(e.getView(),1)};t.HuHorizonUiController.prototype._shouldShowToolbar=function(){if(this.getMainController().getConfigManager().getProgramConfiguration().isToolbarPropertySet()){return this.getMainController().getConfigManager().getProgramConfiguration().isToolbarVisible()}return this.isDebugMode()||this.getMainController().getConfigManager().getToolbarConfiguration().hasToolbarItems()};t.HuHorizonUiController.prototype._createDebugToolbarGroupIfNeeded=function(){if(this.isDebugMode()){var e=this.getToolbarManager().createNewGroup(t.HuToolbarGroup.DEBUG.getName());e.addButton("test","test","test","accept").setPressConsumer(function(t){this.getGenesis().showErrorToast("Works!")}.bind(this));e.addButton("commandTest","commandTest","commandTest","action").setPressConsumer(function(t){this.getMainController().getCommandManager().executeAction("SimpleToastCommand.show",this.getMainController(),null)}.bind(this))}};t.HuHorizonUiController.prototype._generateToolbarItemsIfNeeded=function(){if(this.getMainController().getConfigManager().getToolbarConfiguration().hasToolbarItems()){var e=this.getMainController().getConfigManager().getToolbarConfiguration().getAllGroupsInOrder();t.XCollectionUtils.forEach(e,function(t){this.getToolbarManager().createNewGroup(t.getName())}.bind(this));var o=this.getMainController().getConfigManager().getToolbarConfiguration().getAllToolbarItems();t.XCollectionUtils.forEach(o,function(e){var o=this.getToolbarManager().getGroupByNameCreateIfNeeded(e.getGroup().getName());if(t.notNull(o)){var n=o.addButton(e.getName(),e.getText(),e.getTooltip(),e.getIcon());n.setPressConsumer(function(t){this.getMainController().getCommandManager().executeAction(e.getActionId(),this.getMainController(),null)}.bind(this));n.setEnabled(this.getMainController().getCommandManager().actionExists(e.getActionId()))}}.bind(this))}};t.HuComponentPluginController=function(){};t.HuComponentPluginController.prototype=new t.HuDfViewPluginController;t.HuComponentPluginController.prototype._ff_c="HuComponentPluginController";t.HuComponentPluginController.prototype.getPluginType=function(){return t.HuHorizonPluginType.COMPONENT};t.HuComponentPluginController.prototype._initSpecificViewPlugin=function(){this.getPluginWrapperView().addCssClass("ffHorizonComponentPlugin")};t.HuComponentPluginController.prototype._setupSpecificPlugin=function(){return this._getComponentPluginInstance().setupPlugin(this)};t.HuComponentPluginController.prototype._runSpecificPlugin=function(){this._getComponentPluginInstance().buildPluginUi(this.getGenesis())};t.HuComponentPluginController.prototype._destroySpecificViewPlugin=function(){};t.HuComponentPluginController.prototype.getGenesis=function(){return this._getPluginGenesis()};t.HuComponentPluginController.prototype._getComponentPluginInstance=function(){return this._getPluginInstance()};t.HuDocumentPluginController=function(){};t.HuDocumentPluginController.prototype=new t.HuDfViewPluginController;t.HuDocumentPluginController.prototype._ff_c="HuDocumentPluginController";t.HuDocumentPluginController.prototype.m_documentTitle=null;t.HuDocumentPluginController.prototype.m_documentDataSpace=null;t.HuDocumentPluginController.prototype.m_documentViewManager=null;t.HuDocumentPluginController.prototype.m_documentPluginManager=null;t.HuDocumentPluginController.prototype.m_globalDataSpaceChangedUuidList=null;t.HuDocumentPluginController.prototype.getPluginType=function(){return t.HuHorizonPluginType.DOCUMENT};t.HuDocumentPluginController.prototype.getDataSpace=function(){return this.m_documentDataSpace};t.HuDocumentPluginController.prototype._initSpecificViewPlugin=function(){this.getPluginWrapperView().addCssClass("ffHorizonDocumentPlugin");this.getPluginWrapperView().setMinHeight(t.UiCssLength.create("0"));this.getPluginWrapperView().setFlex("1");this.m_documentDataSpace=t.HuDataSpace.create();this.m_documentPluginManager=t.HuHorizonPluginManager.create(this);this.m_documentViewManager=t.HuHorizonViewManager.create(this,this._getPluginGenesis(),"ffHorizonDocumentPluginContainer");this.setRoot(this.getPluginContainerView());this.setDocumentTitle(this.getDisplayName())};t.HuDocumentPluginController.prototype._setupSpecificPlugin=function(){return this._getDocumentPluginInstance().setupPlugin(this)};t.HuDocumentPluginController.prototype._runSpecificPlugin=function(){this._getDocumentPluginInstance().layoutDocument(this)};t.HuDocumentPluginController.prototype._destroySpecificViewPlugin=function(){this._cleanUpGlobalDataSpaceListeners();this.m_documentPluginManager=t.XObjectExt.release(this.m_documentPluginManager);this.m_documentViewManager=t.XObjectExt.release(this.m_documentViewManager);this.m_documentDataSpace=t.XObjectExt.release(this.m_documentDataSpace)};t.HuDocumentPluginController.prototype.getGenesis=function(){return this._getPluginGenesis()};t.HuDocumentPluginController.prototype.getMainController=function(){return this._getParentController().getMainController()};t.HuDocumentPluginController.prototype.setDocumentTitle=function(t){this.m_documentTitle=t;this._postDocumentTitleChangedNotification()};t.HuDocumentPluginController.prototype.setBusy=function(t){this._setPluginUiBusy(t)};t.HuDocumentPluginController.prototype.getGlobalDataSpace=function(){return this._getParentController().getDataSpace()};t.HuDocumentPluginController.prototype.addGlobalDataSpaceChangedListener=function(e){if(t.isNull(this.m_globalDataSpaceChangedUuidList)){this.m_globalDataSpaceChangedUuidList=t.XListOfString.create()}var o=this._getGlobalDataSpaceBase().addSpaceChangedListener(e);if(t.XStringUtils.isNotNullAndNotEmpty(o)){this.m_globalDataSpaceChangedUuidList.add(o)}return o};t.HuDocumentPluginController.prototype.removeGlobalDataSpaceChangedListener=function(e){this._getGlobalDataSpaceBase().removeSpaceChangedListenerByUuid(e);if(t.notNull(this.m_globalDataSpaceChangedUuidList)){this.m_globalDataSpaceChangedUuidList.removeElement(e)}};t.HuDocumentPluginController.prototype.getAllAvailableComponentPlugins=function(){return t.HuPluginRegistration.getAllLoadedPluginNamesByType(t.HuHorizonPluginType.COMPONENT)};t.HuDocumentPluginController.prototype.newComponentPlugin=function(e,o){var n=this._getDocumentPluginManager().newViewPluginInstance(e,this,o);if(t.notNull(n)){return n.getUuid()}return null};t.HuDocumentPluginController.prototype.addNewComponentPlugin=function(e,o){var n=this._getDocumentPluginManager().newViewPluginInstance(e,this,o);if(t.notNull(n)){this._getDocumentViewManager().addPluginView(n);return n.getUuid()}return null};t.HuDocumentPluginController.prototype.destroyComponentPlugin=function(e){var o=this._getDocumentPluginManager().getViewPluginByUuid(e);if(t.notNull(o)){this._getDocumentViewManager().removePluginView(o);this._getDocumentPluginManager().killPluginByUuid(e)}};t.HuDocumentPluginController.prototype.hideComponentPlugin=function(e){var o=this._getDocumentPluginManager().getViewPluginByUuid(e);if(t.notNull(o)){this._getDocumentViewManager().removePluginView(o)}};t.HuDocumentPluginController.prototype.showComponentPlugin=function(e){var o=this._getDocumentPluginManager().getViewPluginByUuid(e);if(t.notNull(o)){this._getDocumentViewManager().addPluginView(o)}};t.HuDocumentPluginController.prototype.getPluginView=function(e){var o=this._getDocumentPluginManager().getViewPluginByUuid(e);if(t.notNull(o)){return o.getPluginWrapperView()}return null};t.HuDocumentPluginController.prototype.getPluginContainerView=function(){return this._getDocumentViewManager().getView()};t.HuDocumentPluginController.prototype.setRoot=function(t){if(this.getPluginContainerView().getParent()===this.getPluginWrapperView()){this.getPluginWrapperView().clearContent()}this._getPluginGenesis().setRoot(t)};t.HuDocumentPluginController.prototype.getTitle=function(){return this.m_documentTitle};t.HuDocumentPluginController.prototype._getDocumentPluginInstance=function(){return this._getPluginInstance()};t.HuDocumentPluginController.prototype._getDocumentViewManager=function(){return this.m_documentViewManager};t.HuDocumentPluginController.prototype._getDocumentPluginManager=function(){return this.m_documentPluginManager};t.HuDocumentPluginController.prototype._getGlobalDataSpaceBase=function(){return this.getGlobalDataSpace()};t.HuDocumentPluginController.prototype._cleanUpGlobalDataSpaceListeners=function(){if(t.notNull(this.m_globalDataSpaceChangedUuidList)&&this.m_globalDataSpaceChangedUuidList.size()>0){if(this._getGlobalDataSpaceBase()!==null){t.XCollectionUtils.forEachString(this.m_globalDataSpaceChangedUuidList,function(t){this._getGlobalDataSpaceBase().removeSpaceChangedListenerByUuid(t)}.bind(this))}this.m_globalDataSpaceChangedUuidList.clear()}this.m_globalDataSpaceChangedUuidList=t.XObjectExt.release(this.m_globalDataSpaceChangedUuidList)};t.HuDocumentPluginController.prototype._postDocumentTitleChangedNotification=function(){var e=t.XNotificationData.create();e.putString(t.HuHorizonInternalNotifications.DOCUMENT_TITLE_CHANGED_NEW_TITLE_NOTIFI_DATA,this.getTitle());this.getLocalNotificationCenter().postNotificationWithName(t.HuHorizonInternalNotifications.DOCUMENT_TITLE_CHANGED,e)};t.HuErrorType=function(){};t.HuErrorType.prototype=new t.XErrorType;t.HuErrorType.prototype._ff_c="HuErrorType";t.HuErrorType.CONFIG_ERROR=null;t.HuErrorType.CONFIG_FILE_NOT_FOUND=null;t.HuErrorType.CONFIG_SYNTAX_ERROR=null;t.HuErrorType.staticSetupHorizon=function(){t.HuErrorType.CONFIG_ERROR=t.HuErrorType.createHorizonError("ConfigError",null);t.HuErrorType.CONFIG_FILE_NOT_FOUND=t.HuErrorType.createHorizonError("ConfigFileNotFound",t.HuErrorType.CONFIG_ERROR);t.HuErrorType.CONFIG_SYNTAX_ERROR=t.HuErrorType.createHorizonError("ConfigSyntaxError",t.HuErrorType.CONFIG_ERROR)};t.HuErrorType.createHorizonError=function(e,o){return t.XErrorType.createError(new t.HuErrorType,e,o)};t.HuHorizonStatusBarManager=function(){};t.HuHorizonStatusBarManager.prototype=new t.HuDfHorizonUiManager;t.HuHorizonStatusBarManager.prototype._ff_c="HuHorizonStatusBarManager";t.HuHorizonStatusBarManager.ICON_MARGIN="0 5px 0 5px";t.HuHorizonStatusBarManager.ACTIVITY_INDICATOR_ICON_BASE64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMUSURBVEiJrZZLbFVVFIa/f5/Ti7UWq4bYFNHgQEwkyqAiieiAxGBMjGmJqEQiAx048ZmYaNL2WkwLEZSXGlNmTUysASJOQElQGBGMKWEAxoF1QlQMYNPXvfec/TvoU0ofof2Ha6/z/Wutfc7ZW8ykom9RyH8XnIjmMLXJMd7R8Iz5M0gzruzzEl3L+4D6scigxNG4Ktl6+jGaJb7AvLT+Pv0wm0G4YfTDrEnX8l+nwAFqiFxhs3IFlgJ3ElgG8O0FNx885zfn7sBWaM92W3p7vGqgBkDmy9iavI5kgJ8v+dbGBg0dP+eagSXu7+tH764N0wr+XyC055+NwS37Y8ekEUCiayocoLFBQwAbH9HgPyUdWlpQ1+wdtGevCrqAaLONtrR7bFzP4+QQRcUbAaaq86zvHyn5yL9l/bRng94ASAEoul7knwIYvU9b0j3xVFv6zVzgcWUl1lwZ0cPG6cRUAILyD4DbgDPEsGu+wOvVsl6HC4FNaaLHx2Maex3/BOosb6Sl6vubNRjX1uNeeXmIF9edY2fK1exJpDrgEnl6YqFwgBD5/HLFT59crZGUEBqxEZzyPDZyPvpjhGOJWHF7HV+lIXq5Bdi/LQYc4Mcm7QX2AqSIaoAYQmmxDB7o8fKBgXx/JefrFPsvJIJdvyjzASplmoczNUVzbxoV+oQxrFokPlcrdAexuhDDLlH0gwr5BaDimNRT1JXFMgIIFHURdB6oIomvLBSYHqg8lezOhsKOyp5RA8BwAEB2Kx1etqCKS7rbw65GapiM9jhRe96r9sxqz06yz0tuiv6eR/ex03eMhyb/psXyGoVwCqgFvnNMXqao/nmBP3F1GMgPesRbHDnKjqrnJjqaNCj0Wt4MlIFnFbKzbM+emRO+vbJBA/GMM7ZQGj2Lpi5PP5M/Kq9TDD3AitEM/WJzBOJplP4NZMTsHhQelb0JWEvZUCK64LfoKOyf3QCgw3eFctbqoNdg9EufJgNlw4hMlc9b6Qt06uL1aTPfKgBa/BAx2ybpCeyVNrXKVUAexBp2iCdR1U461DsT4j8tvEUHScegaAAAAABJRU5ErkJggg==";t.HuHorizonStatusBarManager.create=function(e,o){var n=new t.HuHorizonStatusBarManager;n.setupManagerWithGenesis(e,o);return n};t.HuHorizonStatusBarManager.prototype.m_wrapperLayout=null;t.HuHorizonStatusBarManager.prototype.m_statusLabel=null;t.HuHorizonStatusBarManager.prototype.m_infoIcon=null;t.HuHorizonStatusBarManager.prototype.m_successIcon=null;t.HuHorizonStatusBarManager.prototype.m_warningsIcon=null;t.HuHorizonStatusBarManager.prototype.m_errorsIcon=null;t.HuHorizonStatusBarManager.prototype.m_networkActivityIndicator=null;t.HuHorizonStatusBarManager.prototype.m_statusChangedObserverId=null;t.HuHorizonStatusBarManager.prototype.m_newMessagesObserverId=null;t.HuHorizonStatusBarManager.prototype.m_clearMessagesObserverId=null;t.HuHorizonStatusBarManager.prototype.m_clearAllMessagesObserverId=null;t.HuHorizonStatusBarManager.prototype.releaseObject=function(){this.getLocalNotificationCenter().removeObserverByUuid(this.m_statusChangedObserverId);this.m_statusChangedObserverId=null;this.getLocalNotificationCenter().removeObserverByUuid(this.m_newMessagesObserverId);this.m_newMessagesObserverId=null;this.getLocalNotificationCenter().removeObserverByUuid(this.m_clearMessagesObserverId);this.m_clearMessagesObserverId=null;this.getLocalNotificationCenter().removeObserverByUuid(this.m_clearAllMessagesObserverId);this.m_clearAllMessagesObserverId=null;this.m_networkActivityIndicator=t.XObjectExt.release(this.m_networkActivityIndicator);this.m_infoIcon=t.XObjectExt.release(this.m_infoIcon);this.m_successIcon=t.XObjectExt.release(this.m_successIcon);this.m_errorsIcon=t.XObjectExt.release(this.m_errorsIcon);this.m_warningsIcon=t.XObjectExt.release(this.m_warningsIcon);this.m_statusLabel=t.XObjectExt.release(this.m_statusLabel);this.m_wrapperLayout=t.XObjectExt.release(this.m_wrapperLayout);t.HuDfHorizonUiManager.prototype.releaseObject.call(this)};t.HuHorizonStatusBarManager.prototype.setupManager=function(){this._observeStatusChangedNotification();this._observeNewMessagesNotification();this._observeClearMessagesNotification();this._observeClearAllMessagesNotification()};t.HuHorizonStatusBarManager.prototype.getManagerName=function(){return"StatusBar Manager"};t.HuHorizonStatusBarManager.prototype.getView=function(){return this.createStatusBarIfNeeded()};t.HuHorizonStatusBarManager.prototype.setStatusBarVisible=function(t){this.getView().setVisible(t)};t.HuHorizonStatusBarManager.prototype.isStatusBarVisible=function(){return this.getView().isVisible()};t.HuHorizonStatusBarManager.prototype.toggleStatusBar=function(){this.setStatusBarVisible(!this.isStatusBarVisible())};t.HuHorizonStatusBarManager.prototype.setStatusMessage=function(t){this._updateStatusLabel(t,null)};t.HuHorizonStatusBarManager.prototype.addAllMessages=function(e){t.XCollectionUtils.forEach(e,function(t){this._addMessage(t)}.bind(this))};t.HuHorizonStatusBarManager.prototype.showNetworkActivityIndicator=function(){this._setNetworkActivityIndicatorVisible(true)};t.HuHorizonStatusBarManager.prototype.hideNetworkActivityIndicator=function(){this._setNetworkActivityIndicatorVisible(false)};t.HuHorizonStatusBarManager.prototype.createStatusBarIfNeeded=function(){if(t.isNull(this.m_wrapperLayout)){this.m_wrapperLayout=this.getGenesis().newControl(t.UiType.FLEX_LAYOUT);this.m_wrapperLayout.addCssClass("ffHorizonStatusBar");this.m_wrapperLayout.setAlignItems(t.UiFlexAlignItems.CENTER);this.m_wrapperLayout.setFlex("0 0 auto");this.m_wrapperLayout.setBackgroundDesign(t.UiBackgroundDesign.SOLID);this.m_wrapperLayout.setPadding(t.UiCssBoxEdges.create("5px"));this.m_wrapperLayout.setHeight(t.UiCssLength.create("30px"));this.m_wrapperLayout.addItem(this._getStatusLabel());this.m_wrapperLayout.addItem(this._getInfoMessageIcon().getView());this.m_wrapperLayout.addItem(this._getSuccessMessageIcon().getView());this.m_wrapperLayout.addItem(this._getWarningMessageIcon().getView());this.m_wrapperLayout.addItem(this._getErrorMessageIcon().getView());this.m_wrapperLayout.addItem(this._getNetworkActivityIndicator())}return this.m_wrapperLayout};t.HuHorizonStatusBarManager.prototype._getStatusLabel=function(){if(t.isNull(this.m_statusLabel)){this.m_statusLabel=this.getGenesis().newControl(t.UiType.LABEL);this.m_statusLabel.setFlex("auto")}return this.m_statusLabel};t.HuHorizonStatusBarManager.prototype._getNetworkActivityIndicator=function(){if(t.isNull(this.m_networkActivityIndicator)){this.m_networkActivityIndicator=this.getGenesis().newControl(t.UiType.ACTIVITY_INDICATOR);this.m_networkActivityIndicator.setIconSize(t.UiCssLength.create("1rem"));this.m_networkActivityIndicator.setSrc(t.HuHorizonStatusBarManager.ACTIVITY_INDICATOR_ICON_BASE64);this.m_networkActivityIndicator.setTooltip("Requesting backend data...");this.m_networkActivityIndicator.setMargin(t.UiCssBoxEdges.create(t.HuHorizonStatusBarManager.ICON_MARGIN));this.m_networkActivityIndicator.setFlex("0 0 auto");this.m_networkActivityIndicator.setVisible(false)}return this.m_networkActivityIndicator};t.HuHorizonStatusBarManager.prototype._getInfoMessageIcon=function(){if(t.isNull(this.m_infoIcon)){this.m_infoIcon=t.UtMessageIconWidget.create(this.getGenesis(),t.UiMessageType.INFORMATION);this.m_infoIcon.setMargin(t.UiCssBoxEdges.create(t.HuHorizonStatusBarManager.ICON_MARGIN));this.m_infoIcon.setVisible(false);this.m_infoIcon.setShowClearButton(true);this.m_infoIcon.setClearPressProcedure(function(){this._clearMessagesByType(t.HuMessageType.INFORMATION);this._postClearMessagesPressedNotification(t.HuMessageType.INFORMATION)}.bind(this))}return this.m_infoIcon};t.HuHorizonStatusBarManager.prototype._getSuccessMessageIcon=function(){if(t.isNull(this.m_successIcon)){this.m_successIcon=t.UtMessageIconWidget.create(this.getGenesis(),t.UiMessageType.SUCCESS);this.m_successIcon.setMargin(t.UiCssBoxEdges.create(t.HuHorizonStatusBarManager.ICON_MARGIN));this.m_successIcon.setVisible(false);this.m_successIcon.setShowClearButton(true);this.m_successIcon.setClearPressProcedure(function(){this._clearMessagesByType(t.HuMessageType.SUCCESS);this._postClearMessagesPressedNotification(t.HuMessageType.SUCCESS)}.bind(this))}return this.m_successIcon};t.HuHorizonStatusBarManager.prototype._getWarningMessageIcon=function(){if(t.isNull(this.m_warningsIcon)){this.m_warningsIcon=t.UtMessageIconWidget.create(this.getGenesis(),t.UiMessageType.WARNING);this.m_warningsIcon.setMargin(t.UiCssBoxEdges.create(t.HuHorizonStatusBarManager.ICON_MARGIN));this.m_warningsIcon.setVisible(false);this.m_warningsIcon.setShowClearButton(true);this.m_warningsIcon.setClearPressProcedure(function(){this._clearMessagesByType(t.HuMessageType.WARNING);this._postClearMessagesPressedNotification(t.HuMessageType.WARNING)}.bind(this))}return this.m_warningsIcon};t.HuHorizonStatusBarManager.prototype._getErrorMessageIcon=function(){if(t.isNull(this.m_errorsIcon)){this.m_errorsIcon=t.UtMessageIconWidget.create(this.getGenesis(),t.UiMessageType.ERROR);this.m_errorsIcon.setMargin(t.UiCssBoxEdges.create(t.HuHorizonStatusBarManager.ICON_MARGIN));this.m_errorsIcon.setVisible(false);this.m_errorsIcon.setShowClearButton(true);this.m_errorsIcon.setClearPressProcedure(function(){this._clearMessagesByType(t.HuMessageType.ERROR);this._postClearMessagesPressedNotification(t.HuMessageType.ERROR)}.bind(this))}return this.m_errorsIcon};t.HuHorizonStatusBarManager.prototype._updateStatusLabel=function(t,e){this._getStatusLabel().setText(t);this._getStatusLabel().setFontColor(e)};t.HuHorizonStatusBarManager.prototype._setNetworkActivityIndicatorVisible=function(t){this._getNetworkActivityIndicator().setVisible(t)};t.HuHorizonStatusBarManager.prototype._addMessage=function(e){if(t.notNull(e)){if(e.getMessageType()===t.HuMessageType.INFORMATION){this._addMessageToIconWidget(e,this._getInfoMessageIcon())}else if(e.getMessageType()===t.HuMessageType.SUCCESS){this._addMessageToIconWidget(e,this._getSuccessMessageIcon())}else if(e.getMessageType()===t.HuMessageType.WARNING){this._addMessageToIconWidget(e,this._getWarningMessageIcon())}else if(e.getMessageType()===t.HuMessageType.ERROR){this._addMessageToIconWidget(e,this._getErrorMessageIcon());if(this.isStatusBarVisible()){this._getErrorMessageIcon().open()}}}};t.HuHorizonStatusBarManager.prototype._addMessageToIconWidget=function(e,o){if(t.notNull(e)&&t.notNull(o)){o.addMessage(e.getTitle(),e.getSubtitle(),e.getDescription(),e.getMessageGroup().getDisplayName());if(!o.isVisible()&&o.getNumberOfMessages()>0){o.setVisible(true)}}};t.HuHorizonStatusBarManager.prototype._clearMessagesByType=function(e){if(e===t.HuMessageType.INFORMATION){this._clearMessagesForIconWidget(this._getInfoMessageIcon())}else if(e===t.HuMessageType.SUCCESS){this._clearMessagesForIconWidget(this._getSuccessMessageIcon())}else if(e===t.HuMessageType.WARNING){this._clearMessagesForIconWidget(this._getWarningMessageIcon())}else if(e===t.HuMessageType.ERROR){this._clearMessagesForIconWidget(this._getErrorMessageIcon())}};t.HuHorizonStatusBarManager.prototype._clearAllMessages=function(){this._clearMessagesByType(t.HuMessageType.INFORMATION);this._clearMessagesByType(t.HuMessageType.SUCCESS);this._clearMessagesByType(t.HuMessageType.WARNING);this._clearMessagesByType(t.HuMessageType.ERROR)};t.HuHorizonStatusBarManager.prototype._clearMessagesForIconWidget=function(e){if(t.notNull(e)){e.clearAllMessages();if(e.isVisible()&&e.getNumberOfMessages()===0){e.setVisible(false)}}};t.HuHorizonStatusBarManager.prototype._postClearMessagesPressedNotification=function(e){var o=t.XNotificationData.create();o.putXObject(t.HuHorizonInternalNotifications.STATUS_BAR_MANAGER_CLEAR_MESSAGES_PRESSED_MESSAGE_TYPE_NOTIFY_DATA,e);this.getLocalNotificationCenter().postNotificationWithName(t.HuHorizonInternalNotifications.STATUS_BAR_MANAGER_CLEAR_MESSAGES_PRESSED,o)};t.HuHorizonStatusBarManager.prototype._observeStatusChangedNotification=function(){if(t.XStringUtils.isNullOrEmpty(this.m_statusChangedObserverId)){this.m_statusChangedObserverId=this.getLocalNotificationCenter().addObserverForName(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_STATUS_CHANGED,function(e){var o=e.getStringByKey(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_STATUS_CHANGED_NEW_STATUS_NOTIFI_DATA);this.setStatusMessage(o)}.bind(this))}};t.HuHorizonStatusBarManager.prototype._observeNewMessagesNotification=function(){if(t.XStringUtils.isNullOrEmpty(this.m_newMessagesObserverId)){this.m_newMessagesObserverId=this.getLocalNotificationCenter().addObserverForName(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_NEW_MESSAGE,function(e){var o=e.getXObjectByKey(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_NEW_MESSAGE_MESSAGE_NOTIFI_DATA);this._addMessage(o)}.bind(this))}};t.HuHorizonStatusBarManager.prototype._observeClearMessagesNotification=function(){if(t.XStringUtils.isNullOrEmpty(this.m_clearMessagesObserverId)){this.m_clearMessagesObserverId=this.getLocalNotificationCenter().addObserverForName(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_CLEAR_MESSAGES,function(e){var o=e.getXObjectByKey(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_CLEAR_MESSAGES_MESSAGE_TYPE_NOTIFI_DATA);this._clearMessagesByType(o)}.bind(this))}};t.HuHorizonStatusBarManager.prototype._observeClearAllMessagesNotification=function(){if(t.XStringUtils.isNullOrEmpty(this.m_clearAllMessagesObserverId)){this.m_clearAllMessagesObserverId=this.getLocalNotificationCenter().addObserverForName(t.HuHorizonInternalNotifications.MESSAGE_MANAGER_CLEAR_ALL_MESSAGES,function(t){this._clearAllMessages()}.bind(this))}};t.HuHorizonToolbarManager=function(){};t.HuHorizonToolbarManager.prototype=new t.HuDfHorizonUiManager;t.HuHorizonToolbarManager.prototype._ff_c="HuHorizonToolbarManager";t.HuHorizonToolbarManager.create=function(e,o){var n=new t.HuHorizonToolbarManager;n.setupManagerWithGenesis(e,o);return n};t.HuHorizonToolbarManager.prototype.m_toolbarWidget=null;t.HuHorizonToolbarManager.prototype.m_groupMap=null;t.HuHorizonToolbarManager.prototype.releaseObject=function(){this.m_groupMap.clear();this.m_groupMap=t.XObjectExt.release(this.m_groupMap);this.m_toolbarWidget=t.XObjectExt.release(this.m_toolbarWidget);t.HuDfHorizonUiManager.prototype.releaseObject.call(this)};t.HuHorizonToolbarManager.prototype.setupManager=function(){this.m_groupMap=t.XLinkedHashMapByString.create()};t.HuHorizonToolbarManager.prototype.getManagerName=function(){return"Toolbar Manager"};t.HuHorizonToolbarManager.prototype.getView=function(){return this.createToolbarIfNeeded().getView()};t.HuHorizonToolbarManager.prototype.setToolbarVisible=function(t){this.createToolbarIfNeeded().getView().setVisible(t)};t.HuHorizonToolbarManager.prototype.isToolbarVisible=function(){return this.createToolbarIfNeeded().getView().isVisible()};t.HuHorizonToolbarManager.prototype.createNewGroup=function(e){var o=this.getGroupByName(e);if(t.isNull(o)){o=this.createToolbarIfNeeded().getToolbarSection().newGroup();this.m_groupMap.put(e,o)}return o};t.HuHorizonToolbarManager.prototype.getGroupByName=function(t){return this.m_groupMap.getByKey(t)};t.HuHorizonToolbarManager.prototype.getGroupByNameCreateIfNeeded=function(e){var o=this.getGroupByName(e);if(t.isNull(o)){o=this.createNewGroup(e)}return o};t.HuHorizonToolbarManager.prototype.hasItems=function(){if(t.notNull(this.m_groupMap)&&this.m_groupMap.hasElements()){var e=t.XCollectionUtils.findFirst(this.m_groupMap,function(t){return t.getItems()!==null&&t.getItems().hasElements()}.bind(this));return t.notNull(e)}return false};t.HuHorizonToolbarManager.prototype.renderToolbar=function(){if(t.notNull(this.m_groupMap)&&this.m_groupMap.hasElements()){t.XCollectionUtils.forEach(this.m_groupMap,function(t){this.createToolbarIfNeeded().getToolbarSection().addGroup(t)}.bind(this))}};t.HuHorizonToolbarManager.prototype.clearToolbarGroups=function(){this.m_groupMap.clear();this.createToolbarIfNeeded().clearItems()};t.HuHorizonToolbarManager.prototype.createToolbarIfNeeded=function(){if(t.isNull(this.m_toolbarWidget)){this.m_toolbarWidget=t.UtToolbarWidget.create(this.getGenesis());this.m_toolbarWidget.addCssClass("ffHorizonToolbar")}return this.m_toolbarWidget};t.HuHorizonViewManager=function(){};t.HuHorizonViewManager.prototype=new t.HuDfHorizonUiManager;t.HuHorizonViewManager.prototype._ff_c="HuHorizonViewManager";t.HuHorizonViewManager.create=function(e,o,n){var i=new t.HuHorizonViewManager;i._setWrapperCssClass(n);i.setupManagerWithGenesis(e,o);return i};t.HuHorizonViewManager.prototype.m_viewWrapper=null;t.HuHorizonViewManager.prototype.m_mainInteractiveSplitter=null;t.HuHorizonViewManager.prototype.m_wrapperCssClass=null;t.HuHorizonViewManager.prototype.m_splitterItemMap=null;t.HuHorizonViewManager.prototype.releaseObject=function(){this.m_mainInteractiveSplitter=t.XObjectExt.release(this.m_mainInteractiveSplitter);this.m_viewWrapper=t.XObjectExt.release(this.m_viewWrapper);this.m_splitterItemMap=t.XCollectionUtils.releaseEntriesAndCollectionIfNotNull(this.m_splitterItemMap);t.HuDfHorizonUiManager.prototype.releaseObject.call(this)};t.HuHorizonViewManager.prototype.setupManager=function(){this.m_splitterItemMap=t.XHashMapByString.create();this.m_viewWrapper=this.getGenesis().newControl(t.UiType.CONTENT_WRAPPER);this.m_viewWrapper.addCssClass(this.m_wrapperCssClass);this.m_viewWrapper.setMinHeight(t.UiCssLength.create("0"));this.m_viewWrapper.useMaxSpace();this.m_viewWrapper.setFlex("1")};t.HuHorizonViewManager.prototype.getManagerName=function(){return"View Manager"};t.HuHorizonViewManager.prototype.getView=function(){return this.m_viewWrapper};t.HuHorizonViewManager.prototype.addPluginView=function(e){if(t.notNull(e)&&!this.m_splitterItemMap.containsKey(e.getUuid())){var o=this._createAndAddViewPluginWrapper(e);this.m_splitterItemMap.put(e.getUuid(),o)}};t.HuHorizonViewManager.prototype.removePluginView=function(e){if(t.notNull(e)){var o=this.m_splitterItemMap.remove(e.getUuid());if(t.notNull(o)){this._getMainInteractiveSplitter().removeItem(o);o=t.XObjectExt.release(o)}}};t.HuHorizonViewManager.prototype.isPluginVisible=function(e){if(t.notNull(e)){return this.m_splitterItemMap.containsKey(e.getUuid())}return false};t.HuHorizonViewManager.prototype._setWrapperCssClass=function(t){this.m_wrapperCssClass=t};t.HuHorizonViewManager.prototype._getMainInteractiveSplitter=function(){if(t.isNull(this.m_mainInteractiveSplitter)){this.m_mainInteractiveSplitter=this.m_viewWrapper.setNewContent(t.UiType.INTERACTIVE_SPLITTER);this.m_mainInteractiveSplitter.setOrientation(t.UiOrientation.HORIZONTAL);this.m_mainInteractiveSplitter.setEnableReordering(false);this.m_mainInteractiveSplitter.useMaxSpace()}return this.m_mainInteractiveSplitter};t.HuHorizonViewManager.prototype._createAndAddViewPluginWrapper=function(e){if(t.notNull(e)){var o=this._getMainInteractiveSplitter().addNewItem();o.setContent(e.getPluginWrapperView());if(e.getPluginContainerConfig()!==null&&e.getPluginContainerConfig().getSize().getWidth()!==null){o.setWidth(e.getPluginContainerConfig().getSize().getWidth())}o.registerOnResize(t.UiLambdaResizeListener.create(function(t){e.onPluginContainerResize(t.getOffsetWidth(),t.getOffsetHeight())}.bind(this)));this._getMainInteractiveSplitter().addItem(o);return o}return null};t.HuHorizon=function(){};t.HuHorizon.prototype=new t.DfUiProgram;t.HuHorizon.prototype._ff_c="HuHorizon";t.HuHorizon.DEFAULT_PROGRAM_NAME="Horizon";t.HuHorizon.createRunnerWithConfiguration=function(e,o){var n=t.ProgramRunner.createRunner(e,t.HuHorizon.DEFAULT_PROGRAM_NAME);n.setArgument(t.HuHorizonConstants.PARAM_CONFIG,o);return n};t.HuHorizon.prototype.m_controller=null;t.HuHorizon.prototype.m_allNotificationsObserverUuid=null;t.HuHorizon.prototype.newProgram=function(){var e=new t.HuHorizon;e.setup();return e};t.HuHorizon.prototype.getProgramName=function(){return t.HuHorizon.DEFAULT_PROGRAM_NAME};t.HuHorizon.prototype.releaseObject=function(){this._deregisterAllNotificationsObserver();this.m_controller=t.XObjectExt.release(this.m_controller);t.DfUiProgram.prototype.releaseObject.call(this)};t.HuHorizon.prototype.getLogSeverity=function(){return t.DfUiProgram.prototype.getLogSeverity.call(this)};t.HuHorizon.prototype.getDefaultContainerSize=function(){return t.UiSize.createByCss("70vw","70vh")};t.HuHorizon.prototype.isShowMenuBar=function(){return true};t.HuHorizon.prototype.getMenuBarDisplayName=function(){return null};t.HuHorizon.prototype.canTerminate=function(){return t.DfUiProgram.prototype.canTerminate.call(this)};t.HuHorizon.prototype.getContainerCssClass=function(){return"ffHorizonProgram"};t.HuHorizon.prototype.showActivityIndicatorOnSetupPromise=function(){return false};t.HuHorizon.prototype.prepareProgramMetadata=function(e){e.addParameter(t.HuHorizonConstants.PARAM_CONFIG,"A stringified json containing the horizon configuration.");e.addParameter(t.HuHorizonConstants.PARAM_CONFIG_FILE,"A path pointing to a file containing the configuration.");e.addParameter(t.HuHorizonConstants.PARAM_WORKSPACE,"A path to the workspace directory which should be used.")};t.HuHorizon.prototype.processArguments=function(t){};t.HuHorizon.prototype.setupProgram=function(){var e=this.getArguments();var o=e.getStringByKey(t.HuHorizonConstants.PARAM_CONFIG);var n=e.getStringByKey(t.HuHorizonConstants.PARAM_CONFIG_FILE);var i=e.getStringByKey(t.HuHorizonConstants.PARAM_WORKSPACE);this.m_controller=t.HuHorizonMainController.create(this);this._registerPluginStartedObserver();this._registerAllNotificationsObserver();return this.m_controller.initiateBoot(o,n,i)};t.HuHorizon.prototype.buildUi=function(t){};t.HuHorizon.prototype.getLogger=function(){return this._getController().getLogger()};t.HuHorizon.prototype.getLogContextName=function(){return"Program"};t.HuHorizon.prototype.logInfo=function(e){this.getLogger().logInfo(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuHorizon.prototype.logDebug=function(e){this.getLogger().logDebug(t.HuUtils.formatLogWithContextName(this.getLogContextName(),e))};t.HuHorizon.prototype.executeAction=function(e,o){if(this._getController()!==null&&this._getController().getCommandManager()!==null){return this._getController().getCommandManager().executeAction(e,this._getController(),o)}return t.XPromise.reject(t.XError.create("Failed to execute action! Unknown error!"))};t.HuHorizon.prototype._getController=function(){return this.m_controller};t.HuHorizon.prototype._registerPluginStartedObserver=function(){this.getLocalNotificationCenter().addObserverForName(t.HuHorizonInternalNotifications.PLUGIN_STARTED,function(e){this.logDebug(t.HuHorizonInternalNotifications.PLUGIN_STARTED);this.logDebug(e.getStringByKey(t.HuHorizonInternalNotifications.PLUGIN_STARTED_PLUGIN_NAME_NOTIFI_DATA));var o=e.getXObjectByKey(t.HuHorizonInternalNotifications.PLUGIN_STARTED_PLUGIN_TYPE_NOTIFI_DATA);if(t.notNull(o)){this.logDebug(o.getName())}}.bind(this))};t.HuHorizon.prototype._registerAllNotificationsObserver=function(){if(this._getController().isDebugMode()){var e=this.getLocalNotificationCenter();this.m_allNotificationsObserverUuid=e.addAllObserverConsumer(function(e,o){this.logDebug(t.XStringUtils.concatenate2("Notification posted -> ",e))}.bind(this))}};t.HuHorizon.prototype._deregisterAllNotificationsObserver=function(){var t=this.getLocalNotificationCenter();t.removeAllObserverByUuid(this.m_allNotificationsObserverUuid)};t.HuHorizon.prototype.getProgramMenu=function(){return this.getMenuBar()};t.HuHorizon.prototype.setProgramMenuVisible=function(t){this.showMenuBar(t)};t.HuHorizon.prototype.isProgramMenuVisible=function(){return this.isMenuBarVisible()};t.HuHorizon.prototype.addProgramMenuButton=function(t,e,o){return this.addMenuBarButton(t,e,null,o)};t.HuHorizon.prototype.setContainerTitle=function(t){this.setTitle(t)};t.HuHorizon.prototype.isContainerEmbedded=function(){return this.isEmbedded()};t.HuPluginListDialog=function(){};t.HuPluginListDialog.prototype=new t.DfUiDialogProgram;t.HuPluginListDialog.prototype._ff_c="HuPluginListDialog";t.HuPluginListDialog.DEFAULT_PROGRAM_NAME="HorizonPluginListDialog";t.HuPluginListDialog.PARAM_SHOW_ALL="showAll";t.HuPluginListDialog.prototype.m_searchableListView=null;t.HuPluginListDialog.prototype.m_pluginDetailsContainer=null;t.HuPluginListDialog.prototype.m_isShowAll=false;t.HuPluginListDialog.prototype.newProgram=function(){var e=new t.HuPluginListDialog;e.setup();return e};t.HuPluginListDialog.prototype.getProgramName=function(){return t.HuPluginListDialog.DEFAULT_PROGRAM_NAME};t.HuPluginListDialog.prototype.releaseObject=function(){this.m_searchableListView=t.XObjectExt.release(this.m_searchableListView);this.m_pluginDetailsContainer=t.XObjectExt.release(this.m_pluginDetailsContainer);t.DfUiDialogProgram.prototype.releaseObject.call(this)};t.HuPluginListDialog.prototype.getLogSeverity=function(){return t.DfUiDialogProgram.prototype.getLogSeverity.call(this)};t.HuPluginListDialog.prototype.getDialogButtons=function(e){var o=e.newControl(t.UiType.DIALOG_BUTTON);o.setText("Close");o.setIcon("sys-cancel-2");o.registerOnPress(t.UiLambdaPressListener.create(function(t){this.terminate()}.bind(this)));var n=t.XList.create();n.add(o);return n};t.HuPluginListDialog.prototype.getDefaultContainerSize=function(){return t.UiSize.createByCss("800px","60vh")};t.HuPluginListDialog.prototype.prepareProgramMetadata=function(e){e.addParameter(t.HuPluginListDialog.PARAM_SHOW_ALL,"Whether to show all the plugins, including debug ones!")};t.HuPluginListDialog.prototype.processArguments=function(e){this.m_isShowAll=e.getBooleanByKeyExt(t.HuPluginListDialog.PARAM_SHOW_ALL,false)};t.HuPluginListDialog.prototype.setupProgram=function(){this.setTitle("Horizon Plugin List");return null};t.HuPluginListDialog.prototype.buildUi=function(e){var o=e.newControl(t.UiType.FLEX_LAYOUT);o.useMaxSpace();o.setDirection(t.UiFlexDirection.ROW);o.setAlignItems(t.UiFlexAlignItems.CENTER);o.setJustifyContent(t.UiFlexJustifyContent.CENTER);o.setWrap(t.UiFlexWrap.NO_WRAP);o.setBackgroundDesign(t.UiBackgroundDesign.SOLID);this.m_searchableListView=t.UtSearchableListView.create(this.getGenesis(),null);this.m_searchableListView.setSearchFieldPlaceholder("Search plugin...");this.m_searchableListView.setListItemSelectedConsumer(function(t){var e=t.getCustomObject();this.updateDetails(e)}.bind(this));var n=this.m_searchableListView.getView();n.setWidth(t.UiCssLength.create("250px"));n.setFlex("0 0 250px ");n.setBorderWidth(t.UiCssBoxEdges.create("0px 1px 0px 0px"));n.setBorderColor(t.UiColor.GREY);n.setBorderStyle(t.UiBorderStyle.SOLID);o.addItem(n);this.m_pluginDetailsContainer=o.addNewItemOfType(t.UiType.FLEX_LAYOUT);this.m_pluginDetailsContainer.useMaxHeight();this.m_pluginDetailsContainer.setDirection(t.UiFlexDirection.COLUMN);this.m_pluginDetailsContainer.setJustifyContent(t.UiFlexJustifyContent.START);this.m_pluginDetailsContainer.setAlignItems(t.UiFlexAlignItems.START);this.m_pluginDetailsContainer.setMinWidth(t.UiCssLength.create("0"));this.m_pluginDetailsContainer.setFlex("auto");this.m_pluginDetailsContainer.setBackgroundColor(t.UiColor.WHITE);e.setRoot(o);this.prepareUi()};t.HuPluginListDialog.prototype.prepareUi=function(){this.fillPluginList();if(t.notNull(this.m_searchableListView)&&this.m_searchableListView.getListItems().hasElements()){var e=this.m_searchableListView.getListItems().get(0);this.m_searchableListView.selectItem(e);var o=e.getCustomObject();this.updateDetails(o)}};t.HuPluginListDialog.prototype.fillPluginList=function(){if(t.notNull(this.m_searchableListView)){var e=t.HuPluginRegistration.getAllRegisteredPluginNames();var o=t.XList.create();t.XCollectionUtils.forEachString(e,function(e){var n=t.HuPluginRegistration.getPluginDef(e);if(t.notNull(n)&&!n.getPluginCategory().isDebug()||this.m_isShowAll){var i=this.getGenesis().newControl(t.UiType.LIST_ITEM);i.setName(n.getName());i.setText(this.getListItemText(n));i.setCustomObject(n);i.setIcon(this.getIconForPlugin(n));i.setTooltip(n.getName());i.setHighlight(this.getHighlightForPlugin(n));o.add(i)}}.bind(this));if(t.notNull(o)&&o.hasElements()){this.m_searchableListView.setListItems(o)}}};t.HuPluginListDialog.prototype.updateDetails=function(e){if(t.notNull(this.m_pluginDetailsContainer)&&t.notNull(e)){this.m_pluginDetailsContainer.clearItems();this.showPluginDetails(e)}};t.HuPluginListDialog.prototype.showPluginDetails=function(e){if(t.notNull(this.m_pluginDetailsContainer)){var o=this.m_pluginDetailsContainer.addNewItemOfType(t.UiType.FLEX_LAYOUT);o.setDirection(t.UiFlexDirection.COLUMN);o.useMaxWidth();o.useMaxHeight();o.setPadding(t.UiCssBoxEdges.create("0.5rem"));var n=o.addNewItemOfType(t.UiType.TITLE);n.setText(this.getListItemText(e));n.setTitleLevel(t.UiTitleLevel.H_4);n.setTitleStyle(t.UiTitleLevel.H_4);n.setMargin(t.UiCssBoxEdges.create("0.5rem"));n.setWrapping(false);n.setFlex("0 0 auto");n.setBorderColor(t.UiColor.GREY);n.setBorderWidth(t.UiCssBoxEdges.create("0px 0px 1px 0px"));n.setBorderStyle(t.UiBorderStyle.SOLID);var i=this.createNewLabel("Plugin name",e.getName(),true);o.addItem(i);var r=this.createNewLabel("Plugin type",e.getPluginType()!==null?e.getPluginType().getName():"Unknown",true);o.addItem(r);var s=this.createNewLabel("Description",e.getDescription(),true);o.addItem(s);var a=this.createNewLabel("Category",e.getPluginCategory().getName(),true);o.addItem(a);var u=this.createNewLabel("Is loaded",e.isPluginLoaded()?"Yes":"No",true);o.addItem(u);var l=this.createNewLabel("Has manifest",e.getManifest()!==null?"Yes":"No",true);o.addItem(l);var g=this.createNewLabel("Modules",t.XCollectionUtils.join(e.getDependencies(),", "),true);o.addItem(g);if(t.XStringUtils.isNotNullAndNotEmpty(e.getUrl())){var c=this.createNewLabel("Source url",e.getUrl(),true);o.addItem(c)}}};t.HuPluginListDialog.prototype.createNewLabel=function(e,o,n){var i=this.getGenesis().newControl(t.UiType.FLEX_LAYOUT);i.setDirection(t.UiFlexDirection.ROW);i.setMargin(t.UiCssBoxEdges.create("5px"));var r=i.addNewItemOfType(t.UiType.LABEL);r.setText(t.XStringUtils.concatenate2(e,": "));r.setFlex("0 0 100px");var s=i.addNewItemOfType(t.UiType.LABEL);s.setText(t.XStringUtils.isNotNullAndNotEmpty(o)?o:"-");s.setFontWeight(t.UiFontWeight.BOLD);s.setWrapping(n);return i};t.HuPluginListDialog.prototype.getListItemText=function(e){var o="Unknown";if(t.notNull(e)){o=e.getDisplayName();if(t.XStringUtils.isNullOrEmpty(o)){o=e.getName()}}return o};t.HuPluginListDialog.prototype.getIconForPlugin=function(e){if(t.notNull(e)){if(e.getPluginType()===t.HuHorizonPluginType.COMPONENT){return"screen-split-two"}else if(e.getPluginType()===t.HuHorizonPluginType.DOCUMENT){return"document"}else if(e.getPluginType()===t.HuHorizonPluginType.COMMAND){return"command-line-interfaces"}}return"question-mark"};t.HuPluginListDialog.prototype.getHighlightForPlugin=function(e){if(t.notNull(e)){if(e.isPluginFullyValid()){return t.UiMessageType.SUCCESS}else if(e.canBeInitialized()){return t.UiMessageType.INFORMATION}}return t.UiMessageType.ERROR};t.HorizonUiModule=function(){};t.HorizonUiModule.prototype=new t.DfModule;t.HorizonUiModule.prototype._ff_c="HorizonUiModule";t.HorizonUiModule.s_module=null;t.HorizonUiModule.getInstance=function(){if(t.isNull(t.HorizonUiModule.s_module)){t.DfModule.checkInitialized(t.HorizonUiApiModule.getInstance());t.HorizonUiModule.s_module=t.DfModule.startExt(new t.HorizonUiModule);t.HuHorizonBootControllerStatus.staticSetup();t.HuHorizonControllerStatus.staticSetup();t.HuMessageType.staticSetup();t.HuMessageGroup.staticSetup();t.HuToolbarGroup.staticSetup();t.HuErrorType.staticSetupHorizon();t.HuPluginRegistration.staticSetup();t.ProgramRegistration.setProgramFactory(new t.HuHorizon);t.ProgramRegistration.setProgramFactory(new t.HuPluginListDialog);t.DfModule.stopExt(t.HorizonUiModule.s_module)}return t.HorizonUiModule.s_module};t.HorizonUiModule.prototype.getName=function(){return"ff3610.horizon.ui"};t.HorizonUiModule.getInstance();return sap.firefly});
//# sourceMappingURL=ff3610.horizon.ui.js.map