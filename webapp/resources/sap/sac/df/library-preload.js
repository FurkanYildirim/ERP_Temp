//@ui5-bundle sap/sac/df/library-preload.js
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DFKernel", ["sap/ui/model/Model","sap/base/Log","sap/sac/df/firefly/library"],function(e,t,s){"use strict";s.XLocalStorage.setInstance(null);var r=e.extend("sap.sac.df.DFKernel",{constructor:function(t,s){e.apply(this);var r=t||{};this.init(r,s)},init:function(e){var t=this;if(!t.initPromise){t.initPromise=new Promise(function(r){if(!t.kernelProgram){sap.firefly.XLogger.getInstance().setLogFilterLevel(sap.firefly.Severity.PRINT);t.initProgram=sap.firefly.KernelBoot.createByName("DragonflyAppProgram");t.initProgram.addProgramStartedListener(function(a,i){if(!t.kernelProgram){t.kernelProgram=i;if(t.aSystemLandscapes){t.addSystemLandscapes()}t.kernelProgram.getProcess().getApplication().setClientInfo(null,e.clientIdentifier,null);var n=t.kernelProgram.getProcess();n.setXVersion(s.XVersion.V190_METADATA_CUBE_RESPONSE_SUPPRESS_PROPERTIES);n.deactivateFeatureToggle(s.FeatureToggleOlap.FUSION_SERVICE);s.XStream.of(s.FeatureToggle.getAllFeatureToggles()).forEach(function(e){var t=e.getXVersion();if(t>s.FeatureToggleOlap.FUSION_SERVICE.getXVersion()&&t<=s.XVersion.MAX){n.activateFeatureToggle(e)}});n.activateFeatureToggle(s.FeatureToggleOlap.METADATA_CACHING);r(t.kernelProgram)}});t._setEnvironment(e);t.initProgram.runFull()}else{r(t.kernelProgram)}})}return t.initPromise},_setEnvironment:function(e){this.initProgram.setEnvironmentVariable(sap.firefly.XEnvironmentConstants.FIREFLY_LOG_SEVERITY,"Print");if(e.systemLandscape){if(e.systemLandscape.URI){var t=e.systemLandscape.URI;if(!t.startsWith("http")){t=window.location.protocol+"//";t+=window.location.hostname;t+=window.location.port?":"+window.location.port:"";t+=e.systemLandscape.URI}this.initProgram.setEnvironmentVariable("ff_system_landscape_uri",t)}else if(e.systemLandscape.Systems){this.aSystemLandscapes=[];var s=Object.keys(e.systemLandscape.Systems);s.forEach(function(t){var s=e.systemLandscape.Systems[t];this.aSystemLandscapes.push(s)}.bind(this))}}else if(e.systemType){this.masterSystemName=e.masterSystem||"local"+e.systemType;var r={systemName:this.masterSystemName,systemType:e.systemType,protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"};if(r.systemType=="DWC"){r.path="/lcs/dwc"}this.aSystemLandscapes=[r]}else{throw new Error("System Configuration is invalid")}this.masterSystemName=this.masterSystemName||e.masterSystem;if(!this.masterSystemName){throw new Error("System Configuration is invalid")}},getSession:function(){if(!this.kernelProgram){t.error("Kernel not initialized");return null}return this.kernelProgram.getSession()},getApplication:function(){if(!this.kernelProgram){t.error("Kernel not initialized");return null}return this.kernelProgram.getApplication()},addSystemLandscapes:function(){var e=this.kernelProgram.getProcess().getKernel().getSubSystemContainer(sap.firefly.SubSystemType.SYSTEM_LANDSCAPE);var t=e.getMainApi();var s=this.kernelProgram.getApplication();s.setSystemLandscape(t);this.aSystemLandscapes.forEach(function(e){var r=t.createSystem();r.setName(e.systemName);r.setTimeout(1e4);r.setAuthenticationType(sap.firefly.AuthenticationType[e.authentication||"NONE"]);var a=sap.firefly.SystemType[e.systemType];r.setSystemType(a);r.setProtocolType(sap.firefly.ProtocolType[e.protocol]);r.setHost(e.host);r.setPort(e.port);r.setPath(e.path);r.setLanguage(e.language||"EN");t.setSystemByDescription(r);if(a.isTypeOf(sap.firefly.SystemType.BW)){r.setSessionCarrierType(sap.firefly.SessionCarrierType.SAP_CONTEXT_ID_HEADER);s.getConnectionPool().setMaximumSharedConnections(e.systemName,10)}});t.setMasterSystemName(this.masterSystemName)}});return r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DFProgram", ["sap/ui/core/Control","sap/base/Log","jquery.sap.global","sap/sac/df/DFKernel","sap/sac/df/firefly/library"],function(t,e,jQuery,r){"use strict";var n=t.extend("sap.sac.df.DFProgram",{metadata:{properties:{program:{type:"string"},arguments:{type:"string[]",defaultValue:[]},environment:{type:"string[]",defaultValue:[]},systemLandscape:{type:"string",defaultValue:""},systemLandscapeDef:{type:"object",defaultValue:null},configuration:{type:"string",defaultValue:""},configurationURI:{type:"string",defaultValue:null},kernelId:{type:"string",defaultValue:"dfk"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"}},aggregations:{}},init:function(){var t=this.getId()+"--program";this.programContainer=jQuery('<div id="'+t+'" style="width=100%; height=100%"/>')},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.style("flex","auto");t.style("width",e.getWidth());t.style("height",e.getHeight());t.openEnd();t.close("div")}},onAfterRendering:function(){if(t.prototype.onAfterRendering){t.prototype.onAfterRendering.apply(this,arguments)}var e=jQuery(window.document.getElementById(this.getId()));this.programContainer.appendTo(e);e.css("position","relative");if(this.getProgram()&&!this.program){this.runProgram(this.getProgram())}},runProgram:function(t){if(t===this.programName){return}if(this.program){this._cleanUpProgram()}try{var r=this;this._getKernel().then(function(e){r.program=sap.firefly.ProgramRunner.createRunner(e.getSession(),t);r.setClientArgs();r.setClientEnvironment(r.program);r.program.setNativeAnchorId(r.getId()+"--program");r.processConfigURI(function(){r.program.runProgram()})})}catch(t){e.error(t)}},exit:function(){if(this.program){this._cleanUpProgram()}},_cleanUpProgram:function(){sap.firefly.XObjectExt.release(this.program);this.program.releaseObject();this.program=null},_getKernel:function(){return Promise.resolve().then(function(){if(this.localKernel){return this.localKernel}var t=this.getKernelId();if(t){var e=this.getParent().getModel(t);if(e){return e}}var n={systemLandscape:{type:"BW"}};var i=this.getSystemLandscapeDef();if(i){n.systemLandscape.Systems=i;n.masterSystem=i.masterSystemName}this.localKernel=new r(n);return this.localKernel}.bind(this))},setClientArgs:function(){var t=this.getArguments();t.forEach(function(t){var e=t.split("=");var r=e[0].trim();var n=e[1].trim();if(n==="true"||n==="false"){var i=n==="true"?true:false;this.program.setBooleanArgument(r,i)}else if(n.startsWith("$")){n=this.getUrlParams(r);if(r==="datasource"){n="query:[][]["+n+"]"}this.program.setArgument(r,n)}else{this.program.setArgument(r,n)}}.bind(this));if(this.getConfiguration()!==""){this.program.setArgument("configuration",this.getConfiguration())}},processConfigURI:function(t){if(this.getConfigurationURI()){var e=this.getConfigurationURI();if(!e.startsWith("http")){e=window.location.protocol+"//";e+=window.location.hostname;e+=window.location.port?":"+window.location.port:"";e+=this.getConfigurationURI()}this.readJsonFile(e,function(e){this.program.setArgument("configuration",e);t()}.bind(this))}else{t()}},readJsonFile:function(t,e){var r=new XMLHttpRequest;r.overrideMimeType("application/json");r.open("GET",t,true);r.onreadystatechange=function(){if(r.readyState===4&&r.status===200){e(r.responseText)}};r.send(null)},getUrlParams:function(t){return(window.location.href.split(t+"=")[1]||"").split("&")[0]},setClientEnvironment:function(t){var e=this.getEnvironment();e.forEach(function(e){var r=e.split("=");t.setEnvironmentVariable(r[0],r[1])}.bind(this))}});return n});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/DFTable",["sap/ui/core/Control","sap/base/Log","sap/sac/df/firefly/library"],function(e,t,i){var n="FA.EMPTY_DP";var r=e.extend("sap.sac.df.DFTable",{metadata:{library:"sap.sac.df",properties:{dataProviderName:{type:"string"},multiDimModelId:{type:"string",defaultValue:"om"},enabled:{type:"boolean",defaultValue:false},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"}}},renderer:{apiVersion:2,render:function e(t,i){t.openStart("div",i).class("sapUiZenDFTable").style("opacity",i._getOpacity()).style("zIndex",i._getZIndex()).style("height",i.getHeight()).style("width",i.getWidth()).openEnd().close("div")}},onAfterRendering:function(){if(e.prototype.onAfterRendering){e.prototype.onAfterRendering.apply(this,arguments)}if(this.mInnerTable){this._updateQueryManager();this._attachInnerTableToControl()}else{t.info("DF: Start - DFTable - onAfterRendering");this.setBusy(true);this._loadMultiDimModel().then(this._setDataProvider.bind(this)).then(this._initInnerTable.bind(this)).finally(function(){this.setBusy(false);t.info("DF: End - DFTable - onAfterRendering")}.bind(this))}},exit:function(){if(this.mInnerTable){var t=this.mInnerTable.getView();t.getNativeControl().destroy();t.destroy();if(this.mInnerTable.destroyView){this.mInnerTable.destroyView()}this.mRootControl.destroy()}delete this.mInnerTable;delete this.mRootControl;delete this.mDataProviderInstance;e.prototype.exit.apply(this,arguments)},refresh:function(){if(this.mInnerTable){this.mInnerTable.refreshView();this.setEnabled(true)}},clear:function(){if(this.mInnerTable){this.mInnerTable.clearTable()}},setDataProviderName:function(e){if(!e){e=n}else if(e.startsWith("$")){e=this._getUrlParams("dataProviderName")}var i=this.getDataProviderName();if(i===e){return}this._setDataProvider().catch(function(e){t.error(e)});this.setEnabled(false);this.setProperty("dataProviderName",e,true)},setEnabled:function(e){this.setProperty("enabled",e,true);var t=document.getElementById(this.getId());if(t){t.style.opacity=this._getOpacity();t.style.zIndex=this._getZIndex()}},setBusy:function(e){if(this.mInnerTable){this.mInnerTable.setBusy(e)}},_getOpacity:function(){return this.getEnabled()?"1":"0.4"},_getZIndex:function(){return this.getEnabled()?"1":"-1"},_getMultiDimModel:function(){return this.getModel(this.getMultiDimModelId())},_getUrlParams:function(e){return(window.location.href.split(e+"=")[1]||"").split("&")[0]},_getFireflyUiManager:function(e){var t=e.getSession();t.openSubSystem(i.SubSystemType.GUI);return t.getSubSystem(i.SubSystemType.GUI)},_attachInnerTableToControl:function(){if(this.mRootControl){var e=this.$();if(e.children().length===0){e.css("position","relative");this.mRootControl.renderIntoAnchor(this.getId(),e[0])}}},_initInnerTable:function(){var e=this._getMultiDimModel();if(e){var n=this._getFireflyUiManager(e);this.mRootControl=n.newBasicControl(i.UiType.ROOT,null,this.getId()+"--inner_tbl_cont","Interactive table container");var r=i.UiGenesis.create(this.mRootControl);this.mInnerTable=i.AuGdsQbInteractiveTableView.create(r);this.mInnerTable.setLocalizationProvider(i.UiLocalizationCenter.getCenter());r.setRoot(this.mInnerTable.getView());if(this.mDataProviderInstance){this._updateQueryManager();this._attachInnerTableToControl()}else{t.info("Data provider is not initialized. No Data to be shown.")}}else{t.info("Could not retrieve MultiDimModel. Failed to initialize DFTable.")}},_loadMultiDimModel:function(){t.info("DF: Start - model initialize");return Promise.resolve().then(function(){var e=this._getMultiDimModel();if(e){e.attachEvent("queryAdded",null,this._onQueryAdded,this);return e.loaded()}return Promise.reject("DF: MultiDimModel is not initialized")}.bind(this))},_onQueryAdded:function(e){var t=e.getParameter("dataProviderName");if(t===this.getDataProviderName()){return this._setDataProvider()}},_setDataProvider:function(){return Promise.resolve().then(function(){t.info("DF: Set Data provider");var e=this.getDataProviderName();if(e){if(e===n){t.info("DF: Updated - Data provider to null");this.mDataProviderInstance=null}else{var i=this._getMultiDimModel();if(i){this.mDataProviderInstance=i.getDataProvider(e);if(this.mDataProviderInstance){t.info("DF: Updated - Data provider to "+e);this._updateQueryManager();this._attachInnerTableToControl()}else{t.info("DF: No Data provider found.")}}else{t.info("DF: MultiDimModel is not initialized.")}}return Promise.resolve(null)}else{throw new Error("Data provider name must be specified")}}.bind(this))},_updateQueryManager:function(){if(this.mInnerTable){var e=null;if(this.mDataProviderInstance){e=this.mDataProviderInstance.getQueryManager()}t.info("DF: Updated - Query manager of DFTable");this.mInnerTable.queryManagerUpdated(e)}}});return r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FilterBar",["sap/ui/mdc/FilterBar","sap/sac/df/variablebar/FilterBarHandler"],function(e,t){var i=e.extend("sap.sac.df.FilterBar",{metadata:{library:"sap.sac.df",properties:{multiDimModelId:{type:"string",defaultValue:"om"},mode:{type:"string",defaultValue:"VariablesOfDataProvider"}},events:{beforeFilterChange:{parameters:{beforeValueHelpOpen:{type:"boolean"}}},cancelFilterChange:{}},publicMethods:["initialiseFilterBar"]},renderer:"sap.ui.mdc.FilterBarRenderer",init:function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.setP13nMode(["Item","Value"]);this.setDelegate({name:"sap/sac/df/variablebar/FilterBarDelegate"})},_getMultiDimModel:function(){var e=this.getModel();return e?e:this.getParent().getModel(this.getMultiDimModelId())},initialiseFilterBar:function(e){var i=this;e?this.setModel(e):this.setModel(this._getMultiDimModel());this._oFilterBarHandler=t.initialise(i)}});return i});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FlexAnalysis",["sap/sac/df/types/SystemType","sap/ui/core/Control","sap/base/Log","sap/ui/model/json/JSONModel","jquery.sap.global","sap/sac/df/olap/MultiDimModel","sap/sac/df/firefly/library","sap/sac/df/fa/FlexAnalysisContextMenuProvider"],function(e,t,i,r,jQuery,a,n,s){"use strict";var o="GalaxyDataStudio";var l="FA.emptyDP";var u="FA.NO_DS";var g="empty";var d=t.extend("sap.sac.df.FlexAnalysis",{metadata:{properties:{title:{type:"string"},showTitle:{type:"boolean",defaultValue:false},autoUpdate:{type:"boolean",defaultValue:true},configurationURI:{type:"string"},configObject:{type:"object"},configId:{type:"string"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},hideDesignPanel:{type:"boolean",defaultValue:true},hideStylePanel:{type:"boolean",defaultValue:true},hideMenuBar:{type:"boolean",defaultValue:true},hideStatusBar:{type:"boolean",defaultValue:true},hideToolBar:{type:"boolean",defaultValue:true},hideFilterLine:{type:"boolean",defaultValue:false},hideSideNavigation:{type:"boolean",defaultValue:false},hideLandingPage:{type:"boolean",defaultValue:true},environment:{type:"string[]",defaultValue:[]},systemName:{type:"string"},dataSource:{type:"string",defaultValue:"$datasource"},systemType:{type:"sap.sac.df.types.SystemType",defaultValue:e.BW},keepAliveInterval:{type:"int",defaultValue:0},clientIdentifier:{type:"string"},dataProvider:{type:"any",bindable:true},multiDimModelId:{type:"string",defaultValue:"om"},implicitVariableHandling:{type:"boolean",defaultValue:true,bindable:false},styleTemplateName:{type:"string"}},events:{},aggregations:{customPanels:{type:"sap.sac.df.FlexAnalysisPanel",multiple:true}},defaultAggregation:"customPanels"},logActive:false,init:function(){this.programContainerID=this.getId()+"--program";this.programContainer=jQuery('<div id="'+this.programContainerID+'"/>');this.contextMenuProvider=new s(this);this.log("Created")},renderer:{apiVersion:2,render:function(e,t){if(t._error){e.openStart("span",t.getId()+"-error");e.openEnd();e.text(t._error.toString());e.close("span")}else{e.openStart("div",t);e.style("flex","auto");e.style("width",t.getWidth());e.style("height",t.getHeight());e.attr("data-sap-ui-preserve",t.getId());e.openEnd();e.close("div")}}},onAfterRendering:function(){if(t.prototype.onAfterRendering){t.prototype.onAfterRendering.apply(this,arguments)}var e=this.$();this.programContainer.appendTo(e);if(this.closed){e.css("visibility","hidden")}this.log("On after rendering");if(!this.isProgramRunning){this.runProgram()}else if(this._rerender){this._checkAutoUpdate()}e.css("position","relative")},updateProgramSettings:function(){this.log("Update program settings");var e=this.program.getProcess().getApplication();e.setClientInfo(null,this.getClientIdentifier(),null);this.program.setShowToolbar(!this.getHideToolBar());var t=this.program.getActiveDocument();t.setFilterLineVisible(!this.getHideFilterLine());t.setDesignerPanelVisible(!this.getHideDesignPanel());t.setStylePanelVisible(!this.getHideStylePanel());t.setSideNavigationVisible(!this.getHideSideNavigation());this.applyAutoUpdate();this.updateStyleTemplate();this.updateTitle();this._rerender=true},registerCustomPanels:function(){var e=this.getCustomPanels();e.forEach(function(e){this.program.registerCustomPanel(e)}.bind(this))},onUiStateChange:function(e){this.log("UI state changed");var t=e.convertToNative();if(t){var i=t[n.AuGdsQbConstants.QD_UI_STATE_OPEN_PANELS];if(i){var r=n.AuGdsPanelType.DESIGNER.getName();var a=Object.prototype.hasOwnProperty.call(i,r)?i[r]:false;this.setProperty("hideDesignPanel",!a,true);var s=n.AuGdsPanelType.STYLE.getName();var o=Object.prototype.hasOwnProperty.call(i,s)?i[s]:false;this.setProperty("hideStylePanel",!o,true)}if(Object.prototype.hasOwnProperty.call(t,n.AuGdsQbConstants.QD_UI_STATE_AUTO_UPDATE)){this.setProperty("autoUpdate",t[n.AuGdsQbConstants.QD_UI_STATE_AUTO_UPDATE],true)}}},registerUiStateChange:function(){var e=this.program.getActiveDocument();if(e&&e.addUiStateChangeCallback){e.addUiStateChangeCallback(this.onUiStateChange.bind(this))}},updateTitle:function(){if(this.program){var e=this.program.getActiveDocument();if(typeof this.getTitle()=="string"){e.setDocumentTitle(this.getTitle())}e.createQueryDetailsIfNeeded();e.setTableTitleVisible(this.getShowTitle())}},getMultiDimModel:function(){var e=this.getMultiDimModelId();return this.getParent().getModel(e)},runProgram:function(){this.log("Run UI5 program");this.isProgramRunning=true;this._error=undefined;return this._initModel().then(this._initQuery.bind(this)).then(function(){var e=this.getMultiDimModel();this.programInstance=n.ProgramRunner.createRunner(e.getSession(),o);return this._processConfigURI().then(function(){this._setClientArgs();this._setClientEnvironment(this.programInstance);this.programInstance.setNativeAnchorId(this.programContainerID);var e=this.dataProviderInstance&&this.dataProviderInstance.getQueryManager();if(e){this.programInstance.setObjectArgument("queryManager",e)}this.programInstance.runProgram().then(function(e){this.log("GDS created");this.program=e;this.registerCustomPanels();this.registerUiStateChange();this.program.registerDynamicMenuActionsProvider("UI5ContextMenuProvider",this.contextMenuProvider);this.updateTitle();this.updateProgramSettings()}.bind(this)).onCatch(function(e){throw new Error(e)})}.bind(this))}.bind(this)).catch(this._handleInitalisationErrors.bind(this))},exit:function(){if(this.programInstance){this._cleanUpProgram()}},getProgram:function(){return this.program},setPanelVisible:function(e,t){if(this.program){var i=this.program.getActiveDocument();if(i&&i.setPanelVisible){var r=n.AuGdsPanelType.lookup(e);if(r){i.setPanelVisible(r,t)}else{throw new Error("Cannot resolve panel type to adjust visibility!")}}}},setDataProvider:function(e){var t=this;t.closed=false;if(!e){e=l}t.setProperty("dataProvider",e);if(t.program){t._initQuery().then(function(){if(t.dataProviderInstance){var e=t.dataProviderInstance.getQueryManager();{if(e&&!e.isReleased()){t.program.getActiveDocument().setExternalQueryManager(t.dataProviderInstance.getQueryManager())}}}})}return this},addContextMenuAction:function(e,t){this.contextMenuProvider.registerAction(e,t)},setDataSource:function(e){var t=this;t.closed=false;if(e===null){e=u}if(e&&e.startsWith("$")){e=this.getUrlParams("datasource")}var i=this.getProperty("dataSource");if(i===e){return this}if(e===u){if(i){t._removeQuery(i).then(function(){if(t.program){t.program.getActiveDocument().setExternalQueryManager(null);t.closed=true;t.invalidate()}})}}else if(t.program){t._initQuery().then(function(){t.program.getActiveDocument().setExternalQueryManager(t.dataProviderInstance.getQueryManager())})}t.setProperty("dataSource",e,true);t.setProperty("dataProvider",undefined);return this},setHideFilterLine:function(e){this.setProperty("hideFilterLine",e,true);if(this.program){this.program.getActiveDocument().setFilterLineVisible(!e)}return this},setStyleTemplateName:function(e){this.setProperty("styleTemplateName",e,true);this.updateStyleTemplate();return this},setAutoUpdate:function(e){this.setProperty("autoUpdate",e,true);if(this.program){this.program.getActiveDocument().setAutoUpdatesEnabled(e)}return this},setHideToolBar:function(e){this.setProperty("hideToolBar",e,true);if(this.program){this.program.setShowToolbar(!e)}return this},setTitle:function(e){this.setProperty("title",e,true);this.updateTitle();return this},setShowTitle:function(e){this.setProperty("showTitle",e,true);this.updateTitle();return this},setHideSideNavigation:function(e){this.setProperty("hideSideNavigation",e,true);if(this.program){this.program.getActiveDocument().setSideNavigationVisible(!e)}return this},setHideDesignPanel:function(e){this.setProperty("hideDesignPanel",e,true);if(this.program){this.program.getActiveDocument().setDesignerPanelVisible(!e)}return this},setHideStylePanel:function(e){this.setProperty("hideStylePanel",e,true);if(this.program){this.program.getActiveDocument().setStylePanelVisible(!e)}return this},_cleanUpProgram:function(){n.XObjectExt.release(this.programInstance);n.XObjectExt.release(this.program);this.programInstance=null;this.program=null;var e=sap.ui.core.UIArea.registry.get(this.programContainerID);if(e){e.destroy()}this.isProgramRunning=false},_initModel:function(){var e=this;return Promise.resolve().then(function(){e.log("Start init model");var t=e.getMultiDimModel();if(!t){var i={masterSystem:e._getSystemName(),systemType:e.getSystemType(),keepAliveInterval:e.getKeepAliveInterval()||-1};t=new a(i);e.getParent().setModel(t,e.getMultiDimModelId())}t.attachEvent("dataProviderAdded",null,function(i){var r=i.getParameter("dataProviderName");e.log("DP added '"+r+"'");if(r===e.getDataProvider()){this.dataProviderInstance=t.getDataProvider(r);if(this.dataProviderInstance){if(this.program&&this.program.getActiveDocument()){this._rerender=false;this.program.getActiveDocument().getQueryController().initWithExistingQueryManager(this.dataProviderInstance.getQueryManager());setTimeout(10,function(){this.updateProgramSettings();this._rerender=true}.bind(this))}}}},e);t.attachEvent("dataProviderUpdated",null,function(i){var r=i.getParameter("dataProviderName");e.log("DP changed '"+r+"'");if(r===e.getDataProvider()){this.dataProviderInstance=t.getDataProvider(r);if(this.dataProviderInstance){if(this.program&&this.program.getActiveDocument()){this.program.getActiveDocument().notifyQueryManagerStateChange()}}}},e);return t.loaded()})},_parseDataSource:function(t){var i=n.QFactory.createDataSource();var r=t||this.getDataSource();if(r.indexOf(":[")>0){i.setFullQualifiedName(r)}else{i.setObjectName(r);i.setType(this.getSystemType()===e.BW?n.MetaObjectType.QUERY:n.MetaObjectType.DBVIEW)}return i},_initQuery:function(){var e=this.getMultiDimModel();return Promise.resolve().then(function(){this.log("Start init query");if(this.getDataProvider()){var t=this.getDataProvider();if(t===l){this.dataProviderInstance=null;if(this.program){var i=this.programInstance.getCurrentStartConfig().getArguments().getArgumentStructure();this.program.openDocument(n.AuGdsDocumentType.QUERY_BUILDER,null,null,i)}}else{this.log("Update DP instance to '"+t+"'");this.dataProviderInstance=e.getProperty("/DataProvider/"+t)}}else if(this.getDataSource()){var r=this._parseDataSource();var a=r.getObjectName();this.dataProviderInstance=e.getDataProvider(a);if(this.dataProviderInstance){return}return e.addDataProvider(a,a,this._getSystemName(),r.getPackageName(),r.getSchemaName(),r.getType()).then(function(e){this.dataProviderInstance=e;this.setProperty("dataProvider",a,true)}.bind(this))}else{throw new Error("A dataProvider or dataSource must be specified")}}.bind(this))},_removeQuery:function(e){var t=this.getMultiDimModel();return Promise.resolve().then(function(){if(this.getDataSource()===u){var i=this._parseDataSource(e);var r=i.getObjectName();this.dataProviderInstance=t.getDataProvider(r);if(!this.dataProviderInstance){return}return t.removeDataProvider(r).then(function(){this.dataProviderInstance=null;this.setProperty("dataProvider",null,true)}.bind(this))}}.bind(this))},_setClientArgs:function(){this.log("setClientArgs");this.programInstance.setArgument(n.AuGdsConstants.GDF_FILE_DOC_TYPE,this.getDocType());this.programInstance.setArgument(n.AuGdsConstants.PARAM_SYSTEM,this._getSystemName());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_MULTI_DOCUMENTS,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_STATUS_BAR,this.getHideStatusBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_MENU_BAR,this.getHideMenuBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_HIDE_TOOLBAR,this.getHideToolBar());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_QUERY_BUILDER_MULTI_VIEWS,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_QUERY_BUILDER_AUTO_OPEN_DATA_SOURCE_PICKER,false);this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_IMPLICIT_VARIABLE_HANDLING,this.getImplicitVariableHandling());this.programInstance.setBooleanArgument(n.AuGdsConstants.PARAM_SUPPRESS_LANDING_PAGE,this.getHideLandingPage());this.programInstance.setArgument(n.AuGdsConstants.PARAM_INTEGRATION,"ui5");this.programInstance.setArgument(n.AuGdsConstants.PARAM_MODE,n.AuGdsConstants.VALUE_MODE_SAP_UI5_GA)},_handleInitalisationErrors:function(e){this._error=e;this.invalidate()},isEqualTo:function(){return false},onQueryExecuted:function(){if(this.getParent().getModel(this.getModelId())){this.getParent().getModel(this.getModelId()).fireRequestCompleted({infoObject:this.getDataProvider()})}this.fireQueryExecuted()},getDocType:function(){return"QueryBuilder"},_getSystemName:function(){var e=this.getSystemName();if(e&&e.startsWith("$")){e=this.getUrlParams("system")}return e?e:"local"+this.getSystemType()},_updateSupportedPanelsConfiguration:function(e,t){var i=this.getCustomPanels();if(i.length){var r=i.map(function(e){return e.getPanelId()}),a="/QueryBuilder/SideNavigation/SupportedPanels",n=e.getProperty(a);if(n){n=n.concat(r)}else{n=r}e.setProperty(a,n);if(t){e.setProperty("/QueryBuilder/PanelSettings/StylePanel/ConditionalFormatting",false)}}},_processConfigURI:function(){var e=this.programInstance;return new Promise(function(e){var t=this.getConfigObject();if(t){e(JSON.stringify(t))}else{var i=this.getConfigurationURI();var a=this.getConfigId();var n=false;if(a){if(a=="reviewbooklet-op"){n=true;a="reviewbooklet"}i=sap.ui.require.toUrl("sap/sac/df/fa/configs/"+a+"-config.json")}if(!i){i=sap.ui.require.toUrl("sap/sac/df/fa/configs/sap-ui5-config.json")}var s=new r(i);s.attachRequestCompleted(function(t){var i=t.getSource();this._updateSupportedPanelsConfiguration(i,n);e(JSON.stringify(i.getData()))}.bind(this))}}.bind(this)).then(function(t){if(t){e.setArgument(n.AuGdsConstants.PARAM_CONFIGURATION,t)}})},getUrlParams:function(e){return(window.location.href.split(e+"=")[1]||"").split("&")[0]},_setClientEnvironment:function(e){var t=this.getEnvironment();t.forEach(function(t){var i=t.split("=");e.setEnvironmentVariable(i[0],i[1])}.bind(this))},log:function(e){if(this.logActive){console.log(this.getId()+": "+e)}},updateStyleTemplate:function(){if(this.program){var e=this.program.getActiveDocument();if(e.getTableView()&&e.getTableView().getTableDefinition()){var t=this.getStyleTemplateName();if(!t){return}var i=e.getTableView().getTableDefinition();if(t===g){if(i.getLinkedDefinition("FA")){i.unlinkDefinition("FA")}}else{var r=this.getMultiDimModel().getStylingProvider().getTemplate(t);if(r.getStyleForDataProvider){r=r.getStyleForDataProvider(this.dataProviderInstance)}var a=n.QFactory.createTableDefinition();a.deserializeFromElementExt(n.QModelFormat.INA_REPOSITORY,new n.NativeJsonProxyElement(r));i.putLinkedDefinition("FA",a)}e.getTableView().reRenderTableStyling()}}},applyAutoUpdate:function(){var e=this.getAutoUpdate();var t=this.program.getActiveDocument();if(!e&&t.getQueryManager()&&t.getQueryManager().getResultSetSyncState()===n.SyncState.IN_SYNC){t.setAutoUpdatesEnabled(true);setTimeout(function(){t.setAutoUpdatesEnabled(false)},35)}else{t.setAutoUpdatesEnabled(e)}},_checkAutoUpdate:function(){if(this.getAutoUpdate()&&this.dataProviderInstance&&!this.dataProviderInstance.isValid()){this.dataProviderInstance.getResultSet()}}});return d});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/FlexAnalysisPanel",["sap/ui/core/Element"],function(e){var n=e.extend("sap.sac.df.FlexAnalysisPanel",{metadata:{library:"sap.sac.df",properties:{description:"string",title:"string",icon:"sap.ui.core.URI"},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},defaultAggregation:"content"},getPanelId:function(){var e=this.getId();return e.indexOf("--")!==-1?e.split("--").pop():e},getDocumentType:function(){return sap.firefly.AuGdsDocumentType.QUERY_BUILDER},renderPanelContent:function(e){var n=e&&e.getNativeControl();if(n){var t=this.getContent();if(t){n.insertContent(t)}else{throw new Error("No content defined for custom panel.")}}else{throw new Error("Container control not found. Unable to add custom panel.")}}});return n});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/fa/AdvancedStylingProvider",["sap/ui/base/Object"],function(e){"use strict";var a={TableDefinition:{CType:"VisualizationTableDefinition",ScopedStyle:[],ShowFormulas:false,ShowFreezeLines:true,ShowGrid:false,ShowReferences:false,ShowSubtitle:false,ShowTableDetails:false,ShowTableTitle:false,StripeDataColumns:false,StripeDataRows:false,Styles:[],TableHeaderCompactionType:"PreferablyColumn",TableMarkup:[]}};var t=e.extend("sap.sac.df.fa.FlexAnalysisContextMenuProvider",{constructor:function(){this.astRegistry={};this.astRegistry.default=a},registerAdvancedStylingTemplate:function(e,a){this.astRegistry[e]=a},getTemplate:function(e){var t=this.astRegistry[e]||a;return t}});return t});
sap.ui.predefine("sap/sac/df/fa/FinStyle",["sap/sac/df/firefly/library"],function(e){var t={TableDefinition:{CType:"VisualizationTableDefinition",ScopedStyle:[{Name:"middle-alignment",Text:"middle-alignment",ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionFull:true},Style:"middle-alignment"},{Name:"Actual",Text:"Actual",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"ActualStyle"},{Name:"Previous",Text:"Previous",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"PreviousStyle"},{Name:"Budget",Text:"Budget",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"BudgetStyle"},{Name:"Forecast",Text:"Forecast",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"ForecastStyle"},{Name:"PercentageVariance",Text:"PercentageVariance",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"PercentageVarianceStyle"},{Name:"AbsoluteVariance",Text:"AbsoluteVariance",ColumnsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[]},Style:"AbsoluteVarianceStyle"},{Name:"bold",RowsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,Leaves:false}]}]},Style:"bold",Text:"bold"},{Name:"leaves",RowsScope:{CType:"VisualizationCellReferenceScope",ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,Leaves:true}]}]},Style:"leaves",Text:"leaves"},{Name:"hl0_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:0,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl0_td",Text:"hl0_td"},{Name:"hl1_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:1,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl1_td",Text:"hl1_td"},{Name:"hl2_td",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:-1,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:2,HierarchyLevelExact:true,IncludeHeaderBand:false,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Below"}]}]},Style:"hl2_td",Text:"hl2_td"},{Name:"hl0_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:0,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl0_bu",Text:"hl0_bu"},{Name:"hl1_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:1,IncludeHeaderBand:false,HierarchyLevelExact:true,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl1_bu",Text:"hl1_bu"},{Name:"hl2_bu",RowsScope:{CType:"VisualizationCellReferenceScope",MatchModulo:-1,MatchOrdinal:0,ReferencePaths:[{ReferencePathElements:[{AxisLevel:0,HierarchyLevel:2,HierarchyLevelExact:true,IncludeHeaderBand:false,Leaves:false,Expanded:true,LowerLevelNodeAlignment:"Above"}]}]},Style:"hl2_bu",Text:"hl2_bu"}],Styles:[{VerticalAlignment:"Middle",Name:"middle-alignment",Priority:0,Text:"middle-alignment"},{FontBold:true,Name:"bold",Priority:0,Text:"bold"},{FontBold:false,Name:"leaves",BottomLine:{LineColor:"sapUiWhite",LineStyle:"Solid",LineWidth:1},Priority:0,Text:"leaves"},{BottomLine:{LineColor:"sapUiBrand",LineStyle:"Solid",LineWidth:2},Name:"hl0_td",Priority:0,Text:"hl0_td"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:2},Name:"hl1_td",Priority:0,Text:"hl1_td"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:1},Name:"hl2_td",Priority:0,Text:"hl2_td"},{BottomLine:{LineColor:"sapUiBrand",LineStyle:"Solid",LineWidth:2},Name:"hl0_bu",Priority:0,Text:"hl0_bu"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:2},Name:"hl1_bu",Priority:0,Text:"hl1_bu"},{BottomLine:{LineColor:"sapUiBlackBorder",LineStyle:"Solid",LineWidth:1},Name:"hl2_bu",Priority:0,Text:"hl2_bu"},{BottomLine:{PatternType:"Solid",PatternColor:"sapUiBlackBorder",PatternWidth:4,PatternBorderColor:"sapUiBlackBorder"},Name:"ActualStyle",Text:"ActualStyle",Priority:0},{BottomLine:{PatternType:"Solid",PatternColor:"sapUiContentUnratedColor",PatternWidth:4,PatternBorderColor:"sapUiContentUnratedColor"},Name:"PreviousStyle",Text:"PreviousStyle",Priority:0},{BottomLine:{PatternType:"Nofill",PatternColor:"sapUiBlackBorder",PatternWidth:4,PatternBorderColor:"sapUiBlackBorder"},Name:"BudgetStyle",Text:"BudgetStyle",Priority:0},{BottomLine:{PatternType:"Hatching1",PatternColor:"sapUiContentImagePlaceholderBackground",LineWidth:1,PatternWidth:4,PatternBorderColor:"sapUiContentImagePlaceholderBackground"},Name:"ForecastStyle",Text:"ForecastStyle",Priority:0},{BottomLine:{PatternType:"Nofill",PatternColor:"sapUiBrand",PatternWidth:4,PatternBorderColor:"sapUiBrand"},Name:"AbsoluteVarianceStyle",Text:"AbsoluteVarianceStyle",Priority:0},{BottomLine:{PatternType:"Hatching1",PatternColor:"sapUiBrand",PatternWidth:4,PatternBorderColor:"sapUiBrand"},Name:"PercentageVarianceStyle",Text:"PercentageVarianceStyle",Priority:0}],TableHeaderCompactionType:"PreferablyColumn",TableMarkup:[{ColumnsScope:{CType:"VisualizationCellReferenceScope",MatchDataSectionEnd:false,MatchDataSectionFull:true,MatchDataSectionStart:false,MatchHeaderSectionEnd:false,MatchHeaderSectionFull:true,MatchHeaderSectionStart:false,MatchModulo:0,MatchOrdinal:0},Name:"tm",Priority:0,ScopedStyle:["hl0_td","hl1_td","hl2_td","hl0_bu","hl1_bu","hl2_bu","leaves","bold"],Text:"tm",Width:0},{RowsScope:{CType:"VisualizationCellReferenceScope",MatchHeaderSectionEnd:true},HeightAddition:3,Name:"semantic",Priority:0,ScopedStyle:["middle-alignment","Actual","Previous","Budget","Forecast","AbsoluteVariance","PercentageVariance"],Text:"semantic",Width:0}],TableMemberHeaderHandling:"FirstMember"},Name:"FIN",Text:"S4-Fin Style"};function a(a){this.memberMapping=a;this.ACTUAL="Actual";this.BUDGET="Budget";this.VARIANCE="Variance";this.getStyleForDataProvider=function(a){var l=JSON.parse(JSON.stringify(t));if(!this.memberMapping){return l}var i=function(t){if(this.memberMapping[t]){var i=Object.keys(this.memberMapping[t]);for(var r=0;r<i.length;r++){var n=i[r];var o=a.Dimensions[t].Members.find(function(e){return e.Name===n});if(o){var c=this.memberMapping[t][n];for(var s=0;s<c.length;s++){var d=l.TableDefinition.ScopedStyle.find(function(e){return e.Name===c[s]});if(d){var h=t===a.MEASURE_DIM?e.DimensionType.MEASURE_STRUCTURE.getName():e.DimensionType.SECONDARY_STRUCTURE.getName();var u;if(d.ColumnsScope.ReferencePaths.length===1&&d.ColumnsScope.ReferencePaths[0].DimensionType===h){u=d.ColumnsScope.ReferencePaths[0]}else if(d.ColumnsScope.ReferencePaths.length===2&&d.ColumnsScope.ReferencePaths[0].DimensionType===h){u=d.ColumnsScope.ReferencePaths[1]}else{u={ReferencePathElements:[{DimensionType:h,MemberNames:[]}]};d.ColumnsScope.ReferencePaths.push(u)}u.ReferencePathElements[0].MemberNames.push(o.Key)}}}}}}.bind(this);i(a.MEASURE_DIM);i(a.STRUCTURE_DIM);return l}}return a});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/fa/FlexAnalysisContextMenuProvider",["sap/ui/base/Object","sap/sac/df/firefly/library"],function(e,t){"use strict";var n="Gds.Qb.Table.ContextMenu";var i=e.extend("sap.sac.df.fa.FlexAnalysisContextMenuProvider",{constructor:function(e){this.flexAnalysis=e;this.actions={}},isActionVisible:function(e,t){return true},isActionEnabled:function(e,t){return true},onActionTriggered:function(e,t){var n=this.actions[e];if(n&&!n.builtin){n.triggerAction(e,this.convertContext(t))}},provideMenuConfig:function(e,i,r){var o=t.PrFactory.createStructure();var s=[];if(Object.keys(this.actions).length>0&&e.getUiContext()===n){var a=o.putNewList("MenuExtensions");var u=this.convertContext(e);var l=a.addNewStructure();l.putNewList("UiContext").addString(n);var c=l.putNewList("Extension");var d=this.actions;Object.keys(d).forEach(function(e){var t=d[e];var n=c.addNewStructure();var i=n.putNewList("Items");var r=i.addNewStructure();r.putString("Action",e);if(t.getActionDescription){s.push(t.getActionDescription(e,u).then(function(e){if(e.InsertAfter){n.putString("Operation","InsertAfter");n.putString("Reference",e.InsertAfter)}else if(e.InsertBefore){n.putString("Operation","InsertBefore");n.putString("Reference",e.InsertBefore)}else{n.putString("Operation","AppendInto");n.putString("Reference","$Root")}if(!e.builtin){this.putString("Text",e.Text);if(e.Icon){this.putString("Icon",e.Icon)}}}.bind(r)))}else{n.putString("Operation","AppendInto");n.putString("Reference","$Root")}if(!t.builtin){s.push(t.isActionVisible(e,u).then(function(e){this.putBoolean("Visible",e)}.bind(r)));s.push(t.isActionEnabled(e,u).then(function(e){this.putBoolean("Enabled",e)}.bind(r)))}})}Promise.all(s).then(function(){i.onDynamicMenuConfigProvided(e,"flexAnalysisProvider",o,r)})},registerAction:function(e,t){this.actions[e]=t},unregisterAction:function(e){delete this.actions[e]},isReleaseLocked:function(){return true},convertContext:function(e){var n=this.flexAnalysis.getParent().getModel(this.flexAnalysis.getMultiDimModelId());var i=n.getDataProvider(this.flexAnalysis.getDataProvider());var r={DataProvider:i.Name,Grid:{SelectedCells:[],SelectedDataCells:[]}};var o=i.getQueryManager().getActiveResultSetContainer();var s=t.AuGdsGenericContextResolveUtil.resolveSingleColumnTuple(e);var a=t.AuGdsGenericContextResolveUtil.resolveSingleRowTuple(e);if(s&&a){var u=s.getAxisIndex()+o.getOffsetColumns();var l=a.getAxisIndex()+o.getOffsetRows();var c=t.AuGdsGenericContextResolveUtil.resolveSingleDocumentId(e);r.Grid.SelectedDataCells.push({rowIndex:l,columnIndex:u,documentId:c})}var d=t.AuGdsGenericContextResolveUtil.resolveColumn(e);var f=t.AuGdsGenericContextResolveUtil.resolveRow(e);if(d>=0&&f>=0){r.Grid.SelectedCells.push({rowIndex:f,columnIndex:d})}return r}});return i});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/Capability",["sap/sac/df/firefly/library"],function(a){"use strict";return{SupportsDocuments:a.InACapabilities.V274_CELL_DOCUMENT_ID}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/MultiDimDataProvider",["sap/base/Log","sap/ui/core/format/DateFormat","sap/sac/df/types/Axis","sap/sac/df/types/DimensionType","sap/sac/df/types/DisplayType","sap/sac/df/types/ComparisonOperator","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ListHelper","sap/sac/df/utils/TokenHelper","sap/sac/df/utils/ResourceBundle","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library","sap/sac/df/olap/Capability"],function(e,t,r,n,i,a,o,s,u,l,g,c,m){"use strict";var f=function(n,a,u,f){this.MEASURE_DIM="MeasureStructure";this.STRUCTURE_DIM="NonMeasureStructure";var d=this;var D;var y=u.getQueryModel();var v;d.OffsetCol=0;d.Messages=[];d.Name=f;d.OffsetRow=0;d.SuppressRepetition=true;d.Variables={};var N={};var S=function(e){if(e&&e.getMessages().length){n.addMessages(F(e))}};y.registerChangedListener({onModelComponentChanged:function(e,t){t.callUpdateDimensionData();n.checkUpdate()},isReleased:function(){return false}},this);u.attachBeforeQueryExecutionListener({onBeforeQueryExecuted:function(){n.propagateVariableGroupValues(d.Name);if(u.isReinitNeeded()&&d.variableChanged){u.setVariableProcessorState(c.VariableProcessorState.PROCESSING_AUTO_SUBMIT);d.variableChanged=false}},isEqualTo:c.XObject.prototype.isEqualTo});u.attachQueryExecutedListener({onQueryExecuted:function(e){d.Grid={};S(e);if(e.hasErrors()){n.checkUpdate();n.fireRequestFailed({})}else{x()}d._processVisualization()},isEqualTo:function(e){return this===e}},"UI5GridViz");d.setOffsetCol=function(e){d.virtualOffsetCol=e;return d};d.setOffsetRow=function(e){d.virtualOffsetRow=e;return d};d.getStructureMembers=function(e){var t=y.getDimensionByName(d.Dimensions[e].TechName);var r=t.getDisplayKeyField();var n=g.reduce(d.getFilterOfDim(e),function(e,t){e[t.Low]=true;return e},{});return g.map(s.arrayFromList(t.getAllStructureMembers()),function(e){var i=I(e,t,r);i.isInFilter=!!n[e.getName()];return i})};x();d.openCellDialog=function(e,t,r,n){var i=d.Dimensions[e];if(!i||!i.IsStructure){throw new Error("Dimension is not a structure:"+e)}var a=y.getDimensionByName(i.TechName).getDisplayKeyField();var o=g.find(s.arrayFromList(u.getQueryModel().getDimensionByName(d.Dimensions[e].TechName).getAllStructureMembers()),function(e){var r=e.getFieldValue(a);var n=r?r.getString():e.getName();return n===t});if(!o){throw new Error("Member "+t+" not found in structure: "+e)}var l;if(r){var m=d.Dimensions[r];if(!m||!m.IsStructure){throw new Error("Dimension is not a structure:"+r)}var f=y.getDimensionByName(d.Dimensions[r].TechName).getDisplayKeyField();l=g.find(s.arrayFromList(u.getQueryModel().getDimensionByName(d.Dimensions[r].TechName).getAllStructureMembers()),function(e){var t=e.getFieldValue(f);var r=t?t.getString():e.getName();return r===n});if(!l){throw new Error("Member "+n+" not found in structure: "+r)}}var p;function D(e){p=e}var v=new Promise(D);var N=c.DataCellDialogDragonflyEntryPoint.createEntryPoint(u);N.openDataCellPropertiesDialog({onDataCellOk:function(){var e=p;p=null;return e(true)},onDataCellClose:function(){if(p){p(false)}N.close()}},u,o.getName(),l?l.getName():null);return v};d.openDimDialog=function(e){return new Promise(function(t){var r=c.ProgramRunner.createRunner(a.getProcess(),c.OuDimensionDialog2.DEFAULT_PROGRAM_NAME);r.setObjectArgument(c.DfOuDialogProgram.PARAM_QUERY_MANAGER,u);r.setArgument(c.OuDimensionDialog2.PARAM_DIMENSION_NAME,d.Dimensions[e].TechName);r.setObjectArgument(c.DfOuDialogProgram.PARAM_OK_PROCEDURE,{execute:function(){t(true)}});r.setObjectArgument(c.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE,{execute:function(){t(false)}});return r.runProgram(null)})};d.setResultVisibility=function(e,t){b(function(){y.getDimensionByName(d.Dimensions[e].TechName).setResultVisibility(c.ResultVisibility[t])});return d};d.setDimensionDisplay=function(e,t){b(function(){var r=y.getDimensionByName(d.Dimensions[e].TechName);var n=r.getDisplayKeyField()||r.getKeyField();var a=r.getTextField();var o=r.getResultSetFields();var u=g.filter(s.arrayFromList(o).map(function(e){return e}),function(e){return e!==r.getKeyField()&&e!==r.getTextField()&&e!==r.getDisplayKeyField()});o.clear();switch(t){case i.Key:o.add(n);break;case i.Text:o.add(a);break;case i.KeyText:o.add(n);o.add(a);break;case i.TextKey:o.add(a);o.add(n);break}g.forEach(u,function(e){o.add(e)})});return d};d.isVariableInputEnabled=function(e){var t=N[e];if(!t){return false}var r=y.getVariable(t);return!!r&&r.isInputEnabled&&r.isInputEnabled()};d.hasVariableValueHelp=function(e){var t=y.getVariable(e);return!!t&&t.supportsValueHelp&&t.supportsValueHelp()};function E(e,t,r){if(t!=null&&r!=null){e.addSupplementValue(t.getName(),r)}}function T(e,t,r){t.queueEventing();var n=e.getKeyField();var i=e.getDisplayKeyField()!==n?e.getDisplayKeyField():null;var a=e.getTextField();t.addSupplementField(i);t.addSupplementField(a);for(var o=0;o<r.size();o++){var s=r.get(o);var u=t.addNewCartesianElement();u.setComparisonOperator(c.ComparisonOperator.EQUAL);u.setField(n);var l=u.getLow();l.setValue(c.XValueUtil.getValueFromString(s.getKey(),n.getValueType()));E(l,i,s.getDisplayKey());E(l,a,s.getText())}t.resumeEventing()}function M(e){var t=N[e];if(!t){return false}return y.getVariable(t)}d.applySelectionToVariable=function(e,t){var r=function(e){if(!e){return}b(function(){if(e.getVariableType().isTypeOf(c.VariableType.DIMENSION_MEMBER_VARIABLE)){var r=e.getDimension();var n=e.getMemberFilter();n.clear();T(r,n,t)}else{if(!t.isEmpty()){e.setValueByStringExt(t.get(0).getKey(),true)}}d.variableChanged=true})};return new Promise(function(t,r){var n=M(e);if(!n||!n.isInputEnabled()){r("Variable="+e+" is not input enabled")}t(n)}).then(r)};d.openVariableSelector=function(e,t){var r=M(e);if(!(r&&r.supportsValueHelp&&r.supportsValueHelp())){throw new Error("No Value help for variable "+e)}var n=u.clone();if(n.isReinitNeeded()){n.reInitVariablesAfterSubmit(c.SyncType.BLOCKING,null,null)}var i;function o(e){i=e}var s=c.ProgramRunner.createRunner(a.getProcess(),c.FilterDialog.DEFAULT_PROGRAM_NAME_VARIABLE);s.setObjectArgument(c.DfOuDialogProgram.PARAM_QUERY_MANAGER,n);s.setArgument(c.FilterDialog.PARAM_TITLE,l.getText("SELECTOR",[r.getText()]));s.setArgument(c.FilterDialog.PARAM_VARIABLE_NAME,r.getName());s.setArgument(c.FilterDialog.PARAM_SELECTION_MODE,r.supportsMultipleValues()?c.UiSelectionMode.MULTI_SELECT.getName():c.UiSelectionMode.SINGLE_SELECT_LEFT.getName());s.setBooleanArgument(c.FilterDialog.PARAM_ALWAYS_SHOW_SELECTION_CONTAINER,true);s.setObjectArgument(c.FilterDialog.PARAM_DEFAULT_SELECTION,c.FilterDialogValueFactory.createSelectionFromVariable(r));s.setObjectArgument(c.FilterDialog.PARAM_LISTENER_CLOSE,{onFilterDialogOk:function(e){i(e)},onFilterDialogCancel:function(){i(null)}});s.runProgram();var g=new Promise(o);return g.then(function(e){if(!e){return false}return e}).then(function(r){if(r&&!t){return d.applySelectionToVariable(e,r).then(function(){R();return r})}return r}).finally(function(){c.XObjectExt.release(n)})};d.openCurrencyTranslationDialog=function(){return new Promise(function(e){var t=c.ProgramRunner.createRunner(a.getProcess(),c.OuCurrencyConversionDialog.DEFAULT_PROGRAM_NAME);t.setObjectArgument(c.DfOuDialogProgram.PARAM_QUERY_MANAGER,u);t.setObjectArgument(c.DfOuDialogProgram.PARAM_OK_PROCEDURE,{execute:function(){e(true)}});t.setObjectArgument(c.DfOuDialogProgram.PARAM_CANCEL_PROCEDURE,{execute:function(){e(false)}});return t.runProgram(null)})};d.getFilterOfDim=function(e){var t=y.getDimensionByName(d.Dimensions[e].TechName);function r(e){var r=t.getKeyField();var n=t.getDisplayKeyField()!==r?t.getDisplayKeyField():null;var i=t.getTextField();var a=e.getLow();var o=null;if(n!=null){o=a.getSupplementValueString(n.getName())}if(!o&&i){o=a.getSupplementValueString(i.getName())}return o}return g.map(s.arrayFromList(y.getFilter().getDynamicFilter().getCartesianListByField(t.getKeyField())),function(e){return{ComparisonOperator:p(e.getComparisonOperator()),Text:r(e),Low:e.getLow().getString(),High:e.getHigh().getString(),IsExcluding:e.getSetSign()===c.SetSign.EXCLUDING}})};d.openSelector=function(e){var t=y.getDimensionByName(d.Dimensions[e].TechName);if(!y.getFilter().getDynamicFilter().isCartesianProduct()){throw new Error("Filter to complex")}var r;function n(e){r=e}return Promise.resolve(null).then(function(){var e=c.ProgramRunner.createRunner(a.getProcess(),c.FilterDialog.DEFAULT_PROGRAM_NAME_DIMENSION);e.setObjectArgument(c.DfOuDialogProgram.PARAM_QUERY_MANAGER,y.getQueryManager());e.setArgument(c.FilterDialog.PARAM_TITLE,l.getText("SELECTOR",[t.getText()]));e.setArgument(c.FilterDialog.PARAM_DIMENSION_NAME,t.getName());e.setArgument(c.FilterDialog.PARAM_SELECTION_MODE,c.UiSelectionMode.MULTI_SELECT.getName());e.setObjectArgument(c.FilterDialog.PARAM_DEFAULT_SELECTION,c.FilterDialogValueFactory.createSelectionFromFilter(t,t.getFilter()));e.setObjectArgument(c.FilterDialog.PARAM_LISTENER_CLOSE,{onFilterDialogOk:function(e){r(e)},onFilterDialogCancel:function(){r(false)}});e.runProgram();var i=new Promise(n);return i.then(function(e){if(!e){return false}b(function(){var r=t.getQueryModel().getFilter().getDynamicFilter();r.stopEventing();var n=t.getFilter();if(n!=null){n.clear()}else{n=r.getCartesianListWithDefault(t)}T(t,n,e);r.resumeEventing()});return true})})};d.setAxesLayout=function(e){b(function(){g.forEach(g.map(d.Dimensions,"Name"),function(e){y.getAxis(c.AxisType.FREE).add(y.getDimensionByName(d.Dimensions[e].TechName))});g.forEach(e.rows,function(e){h(c.AxisType.ROWS,e,false)});g.forEach(e.columns,function(e){h(c.AxisType.COLUMNS,e,false)})});return d};d.removeDrilldown=function(e){b(function(){y.getAxis(c.AxisType.FREE).add(y.getDimensionByName(d.Dimensions[e].TechName))});return d};d.drilldown=function(e,t){b(function(){if(e){var r=y.getDimensionByName(d.Dimensions[e].TechName);var n=y.getAxesManager().getRowsAxis().getDimensionCount()?r.getAxis():y.getAxesManager().getRowsAxis();var i=!n.getDimensionCount()?0:r.getDimension().getAxis().getDimensionIndex(r.getName())+1;n.insert(i,y.getDimensionByName(d.Dimensions[t].TechName))}else{y.getAxesManager().getRowsAxis().insert(y.getAxesManager().getRowsAxis().getDimensionCount(),y.getDimensionByName(d.Dimensions[t].TechName))}});return d};d.moveUp=function(e){b(function(){var t=y.getDimensionByName(d.Dimensions[e].TechName);var r=t.getAxis();var n=r.getDimensionIndex(t.getName())-1;r.insert(n,t)});return d};d.moveDown=function(e){b(function(){var t=y.getDimensionByName(d.Dimensions[e].TechName);var r=t.getAxis();var n=r.getDimensionIndex(t.getName())+1;r.insert(n,t)});return d};d.setDisplayHierarchy=function(e,t,r,n){b(function(){var i=y.getDimensionByName(d.Dimensions[e].TechName);if(r){i.setHierarchyName(r);if(n){i.setHierarchyVersion(n)}}i.setHierarchyActive(t)});return d};d.getScalingFactor=function(e,t){var r=d.Dimensions.MeasureStructure;if(!r){throw new Error("No measure Structure")}var n=t?d.Dimensions.NonMeasureStructure:null;var i=r.TechName;var a=s.arrayFromList(y.getDimensionByName(i).getAllStructureMembers());var o=y.getDimensionByName(i).getDisplayKeyField();var l=function(){var t=g.find(a,function(t){var r=t.getFieldValue(o);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in structure: "+i)}return t}();if(!n){return l.getNumericShift()?-1*l.getNumericShift().getInteger():0}else{var c=n.TechName;var m=s.arrayFromList(y.getDimensionByName(c).getAllStructureMembers());var f=y.getDimensionByName(c).getDisplayKeyField();var p=function(){var r=g.find(m,function(e){var r=e.getFieldValue(f);var n=r?r.getString():e.getName();return n===t});if(!r){throw new Error("Member "+e+" not found in structure: "+i)}return r}();var D=s.arrayFromIter(u.getQueryModel().getQueryDataCells().getIterator());var v=g.find(D,function(e){return e.hasMemberReference(l)&&e.hasMemberReference(p)});if(!v){throw new Error("Invalid Query Cell")}return v.getScalingFactor()}};d.setScalingFactor=function(e,t,r){b(function(){var n=d.Dimensions.MeasureStructure;if(!n){throw new Error("No measure Structure")}var i=r?d.Dimensions.NonMeasureStructure:null;var a=n.TechName;var o=s.arrayFromList(y.getDimensionByName(a).getAllStructureMembers());var l=y.getDimensionByName(a).getDisplayKeyField();var c=function(){var e=g.find(o,function(e){var r=e.getFieldValue(l);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in structure: "+a)}return e}();if(!i){c.setNumericShift(-1*e);return d}else{var m=i.TechName;var f=s.arrayFromList(y.getDimensionByName(m).getAllStructureMembers());l=y.getDimensionByName(m).getDisplayKeyField();var p=function(){var e=g.find(f,function(e){var t=e.getFieldValue(l);var n=t?t.getString():e.getName();return n===r});if(!e){throw new Error("Member "+r+" not found in structure: "+m)}return e}();var D=s.arrayFromIter(u.getQueryModel().getQueryDataCells().getIterator());D=g.filter(D,function(e){return e.hasMemberReference(c)&&e.hasMemberReference(p)});if(!D||D.length<1){throw new Error("Invalid Query Cell")}return g.forEach(D,function(t){t.setScalingFactor(e)})}})};d.setDecimalPlaces=function(e,t,r){b(function(){var n=d.Dimensions.MeasureStructure;if(!n){throw new Error("No measure Structure")}var i=r?d.Dimensions.NonMeasureStructure:null;var a=n.TechName;var o=s.arrayFromList(y.getDimensionByName(a).getAllStructureMembers());var l=y.getDimensionByName(a).getDisplayKeyField();var c=function(){var e=g.find(o,function(e){var r=e.getFieldValue(l);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in structure: "+a)}return e}();if(!i){c.setNumericScale(e);return d}else{var m=i.TechName;var f=s.arrayFromList(y.getDimensionByName(m).getAllStructureMembers());l=y.getDimensionByName(m).getDisplayKeyField();var p=function(){var e=g.find(f,function(e){var t=e.getFieldValue(l);var n=t?t.getString():e.getName();return n===r});if(!e){throw new Error("Member "+r+" not found in structure: "+m)}return e}();var D=s.arrayFromIter(u.getQueryModel().getQueryDataCells().getIterator());D=g.filter(D,function(e){return e.hasMemberReference(c)&&e.hasMemberReference(p)});if(!D||D.length<1){throw new Error("Invalid Query Cell")}return g.forEach(D,function(t){t.setDecimalPlaces(e)})}})};d.getDecimalPlaces=function(e,t){var r=d.Dimensions.MeasureStructure;if(!r){throw new Error("No measure Structure")}var n=t?d.Dimensions.NonMeasureStructure:null;var i=r.TechName;var a=s.arrayFromList(y.getDimensionByName(i).getAllStructureMembers());var o=y.getDimensionByName(i).getDisplayKeyField();var l=function(){var t=g.find(a,function(t){var r=t.getFieldValue(o);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in measureDim: "+i)}return t}();if(!n){return l.getNumericScale()}else{var c=n.TechName;var m=s.arrayFromList(y.getDimensionByName(c).getAllStructureMembers());var f=y.getDimensionByName(c).getDisplayKeyField();var p=function(){var e=g.find(m,function(e){var r=e.getFieldValue(f);var n=r?r.getString():e.getName();return n===t});if(!e){throw new Error("Member "+t+" not found in measureDim: "+c)}return e}();var D=s.arrayFromIter(u.getQueryModel().getQueryDataCells().getIterator());var v=g.find(D,function(e){return e.hasMemberReference(l)&&e.hasMemberReference(p)});if(!v){throw new Error("Invalid Query Cell")}return v.getDecimalPlaces()}};d.setFilter=function(e,t){b(function(){var r=d.Dimensions[e];var n=[];if(typeof t==="string"){n.push(t)}else{n=t}c.QFilterUtil.clearSelectionsInContainerByDimension(d.Dimensions[e].TechName,y.getFilter().getDynamicFilter());var i=d.Dimensions[e].TechName;var a=y.getDimensionByName(i);var o=r.IsStructure?s.arrayFromList(a.getAllStructureMembers()):[];var u=r.IsStructure?a.getDisplayKeyField():null;g.forEach(n,function(e){var t=r.IsStructure?function(){var t=g.find(o,function(t){var r=t.getFieldValue(u);var n=r?r.getString():t.getName();return n===e});if(!t){throw new Error("Member "+e+" not found in structure: "+i)}return t.getName()}():e;y.getFilter().getDynamicFilter().addSingleMemberFilterByName(i,t,c.ComparisonOperator.EQUAL)})});return d};d.removeFilter=function(e){b(function(){c.QFilterUtil.clearSelectionsInContainerByDimension(d.Dimensions[e].TechName,y.getFilter().getDynamicFilter())});return d};d.sort=function(e,t,r,n){b(function(){var i=y.getDimensionByName(d.Dimensions[e].TechName);if(d.Dimensions[e].IsStructure){var a=u.getConvenienceCommands();a.clearSort(null,null);a.sortByMeasure(g.find(d.Dimensions[e].Members,function(e){return e.Name===n}).TechName,c.XSortDirection[t])}else{i.getResultSetSorting().setDirection(c.XSortDirection[t]);if(r){i.getResultSetSorting().setSortType(c.SortType[r])}}});return d};function h(e,t,r){var n=function(e){var t=e.getKeyField();var r=e.getDisplayKeyField()||t;var n=e.getTextField()||r;return{oKeyField:t,oDisplayKeyField:r,oTextField:n}};b(function(){var r=y;var i=d.Dimensions[t].TechName;var a=r.getQueryModel().getDimensionByName(i);r.getAxis(e).add(a);var o=n(a);var s=a.getResultSetFields();var u=o.oTextField;if(u&&!s.contains(u)){s.add(u);u.setObtainability(c.ObtainabilityType.USER_INTERFACE)}var l=o.oDisplayKeyField;if(!s.contains(l)){s.add(l);l.setObtainability(c.ObtainabilityType.USER_INTERFACE)}},r,r)}d.toRows=function(e){h(c.AxisType.ROWS,e);return d};d.toColumns=function(e){h(c.AxisType.COLUMNS,e);return d};d.drill=function(e,t){b(function(){var r=y.getDimensionByName(d.Dimensions[e].TechName);var n=v.getAxis(r.getAxisType()).getTupleAt(t).getTupleElementByDimension(r);n.setNextDrillState(n.getDrillState()!==c.DrillState.COLLAPSED?c.DrillState.COLLAPSED:c.DrillState.EXPANDED)});return d};d.submitVariables=function(){return o.syncActionToPromise(u.submitVariables,u,[]).then(function(e){x();if(e&&e.getMessages().length){n.addMessages(s.arrayFromList(e.getMessages()).map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}))}}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);if(!e.getMessages){throw e}d.Grid=null})};d.getResultSet=function(e){if(u.getResultSetSyncState()===c.SyncState.IN_SYNC_WITH_ERROR){u.getResultsetContainer(true)}if(!e){d.setOffsetCol(0);d.setOffsetRow(0)}if(u.hasChangedCells()){u.transferNewValues()}u.setOffsetColumns(d.virtualOffsetCol);u.setOffsetRows(d.virtualOffsetRow);u.setMaxRows(n.getLimit().RowLimit);u.setMaxColumns(n.getLimit().ColLimit);return new Promise(function(e){var t=y.getVisualizationManager().getOrCreateVisualisationDefinition(d.Name,c.ProtocolBindingType.SAC_TABLE_GRID,c.SemanticBindingType.TABLE);var r={onVisualizationObjectFilled:function(){t.detachVisualizationDataProvidedListener(r);e()},isEqualTo:function(e){return e===r}};t.attachVisualizationDataProvidedListener(r);n.fireRequestSent({infoObject:d.Name});u.processQueryExecution(c.SyncType.NON_BLOCKING)}).catch(function(e){if(!e.getMessages){throw e}n.fireRequestFailed({infoObject:d.Name})})};d.getRRITargets=function(e,t){var r=u.getRriTargetManager();if(!r){return Promise.resolve([])}r.setResultSetContext(e,t);var n,i;function a(e,t){n=e;i=t}r.processRriTargetResolution(c.SyncType.NON_BLOCKING,{onRriTargetResolution:function(e){if(e.hasErrors()){i(e.getMessages())}else{var t=sap.ushell?sap.ushell.Container.getService("URLParsing"):{isIntentUrl:g.constant(false)};n(g.filter(e.getData().getListFromImplementation().map(function(e){return e.getParameters().getMapFromImplementation()}),function(e){return t.isIntentUrl(e.URL)||!!e.URL.match(/#/)}).map(function(e){e.URL=e.URL.split("#")[1];return e}))}}});return new Promise(a)};d.synchronize=function(e){n.clearMessages();return d.getResultSet(e)};d.readHierarchy=function(e,t){var r=u.getValueHelpProvider();var n=y.getDimensionByName(d.Dimensions[e].TechName);var i=n.getInitialDrillLevel();n.setSelectorInitialDrillLevel(t);var a=new Promise(function(e,t){r.processValueHelp(n,c.SyncType.NON_BLOCKING,{onValuehelpExecuted:function(r){return r.hasErrors()?t(o.reject(r.getErrors())):e(r.getData())}},null,null)});return a.then(function(e){function t(e){if(!e){return{}}var r=e.getChildren();return{Name:e.getName(),Text:e.getDimensionMember().getText()||e.getDimensionMember(e.getDimension().getHierarchyDisplayKeyField()).getValue().getString(),hierNodes:r?g.map(r.getListFromImplementation(),t):null}}n.setSelectorInitialDrillLevel(i);var r=g.filter(e.getListFromImplementation(),function(e){return!e.getParentNode()});return r.length===1?t(r[0]):{Name:"$Root",Text:l.getText("ARTIFICIAL_ROOT"),hierNodes:g.map(r,t)}})};function C(){if(D){return D}D=new Promise(function(e,t){u.reInitVariablesAfterSubmit(c.SyncType.NON_BLOCKING,{onVariableProcessorExecuted:function(r){return r.hasErrors()?t(o.reject(r.getErrors())):e()}})});return D.then(function(){D=null})}d.setVariableValueDirect=function(e,t,r){var n=M(e);if(!n&&!n.isInputEnabled()){throw new Error("Variable is not input enabled")}y.stopEventing();b(function(){d.variableChanged=true;n.clear();if(t){var e=n.getMemberFilter?n.getMemberFilter():null;g.forEach(t,function(t){if(e){var r=e.addNewCartesianElement();var i=c.XValueAccess.createWithType(n.getValueType());i.parseString(t.Low);r.getLow().setValue(i.getValue());if(t.High){i=c.XValueAccess.createWithType(n.getValueType());i.parseString(t.High);r.getHigh().setValue(i.getValue())}r.setComparisonOperator(c.ComparisonOperator[t.Comparison]);var a=c.SetSign[t.IsExcluding]||c.SetSign[t.IsExcluding?"EXCLUDING":"INCLUDING"];r.setSetSign(a);var o=n.getDimension().getFirstFieldByType(c.PresentationType.KEY_NOT_COMPOUND);o=o||n.getDimension().getKeyField(c.PresentationType.KEY);if(o){r.setField(o)}}else{n.setValueByStringExt(t.Low,true)}},false,true)}y.resumeEventing();d.invalidate();R()},false,r)};d.setVariableValue=function(e,t){return new Promise(function(r){d.setVariableValueDirect(e,t);r()})};function A(e,t,r){var n=e.getDimensionMember();var i={Key:n.getName(),Text:n.getText()};if(t){var a=e.getChildren();if(a&&a.hasElements()){var o=s.arrayFromList(a).map(function(e){return A(e,t,r)}).filter(function(e){return e!==null});if(o.length!==0){i.Children=o}}}if(r&&!i.Children){if(i.Key!==r&&i.Text!==r){return null}}return i}d.searchVariableValues=function(e,t,r,n,i){if(n===undefined){n=true}if(i===undefined){i=true}var a=M(e);if(!a){return Promise.reject(new Error("Variable "+e+" is not known"))}var o=c.XList.create();var s=c.XList.create();var u=a.getDimension();var l=u.getTextField();if(l){s.add(l);if(n){o.add(l)}}if(u.getDisplayKeyField()&&i){o.add(u.getDisplayKeyField())}return C().then(function(){return new Promise(function(e,n){c.OlapUiValueHelpVariable.create(a).processSearch(t,o,s,20,true,c.OlapUiReadMode.BOOKED,{onValuehelpExecuted:function(i){if(i.hasErrors()){n(F(i))}else{var o=a.getVariableType();var s=o!=null&&o.isTypeOf(c.VariableType.HIERARCHY_NODE_VARIABLE)?a.getHierarchyName():null;var u=i.getData().getIterator();var l=[];while(u.hasNext()){var g=u.next();if(!s||g.getDisplayLevel()===0){var m=A(g,s,!r?t:null);if(m){l.push(m)}}}e(l)}}})})})};function F(e){return s.arrayFromList(e.getMessages()).map(function(e){var t=e.getSeverity().getName();if(t==="Info"){t="Information"}return{Text:e.getText(),Severity:t,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;o=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),",',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}})}d.getCellContext=function(e,t){var r=c.Ui5GridCellContextProvider.create(u);var i=c.RsCellIndexInfo.create();i.initialize(e,t);return o.syncActionToPromise(r.getCellContext,r,i).then(function(e){var t=e?e.convertToNative():null;return Promise.resolve(t)}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};d.createDocumentId=function(e,t){var r=u.getResultsetContainer().getDocumentIdManager();var i=c.RsCellIndexInfo.create();i.initialize(e,t);return o.syncActionToPromise(r.createCellDocumentId,r,i).then(function(e){S(e);return e.getData().getCellDocumentId()}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};d.getDocumentId=function(e,t){var r=u.getResultsetContainer().getDocumentIdManager();var i=c.RsCellIndexInfo.create();i.initialize(e,t);return o.syncActionToPromise(r.getCellDocumentId,r,i).then(function(e){S(e);return e.getData().getCellDocumentId()}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};d.deleteDocumentId=function(e,t){var r=u.getResultsetContainer().getDocumentIdManager();var i=c.RsCellIndexInfo.create();i.initialize(e,t);return o.syncActionToPromise(r.deleteCellDocumentId,r,i).then(function(e){S(e);return e.getData().isCellDocumentIdDeleted()}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};d._extractProperties=function(e){if(e){var t=e.getContent();var r=e.getTimeStamp();return{version:e.getVersion(),owner:e.getOwner(),timestamp:r?r.toString():null,content:t?t.getStringContentExt():null}}return null};d.createDocument=function(e,t){if(!e){throw new Error("Cannot create document without document ID")}try{return d.updateDocument(e,t)}catch(e){return Promise.reject(e)}};d.retrieveDocument=function(e,t){if(!e){throw new Error("Cannot retrieve document without document ID")}var r=d.getQueryManager().getQueryModel().getDocumentsInfo();if(r){var i=r.getSupportsDocuments();if(i&&i.getName()!=="None"){var a=r.getOrCreateDocumentsStoreService(false);a.addToFetchList(e);return o.syncActionToPromise(a.performRequests,a,[null,null]).then(function(){var r=[];if(!t){var n=a.getDocumentVersionsForFile(e);if(n){n.forEach(function(e){var t=d._extractProperties(e);if(t){r.push(t)}})}}else{var i=a.getDocumentVersionForFileAndVersion(e,t);var o=d._extractProperties(i);if(o){r.push(o)}}return Promise.resolve({documentId:e,versions:r})}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})}else{throw new Error("No document support. Unable to retrieve document.")}}};d.retrieveMultipleDocuments=function(e){if(!e){throw new Error("Cannot retrieve documents without document IDs array")}else if(!Array.isArray(e)){e=[e]}var t=d.getQueryManager().getQueryModel().getDocumentsInfo();if(t){var r=t.getSupportsDocuments();if(r&&r.getName()!=="None"){var i=t.getOrCreateDocumentsStoreService(false);e.forEach(function(e){i.addToFetchList(e)});return o.syncActionToPromise(i.performRequests,i,[null,null]).then(function(){var t=[];e.forEach(function(e){var r=[];var n=i.getDocumentVersionsForFile(e);if(n){n.forEach(function(e){var t=d._extractProperties(e);if(t){r.push(t)}})}t.push({documentId:e,versions:r})});return Promise.resolve(t)}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})}else{throw new Error("No document support. Unable to retrieve documents.")}}};d.updateDocument=function(e,t){if(!e){throw new Error("Cannot update document without document ID")}var r=d.getQueryManager().getQueryModel().getDocumentsInfo();if(r){var i=r.getSupportsDocuments();if(i&&i.getName()==="ReadWrite"){var a=r.getOrCreateDocumentsStoreService(false);a.addToPutList(e,c.XContent.createStringContent(c.ContentType.TEXT_PLAIN,t));a.addToFetchList(e);return o.syncActionToPromise(a.performRequests,a,[null,null]).then(function(){var r=a.getContentForFile(e);return Promise.resolve(r?r.getStringContentExt()===t:r===t)}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})}else{throw new Error("No 'ReadWrite' document support. Unable to update document.")}}};d.deleteDocument=function(e){if(!e){throw new Error("Cannot delete document without document ID")}var t=d.getQueryManager().getQueryModel().getDocumentsInfo();if(t){var r=t.getSupportsDocuments();if(r&&r.getName()==="ReadWrite"){var i=t.getOrCreateDocumentsStoreService(false);i.addToDeleteList(e);return o.syncActionToPromise(i.performRequests,i,[null,null]).then(function(){i.evictAllDocuments();return Promise.resolve(true)}).catch(function(e){n.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})}else{throw new Error("No 'ReadWrite' document support. Unable to delete document.")}}};d.supportsCapability=function(e){if(e===m.SupportsDocuments){var t=d.getQueryManager().getQueryModel().getDocumentsInfo();return!!t&&t.getSupportsDocuments()!==c.DocumentsSupportType.NONE}throw new Error("Unhandled capability : "+e)};d.getDocumentsSupportType=function(){var e=d.getQueryManager().getModelCapabilities().supportsCellDocumentId();if(e){var t=d.getQueryManager().getQueryModel().getDocumentsInfo();if(t){var r=t.getSupportsDocuments();if(r){return r.getName()}}}return c.DocumentsSupportType.NONE.getName()};d.deserialize=function(e){return Promise.resolve().then(function(){d.variableChanged=true;b(function(){y.deserializeExt(c.QModelFormat.INA_REPOSITORY,e)},true)})};d.serialize=function(){return y.serializeToContentExt(c.QModelFormat.INA_REPOSITORY,null).getString()};d.getResultRequest=function(){return u.getResultsetContainer().getResultSetManager().getDataRequest().convertToNative()};d.getQueryView=function(){return y.serializeToElement(c.QModelFormat.INA_DATA).convertToNative()};d.getQueryManager=function(){return u};d.callUpdateDimensionData=function(){O()};d.addCondition=function(e){return Promise.resolve(null).then(function(){var t=["COND_",Date.now()].join("");var r=y.getConditionManager().addNewCondition(t);r.setDescription(e.Description);r.setText(e.Description);var n=y.getDimensionByName(d.Dimensions[e.Structure1Key].TechName);var i=g.find(d.Dimensions[e.Structure1Key].Members,function(t){return e.measure1===t.Name}).TechName;if(!i){throw new Error("Invalid measure")}r.setDimensionEvaluationType(c.ConditionDimensionEvaluationType.ALL_IN_DRILL_DOWN);var a=r.createThreshold();var o=n.getStructureMember(i);if(!o){throw new Error("Invalid measure")}a.addMeasureCoordinate(o);a.setComparisonOperator(c.ConditionComparisonOperator[e.operator]);a.getLow().setString(e.Value);return d})};d.resetToDefault=function(){return Promise.resolve().then(function(){d.variableChanged=true;b(function(){u.getConvenienceCommands().resetToDefault()},true)})};d.logoff=function(){return new Promise(function(e){u.processShutdown(c.SyncType.NON_BLOCKING,{onQueryManagerRelease:function(t,r){c.XObjectExt.release(r);e()}})})};d.invalidate=function(){u.invalidateState()};d.isValid=function(){var e=u.getResultSetSyncState();return e!==c.SyncState.OUT_OF_SYNC&&e!==c.SyncState.IN_SYNC_WITH_ERROR};d.exportData=function(e){return new Promise(function(t,r){var n=y.getVisualizationManager().getOrCreateVisualisationDefinition(d.Name,c.ProtocolBindingType.SAC_TABLE_GRID,c.SemanticBindingType.TABLE);e.addMissingOverwriteTexts(n.getApplicationSettings());var i=c.DataExportHelper.create(this.getQueryManager(),n,r,t);if(e.getDisplayDialog()){i.showExportDialog(e.getType(),e.getFileName(),t)}else{var a=e.getFireflyConfig();i.exportData(a)}}.bind(this))};function R(){var e=g.map(s.arrayFromList(y.getVariables()),P).filter(function(e){return e.InputEnabled});d.Variables=g.reduce(e,function(e,t){e[t.Name]=t;return e},d.Variables);N=g.reduce(s.arrayFromIter(y.getVariables().getIterator()),function(e,t){e[t.getNameExternal()||t.getName()]=t.getName();return e},N)}function I(e,t,r){return{Key:e.getFieldValue(t.getKeyField()).getValue().getString(),Name:e.getFieldValue(t.getDisplayKeyField())?e.getFieldValue(r).getValue().getString():e.getName(),TechName:e.getName(),Description:e.getText(),SemanticObject:e.getSemanticObject()}}function O(){y.stopEventing();function e(e){var t=y.getSortingManager();if(t.supportsDimensionSorting(e,null)&&e.hasSorting()){return e.getResultSetSorting().getDirection().getName()}else{return null}}function t(e){var t=c.XValueType.STRING;var r=e.getFlatKeyField();if(r&&(r.getValueType().isNumber()||c.QFilterUtil.supportsDateRangeFilter(r))){t=r.getValueType()}return t.getName()}d.Dimensions=g.reduce(s.arrayFromList(y.getDimensions()),function(r,n){var i=n.getAxisType();if(i!=c.AxisType.COLUMNS&&i!=c.AxisType.ROWS&&i!=c.AxisType.FREE){return r}var a=n.getAxis();var o=n.isMeasureStructure();var u=n.isStructure();if(o){n.getExternalName=g.constant(d.MEASURE_DIM)}else if(u&&!o){n.getExternalName=g.constant(d.STRUCTURE_DIM)}if(!n.getExternalName()||n.getExternalName().trim()===""){n.getExternalName=n.getName}var l=!!n.getFilter();var m=l?V(n.getFilter()):[];r[n.getExternalName()]={Name:n.getExternalName(),TechName:n.getName(),Description:n.getText(),Axis:a.getName(),Type:n.getDimensionType().getName(),HierarchyActive:n.isHierarchyActive(),HasFilter:l,MemberFilter:m,SortDirection:e(n),Position:a.getDimensionIndex(n.getName()),LastPosition:a.getDimensionCount()-1,IsStructure:u,IsMeasureStructure:o,ValueType:t(n),SemanticObject:n.getSemanticObject()};if(u){var f=n.getDisplayKeyField();r[n.getExternalName()].Members=g.map(s.arrayFromList(n.getAllStructureMembers()),function(e){return I(e,n,f)})}return r},{});d.FreeAxis={};d.FreeAxis.Dimensions=g.sortBy(g.filter(d.Dimensions,{Axis:r.Free}),"Description");d.ColumnsAxis={};d.ColumnsAxis.Dimensions=g.sortBy(g.filter(d.Dimensions,{Axis:r.Columns}),"Position");d.RowsAxis={};d.RowsAxis.Dimensions=g.sortBy(g.filter(d.Dimensions,{Axis:r.Rows}),"Position");d.UsedDimensions=g.filter(g.concat(d.RowsAxis.Dimensions,d.ColumnsAxis.Dimensions),function(e){return!e.IsMeasureStructure});y.resumeEventing()}d._processVisualization=function(){var t=y.getVisualizationManager().getOrCreateVisualisationDefinition(d.Name,c.ProtocolBindingType.SAC_TABLE_GRID,c.SemanticBindingType.TABLE);var r=t.getActiveTableContainer();if(r!=null){r.processExecution(c.SyncType.NON_BLOCKING,{onVisualizationObjectFilled:function(e,t){if(e.isValid()){i(t)}else{S(e)}}})}else{n.fireRequestCompleted({infoObject:d.Name})}function i(t){var r=t.getVisualizationData();try{var i=c.Ui5GridExport.create(r,t)._export();d.Grid=i.convertToNative();n.checkUpdate()}catch(t){e.error("Grid Update failed",t)}n.fireRequestCompleted({infoObject:d.Name})}};function b(e,t,r){e();if(t){x()}else{O()}if(!r){u.invalidateState();u.getResultsetContainer(true);n.fireDataProviderUpdated({dataProviderName:d.Name})}}function x(){w();R();d.HasVariables=y.getVariableContainer().hasVariables();O();y.stopEventing();var e=y.getMeasureDimension();var t=e?e.getExternalName():null;var r=e?d.Dimensions[t]:null;var n=e&&r.Members||[];d.Measures=n;d.Conditions=g.map(y.getConditionManager()?s.arrayFromList(u.getQueryModel().getConditionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:l.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}});d.Exceptions=g.map(u.getQueryModel().getExceptionManager()?s.arrayFromList(u.getQueryModel().getExceptionManager()):[],function(e){return{Name:e.getName(),Description:e.getText(),StatusText:l.getText(e.isActive()?"ACTIVE":"INACTIVE"),active:e.isActive()}});y.resumeEventing()}function w(){var e={};d.QueryInfo=e;e.QueryTitle=y.getText()||y.getDataSource().getName();e.QueryName=y.getDataSource().getName();e.QueryType=y.getDataSource().getType().getName();e.SystemName=u.getSystemDescription().getName();if(y.getCubeInfo()){e.CreatedBy=y.getCubeInfo().getCreatedBy();e.CreatedOn=function(){var e=y.getCubeInfo().getCreatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.CreatedOnText=e.QueryDueDateText=t.getDateInstance({style:"medium"}).format(e.CreatedOn);e.QueryDueDate=function(){var e=y.getCubeInfo().getDueDate();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.QueryDueDateText=t.getDateInstance({style:"medium"}).format(e.QueryDueDate);if(y.getResultAlignment()){e.ResultAlignmentRows=y.getResultAlignment().getName();e.ResultAlignmentColumns=y.getResultAlignment().getName()}e.LastUpdated=function(){var e=y.getCubeInfo().getUpdatedOn();return e?new Date([e.getYear(),e.getMonthOfYear(),e.getDayOfMonth()].join("-")):new Date}();e.LastUpdatedBy=y.getCubeInfo().getUpdatedBy();e.LastUpdatedText=t.getDateInstance({style:"medium"}).format(e.LastUpdated)}}function L(e){var t=e.getDimension();var r=function(e,r){var n;if(e&&t){if(t.getTextField()&&r){n=e.getSupplementValueString(t.getTextField().getName())}if(!n&&t.getDisplayKeyField()){n=e.getSupplementValueString(t.getDisplayKeyField().getName())}if(!n){n=e.getString()}}return n};var n=e.getLow();var i=r(n,true);var a=e.getHigh();var o=r(a,true);var s=o?[i,o].join(" - "):i;var u=e.getSetSign()===c.SetSign.EXCLUDING;if(u){s="!( "+s+")"}var l={};if(e.getHierarchyName()){l.name=e.getHierarchyName();l.version=e.getHierarchyVersion();l.dueDate=e.getHierarchyDueDate();l.levelOffset=e.getLevelOffset();l.depth=e.getDepth()}return{Low:n.getString(),LowDisplayKey:r(n,false),LowText:i,High:a.getString(),HighDisplayKey:r(a,false),HighText:o,ComparisonOperator:e.getComparisonOperator().getName(),Text:s,IsExcluding:u,Hierarchy:l}}function V(e){return g.map(s.arrayFromList(e),L)}function P(e){return{Name:e.getNameExternal()||e.getName(),Dimension:e.getDimension&&e.getDimension()&&(e.getDimension().getExternalName()||e.getDimension().getName()),ValueType:e.getValueType().getName(),VariableType:e.getVariableType().getName(),Description:e.getText(),Mandatory:e.isMandatory(),SupportsMultipleValues:e.supportsMultipleValues(),TechName:e.getName(),InputEnabled:e.isInputEnabled(),Position:e.getVariableOrder(),SupportsValueHelp:e.supportsValueHelp&&e.supportsValueHelp(),DataProviderName:f,MemberFilter:e.getMemberFilter?V(e.getMemberFilter()):function(){var t=e.getValueByString();if(!e.getValue()||!t){return[]}return[{Low:t,ComparisionOperator:"EQUAL",Text:t,IsExcluding:false}]}()}}};function p(e){switch(e){case c.ComparisonOperator.EQUAL:return"EQ";case c.ComparisonOperator.LESS_THAN:return"LT";case c.ComparisonOperator.LESS_EQUAL:return"LE";case c.ComparisonOperator.GREATER_THAN:return"GT";case c.ComparisonOperator.GREATER_EQUAL:return"GE";case c.ComparisonOperator.BETWEEN:return"BT";case c.ComparisonOperator.NOT_EQUAL:return"NE";default:throw new Error("Invalid Operator: "+e.getName())}}f.prototype.hasVariable=function(){};f.prototype.setAxesLayout=function(){};f.prototype.openCellDialog=function(){};f.prototype.openAxisDialog=function(){};f.prototype.openCurrencyTranslationDialog=function(){};f.prototype.openDimDialog=function(){};f.prototype.openSelector=function(){};f.prototype.setFilter=function(){};f.prototype.removeFilter=function(){};f.prototype.sort=function(){};f.prototype.toRows=function(){};f.prototype.toColumns=function(){};f.prototype.drill=function(){};f.prototype.submitVariables=function(){};f.prototype.getResultSet=function(){};f.prototype.getRRITargets=function(){};f.prototype.addCondition=function(){};f.prototype.moveUp=function(){};f.prototype.moveDown=function(){};f.prototype.setDisplayHierarchy=function(){};f.prototype.getFilterOfDim=function(){};f.prototype.synchronize=function(){};f.prototype.getScalingFactor=function(){};f.prototype.setScalingFactor=function(){};f.prototype.getDecimalPlaces=function(){};f.prototype.setDecimalPlaces=function(){};f.prototype.getCellContext=function(){};f.prototype.createDocumentId=function(){};f.prototype.getDocumentId=function(){};f.prototype.deleteDocumentId=function(){};f.prototype.createDocument=function(){};f.prototype.retrieveDocument=function(){};f.prototype.retrieveMultipleDocuments=function(){};f.prototype.updateDocument=function(){};f.prototype.deleteDocument=function(){};f.prototype.supportsCapability=function(){};f.prototype.getDocumentsSupportType=function(){};return f});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/MultiDimModel",["sap/base/Log","sap/ui/model/Model","sap/ui/model/Context","sap/sac/df/types/ValueType","sap/sac/df/olap/SystemLandscape","sap/sac/df/utils/SyncActionHelper","sap/sac/df/utils/ListHelper","sap/sac/df/DFKernel","sap/sac/df/olap/OlapListBinding","sap/sac/df/olap/OlapListGridBinding","sap/sac/df/olap/OlapPropertyBinding","sap/sac/df/olap/MultiDimDataProvider","sap/sac/df/utils/ResourceBundle","sap/sac/df/fa/AdvancedStylingProvider","sap/sac/df/thirdparty/lodash","sap/sac/df/firefly/library"],function(e,a,r,t,n,i,o,s,c,u,d,l,f,v,p,m){"use strict";var g=new RegExp("/","g");var y=s.extend("sap.sac.df.olap.MultiDimModel",{constructor:function(a){this.stylingProvider=new v;var t=this;var o=a||{};o.systemLandscape=o.systemLandscape||n;o.systemType=o.systemType||"BW";o.masterSystem=o.masterSystem||"local"+o.systemType;s.apply(t,[o]);var y=null;var P={};var h={};var D=t.init(o).then(function(){m.UiLocalizationCenter.setExternalLocalizationProvider(f);m.UiLocalizationCenter.getCenter().setProductive(true)}).then(function(){y={ColLimit:50,RowLimit:150,DataProvider:{},VariableGroups:{},SemanticStyles:{},Messages:[]};t.checkUpdate()});t.setDataAccessLanguage=function(e){var a=t.getApplication().getSystemLandscape();var r=a.getSystemNames();for(var n=0;n<r.size();n++){a.getSystemDescription(r.get(n)).setLanguage(e)}};t.getLimit=function(){return{RowLimit:y.RowLimit,ColLimit:y.ColLimit}};t.addVariableGroup=function(e,a,r){y.VariableGroups[e]={Name:e,Rule:a,MergedVariable:null};Object.assign(y.VariableGroups[e],r);N(e)};t.addDataProvider=function(e,a,r,n,o,s){var c=r||this.masterSystemName;var u=y.DataProvider[e];y.DataProvider[e]=null;return b(c).then(function(){if(!u)return;return u.logoff()}).then(function(){var e=m.QueryServiceConfig.createWithDataSourceName(t.getApplication(),null,a);e.setMode(m.QueryManagerMode.DEFAULT);e.setProviderType(m.ProviderType.ANALYTICS);e.setSupportsDimensionLazyLoad(true);var r=["$[][][MY_DATA_AREA]/",s||"query",":","[",o?o:"","]","[",o||n?n:"","]","[",a,"]"].join("");e.setDataSourceByName(r);e.setSystemName(c);return i.syncActionToPromise(e.processQueryManagerCreation,e,[])}).then(function(a){y.DataProvider[e]=new l(t,t.getApplication(),a,e);y.DataProvider[e].SystemName=c;N();t.fireEvent("queryAdded",{dataProviderName:e});t.fireEvent("dataProviderAdded",{dataProviderName:e});return y.DataProvider[e]}).catch(function(e){t.addMessages(e.getMessages?e.getMessages():[]);return Promise.reject(e)})};t.fireDataProviderUpdated=function(e){t.fireEvent("dataProviderUpdated",e);return t};t.removeDataProvider=function(e){var a=y.DataProvider[e];y.DataProvider[e]=null;if(a){return a.logoff().then(function(){N();t.fireEvent("dataProviderRemoved",{dataProviderName:e})}).catch(function(e){return Promise.resolve(e)})}else{return Promise.resolve()}};t.setVariableGroupValue=function(e,a){var r=y.VariableGroups[e];var n=r.MergedVariable.DataProviderName;return y.DataProvider[n].setVariableValue(r.MergedVariable.Name,a).then(function(){N(e);return t.checkUpdate()})};t.deserialize=function(e){y.DataProvider=y.DataProvider||{};y.SemanticStyles=e.SemanticStyles||[];return D.then(function(){var a=[];p.forEach(e.DataProvider,function(e,r){var n=y.DataProvider[r];if(!n){var o=m.QueryServiceConfig.createByDefinition(t.getApplication(),null,m.XContent.createStringContent(m.QModelFormat.INA_REPOSITORY,e));a.push(i.syncActionToPromise(o.processQueryManagerCreation,o,[]).then(function(e){y.DataProvider[r]=new l(t,t.getApplication(),e,r)}))}else{a.push(n.deserialize(e))}});return Promise.all(a)}).then(function(){N();return t.checkUpdate()})};t.serialize=function(){return{DataProvider:p.reduce(y.DataProvider,function(e,a){e[a.Name]=a.serialize();return e},{}),SemanticStyles:t.getSemanticStyles()}};t.openVariableSelector=function(e){return Promise.resolve(null).then(function(){var a=y.VariableGroups[e];if(!a){throw new Error("Invalid VariableGroup: "+e)}if(!a.MergedVariable){return false}var r=y.DataProvider[a.MergedVariable.DataProviderName];return r.openVariableSelector(a.MergedVariable.Name).then(function(a){if(!a){return false}N(e);t.checkUpdate();return true})})};t.searchVariableValues=function(e,a,r){return Promise.resolve(null).then(function(){var t=y.VariableGroups[e];if(!t){throw new Error("Invalid VariableGroup: "+e)}if(!t.MergedVariable){return false}var n=y.DataProvider[t.MergedVariable.DataProviderName];return n.searchVariableValues(t.MergedVariable.Name,a,r)})};t.logoff=function(){return Promise.all(p.invokeMap(y.DataProvider,"logoff"))};t.synchronize=function(e){var a=e?p.filter(y.DataProvider,function(a){return e.includes(a.Name)}):y.DataProvider;var r=p.invokeMap(a,"getResultSet");return Promise.all(r).then(function(){return t.checkUpdate()})};t.resetModel=function(){var e=[];p.forEach(y.DataProvider,function(a){e.push(a.resetToDefault())});return Promise.all(e).then(function(){N()})};t.getDataProvider=function(e){return y.DataProvider[e]};t.clearMessages=function(e){y.Messages=[];return e?t.checkUpdate():t};t.propagateVariableGroupValues=function(e){var a=[];var r=y.DataProvider[e];p.forEach(y.VariableGroups,function(a){var t=h[a.Name];p.forEach(t,function(t){if(t.DataProviderName===e&&!p.isEqual(a.MergedVariable.MemberFilter,t.MemberFilter)){r.setVariableValueDirect(t.Name,a.MergedVariable.MemberFilter,true)}})});return Promise.all(a)};t.getProperty=function(e,a){return S(e,a)};t.setProperty=function(a,r){var n=false;var i=p.filter(a.split("/"),p.identity);try{var o=i.pop();var s=i.join(".");var c=p.get(y,s);if(o!=="vizProperties"||r){if(c){c[o]=r}else{e.warning("Failed to set "+r+" on: "+a)}}t.checkUpdate();n=true}catch(a){e.error(a)}return n};t.setSemanticStyles=function(e){y.SemanticStyles=p.clone(e)};t.getSemanticStyles=function(){return y.SemanticStyles};t.addMessages=function(e){y.Messages=p.map(p.groupBy(p.concat(y.Messages,e),"Text"),function(e){return e[0]});return t.checkUpdate()};t.bindProperty=function(e,a,r){var n=new d(t,e,a,r);P[n.getId()]=n;return n};t.bindList=function(e,a,r,n,i){if(e.match(/^(\/)?dataProvider\/(.)*\/Grid\/renderGrid/)){return new u(t,e,a,r,n,i)}else{return new c(t,e,a,r,n,i)}};function S(e,a){var t=a instanceof r?S(a.getPath()):y;if(e){var n=e.replace(g,".");if(n.startsWith(".")){n=n.replace(".","")}return p.get(t,n)}else{return t}}t.isList=function(e,a){return Array.isArray(S(t.resolve(e,a)))};t.checkUpdate=function(e){p.forEach(P,function(a,r){if(a){a.checkUpdate(e)}else{delete P[r]}},false);return t};t.checkMessages=function(){p.forEach(P,function(e){return e.checkDataState?e.checkDataState():null})};t.addBinding=function(e){P[e.getId()]=e;return t};t.removeBinding=function(e){delete P[e.getId()]};var M;function b(e,a){return D.then(function(){if(M){return M}if(e){return null}var r=m.QDataSource.create();r.setDataArea(a||"MY_DATA_AREA");var n=m.OlapApiModule.SERVICE_TYPE_PLANNING.createServiceConfig(t.getApplication());n.setDataSource(r);n.setSystemName(e||o.masterSystem);return i.syncActionToPromise(n.processServiceCreation,n,[]).then(function(e){M=e.getData();return M})})}t.getPlanningService=function(){return M};var V=D.then(function(){if(o&&o.SemanticStyles){t.setSemanticStyles(o.SemanticStyles)}var e=[];p.forEach(o.DataProvider||[],function(a,r){var n=t.addDataProvider(r,a.dataSourceName,a.systemName,a.packageName,a.schemaName,a.dataSourceType);e.push(a.synchronize?n.then(function(){return t.getDataProvider(r).synchronize()}):n)});return Promise.all(e)});t.dataLoaded=p.constant(V);t.loaded=t.dataLoaded;t.metadataLoaded=t.dataLoaded;t.annotationsLoaded=t.dataLoaded;t.getMetaModel=p.constant(t);t.attachMetadataFailed=p.constant(null);t.fireMetadataFailed=p.constant(null);t.getODataEntityContainer=p.constant(null);t.getODataEntityType=p.constant(t);t.createBindingContext=p.constant(null);t.getODataEntitySet=p.constant(t);t.attachRequestCompleted(function(e){var a=e.mParameters?e.mParameters.infoObject:undefined;var r=y.DataProvider[a];if(r){r.callUpdateDimensionData();t.checkUpdate()}});function N(e){if(!e){p.forEach(y.VariableGroups,function(e){N(e.Name)})}else{h[e]=[];p.forEach(y.DataProvider,function(r){if(r){p.forEach(r.Variables,function(t){var n=y.VariableGroups[e];if(n){a(n,t,r.Name)}else{console.error("Group "+e+" not found")}})}})}function a(e,a,r){if(e.Rule(a,r)){if(e.MergedVariable&&e.MergedVariable.DataProviderName!==r){if(e.MergedVariable.type!==a.type){throw new Error("Could not add variable '"+a.Name+"' for DataProvider='"+r+"'."+" The type="+a.type+" doesn't match type="+e.MergedVariable.type+" of previously added variables ")}}else{e.MergedVariable=a}y.DataProvider[r].invalidate();h[e.Name].push(a)}}}},getStylingProvider:function(){return this.stylingProvider}});return y});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapListBinding",["sap/base/Log","jquery.sap.global","sap/ui/model/ChangeReason","sap/ui/model/ListBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(t,jQuery,n,e,r,i){"use strict";var a=e.extend("sap.sac.df.olap.OlapListBinding",{constructor:function(a,o,u,s,l,c){var p=this;var f=null;var d=[];var g=null;p.oContext=u;var h=null;var v=null;var C=null;var y=null;var x=null;e.apply(p,[a,o,p.oContext,s,l,c]);function w(n,e){var r=n;var u=e;if(!r){r=0}if(!u){u=f}var s=Math.min(r+u,d.length);var l=a.resolve(o,p.oContext);if(l&&!l.endsWith("/")){l+="/"}return i.map(i.range(r,s),function(n){try{return a.getContext(l+d[n])}catch(n){t.error(n)}})}p.setContext=function(t){if(p.oContext!==t){p.oContext=t;if(p.isRelative()){p.update();p._fireChange({reason:n.Context})}}};p.getLength=function(){return f};function L(){return d.length}p.updateIndices=function(){d=i.map(g,function(t,n){return n})};p.sort=function(){throw new Error("OlapListBinding does not support client side sort")};p.applySort=function(){throw new Error("OlapListBinding does not support client side sort")};p.filter=function(){throw new Error("OlapListBinding does not support client side filter")};p.applyFilter=function(){throw new Error("OlapListBinding does not support client side filter")};p.getDistinctValues=function(t){var n={};return i.reduce(g,function(e,r){var i=a.getProperty(t,r);if(!n[i]){n[i]=true;e.push(i)}return e},[])};p.getId=i.constant(r());p.getContexts=function(n,e){var r=e;var a=n;h=a;C=r;if(!a){a=0}if(!r){r=f}var o=w(a,r);var u=null;try{u=i.map(o,function(n){try{return p.getContextData(n)}catch(n){t.error(n)}});if(y&&a<v){delete o.diff}v=a+r;x=o.slice(0);y=u.slice(0)}catch(n){t.warning("OlapListBinding: Cyclic dependency");t.error(n);throw new Error("Cyclic dependeny")}return o};p.getCurrentContexts=function(){return x||[]};p.updateIndices=function(){d=i.map(g,function(t,n){return n})};p.update=function(){var t=a.getProperty(o,p.oContext);if(t){g=jQuery.extend(true,Array.isArray(t)?[]:{},t);p.updateIndices();f=L()}else{g=[];d=[];f=0}};p.checkUpdate=function(t){var e=null;if(p.bSuspended&&!p.bIgnoreSuspend&&!t){return}var r=false;e=a.getProperty(p.sPath,p.oContext);if(!(e&&e.length===0&&!g)&&(e&&(!g||g.length!==e.length))){r=true}if(!jQuery.sap.equal(g,e)){p.update()}var o=w(h,C);if(x){r=x.length!==o.length?true:i.some(y,function(t,n){return p.getContextData(o[n])!==t})}else{r=o&&o.length}if(r||t){p._fireChange({reason:n.Change})}};e.apply(p,arguments)}});return a});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapListGridBinding",["jquery.sap.global","sap/ui/model/ChangeReason","sap/ui/model/Context","sap/ui/model/ListBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(jQuery,t,n,e,r,i){"use strict";function o(t){return t instanceof n||typeof t==="undefined"}var a=e.extend("sap.sac.df.olap.OlapListGridBinding",{constructor:function(n,a,s,p,u,d){var f=this;var c=s;var l=[];var g=[];e.apply(f,[n,a,c,p,u,d]);function h(){var t=n.resolve(a,c);var e=n.getProperty(t)||[];if(t&&!jQuery.sap.endsWith(t,"/")){t+="/"}var r=n.getLimit();return i.filter(i.range(e.length),function(t){return e[t].x<=r.ColLimit&&e[t].y<=r.RowLimit}).map(function(e){return n.getContext(t+e)})}f.setContext=function(n){if(!o(n)){throw new Error("Context expected ")}if(c!==n){c=n;if(f.isRelative()){f.update();f._fireChange({reason:t.Context})}}};f.getLength=function(){return h().length};f.sort=function(){throw new Error("OlapListBinding does not support client side sort")};f.applySort=function(){throw new Error("OlapListBinding does not support client side sort")};f.filter=function(){throw new Error("OlapListBinding does not support client side filter")};f.applyFilter=function(){throw new Error("OlapListBinding does not support client side filter")};f.getDistinctValues=function(){throw new Error("Not supported")};f.getId=i.constant(r());f.getContexts=function(){return h()};f.getCurrentContexts=function(){return g||[]};f.update=function(){l=n.getProperty(a,c);g=h()};f.checkUpdate=function(){var e=n.getProperty(f.sPath,f.oContext);var r=h();var o=!(e===l&&g===r);if(o){i.forEach(r,function(t){t.setUpdated(true)});f.update()}if(o){f._fireChange({reason:t.Change})}};e.apply(f,arguments)}});return a});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/OlapPropertyBinding",["sap/base/util/deepEqual","sap/ui/model/ChangeReason","sap/ui/model/PropertyBinding","sap/sac/df/olap/calculateId","sap/sac/df/thirdparty/lodash"],function(e,a,t,n,r){"use strict";var s=t.extend("sap.sac.df.olap.OlapPropertyBinding",{constructor:function(s,o,p,c){var i=this;var u=p;var l=null;t.apply(i,[s,o,u,c]);function d(){var e=s.resolve(o,u);return e?s.getProperty(e):null}i.getValue=function(){return l};i.setValue=function(e){var a=s.resolve(o,u);s.setProperty(a,e)};i.setContext=function(e){if(u!==e){sap.ui.getCore().getMessageManager().removeMessages(i.getDataState().getControlMessages(),true);u=e;i.checkUpdate()}else{i.checkUpdate()}};i.getId=r.constant(n());i.checkUpdate=function(t){var n=d();if(t||!e(n,l)){l=n;i.getDataState().setValue(l);i.checkDataState();i._fireChange({reason:a.Change})}}}});return s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/SystemLandscape",[],function(){return{Systems:[{systemName:"localBW",systemType:"BW",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",port:window.location.port,host:window.location.hostname,authentication:"NONE"},{systemName:"localHANA",systemType:"HANA",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,authentication:"NONE"},{systemName:"localDWC",systemType:"DWC",protocol:window.location.protocol==="http:"?"HTTP":"HTTPS",host:window.location.hostname,port:window.location.port,path:"lcs/dwc",authentication:"NONE"}]}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/olap/calculateId",[],function(){"use strict";var a=0;return function(){return++a}});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/Axis",[],function(){var s={Rows:"Rows",Columns:"Columns",Free:"Free",Repository:"Repository"};return s});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/CellValueType",[],function(){"use strict";var e={Data:"Data",Key:"MemberKey",Text:"MemberText"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ComparisonOperator",[],function(){var E={AGGREGATED:"AGGREGATED",ALL:"ALL",BETWEEN:"BETWEEN",BETWEEN_EXCLUDING:"BETWEEN_EXCLUDING",EQUAL:"EQUAL",FUZZY:"FUZZY",GREATER_EQUAL:"GREATER_EQUAL",GREATER_THAN:"GREATER_THAN",IN:"IN",IS_NULL:"IS_NULL",LESS_EQUAL:"LESS_EQUAL",LESS_THAN:"LESS_THAN",LIKE:"LIKE",MATCH:"MATCH","NON-AGGREGATED":"NON-AGGREGATED",NOT_BETWEEN:"NOT_BETWEEN",NOT_BETWEEN_EXCLUDING:"NOT_BETWEEN_EXCLUDING",NOT_EQUAL:"NOT_EQUAL",NOT_MATCH:"NOT_MATCH",SEARCH:"SEARCH",undefined:"UNDEFINED"};return E});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DataSourceType",[],function(){var e={query:"query",view:"view",inamodel:"inamodel",infoprovider:"infoprovider",cdsprojectionview:"cdsprojectionview"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DimensionType",[],function(){var n={AbstractStructure:"AbstractStructure",AccountDimension:"AccountDimension",AttributeDimension:"AttributeDimension",CalculatedDimension:"CalculatedDimension",ContainerDimension:"ContainerDimension",CurrencyDimension:"CurrencyDimension",DateDimension:"DateDimension",Dimension:"Dimension",DimensionIncomplete:"DimensionIncomplete",FamCalculatedDimension:"FamCalculatedDimension",FormulaCalculatedDimension:"FormulaCalculatedDimension",GisDimension:"GisDimension",HierarchyNameDimension:"HierarchyNameDimension",HierarchyVersionDimension:"HierarchyVersionDimension",MbfCalculatedDimension:"MbfCalculatedDimension",MeasureStructure:"MeasureStructure",PresentationDimension:"PresentationDimension",SearchDimension:"SearchDimension",SearchResultDimension:"SearchResultDimension",SecondaryStructure:"SecondaryStructure",SuggestAttributeDimension:"SuggestAttributeDimension",SuggestScopeDimension:"SuggestScopeDimension",SuggestTermDimension:"SuggestTermDimension",TimeDimension:"TimeDimension",UnitDimension:"UnitDimension",VersionDimension:"VersionDimension"};return n});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/DisplayType",[],function(){var e={Key:"Key",Text:"Text",KeyText:"KeyText",TextKey:"TextKey",None:"None"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/MemberType",[],function(){var e={AbstractMember:"AbstractMember",BasicMeasure:"BasicMeasure",ConditionOthersResult:"ConditionOthersResult",ConditionResult:"ConditionResult",CurrencyMeasure:"CurrencyMeasure",DrillPathElement:"DrillPathElement",ExceptionAggregation:"ExceptionAggregation",FieldValue:"FieldValue",FormulaMember:"FormulaMember",HierarchyNode:"HierarchyNode",LiteralMember:"LiteralMember",Measure:"Measure",Member:"Member",MembersExit:"MembersExit",RestrictedMeasure:"RestrictedMeasure",ResultMember:"ResultMember",SelectValue:"SelectValue",ServerBasedFormula:"ServerBasedFormula",SingleMemberExit:"SingleMemberExit",TupleElement:"TupleElement",TupleElementAsMember:"TupleElementAsMember",TupleElementAsNode:"TupleElementAsNode",ValueHelpElement:"ValueHelpElement",ValueHelpLeaf:"ValueHelpLeaf",ValueHelpNode:"ValueHelpNode",ValueHelpRootNode:"ValueHelpRootNode",ValueHelpSplitterNode:"ValueHelpSplitterNode",ValueHelpWindowSplitterNode:"ValueHelpWindowSplitterNode",Variance:"Variance"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ProtocolType",[],function(){var T={HTTP:"HTTP",HTTPS:"HTTPS",WASABI:"WASABI"};return T});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SemanticRole",[],function(){var e={Actual:"Actual",Previous:"Previous",Budget:"Budget",Forecast:"Forecast"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SortDirection",[],function(){var N={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING",NONE:"NONE"};return N});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SortType",[],function(){var e={Filter:"FILTER",MemberKey:"MEMBER_KEY",MemberText:"MEMBER_TEXT",unset:"unset"};return e});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/SystemType",[],function(){var A={BW:"BW",ABAP_MDS:"ABAP_MDS",DWC:"DWC",HANA:"HANA"};return A});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/ValueType",[],function(){var e={Amount:"Amount",Array:"Array",Boolean:"Boolean",ByteArray:"ByteArray",CalendarDate:"CalendarDate",CalendarDay:"CalendarDay",Char:"Char",Cuky:"Cuky",CurrentMember:"CurrentMember",Date:"Date",DateTime:"DateTime",DecimalFloat:"DecimalFloat",DimensionMember:"DimensionMember",Double:"Double",EnumConstant:"EnumConstant",Integer:"Integer",KeyValue:"KeyValue",Language:"Language",LineString:"LineString",List:"List",Long:"Long",LowerCaseString:"LowerCaseString",MultiLineString:"MultiLineString",MultiPoint:"MultiPoint",MultiPolygon:"MultiPolygon",Number:"Number",Numc:"Numc",Object:"Object",OptionList:"OptionList",OptionValue:"OptionValue",Percent:"Percent",Point:"Point",Polygon:"Polygon",Price:"Price",Properties:"Properties",Quantity:"Quantity",String:"String",Structure:"Structure",StructureList:"StructureList",Time:"Time",TimeSpan:"TimeSpan",UiColor:"UiColor",UiConstant:"UiConstant",UiControl:"UiControl",UiPosition:"UiPosition",UiSize:"UiSize",UiUnitValue:"UiUnitValue",Unit:"Unit",Unsupported:"Unsupported",UpperCaseString:"UpperCaseString",Uri:"Uri",Variable:"Variable"};return e});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/CSVConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.CSVConfig",{metadata:{properties:{delimiter:{type:"string",defaultValue:","}}},getFireflyConfig:function(e){var r=t.CsvConfig.createDefault(t.PrFactory.createStructure(),e);r.setDelimiter(this.getDelimiter());return r}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/DataExportConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library","sap/sac/df/types/export/OverwriteTexts","sap/sac/df/types/export/XLSConfig","sap/sac/df/types/export/CSVConfig","sap/sac/df/types/export/PDFConfig"],function(e,t,i,s,a,p){"use strict";return e.extend("sap.sac.df.types.export.DataExportConfig",{metadata:{properties:{type:{type:"string",defaultValue:"XLSX"},fileName:{type:"string",defaultValue:"Untitled"},expandHierarchy:{type:"boolean",defaultValue:false},enablePdfAppendix:{type:"boolean",defaultValue:false},displayDialog:{type:"boolean",defaultValue:false},overwriteTexts:{type:"object",defaultValue:{}},XLS:{type:"sap.sac.df.types.export.XLSConfig"},CSV:{type:"sap.sac.df.types.export.CSVConfig"},PDF:{type:"sap.sac.df.types.export.PDFConfig"}}},init:function(){this.setXLS(new s);this.setCSV(new a);this.setPDF(new p);this.setOverwriteTexts(i.getDefault())},putOverwriteText:function(e,t){this.getOverwriteTexts().put(e,t)},addMissingOverwriteTexts:function(e){var t=this.getOverwriteTexts().getKeysAsIteratorOfString();while(t.hasNext()){var i=t.next();if(!e.getOverwriteTexts().containsKey(i)){e.putOverwriteText(i,this.getOverwriteTexts().getByKey(i))}}},getFireflyConfig:function(){var e=null;if(this.getType()===t.BaseExportConfig.XLSX_EXPORT){e=this.getXLS().getFireflyConfig(this.getFileName())}else if(this.getType()===t.BaseExportConfig.CSV_EXPORT){e=this.getCSV().getFireflyConfig(this.getFileName())}else if(this.getType()===t.BaseExportConfig.PDF_EXPORT){e=this.getPDF().getFireflyConfig(this.getFileName())}e.setExpandHierarchy(this.getExpandHierarchy());e.setEnablePdfAppendix(this.getEnablePdfAppendix());return e}})});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/OverwriteTexts",["sap/sac/df/firefly/library","sap/sac/df/utils/ResourceBundle"],function(E,_){"use strict";var I={MEASURE_DIMENSION:E.OlapUiCommonI18n.COMMON_MEASURES,STRUCTURE_DIMENSION:E.OlapUiCommonI18n.COMMON_STRUCTURE,EXCEPTION_ERROR:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_ERROR,EXCEPTION_NO_VALUE:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_NO_VALUE,EXCEPTION_NULL:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_NULL,EXCEPTION_OTHER:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_OTHER,EXCEPTION_UNDEFINED:E.AuGdsQueryBuilderI18n.VALUE_EXCEPTION_UNDEFINED,SCALE_LONG_BILLION:E.AuGdsQbNumberFormattingI18n.STYLE_SCALE_LONG_BILLION,SCALE_LONG_MILLION:E.AuGdsQbNumberFormattingI18n.STYLE_SCALE_LONG_MILLION,SCALE_LONG_THOUSAND:E.AuGdsQbNumberFormattingI18n.STYLE_SCALE_LONG_THOUSAND,SCALE_SHORT_BILLION:E.AuGdsQbNumberFormattingI18n.STYLE_SCALE_SHORT_BILLION,SCALE_SHORT_MILLION:E.AuGdsQbNumberFormattingI18n.STYLE_SCALE_SHORT_MILLION,SCALE_SHORT_THOUSAND:E.AuGdsQbNumberFormattingI18n.STYLE_SCALE_SHORT_THOUSAND,TOTAL_INCLUDING_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS_INCLUDING,TOTAL_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS,TOTAL_REMAINING_MEMBER:E.AuGdsQueryBuilderI18n.TOTALS_REMAINING,OVERWRITE_APPENDIX_CREATED_BY:E.DataExportHelper.OVERWRITE_APPENDIX_CREATED_BY,OVERWRITE_APPENDIX_CREATED_ON_TIMESTAMP:E.DataExportHelper.OVERWRITE_APPENDIX_CREATED_ON_TIMESTAMP,getDefault:function(){var I=E.XHashMapOfStringByString.create();var O=Object.keys(this);var N=this;O.forEach(function(E){if(typeof N[E]!=="function"){var O=_.getText(N[E],undefined,true);if(O){I.put(N[E],O)}}});return I}};return I});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/PDFConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.PDFConfig",{metadata:{properties:{pageSize:{type:"string",defaultValue:"a4"},fontSize:{type:"number",defaultValue:6},orientation:{type:"string",defaultValue:"landscape"},builtInFont:{type:"string",defaultValue:"Helvetica"},autoSize:{type:"boolean",defaultValue:true},freezeRows:{type:"number"},numberLocation:{type:"string"},enablePdfAppendix:{type:"boolean",defaultValue:false}}},getFireflyConfig:function(e){var i=t.PdfConfig.createDefault(t.PrFactory.createStructure(),e);i.setPageSize(this.getPageSize());i.setFontSize(this.getFontSize());i.setOrientation(this.getOrientation());i.setBuiltInFont(this.getBuiltInFont());i.setAutoSize(this.getAutoSize());i.setFreezeRows(this.getFreezeRows());i.setNumberLocation(this.getNumberLocation());i.setEnablePdfAppendix(this.getEnablePdfAppendix());return i},PAGE_SIZE_LEGAL:t.PdfConfig.PAGE_SIZE_LEGAL,PAGE_SIZE_LETTER:t.PdfConfig.PAGE_SIZE_LETTER,PAGE_SIZE_A5:t.PdfConfig.PAGE_SIZE_A5,PAGE_SIZE_A4:t.PdfConfig.PAGE_SIZE_A4,PAGE_SIZE_A3:t.PdfConfig.PAGE_SIZE_A3,PAGE_SIZE_A2:t.PdfConfig.PAGE_SIZE_A2,PDF_ORIENT_LANDSCAPE:t.PdfConfig.PDF_ORIENT_LANDSCAPE,PDF_ORIENT_PORTRAIT:t.PdfConfig.PDF_ORIENT_PORTRAIT,PAGE_NUMBER_LOC_FOOTER:t.PdfConfig.PAGE_NUMBER_LOC_FOOTER,PAGE_NUMBER_LOC_HEADER:t.PdfConfig.PAGE_NUMBER_LOC_HEADER,PAGE_NUMBER_LOC_NONE:t.PdfConfig.PAGE_NUMBER_LOC_NONE})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/types/export/XLSConfig",["sap/ui/base/ManagedObject","sap/sac/df/firefly/library"],function(e,t){"use strict";return e.extend("sap.sac.df.types.export.XLSConfig",{metadata:{properties:{autoFilterActive:{type:"boolean",defaultValue:true}}},getFireflyConfig:function(e){var a=t.XlsConfig.createDefault(t.PrFactory.createStructure(),e);a.setAutoFilterActive(this.getAutoFilterActive());return a}})});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ApplicationHelper",["sap/base/Log","sap/sac/df/thirdparty/lodash"],function(e,t){"use strict";e.info("ApplicationHelper loaded");function s(){function e(e,t,s,i){var a=e.createSystem();a.setName(i.systemName);a.setTimeout(1e4);a.setAuthenticationType(sap.firefly.AuthenticationType[i.authentication||"NONE"]);var r=sap.firefly.SystemType[i.systemType];a.setSystemType(r);a.setProtocolType(sap.firefly.ProtocolType[i.protocol]);a.setHost(i.host);a.setPort(i.port);if(s>0){a.setKeepAliveIntervalMs(s*1e3);a.setKeepAliveDelayMs(s*2*1e3)}e.setSystemByDescription(a);if(r===sap.firefly.SystemType.BW){a.setSessionCarrierType(sap.firefly.SessionCarrierType.SAP_CONTEXT_ID_HEADER);t.getConnectionPool().setMaximumSharedConnections(i.systemName,10)}}this.createApplication=function(s,i,a){var r=new Promise(function(e,t){sap.firefly.ApplicationFactory.createApplicationForDragonfly(function(s){if(s.hasErrors()){t(s.getErrors())}else{e(s.getData())}})});return r.then(function(r){var n=r.getProcess().getKernel().getSubSystemContainer(sap.firefly.SubSystemType.SYSTEM_LANDSCAPE);var o=n.getMainApi();r.setSystemLandscape(o);t.forEach(s,e.bind(null,o,r,a));o.setMasterSystemName(i);return r})}}return new s});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ErrorHandler",["sap/base/Log","sap/m/MessageBox"],function(e,n){function r(){var r=this;r.handleWithPopUp=function(r,s){e.error(r);e.error(r.stack);var o,a;function i(e,n){o=e;a=n}n.error(r.message,{details:r.stack,actions:[n.Action.CLOSE],onClose:function(){if(s){a(r)}else{o(null)}}});return new Promise(i)}}return new r});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/FpaIcons",["sap/ui/core/IconPool"],function(a){a.addIcon("menu","fpa","fpa-icons","e600",true);a.addIcon("menu-options","fpa","fpa-icons","e601",true);a.addIcon("notifications","fpa","fpa-icons","e602",true);a.addIcon("settings","fpa","fpa-icons","e603",true);a.addIcon("preferences","fpa","fpa-icons","e604",true);a.addIcon("preferences-options","fpa","fpa-icons","e605",true);a.addIcon("reload","fpa","fpa-icons","e606",true);a.addIcon("search","fpa","fpa-icons","e607",true);a.addIcon("fullscreen","fpa","fpa-icons","e608",true);a.addIcon("new","fpa","fpa-icons","e609",true);a.addIcon("new-options","fpa","fpa-icons","e60a",true);a.addIcon("delete","fpa","fpa-icons","e60b",true);a.addIcon("delete-options","fpa","fpa-icons","e60c",true);a.addIcon("copy","fpa","fpa-icons","e60d",true);a.addIcon("copy-options","fpa","fpa-icons","e60e",true);a.addIcon("edit","fpa","fpa-icons","e60f",true);a.addIcon("folder","fpa","fpa-icons","e610",true);a.addIcon("print","fpa","fpa-icons","e611",true);a.addIcon("save","fpa","fpa-icons","e612",true);a.addIcon("save-options","fpa","fpa-icons","e613",true);a.addIcon("completed","fpa","fpa-icons","e614",true);a.addIcon("cancel","fpa","fpa-icons","e615",true);a.addIcon("undo","fpa","fpa-icons","e616",true);a.addIcon("redo","fpa","fpa-icons","e617",true);a.addIcon("import","fpa","fpa-icons","e618",true);a.addIcon("export","fpa","fpa-icons","e619",true);a.addIcon("calendar","fpa","fpa-icons","e61a",true);a.addIcon("pin","fpa","fpa-icons","e61b",true);a.addIcon("pin-options","fpa","fpa-icons","e61c",true);a.addIcon("attachment","fpa","fpa-icons","e61d",true);a.addIcon("attachment-options","fpa","fpa-icons","e61e",true);a.addIcon("share","fpa","fpa-icons","e61f",true);a.addIcon("publish","fpa","fpa-icons","e620",true);a.addIcon("security","fpa","fpa-icons","e621",true);a.addIcon("public","fpa","fpa-icons","e622",true);a.addIcon("photo","fpa","fpa-icons","e623",true);a.addIcon("up","fpa","fpa-icons","e624",true);a.addIcon("down","fpa","fpa-icons","e625",true);a.addIcon("previous","fpa","fpa-icons","e626",true);a.addIcon("next","fpa","fpa-icons","e627",true);a.addIcon("ascending","fpa","fpa-icons","e628",true);a.addIcon("descending","fpa","fpa-icons","e629",true);a.addIcon("truncation","fpa","fpa-icons","e62a",true);a.addIcon("truncation-options","fpa","fpa-icons","e62b",true);a.addIcon("star-filled","fpa","fpa-icons","e62c",true);a.addIcon("upload","fpa","fpa-icons","e62d",true);a.addIcon("download","fpa","fpa-icons","e62e",true);a.addIcon("grip-vertical","fpa","fpa-icons","e62f",true);a.addIcon("grip-horizontal","fpa","fpa-icons","e630",true);a.addIcon("designer","fpa","fpa-icons","e631",true);a.addIcon("properties","fpa","fpa-icons","e632",true);a.addIcon("preview","fpa","fpa-icons","e633",true);a.addIcon("details","fpa","fpa-icons","e634",true);a.addIcon("charts","fpa","fpa-icons","e635",true);a.addIcon("bookmarks","fpa","fpa-icons","e6d2",true);a.addIcon("success","fpa","fpa-icons","e636",true);a.addIcon("warning","fpa","fpa-icons","e637",true);a.addIcon("alert","fpa","fpa-icons","e638",true);a.addIcon("info","fpa","fpa-icons","e639",true);a.addIcon("help","fpa","fpa-icons","e63a",true);a.addIcon("smart-help","fpa","fpa-icons","e63b",true);a.addIcon("home","fpa","fpa-icons","e63c",true);a.addIcon("dashboards","fpa","fpa-icons","e63d",true);a.addIcon("models","fpa","fpa-icons","e63e",true);a.addIcon("perspectives","fpa","fpa-icons","e63f",true);a.addIcon("reports","fpa","fpa-icons","e640",true);a.addIcon("filter","fpa","fpa-icons","e641",true);a.addIcon("tag","fpa","fpa-icons","e642",true);a.addIcon("kpi","fpa","fpa-icons","e643",true);a.addIcon("style","fpa","fpa-icons","e644",true);a.addIcon("contextual-chart","fpa","fpa-icons","e645",true);a.addIcon("columns","fpa","fpa-icons","e646",true);a.addIcon("zoom-out","fpa","fpa-icons","e647",true);a.addIcon("versions","fpa","fpa-icons","e648",true);a.addIcon("versions-options","fpa","fpa-icons","e649",true);a.addIcon("merge-cells","fpa","fpa-icons","e64a",true);a.addIcon("unmerge-cells","fpa","fpa-icons","e64b",true);a.addIcon("show-hide-grid-dimension","fpa","fpa-icons","e64c",true);a.addIcon("bold","fpa","fpa-icons","e64d",true);a.addIcon("underline","fpa","fpa-icons","e64e",true);a.addIcon("strike","fpa","fpa-icons","e64f",true);a.addIcon("italic","fpa","fpa-icons","e650",true);a.addIcon("left-aligned","fpa","fpa-icons","e651",true);a.addIcon("centered","fpa","fpa-icons","e652",true);a.addIcon("right-aligned","fpa","fpa-icons","e653",true);a.addIcon("no-border","fpa","fpa-icons","e654",true);a.addIcon("left-border","fpa","fpa-icons","e655",true);a.addIcon("top-border","fpa","fpa-icons","e656",true);a.addIcon("right-border","fpa","fpa-icons","e657",true);a.addIcon("bottom-border","fpa","fpa-icons","e658",true);a.addIcon("outside-border","fpa","fpa-icons","e659",true);a.addIcon("all-borders","fpa","fpa-icons","e65a",true);a.addIcon("area","fpa","fpa-icons","e65b",true);a.addIcon("sankey","fpa","fpa-icons","e7fd",true);a.addIcon("font-color","fpa","fpa-icons","e65c",true);a.addIcon("fill-background-color","fpa","fpa-icons","e65d",true);a.addIcon("color","fpa","fpa-icons","e65e",true);a.addIcon("expand-all","fpa","fpa-icons","e65f",true);a.addIcon("collaps-all","fpa","fpa-icons","e660",true);a.addIcon("select-all-cells","fpa","fpa-icons","e661",true);a.addIcon("line","fpa","fpa-icons","e662",true);a.addIcon("bar-rows","fpa","fpa-icons","e663",true);a.addIcon("bar-columns","fpa","fpa-icons","e664",true);a.addIcon("stacked-bar-rows","fpa","fpa-icons","e665",true);a.addIcon("stacked-bar-columns","fpa","fpa-icons","e666",true);a.addIcon("map","fpa","fpa-icons","e667",true);a.addIcon("gauge-bar","fpa","fpa-icons","e668",true);a.addIcon("gauge-circle","fpa","fpa-icons","e669",true);a.addIcon("box-plot","fpa","fpa-icons","e66a",true);a.addIcon("auto-sync","fpa","fpa-icons","e66b",true);a.addIcon("files","fpa","fpa-icons","e66c",true);a.addIcon("cards","fpa","fpa-icons","e732",true);a.addIcon("deployment","fpa","fpa-icons","e66d",true);a.addIcon("conversations","fpa","fpa-icons","e66e",true);a.addIcon("comment","fpa","fpa-icons","e66f",true);a.addIcon("new-calculation","fpa","fpa-icons","e670",true);a.addIcon("send","fpa","fpa-icons","e671",true);a.addIcon("link","fpa","fpa-icons","e672",true);a.addIcon("unlink","fpa","fpa-icons","e673",true);a.addIcon("events","fpa","fpa-icons","e674",true);a.addIcon("task","fpa","fpa-icons","e675",true);a.addIcon("pending","fpa","fpa-icons","e676",true);a.addIcon("accept","fpa","fpa-icons","e677",true);a.addIcon("review","fpa","fpa-icons","e678",true);a.addIcon("approval","fpa","fpa-icons","e679",true);a.addIcon("reject","fpa","fpa-icons","e67a",true);a.addIcon("reminder","fpa","fpa-icons","e67b",true);a.addIcon("users","fpa","fpa-icons","e67c",true);a.addIcon("person","fpa","fpa-icons","e67d",true);a.addIcon("roles","fpa","fpa-icons","e67e",true);a.addIcon("request","fpa","fpa-icons","e67f",true);a.addIcon("history","fpa","fpa-icons","e680",true);a.addIcon("template","fpa","fpa-icons","e681",true);a.addIcon("options","fpa","fpa-icons","e682",true);a.addIcon("messages","fpa","fpa-icons","e683",true);a.addIcon("power","fpa","fpa-icons","e684",true);a.addIcon("activities","fpa","fpa-icons","e685",true);a.addIcon("geo","fpa","fpa-icons","e686",true);a.addIcon("summary","fpa","fpa-icons","e687",true);a.addIcon("variance","fpa","fpa-icons","e688",true);a.addIcon("variance-line","fpa","fpa-icons","e689",true);a.addIcon("data","fpa","fpa-icons","e68a",true);a.addIcon("scatter-plot","fpa","fpa-icons","e68b",true);a.addIcon("font-color-white","fpa","fpa-icons","e68c",true);a.addIcon("fill-background-color-white","fpa","fpa-icons","e68d",true);a.addIcon("text","fpa","fpa-icons","e68e",true);a.addIcon("profile","fpa","fpa-icons","e68f",true);a.addIcon("color-picker","fpa","fpa-icons","e690",true);a.addIcon("timeline","fpa","fpa-icons","e691",true);a.addIcon("import-options","fpa","fpa-icons","e692",true);a.addIcon("export-options","fpa","fpa-icons","e693",true);a.addIcon("color-white","fpa","fpa-icons","e694",true);a.addIcon("date","fpa","fpa-icons","e695",true);a.addIcon("currencies","fpa","fpa-icons","e696",true);a.addIcon("hierarchy","fpa","fpa-icons","e697",true);a.addIcon("number","fpa","fpa-icons","e698",true);a.addIcon("formula","fpa","fpa-icons","e699",true);a.addIcon("models-imported","fpa","fpa-icons","e69a",true);a.addIcon("shape","fpa","fpa-icons","e69b",true);a.addIcon("justified-aligned","fpa","fpa-icons","e69c",true);a.addIcon("vertical-align-top","fpa","fpa-icons","e69d",true);a.addIcon("vertical-align-mittle","fpa","fpa-icons","e69e",true);a.addIcon("vertical-align-bottom","fpa","fpa-icons","e69f",true);a.addIcon("list-bulleted","fpa","fpa-icons","e6a0",true);a.addIcon("list-numbered","fpa","fpa-icons","e6a1",true);a.addIcon("cell-reference","fpa","fpa-icons","e6a2",true);a.addIcon("waterfall-rows","fpa","fpa-icons","e6a3",true);a.addIcon("driver-tree","fpa","fpa-icons","e6a4",true);a.addIcon("fit-to-workspace","fpa","fpa-icons","e6a5",true);a.addIcon("trend","fpa","fpa-icons","e6a6",true);a.addIcon("normalscreen","fpa","fpa-icons","e6a7",true);a.addIcon("beginning","fpa","fpa-icons","e6a8",true);a.addIcon("end","fpa","fpa-icons","e6a9",true);a.addIcon("donut","fpa","fpa-icons","e6aa",true);a.addIcon("combined_column_line","fpa","fpa-icons","e6ab",true);a.addIcon("drill","fpa","fpa-icons","e6ac",true);a.addIcon("heat_map","fpa","fpa-icons","e6ad",true);a.addIcon("pie","fpa","fpa-icons","e6ae",true);a.addIcon("table","fpa","fpa-icons","e6af",true);a.addIcon("edit-options","fpa","fpa-icons","e6b0",true);a.addIcon("password","fpa","fpa-icons","e6b1",true);a.addIcon("stories","fpa","fpa-icons","e6b2",true);a.addIcon("allocation","fpa","fpa-icons","e6b3",true);a.addIcon("bring_to_front","fpa","fpa-icons","e6b4",true);a.addIcon("bring_forward","fpa","fpa-icons","e6b5",true);a.addIcon("bring_to_back","fpa","fpa-icons","e6b6",true);a.addIcon("bring_backward","fpa","fpa-icons","e6b7",true);a.addIcon("left-aligned-object","fpa","fpa-icons","e6b8",true);a.addIcon("vertically-aligned-object","fpa","fpa-icons","e6b9",true);a.addIcon("right-aligned-object","fpa","fpa-icons","e6ba",true);a.addIcon("top-aligned-object","fpa","fpa-icons","e6bb",true);a.addIcon("horizontally-aligned-object","fpa","fpa-icons","e6bc",true);a.addIcon("bottom-aligned-object","fpa","fpa-icons","e6bd",true);a.addIcon("fill_color","fpa","fpa-icons","e6be",true);a.addIcon("bridge","fpa","fpa-icons","e6bf",true);a.addIcon("expand_size","fpa","fpa-icons","e6c0",true);a.addIcon("all-primary-data","fpa","fpa-icons","e6c1",true);a.addIcon("sorted-options","fpa","fpa-icons","e6c2",true);a.addIcon("like","fpa","fpa-icons","e6c3",true);a.addIcon("like-filled","fpa","fpa-icons","e6c4",true);a.addIcon("rank","fpa","fpa-icons","e6c5",true);a.addIcon("showhide","fpa","fpa-icons","e678",true);a.addIcon("drill_up","fpa","fpa-icons","e6c6",true);a.addIcon("drill_down","fpa","fpa-icons","e6c7",true);a.addIcon("filter-options","fpa","fpa-icons","e6c8",true);a.addIcon("value-help","fpa","fpa-icons","e6c9",true);a.addIcon("ltnt-account","fpa","fpa-icons","e6e7",true);a.addIcon("connections","fpa","fpa-icons","e6ca",true);a.addIcon("reuse","fpa","fpa-icons","e6cb",true);a.addIcon("allocation-options","fpa","fpa-icons","e6cc",true);a.addIcon("data-changes","fpa","fpa-icons","e6cd",true);a.addIcon("input-form","fpa","fpa-icons","e6ce",true);a.addIcon("input-form-options","fpa","fpa-icons","e6cf",true);a.addIcon("archive","fpa","fpa-icons","e6d0",true);a.addIcon("line-double-axis","fpa","fpa-icons","e6d1",true);a.addIcon("bookmark","fpa","fpa-icons","e6d2",true);a.addIcon("color-picker-options","fpa","fpa-icons","e6d3",true);a.addIcon("variable","fpa","fpa-icons","e6d4",true);a.addIcon("variable-options","fpa","fpa-icons","e6d5",true);a.addIcon("network","fpa","fpa-icons","e6d6",true);a.addIcon("dimension-link","fpa","fpa-icons","e6d7",true);a.addIcon("feature","fpa","fpa-icons","e6d8",true);a.addIcon("marker","fpa","fpa-icons","e6d9",true);a.addIcon("circle","fpa","fpa-icons","e6da",true);a.addIcon("square","fpa","fpa-icons","e6db",true);a.addIcon("layers","fpa","fpa-icons","e6dc",true);a.addIcon("polygon-tool","fpa","fpa-icons","e6dd",true);a.addIcon("show","fpa","fpa-icons","e6de",true);a.addIcon("hide","fpa","fpa-icons","e6df",true);a.addIcon("server","fpa","fpa-icons","e6e0",true);a.addIcon("drill_leaves","fpa","fpa-icons","e6e1",true);a.addIcon("minus","fpa","fpa-icons","e6e2",true);a.addIcon("launch","fpa","fpa-icons","e6e3",true);a.addIcon("base_map","fpa","fpa-icons","e6e4",true);a.addIcon("organization","fpa","fpa-icons","e6e5",true);a.addIcon("generic","fpa","fpa-icons","e6e6",true);a.addIcon("cost_pool","fpa","fpa-icons","e6e7",true);a.addIcon("account","fpa","fpa-icons","e6e8",true);a.addIcon("time","fpa","fpa-icons","e6e9",true);a.addIcon("value-driver-tree","fpa","fpa-icons","e6ea",true);a.addIcon("split-view","fpa","fpa-icons","e6eb",true);a.addIcon("single-view","fpa","fpa-icons","e6ec",true);a.addIcon("hierarchy_deselected","fpa","fpa-icons","e6ed",true);a.addIcon("location-pin","fpa","fpa-icons","e6ee",true);a.addIcon("banknote","fpa","fpa-icons","e6ef",true);a.addIcon("eraser","fpa","fpa-icons","e6f0",true);a.addIcon("cross_table","fpa","fpa-icons","e6f1",true);a.addIcon("ibcs_table","fpa","fpa-icons","e6f2",true);a.addIcon("explore_view","fpa","fpa-icons","e6f3",true);a.addIcon("icicle","fpa","fpa-icons","e6f4",true);a.addIcon("monitor","fpa","fpa-icons","e6f5",true);a.addIcon("flip","fpa","fpa-icons","e6f6",true);a.addIcon("located","fpa","fpa-icons","e6f7",true);a.addIcon("cloud","fpa","fpa-icons","e6f8",true);a.addIcon("tree-map","fpa","fpa-icons","e6f9",true);a.addIcon("marimekko","fpa","fpa-icons","e6fa",true);a.addIcon("bubble","fpa","fpa-icons","e6fb",true);a.addIcon("radar","fpa","fpa-icons","e6fc",true);a.addIcon("combined_bar_line","fpa","fpa-icons","e6fd",true);a.addIcon("measure","fpa","fpa-icons","e6fe",true);a.addIcon("star","fpa","fpa-icons","e6ff",true);a.addIcon("file","fpa","fpa-icons","e700",true);a.addIcon("code","fpa","fpa-icons","e701",true);a.addIcon("light-bulb","fpa","fpa-icons","e702",true);a.addIcon("heat_map_geo","fpa","fpa-icons","e703",true);a.addIcon("boardroom","fpa","fpa-icons","e704",true);a.addIcon("agenda","fpa","fpa-icons","e705",true);a.addIcon("add_row_column","fpa","fpa-icons","e706",true);a.addIcon("remove_row_column","fpa","fpa-icons","e707",true);a.addIcon("merge","fpa","fpa-icons","e708",true);a.addIcon("reference-line","fpa","fpa-icons","e709",true);a.addIcon("play","fpa","fpa-icons","e70a",true);a.addIcon("explore","fpa","fpa-icons","e70b",true);a.addIcon("color-transparent","fpa","fpa-icons","e70c",true);a.addIcon("scatter-bubble","fpa","fpa-icons","e70d",true);a.addIcon("font","fpa","fpa-icons","e70e",true);a.addIcon("extract","fpa","fpa-icons","e70f",true);a.addIcon("bar-width","fpa","fpa-icons","e710",true);a.addIcon("broken-scale","fpa","fpa-icons","e711",true);a.addIcon("vector","fpa","fpa-icons","e712",true);a.addIcon("zoom-in","fpa","fpa-icons","e713",true);a.addIcon("all-secondary-data","fpa","fpa-icons","e714",true);a.addIcon("all-data","fpa","fpa-icons","e715",true);a.addIcon("intersecting-data","fpa","fpa-icons","e716",true);a.addIcon("input-control","fpa","fpa-icons","e717",true);a.addIcon("move-control-to-bar","fpa","fpa-icons","e718",true);a.addIcon("time-series","fpa","fpa-icons","e719",true);a.addIcon("lock-cell","fpa","fpa-icons","e71a",true);a.addIcon("clear-filter","fpa","fpa-icons","e71b",true);a.addIcon("new-filter","fpa","fpa-icons","e71c",true);a.addIcon("step","fpa","fpa-icons","e71d",true);a.addIcon("spread","fpa","fpa-icons","e71e",true);a.addIcon("distribute","fpa","fpa-icons","e71f",true);a.addIcon("break-axis","fpa","fpa-icons","e720",true);a.addIcon("group","fpa","fpa-icons","e721",true);a.addIcon("calculate","fpa","fpa-icons","e722",true);a.addIcon("growth-rate","fpa","fpa-icons","e723",true);a.addIcon("customise","fpa","fpa-icons","e724",true);a.addIcon("union","fpa","fpa-icons","e725",true);a.addIcon("flip-vertically","fpa","fpa-icons","e726",true);a.addIcon("ungroup","fpa","fpa-icons","e727",true);a.addIcon("transform","fpa","fpa-icons","e728",true);a.addIcon("cut","fpa","fpa-icons","e729",true);a.addIcon("fill-up","fpa","fpa-icons","e72a",true);a.addIcon("convert","fpa","fpa-icons","e72b",true);a.addIcon("replace","fpa","fpa-icons","e72c",true);a.addIcon("move","fpa","fpa-icons","e72d",true);a.addIcon("external-logic","fpa","fpa-icons","e72e",true);a.addIcon("online-meeting","fpa","fpa-icons","e72f",true);a.addIcon("phone","fpa","fpa-icons","e730",true);a.addIcon("hand","fpa","fpa-icons","e731",true);a.addIcon("tiles","fpa","fpa-icons","e732",true);a.addIcon("list","fpa","fpa-icons","e733",true);a.addIcon("item-arrangement","fpa","fpa-icons","e734",true);a.addIcon("outline-fill","fpa","fpa-icons","e735",true);a.addIcon("outline","fpa","fpa-icons","e736",true);a.addIcon("slash","fpa","fpa-icons","e737",true);a.addIcon("cell-height","fpa","fpa-icons","e738",true);a.addIcon("cell-width","fpa","fpa-icons","e739",true);a.addIcon("rotate-right-90","fpa","fpa-icons","e73a",true);a.addIcon("rotate-left-90","fpa","fpa-icons","e73b",true);a.addIcon("rotate-180","fpa","fpa-icons","e73c",true);a.addIcon("scale","fpa","fpa-icons","e73d",true);a.addIcon("inside-borders","fpa","fpa-icons","e73e",true);a.addIcon("inside-horizontal-border","fpa","fpa-icons","e73f",true);a.addIcon("inside-vertical-border","fpa","fpa-icons","e740",true);a.addIcon("diagonal-down-border","fpa","fpa-icons","e741",true);a.addIcon("diagonal-up-border","fpa","fpa-icons","e742",true);a.addIcon("sort","fpa","fpa-icons","e743",true);a.addIcon("sort-ascending","fpa","fpa-icons","e744",true);a.addIcon("sort-descending","fpa","fpa-icons","e745",true);a.addIcon("route","fpa","fpa-icons","e746",true);a.addIcon("open-new-window","fpa","fpa-icons","e747",true);a.addIcon("exclude","fpa","fpa-icons","e748",true);a.addIcon("edit-axis","fpa","fpa-icons","e749",true);a.addIcon("discover","fpa","fpa-icons","e74a",true);a.addIcon("fireworks","fpa","fpa-icons","e74b",true);a.addIcon("outlier","fpa","fpa-icons","e74c",true);a.addIcon("paste","fpa","fpa-icons","e74d",true);a.addIcon("dynamic-token","fpa","fpa-icons","e74e",true);a.addIcon("root-folder","fpa","fpa-icons","e74f",true);a.addIcon("bars-overlapping-1","fpa","fpa-icons","e750",true);a.addIcon("bars-overlapping-2","fpa","fpa-icons","e751",true);a.addIcon("bar-with-pointer","fpa","fpa-icons","e752",true);a.addIcon("bars-side-by-side","fpa","fpa-icons","e753",true);a.addIcon("process","fpa","fpa-icons","e754",true);a.addIcon("simulate","fpa","fpa-icons","e755",true);a.addIcon("annotation","fpa","fpa-icons","e756",true);a.addIcon("error-bar","fpa","fpa-icons","e757",true);a.addIcon("portrait-format","fpa","fpa-icons","e758",true);a.addIcon("landscape-format","fpa","fpa-icons","e759",true);a.addIcon("arrow-down","fpa","fpa-icons","e75a",true);a.addIcon("turtle","fpa","fpa-icons","e75b",true);a.addIcon("connection","fpa","fpa-icons","e75c",true);a.addIcon("tooltip","fpa","fpa-icons","e75d",true);a.addIcon("cluster","fpa","fpa-icons","e75e",true);a.addIcon("new-comment","fpa","fpa-icons","e75f",true);a.addIcon("delta-previous-year","fpa","fpa-icons","e760",true);a.addIcon("delta-first-year","fpa","fpa-icons","e761",true);a.addIcon("rows","fpa","fpa-icons","e762",true);a.addIcon("SQL","fpa","fpa-icons","e763",true);a.addIcon("r-language","fpa","fpa-icons","e764",true);a.addIcon("new-member","fpa","fpa-icons","e765",true);a.addIcon("member-order","fpa","fpa-icons","e766",true);a.addIcon("microphone","fpa","fpa-icons","e767",true);a.addIcon("edge","fpa","fpa-icons","e768",true);a.addIcon("percentage","fpa","fpa-icons","e769",true);a.addIcon("omega","fpa","fpa-icons","e76a",true);a.addIcon("support","fpa","fpa-icons","e76b",true);a.addIcon("mobile","fpa","fpa-icons","e76c",true);a.addIcon("devices","fpa","fpa-icons","e76d",true);a.addIcon("open","fpa","fpa-icons","e76e",true);a.addIcon("multi_selection","fpa","fpa-icons","e76f",true);a.addIcon("transfer_briefcase","fpa","fpa-icons","e770",true);a.addIcon("terminal","fpa","fpa-icons","e771",true);a.addIcon("layout","fpa","fpa-icons","e772",true);a.addIcon("device-orientation","fpa","fpa-icons","e773",true);a.addIcon("exception-data","fpa","fpa-icons","e774",true);a.addIcon("function","fpa","fpa-icons","e775",true);a.addIcon("analytic-hub","fpa","fpa-icons","e776",true);a.addIcon("book","fpa","fpa-icons","e777",true);a.addIcon("box-no-border","fpa","fpa-icons","e778",true);a.addIcon("box-left-border","fpa","fpa-icons","e779",true);a.addIcon("box-top-border","fpa","fpa-icons","e77a",true);a.addIcon("box-right-border","fpa","fpa-icons","e77b",true);a.addIcon("box-bottom-border","fpa","fpa-icons","e77c",true);a.addIcon("box-top-bottom-border","fpa","fpa-icons","e77d",true);a.addIcon("box-left-right-border","fpa","fpa-icons","e77e",true);a.addIcon("box-outside-border","fpa","fpa-icons","e77f",true);a.addIcon("leave","fpa","fpa-icons","e780",true);a.addIcon("top-and-bottom-border","fpa","fpa-icons","e781",true);a.addIcon("twitter","fpa","fpa-icons","e782",true);a.addIcon("feed","fpa","fpa-icons","e783",true);a.addIcon("store","fpa","fpa-icons","e784",true);a.addIcon("library","fpa","fpa-icons","e785",true);a.addIcon("books","fpa","fpa-icons","e786",true);a.addIcon("threshold-good","fpa","fpa-icons","e787",true);a.addIcon("threshold-warning","fpa","fpa-icons","e788",true);a.addIcon("threshold-alert","fpa","fpa-icons","e789",true);a.addIcon("text-abc","fpa","fpa-icons","e78a",true);a.addIcon("numbers-123","fpa","fpa-icons","e78b",true);a.addIcon("assign","fpa","fpa-icons","e78c",true);a.addIcon("time-calculation","fpa","fpa-icons","e78d",true);a.addIcon("edit-calculation","fpa","fpa-icons","e78e",true);a.addIcon("same_elements","fpa","fpa-icons","e78f",true);a.addIcon("different_elements","fpa","fpa-icons","e790",true);a.addIcon("conditional_formatting","fpa","fpa-icons","e791",true);a.addIcon("center","fpa","fpa-icons","e792",true);a.addIcon("no-edit","fpa","fpa-icons","e793",true);a.addIcon("lightning","fpa","fpa-icons","e794",true);a.addIcon("sum","fpa","fpa-icons","e795",true);a.addIcon("variance-bar","fpa","fpa-icons","e796",true);a.addIcon("percentage-pin","fpa","fpa-icons","e797",true);a.addIcon("alias","fpa","fpa-icons","e798",true);a.addIcon("new-table","fpa","fpa-icons","e799",true);a.addIcon("static-filter","fpa","fpa-icons","e79a",true);a.addIcon("temporary-filter","fpa","fpa-icons","e79b",true);a.addIcon("text-wrap","fpa","fpa-icons","e79c",true);a.addIcon("linked-model","fpa","fpa-icons","e79d",true);a.addIcon("linked-variable","fpa","fpa-icons","e79e",true);a.addIcon("dynamic-variable","fpa","fpa-icons","e66b",true);a.addIcon("histogram","fpa","fpa-icons","e79f",true);a.addIcon("binoculars","fpa","fpa-icons","e7a0",true);a.addIcon("new-model","fpa","fpa-icons","e7a1",true);a.addIcon("working-model","fpa","fpa-icons","e7a2",true);a.addIcon("data-set","fpa","fpa-icons","e7a3",true);a.addIcon("wrangling","fpa","fpa-icons","e7a4",true);a.addIcon("edit-wrangling","fpa","fpa-icons","e7a5",true);a.addIcon("edit-table","fpa","fpa-icons","e7a6",true);a.addIcon("mapping","fpa","fpa-icons","e7a7",true);a.addIcon("edit-mapping","fpa","fpa-icons","e7a8",true);a.addIcon("hierarchy-parent","fpa","fpa-icons","e7a9",true);a.addIcon("hierarchy-child","fpa","fpa-icons","e7aa",true);a.addIcon("hierarchy-grand-child","fpa","fpa-icons","e7ab",true);a.addIcon("slim-arrow-down","fpa","fpa-icons","e7ac",true);a.addIcon("slim-arrow-up","fpa","fpa-icons","e7ad",true);a.addIcon("slim-arrow-left","fpa","fpa-icons","e7ae",true);a.addIcon("slim-arrow-right","fpa","fpa-icons","e7af",true);a.addIcon("exit-save","fpa","fpa-icons","e7b0",true);a.addIcon("planning-sequence","fpa","fpa-icons","e7b1",true);a.addIcon("lock-drill","fpa","fpa-icons","e7b2",true);a.addIcon("screenshot","fpa","fpa-icons","e7b3",true);a.addIcon("resize-corner","fpa","fpa-icons","e7b4",true);a.addIcon("add-difference-marker","fpa","fpa-icons","e7b5",true);a.addIcon("dimension-member","fpa","fpa-icons","e7b6",true);a.addIcon("dimension-filter","fpa","fpa-icons","e7b7",true);a.addIcon("dimension-swap","fpa","fpa-icons","e7b8",true);a.addIcon("measure-filter","fpa","fpa-icons","e7b9",true);a.addIcon("measure-swap","fpa","fpa-icons","e7ba",true);a.addIcon("calculation-swap","fpa","fpa-icons","e7bb",true);a.addIcon("advanced-filter","fpa","fpa-icons","e7bc",true);a.addIcon("inspection","fpa","fpa-icons","e7bd",true);a.addIcon("new-note","fpa","fpa-icons","e7be",true);a.addIcon("tree","fpa","fpa-icons","e7bf",true);a.addIcon("clustering","fpa","fpa-icons","e7c0",true);a.addIcon("regression","fpa","fpa-icons","e7c1",true);a.addIcon("multi_selection_2","fpa","fpa-icons","e7c2",true);a.addIcon("play-process","fpa","fpa-icons","e7c3",true);a.addIcon("stop-process","fpa","fpa-icons","e7c4",true);a.addIcon("editor-comment","fpa","fpa-icons","e7c5",true);a.addIcon("radiobutton","fpa","fpa-icons","e7c6",true);a.addIcon("checkbox","fpa","fpa-icons","e7c7",true);a.addIcon("button","fpa","fpa-icons","e7c8",true);a.addIcon("dialog","fpa","fpa-icons","e7c9",true);a.addIcon("app-outline","fpa","fpa-icons","e7ca",true);a.addIcon("dropdown","fpa","fpa-icons","e7cb",true);a.addIcon("global-variables","fpa","fpa-icons","e7cc",true);a.addIcon("data-save","fpa","fpa-icons","e7cd",true);a.addIcon("max-screen","fpa","fpa-icons","e7ce",true);a.addIcon("small","fpa","fpa-icons","e7cf",true);a.addIcon("medium","fpa","fpa-icons","e7d0",true);a.addIcon("large","fpa","fpa-icons","e7d1",true);a.addIcon("duster-topics","fpa","fpa-icons","e7d2",true);a.addIcon("notes","fpa","fpa-icons","e7d3",true);a.addIcon("calendar-today","fpa","fpa-icons","e7d4",true);a.addIcon("layout-sorting","fpa","fpa-icons","e7d5",true);a.addIcon("full-name","fpa","fpa-icons","e7d6",true);a.addIcon("busy-indicator","fpa","fpa-icons","e7d7",true);a.addIcon("reject-assignee","fpa","fpa-icons","e7d8",true);a.addIcon("assignees-done","fpa","fpa-icons","e7d9",true);a.addIcon("event-process","fpa","fpa-icons","e7da",true);a.addIcon("new-member-edit","fpa","fpa-icons","e7db",true);a.addIcon("edit-member","fpa","fpa-icons","e7dc",true);a.addIcon("copy-data","fpa","fpa-icons","e7dd",true);a.addIcon("no-assignee","fpa","fpa-icons","e7de",true);a.addIcon("tri-state","fpa","fpa-icons","e7df",true);a.addIcon("distribute-spacing-vertically","fpa","fpa-icons","e7e0",true);a.addIcon("distribute-spacing-horizontally","fpa","fpa-icons","e7e1",true);a.addIcon("unique","fpa","fpa-icons","e7e2",true);a.addIcon("close-up","fpa","fpa-icons","e7e3",true);a.addIcon("number-decimals","fpa","fpa-icons","e7e4",true);a.addIcon("boolean","fpa","fpa-icons","e7e5",true);a.addIcon("translation","fpa","fpa-icons","e7e6",true);a.addIcon("dislike","fpa","fpa-icons","e7e7",true);a.addIcon("roambi","fpa","fpa-icons","e7e8",true);a.addIcon("sample-content","fpa","fpa-icons","e7e9",true);a.addIcon("business-content","fpa","fpa-icons","e7ea",true);a.addIcon("third-party-content","fpa","fpa-icons","e7eb",true);a.addIcon("team-folder","fpa","fpa-icons","e7ec",true);a.addIcon("auto-load-filter","fpa","fpa-icons","e7ed",true);a.addIcon("live-model","fpa","fpa-icons","e7ee",true);a.addIcon("comment-indicator","fpa","fpa-icons","e7ef",true);a.addIcon("comment-indicator-filled","fpa","fpa-icons","e7f0",true);a.addIcon("draft","fpa","fpa-icons","e7f1",true);a.addIcon("list-numbered-RTL","fpa","fpa-icons","e7f2",true);a.addIcon("multi_selection-RTL","fpa","fpa-icons","e7f3",true);a.addIcon("copy-data-2","fpa","fpa-icons","e7f4",true);a.addIcon("list-hierarchy","fpa","fpa-icons","e7f5",true);a.addIcon("folder-function","fpa","fpa-icons","e7f6",true);a.addIcon("canvas","fpa","fpa-icons","e7f7",true);a.addIcon("partially-completed","fpa","fpa-icons","e7f8",true);a.addIcon("stop-watch","fpa","fpa-icons","e7f9",true);a.addIcon("date-time","fpa","fpa-icons","e7fa",true);a.addIcon("apply-down","fpa","fpa-icons","e7fb",true);a.addIcon("unpivot-transformation","fpa","fpa-icons","e7fc",true);a.addIcon("sankey-chart","fpa","fpa-icons","e7fd",true);a.addIcon("performance","fpa","fpa-icons","e7fe",true);a.addIcon("google-sheets","fpa","fpa-icons","e7ff",true);a.addIcon("bpc-planning-sequence","fpa","fpa-icons","e800",true);a.addIcon("ruum","fpa","fpa-icons","e801",true);a.addIcon("range-slider","fpa","fpa-icons","e802",true);a.addIcon("slider","fpa","fpa-icons","e803",true);a.addIcon("backspace","fpa","fpa-icons","e804",true);a.addIcon("time-entry-request","fpa","fpa-icons","e805",true);a.addIcon("tab-container","fpa","fpa-icons","e807",true);a.addIcon("panel-container","fpa","fpa-icons","e808",true);a.addIcon("open-connectors","fpa","fpa-icons","e809",true);a.addIcon("moon","fpa","fpa-icons","e810",true);a.addIcon("snowflake","fpa","fpa-icons","e811",true);a.addIcon("live-table","fpa","fpa-icons","e812",true);a.addIcon("relationship-diagram","fpa","fpa-icons","e813",true);a.addIcon("fire","fpa","fpa-icons","e814",true);a.addIcon("table-view","fpa","fpa-icons","e815",true);a.addIcon("primary-key","fpa","fpa-icons","e816",true);a.addIcon("upload-to-cloud","fpa","fpa-icons","e817",true);a.addIcon("data-warehouse","fpa","fpa-icons","e818",true);a.addIcon("data-space-management","fpa","fpa-icons","e819",true);a.addIcon("table-builder","fpa","fpa-icons","e81a",true);a.addIcon("fact-view","fpa","fpa-icons","e81b",true);a.addIcon("new-view","fpa","fpa-icons","e81c",true);a.addIcon("live-data-set","fpa","fpa-icons","e81d",true);a.addIcon("temperature-cold","fpa","fpa-icons","e81e",true);a.addIcon("temperature-hot","fpa","fpa-icons","e81f",true);a.addIcon("feedback","fpa","fpa-icons","e820",true);a.addIcon("lock-archive","fpa","fpa-icons","e821",true);a.addIcon("carousel","fpa","fpa-icons","e822",true);a.addIcon("tracking","fpa","fpa-icons","e823",true);a.addIcon("toggle-switch","fpa","fpa-icons","e824",true);a.addIcon("responsive-panel","fpa","fpa-icons","e825",true);a.addIcon("move-top","fpa","fpa-icons","e826",true);a.addIcon("move-bottom","fpa","fpa-icons","e827",true);a.addIcon("association","fpa","fpa-icons","e828",true);a.addIcon("authorization-scenario","fpa","fpa-icons","e829",true);a.addIcon("consumption-model","fpa","fpa-icons","e82a",true);a.addIcon("fact-model","fpa","fpa-icons","e82b",true);a.addIcon("keyboard","fpa","fpa-icons","e82c",true);a.addIcon("data-flow","fpa","fpa-icons","e82d",true);a.addIcon("watchlist-add","fpa","fpa-icons","e82e",true);a.addIcon("watchlist","fpa","fpa-icons","e82f",true);a.addIcon("chart-table","fpa","fpa-icons","e830",true);a.addIcon("explore-table","fpa","fpa-icons","e831",true);a.addIcon("business-card","fpa","fpa-icons","e832",true);a.addIcon("permission","fpa","fpa-icons","e833",true);a.addIcon("diamond","fpa","fpa-icons","e834",true);a.addIcon("bullet-chart","fpa","fpa-icons","e835",true);a.addIcon("folder-search","fpa","fpa-icons","e836",true);a.addIcon("catalog","fpa","fpa-icons","e837",true);a.addIcon("retail-store-manager","fpa","fpa-icons","e838",true);a.addIcon("retail-store-share","fpa","fpa-icons","e839",true);a.addIcon("linked-analysis-tree","fpa","fpa-icons","e83a",true);a.addIcon("employee-rejections","fpa","fpa-icons","e83b",true);a.addIcon("employee-approvals","fpa","fpa-icons","e83c",true);a.addIcon("color-fill-square","fpa","fpa-icons","e83d",true);a.addIcon("color-white-square","fpa","fpa-icons","e83e",true);a.addIcon("object-mapper","fpa","fpa-icons","e83f",true);a.addIcon("replication-flow","fpa","fpa-icons","e840",true);a.addIcon("css-editor","fpa","fpa-icons","e841",true);a.addIcon("formula-measure","fpa","fpa-icons","e842",true);a.addIcon("formula-dimension","fpa","fpa-icons","e843",true);a.addIcon("formula-account","fpa","fpa-icons","e844",true);a.addIcon("fill-background-color-white-square","fpa","fpa-icons","e845",true);a.addIcon("fill-background-color-square","fpa","fpa-icons","e846",true);a.addIcon("numeric-ghoststate","fpa","fpa-icons","e847",true);a.addIcon("intelligent-lookup","fpa","fpa-icons","e848",true);a.addIcon("requirement-diagram","fpa","fpa-icons","e849",true);a.addIcon("boolean-circles","fpa","fpa-icons","e84a",true);a.addIcon("uuid","fpa","fpa-icons","e84b",true);a.addIcon("binary","fpa","fpa-icons","e84c",true);a.addIcon("person-key","fpa","fpa-icons","e84d",true);a.addIcon("business-entity","fpa","fpa-icons","e84e",true)});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ListHelper",[],function(){"use strict";function t(t){var r=[];while(t.hasNext()){r.push(t.next())}return r}function r(){this.arrayFromIter=t;this.arrayFromList=function(r){return t(r.getIterator())}}return new r});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResourceBundle",["sap/sac/df/utils/ResourceModel"],function(e){"use strict";var t=e.getResourceBundle();t.getTextWithPlaceholder=function(e,u){return t.getText(e,u)};t.getTextWithPlaceholder2=function(e,u,r){return t.getText(e,[u,r])};return t});
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/ResourceModel",["sap/ui/model/resource/ResourceModel","sap/base/i18n/ResourceBundle","sap/base/util/UriParameters"],function(e,a,i){"use strict";var s=i.fromQuery(window.location.search).get("dft_local");var n=s?"sap/sac/df/i18n/firefly/localization":"sap/sac/df/i18n/localization";var o={bundleName:n};if(s){o.enhanceWith=[a.create({bundleName:"sap/sac/df/i18n/localization"})]}return new e(o)});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/SyncActionHelper",["sap/base/Log","sap/sac/df/utils/ListHelper","sap/sac/df/thirdparty/lodash"],function(e,s,t){e.info("Load SyncAction Helper");function a(){var e=this;function a(e){var a=new Error(e.getSummary());a.getMessages=t.constant(s.arrayFromList(e.getMessages()).map(function(e){var s=e.getSeverity().getName();if(s==="Info"){s="Information"}return{Text:e.getText(),Severity:s,Code:e.getCode(),MessageClass:e.getMessageClass(),LongTextUri:e.getMessageClass()?["/sap/opu/odata/iwbep/message_text;message=LOCAL/T100_longtexts(MSGID='",encodeURIComponent(e.getMessageClass()),"',MSGNO='",encodeURIComponent(e.getCode()),"',MESSAGE_V1='',MESSAGE_V2='',MESSAGE_V3='',MESSAGE_V4='')/$value"].join(""):null}}));return a}e.reject=a;e.syncActionToPromise=function(e,s,n){var o,r;function i(e,s){o=e;r=s}function c(e){if(e.hasErrors()){r(a(e))}else{o(e.getData())}}var g=new Promise(i);e.apply(s,t.concat([sap.firefly.SyncType.NON_BLOCKING,c],n));return g}}return new a});
/*
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.predefine("sap/sac/df/utils/TokenHelper",["sap/m/Token","sap/ui/core/CustomData","sap/sac/df/types/ComparisonOperator","sap/sac/df/thirdparty/lodash"],function(e,t,n,r){"use strict";function o(e,t){if(e){if(e==="<"){return t?n.LESS_EQUAL:n.LESS}else{return t?n.GREATER_EQUAL:n.GREATER}}else{return n.EQUAL}}function a(e){return new Date(e)}function i(e){if(typeof e!=="object"){throw new Error("Invalid date")}var t=e.getDate();var n=e.getMonth()+1;var r=e.getFullYear();return""+r+"-"+(n<=9?"0"+n:n)+"-"+(t<=9?"0"+t:t)}function s(){var s=this;s.dateToYMD=i;s.datsToDate=a;s.rangeToToken=function(n){return new e({key:n.Low,text:n.Text,customData:r.map(n,function(e,n){return new t({key:n,value:e})})})};this.tokenToRange=function(e){var t=e.data();if(t.ComparisonOperator){return{ComparisonOperator:t.ComparisonOperator,High:t.High,IsExcluding:t.IsExcluding,Low:e.getKey(),Text:e.getText()}}else{return{ComparisonOperator:n.EQUAL,Low:e.getKey(),IsExcluding:false,Text:e.getText()}}};this.stringToTokens=function(e){return r.map(e.split(","),this.stringToToken)};this.stringToToken=function(e){var t=null;var r=e.match(/(!)?(.+) - (.+)/);if(r){t={Low:r[2],High:r[3],IsExcluding:!!r[1],Text:e,ComparisonOperator:n.BETWEEN}}else{r=e.match(/(!)?(<|>)?(=)?(.+)/);if(r){t={Low:r[4],Text:e,IsExcluding:!!r[1],ComparisonOperator:o(r[2],r[3])}}}return s.rangeToToken(t)}}return new s});
sap.ui.predefine("sap/sac/df/variablebar/FieldBaseDelegate",["sap/ui/mdc/field/FieldBaseDelegate","sap/sac/df/variablebar/TypeUtil"],function(e,t){"use strict";var r=Object.assign({},e);r.apiVersion=2;r._getDataProvider=function(e){var t=e.getParent();if(t.isA("sap.sac.df.FilterBar")){return t._oFilterBarHandler._getDataProvider()}else if(t.isA("sap.ui.mdc.filterbar.p13n.AdaptationFilterBar")){return sap.ui.getCore().byId(t.getAdaptationControl())._oFilterBarHandler._getDataProvider()}return null};r.getDescription=function(e,t,r,a,i,n,l,u,s,o){var v=o.getFieldPath();var d="";var f=o.getConditions(v).find(function(e){return e.values[0]===r});if(f.values.length>1){return Promise.resolve(f.values[1])}var g=o.getParent();if(g.isA("sap.ui.mdc.filterbar.p13n.AdaptationFilterBar")){var c=sap.ui.getCore().byId(g.getAdaptationControl()).getFilterItems();var p=c.find(function(e){return e.getFieldPath()===v});var h=p&&p.getConditions().find(function(e){return e.values[0]===f.values[0]});if(h&&h.values.length>1){return Promise.resolve(h.values[1])}}var P=this._getDataProvider(o);if(P){var b=P.Variables[v];var m=b.MemberFilter.find(function(e){return r===e.Low});d=m&&m.LowText!==m.Low?m.LowText:"";if(!d){return this._requestText(P,v,r)}}return Promise.resolve(d)};r.getItemForValue=function(e,t,r){if(!r.value){return Promise.resolve()}var a=r.control;var i=this._getDataProvider(a);if(i&&r.value){return this._requestText(i,a.getFieldPath(),r.value)}return Promise.resolve()};r._requestText=function(e,t,a){return e.searchVariableValues(t,a,false,true,true).then(function(e){if(!e.length){return Promise.resolve()}var t=this._getResult(e);var r={key:t.Key};r.description=e.length===1&&t.Key!==t.Text?t.Text:"";return r}.bind(r))};r._getResult=function(e){var t=e[0];while(t.Children){t=t.Children[0]}return t};r.isInvalidInputAllowed=function(){return false};r.isInputValidationEnabled=function(e){var t=e.getPayload();return t.supportsValueHelp&&!t.valueType.includes("Date")&&!t.valueType.includes("Time")};r.getDataTypeClass=function(e,r){return t.getDataTypeClassName(r)};r.getTypeUtil=function(){return t};return r});
sap.ui.predefine("sap/sac/df/variablebar/FilterBarDelegate",["sap/ui/mdc/FilterBarDelegate","sap/sac/df/variablebar/FilterBarHandler","sap/sac/df/variablebar/TypeUtil","sap/sac/df/thirdparty/lodash"],function(e,r,a,t){"use strict";var i=Object.assign({},e);i.apiVersion=2;i._getDataProvider=function(e){var r=e._oFilterBarHandler._getDataProvider();if(r){return Promise.resolve(r)}return new Promise(function(r){e._getMultiDimModel().attachEventOnce("queryAdded",null,function(){r(e._oFilterBarHandler._getDataProvider())},i)})};i.fetchProperties=function(e){return i._getDataProvider(e).then(function(){var r=[];t.forEach(e._oFilterBarHandler._getVariables(),function(t){var n=t.MergedVariable?t.MergedVariable:t;var o=a.getFormatOptions(n.ValueType);var l=n.ValueType.includes("Date");var u={name:n.Name,label:n.Description,typeConfig:i.getTypeUtil().getTypeConfig(n.ValueType,o?o:null,null),dataType:n.ValueType,maxConditions:l||!n.SupportsMultipleValues?1:-1,group:t.Group?t.Group:"_basicSearch",groupLabel:e.getModel("i18n").getResourceBundle().getText(t.Group?t.Group:""),required:n.Mandatory,hasValueHelp:n.SupportsValueHelp,caseSensitive:false};r.push(u)});return r})};i.addItem=function(e,a,t){return i._getDataProvider(e).then(function(){var i=e._oFilterBarHandler._getVariable(a);var n=t?t.modifier.checkControlId(r.getFilterFieldId(e,a)):false;var o=n&&sap.ui.getCore().byId(r.getFilterFieldId(e,a));o=o?o:r.createFilterField(i,e);return o})};i.addCondition=function(e,r){return i._getDataProvider(e).then(function(a){var t=e._oFilterBarHandler._getVariable(r);var i=t.MemberFilter;var n=e.getConditions()[r];var o=[];var l=[];i.forEach(function(e){if(e.Low||e.LowText){o.push(e)}});if(o.length){l=[].concat(o)}var u={ComparisonOperator:"EQUAL"};var s=false;if(n){n.forEach(function(e){var r=i.find(function(r){return e.values[0]===r.Low});if(!r||!i.length){s=true;u.Low=e.values[0];if(e.values[1]){u.LowText=e.values[1]}l.push(u)}})}if(s){e.fireBeforeFilterChange({beforeValueHelpOpen:false})}return Promise.resolve(s?a.setVariableValue(r,l):true)})};i.removeCondition=function(e,r){return i._getDataProvider(e).then(function(a){var t=e._oFilterBarHandler._getVariable(r);var i=e.getConditions()[r];var n=t.MemberFilter;var o=[];n.forEach(function(e){var r=i.find(function(r){return r.values[0]===e.Low});if(r){o.push(e)}});e.fireBeforeFilterChange({beforeValueHelpOpen:false});return Promise.resolve(a.setVariableValue(r,o))})};i.getTypeUtil=function(){return a};return i});
sap.ui.predefine("sap/sac/df/variablebar/FilterBarHandler",["sap/ui/mdc/FilterField","sap/ui/base/ManagedObjectObserver","sap/ui/mdc/p13n/StateUtil","sap/sac/df/variablebar/TypeUtil","sap/sac/df/thirdparty/lodash"],function(e,t,i,a,r){"use strict";return{initialise:function(e){this._oFilterBar=e;this._initialiseFilterBar();return this},_initialiseFilterBar:function(){var e={};this._setPathToVariables();r.forEach(this._getVariables(),function(t){t=t.MergedVariable?t.MergedVariable:t;this.addFilterItem(t);if(t.MemberFilter&&t.MemberFilter.length>0){e[t.Name]=this.getFilterConditions(t)}}.bind(this));this.updateAllConditions(e);this.changeEventsHandlerInAdaptFilter()},_setPathToVariables:function(){if(this._oFilterBar.getProperty("mode")==="VariableGroups"){this._pathToVariables="/VariableGroups"}else{this._pathToVariables="/DataProvider/"+this._getDataProviderName()+"/Variables"}},_getPathToVariables:function(){return this._pathToVariables},_getPathToVariable:function(e){return this._oFilterBar.getProperty("mode")==="VariableGroups"?this._getPathToVariables()+"/"+e+"/MergedVariable":this._getPathToVariables()+"/"+e},_getMultiDimModel:function(){var e=this._oFilterBar.getModel();return e?e:this._oFilterBar.getParent().getModel(this._oFilterBar.getMultiDimModelId())},_getDataProviderName:function(){var e=this._getMultiDimModel().getProperty("/DataProvider");return e&&Object.keys(e)[0]},_getDataProvider:function(){return this._getMultiDimModel().getProperty("/DataProvider/"+this._getDataProviderName())},_getVariables:function(){return this._getMultiDimModel().getProperty(this._pathToVariables)},_getVariable:function(e){return this._getMultiDimModel().getProperty(this._getPathToVariable(e))},addFilterItem:function(e){var t=this.createFilterField(e);this._oFilterBar.addFilterItem(t);return t},updateAllConditions:function(e){var t={};t.filter=e;i.applyExternalState(this._oFilterBar,t)},getFilterConditions:function(e){var t=[];e.MemberFilter.forEach(function(i){var a={operator:"EQ",validated:"Validated"};a.values=[i.Low];if(!e.ValueType.includes("Date")&&!e.ValueType.includes("Time")){var r=i.LowText&&i.Low!==i.LowText?i.LowText:"";a.values.push(r)}t.push(a)});return t},changeEventsHandlerInAdaptFilter:function(){var e=this._getObserver();this._oFilterBar.retrieveInbuiltFilter().then(function(t){e.observe(t,{aggregations:["filterItems"]})});e.observe(this._oFilterBar,{aggregations:["dependents"]})},createFilterField:function(t){var i=t.ValueType.includes("Date")||t.ValueType.includes("Time");var r=a.getFormatOptions(t.ValueType);var l={dataType:a.getDataTypeClassName(t.ValueType),dataTypeFormatOptions:r?r:null,delegate:{name:i||!t.SupportsValueHelp?"sap/ui/mdc/field/FieldBaseDelegate":"sap/sac/df/variablebar/FieldBaseDelegate",payload:{valueType:t.ValueType,supportsValueHelp:t.SupportsValueHelp}},label:t.Description,tooltip:t.Description,required:t.Mandatory,display:i||!t.SupportsValueHelp?"Value":"ValueDescription",conditions:"{$filters>/conditions/"+t.Name+"}",maxConditions:i||!t.SupportsMultipleValues?1:-1,operators:t.SupportsValueHelp&&!i?[]:["EQ"]};var n=new e(this.getFilterFieldId(t.Name),l);if(!i){this._getObserver().observe(n,{aggregations:["_content"]})}return n},getFilterFieldId:function(e){return this._oFilterBar.getId()+"::FilterField::"+e.replace(/[^0-9A-Z_.:-]/gi,"")},_getObserver:function(){if(!this._oObserver){this._oObserver=new t(this._observeChanges.bind(this))}return this._oObserver},_observeChanges:function(e){if(e.name==="_content"){this._onFieldChange(e.object,true)}if(e.name==="filterItems"){this._onFieldChange(e.child,false)}if(e.name==="dependents"&&e.mutation==="insert"&&e.child&&e.child.isA("sap.m.p13n.Popup")){this._onCloseAdaptFilterDialog(e.child)}},_onFieldChange:function(e,t){var i=e.getAggregation("_content")&&e.getAggregation("_content")[0];if(i){var a=i.mEventRegistry;while(a.valueHelpRequest&&a.valueHelpRequest.length){var r=a.valueHelpRequest[0];i.detachValueHelpRequest(r.fFunction,r.oListener)}if(i.attachValueHelpRequest){i.attachValueHelpRequest(null,this._onValueHelpRequest,this)}if(t){this._getObserver().unobserve(e,{aggregations:["_content"]})}}},_onCloseAdaptFilterDialog:function(e){this._oVariables={};r.forEach(this._getVariables(),function(e){this._oVariables[e.Name]={Name:e.Name,MemberFilter:[].concat(e.MemberFilter)}}.bind(this));var t=function(e){if(e.getParameters().reason==="Cancel"){var t=this._getDataProvider();r.forEach(this._oVariables,function(e){var i=e.MemberFilter?e.MemberFilter:[];t.setVariableValue(e.Name,i)}.bind(this))}this._oVariables=undefined};e.attachClose(null,t,this)},_onValueHelpRequest:function(e){var t=e.getSource().getParent();var i=t.getParent();var a=t.getFieldPath();var r;if(i.isA("sap.ui.mdc.FilterBar")){r=i;r.fireBeforeFilterChange({beforeValueHelpOpen:true})}else if(i.isA("sap.ui.mdc.filterbar.p13n.AdaptationFilterBar")){r=sap.ui.getCore().byId(i.getAssociation("adaptationControl"));r.fireBeforeFilterChange({beforeValueHelpOpen:true})}this._getDataProvider().openVariableSelector(a).then(function(e){if(e){var t=this._getVariable(a);this.updateConditionsForSingleField(t,i)}else if(r){r.fireCancelFilterChange()}}.bind(this))},updateConditionsForSingleField:function(e,t){var a={filter:{}};a.filter[e.Name]=this.getFilterConditions(e);return i.retrieveExternalState(t).then(function(r){if(r.filter[e.Name]){return i.diffState(t,r.filter[e.Name],a)}return null}).then(function(r){if(r&&r.filter&&r.filter[e.Name]){a.filter[e.Name]=r.filter[e.Name]}return i.applyExternalState(t,a)})}}});
sap.ui.predefine("sap/sac/df/variablebar/TypeUtil",["sap/ui/mdc/util/TypeUtil"],function(e){"use strict";var t=Object.assign({},e,{getDataTypeClassName:function(e){var t={String:"sap.ui.model.type.String",Double:"sap.ui.model.type.Float",Date:"sap.ui.model.type.Date",Boolean:"sap.ui.model.type.Boolean",Time:"sap.ui.model.type.Time",DateTime:"sap.ui.model.type.DateTime"};return t[e]||e},oFormatOptions:{Date:{source:{format:"yyyy-MM-dd",pattern:"yyyy-MM-dd"}},Time:{source:{format:"HH:mm:ss",pattern:"HH:mm:ss"}},DateTime:{source:{format:"yyyy-MM-ddTHH:mm:ss",pattern:"yyyy-MM-ddTHH:mm:ss"}}},getFormatOptions:function(e){return this.oFormatOptions[e]}});return t});
sap.ui.require.preload({
	"sap/sac/df/library.js":function(){
/*!
 * SAPUI5
    (c) Copyright 2009-2021 SAP SE. All rights reserved
  
 */
sap.ui.loader.config({async:true,shim:{"sap/sac/df/thirdparty/sac.internal.grid.main.2.3.0-5ce62ed29d6c40846369eb8b6bca193a80d45dfb":{amd:true,exports:"sapSacGrid"},"sap/sac/df/thirdparty/interact":{amd:true,exports:"interact"}}});sap.ui.define(["sap/sac/df/types/SystemType","sap/sac/df/thirdparty/sac.internal.grid.main.2.3.0-5ce62ed29d6c40846369eb8b6bca193a80d45dfb","sap/sac/df/thirdparty/interact","sap/ui/core/library","sap/ui/layout/library","sap/ui/layout/cssgrid/GridBasicLayout","sap/ui/table/library","sap/f/library","sap/m/library","sap/sac/df/utils/FpaIcons"],function(a,s){var e=sap.ui.getCore().initLibrary({name:"sap.sac.df",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.table","sap.m","sap.ui.mdc","sap.ui.fl","sap.tnt"],components:[],types:["sap.sac.df.types.SystemType"],interfaces:[],controls:["sap.sac.df.DFProgram","sap.sac.df.FlexAnalysis"],models:["sap.sac.df.olap.MultiDimModel","sap.sac.df.DFKernel"],elements:["sap.sac.df.FlexAnalysisPanel"],version:"1.115.0",extensions:{flChangeHandlers:{"sap.sac.df.FilterBar":"sap/ui/mdc/flexibility/FilterBar"}}});e.types={};e.types.SystemType=a;window.sactable=s;return e});
},
	"sap/sac/df/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.sac.df","type":"library","embeds":[],"applicationVersion":{"version":"1.115.0"},"title":"Dragonfly library for visualizing the analytical multidimensional data","description":"Dragonfly library for visualizing the analytical multidimensional data","ach":"LOD-ANA-FLY-DF","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"lodash","packagedWithMySelf":true,"version":"4.17.14"},{"name":"interactjs","packagedWithMySelf":true,"version":"1.10.5"},{"name":"React","packagedWithMySelf":true,"version":"v16.13.1"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.115","libs":{"sap.ui.core":{"minVersion":"1.115.0"},"sap.ui.layout":{"minVersion":"1.115.0"},"sap.ui.table":{"minVersion":"1.115.0"},"sap.f":{"minVersion":"1.115.0"},"sap.m":{"minVersion":"1.115.0"},"sap.ui.mdc":{"minVersion":"1.115.0"},"sap.ui.fl":{"minVersion":"1.115.0"},"sap.tnt":{"minVersion":"1.115.0"}}},"library":{"i18n":false,"content":{"controls":["sap.sac.df.DFProgram","sap.sac.df.FlexAnalysis"],"elements":["sap.sac.df.FlexAnalysisPanel"],"types":["sap.sac.df.types.SystemType"],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
