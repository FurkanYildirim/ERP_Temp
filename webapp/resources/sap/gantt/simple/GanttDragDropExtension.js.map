{"version":3,"file":"GanttDragDropExtension.js","names":["sap","ui","define","jQuery","KeyCodes","Core","library","GanttExtension","CoordinateUtils","GanttUtils","Format","RenderUtils","Utility","_sNamespace","aEvents","sMouseDown","BrowserEvent","reduce","events","name","aEventWithNamespace","map","sEvent","sMouseDownWithNamespace","I_DRAG_THRESHOLD_DISTANCE","GhostAlignment","dragdrop","SnapMode","DragOrientation","gantt","DragDropHelper","dispatchEvent","oEvent","oExtension","this","_getDragDropExtension","type","mousedown","onMouseDown","mousemove","onMouseMove","mouseup","onMouseUp","keydown","onKeydown","addEventListeners","oGantt","removeEventListeners","oSvg","getDomRefs","ganttSvg","on","bind","oHeaderSvg","headerSvg","off","addDragDropEventListeners","removeDragDropEventListeners","forEach","sEventName","document","GanttDragDropExtension","extend","_init","mSettings","_initDragStates","_attachEvents","getGantt","_detachEvents","prototype","bDragging","adhocLineDrag","deltaLineDrag","adhocLineDragStart","deltaLineDragStart","isCursorlineDisabled","bElementDraggable","oAdhocLineElmDraggable","oDeltaLineElmDraggable","oMouseDownTarget","oLastDraggedShapeData","mDragPoint","dragGhost","prevDragPoint","snapTimer","snapVal","isSnapping","cursorLineSnapPoint","onAdhocMarkerMouseDown","mPoint","getEventSVGPoint","oFrame","target","getBBox","oShape","byId","id","mBias","x","y","getShapeBias","cursorX","cursorY","shapeX","shapeY","shapeWidth","width","shapeBias","onDeltaAreaMouseDown","oDraggedDelta","getParent","timeStamp","getTimeStamp","endTimeStamp","getEndTimeStamp","onAdhocLineDrop","adhocLine","control","oEventData","_getAdhocDropData","fireAdhoclineDrop","setEnableCursorLine","stopDragging","onDeltaLineDrop","deltaLine","_getDeltaMarkerDropEvent","fireDeltalineDrop","onAdhocLineMove","createDragGhost","_hideScrollBarOnBody","getEnableCursorLine","onLineDrag","onDeltaLineMove","isValidDropZoneForLines","updateCursorStyle","updateHeaderCursorStyle","showGhost","button","_bGhostsPositioned","bMultipleGhosts","_bEnableRowHighlight","oDraggedShape","isEventTargetAdhocLine","isAdhocLineDraggable","isEventTargetDeltaLine","isDeltaLineDraggable","getEnableSelectAndDrag","getShapeElementByTarget","shapeSelectedOnMouseDown","initiallySelected","getSelected","isA","getIsConnectorDetailsVisible","getSelection","updateShape","getShapeUid","selected","ctrl","ctrlKey","metaKey","draggable","getDraggable","time","getTime","endTime","getEndTime","isEventTargetDraggable","oDraggedShapeDom","getDraggableDOMElement","getDomRef","shapeUid","startTime","oSourceRow","getRowByShape","getDragOrientation","Horizontal","oCurrentRow","getRowInstancefromShape","aSelectedShapes","getShapesWithUid","_gantt","getId","getSelectedShapeUid","_aVisibleDraggableShapes","sParentAggregationName","push","length","mGhostLabelStyle","getDragHighlightRows","sStyle","sPointerEvent","body","style","cursor","ganttChart","pointerEvents","_bArePointerEventsDisabled","ganttChartContainerToolbar","removeProperty","skipEvent","getShapeDndRowHighlightIndex","oNewPoint","bExceedDraggingThreshold","isExceedDraggingThreshold","bShouldDragStart","isAllowedVerticalOrentationDrag","_aShapeNodes","_aGhostImages","oTargetShape","oTargetDom","oTargetDomBBox","_coordinateDiff","bRtl","getConfiguration","getRTL","xMain","yMain","oShapeDom","getElementById","fWidth","oCoordinateDiff","xDiff","yDiff","shape","_bFirstTimeDrag","_getDragStartEventData","fireDragStart","currDragPos","Object","keys","iGhostTimer","window","setTimeout","_updateGhostShapesPosition","onDragging","oTable","getTable","aRows","getRows","iFirstRow","getIndex","aDraggedShapeHighlightRows","_dragHighlightRows","_highlightedRowIndex","oInfo","oMatchingRow","filter","oRow","getAggregation","getRowId","aShapeGhosts","getElementsByClassName","oGhostWrapperDom","aGhostHeights","i","offsetHeight","lastElementChild","remove","yBuffer","oShapeNode","mOffset","left","top","sLabel","_getGhostLabel","sDragGhostDom","insertAdjacentHTML","_updateGhostLabelStyle","classList","getShowTextOnGhost","sLabelDom","sTextContent","sFontSize","sFill","sFontFamily","sFontWeight","sVerticalAlignment","getVerticalTextAlignment","oTitleDom","nextSibling","tagName","getShowTitle","getTitle","textContent","fontSize","fill","fontFamily","fontWeight","sCssRight","sCssLeft","getXBias","fVertical","height","color","right","aDragGhostLabels","oDragGhostLabel","_getShapeDropEventData","getEnablePseudoShapes","trowIndex","targetRow","oDraggedShapeDates","draggedShapeDates","pseudoShapeSpecificData","sShapeUid","srowIndex","getParentRowSettings","getParentRow","draggedShapeTRowIndex","undefined","pseudoParent","_parent","iShapeIndex","oOverlapShapeIds","indexOf","getShapeId","splice","needUpdateForTasksInAggr","triggerShapeDrop","rerenderAssociatedRelationships","sourceGanttChart","_getDraggedShapeDates","lastDraggedShapeUid","cursorDateTime","_getGhostTime","cursorTime","oPointerExtension","_getPointerExtension","isValidDropZone","isPointerInCorrectRow","oDroppedRow","aShapeDates","oTargetGantt","getGanttChartByTarget","getRowInstance","oGhostTime","dragged","targetGanttChart","newDateTime","targetShape","sourceRowData","oAxisTimes","getAxisTime","oldTimeStamp","dateToAbapTimestamp","viewToTime","droppedTimeStamp","newTimeStamp","bPopover","bCrossGanttDrop","oAxisTime","targetSvg","iShapeBiasX","iDroppedCursorX","getSnapMode","None","oCursorTime","oNewDateTime","iShapeX","iShapeWidth","iStartMouseX","oGhostEndTime","iShapeDuration","Vertical","getGhostAlignment","Start","Date","End","iNewShapeStartTime","sNewShapeStartTime","sAlignment","startX","endX","newStartTime","newEndTime","oldStartTime","oldEndTime","oGanttChart","oSelection","aSelectedDraggableShapeUid","allSelectedDraggableUid","oDragShapeDates","sUid","oShapeData","getSelectedShapeDataByUid","updatedShapeTime","setTimeForGroupShape","getDroppedShapeStartTime","oCursorDate","abapTimestampToDate","closest","bHide","toggleClass","keyCode","ESCAPE","_triggerCancelShapeDrop","_enableTextSelection","_avoidShapeSelectionAfterDragging","removeGhost","_stopAutoScroll","clearTimeout","iSingleClickTimer","oShapeElement","oAdhocLineElement","_getSelected","oDeltaLineElement","_getIsSelected","SHAPE_ID_DATASET_KEY","get","oPoint","Math","abs","isPointerInGanttChart","_disableTextSelection","executeSnappingEffect","_bAutoScroll","isDragging","isAdhocLineDragging","isDeltaLineDragging","calcGhostAligmentForLines","calcGhostOffsetByAlignment","timeLabel","getTimeLabel","getLocale","innerText","iCurrentPageX","xPosOfEvent","oScreenPoint","getSvgScreenPoint","pageX","clientX","pageY","clientY","isSnapped","iFinalCursorX","fExtraSpace","offsetWidth","oScreenPoint1","sTop","getEventPosition","_generateSnapvalue","_getSnapOffsetByAligment","mpoints","snapOffset","isRtl","xPosStart","xPosEnd","_getSnappedTime","snapMin","date","ToMiliSec","snappedTime","timeDiff","mod","_computeSnapping","leftDiff","rightDiff","currentDiff","snapPoint","Left","Right","_computeSnapByTime","currentTimeIntervalKey","snapTimeInterval","snapTime","aStartDate","aEndDate","getMinutes","getHours","setMinutes","getSeconds","setSeconds","leftSnapTime","rightnapTime","leftSnappedPos","timeToView","rightSnapPos","_toggleCursorLine","yPos","GanttPointerExtension","getCurrentTickTimeIntervalKey","getSnapTimeInterval","oZoomStrategy","getZoomStrategy","Number","MAX_SAFE_INTEGER","timeInterval","iRenderedWidth","getGanttRenderWidth","aTickTimeIntervals","getTickTimeIntervalLabel","getTimeLineOption","aTicks","aTick","value","visibleDeltaLines","getVisibleElements","deltaline","visibleAdhocLines","adhocline","visibleShapes","oBaseShape","iShapeX1","iShapeX2","iShapeY1","iShapeY2","yPos2","visibleNonWorkingTime","timeRect","rectX1","rectX2","parentNode","removeChild","oLastNode","bTargetShape","oContainer","append","canvas","createElement","bbox","normalizeGhostImageWidth","_line","_getLine","lineNode","sId","_headerLine","_getHeaderLine","headerLineNode","_lineBBox","_headerBBox","getVisibleDeltaStartEndLines","oStartLine","_getStartLine","oEndLine","_getEndLine","oHeaderStartLine","_getHeaderStartLine","oHeaderEndLine","_getHeaderEndLine","oStartLineDom","oEndLineDom","oHeaderStartLineDom","oHeaderEndLineDom","deltaLineElms","headerStartLine","startLine","headerEndLine","endLine","HeaderLineBBox","lineBbox","createGhostImage","iWidth","sSvgString","serializeClonedSvg","sBase64","_b64EncodeUnicode","fullImageUrl","appendGhostImageToWrapper","str","btoa","encodeURIComponent","replace","toSolidBytes","match","p1","String","fromCharCode","cropedImg","oStyle","_getDragTextOverlayStyle","sTextDom","css","bLabelFlag","simple","BaseGroup","iLeftCursorPart","sCssClass","setProperty","oDragNode","headerNode","svgNS","d3","ns","prefix","svg","oCopyedSvg","createElementNS","setAttribute","oClonedNode","cloneNode","transform","removeOriginalTextNode","_aOriginalTextX","_iCount","_populateTextNodeX","_repositionTextNode","gWrapper","appendChild","oClonedHeaderNode","oClonedLineNode","oDeltaLine","getCore","oClonedHeaderStartLine","oClonedStartLine","oClonedHeaderEndLine","oCLonedEndLine","oSvgDefs","getSvgDefs","oClonedSvgDefsNode","XMLSerializer","serializeToString","oNode","children","childNodes","aChildren","Array","slice","call","fTextX","sTextAnchor","getAttribute","getNumberOfDragObject","iSelectedDraggableShapes","numberOfSelectedDraggableShapes","oRb","getLibraryResourceBundle","sObject","getText","sObjects","sDescr","attr","preventDefault","unbind","oOriginalRow","oClonedRow","clone","_addBackOriginalGanttRowProperties","oPropagatedProperties","_getPropertiesToPropagate","propagateProperties","oParent"],"sources":["GanttDragDropExtension-dbg.js"],"mappings":"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"}