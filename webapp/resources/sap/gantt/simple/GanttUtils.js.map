{"version":3,"file":"GanttUtils.js","names":["sap","ui","define","jQuery","Log","Core","CalendarType","Utility","DateFormat","Locale","OverflowToolbar","Parameters","Device","CoordinateUtils","Format","library","oContextCache","shapesWithRowLevels","exitShapeTraversingLoop","exitRowTraversingLoop","GanttUtils","SHAPE_ID_DATASET_KEY","ROW_ID_DATASET_KEY","CONNECTABLE_DATASET_KEY","SELECT_FOR_DATASET_KEY","SHAPE_CONNECT_FOR_DATASET_KEY","SHAPE_CONNECT_INDICATOR_WIDTH","oDateFormat","getDateInstance","pattern","calendarType","Gregorian","shapeElementById","sShapeId","sGanttSvgId","oGanttSvg","window","document","getElementById","oShapeContainer","querySelector","aNodeList","querySelectorAll","oElementNode","control","isRelationshipConnectedToPseudoShapes","oGantt","getCore","byId","oTableRows","getTable","getRows","bFoundShapeForRelationship","oPseudoShapesForRelationship","forEach","oTableRow","oRowSetting","getAggregation","getTasks","filter","oTask","isPseudoShape","oPseudoShape","aShapeIds","indexOf","getId","getValueX","oShape","nTimeX","oProp","getMetadata","getProperty","name","undefined","bRTL","getConfiguration","getRTL","vTime","getEndTime","getTime","getXByTime","isNumeric","warning","getRowInstance","oEvent","oTable","iRowIndex","target","closest","data","getRowInstancefromShape","oRowSettings","getParentRowSettings","getParentRow","_get2dContext","iFontSize","sFontFamily","sFontWeight","context","createElement","getContext","fontSize","fontFamily","fontWeight","font","getShapeTextWidth","sText","this","measureText","width","getSelectedTableRowSettings","iSelectedIndex","aAllRows","iFirstVisibleRow","getFirstVisibleRow","length","iFirstRowIndex","getIndex","iIndex","Math","abs","updateGanttRows","oDelegator","aRowState","getParent","$svg","$bgRects","find","getEnableChartSelectionState","eq","toggleClass","selected","getEnableChartHoverState","hovered","getShapesWithUid","sContainerId","aShapeUid","fnElementFromShapeId","sShapeUid","oPart","parseUid","shapeId","selector","join","oElement","getShapeUid","map","getShapeByShapeId","fnElements","sElm","id","push","getShapesInRowsById","sGanttId","rowIds","oSvg","shapes","sRowId","rowElm","Array","from","children","shape","reduce","acc","item","concat","getShapeIdFromShapeUid","ShapeUid","getTimeFormaterBySmallInterval","oAxisTimeStrategy","getAxisTimeStrategy","oSmallInterval","getTimeLineOption","smallInterval","oUnit","unit","oCalendarType","getCalendarType","oCoreLocale","getLocale","getLanguage","toLowerCase","sFormat","gantt","config","TimeUnit","minute","hour","getDateTimeInstance","format","style","locale","getFormatedDateByTimeZone","oDate","sFormattedDate","abapTimestampToDate","resetStrokeDasharray","aSelectedLine","getSimpleAdhocLines","x","_getSelected","_setSelected","headerStroke","_getHeaderLine","sId","stroke","_getLine","marker","_getMarker","cursor","strokeDasharray","getStrokeDasharray","strokeWidth","_getStrokeWidth","aSelectedDeltaLine","getDeltaLines","_getIsSelected","oChartDeltaArea","_getChartDeltaArea","$chartdeltaArea","_getEnableChartDeltaAreaHighlight","opacity","oForwardMarker","_getForwardMarker","oBackwardMarker","_getBackwardMarker","oHeaderDeltaArea","_getHeaderDeltaArea","markerStroke","get","getVisibleDeltaStartEndLines","oStartLine","_getStartLine","oEndLine","_getEndLine","oHeaderStartLine","_getHeaderStartLine","oHeaderEndLine","_getHeaderEndLine","fillOpacity","_getVisibleMarker","oResizeExtension","_getResizeExtension","clearAllDeltaOutline","_setIsSelected","adhocLinesPresentAndEnabled","oAdhocLine","MarkerType","simple","None","getEnableAdhocLine","addToolbarToTable","oScope","isExportToExcel","getExtension","oOverFlowToolBar","addContent","oExportTableToExcelButton","addExtension","findSpaceInLevel","level","startTime","endTime","j","currEndTime","prevEndTime","nextEndTime","AdhocLine","_stringToDateObject","parseInt","Object","keys","sortShapesByTime","sortedShapesWithRowLevels","swapped","i","temp","_partitionShapesIntoOverlappingRanges","startTimeProperty","endTimeProperty","sGetStartTime","charAt","toUpperCase","slice","sGetEndTime","l","sString","_getExpandedChildArray","aChild","aShapeSchemeKeys","childArraay","sStartDate","sEndDate","oChild","BaseConditionalShape","oActiveShape","_getActiveShapeElement","getScheme","getEnablePseudoShapes","BaseGroup","getShapes","setProperty","calculateLevelForShapes","allShapes","bLines","fnFlatten","arr","flat","toFlatten","isArray","aRanges","iMaxLevel","aRangesUpdated","values","shapeGroup","index","iLevel","_setLevel","_level","aShapes","oResult","adhocLines","line","deltaLines","DeltaLine","maxLevel","getShapeSuccessors","aShapesToSelect","getEnableChainSelection","aVisibleRls","_getVisibleRelationships","aAssociatedRls","getPredecessor","getShapeId","rel","mShape","getRelatedInRowShapes","successor","Set","getShapePredeccessors","getSuccessor","predecessor","selectAssociatedShapes","mParam","oSelectedShape","oDragDropExtension","_getDragDropExtension","bNewSelected","getSelected","shapeSelectedOnMouseDown","initiallySelected","getEnableSelectAndDrag","_getShapesToSelect","oSelection","updateShape","ctrl","draggable","getDraggable","time","bind","getSelectableInChainSelection","aRelationships","row","aRls","getRelationships","rerenderAssociatedRelationships","oRm","createRenderManager","allConnectedRelationships","oRlsInst","renderElement","getFilteredShapeType","shapeTypes","val","getPathCorners","sPath","fRadius","sTemp","replace","aResultSteps","sResult","aPathParts","split","aParts","sPart","a","match","aSteps","fPart","parseFloat","fnShiftInDirection","oPointFrom","oPointTo","fMagnitude","fDiffX","fDiffY","y","fDist","sqrt","fnPartialShiftInDirection","min","fnAdjustStep","aStep","oPoint","fnGetPointOfStep","oStartPoint","aCloseLine","iStep","aPrevStep","aCurrStep","aNextStep","fShiftedRadius","oPrevPoint","oCurrPoint","oNextPoint","oCurveStart","oCurveEnd","fPrevDistance","fNextDistance","fRadiusToUse","max","origPoint","oStartControl","oEndControl","aCurveStep","oNewStartPoint","s","c","arrayMove","oldIdx","newIdx","k","splice","getEdgePoint","edgePoint","existingShapes","getShapeTypeStart","getShapeTypeEnd","getRelationshipShapeSize","relationshipShapeSize","Large","getTimeLabel","oAxisTime","oLocale","svg","mPoint","getEventSVGPoint","sTimeStamp","dateToAbapTimestamp","viewToTime","oLocalTime","_convertUTCToLocalTime","oZoomStrategy","getZoomStrategy","sLabel","getLowerRowFormatter","getLowerCaseLabel","getVisibleElements","parentSelector","elementSelector","isDynamicText","horizontalTextAlignment","dynamicText","classList","contains","tagName","oHtmlShape","iUid","getAttribute","getHorizontalTextAlignment","Dynamic","MultiActivityGroup","getTask","aCalenders","calendar","oHtmlCalendar","oCalendar","setLmarker","bFlag","x1","mAnchors","y1","x2","y2","vType","getProcessedType","_edgePoint","getLShapeForTypeSF","getLShapeForTypeFS","relSet","relSetFake","pseudoShapeGroupAfterEdit","trowIndex","aShapeGroups","iGroupIndex","aExpandedShapeIds","oOverlapShapeIds","iShapeCount","oOperation","dShapeStartTime","dShapeEndTime","oShapeGroup","dExistingShapeStartTime","dExistingShapeEndTime","relationexist","mRelatedShapes","getRlsAnchors","getVisible","fnCheckAnchors","oAnchor","isNaN","isFinite","geNumberOfTruncatedCharacters","iTextTotalLength","iTargetLength","oControl","fnMeasureText","bPrint","fJsPdfConstant","nCount","round","ceil","nLen1","apply","nLen2"],"sources":["GanttUtils-dbg.js"],"mappings":"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"}