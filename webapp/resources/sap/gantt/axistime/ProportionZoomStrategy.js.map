{"version":3,"file":"ProportionZoomStrategy.js","names":["sap","ui","define","Log","library","ObjectPath","AxisTimeStrategyBase","Utility","Format","TimeHorizon","gantt","axistime","ProportionTimeLineOptions","config","DEFAULT_TIME_ZOOM_STRATEGY","ProportionZoomStrategy","extend","metadata","prototype","init","this","_aZoomRate","Array","setProperty","applySettings","mSettings","call","initialSettings","setVisibleHorizon","oVisibleHorizon","setVisibleHorizonWithReason","sReasonCode","oOriginEvent","subReasonCode","getStartTime","getEndTime","_bHorizontalScroll","oLastVisibleHorizon","getVisibleHorizon","clone","_setVisibleHorizon","apply","arguments","fireRedrawRequest","setTotalHorizon","oTotalHorizon","_setTotalHorizon","getAxisTime","calZoomBase","createAxisTime","getLocale","updateStopInfo","oStopInfo","setZoomLevel","index","iZoomLevel","performance","mark","visibleHorizonUpdateSubType","simple","VisibleHorizonUpdateSubType","getZoomLevel","ZoomIn","ZoomOut","oNewVisibleHorizon","calVisibleHorizonByRate","setZoomLevels","iZoomLevels","_updateZoomRateOnStops","syncContext","nClientWidth","bAxisTimeNeedChange","bZoomBoundaryConditionChange","oRetVal","zoomLevel","undefined","axisTimeChanged","iLastGanttVisibleWidth","getParent","_iLastVisibleWidth","iOriginalVisibleWidth","getGanttVisibleWidth","_updateVisibleHorizon","oDeterminedByStrategy","_determineZoomBoundaryByStrategy","oDeterminedByChartWidth","_determineZoomRateByChartWidth","updateGanttVisibleWidth","fLastMinRate","_oZoom","minRate","Math","max","fLastMaxRate","maxRate","fLastRate","rate","floatEqual","_adjustRateByBoundary","suitableRate","iLastZoomLevel","_calcZoomLevelFromZoomRate","bZoomLevelChanged","_isDisplayTypeChanged","setZoomRate","_updateTimeLineOption","oOriginalVisibleHorizon","oCurrentVisibleHorizon","calculateHorizonByWidth","updateInitialVisibleHorizon","visibleHorizon","initialZoomLevel","min","fMaxRate","fMinRate","iSteps","getZoomLevels","_oLog","fMax","log","fMin","fStep","i","pow","E","fRate","round","base","oCoarsestTimeLineOption","getCoarsestTimeLineOption","oFinestTimeLineOption","getFinestTimeLineOption","scale","calZoomScale","innerInterval","unit","span","range","getTotalHorizon","judgeTimeHorizonValidity","setStartTime","setEndTime","warning","fMinScale","calZoomScaleByDate","abapTimestampToDate","iVisibleHorizonStartTime","iVisibleHorizonEndTime","fSuitableScale","startTime","getTimeStampFormatter","parse","iCurrentTickKey","oTimeLineOptions","getTimeLineOptions","oTimeLineOption","getProperty","oAxisTime","start","timeToView","interval","end","get","offset","r","abs","ceil","onSetTimeZoomRate","fTimeZoomRate","getCurrentVisibleHorizon","_completeTimeHorizon","getRenderedVisibleHorizon","oGantt","oRenderedTimeRange","getRenderedTimeRange","oRenderedVisibleHorizon","endTime"],"sources":["ProportionZoomStrategy-dbg.js"],"mappings":"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"}