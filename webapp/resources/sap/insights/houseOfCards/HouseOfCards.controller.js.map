{"version":3,"file":"HouseOfCards.controller.js","names":["sap","ui","define","Controller","Card","Host","Transformations","ResourceModel","JSONModel","CardHelper","CardPreviewManager","Device","AppConstants","DeviceType","Filter","FilterOperator","InMemoryCachingHost","extend","onInit","sHostId","this","createId","I18_BUNDLE","getCore","getLibraryResourceBundle","getView","setModel","bundle","_oHocViewModel","oCard","oSelected","bShowPreview","aCards","aPreviewCards","aAllowedChartTypes","sOriginalChartType","resize","attachHandler","_adjustLayoutStyles","bind","host","action","oEvent","getParameter","getModel","setProperty","getManifest","onChartTypePress","oEventParameters","getBindingContext","sChartPath","getPath","getProperty","oContainer","byId","oPrevSelectedCard","oContainerItems","getItems","sPrevSelectedpath","forEach","oCardItem","sCardItemPath","removeStyleClass","aPathSplit","split","sIndex","length","oCardwAction","refresh","oChartCombo","setSelectedKey","content","chartType","onChartTypeSearch","sQuery","getSource","getValue","filter","Contains","aFilters","push","oList","oBinding","getBinding","_onCardLoadFailure","oError","removeItem","sId","_onCardStateChanged","oVizChart","getAggregation","attachRenderComplete","sErrorType","_errorType","sChartType","hasVizData","iIndex","findIndex","splice","createHouseOfCards","oCardCloneManifest","JSON","parse","stringify","oCardSection","oDefaultAggregation","getMetadata","getDefaultAggregation","oSelectedCard","removeAllAggregation","name","type","allowedChartTypes","aChartTypes","map","oChartType","key","aCharts","oChart","chart","transformAnalyticalManifest","createListOptions","createTableOptions","oCardToCheck","unshift","oCardManifest","oPreviewCloneManifest","aPreviewCard","getCardPreviewManifest","scrollTo","oSearchField","setValue","Object","keys","oConfCard","header","title","subTitle","onCardRender","attachManifestApplied","addStyleClass","focus","scrollToElement","getCardHeader","oHeader","attachEvent","oCardDom","getDomRef","removeEventListener","onClickFunction","addEventListener","capture","setBorderStyleSelectedCard","sSelectedPath","setTimeout","hasStyleClass","sPath","saveCard","Promise","resolve","getServiceAsync","then","oService","oManifest","getManifestRawJson","oHouseOfCardsDialog","close","showCardPreview","setChartDetail","sKey","oChartTypes","CHART_TYPE_DETAILS","icon","replaceAll","sDeviceType","getDialogBasedDevice","DEVICE_TYPES","Desktop","showHouseOfCardsDialog","_callPreview","bDesktopMode","sCardName","_callShowPreview","_callClosePreview","selectionChange","getParameters","oSelectedItem","selectedItem","closeDialog","formatChartName","find","text"],"sources":["HouseOfCards-dbg.controller.js"],"mappings":";;;;;;AAMAA,IAAIC,GAAGC,OACH,CACI,6BACA,kCACA,0BACA,2BACA,sCACA,8BACA,gBACA,8BACA,gBACA,wBACA,sBACA,sBACA,8BACA,+BAEJ,SAAUC,EAAYC,EAAMC,EAAMC,EAAiBC,EAAeC,EAAWC,EAAYC,EAAqBC,EAAQC,EAAcC,EAAYC,EAAQC,EAAgBC,GACpK,aAEA,OAAOb,EAAWc,OAAO,yCAA0C,CAC/DC,OAAQ,WACJ,IAAIC,EAAUC,KAAKC,SAAS,oBAC5BD,KAAKE,WAAatB,IAAIC,GAAGsB,UAAUC,yBAAyB,gBAC5DJ,KAAKK,UAAUC,SAAS,IAAInB,EAAc,CAAEoB,OAAQP,KAAKE,aAAe,QACxEF,KAAKQ,eAAiB,IAAIpB,EAAU,CAChCqB,MAAO,CAAC,EACRC,UAAW,CAAC,EACZC,aAAc,MACdC,OAAQ,GACRC,cAAe,GACfC,mBAAoB,GACpBC,mBAAoB,KAExBf,KAAKK,UAAUC,SAASN,KAAKQ,eAAgB,YAC7CjB,EAAOyB,OAAOC,cAAcjB,KAAKkB,oBAAoBC,KAAKnB,OAC1DA,KAAKkB,sBACLlB,KAAKoB,KAAO,IAAIxB,EAAoBG,EAAS,CACzCsB,OAAQ,SAAUC,GACd,IAAIb,EAAQa,EAAOC,aAAa,SAAW,CAAC,EAC5C,GAAKvB,KAAKK,UAAUmB,SAAS,iBAAkB,CAC3CxB,KAAKK,UAAUmB,SAAS,iBAAiBC,YAAY,aAAchB,EAAMiB,cAC7E,CAEJ,EAAEP,KAAKnB,OAEf,EACA2B,iBAAkB,SAAUL,GACxB,IAAIM,EAAmBN,EAAOC,aAAa,YAC3C,GAAIK,EAAiBC,kBAAkB,YAAa,CAChD,IAAIC,EAAaF,EAAiBC,kBAAkB,YAAYE,UAChE,IAAItB,EAAST,KAAKQ,eAAewB,YAAYF,GAC7C,IAAIG,EAAajC,KAAKkC,KAAK,iBAC3B,IAAIC,EACJ,IAAIC,EAAkBH,EAAWI,WACjC,IAAIC,EAAoBtC,KAAKQ,eAAewB,YAAY,iBACxDI,EAAgBG,QAAQ,SAASC,GAC7B,GAAIA,EAAUX,kBAAkB,YAAa,CACzC,IAAIY,EAAgBD,EAAUX,kBAAkB,YAAYE,UAC5D,GAAIU,IAAkBH,GAAqBA,IAAsBR,EAAY,CACzEK,EAAoBK,CACxB,CACJ,CACJ,GACA,GAAIL,EAAmB,CACnBA,EAAkBO,iBAAiB,kCACvC,CACA1C,KAAKQ,eAAeiB,YAAY,aAAchB,GAC9CT,KAAKQ,eAAeiB,YAAY,gBAAiBK,GACjD,IAAIa,EAAab,EAAWc,MAAM,KAClC,IAAIC,EAASF,EAAWA,EAAWG,OAAS,GAC5C,IAAIC,EAAe/C,KAAKQ,eAAewB,YAAY,WAAaa,GAChE,GAAK7C,KAAKK,UAAUmB,SAAS,iBAAkB,CAC3CxB,KAAKK,UAAUmB,SAAS,iBAAiBC,YAAY,aAAcsB,GACnE/C,KAAKK,UAAU6B,KAAK,oBAAoBc,SAC5C,CACA,IAAIC,EAAcjD,KAAKK,UAAU6B,KAAK,iBACtCe,EAAYC,eAAezC,EAAM,YAAY0C,QAAQC,UACzD,CACJ,EAEAC,kBAAmB,SAAU/B,GACzB,IAAIgC,EAAS,GACb,GAAIhC,EAAQ,CACVgC,EAAShC,EAAOiC,YAAYC,UAC9B,CACA,IAAIC,EAAS,IAAI/D,EAAO,6BAA8BC,EAAe+D,SAAUJ,GAC/E,IAAIK,EAAW,GACfA,EAASC,KAAKH,GACd,IAAII,EAAQ7D,KAAKkC,KAAK,0BACtB,IAAI4B,EAAWD,EAAME,WAAW,SAChCD,EAASL,OAAOE,EAAU,cAC9B,EACAK,mBAAoB,SAAUvD,EAAOwD,GACjCjE,KAAKkC,KAAK,iBAAiBgC,WAAWzD,EAAM0D,IAChD,EACAC,oBAAqB,SAAU3D,GAC3B,IAAI4D,EAAY5D,EAAM6D,eAAe,aAAe7D,EAAM6D,eAAe,YAAYA,eAAe,YACpG,GAAID,GAAaA,EAAUE,qBAAsB,CAC7CF,EAAUE,qBAAqB,SAASjD,GACpC,IAAIkD,EAAalD,EAAOiC,YAAYkB,WACpC,GAAID,EAAY,CACZxE,KAAKkC,KAAK,iBAAiBgC,WAAWzD,EAAM0D,IAChD,CACJ,EAAEhD,KAAKnB,MACX,CACA,IAAI0E,EAAajE,EAAMiB,cAAc,YAAYyB,QAAQC,UACzD,IAAIrC,EAAqBf,KAAKQ,eAAewB,YAAY,uBACzD,IAAK1C,EAAmBqF,WAAWlE,IAAUiE,IAAe3D,EAAoB,CAC5E,IAAIF,EAAgBb,KAAKQ,eAAewB,YAAY,kBACpD,IAAI4C,EAAS/D,EAAcgE,UAAU,SAASpE,GAC1C,OAAOA,EAAM,YAAY0C,QAAQC,YAAcsB,CACnD,GACA,GAAIE,GAAU,EAAG,CACb5E,KAAKkC,KAAK,iBAAiBgC,WAAWU,GACtC/D,EAAciE,OAAOF,EAAQ,GAC7B5E,KAAKQ,eAAeiB,YAAY,iBAAkBZ,EACtD,CACJ,CACJ,EACAkE,mBAAoB,WAChB,IAAItE,EAAQT,KAAKQ,eAAewB,YAAY,UAC5C,IAAIjB,EAAqBN,EAAM,YAAY0C,QAAQC,UACnDpD,KAAKQ,eAAeiB,YAAY,sBAAuBV,GACvDf,KAAKQ,eAAeiB,YAAY,UAAW,IAC3CzB,KAAKQ,eAAeiB,YAAY,iBAAkB,IAClD,IAAIQ,EAAajC,KAAKkC,KAAK,iBAC3B,IAAI8C,EAAqBC,KAAKC,MAAMD,KAAKE,UAAU1E,IACnD,IAAI2E,EAAeJ,EAAmB,YACtC,IAAIK,EAAsBpD,EAAWqD,cAAcC,wBACnD,IAAI3E,EAAS,GAAIC,EAAgB,GACjC,IAAI2E,EAEJvD,EAAWwD,qBAAqBJ,EAAoBK,MAEpD,GAAIN,EAAaO,OAAS,aAAc,CACpC,IAAI7E,EAAqBL,EAAM,gBAAgBmF,kBAC/C,IAAIC,EAAc,GAClB,GAAI/E,EAAoB,CACpBd,KAAKQ,eAAeiB,YAAY,sBAAuBX,GACvD+E,EAAc/E,EAAmBgF,IAAI,SAASC,GAC1C,OAAOA,EAAWC,GACtB,GAEA,IAAIC,EAAUJ,EAAYpC,OAAO,SAAUyC,GACvC,QAASA,CACb,GACA,GAAID,EAAQnD,SAAW,EAAG,CACtB+C,EAAc/E,EAAmBgF,IAAI,SAASC,GAC1C,OAAOA,EAAWI,KACtB,EACJ,CACJ,CACAvF,EAAS1B,EAAgBkH,4BAA4BpB,EAAoBa,EAEzE,MAAO,GAAIT,EAAaO,OAAS,OAAQ,CACrC/E,EAAS1B,EAAgBmH,kBAAkBrB,EAC/C,MAAO,GAAII,EAAaO,OAAS,QAAS,CACtC/E,EAAS1B,EAAgBoH,mBAAmBtB,EACpD,CAEApE,EAASA,EAAO6C,OAAO,SAAU8C,GAC7B,QAASA,CACb,GAEA,GAAI3F,EAAOkC,SAAW,EAAG,CAErBlC,EAAOgD,KAAKoB,EAChB,KAAO,CAEH,IAAIJ,EAAShE,EAAOiE,UAAU,SAASpE,GACnC,OAAOA,EAAM,YAAY0C,QAAQC,YAAcrC,CACnD,GACAH,EAAOkE,OAAOF,EAAQ,GACtBhE,EAAO4F,QAAQxB,EACnB,CAEApE,EAAO2B,QAAS,SAAUkE,GACtB,IAAIC,EAAwBzB,KAAKC,MAAMD,KAAKE,UAAUsB,IACtD,IAAIE,EAAerH,EAAmBsH,uBAAuBF,GAC7D7F,EAAc+C,KAAK+C,EACvB,GACA3G,KAAKQ,eAAeiB,YAAY,UAAWb,GAC3CZ,KAAKQ,eAAeiB,YAAY,iBAAkBZ,GAClD,IAAKb,KAAKQ,eAAewB,YAAY,iBAAkB,CACnDhC,KAAKkC,KAAK,wBAAwB2E,SAAS,GAC3C,IAAIC,EAAe9G,KAAKkC,KAAK,mBAC7B4E,EAAaC,SAAS,IACtB/G,KAAKqD,mBACT,CACA,IAAKrD,KAAKQ,eAAewB,YAAY,eAAiBgF,OAAOC,KAAKjH,KAAKQ,eAAewB,YAAY,eAAec,SAAW,EAAG,CAC7H9C,KAAKQ,eAAeiB,YAAY,aAAcZ,EAAc,IAC5D,GAAKb,KAAKK,UAAUmB,SAAS,iBAAkB,CAC3CxB,KAAKK,UAAUmB,SAAS,iBAAiBC,YAAY,aAAcb,EAAO,GAC9E,CACAZ,KAAKQ,eAAeiB,YAAY,gBAAiB,mBACnD,KAAO,CACL+D,EAAgBxF,KAAKQ,eAAewB,YAAY,cAChD,IAAIkF,EAAYlH,KAAKK,UAAUmB,SAAS,iBAAiBQ,YAAY,cACrEwD,EAAc,YAAY2B,OAAOC,MAASF,EAAU,YAAYC,OAAOC,MACvE5B,EAAc,YAAY2B,OAAOE,SAAYH,EAAU,YAAYC,OAAOE,SAC1ErH,KAAKK,UAAU6B,KAAK,kBAAkBc,SACxC,CACAwC,EAAgBxF,KAAKQ,eAAewB,YAAY,cAChD,IAAIiB,EAAcjD,KAAKK,UAAU6B,KAAK,iBACtCe,EAAYC,eAAesC,EAAc,YAAYrC,QAAQC,UACjE,EACAkE,aAAe,SAAShG,GACpB,IAAIb,EAAQa,EAAOiC,YACnB9C,EAAM8G,sBAAsB,SAASjG,GACjC,IAAIb,EAAQa,EAAOiC,YAEnB,IAAItB,EAAajC,KAAKkC,KAAK,iBAC3B,IAAIE,EAAkBH,EAAWI,WACjCD,EAAgBG,QAAQ,SAASC,GAC7B,GAAIA,EAAUX,kBAAkB,YAAa,CACzC,IAAIY,EAAgBD,EAAUX,kBAAkB,YAAYE,UAC5D,GAAI/B,KAAKQ,eAAewB,YAAY,mBAAqBS,GAAkBD,EAAU2B,MAAQ1D,EAAM0D,IAAM,CACrG3B,EAAUgF,cAAc,mCACxBhF,EAAUiF,QACVzH,KAAKkC,KAAK,wBAAwBwF,gBAAgBlF,EACtD,CACJ,CACJ,EAAErB,KAAKnB,OACP,GAAIS,EAAMkH,gBAAiB,CACvB,IAAIC,EAAUnH,EAAMkH,gBACpBC,EAAQJ,cAAc,+BAC1B,CACA/G,EAAMoH,YAAY,SAAU7H,KAAKgE,mBAAmB7C,KAAKnB,KAAMS,IAC/DA,EAAMoH,YAAY,eAAgB7H,KAAKoE,oBAAoBjD,KAAKnB,KAAMS,GAC1E,EAAEU,KAAKnB,OACP,IAAI8H,EAAWrH,EAAMsH,YACrBD,EAASE,oBAAoB,QAAQhI,KAAKiI,gBAAgB9G,KAAKnB,KAAMS,IACrEqH,EAASI,iBAAiB,QAAQlI,KAAKiI,gBAAgB9G,KAAKnB,KAAMS,GAAO,CAAC0H,QAAQ,MACtF,EACAC,2BAA4B,SAAUC,GAClC,IAAIpG,EAAajC,KAAKkC,KAAK,iBAC3B,IAAIE,EAAkBH,EAAWI,WACjC,IAAI5B,EACJ2B,EAAgBG,QAAQ,SAASC,GAC/B,GAAIA,EAAUX,kBAAkB,YAAa,CAC3C,IAAIY,EAAgBD,EAAUX,kBAAkB,YAAYE,UAC5D,GAAIsG,IAAkB5H,GAASgC,IAAkB4F,EAAe,CAC5D5H,EAAQ+B,CACZ,CACF,CACF,GACA,GAAI/B,EAAO,CACT6H,WAAW,WACT7H,EAAM+G,cAAc,kCACtB,EAAG,GACH/G,EAAMgH,OACR,CACJ,EACAQ,gBAAiB,SAASxH,EAAO4H,GAC7B,IAAIpG,EAAajC,KAAKkC,KAAK,iBAC3B,IAAIC,EACJ,IAAIC,EAAkBH,EAAWI,WACjC,IAAIC,EAAoBtC,KAAKQ,eAAewB,YAAY,iBACxDI,EAAgBG,QAAQ,SAASC,GAC7B,GAAIA,EAAUX,kBAAkB,YAAa,CACzC,IAAIY,EAAgBD,EAAUX,kBAAkB,YAAYE,UAC5D,GAAIsG,IAAkB5H,GAASgC,IAAkB4F,EAAe,CAC5D5H,EAAQ+B,CACZ,CACA,GAAIC,IAAkBH,GAAqBA,IAAsB+F,EAAe,CAC5ElG,EAAoBK,CACxB,CACJ,CACJ,GACA,GAAIP,EAAWI,WAAW,GAAGkG,cAAc,mCAAoC,CAC3EtG,EAAWI,WAAW,GAAGK,iBAAiB,kCAC9C,MAAO,GAAIP,EAAmB,CAC1BA,EAAkBO,iBAAiB,kCACvC,CACA,GAAIjC,EAAO,CACP6H,WAAW,WACP7H,EAAM+G,cAAc,kCACxB,EAAG,GACH/G,EAAMgH,QACNzH,KAAKkC,KAAK,wBAAwBwF,gBAAgBjH,GAClD,IAAI+H,EAAQ/H,EAAMoB,kBAAkB,YAAYE,UAChD/B,KAAKQ,eAAeiB,YAAY,gBAAgB+G,GAChD,IAAI7F,EAAa6F,EAAM5F,MAAM,KAC7B,IAAIC,EAASF,EAAWA,EAAWG,OAAS,GAC5C,IAAIC,EAAe/C,KAAKQ,eAAewB,YAAY,WAAaa,GAChE7C,KAAKQ,eAAeiB,YAAY,aAAchB,EAAMiB,eACpD,GAAK1B,KAAKK,UAAUmB,SAAS,iBAAkB,CAC3CxB,KAAKK,UAAUmB,SAAS,iBAAiBC,YAAY,aAAcsB,GACnE/C,KAAKK,UAAU6B,KAAK,kBAAkBc,SAC1C,CACA,IAAIC,EAAcjD,KAAKK,UAAU6B,KAAK,iBACtCe,EAAYC,eAAezC,EAAMiB,cAAc,YAAYyB,QAAQC,UACvE,CACJ,EACAqF,SAAU,SAAUhI,GAChB,OAAO,IAAIiI,QAAQ,SAAUC,GACzBtJ,EAAWuJ,gBAAgB,aAAaC,KAAK,SAAUC,GACnD,IAAIC,EAAYtI,EAAMuI,qBACtB,IAAIC,EAAsBjJ,KAAKkC,KAAK,4BACpC,GAAI+G,EAAqB,CACrBA,EAAoBC,OACxB,CACAJ,EAASK,gBAAgBJ,EAAW,MAAO,MAAMF,KAAK,WAClDF,GACJ,EACJ,EAAExH,KAAKnB,MACX,EAAEmB,KAAKnB,MACX,EAEAoJ,eAAgB,SAAS1E,EAAY2E,GACjC,IAAIC,EAAc9J,EAAa+J,mBAC/B,GAAIF,IAAS,OAAQ,CACjB,OAAOC,EAAY5E,GAAc4E,EAAY5E,GAAY8E,KAAOF,EAAY,WAAWE,IAC3F,CACA,GAAIH,IAAS,QAAS,CAClB,OAAOC,EAAY5E,GAAc4E,EAAY5E,GAAY0C,MAAQ1C,EAAW+E,WAAW,IAAK,IAChG,CACJ,EACAvI,oBAAqB,WACjB,IAAIwI,EAAcjK,EAAWkK,uBAC7B,GAAID,IAAgBlK,EAAaoK,aAAaC,QAAS,CACnD7J,KAAKQ,eAAeiB,YAAY,YAAa,KACjD,KAAO,CACHzB,KAAKQ,eAAeiB,YAAY,YAAa,MACjD,CACJ,EACAqI,uBAAwB,SAAUrJ,GAC9BT,KAAKQ,eAAeiB,YAAY,SAAUhB,GAC1C,GAAIT,KAAKQ,eAAewB,YAAY,aAAc,CAChDhC,KAAKQ,eAAeiB,YAAY,gBAAgB,KAClD,KAAO,CACLzB,KAAKQ,eAAeiB,YAAY,gBAAgB,MAClD,CACA,IAAKuF,OAAOC,KAAKjH,KAAKQ,eAAewB,YAAY,eAAec,OAAQ,CACpE9C,KAAKQ,eAAeiB,YAAY,gBAAiB,IACjD,GAAKzB,KAAKK,UAAU6B,KAAK,mBAAoB,CACzClC,KAAKK,UAAU6B,KAAK,mBAAmB6E,SAAS,IAChD/G,KAAKqD,mBACT,CACArD,KAAK+E,oBACT,MAAO,GAAI/E,KAAKQ,eAAewB,YAAY,iBAAkB,CACzDhC,KAAKoI,2BAA2BpI,KAAKQ,eAAewB,YAAY,iBACpE,CACJ,EACA+H,aAAc,SAAShB,GACnB,IAAIiB,EAAehK,KAAKQ,eAAewB,YAAY,aACnD,IAAIiI,EAAYD,EAAe,iBAAmB,mBAClDhK,KAAKQ,eAAeiB,YAAY,gBAAgB,MAChD,GAAKzB,KAAKK,UAAU6B,KAAK+H,GAAY,CACjCjK,KAAKK,UAAU6B,KAAK+H,GAAWjH,SACnC,CACJ,EACAkH,iBAAkB,SAASnB,GACvB/I,KAAKQ,eAAeiB,YAAY,gBAAiB,MACjD,IAAIuI,EAAehK,KAAKQ,eAAewB,YAAY,aACnD,IAAIiI,EAAYD,EAAe,iBAAmB,mBAClD,GAAKhK,KAAKK,UAAU6B,KAAK+H,GAAY,CACjCjK,KAAKK,UAAU6B,KAAK+H,GAAWjH,SACnC,CACJ,EACAmH,kBAAmB,SAASpB,GACxB/I,KAAKQ,eAAeiB,YAAY,gBAAgB,MACpD,EACA2I,gBAAiB,SAAU9I,GACvB,IAAIM,EAAmBN,EAAO+I,gBAC9B,IAAIC,EAAgB1I,EAAiB2I,aACrC,IAAIlC,EAAgBiC,GAAiBA,EAAczI,kBAAkB,YAAYE,UACjF/B,KAAKiI,gBAAgB,KAAMI,EAC/B,EACAmC,YAAa,WACT,IAAIvB,EAAsBjJ,KAAKkC,KAAK,4BACpC7C,EAAWuJ,gBAAgB,aAAaC,KAAK,SAAUC,GACnD,IAAIrI,EAAQT,KAAKQ,eAAewB,YAAY,UAC5C,GAAIiH,EAAqB,CACrBA,EAAoBC,OACxB,CACAJ,EAASK,gBAAgB1I,EAAO,MAAO,KAC3C,EAAEU,KAAKnB,MACX,EACAyK,gBAAiB,SAAU/F,GACvB,IAAI5D,EAAqBd,KAAKQ,eAAewB,YAAY,uBACzD,IAAI+D,EAAajF,EAAmB4J,KAAK,SAAS3E,GAC9C,OAAOA,EAAWC,MAAQtB,CAC9B,GAEA,GAAIqB,EAAW,CACX,OAAOA,EAAW4E,IACtB,CACA,OAAOjG,CACX,GAER"}