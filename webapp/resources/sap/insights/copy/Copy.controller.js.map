{"version":3,"file":"Copy.controller.js","names":["sap","ui","define","JSONModel","ResourceModel","BaseController","CardHelper","MessageToast","Log","CardPreviewManager","oLogger","getLogger","extend","onInit","this","_oCopyCardViewModel","oOrgCard","oCard","aCards","getView","setModel","I18_BUNDLE","getCore","getLibraryResourceBundle","bundle","i18Bundle","getModel","getResourceBundle","smartFormEditable","_getCopyCardPage","byId","initCopyCard","sCardId","descriptorContent","id","oDraftCardParams","getServiceAsync","then","oService","getUserCards","setProperty","bind","oCopyCard","JSON","parse","stringify","aPreviewManifest","getCardPreviewManifest","oContext","createBindingContext","refresh","setBindingContext","setValueState","_setSmartFormForCopyCard","handleCopyCardDialogCancel","isCopyCardDialogOpen","close","removeAllItems","_setSmartFormForCardEdit","_handleCardPreviewPress","oEvent","getProperty","header","title","_mergeDraftParamsIncard","handleCardsInputChange","oInput","getSource","sValue","getValue","sId","getId","includes","subTitle","handleCardCopyPress","oSmartFormContainer","oSmartForm","getItems","getSmartFields","some","oSmartField","checkClientError","handleSuccess","setBusy","oOriginalCard","sOriginalCardId","oNewCard","sNewCardId","Date","now","aCardList","aVisibleCards","filter","visibility","visible","length","parentAppId","isDtCardCopy","componentName","bSkipValidation","extension","createCard","cardTitle","msg","getText","show","getUserCardModel","cardListPage","getParent","getPages","to","catch","oError","message","finally","error","onNavBack","back"],"sources":["Copy-dbg.controller.js"],"mappings":"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"}