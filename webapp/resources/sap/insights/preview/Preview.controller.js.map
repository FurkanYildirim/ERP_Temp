{"version":3,"file":"Preview.controller.js","names":["sap","ui","define","Controller","JSONModel","ResourceModel","MessageToast","CardHelper","UriParameters","CardPreviewManager","Device","DeviceType","AppConstants","Log","oLogger","getLogger","extend","onInit","this","_oPreviewModel","descriptor","previewDescriptor","oConfCard","oOrgCard","getView","setModel","I18_BUNDLE","getCore","getLibraryResourceBundle","bundle","resize","attachHandler","_adjustLayoutStyles","bind","getProperty","setProperty","save","oCard","getModel","header","trim","visible","_getPreviewDialog","setBusy","oCardwAction","insertActionsManifest","getServiceAsync","then","oCardHelperServiceInstance","createCard","oCreatedCard","show","getText","cancel","catch","oError","message","oTitle","byId","focus","sDeviceType","getDialogBasedDevice","DEVICE_TYPES","Desktop","close","handleTitleChange","oEvent","oTitleInput","getSource","sTitleText","getValue","setValueState","setValueStateText","getCardHeader","setTitle","setEnabled","refresh","handleSubTitleChange","oSubTitleInput","sSubTitleText","setSubtitle","handleVisibilityChange","oModel","val","getParameter","showCardSelectionDialog","oCardUIHelperInstance","_showCardSelectionDialog","_onCardManifestApplied","attachEvent","_onCardLoadFailure","_onCardStateChanged","_onCardContentReady","getParameters","oManifest","getManifest","oTitleValue","title","isReady","bCardError","hasVizData","_callPreview","sCardName","bDesktopMode","_callClosePreview","showPreview","bTransform","calledInternally","getUserCards","aCards","aVisibleCards","filter","visibility","length","JSON","parse","stringify","getCardPreviewManifest","oSapCard","type","showCardConfigureDialog","_formatTitle","open","Promise","resolve","error","reject","sTitle","oControl","showHouseOfCardsDialog","_showCardConfigureDialog","isConfigureEnabled","sConfigureCardEnable","fromQuery","window","location","search","get","toUpperCase"],"sources":["Preview-dbg.controller.js"],"mappings":"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"}