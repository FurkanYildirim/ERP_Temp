{"version":3,"file":"AstExpressionBasic.js","names":["sap","ui","define","Log","jQuery","library","Control","ResponsivePopover","List","JSONModel","ListMode","PlacementType","StandardListItem","CustomData","Sorter","infraUtils","AstExpressionLanguage","ExpressionAdvanced","AutoCompleteSuggestionContent","ExpressionBase","Constants","AggregateFunctionDialog","SelectFunctionDialog","TermsProvider","astBundleLibrary","LocaleData","LoopFunctionDialog","AstExpressionBasicRenderer","AstExpressionBasic","extend","metadata","properties","value","type","defaultValue","dataObjectInfo","bindable","resultDataObjectId","conditionContext","operationsContext","jsonData","enableAggregateFunctionVocabulary","enableAggregateFunctionWhereClause","isAttributeContext","placeholder","isAssociationContext","isReferenceContext","enableAggregateFunctionAttribute","aggregations","associations","ariaLabelledBy","multiple","singularName","ariaHasPopup","events","change","liveChange","init","this","rules","parser","infrastructure","util","utilsBase","utilsBaseLib","oBundle","getCore","getLibraryResourceBundle","aggregateFunctionCallBack","proxy","_updateAggregateFunction","functionCallBack","_updateSelectFunction","loopFunctionCallBack","_updateLoopFunction","_reference","callback","_isDialogOpenedCallbackReference","isDialogOpenedCallback","_uiModel","_cursorPostion","_selectedSpans","_hasTextContent","_createPopver","_attributeContext","_bCtrlSpacePressed","bShiftPressed","shiftKey","isDialogOpen","_focusedOut","_jsonArray","functionClicked","isAutoSuggestionRequired","isDotRequired","aggregateFunctionDialog","getInstance","selectFunctionDialog","loopFunctionDialog","astLibInstance","bTypingFlow","bEditInBetween","nIndexOfToken","tempRelString","filterText","filterTextLength","oEventBus","getEventBus","subscribeOnce","_hiddenAccessModeSelected","onBeforeRendering","_enableAggregateFunctionVocabulary","getEnableAggregateFunctionVocabulary","_enableAggregateFunctionWhereClause","getEnableAggregateFunctionWhereClause","_ariaLabelledById","getAriaLabelledBy","_enableAggregateFunctionAttribute","getEnableAggregateFunctionAttribute","oEvent","oContext","_setTextOnCursorPosition","isOpen","onAfterRendering","referenceId","dotInOperationsContext","_oAstExpressionLanguage","byId","getAstExpressionLanguage","_input","$","_validateControl","contentEditable","getEditable","classList","add","remove","aCustomStyleClasses","length","getJsonData","getValue","trim","markerString","setValue","_convertInputToUiModel","_uiModelToSpan","push","children","textContent","endsWith","DOT","getAttribute","TOKEN_TYPE","WS","UNDEFINED","_isFirstTokenUpdateOrAppendOperation","_createSpaceSpanItem","getIsAttributeContext","getDataObjectInfo","relString","replace","_getCaretPosition","_setCurrentCursorPosition","_setUpEventHandlers","setAttribute","id","inputText","astNodesString","getAstNodesString","getRelStringForGivenAstString","_tokens","getTokensForGivenStringInput","astresponseNodes","JSON","parse","e","error","message","Function","Type","displayString","_astBunldeInstance","ASTUtil","toAstExpressionString","astNodes","convertTokensToUiModel","_generateIDStringFromUIModel","idString","token","reference","text","_getSuggestionsForTheGivenInput","_operationsContext","_addDotToSuggestions","_associationContext","getIsAssociationContext","_referenceContext","getIsReferenceContext","getHeaderInfo","headerValue","getAttributeInfo","EQUAL","getOperationsContext","_addDotToMiscellaneousSuggestions","tokens","uiModel","convertTokensToUiModelForAutoSuggestion","suggestionContext","AttributeContext","OperationsContext","AssociationContext","ReferenceContext","suggestions","_filterSuggestionBasedOnCardinality","dotObj","name","label","getText","autoComplete","categories","operators","operatorslist","miscellaneous","businessDataTypeList","terms","_oAutoSuggestionPopUp","close","getSuggesstions","index","cardinality","ONE_TO_N","isDataObjectTable","splice","_getSuggestionsForEditedInput","bFilter","_calculateStringAndIndexOfNewToken","autoSuggestionInput","_getStringForFilterAndTempRelString","_suggestionsList","sTextForfilter","aFilteredSuggestions","_filterSuggestionList","hasSuggestions","termId","_getTermIdForTheGivenText","referenceFilterString","toUpperCase","indexOf","UPDATE","uiModelLength","lastToken","lastTermDOType","dataObjectType","lastTerm","getReference","lastTermSplitArray","split","ASSOCIATIONDOTYPE","REFERENCEDOTYPE","getTermByTermId","_isDataObjectElement","_constructExpandedRelString","attribute","function","AVG","SUM","MIN","MAX","vocabulary","String","_fetchAttributesSelectFunction","getTable","getGroupByAttributes","groupBy","COUNTDISTINCT","DISTINCT","COUNT","TOP","BOTTOM","SELECT","FIRST","_constructExpandedRelStringForSelect","FOREACH","_fetchForEachOperations","actions","aOperations","sOperations","iterator","_hasAssociationId","_hasReferenceId","_returnAttributeBasedOnType","attributes","Object","keys","key","_getAttributesSelectQuery","str","sAttributes","isEmptyObject","_constructSelectQuery","doVocabId","dataObject","_constructSortQuery","filter","FILTER","query","NOSORT","count","_getDataObjectInfoBaseOnVocaulary","_returnDataObjectBasedOnType","vocabId","functionSelected","vocabularyId","splitArray","_dataObjectType","aSplitArray","term","attributeId","_cardinality","_isDataObjectTable","dataObjectId","groupByString","i","_fetchAttributes","splitIdArray","_createUUID","createUUID","_createSpanItem","oItem","parentId","getId","ruleWithElementDO","tokenType","TERM","termsProvider","ResultDataObjectId","undefined","elementTerm","getIsDataObjectElement","objectFromReference","getTermNameFromASTNodeReference","Element","_addDotToReferenceText","FUNCTION","json","DATEBUSINESSDATATYPE","TIMEBUSINESSDATATYPE","formatter","_getDateTimeFormatter","sDateFormatted","format","itemId","oNewItemSpan","class","cssClass","stringify","oLocale","getConfiguration","getFormatSettings","getFormatLocale","oLocaleData","datePattern","getDatePattern","dateFormatter","core","DateFormat","getDateInstance","pattern","timePattern","getTimePattern","dateTimeFormatter","getDateTimeInstance","bOperation","APPEND","startIndex","bOperationDot","sText","sHtml","outerHTML","html","_closeAutoSuggestionPopup","that","$this","keyCodes","isMac","Device","os","aKeyTracker","on","event","keyCode","pressed","_getSelectedSpans","_handleBackSpaceAndDeleteKey","_handleArrowNavigation","ctrlPressed","optionPressed","_initializeCursorSpan","preventDefault","iIndex","findIndex","Event","which","trigger","forceFireChange","_contextForPerviousSpans","_createLoopFunctionDialog","functions","_createSelectFunctionDialog","selectExpression","_createAggregationFunctionDialog","iKeydownIndex","context","bPrintable","_updateUiModel","lastSpan","startsWith","SINGLE_QUOTE","className","showLiteral","literalInput","_showAutoSuggestion","lastText","data","currentText","_updateUIModelForFreeFlow","_setCaretPosition","spanIndex","position","_handleKeyUpEvent","_handlePopupFocusOut","element","isDeleteKey","_getFullTextContentLength","tempSelectedSpan","_getSelectedSpanGivenIndex","spanText","refArray","REFERENCE","dotArray","previousText","cursorPostion","_removeSpans","nPosition","currentTarget","relatedTarget","_isAutoSuggestionPopover","_fireChange","els","bIsAutoSuggestionPopover","unshift","parentNode","_bPopUpFocused","oSuggestContent","getContent","firstItem","getAggregation","getItems","focus","_uiModeltoString","_getSelectedSpanFromIndex","IDPParser","ALL_STRING","cursorPosition","span","nextSibling","bExpanded","termByLabel","getTermByTermLabel","_termId","termByName","getTermByTermName","oPosition","oSelection","window","getSelection","$input","oContent","oRange","oFirstChild","iPosition","fnFindSpan","aChildren","sSpanText","iLength","innerText","Math","max","childNodes","document","createRange","firstChild","min","setStart","collapse","removeAllRanges","addRange","suggestionString","incorrectInput","prevType","prevToken","_type","EOF","_isEmptySpace","sChar","fromCharCode","_bRequiredFilteredSuggestion","item","_cursorPosition","bPushed","valuehelp","oSuggestions","fnCheckMatchesAndAdd","aSuggestions","aData","sLabelLowered","sTextLowered","sNameLowered","toLowerCase","createFilteredList","advancedFunctions","advanced","aList","aggregateFunctions","aggregate","selectionFunctions","selection","windowFunctions","timeDateFunctions","time_duration","loopFunctions","loop","defaultOperations","operations","arithmeticOperators","arithmetic","comparisonOperators","comparision","logicalOperators","logical","arrayOperators","array","rangeOperators","range","miscellaneousOperators","functionalOperators","functional","slice","filterString","markerRelString","_getValueAfterReplacingSpace","setJsonData","fireChange","newValue","displayText","valueToBeReplaced","$0","$1","$2","selectedSpan","getDomRef","childSpan","expandedText","getSource","mProperties","empty","_getNewSpaceSpan","newSpan","spanId","insertAfter","_addSpace","atLeastOneSpanRemoved","_prevNodeofRemovedNode","prev","HTMLSpanElement","suggestionContent","bExpand","xPos","HTMLPreElement","parseInt","left","width","yPos","setTimeout","destroyContent","addContent","content","dialogOpenedCallbackReference","vocabularyInfo","expand","setOffsetX","setOffsetY","openBy","_isLastTokenSpaceItem","isLastTokenSpace","oLastItem","elemWithRule","isResultDataObjectElement","_addItemToEmptyInput","ruleContext","isAssociation","isReference","_addAtBeginningForInBetween","spaceSpan","insertBefore","bAddSpaceAutoMatically","_handleUndefinedForInBetween","currentSpan","prevSpan","nextSpan","existingTextLength","_replacePreviousUndefinedTokens","_addInBetweenTermsForInBetween","_appendItemText","referenceArray","newSpanText","_addItemInBetween","bReplaceFunctionWithTerm","previousSibling","_addItemsToTheEnd","_bReplaceFunctionWithSelectedItem","_resetCursorForRerendering","sPrevId","_getItemFromSuggestionModel","console","aRemoveSpan","previousId","oSource","getBindingContext","oBindingContextObject","getObject","displayType","termsProviderInstance","resultTerm","bAddDotAutomatically","_createObjectSpanItem","isParentEntity","substring","noOfMandatoryArgs","getParameter","oValueHelpObject","Value","getConditionContext","showArrow","placement","Vertical","horizontalScrolling","showHeader","contentWidth","title","initialFocus","afterOpen","caretPosition","iStart","oSelectedObj","aChildNodes","iAncestorCount","fnCheckCurrent","oNode","anchorNode","fnProcessNode","oChild","nodeType","getRangeAt","startOffset","oSelObj","collection","Array","rangeObject","startContainer","endContainer","firstElement","lastElement","nextAll","each","siblingID","attr","_createRange","node","chars","selectNode","setEnd","Node","TEXT_NODE","lp","GEOBUSINESSDATATYPE","forEach","fullText","lengthOfText","_constructReferenceForFilter","ref","_isChildOf","_getCurrentCursorPosition","charCount","focusNode","focusOffset","oData","hiddenAstCtrl","expId","valueState","getValueState","valueStateText","getValueStateText","contains","renderer"],"sources":["AstExpressionBasic-dbg.js"],"mappings":"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"}