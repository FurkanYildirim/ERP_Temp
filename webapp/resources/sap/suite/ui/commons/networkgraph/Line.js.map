{"version":3,"file":"Line.js","names":["sap","ui","define","library","ElementBase","Geometry","Coordinate","Utils","RenderManager","ArrowPosition","networkgraph","LineArrowPosition","LineType","ArrowOrientation","LineArrowOrientation","Shape","NodeShape","Orientation","BEND_RADIUS","FOCUS_LANE_WIDTH","RELATIVE_ARROW_POSITION","FIXED_ARROW_POSITION","ZERO_ANGLE_ARROW_POINTS","Apex","x","y","Second","Third","ZERO_ANGLE_ARROW_POINTS_DUAL_1","ZERO_ANGLE_ARROW_POINTS_DUAL_2","NIPPLE_ARC_RADIUS","oResourceBundle","getCore","getLibraryResourceBundle","Line","extend","apiVersion","metadata","properties","selected","type","group","defaultValue","from","to","lineType","Solid","arrowPosition","End","arrowOrientation","ParentOf","stretchToCenter","aggregations","coordinates","multiple","singularName","actionButtons","events","hover","press","parameters","point","opener","renderer","oRM","oControl","sHtml","_render","renderManager","this","oRm","unsafeHtml","onAfterRendering","_afterRenderingBase","init","_oFrom","_oTo","_bFocusRendered","_sKey","_bIsHidden","prototype","aProcessRequiredProperties","_afterRendering","_setupEvents","getFromNode","getToNode","$","hide","_removeFromInvalidatedControls","mOptions","sSelectedClass","getSelected","SELECT_CLASS","sId","_getElementId","idSufix","sRoundedPath","sStyle","_getStatusStyle","stroke","ColorType","Border","BorderWidth","BorderStyle","sColorStyle","fill","Background","fnRenderPath","sClass","sPathId","bIsInvisible","_renderControl","d","class","_getLineClass","style","getKey","id","bind","fnCreateArrowAttr","iIndex","aPoints","sArrowId","fnRenderArrow","sOrientation","sPosition","_getArrowPoints","_isBothMiddleArrow","fnCreateArc","iX","iY","iEndX","iEndY","sArc","LeftRight","RightLeft","TopBottom","BottomTop","_isIgnored","getVisible","openStart","attr","openEnd","close","_createPath","_getStatusClass","getArrowOrientation","None","getCoordinates","length","Both","getArrowPosition","Middle","ChildOf","Start","_aNipples","sColorStyleText","forEach","oNipple","applyStyles","getStyleObject","orientation","_renderFocusWrapper","fnAppendFocusLine","iShift","oPath","_createElement","appendChild","_resetLayoutData","getSource","getTarget","getX","getY","sPath","iLast","iNew","bIsTopBottom","_isTopBottom","sCoord","sFnName","aCoordinates","getBends","concat","i","NaN","Math","abs","pop","push","j","getBezierPathCorners","fnGetLineTypeClass","getLineType","Dashed","Dotted","_getArrowFragmentVector","oCoords","iLastIndex","iHolyIndex","fnGetFragmentSize","_doesLineFragmentCrossCollapsedGroup","aFragLenSums","fDist","getPointsDistance","center","apex","iStartCoordIndex","oGraph","getParent","oBend1","oBend2","getGroups","some","oGroup","getCollapsed","doLineRectangleIntersect","p1","min","p2","max","_iWidth","_iHeight","oPosVector","oFragVector","oArrowCenter","fArrowAngle","aArrowPoints","fnCalcArrowPoint","oArrowVertex","fFixedPosition","_oGroup","getShape","Circle","_getCircleSize","getNormalizedVector","getRotatedVector","PI","getPointSum","getAngleOfVector","getRotatedPoint","_getAccessibilityLabel","sFromNodeTitle","getTitle","sFromNodeText","getAltText","sToNodeTitle","sToNodeText","getText","_checkForProcessData","getNodeByKey","getFrom","getTo","setSource","mArguments","oCoordinate","addAggregation","setX","setY","setTarget","filter","oCoord","clearBends","oBend","removeAggregation","addBend","oPoint","oNew","insertAggregation","isHidden","_getLineId","setHidden","bValue","oFrom","oTo","bInsideCollapsedGroup","bNodesIgnored","_useInLayout","_isLoop","getId","$line","find","on","oEvent","_click","ctrlKey","clientX","clientY","_mouseOver","_mouseOut","removeClass","HIGHLIGHT_CLASS","_setStatusColors","bExecuteDefault","fireEvent","addClass","sType","$arrow","sBorderColor","_getColor","sBackgroundColor","css","_isSwimLane","$nipple","_showActionButtons","fnCheckAndSetBoundaries","oNode","iBottom","iRight","bIntersection","fnCheckBoundaries","_setNodeOpacity","oParent","_aShadedNodes","hasRectangleRectangleIntersection","iLeft","iTop","_getContentRect","fnCreateLine","iLines","fnAppendArrow","oPos","jQuery","top","left","right","bottom","$tooltip","append","$wrapper","$buttons","ARROW_SIZE","sTitle","_isBothArrow","html","getActionButtons","oButton","_appendActionButton","icon","getIcon","enable","getEnabled","title","click","evt","firePress","buttonElement","target","show","outerHeight","outerWidth","width","bCrossLeft","height","bCrossRight","_isLayered","oTopLeft","oTopRight","oBottomRight","oBottomLeft","oCoordPrev","oCoordNext","oPrev","oNext","oLine","oIntersection","getSegmentsIntersection","_hasVisibleActionButtons","is","_getEnabledActionButtons","aEnabledButtons","oActionButton","getDomRef","_setActionButtonFocus","oItem","bFocus","FOCUS_CLASS","toggleClass","skipConversion","getCorrectMousePosition","oOpener","_tooltip","_getOpener","_selectLine","element","forceFocus","preventDeselect","openDetail","item","_setFocus","call","_isEndPosition","_moveToEnd","_hideShow","bCollapse","_shift","b","oNip","_normalizePath","oFromCenter","oToCenter","getCenterPosition","_validateLayout","isFinite","setSelected","bSelected","setProperty","_mSelectedLines","setFrom","sFrom","invalidate","setTo","sTo","getFocusDomRef","_createSuggestionHelpText","LINE_TITLE_LENGTH","trimText","_isInCollapsedGroup","_isOnScreen","bOnScreen","_isRectOnScreen"],"sources":["Line-dbg.js"],"mappings":"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"}