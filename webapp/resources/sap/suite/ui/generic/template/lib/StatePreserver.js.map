{"version":3,"file":"StatePreserver.js","names":["sap","ui","define","BaseObject","routingHelper","testableHelper","FeLogger","extend","deepExtend","isEmptyObject","oLogger","getLogger","getMethods","oTemplateContract","oSettings","oCrossAppNavService","getCrossAppNavService","oRegistryEntry","componentRegistry","oComponent","getId","bIsRoot","viewLevel","sRealizedAppStateKey","oAppStateIsSetPromise","Promise","resolve","fnNotifyRealizedAppStateConsistent","oAppStateCleanPromise","fnAppStateCleanResolve","oStoringInformation","sAppStateKeyInUrl","sLastAppKey","sLastBindingPath","oCurrentAnalyzedState","Object","create","oLastPermanentKeys","oLastSessionKeys","fnInitializeCurrentAnalyzedState","permanentEntries","sessionEntries","pageEntries","allEntries","fnTransferStateToAnalyzedState","oState","sKey","oEntry","oLifecycle","lifecycle","permanent","session","page","pagination","fnMoveKeyInfoToFront","oLastKeys","oPredecessor","oNext","next","getKeyForStatePromise","bPermanent","appStateKey","sSerialize","JSON","stringify","iCount","oLast","serialize","oAppStatePromise","createEmptyAppStateAsync","getAppComponent","undefined","then","oAppState","oNewLast","getKey","setData","save","fnTransferAnalyzedStateToUrlPromise","oSessionAppStateKeyPromise","oSessionAppStateKey","oStorage","sessionAppStateKey","oPermanentAppStateKeyPromise","oPermanentAppStateKey","oNavigationPromise","utils","isComponentActive","oNavigationControllerProxy","navigateByExchangingQueryParam","appStateName","oBusyHelper","getUnbusy","fnStoreCurrentAppStateAndAdjustURLPromise","getCurrentState","getLastPath","aKeys","sRet","sRoute","route","i","length","oTreeNode","mRoutingTree","sOdataReference","entitySet","navigationProperty","parentRoute","getUrlParameterInfo","sPath","bAlreadyVisible","oRet","stateChanged","bStateHandlingSuspended","setTimeout","fnAdaptRealizedAppStateKey","fnTransferEntries","oTarget","mEntries","bUnconditional","fnRealizeStatePromise","bIsSameAsLast","oNewState","data","applyState","fnAddKeyToLastKeys","sAppStateKey","fnAdaptToFullAppStatePromise","oPermanentState","sSessionAppStateKey","oSessionState","hidePlaceholder","fnAdaptToUrlAppState","oRetrievedState","permanentState","getAppStateFromShell","catch","Function","prototype","bind","getSameAsLastPromise","sBindingPath","oHeaderDataPromise","getHeaderDataAvailablePromise","oApplicationProxy","areTwoKnownPathesIdentical","fnExecuteWithSameAsLast","fnExecute","fnApplyAppState","bIsComponentCurrentlyActive","callAlways","sAppStateKeyToConsider","fnLeaveApp","isStateChange","mAppStates","Array","isArray","sort","error","getAsStateChanger","leaveApp","setState","bToInitial","oInitialState","getInitialState","applyAppState","constructor","this"],"sources":["StatePreserver-dbg.js"],"mappings":"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"}