sap.ui.define(["sap/base/util/isEmptyObject","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/js/AnnotationHelper","sap/suite/ui/generic/template/lib/info/CommonInfo"],function(e,t,n,a){"use strict";function r(r,i,o,s){var g;var l;var u;var c;var d={staticHiddenColumns:[],columnKeyToHiddenPath:undefined};var p=new a(["smartTable","smartControl","searchField","smartTableWithColumnHide"],m);function f(){p.pushCategory("smartTable",true);p.pushCategory("smartControl",true);c=o.oCommonUtils.getControlStateWrapperById(h(),"SmartTable");c.attachStateChanged(function(){o.initialStateAppliedPromise.then(o.oComponentUtils.stateChanged)})}function m(e){l=e;var t=i.getOwnerComponent().getModel().getMetaModel();var n=t.getODataEntitySet(l.getEntitySet());var a=t.getODataEntityType(n.entityType);var r=a["com.sap.vocabularies.UI.v1.LineItem"];var o=l.getCustomData();for(var s=0;s<o.length;s++){if(o[s].getKey()==="lineItemQualifier"){r=a["com.sap.vocabularies.UI.v1.LineItem#"+o[s].getValue()];break}}v(t,a,r||[]);c.setControl(l)}function v(t,n,a){var r=[];var i=Object.create(null);for(var o=0;o<a.length;o++){var g=a[o];C(r,i,t,n,g)}if(!e(i)||r.length){d.staticHiddenColumns=r;d.columnKeyToHiddenPath=i;s.pushCategory(h(),"smartTableWithColumnHide")}}function C(e,t,a,r,s){var g=/[A-Za-z].*[A-Za-z]/;var u=n.createP13NColumnKey(s);var c=n.getBindingForHiddenPath(s);if(c==="{= !${} }"){e.push(u)}if(typeof c==="string"){var d=c.match(g)&&c.match(g)[0];if(d&&d.indexOf("/")>0&&r.navigationProperty){var p=i.getOwnerComponent().getEntitySet();var f=d.split("/",1)[0];if(o.oCommonUtils.checkInverseNavigation(p,l.getTableBindingPath(),l.getEntitySet(),f)){t[u]=d.split("/").slice(1).join("/")}}}else if(!c){e.push(u)}}function h(){if(!g){var e=t.getStableId({type:"ObjectPageTable",subType:"SmartTable",sFacet:r.additionalData.facetId});g=i.getView().createId(e)}return g}function y(){p.getControlAsync().then(function(){var e=l.getDataStateIndicator();var t=e.isFiltering();if(t){e.refresh()}})}function b(){if(!u&&S()){u=i.getView().createId(r.tableSettings.searchSettings.id)}return u}function S(){return r.tableSettings.searchSettings&&r.tableSettings.searchSettings.enabled}function I(){p.getControlAsync().then(function(){l.rebindTable();var e=o.oServices.oPresentationControlHandlerFactory.getPresentationControlHandler(l);e.refresh()})}function P(){return r.navigationProperty}f();return{restrictedObject:{setControl:p.setControl,getControlAsync:p.getControlAsync,getId:h,getNavigationProperty:P,getSearchFieldId:b,isSearchSupported:S,onSaveWithError:y,rebindTable:I,getControlStateWrapper:function(){return c},getHiddenColumnInfo:function(){return d}},getCategories:p.getCategories,pushCategory:function(e){return p.pushCategory(e)},getSupportedCategories:p.getSupportedCategories,getPendingExecutions:p.getPendingExecutions,pushPendingExecutions:p.pushPendingExecutions}}return r});
//# sourceMappingURL=SmartTableInfo.js.map