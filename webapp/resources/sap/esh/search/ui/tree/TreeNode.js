/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){function e(e,t,r){if(r){return t?t(e):e}if(!e||!e.then){e=Promise.resolve(e)}return t?e.then(t):e}function t(e,t){if(e)throw t;return t}function r(e,t){try{var r=e()}catch(e){return t(true,e)}if(r&&r.then){return r.then(t.bind(null,false),t.bind(null,true))}return t(false,r)}function n(){}function i(e){if(e&&e.then){return e.then(n)}}function o(e,t){var r=e();if(r&&r.then){return r.then(t)}return t(r)}function a(e,t){if(!t){return e&&e.then?e.then(n):Promise.resolve()}}function d(e,t,r){if(!e.s){if(r instanceof l){if(r.s){if(t&1){t=r.s}r=r.v}else{r.o=d.bind(null,e,t);return}}if(r&&r.then){r.then(d.bind(null,e,t),d.bind(null,e,2));return}e.s=t;e.v=r;const n=e.o;if(n){n(e)}}}const l=function(){function e(){}e.prototype.then=function(t,r){const n=new e;const i=this.s;if(i){const e=i&1?t:r;if(e){try{d(n,1,e(this.v))}catch(e){d(n,2,e)}return n}else{return this}}this.o=function(e){try{const i=e.v;if(e.s&1){d(n,1,t?t(i):i)}else if(r){d(n,1,r(i))}else{d(n,2,i)}}catch(e){d(n,2,e)}};return n};return e}();function u(e){return e instanceof l&&e.s&1}function s(e,t,r){var n;for(;;){var i=e();if(u(i)){i=i.v}if(!i){return o}if(i.then){n=0;break}var o=r();if(o&&o.then){if(u(o)){o=o.s}else{n=1;break}}if(t){var a=t();if(a&&a.then&&!u(a)){n=2;break}}}var s=new l;var f=d.bind(null,s,2);(n===0?i.then(c):n===1?o.then(h):a.then(v)).then(void 0,f);return s;function h(n){o=n;do{if(t){a=t();if(a&&a.then&&!u(a)){a.then(v).then(void 0,f);return}}i=e();if(!i||u(i)&&!i.v){d(s,1,o);return}if(i.then){i.then(c).then(void 0,f);return}o=r();if(u(o)){o=o.v}}while(!o||!o.then);o.then(h).then(void 0,f)}function c(e){if(e){o=r();if(o&&o.then){o.then(h).then(void 0,f)}else{h(o)}}else{d(s,1,o)}}function v(){if(i=e()){if(i.then){i.then(c).then(void 0,f)}else{c(i)}}else{d(s,1,o)}}}function f(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}sap.ui.define(["./tmpData"],function(n){function d(e){"@babel/helpers - typeof";return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function l(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var i=function(){};return{s:i,n:function(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=true,a=false,d;return{s:function(){r=r.call(e)},n:function(){var e=r.next();o=e.done;return e},e:function(e){a=true;d=e},f:function(){try{if(!o&&r.return!=null)r.return()}finally{if(a)throw d}}}}function u(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function y(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function N(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var T=n["createTmpData"];var p=n["deleteTmpData"];var m=n["getTmpData"];var b=function(){function n(e){var t,r;c(this,n);N(this,"childTreeNodes",[]);this.id=e.id;this.label=e.label;this.expanded=(t=e.expanded)!==null&&t!==void 0?t:false;this.expandable=(r=e.expandable)!==null&&r!==void 0?r:false;this.adjustPlaceholderChildTreeNode()}y(n,[{key:"setTreeNodeFactory",value:function e(t){this.getData().treeNodeFactory=t}},{key:"getTreeNodeFactory",value:function e(){return this.getData().treeNodeFactory}},{key:"hasPlaceholderTreeNode",value:function e(){return this.childTreeNodes.find(function(e){return e.id==="dummy"})!==undefined}},{key:"adjustPlaceholderChildTreeNode",value:function e(){if(this.expandable){if(this.childTreeNodes.length===0){this.addPlaceholderTreeNode()}}else{if(this.hasPlaceholderTreeNode()){this.removePlaceHolderChildTreeNode()}}}},{key:"addPlaceholderTreeNode",value:function e(){if(this.hasPlaceholderTreeNode()){return}this.childTreeNodes.push({id:"dummy"})}},{key:"removePlaceHolderChildTreeNode",value:function e(){if(!this.hasPlaceholderTreeNode()){return}this.childTreeNodes.splice(0,1)}},{key:"getChildTreeNodeById",value:function e(t){var r=l(this.childTreeNodes),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.id===t){return i}}}catch(e){r.e(e)}finally{r.f()}}},{key:"addChildTreeNode",value:function e(t){this.expandable=true;this.removePlaceHolderChildTreeNode();this.childTreeNodes.push(t);t.getData().parentTreeNode=this;t.register()}},{key:"addChildTreeNodes",value:function e(t){var r=l(t),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;this.addChildTreeNode(i)}}catch(e){r.e(e)}finally{r.f()}}},{key:"addChildTreeNodeAtIndex",value:function e(t,r){this.expandable=true;this.removePlaceHolderChildTreeNode();this.childTreeNodes.splice(r,0,t);t.getData().parentTreeNode=this;t.register()}},{key:"removeChildTreeNode",value:function e(t){var r=this.childTreeNodes.indexOf(t);if(r<0){return}this.childTreeNodes.splice(r,1);t.getData().parentTreeNode=null;t.deRegister();this.adjustPlaceholderChildTreeNode()}},{key:"delete",value:function e(){var t=l(this.childTreeNodes.slice()),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(n.id==="dummy"){continue}n["delete"]()}}catch(e){t.e(e)}finally{t.f()}var i=this.getData().parentTreeNode;if(i){i.removeChildTreeNode(this)}if(this.tmpDataId){p(this.tmpDataId)}}},{key:"deleteChildTreeNodes",value:function e(){var t=l(this.childTreeNodes.slice()),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(n.id==="dummy"){continue}n["delete"]()}}catch(e){t.e(e)}finally{t.f()}}},{key:"register",value:function e(){var t=this.getData().parentTreeNode;if(!t.getTreeNodeFactory()){return}t.getTreeNodeFactory().registerTreeNode(this);var r=l(this.childTreeNodes),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.id==="dummy"){continue}i.register()}}catch(e){r.e(e)}finally{r.f()}}},{key:"deRegister",value:function e(){if(!this.getTreeNodeFactory()){return}this.getTreeNodeFactory().deRegisterTreeNode(this);var t=l(this.childTreeNodes),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(n.id==="dummy"){continue}n.deRegister()}}catch(e){t.e(e)}finally{t.f()}}},{key:"getData",value:function e(){if(!this.tmpDataId){var t=T();this.tmpDataId=t.tmpDataId;return t}return m(this.tmpDataId)}},{key:"setExpanded",value:function n(a,d){try{const n=this;n.expanded=a;if(n.getTreeNodeFactory().testMode){return e()}return e(o(function(){if(n.expanded){return i(r(function(){n.deleteChildTreeNodes();n.getTreeNodeFactory().setBusy(true);return e(n.internalFetchChildTreeNodes(),function(e){if(e.length===0){n.expanded=false;n.setExpandable(false)}else{n.addChildTreeNodes(e)}})},function(e,r){n.getTreeNodeFactory().setBusy(false);return t(e,r)}))}else{n.deleteChildTreeNodes()}},function(){if(d){n.getTreeNodeFactory().updateUI()}}))}catch(e){return Promise.reject(e)}}},{key:"internalFetchChildTreeNodes",value:function n(){try{const n=this;return e(r(function(){return e(n.fetchChildTreeNodes())},function(e,r){return t(e,r)}))}catch(e){return Promise.reject(e)}}},{key:"fetchChildTreeNodes",value:function e(){return Promise.resolve([])}},{key:"setExpandable",value:function e(t){this.expandable=t;this.adjustPlaceholderChildTreeNode()}},{key:"updateRecursively",value:function n(){try{const n=this;return e(n.internalFetchChildTreeNodes(),function(e){n.updateChildren(e);var o=l(n.childTreeNodes),d;return i(r(function(){return f(function(){o.s();return i(s(function(){return!(d=o.n()).done},void 0,function(){var e=d.value;if(e.id==="dummy"){return}if(!e.expanded){return}return a(e.updateRecursively())}))},function(e){o.e(e)})},function(e,r){o.f();return t(e,r)}))})}catch(e){return Promise.reject(e)}}},{key:"updateChildren",value:function e(t){if(t.length===0){this.deleteChildTreeNodes();this.expanded=false;this.setExpandable(false);return}this.removePlaceHolderChildTreeNode();var r;for(var n=0;n<t.length;++n){var i=t[n];if(n<=this.childTreeNodes.length-1){r=this.childTreeNodes[n];if(r.id===i.id){}else{r=this.getChildTreeNodeById(i.id);if(r){this.removeChildTreeNode(r);this.addChildTreeNodeAtIndex(r,n)}else{r=i;this.addChildTreeNodeAtIndex(r,n)}}}else{r=i;this.addChildTreeNode(r)}this.updateTreeNodeProperties(r,i);Object.assign(r.getData(),i.getData());if(r.expandable!==i.expandable){if(i.expandable){r.setExpandable(true)}else{r.deleteChildTreeNodes();r.setExpandable(false);r.expanded=false}}if(r!==i){i["delete"]()}}while(this.childTreeNodes.length>t.length){r=this.childTreeNodes[this.childTreeNodes.length-1];if(r.id==="dummy"){this.removePlaceHolderChildTreeNode()}else{r["delete"]()}}}},{key:"updateTreeNodeProperties",value:function e(t,r){var n=["id","expanded","expandable","childTreeNodes","tmpDataId"];for(var i in r){if(n.indexOf(i)>=0){continue}var o=r[i];if(["number","string","boolean"].indexOf(d(o))<0){continue}t[i]=o}}},{key:"visitChildNodesRecursively",value:function e(t){var r=l(this.childTreeNodes),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.id==="dummy"){continue}t(i);i.visitChildNodesRecursively(t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"visitParentNodesRecursively",value:function e(t){var r=this.getParentTreeNode();if(r){t(r);r.visitParentNodesRecursively(t)}}},{key:"getParentTreeNode",value:function e(){return this.getData().parentTreeNode}},{key:"isVisible",value:function e(){var t=function e(t){if(!t.expanded){return false}var r=t.getParentTreeNode();if(!r){return true}return e(r)};var r=this.getParentTreeNode();if(!r){return true}return t(r)}},{key:"hasChildNodes",value:function e(){var t=l(this.childTreeNodes),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(n.id==="dummy"){continue}return true}}catch(e){t.e(e)}finally{t.f()}return false}},{key:"hasExpandedChildNode",value:function e(){var t=l(this.childTreeNodes),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(n.id==="dummy"){continue}if(n.expanded||n.hasExpandedChildNode()){return true}}}catch(e){t.e(e)}finally{t.f()}return false}}]);return n}();return b})})();
//# sourceMappingURL=TreeNode.js.map