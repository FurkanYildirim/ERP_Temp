{"version":3,"file":"SearchHierarchyDynamicFacet.js","names":["_await","value","then","direct","Promise","resolve","_rethrow","thrown","_finallyRethrows","body","finalizer","result","e","bind","_empty","_continueIgnored","sap","ui","define","__TreeNodeFactory","__SearchHierarchyDynamicTreeNode","__StructureTree","_interopRequireDefault","obj","__esModule","default","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","f","TypeError","normalCompletion","didErr","err","call","step","next","return","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","TreeNodeFactory","SearchHierarchyDynamicTreeNode","StructureTree","SearchHierarchyDynamicFacet","properties","this","model","sina","dataSource","attributeId","dimension","title","filter","modelPathPrefix","isShowMoreDialog","handleSetFilter","filterCount","rootCondition","getAttributeConditions","facetType","facetIndex","structureTree","rootNode","id","rootNodeId","label","notDisplayedFilterConditions","treeNodeFactory","create","rootTreeNodePath","concat","treeNodeConstructor","busyIndicator","rootTreeNode","createRootTreeNode","count","facet","setFilter","setHandleSetFilter","setFacetIndex","index","setRootTreeNodePath","updateStructureTree","sinaNode","update","activateFilters","_this2","_firePerspectiveQuery","preserveFormerResults","notifyFilterChanged","_wasThrown","_result","reject","updateFromResultSet","resultSet","childTreeNodes","_iterator","node","childNodes","_step","childNode","push","createTempTreeNode","expandable","hasChildren","updateChildren","getComplexConditionOfFacet","conditions","complexCondition","containsAttribute","getFilterConditions","filterConditions","condition","mixinFilterNodes","hasFilter","visitChildNodesRecursively","treeNode","treeNodeId","filterCondition","getTreeNode","j","notDisplayedFilterCondition","addMissingFilterNode","splice","calculateCheckboxStatus","calculateFilterCount","setProperty","_this","getOrCreateTreeNode","structureTreeNode","isVisible","parentNode","Error","parentTreeNode","createTreeNode","addChildTreeNode","getNode","selected","partiallySelected","leafNodes","hasChildNodes","leafNode","calculateCheckboxStatusFromLeafNode","markPartiallySelected","getParentTreeNode","handleModelUpdate","updateUI","_delete","updateNodesFromHierarchyNodePaths","hierarchyNodePaths","_iterator2","_step2","hierarchyNodePath","updateFromHierarchyNodePath"],"sources":["SearchHierarchyDynamicFacet-dbg.js"],"mappings":"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"}