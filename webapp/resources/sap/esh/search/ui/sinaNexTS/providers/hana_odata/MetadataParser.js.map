{"version":3,"file":"MetadataParser.js","names":["sap","ui","define","____core_Log","____sina_AttributeType","____sina_AttributeFormatType","____sina_MatchingStrategy","____core_errors","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","Log","AttributeType","AttributeFormatType","MatchingStrategy","UnknownAttributeTypeError","UnknownPresentationUsageError","AccessUsageConversionMap","PresentationUsageConversionMap","MetadataParser","provider","this","log","sina","value","_setAnnotationValue","annotations","annotationName","annotationParts","split","annotationPart","annotationPointer","dummyEntryName","undefined","Array","isArray","push","concat","propName","fillMetadataBuffer","dataSource","attributes","attributesMetadata","id","attributeMetadataMap","cdsAnnotations","dataSourceAnnotations","attributeAnnotations","attributeMetadata","attributeMap","fillPublicMetadataBuffer","e","error","label","toString","parser","_createCDSAnnotationsParser","parseCDSAnnotationsForDataSource","displayOrderIndex","displayOrder","labelRaw","annotationsAttr","typeAndFormat","_parseAttributeTypeAndFormat","type","_attributeMetadata$hi","_attributeMetadata$hi2","_attributeMetadata$hi3","publicAttributeMetadata","_createAttributeMetadata","isKey","isSortable","usage","_parseUsage","format","matchingStrategy","_parseMatchingStrategy","isHierarchy","hierarchyDefinition","hierarchyName","name","hierarchyDisplayType","displayType","isHierarchyDefinition","_attributeMetadata$hi4","_attributeMetadata$hi5","_attributeMetadata$hi6","_attributeMetadata$hi7","hierarchyAttribute","attributeName","_attributeMetadata$hi8","hierarchyDefinitionName","hierarchyHelperDatasource","getDataSource","_private","semanticObjectType","SemanticObjectTypeId","supportsTextSearch","Text","Exact","attributeId","presentationUsage","toUpperCase","ImageUrl","String","LongText","SEMANTICS","CONTACT","PHOTO","IMAGEURL","ImageBlob","Double","Integer","Time","Date","TypeLength","Timestamp","GeoJson","startsWith","warn","Title","Detail","isFacet","AdvancedSearch","facetPosition","iconUrlAttributeName","facetIconUrlAttributeName","Facet","isFilteringAttribute","parseDynamicMetadata","searchResult","data","metadata","dataSourceId","dataSourceMetadata","dynamicAttributeMetadata","parseDynamicAttributeMetadata","$Type","getAttributeMetadata","_attributeMetadata$us","_attributeMetadata$us2","dynamic","getUniqueDataSourceFromSearchResult","items","prevDataSourceId","item","context","__exports","__esModule"],"sources":["MetadataParser-dbg.js"],"mappings":"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"}