{"version":3,"file":"ItemParser.js","names":["_await","value","then","direct","Promise","resolve","sap","ui","define","util","typeConverter","____core_Log","____core_errors","___tools_WhyfoundProcessor","___HierarchyNodePathParser","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","Log","InternalServerError","WhyfoundProcessor","HierarchyNodePathParser","ItemParser","provider","this","sina","intentsResolver","_createFioriIntentsResolver","suvNavTargetResolver","_createSuvNavTargetResolver","hierarchyNodePathParser","parse","searchQuery","data","_this","error","reject","message","log","warn","itemsData","itemProms","itemData","itemProm","parseItem","push","e","all","query","_this2","_this$sina$getDataSou","attributes","titleAttributes","detailAttributes","titleDescriptionAttributes","allAttributes","semanticObjectTypeAttributes","entitySetName","posOfSeparator","lastIndexOf","slice","dataSource","getDataSource","hierarchyNodePaths","undefined","itemResponse","whyFounds","hasHierarchyNodeChild","hasHierarchyNodeChildAttribute","_createSearchResultSetItemAttribute","id","label","toString","valueFormatted","valueHighlighted","isHighlighted","metadata","groups","semanticObjectType","suvAttributes","suvAttribute","suvAttributeName","suvHighlightTerms","fallbackDefaultNavigationTarget","rankingScore","whyFoundProcessor","itemDataStructured","preParseItem","attributeName","groupBy","aggregateCountAlias","structuredAttribute","getAttributeMetadata","usage","Detail","displayOrder","attrValue","odata2Sina","type","attrWhyFound","processRegularWhyFoundAttributes","valueString","JSON","stringify","attribute","calIsHighlighted","iconUrlAttributeName","iconUrlValue","iconUrl","appendRemovingDuplicates","extractHighlightedTerms","Title","TitleDescription","Navigation","mainNavigation","_createNavigationTarget","targetUrl","attributeMetadataMap","_private","suvTargetUrlAttribute","suvTargetMimeTypeAttribute","sort","a1","a2","resolveSuvNavTargets","searchResultSetItem","_createSearchResultSetItem","defaultNavigationTarget","navigationTargets","score","Array","isArray","allAttributesMap","itemPostParser","_createItemPostParser","postParseResultSetItem","postResultSetItem","processAdditionalWhyfoundAttributes","originalPropertyName","splitted","split","propertyName","substructure","__exports","__esModule"],"sources":["ItemParser-dbg.js"],"mappings":";;;;;;CAOA,WACA,SAASA,EAAOC,EAAOC,EAAMC,GAC3B,GAAIA,EAAQ,CACV,OAAOD,EAAOA,EAAKD,GAASA,CAC9B,CACA,IAAKA,IAAUA,EAAMC,KAAM,CACzBD,EAAQG,QAAQC,QAAQJ,EAC1B,CACA,OAAOC,EAAOD,EAAMC,KAAKA,GAAQD,CACnC,CACAK,IAAIC,GAAGC,OAAO,CAAC,kBAAmB,kBAAmB,iBAAkB,oBAAqB,6BAA8B,6BAA8B,SAAUC,EAAMC,EAAeC,EAAcC,EAAiBC,EAA4BC,GAChP,SAASC,EAAQC,GACf,0BAEA,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAC7F,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAO,mBAAqBC,QAAUD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,CAC1H,EAAGD,EAAQC,EACb,CACA,SAASK,EAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GAAc,CACtC,MAAM,IAAIC,UAAU,oCACtB,CACF,CACA,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,YAAc,MACjDD,EAAWE,aAAe,KAC1B,GAAI,UAAWF,EAAYA,EAAWG,SAAW,KACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,EAChD,CACF,CACA,SAASO,EAAad,EAAae,EAAYC,GAC7C,GAAID,EAAYb,EAAkBF,EAAYH,UAAWkB,GACzD,GAAIC,EAAad,EAAkBF,EAAagB,GAChDL,OAAOC,eAAeZ,EAAa,YAAa,CAC9CU,SAAU,QAEZ,OAAOV,CACT,CACA,SAASiB,EAAgBxB,EAAKoB,EAAKnC,GACjC,GAAImC,KAAOpB,EAAK,CACdkB,OAAOC,eAAenB,EAAKoB,EAAK,CAC9BnC,MAAOA,EACP8B,WAAY,KACZC,aAAc,KACdC,SAAU,MAEd,KAAO,CACLjB,EAAIoB,GAAOnC,CACb,CACA,OAAOe,CACT,CACA,IAAIyB,EAAM9B,EAAa,OACvB,IAAI+B,EAAsB9B,EAAgB,uBAC1C,IAAI+B,EAAoB9B,EAA2B,qBACnD,IAAI+B,EAA0B9B,EAA2B,2BACzD,IAAI+B,EAA0B,WAC5B,SAASA,EAAWC,GAClBzB,EAAgB0B,KAAMF,GACtBL,EAAgBO,KAAM,MAAO,IAAIN,EAAI,2BACrCM,KAAKD,SAAWA,EAChBC,KAAKC,KAAOF,EAASE,KACrBD,KAAKE,gBAAkBF,KAAKC,KAAKE,4BAA4B,CAC3DF,KAAMD,KAAKC,OAEbD,KAAKI,qBAAuBJ,KAAKC,KAAKI,4BAA4B,CAChEJ,KAAMD,KAAKC,OAEbD,KAAKM,wBAA0B,IAAIT,EAAwBG,KAAKC,KAClE,CACAX,EAAaQ,EAAY,CAAC,CACxBT,IAAK,QACLnC,MAAO,SAASqD,EAAMC,EAAaC,GACjC,IACE,MAAMC,EAAQV,KACd,GAAIS,EAAKE,QAAUF,EAAKvD,MAAO,CAC7B,OAAOG,QAAQuD,OAAO,IAAIjB,EAAoBc,EAAKE,MAAME,SAC3D,CACA,IAAKJ,EAAKvD,MAAO,CACf,OAAOG,QAAQC,QAAQ,GACzB,CACA,GAAImD,EAAKE,MAAO,CACdD,EAAMI,IAAIC,KAAK,wBAA0BN,EAAKE,MAAME,QACtD,CACA,IAAIG,EAAYP,EAAKvD,MACrB,IAAI+D,EAAY,GAChB,IAAK,IAAIpC,EAAI,EAAGA,EAAImC,EAAUlC,SAAUD,EAAG,CACzC,IAAIqC,EAAWF,EAAUnC,GACzB,IAAIsC,OAAgB,EACpB,IACEA,EAAWT,EAAMU,UAAUF,EAAUV,GACrCS,EAAUI,KAAKF,EACjB,CAAE,MAAOG,GACPZ,EAAMI,IAAIC,KAAK,gDAAkDlC,EAAI,KAAOyC,EAAET,QAChF,CACF,CACA,OAAOxD,QAAQkE,IAAIN,EACrB,CAAE,MAAOK,GACP,OAAOjE,QAAQuD,OAAOU,EACxB,CACF,GACC,CACDjC,IAAK,YACLnC,MAAO,SAASkE,EAAUF,EAAUM,GAClC,IACE,MAAMC,EAASzB,KACf,IAAI0B,EACJ,IAAIC,EAAa,GACjB,IAAIC,EAAkB,GACtB,IAAIC,EAAmB,GACvB,IAAIC,EAA6B,GACjC,IAAIC,EAAgB,CAAC,EACrB,IAAIC,EAA+B,CAAC,EACpC,IAAIC,EAAgBf,EAAS,mBAAqB,GAClD,IAAIgB,EAAiBD,EAAcE,YAAY,KAC/C,GAAID,GAAkB,EAAG,CACvBD,EAAgBA,EAAcG,MAAMF,EAAiB,EACvD,CACA,IAAIG,GAAcX,EAAwBD,EAAOxB,KAAKqC,cAAcL,MAAoB,MAAQP,SAA+B,EAAIA,EAAwBF,EAAMc,gBACjK,IAAIC,EAAqBC,UACzB,GAAItB,EAAS,qDAAsD,CACjE,IAAIuB,EAAe,CACjBhC,KAAM,CACJ,oDAAqDS,EAAS,uDAGlEqB,EAAqBd,EAAOnB,wBAAwBC,MAAMkC,EAAcjB,EAC1E,CACA,IAAIkB,EAAYxB,EAAS,6CAA+C,CAAC,EACzE,IAAIyB,EAAwBzB,EAAS,gDAAkD,MACvF,IAAI0B,EAAiCnB,EAAOxB,KAAK4C,oCAAoC,CACnFC,GAAI,wBACJC,MAAO,wBACP7F,MAAOyF,EAAsBK,WAC7BC,eAAgBN,EAAsBK,WACtCE,iBAAkBP,EAAsBK,WACxCG,cAAe,MACfC,SAAUZ,UACVa,OAAQ,KAEVtB,EAAca,EAA+BE,IAAMF,EACnDjB,EAAWN,KAAKuB,GAChB,IAAIQ,EACJ,IAAIE,EAAqB,GACzB,IAAIC,EAAgB,CAAC,EACrB,IAAIC,EAAcC,EAClB,IAAIC,EAAoB,GACxB,IAAIC,EACJ,IAAIC,EAAe1C,EAAS,2CAC5B,IAAI2C,EAAoB,IAAIjE,EAAkB6B,EAAOxB,MAGrD,IAAI6D,EAAqBrC,EAAOsC,aAAa7C,GAC7C,IAAK,IAAI8C,KAAiBF,EAAoB,CAC5C,GAAItC,EAAMyC,SAAWzC,EAAMyC,QAAQC,qBAAuB1C,EAAMyC,QAAQC,sBAAwBF,EAAe,CAC7G,QACF,CACA,IAAIG,EAAsBL,EAAmBE,GAC7CZ,EAAWf,EAAW+B,qBAAqBJ,GAC3C,GAAIZ,EAASN,IAAM,WAAY,CAE7BM,EAASiB,MAAMC,OAAOC,cAAgB,CACxC,CAcA,IAAIC,EAAY7G,EAAc8G,WAAWrB,EAASsB,KAAMP,EAAoBjH,OAC5E,IAAIyH,EAAed,EAAkBe,iCAAiCZ,EAAeG,EAAqBzB,EAAWU,GACrH,IAAIyB,EAAc,GAClB,UAAWL,IAAc,SAAU,CACjCK,EAAcL,CAChB,MAAO,GAAIA,IAAc,MAAQA,IAAchC,UAAW,CACxDqC,EAAcC,KAAKC,UAAUP,EAC/B,CACA,IAAIQ,EAAYvD,EAAOxB,KAAK4C,oCAAoC,CAC9DC,GAAIM,EAASN,GACbC,MAAOK,EAASL,MAChB7F,MAAOsH,EACPvB,eAAgB4B,EAChB3B,iBAAkByB,EAClBxB,cAAeU,EAAkBoB,iBAAiBN,GAClDvB,SAAUA,EACVC,OAAQ,KAIV,GAAID,EAAS8B,sBAAwBpB,EAAmBV,EAAS8B,sBAAuB,CACtF,IAAIC,EAAerB,EAAmBV,EAAS8B,sBAC/C,GAAIlH,EAAQmH,KAAkB,UAAYA,EAAajI,MAAO,CAC5D8H,EAAUI,QAAUD,EAAajI,KACnC,KAAO,CACL8H,EAAUI,QAAUD,CACtB,CACF,CACAzH,EAAK2H,yBAAyB3B,EAAmBhG,EAAK4H,wBAAwBN,EAAU9B,mBAcxF,GAAIE,EAASiB,MAAMkB,MAAO,CACxB3D,EAAgBP,KAAK2D,EACvB,CACA,GAAI5B,EAASiB,MAAMmB,iBAAkB,CACnC1D,EAA2BT,KAAK2D,EAClC,CACA,GAAI5B,EAASiB,MAAMC,OAAQ,CACzBzC,EAAiBR,KAAK2D,EACxB,CACArD,EAAWN,KAAK2D,GAChB,GAAI5B,EAASiB,MAAMoB,WAAY,CAC7B,GAAIrC,EAASiB,MAAMoB,WAAWC,eAAgB,CAC5C/B,EAAkClC,EAAOxB,KAAK0F,wBAAwB,CACpE5C,MAAOiC,EAAU9H,MACjB0I,UAAWZ,EAAU9H,MACrByB,OAAQ,UAEZ,CACF,CACAoD,EAAciD,EAAUlC,IAAMkC,EAC9B1B,EAAqBjB,EAAWwD,qBAAqBzC,EAASN,IAAIgD,SAASxC,oBAAsB,GACjG,GAAIA,EAAmBxE,OAAS,EAAG,CACjCkD,EAA6BsB,GAAsBkB,CACrD,CACF,CACA,IAAKf,KAAoBF,EAAe,CACtCC,EAAeD,EAAcE,GAC7B,UAAWD,EAAauC,wBAA0B,SAAU,CAC1DvC,EAAauC,sBAAwBhE,EAAcyB,EAAauC,sBAClE,CACA,UAAWvC,EAAawC,6BAA+B,SAAU,CAC/DxC,EAAawC,2BAA6BjE,EAAcyB,EAAawC,2BACvE,CACA,KAAMxC,EAAauC,uBAAyBvC,EAAawC,4BAA6B,QAC7EzC,EAAcE,EACvB,CACF,CACA7B,EAAgBqE,KAAK,SAAUC,EAAIC,GACjC,OAAOD,EAAG9C,SAASiB,MAAMkB,MAAMhB,aAAe4B,EAAG/C,SAASiB,MAAMkB,MAAMhB,YACxE,GACA1C,EAAiBoE,KAAK,SAAUC,EAAIC,GAClC,OAAOD,EAAG9C,SAASiB,MAAMC,OAAOC,aAAe4B,EAAG/C,SAASiB,MAAMC,OAAOC,YAC1E,GACA9C,EAAOrB,qBAAqBgG,qBAAqB/D,EAAYkB,EAAeG,GAC5E,IAAI2C,EAAsB5E,EAAOxB,KAAKqG,2BAA2B,CAC/DjE,WAAYA,EACZV,WAAYA,EACZC,gBAAiBA,EACjBE,2BAA4BA,EAC5BD,iBAAkBA,EAClB0E,wBAAyB5C,EACzB6C,kBAAmB,GACnBC,MAAO7C,IAET,GAAI8C,MAAMC,QAAQpE,IAAuBA,EAAmBzD,OAAS,EAAG,CACtEuH,EAAoB9D,mBAAqBA,CAC3C,CACA8D,EAAoBP,SAASc,iBAAmB7E,EAChDsE,EAAoBP,SAAS9D,6BAA+BA,EAC5D,IAAI6E,EAAiBpF,EAAOxB,KAAK6G,sBAAsB,CACrDT,oBAAqBA,IAEvB,OAAOpJ,EAAO4J,EAAeE,yBAA0B,SAAUC,GAC/D,OAAO/J,EAAO4G,EAAkBoD,oCAAoCvE,EAAWsE,GACjF,EACF,CAAE,MAAO1F,GACP,OAAOjE,QAAQuD,OAAOU,EACxB,CACF,GACC,CACDjC,IAAK,eACLnC,MAAO,SAAS6G,EAAa7C,GAC3B,IAAI4C,EAAqB,CAAC,EAC1B,IAAK,IAAIoD,KAAwBhG,EAAU,CACzC,GAAIgG,EAAqB,KAAO,KAAOA,EAAqB,KAAO,IAAK,CACtE,QACF,CACA,IAAIhK,EAAQgE,EAASgG,GACrB,IAAIC,EAAWD,EAAqBE,MAAM,KAC1C,IAAIC,EAAeF,EAAS,GAC5B,IAAIG,EAAexD,EAAmBuD,GACtC,IAAKC,EAAc,CACjBA,EAAe,CAAC,EAChBxD,EAAmBuD,GAAgBC,CACrC,CACA,GAAIH,EAASrI,SAAW,EAAG,CACzBwI,EAAapK,MAAQA,EACrB,QACF,CACA,GAAIiK,EAASrI,SAAW,EAAG,CACzBwI,EAAaH,EAAS,IAAMjK,EAC5B,QACF,CACA,KAAM,kCACR,CACA,OAAO4G,CACT,KAEF,OAAOhE,CACT,CArQ8B,GAsQ9B,IAAIyH,EAAY,CACdC,WAAY,MAEdD,EAAUzH,WAAaA,EACvB,OAAOyH,CACT,EACC,EAvUD"}