/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/helpers/ClassSupport","sap/ui/core/message/Message","../MacroAPI"],function(e,t,i){"use strict";var r,n,a,l,o,s,u,c,p,d,g,f,b,y,m,h,v,w,A,z,P,M,O,B,E,C,F,I;var x=e.xmlEventHandler;var j=e.property;var L=e.event;var S=e.defineUI5Class;var D=e.association;function R(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function T(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function V(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;W(e,t)}function W(e,t){W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return W(e,t)}function _(e,t,i,r,n){var a={};Object.keys(r).forEach(function(e){a[e]=r[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function k(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}function N(e){if(e.isA("sap.fe.macros.controls.FieldWrapper")){const t=e;const i=t.getEditMode()==="Display"?[t.getContentDisplay()]:t.getContentEdit();if(i.length>=1){return i.length?i[0]:undefined}}else{return e}return undefined}let q=(r=S("sap.fe.macros.field.FieldAPI",{returnTypes:["sap.fe.core.controls.FormElementWrapper"]}),n=j({type:"boolean"}),a=j({type:"boolean"}),l=j({type:"string"}),o=j({type:"string",expectedAnnotations:[],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty","Property"]}),s=j({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),u=L(),c=D({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),p=j({type:"boolean"}),d=j({type:"sap.fe.macros.FieldFormatOptions"}),g=j({type:"string"}),f=j({type:"boolean"}),b=j({type:"boolean"}),y=x(),r(m=(h=function(e){V(i,e);function i(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;R(t,"editable",v,T(t));R(t,"readOnly",w,T(t));R(t,"id",A,T(t));R(t,"metaPath",z,T(t));R(t,"contextPath",P,T(t));R(t,"change",M,T(t));R(t,"ariaLabelledBy",O,T(t));R(t,"required",B,T(t));R(t,"formatOptions",E,T(t));R(t,"semanticObject",C,T(t));R(t,"collaborationEnabled",F,T(t));R(t,"visible",I,T(t));return t}var r=i.prototype;r.handleChange=function e(t){this.fireChange({value:this.getValue(),isValid:t.getParameter("valid")})};r.onBeforeRendering=function e(){const t=function(e){return e.isA(["sap.m.Button","sap.fe.macros.controls.FieldWrapper","sap.ui.mdc.Field","sap.fe.macros.controls.FileWrapper"])};const i=this.content;if(i&&t(i)&&i.addAriaLabelledBy){const e=this.getAriaLabelledBy();for(let t=0;t<e.length;t++){const r=e[t];const n=i.getAriaLabelledBy()||[];if(n.indexOf(r)===-1){i.addAriaLabelledBy(r)}}}};r.enhanceAccessibilityState=function e(t,i){const r=this.getParent();if(r&&r.enhanceAccessibilityState){r.enhanceAccessibilityState(this,i)}return i};r.getAccessibilityInfo=function e(){const t=this.content;return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};r.getIdForLabel=function e(){const t=this.content;return t.getIdForLabel()};r.getValue=function e(){var t,i,r,n;let a=N(this.content);if(this.collaborationEnabled&&(t=a)!==null&&t!==void 0&&t.isA("sap.m.HBox")){a=a.getItems()[0]}if((i=a)!==null&&i!==void 0&&i.isA("sap.m.CheckBox")){return a.getSelected()}else if((r=a)!==null&&r!==void 0&&r.isA("sap.m.InputBase")){return a.getValue()}else if((n=a)!==null&&n!==void 0&&n.isA("sap.ui.mdc.Field")){return a.getValue()}else{throw"getting value not yet implemented for this field type"}};r.addMessage=function e(i){const r=this.getMessageManager();const n=N(this.content);let a;if(n!==null&&n!==void 0&&n.isA("sap.m.CheckBox")){var l;a=(l=n.getBinding("selected"))===null||l===void 0?void 0:l.getResolvedPath()}else if(n!==null&&n!==void 0&&n.isA("sap.m.InputBase")){var o;a=(o=n.getBinding("value"))===null||o===void 0?void 0:o.getResolvedPath()}else if(n!==null&&n!==void 0&&n.isA("sap.ui.mdc.Field")){a=n.getBinding("value").getResolvedPath()}const s=new t({target:a,type:i.type,message:i.message,processor:n===null||n===void 0?void 0:n.getModel(),description:i.description,persistent:i.persistent});r.addMessages(s);return s.getId()};r.removeMessage=function e(t){const i=this.getMessageManager();const r=i.getMessageModel().getData();const n=r.find(e=>e.id===t);if(n){i.removeMessages(n)}};r.getMessageManager=function e(){return sap.ui.getCore().getMessageManager()};return i}(i),v=_(h.prototype,"editable",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),w=_(h.prototype,"readOnly",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),A=_(h.prototype,"id",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),z=_(h.prototype,"metaPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),P=_(h.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),M=_(h.prototype,"change",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),O=_(h.prototype,"ariaLabelledBy",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),B=_(h.prototype,"required",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),E=_(h.prototype,"formatOptions",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),C=_(h.prototype,"semanticObject",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),F=_(h.prototype,"collaborationEnabled",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),I=_(h.prototype,"visible",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),_(h.prototype,"handleChange",[y],Object.getOwnPropertyDescriptor(h.prototype,"handleChange"),h.prototype),h))||m);return q},false);
//# sourceMappingURL=FieldAPI.js.map