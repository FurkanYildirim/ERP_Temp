{"version":3,"file":"TableDelegate.js","names":["sap","ui","define","Log","deepEqual","CommonUtils","FilterBar","MetaModelConverter","MetaModelFunction","ModelHelper","DataModelPathHelper","DisplayModeFormatter","PropertyHelper","EDM","TypeUtil","MacrosDelegateUtil","TableDelegateHelper","Core","TableDelegate","DelegateUtil","FilterUtil","Filter","FilterOperator","Sorter","isSortableProperty","isFilterableProperty","getPath","isTypeFilterable","getLabel","getAssociatedUnitPropertyPath","getAssociatedTimezonePropertyPath","getAssociatedTextPropertyPath","getAssociatedCurrencyPropertyPath","getDisplayMode","getTargetObjectPath","enhanceDataModelPath","isMultiValueFilterExpression","getSortRestrictionsInfo","getFilterRestrictionsInfo","getInvolvedDataModelObjects","fetchTypeConfig","ODataTableDelegate","Object","assign","fetchProperties","async","table","model","this","_getModel","properties","_createPropertyInfos","createInternalBindingContext","setCachedProperties","getBindingContext","setProperty","dialog","isA","getParent","internalModel","getModel","internalBindingContext","newInternalBindingContextPath","getId","getProperty","newInternalBindingContext","bindContext","getBoundContext","setBindingContext","collectRelatedProperties","dataModelPropertyPath","dataModelAdditionalPropertyPath","getAdditionalProperty","relatedProperties","targetObject","_property$annotations","_property$annotations2","_textAnnotation$annot","_textAnnotation$annot2","_textAnnotation$annot3","additionalProperty","additionalPropertyPath","property","propertyPath","textAnnotation","annotations","Common","Text","textArrangement","UI","TextArrangement","toString","displayMode","metadataInfo","getDelegate","payload","entitySetPath","collectionName","metaModel","getMetaModel","requestObject","then","entitySetAnnotations","sortRestrictionsInfo","filterRestrictions","filterRestrictionsInfo","customDataForColumns","getCustomData","propertiesToBeCreated","dataModelEntityPath","getContext","customData","forEach","columnDef","propertyInfo","name","path","label","sortable","filterable","maxConditions","getPropertyMaxConditions","typeConfig","$Type","getTypeUtil","getTypeConfig","undefined","targetPropertyPath","type","propertyTypeConfig","formatOptions","constraints","relatedPropertiesInfo","relatedPropertyPaths","keys","length","propertyInfos","find","push","relatedColumns","createRelatedProperties","concat","updateBindingInfo","oMDCTable","oBindingInfo","apply","oMetadataInfo","collectionPath","oFilter","byId","getFilter","bFilterEnabled","isFilteringEnabled","mConditions","oInnerFilterInfo","oOuterFilterInfo","aFilters","tableProperties","getCachedProperties","getConditions","getFilterInfo","filters","aParameterNames","getParameterNames","_updatePropertyInfo","sParameterPath","getParametersInfo","parameters","$search","normalizeSearchTerm","getSearch","_applyDefaultSorting","$select","reduce","sQuery","oProperty","indexOf","$count","isDraftSupported","EQ","Promise","resolve","attachEventOnce","oPayload","sorter","defaultSortPropertyName","aTableProperties","aConditionKey","oMetaModel","conditionKey","findIndex","tableProperty","oColumnDef","getObject","updateBinding","oTable","oBinding","bNeedManualRefresh","oInternalBindingContext","sManualUpdatePropertyKey","bPendingManualUpdate","oRowBinding","getRowBinding","oldFilters","getFilters","getQueryOptionsFromParameters","requestRefresh","getGroupId","finally","catch","oError","error","fireEvent","existingColumns","relatedPropertyNameMap","relatedColumn","column","newName","valueHelpTableColumn","_column$propertyInfos","map","columnName","_filterRestrictionsIn","hasOwnProperty","dataModelAdditionalProperty"],"sources":["TableDelegate-dbg.js"],"mappings":";;;;AAIAA,IAAIC,GAAGC,OAAO,CAAC,eAAgB,0BAA2B,0BAA2B,uDAAwD,4CAA6C,wCAAyC,kCAAmC,6CAA8C,8CAA+C,wCAAyC,uBAAwB,4BAA6B,6BAA8B,uDAAwD,mBAAoB,oCAAqC,wCAAyC,6BAA8B,sBAAuB,8BAA+B,uBAAwB,SAAUC,EAAKC,EAAWC,EAAaC,EAAWC,EAAoBC,EAAmBC,EAAaC,EAAqBC,EAAsBC,EAAgBC,EAAKC,EAAUC,EAAoBC,EAAqBC,EAAMC,EAAeC,EAAcC,EAAYC,EAAQC,EAAgBC,GACngC,aAEA,IAAIC,EAAqBR,EAAoBQ,mBAC7C,IAAIC,EAAuBT,EAAoBS,qBAC/C,IAAIC,EAAUV,EAAoBU,QAClC,IAAIC,EAAmBd,EAAIc,iBAC3B,IAAIC,EAAWhB,EAAegB,SAC9B,IAAIC,EAAgCjB,EAAeiB,8BACnD,IAAIC,EAAoClB,EAAekB,kCACvD,IAAIC,EAAgCnB,EAAemB,8BACnD,IAAIC,EAAoCpB,EAAeoB,kCACvD,IAAIC,EAAiBtB,EAAqBsB,eAC1C,IAAIC,EAAsBxB,EAAoBwB,oBAC9C,IAAIC,EAAuBzB,EAAoByB,qBAC/C,IAAIC,EAA+B5B,EAAkB4B,6BACrD,IAAIC,EAA0B7B,EAAkB6B,wBAChD,IAAIC,EAA4B9B,EAAkB8B,0BAClD,IAAIC,EAA8BhC,EAAmBgC,4BACrD,IAAIC,EAAkBlC,EAAUkC,gBAIhC,MAAMC,EAAqBC,OAAOC,OAAO,CAAC,EAAGzB,GAQ7CuB,EAAmBG,gBAAkBC,eAAgBC,GACnD,MAAMC,QAAcC,KAAKC,UAAUH,GACnC,MAAMI,QAAmBF,KAAKG,qBAAqBL,EAAOC,GAC1DN,EAAmBW,6BAA6BN,GAChD/B,EAAmBsC,oBAAoBP,EAAOI,GAC9CJ,EAAMQ,kBAAkB,YAAYC,YAAY,2BAA4B,MAC5E,OAAOL,CACT,EACAT,EAAmBW,6BAA+B,SAAUN,GAC1D,IAAIU,EAASV,EACb,MAAOU,IAAWA,EAAOC,IAAI,+BAAgC,CAC3DD,EAASA,EAAOE,WAClB,CACA,MAAMC,EAAgBb,EAAMc,SAAS,YACrC,GAAIJ,GAAUG,EAAe,CAC3B,MAAME,EAAyBL,EAAOF,kBAAkB,YACxD,IAAIQ,EACJ,GAAID,EAAwB,CAC1BC,EAAgCD,EAAuBnC,UAAY,eAAe8B,EAAOO,gBAC3F,KAAO,CACLD,EAAgC,mBAAmBhB,EAAMiB,UACzDJ,EAAcJ,YAAY,kBAAmB,IACxCI,EAAcK,YAAY,oBAEjC,CACA,MAAMC,EAA4BN,EAAcO,YAAYJ,GAA+BK,kBAC3FrB,EAAMsB,kBAAkBH,EAA2B,WACrD,CACF,EASA,SAASI,EAAyBC,GAChC,MAAMC,EAAkCC,EAAsBF,GAC9D,MAAMG,EAAoB,CAAC,EAC3B,GAAIF,IAAoC,MAAQA,SAAyC,GAAKA,EAAgCG,aAAc,CAC1I,IAAIC,EAAuBC,EAAwBC,EAAuBC,EAAwBC,EAClG,MAAMC,EAAqBT,EAAgCG,aAC3D,MAAMO,EAAyB/C,EAAoBqC,EAAiC,MACpF,MAAMW,EAAWZ,EAAsBI,aACvC,MAAMS,EAAejD,EAAoBoC,EAAuB,MAChE,MAAMc,GAAkBT,EAAwBO,EAASG,eAAiB,MAAQV,SAA+B,OAAS,GAAKC,EAAyBD,EAAsBW,UAAY,MAAQV,SAAgC,OAAS,EAAIA,EAAuBW,KACpQC,EAAkBJ,IAAmB,MAAQA,SAAwB,OAAS,GAAKP,EAAwBO,EAAeC,eAAiB,MAAQR,SAA+B,OAAS,GAAKC,EAAyBD,EAAsBY,MAAQ,MAAQX,SAAgC,OAAS,GAAKC,EAAyBD,EAAuBY,mBAAqB,MAAQX,SAAgC,OAAS,EAAIA,EAAuBY,WAC9bC,EAAcR,GAAkBI,GAAmBvD,EAAeiD,GACpE,GAAIU,IAAgB,cAAe,CACjCnB,EAAkBQ,GAA0BD,CAC9C,MAAO,GAAIY,GAAeA,IAAgB,UAAYR,EAAgB,CACpEX,EAAkBU,GAAgBD,EAClCT,EAAkBQ,GAA0BD,CAC9C,CACF,CACA,OAAOP,CACT,CACAhC,EAAmBU,qBAAuB,SAAUL,EAAOC,GACzD,MAAM8C,EAAe/C,EAAMgD,cAAcC,QACzC,MAAM7C,EAAa,GACnB,MAAM8C,EAAgB,IAAIH,EAAaI,iBACvC,MAAMC,EAAYnD,EAAMoD,eACxB,OAAOD,EAAUE,cAAc,GAAGJ,MAAkBK,KAAK,SAAUC,GACjE,MAAMC,EAAuBlE,EAAwBiE,GACrD,MAAME,EAAqBF,EAAqB,iDAChD,MAAMG,EAAyBnE,EAA0BkE,GACzD,MAAME,EAAuB3F,EAAmB4F,cAAc7D,EAAO,WACrE,MAAM8D,EAAwB,CAAC,EAC/B,MAAMC,EAAsBtE,EAA4BO,EAAMc,WAAWuC,eAAeW,WAAWd,IACnGU,EAAqBK,WAAWC,QAAQ,SAAUC,GAChD,MAAMC,EAAe,CACnBC,KAAMF,EAAUG,KAChBC,MAAOJ,EAAUI,MACjBC,SAAU9F,EAAmB+E,EAAsBU,GACnDM,WAAY9F,EAAqBgF,EAAwBQ,GACzDO,cAAeC,EAAyBhB,EAAwBQ,GAChES,WAAY/F,EAAiBsF,EAAUU,OAAS7E,EAAM8E,cAAcC,cAAcZ,EAAUU,OAASG,WAEvG,MAAMxD,EAAwBnC,EAAqB0E,EAAqBI,EAAUG,MAClF,MAAMlC,EAAWZ,EAAsBI,aACvC,GAAIQ,EAAU,CACZ,MAAM6C,EAAqB7F,EAAoBoC,EAAuB,MACtE,IAAIoD,EACJ,GAAI/F,EAAiBuD,EAAS8C,MAAO,CACnC,MAAMC,EAAqBzF,EAAgB0C,GAC3CwC,EAAa5G,EAAS+G,cAAcI,EAAmBD,MAAQ,GAAIC,EAAmBC,cAAeD,EAAmBE,cAAgBrF,EAAM8E,cAAcC,cAAcZ,EAAUU,MACtL,CAEA,MAAMS,EAAwB/D,EAAyBC,GACvD,MAAM+D,EAAuB3F,OAAO4F,KAAKF,GACzC,GAAIC,EAAqBE,OAAQ,CAC/BrB,EAAasB,cAAgBH,EAE7BnB,EAAaI,SAAW,MACxBJ,EAAaK,WAAa,MAE1Bc,EAAqBrB,QAAQI,IAC3BR,EAAsBQ,GAAQgB,EAAsBhB,EAAK,GAI3D,IAAKiB,EAAqBI,KAAKrB,GAAQgB,EAAsBhB,KAAUlC,GAAW,CAChF0B,EAAsBmB,GAAsB7C,CAC9C,CACF,KAAO,CACLgC,EAAaE,KAAOH,EAAUG,IAChC,CACAF,EAAaQ,WAAaR,EAAaQ,WAAaA,EAAaI,SACnE,KAAO,CACLZ,EAAaE,KAAOH,EAAUG,IAChC,CACAlE,EAAWwF,KAAKxB,EAClB,GACA,MAAMyB,EAAiBC,EAAwBhC,EAAuB1D,EAAYqD,EAAsBE,GACxG,OAAOvD,EAAW2F,OAAOF,EAC3B,EACF,EAQAlG,EAAmBqG,kBAAoB,SAAUC,EAAWC,GAC1D9H,EAAc4H,kBAAkBG,MAAMjG,KAAM,CAAC+F,EAAWC,IACxD,IAAKD,EAAW,CACd,MACF,CACA,MAAMG,EAAgBH,EAAUjD,cAAcC,QAC9C,GAAImD,GAAiBF,EAAc,CACjCA,EAAa5B,KAAO4B,EAAa5B,MAAQ8B,EAAcC,gBAAkB,IAAID,EAAcjD,iBAC3F+C,EAAajG,MAAQiG,EAAajG,OAASmG,EAAcnG,KAC3D,CACA,IAAKiG,EAAc,CACjBA,EAAe,CAAC,CAClB,CACA,MAAMI,EAAUnI,EAAKoI,KAAKN,EAAUO,aAClCC,EAAiBR,EAAUS,qBAC7B,IAAIC,EACJ,IAAIC,EAAkBC,EACtB,MAAMC,EAAW,GACjB,MAAMC,EAAkB9I,EAAmB+I,oBAAoBf,GAG/D,GAAIQ,EAAgB,CAClBE,EAAcV,EAAUgB,gBACxBL,EAAmBtI,EAAW4I,cAAcjB,EAAWU,EAAaI,EAAiB,IACrF,GAAIH,EAAiBO,QAAS,CAC5BL,EAASlB,KAAKgB,EAAiBO,QACjC,CACF,CACA,GAAIb,EAAS,CACXK,EAAcL,EAAQW,gBACtB,GAAIN,EAAa,CACf,MAAMS,EAAkB/I,EAAagJ,kBAAkBf,GAEvD3G,EAAmB2H,oBAAoBP,EAAiBd,EAAWU,EAAaP,GAChFS,EAAmBvI,EAAW4I,cAAcZ,EAASK,EAAaI,EAAiBK,GACnF,GAAIP,EAAiBM,QAAS,CAC5BL,EAASlB,KAAKiB,EAAiBM,QACjC,CACA,MAAMI,EAAiBlJ,EAAamJ,kBAAkBlB,EAASK,GAC/D,GAAIY,EAAgB,CAClBrB,EAAa5B,KAAOiD,CACtB,CACF,CAGArB,EAAauB,WAAWC,QAAUnK,EAAYoK,oBAAoBrB,EAAQsB,cAAgB5C,SAC5F,CACA9E,KAAK2H,qBAAqB3B,EAAcD,EAAUjD,cAAcC,SAEhEiD,EAAauB,WAAWK,QAAUf,IAAoB,MAAQA,SAAyB,OAAS,EAAIA,EAAgBgB,OAAO,SAAUC,EAAQC,GAG3I,GAAIA,EAAU3D,MAAQ2D,EAAU3D,KAAK4D,QAAQ,QAAU,EAAG,CACxDF,EAASA,EAAS,GAAGA,KAAUC,EAAU3D,OAAS2D,EAAU3D,IAC9D,CACA,OAAO0D,CACT,EAAG,IAGH9B,EAAauB,WAAWU,OAAS,KAGjC,GAAIxK,EAAYyK,iBAAiBnC,EAAUnF,WAAWuC,eAAgB6C,EAAa5B,MAAO,CACxFwC,EAASlB,KAAK,IAAIrH,EAAO,iBAAkBC,EAAe6J,GAAI,MAChE,CACAnC,EAAaiB,QAAU,IAAI5I,EAAOuI,EAAU,KAC9C,EACAnH,EAAmBmF,YAAc,WAE/B,OAAO9G,CACT,EAQA2B,EAAmBQ,UAAYJ,eAAgBC,GAC7C,MAAM+C,EAAe/C,EAAMgD,cAAcC,QACzC,IAAIhD,EAAQD,EAAMc,SAASiC,EAAa9C,OACxC,IAAKA,EAAO,OACJ,IAAIqI,QAAQC,IAChBvI,EAAMwI,gBAAgB,qBAAsBD,EAAQ,GAEtDtI,EAAQD,EAAMc,SAASiC,EAAa9C,MACtC,CACA,OAAOA,CACT,EAUAN,EAAmBkI,qBAAuB,SAAU3B,EAAcuC,GAChE,GAAIvC,EAAauB,YAAcvB,EAAauB,WAAWC,SAAW1C,WAAakB,EAAawC,QAAUxC,EAAawC,OAAOjD,QAAU,EAAG,CACrI,MAAMkD,EAA0BF,EAAWA,EAASE,wBAA0B3D,UAC9E,GAAI2D,EAAyB,CAC3BzC,EAAawC,OAAO9C,KAAK,IAAInH,EAAOkK,EAAyB,OAC/D,CACF,CACF,EAUAhJ,EAAmB2H,oBAAsB,SAAUsB,EAAkB3C,EAAWU,EAAaP,GAC3F,MAAMyC,EAAgBjJ,OAAO4F,KAAKmB,GAChCmC,EAAa7C,EAAUnF,WAAWuC,eACpCwF,EAAc3E,QAAQ,SAAU6E,GAC9B,GAAIH,EAAiBI,UAAU,SAAUC,GACvC,OAAOA,EAAc3E,OAASyE,CAChC,MAAQ,EAAG,CACT,MAAMG,EAAa,CACjB5E,KAAMyE,EACNnE,WAAYqB,EAAUnB,cAAcC,cAAc+D,EAAWK,UAAU,IAAI/C,EAAcjD,kBAAkB4F,KAAgBlE,QAE7H+D,EAAiBhD,KAAKsD,EACxB,CACF,EACF,EACAvJ,EAAmByJ,cAAgB,SAAUC,EAAQnD,EAAcoD,GACjE,IAAIC,EAAqB,MACzB,MAAMC,EAA0BH,EAAO7I,kBAAkB,YACzD,MAAMiJ,EAA2B,6BACjC,MAAMC,EAAuBF,IAA4B,MAAQA,SAAiC,OAAS,EAAIA,EAAwBtI,YAAYuI,GACnJ,IAAIE,EAAcN,EAAOO,gBAGzBxL,EAAcgL,cAAcjD,MAAMxG,EAAoB,CAAC0J,EAAQnD,EAAcoD,IAE7E,IAAKK,EAAa,CAChBA,EAAcN,EAAOO,eACvB,CACA,GAAID,EAAa,CAMf,MAAME,EAAaF,EAAYG,WAAW,eAC1CP,EAAqBjM,EAAU4I,EAAaiB,QAAS0C,EAAW,KAAOF,EAAYI,gCAAgCrC,UAAYxB,EAAauB,WAAWC,UAAYgC,CACrK,CACA,GAAIH,GAAsBF,EAAO7C,YAAa,CAC5CgD,IAA4B,MAAQA,SAAiC,OAAS,EAAIA,EAAwB/I,YAAYgJ,EAA0B,MAChJE,EAAYK,eAAeL,EAAYM,cAAcC,QAAQ,WAC3DV,IAA4B,MAAQA,SAAiC,OAAS,EAAIA,EAAwB/I,YAAYgJ,EAA0B,MAClJ,GAAGU,MAAM,SAAUC,GACjB/M,EAAIgN,MAAM,8CAA+CD,EAC3D,EACF,CACAf,EAAOiB,UAAU,iBAEnB,EAYA,SAASxE,EAAwBhC,EAAuByG,EAAiB9G,EAAsBE,GAC7F,MAAM6G,EAAyB,CAAC,EAC9B3E,EAAiB,GACnBjG,OAAO4F,KAAK1B,GAAuBI,QAAQI,IACzC,MAAMlC,EAAW0B,EAAsBQ,GACrCmG,EAAgBF,EAAgB5E,KAAK+E,GAAUA,EAAOpG,OAASA,GACjE,IAAKmG,EAAe,CAClB,MAAME,EAAU,aAAarG,IAC7BkG,EAAuBlG,GAAQqG,EAC/B,MAAMC,EAAuB,CAC3BvG,KAAMsG,EACNpG,MAAOzF,EAASsD,GAChBkC,KAAMA,EACNE,SAAU9F,EAAmB+E,EAAsBrB,GACnDqC,WAAY9F,EAAqBgF,EAAwBvB,IAE3DwI,EAAqBlG,cAAgBC,EAAyBhB,EAAwBiH,GACtF,GAAI/L,EAAiBuD,EAAS8C,MAAO,CACnC,MAAMC,EAAqBzF,EAAgB0C,GAC3CwI,EAAqBhG,WAAa5G,EAAS+G,cAAcI,EAAmBD,MAAQ,GAAIC,EAAmBC,cAAeD,EAAmBE,YAC/I,CACAQ,EAAeD,KAAKgF,EACtB,IAIFL,EAAgBrG,QAAQwG,IACtB,GAAIA,EAAOhF,cAAe,CACxB,IAAImF,EACJH,EAAOhF,eAAiBmF,EAAwBH,EAAOhF,iBAAmB,MAAQmF,SAA+B,OAAS,EAAIA,EAAsBC,IAAIC,GAAcP,EAAuBO,IAAeA,EAC9M,IAEF,OAAOlF,CACT,CAWA,SAASlB,EAAyBhB,EAAwBvB,GACxD,IAAI4I,EACJ,MAAM3I,EAAezD,EAAQwD,GAC7B,OAAQ4I,EAAwBrH,EAAuBS,gBAAkB,MAAQ4G,SAA+B,GAAKA,EAAsBC,eAAe5I,IAAiBA,GAAgB/C,EAA6BqE,EAAuBS,aAAa/B,KAAkB,EAAI,CACpR,CASA,SAASX,EAAsBF,GAC7B,MAAMY,EAAWZ,EAAsBI,aACvC,MAAMO,EAAyBlD,EAA8BmD,IAAalD,EAAkCkD,IAAarD,EAA8BqD,IAAapD,EAAkCoD,GACtM,IAAKD,EAAwB,CAC3B,OAAO6C,SACT,CACA,MAAMkG,EAA8B7L,EAAqBmC,EAAuBW,GAGhF,MAAMD,EAAqBgJ,EAA4BtJ,aACvD,IAAKM,EAAoB,CACvB,OAAO8C,SACT,CACA,OAAOkG,CACT,CACA,OAAOvL,CACT,EAAG"}