/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log", "sap/base/util/ObjectPath", "sap/fe/core/CommonUtils", "sap/fe/core/converters/MetaModelConverter", "sap/fe/core/helpers/MetaModelFunction", "sap/fe/core/templating/PropertyHelper", "sap/fe/core/templating/UIFormatters", "sap/m/table/Util", "sap/ui/core/Fragment", "sap/ui/core/util/XMLPreprocessor", "sap/ui/core/XMLTemplateProcessor", "sap/ui/dom/units/Rem", "sap/ui/mdc/valuehelp/content/Conditions", "sap/ui/mdc/valuehelp/content/MDCTable", "sap/ui/mdc/valuehelp/content/MTable", "sap/ui/model/json/JSONModel"], function (Log, ObjectPath, CommonUtils, MetaModelConverter, MetaModelFunction, PropertyHelper, UIFormatters, Util, Fragment, XMLPreprocessor, XMLTemplateProcessor, Rem, Conditions, MDCTable, MTable, JSONModel) {
  "use strict";

  var _exports = {};
  var getTypeConfig = UIFormatters.getTypeConfig;
  var getDisplayMode = UIFormatters.getDisplayMode;
  var getAssociatedUnitProperty = PropertyHelper.getAssociatedUnitProperty;
  var getAssociatedTimezoneProperty = PropertyHelper.getAssociatedTimezoneProperty;
  var getAssociatedTextProperty = PropertyHelper.getAssociatedTextProperty;
  var getAssociatedCurrencyProperty = PropertyHelper.getAssociatedCurrencyProperty;
  var isPropertyFilterable = MetaModelFunction.isPropertyFilterable;
  var getSortRestrictionsInfo = MetaModelFunction.getSortRestrictionsInfo;
  var convertTypes = MetaModelConverter.convertTypes;
  var Level = Log.Level;
  const columnNotAlreadyDefined = (columnDefs, vhKey) => !columnDefs.some(column => column.path === vhKey);
  const AnnotationLabel = "@com.sap.vocabularies.Common.v1.Label",
    AnnotationText = "@com.sap.vocabularies.Common.v1.Text",
    AnnotationTextUITextArrangement = "@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement",
    AnnotationValueListParameterIn = "com.sap.vocabularies.Common.v1.ValueListParameterIn",
    AnnotationValueListParameterConstant = "com.sap.vocabularies.Common.v1.ValueListParameterConstant",
    AnnotationValueListParameterOut = "com.sap.vocabularies.Common.v1.ValueListParameterOut",
    AnnotationValueListParameterInOut = "com.sap.vocabularies.Common.v1.ValueListParameterInOut",
    AnnotationValueListWithFixedValues = "@com.sap.vocabularies.Common.v1.ValueListWithFixedValues";
  _exports.AnnotationLabel = AnnotationLabel;
  _exports.AnnotationValueListWithFixedValues = AnnotationValueListWithFixedValues;
  _exports.AnnotationValueListParameterInOut = AnnotationValueListParameterInOut;
  _exports.AnnotationValueListParameterOut = AnnotationValueListParameterOut;
  _exports.AnnotationValueListParameterConstant = AnnotationValueListParameterConstant;
  _exports.AnnotationValueListParameterIn = AnnotationValueListParameterIn;
  _exports.AnnotationTextUITextArrangement = AnnotationTextUITextArrangement;
  _exports.AnnotationText = AnnotationText;
  function _getDefaultSortPropertyName(valueListInfo) {
    let sortFieldName;
    const metaModel = valueListInfo.$model.getMetaModel();
    const entitySetAnnotations = metaModel.getObject(`/${valueListInfo.CollectionPath}@`) || {};
    const sortRestrictionsInfo = getSortRestrictionsInfo(entitySetAnnotations);
    const foundElement = valueListInfo.Parameters.find(function (element) {
      return (element.$Type === "com.sap.vocabularies.Common.v1.ValueListParameterInOut" || element.$Type === "com.sap.vocabularies.Common.v1.ValueListParameterOut" || element.$Type === "com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly") && !(metaModel.getObject(`/${valueListInfo.CollectionPath}/${element.ValueListProperty}@com.sap.vocabularies.UI.v1.Hidden`) === true);
    });
    if (foundElement) {
      if (metaModel.getObject(`/${valueListInfo.CollectionPath}/${foundElement.ValueListProperty}@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember`) === "com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly") {
        sortFieldName = metaModel.getObject(`/${valueListInfo.CollectionPath}/${foundElement.ValueListProperty}@com.sap.vocabularies.Common.v1.Text/$Path`);
      } else {
        sortFieldName = foundElement.ValueListProperty;
      }
    }
    if (sortFieldName && (!sortRestrictionsInfo.propertyInfo[sortFieldName] || sortRestrictionsInfo.propertyInfo[sortFieldName].sortable)) {
      return sortFieldName;
    } else {
      return undefined;
    }
  }
  function _redundantDescription(oVLParameter, aColumnInfo) {
    const oColumnInfo = aColumnInfo.find(function (columnInfo) {
      return oVLParameter.ValueListProperty === columnInfo.textColumnName;
    });
    if (oVLParameter.ValueListProperty === (oColumnInfo === null || oColumnInfo === void 0 ? void 0 : oColumnInfo.textColumnName) && !oColumnInfo.keyColumnHidden && oColumnInfo.keyColumnDisplayFormat !== "Value") {
      return true;
    }
    return undefined;
  }
  function _hasImportanceHigh(oValueListContext) {
    return oValueListContext.Parameters.some(function (oParameter) {
      return oParameter["@com.sap.vocabularies.UI.v1.Importance"] && oParameter["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember === "com.sap.vocabularies.UI.v1.ImportanceType/High";
    });
  }
  function _build$SelectString(control) {
    const oViewData = control.getModel("viewData");
    if (oViewData) {
      const oData = oViewData.getData();
      if (oData) {
        const aColumns = oData.columns;
        if (aColumns) {
          return aColumns.reduce(function (sQuery, oProperty) {
            // Navigation properties (represented by X/Y) should not be added to $select.
            // TODO : They should be added as $expand=X($select=Y) instead
            if (oProperty.path && oProperty.path.indexOf("/") === -1) {
              sQuery = sQuery ? `${sQuery},${oProperty.path}` : oProperty.path;
            }
            return sQuery;
          }, undefined);
        }
      }
    }
    return undefined;
  }
  function _getValueHelpColumnDisplayFormat(oPropertyAnnotations, isValueHelpWithFixedValues) {
    const sDisplayMode = CommonUtils.computeDisplayMode(oPropertyAnnotations, undefined);
    const oTextAnnotation = oPropertyAnnotations && oPropertyAnnotations["@com.sap.vocabularies.Common.v1.Text"];
    const oTextArrangementAnnotation = oTextAnnotation && oPropertyAnnotations["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"];
    if (isValueHelpWithFixedValues) {
      return oTextAnnotation && typeof oTextAnnotation !== "string" && oTextAnnotation.$Path ? sDisplayMode : "Value";
    } else {
      // Only explicit defined TextArrangements in a Value Help with Dialog are considered
      return oTextArrangementAnnotation ? sDisplayMode : "Value";
    }
  }
  const ValueListHelper = {
    getValueListCollectionEntitySet: function (oValueListContext) {
      const mValueList = oValueListContext.getObject();
      return mValueList.$model.getMetaModel().createBindingContext(`/${mValueList.CollectionPath}`);
    },
    getTableDelegate: function (oValueList) {
      let sDefaultSortPropertyName = _getDefaultSortPropertyName(oValueList);
      if (sDefaultSortPropertyName) {
        sDefaultSortPropertyName = `'${sDefaultSortPropertyName}'`;
      }
      return "{name: 'sap/fe/macros/internal/valuehelp/TableDelegate', payload: {collectionName: '" + oValueList.CollectionPath + "'" + (sDefaultSortPropertyName ? ", defaultSortPropertyName: " + sDefaultSortPropertyName : "") + "}}";
    },
    getSortConditionsFromPresentationVariant: function (valueListInfo, isSuggestion) {
      if (valueListInfo.PresentationVariantQualifier !== undefined) {
        const presentationVariantQualifier = valueListInfo.PresentationVariantQualifier ? `#${valueListInfo.PresentationVariantQualifier}` : "",
          presentationVariantPath = `/${valueListInfo.CollectionPath}/@com.sap.vocabularies.UI.v1.PresentationVariant${presentationVariantQualifier}`;
        const presentationVariant = valueListInfo.$model.getMetaModel().getObject(presentationVariantPath);
        if (presentationVariant !== null && presentationVariant !== void 0 && presentationVariant.SortOrder) {
          const sortConditions = {
            sorters: []
          };
          presentationVariant.SortOrder.forEach(function (condition) {
            var _condition$Property;
            const sorter = {},
              propertyPath = condition === null || condition === void 0 ? void 0 : (_condition$Property = condition.Property) === null || _condition$Property === void 0 ? void 0 : _condition$Property.$PropertyPath;
            if (isSuggestion) {
              sorter.path = propertyPath;
            } else {
              sorter.name = propertyPath;
            }
            if (condition.Descending) {
              sorter.descending = true;
            } else {
              sorter.ascending = true;
            }
            sortConditions.sorters.push(sorter);
          });
          return isSuggestion ? `sorter: ${JSON.stringify(sortConditions.sorters)}` : JSON.stringify(sortConditions);
        }
      }
      return;
    },
    getPropertyPath: function (oParameters) {
      return !oParameters.UnboundAction ? `${oParameters.EntityTypePath}/${oParameters.Action}/${oParameters.Property}` : `/${oParameters.Action.substring(oParameters.Action.lastIndexOf(".") + 1)}/${oParameters.Property}`;
    },
    getValueListProperty: function (oPropertyContext) {
      const oValueListModel = oPropertyContext.getModel();
      const mValueList = oValueListModel.getObject("/");
      return mValueList.$model.getMetaModel().createBindingContext(`/${mValueList.CollectionPath}/${oPropertyContext.getObject()}`);
    },
    // This function is used for value help m-table and mdc-table
    getColumnVisibility: function (oValueList, oVLParameter, oSource) {
      const isDropDownList = oSource && !!oSource.valueHelpWithFixedValues,
        oColumnInfo = oSource.columnInfo,
        isVisible = !_redundantDescription(oVLParameter, oColumnInfo.columnInfos),
        isDialogTable = oColumnInfo.isDialogTable;
      if (isDropDownList || !isDropDownList && isDialogTable || !isDropDownList && !_hasImportanceHigh(oValueList)) {
        const columnWithHiddenAnnotation = oColumnInfo.columnInfos.find(function (columnInfo) {
          return oVLParameter.ValueListProperty === columnInfo.columnName && columnInfo.hasHiddenAnnotation === true;
        });
        return !columnWithHiddenAnnotation ? isVisible : false;
      } else if (!isDropDownList && _hasImportanceHigh(oValueList)) {
        return oVLParameter && oVLParameter["@com.sap.vocabularies.UI.v1.Importance"] && oVLParameter["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember === "com.sap.vocabularies.UI.v1.ImportanceType/High" ? true : false;
      }
      return true;
    },
    getColumnVisibilityInfo: function (oValueList, sPropertyFullPath, bIsDropDownListe, isDialogTable) {
      const oMetaModel = oValueList.$model.getMetaModel();
      const aColumnInfos = [];
      const oColumnInfos = {
        isDialogTable: isDialogTable,
        columnInfos: aColumnInfos
      };
      oValueList.Parameters.forEach(function (oParameter) {
        const oPropertyAnnotations = oMetaModel.getObject(`/${oValueList.CollectionPath}/${oParameter.ValueListProperty}@`);
        const oTextAnnotation = oPropertyAnnotations && oPropertyAnnotations["@com.sap.vocabularies.Common.v1.Text"];
        let columnInfo = {};
        if (oTextAnnotation) {
          columnInfo = {
            keyColumnHidden: oPropertyAnnotations["@com.sap.vocabularies.UI.v1.Hidden"] ? true : false,
            keyColumnDisplayFormat: oTextAnnotation && _getValueHelpColumnDisplayFormat(oPropertyAnnotations, bIsDropDownListe),
            textColumnName: oTextAnnotation && oTextAnnotation.$Path,
            columnName: oParameter.ValueListProperty,
            hasHiddenAnnotation: oPropertyAnnotations && oPropertyAnnotations["@com.sap.vocabularies.UI.v1.Hidden"] ? true : false
          };
        } else if (oPropertyAnnotations && oPropertyAnnotations["@com.sap.vocabularies.UI.v1.Hidden"]) {
          columnInfo = {
            columnName: oParameter.ValueListProperty,
            hasHiddenAnnotation: oPropertyAnnotations && oPropertyAnnotations["@com.sap.vocabularies.UI.v1.Hidden"] ? true : false
          };
        }
        oColumnInfos.columnInfos.push(columnInfo);
      });
      return oColumnInfos;
    },
    getTableItemsParameters: function (valueListInfo, requestGroupId, isSuggestion, isValueHelpWithFixedValues) {
      const itemParameters = [`path: '/${valueListInfo.CollectionPath}'`];

      // add select to oBindingInfo (BCP 2180255956 / 2170163012)
      const selectString = _build$SelectString(this);

      // since there could be recommendations/recent values to show in the suggestion popover
      // hence we need to create some transient contexts on the valueHelp list binding
      // so we will set the updateGroupId of the list binding to avoid sending calls to the backend
      // we need to explicitly set $$sharedRequest to false to make sure we can create transient contexts in RAP
      if (requestGroupId) {
        const selectStringPart = selectString ? `, '${selectString}'` : "";
        itemParameters.push(`parameters: {$$sharedRequest: false, $$updateGroupId: "donotsubmit", $$groupId: '${requestGroupId}'${selectStringPart}}`);
      } else if (selectString) {
        itemParameters.push(`parameters: {$$sharedRequest: false, $$updateGroupId: "donotsubmit", $select: '${selectString}'}`);
      }
      const isSuspended = valueListInfo.Parameters.some(function (oParameter) {
        return isSuggestion || oParameter.$Type === "com.sap.vocabularies.Common.v1.ValueListParameterIn";
      });
      itemParameters.push(`suspended: ${isSuspended}`);
      if (!isValueHelpWithFixedValues) {
        itemParameters.push("length: 10");
      }
      const sortConditionsFromPresentationVariant = ValueListHelper.getSortConditionsFromPresentationVariant(valueListInfo, isSuggestion);
      if (sortConditionsFromPresentationVariant) {
        itemParameters.push(sortConditionsFromPresentationVariant);
      } else if (isValueHelpWithFixedValues) {
        const defaultSortPropertyName = _getDefaultSortPropertyName(valueListInfo);
        if (defaultSortPropertyName) {
          itemParameters.push(`sorter: [{path: '${defaultSortPropertyName}', ascending: true}]`);
        }
      }
      return "{" + itemParameters.join(", ") + "}";
    },
    // Is needed for "external" representation in qunit
    hasImportance: function (oValueListContext) {
      return _hasImportanceHigh(oValueListContext.getObject()) ? "Importance/High" : "None";
    },
    // Is needed for "external" representation in qunit
    getMinScreenWidth: function (oValueList) {
      return _hasImportanceHigh(oValueList) ? "{= ${_VHUI>/minScreenWidth}}" : "416px";
    },
    /**
     * Retrieves the column width for a given property.
     *
     * @param propertyPath The propertyPath
     * @returns The width as a string.
     */
    getColumnWidth: function (propertyPath) {
      var _property$annotations, _property$annotations2, _textAnnotation$annot, _textAnnotation$annot2, _textAnnotation$annot3, _property$annotations3, _property$annotations4, _property$annotations5;
      const property = propertyPath.targetObject;
      let relatedProperty = [property];
      // The additional property could refer to the text, currency, unit or timezone
      const additionalProperty = getAssociatedTextProperty(property) || getAssociatedCurrencyProperty(property) || getAssociatedUnitProperty(property) || getAssociatedTimezoneProperty(property),
        textAnnotation = (_property$annotations = property.annotations) === null || _property$annotations === void 0 ? void 0 : (_property$annotations2 = _property$annotations.Common) === null || _property$annotations2 === void 0 ? void 0 : _property$annotations2.Text,
        textArrangement = textAnnotation === null || textAnnotation === void 0 ? void 0 : (_textAnnotation$annot = textAnnotation.annotations) === null || _textAnnotation$annot === void 0 ? void 0 : (_textAnnotation$annot2 = _textAnnotation$annot.UI) === null || _textAnnotation$annot2 === void 0 ? void 0 : (_textAnnotation$annot3 = _textAnnotation$annot2.TextArrangement) === null || _textAnnotation$annot3 === void 0 ? void 0 : _textAnnotation$annot3.toString(),
        label = (_property$annotations3 = property.annotations) === null || _property$annotations3 === void 0 ? void 0 : (_property$annotations4 = _property$annotations3.Common) === null || _property$annotations4 === void 0 ? void 0 : (_property$annotations5 = _property$annotations4.Label) === null || _property$annotations5 === void 0 ? void 0 : _property$annotations5.toString(),
        displayMode = textArrangement && getDisplayMode(propertyPath);
      if (additionalProperty) {
        if (displayMode === "Description") {
          relatedProperty = [additionalProperty];
        } else if (!textAnnotation || displayMode && displayMode !== "Value") {
          relatedProperty.push(additionalProperty);
        }
      }
      let size = 0;
      const instances = [];
      relatedProperty.forEach(prop => {
        const propertyTypeConfig = getTypeConfig(prop, undefined);
        const PropertyODataConstructor = ObjectPath.get(propertyTypeConfig.type);
        if (PropertyODataConstructor) {
          instances.push(new PropertyODataConstructor(propertyTypeConfig.formatOptions, propertyTypeConfig.constraints));
        }
      });
      const sWidth = Util.calcColumnWidth(instances, label);
      size = sWidth ? parseFloat(sWidth.replace("rem", "")) : 0;
      if (size === 0) {
        Log.error(`Cannot compute the column width for property: ${property.name}`);
      }
      return size <= 20 ? size.toString() + "rem" : "20rem";
    },
    getOutParameterPaths: function (aParameters) {
      let sPath = "";
      aParameters.forEach(function (oParameter) {
        if (oParameter.$Type.endsWith("Out")) {
          sPath += `{${oParameter.ValueListProperty}}`;
        }
      });
      return sPath;
    },
    entityIsSearchable: function (propertyAnnotations, collectionAnnotations) {
      var _propertyAnnotations$, _collectionAnnotation;
      const searchSupported = (_propertyAnnotations$ = propertyAnnotations["@com.sap.vocabularies.Common.v1.ValueList"]) === null || _propertyAnnotations$ === void 0 ? void 0 : _propertyAnnotations$.SearchSupported,
        searchable = (_collectionAnnotation = collectionAnnotations["@Org.OData.Capabilities.V1.SearchRestrictions"]) === null || _collectionAnnotation === void 0 ? void 0 : _collectionAnnotation.Searchable;
      if (searchable === undefined && searchSupported === false || searchable === true && searchSupported === false || searchable === false) {
        return false;
      }
      return true;
    },
    /**
     * Returns the condition path required for the condition model.
     * For e.g. <1:N-PropertyName>*\/<1:1-PropertyName>/<PropertyName>.
     *
     * @param metaModel The metamodel instance
     * @param entitySet The entity set path
     * @param propertyPath The property path
     * @returns The formatted condition path
     * @private
     */
    _getConditionPath: function (metaModel, entitySet, propertyPath) {
      // (see also: sap/fe/core/converters/controls/ListReport/FilterBar.ts)
      const parts = propertyPath.split("/");
      let conditionPath = "",
        partialPath;
      while (parts.length) {
        let part = parts.shift();
        partialPath = partialPath ? `${partialPath}/${part}` : part;
        const property = metaModel.getObject(`${entitySet}/${partialPath}`);
        if (property && property.$kind === "NavigationProperty" && property.$isCollection) {
          part += "*";
        }
        conditionPath = conditionPath ? `${conditionPath}/${part}` : part;
      }
      return conditionPath;
    },
    /**
     * Returns array of column definitions corresponding to properties defined as Selection Fields on the CollectionPath entity set in a ValueHelp.
     *
     * @param metaModel The metamodel instance
     * @param entitySet The entity set path
     * @returns Array of column definitions
     * @private
     */
    _getColumnDefinitionFromSelectionFields: function (metaModel, entitySet) {
      const columnDefs = [],
        entityTypeAnnotations = metaModel.getObject(`${entitySet}/@`),
        selectionFields = entityTypeAnnotations["@com.sap.vocabularies.UI.v1.SelectionFields"];
      if (selectionFields) {
        selectionFields.forEach(function (selectionField) {
          var _metaModel$getObject;
          const selectionFieldPath = `${entitySet}/${selectionField.$PropertyPath}`,
            conditionPath = ValueListHelper._getConditionPath(metaModel, entitySet, selectionField.$PropertyPath),
            propertyAnnotations = metaModel.getObject(`${selectionFieldPath}@`),
            columnDef = {
              path: conditionPath,
              label: propertyAnnotations[AnnotationLabel] || selectionFieldPath,
              sortable: true,
              filterable: isPropertyFilterable(metaModel, entitySet, selectionField.$PropertyPath, false),
              $Type: (_metaModel$getObject = metaModel.getObject(selectionFieldPath)) === null || _metaModel$getObject === void 0 ? void 0 : _metaModel$getObject.$Type
            };
          columnDefs.push(columnDef);
        });
      }
      return columnDefs;
    },
    _mergeColumnDefinitionsFromProperties: function (columnDefs, valueListInfo, valueListProperty, property, propertyAnnotations) {
      var _propertyAnnotations$2;
      let columnPath = valueListProperty,
        columnPropertyType = property.$Type;
      const label = propertyAnnotations[AnnotationLabel] || columnPath,
        textAnnotation = propertyAnnotations[AnnotationText];
      if (textAnnotation && ((_propertyAnnotations$2 = propertyAnnotations[AnnotationTextUITextArrangement]) === null || _propertyAnnotations$2 === void 0 ? void 0 : _propertyAnnotations$2.$EnumMember) === "com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly") {
        // the column property is the one coming from the text annotation
        columnPath = textAnnotation.$Path;
        const textPropertyPath = `/${valueListInfo.CollectionPath}/${columnPath}`;
        columnPropertyType = valueListInfo.$model.getMetaModel().getObject(textPropertyPath).$Type;
      }
      if (columnNotAlreadyDefined(columnDefs, columnPath)) {
        const columnDef = {
          path: columnPath,
          label: label,
          sortable: true,
          filterable: !propertyAnnotations["@com.sap.vocabularies.UI.v1.HiddenFilter"],
          $Type: columnPropertyType
        };
        columnDefs.push(columnDef);
      }
    },
    filterInOutParameters: function (vhParameters, typeFilter) {
      return vhParameters.filter(function (parameter) {
        return typeFilter.indexOf(parameter.parmeterType) > -1;
      });
    },
    getInParameters: function (vhParameters) {
      return ValueListHelper.filterInOutParameters(vhParameters, [AnnotationValueListParameterIn, AnnotationValueListParameterConstant, AnnotationValueListParameterInOut]);
    },
    getOutParameters: function (vhParameters) {
      return ValueListHelper.filterInOutParameters(vhParameters, [AnnotationValueListParameterOut, AnnotationValueListParameterInOut]);
    },
    createVHUIModel: function (valueHelp, propertyPath, metaModel) {
      // setting the _VHUI model evaluated in the ValueListTable fragment
      const vhUIModel = new JSONModel({}),
        propertyAnnotations = metaModel.getObject(`${propertyPath}@`);
      valueHelp.setModel(vhUIModel, "_VHUI");
      // Identifies the "ContextDependent-Scenario"
      vhUIModel.setProperty("/hasValueListRelevantQualifiers", !!propertyAnnotations["@com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers"]);
      /* Property label for dialog title */
      vhUIModel.setProperty("/propertyLabel", propertyAnnotations[AnnotationLabel]);
      return vhUIModel;
    },
    /**
     * Returns the title of the value help dialog.
     * By default, the data field label is used, otherwise either the property label or the value list label is used as a fallback.
     * For context-dependent value helps, by default the value list label is used, otherwise either the property label or the data field label is used as a fallback.
     *
     * @param valueHelp The valueHelp instance
     * @param valuehelpLabel The label in the value help metadata
     * @returns The title for the valueHelp dialog
     * @private
     */
    _getDialogTitle: function (valueHelp, valuehelpLabel) {
      var _valueHelp$getControl;
      const propertyLabel = valueHelp.getModel("_VHUI").getProperty("/propertyLabel");
      const dataFieldLabel = (_valueHelp$getControl = valueHelp.getControl()) === null || _valueHelp$getControl === void 0 ? void 0 : _valueHelp$getControl.getProperty("label");
      return valueHelp.getModel("_VHUI").getProperty("/hasValueListRelevantQualifiers") ? valuehelpLabel || propertyLabel || dataFieldLabel : dataFieldLabel || propertyLabel || valuehelpLabel;
    },
    destroyVHContent: function (valueHelp) {
      if (valueHelp.getDialog()) {
        valueHelp.getDialog().destroyContent();
      }
      if (valueHelp.getTypeahead()) {
        valueHelp.getTypeahead().destroyContent();
      }
    },
    putDefaultQualifierFirst: function (qualifiers) {
      const indexDefaultVH = qualifiers.indexOf("");

      // default ValueHelp without qualifier should be the first
      if (indexDefaultVH > 0) {
        qualifiers.unshift(qualifiers[indexDefaultVH]);
        qualifiers.splice(indexDefaultVH + 1, 1);
      }
      return qualifiers;
    },
    _getContextPrefix: function (bindingContext, propertyBindingParts) {
      if (bindingContext && bindingContext.getPath()) {
        const bindigContextParts = bindingContext.getPath().split("/");
        if (propertyBindingParts.length - bindigContextParts.length > 1) {
          const contextPrefixParts = [];
          for (let i = bindigContextParts.length; i < propertyBindingParts.length - 1; i++) {
            contextPrefixParts.push(propertyBindingParts[i]);
          }
          return `${contextPrefixParts.join("/")}/`;
        }
      }
      return "";
    },
    _getVhParameter: function (conditionModel, valueHelp, contextPrefix, parameter, vhMetaModel, localDataPropertyPath) {
      let valuePath = "";
      const bindingContext = valueHelp.getBindingContext();
      if (conditionModel && conditionModel.length > 0) {
        var _valueHelp$getParent;
        if ((_valueHelp$getParent = valueHelp.getParent()) !== null && _valueHelp$getParent !== void 0 && _valueHelp$getParent.isA("sap.ui.mdc.Table") && bindingContext && ValueListHelper._parameterIsA(parameter, ["com.sap.vocabularies.Common.v1.ValueListParameterIn", "com.sap.vocabularies.Common.v1.ValueListParameterInOut"])) {
          // Special handling for value help used in filter dialog
          const parts = localDataPropertyPath.split("/");
          if (parts.length > 1) {
            const firstNavigationProperty = parts[0];
            const oBoundEntity = vhMetaModel.getMetaContext(bindingContext.getPath());
            const sPathOfTable = valueHelp.getParent().getRowBinding().getPath(); //TODO
            if (oBoundEntity.getObject(`${sPathOfTable}/$Partner`) === firstNavigationProperty) {
              // Using the condition model doesn't make any sense in case an in-parameter uses a navigation property
              // referring to the partner. Therefore reducing the path and using the FVH context instead of the condition model
              valuePath = localDataPropertyPath.replace(firstNavigationProperty + "/", "");
            }
          }
        }
        if (!valuePath) {
          valuePath = conditionModel + ">/conditions/" + localDataPropertyPath;
        }
      } else {
        valuePath = contextPrefix + localDataPropertyPath;
      }
      return {
        parmeterType: parameter.$Type,
        source: valuePath,
        helpPath: parameter.ValueListProperty,
        constantValue: parameter.Constant,
        initialValueFilterEmpty: Boolean(parameter.InitialValueIsSignificant)
      };
    },
    _parameterIsA(parameter, parameterTypes) {
      return parameterTypes.includes(parameter.$Type);
    },
    _enrichPath: function (path, propertyPath, localDataPropertyPath, parameter, propertyName, propertyAnnotations) {
      if (!path.key && ValueListHelper._parameterIsA(parameter, ["com.sap.vocabularies.Common.v1.ValueListParameterOut", "com.sap.vocabularies.Common.v1.ValueListParameterInOut"]) && localDataPropertyPath === propertyName) {
        var _propertyAnnotations$3;
        path.fieldPropertyPath = propertyPath;
        path.key = parameter.ValueListProperty;

        //Only the text annotation of the key can specify the description
        path.descriptionPath = ((_propertyAnnotations$3 = propertyAnnotations[AnnotationText]) === null || _propertyAnnotations$3 === void 0 ? void 0 : _propertyAnnotations$3.$Path) || "";
      }
    },
    _enrichKeys: function (vhKeys, parameter) {
      if (ValueListHelper._parameterIsA(parameter, ["com.sap.vocabularies.Common.v1.ValueListParameterOut", "com.sap.vocabularies.Common.v1.ValueListParameterIn", "com.sap.vocabularies.Common.v1.ValueListParameterInOut"]) && !vhKeys.includes(parameter.ValueListProperty)) {
        vhKeys.push(parameter.ValueListProperty);
      }
    },
    _processParameters: function (annotationValueListType, propertyName, conditionModel, valueHelp, contextPrefix, vhMetaModel, valueHelpQualifier) {
      const metaModel = annotationValueListType.$model.getMetaModel(),
        entitySetPath = `/${annotationValueListType.CollectionPath}`,
        entityType = metaModel.getObject(`${entitySetPath}/`);
      if (entityType === undefined) {
        Log.error(`Inconsistent value help metadata: Entity ${entitySetPath} is not defined`);
        return;
      }
      const columnDefs = ValueListHelper._getColumnDefinitionFromSelectionFields(metaModel, entitySetPath),
        vhParameters = [],
        vhKeys = entityType.$Key ? [...entityType.$Key] : [];
      const path = {
        fieldPropertyPath: "",
        descriptionPath: "",
        key: ""
      };
      for (const parameter of annotationValueListType.Parameters) {
        var _parameter$LocalDataP;
        //All String fields are allowed for filter
        const propertyPath = `/${annotationValueListType.CollectionPath}/${parameter.ValueListProperty}`,
          property = metaModel.getObject(propertyPath),
          propertyAnnotations = metaModel.getObject(`${propertyPath}@`) || {},
          localDataPropertyPath = ((_parameter$LocalDataP = parameter.LocalDataProperty) === null || _parameter$LocalDataP === void 0 ? void 0 : _parameter$LocalDataP.$PropertyPath) || "";

        // If property is undefined, then the property coming for the entry isn't defined in
        // the metamodel, therefore we don't need to add it in the in/out parameters
        if (property) {
          // Search for the *out Parameter mapped to the local property
          ValueListHelper._enrichPath(path, propertyPath, localDataPropertyPath, parameter, propertyName, propertyAnnotations);
          const valueListProperty = parameter.ValueListProperty;
          ValueListHelper._mergeColumnDefinitionsFromProperties(columnDefs, annotationValueListType, valueListProperty, property, propertyAnnotations);
        }

        //In and InOut and Out
        if (ValueListHelper._parameterIsA(parameter, ["com.sap.vocabularies.Common.v1.ValueListParameterIn", "com.sap.vocabularies.Common.v1.ValueListParameterOut", "com.sap.vocabularies.Common.v1.ValueListParameterInOut"]) && localDataPropertyPath !== propertyName) {
          const vhParameter = ValueListHelper._getVhParameter(conditionModel, valueHelp, contextPrefix, parameter, vhMetaModel, localDataPropertyPath);
          vhParameters.push(vhParameter);
        }

        //Constant as InParamter for filtering
        if (parameter.$Type === AnnotationValueListParameterConstant) {
          vhParameters.push({
            parmeterType: parameter.$Type,
            source: parameter.ValueListProperty,
            helpPath: parameter.ValueListProperty,
            constantValue: parameter.Constant,
            initialValueFilterEmpty: Boolean(parameter.InitialValueIsSignificant)
          });
        }

        // Enrich keys with out-parameters
        ValueListHelper._enrichKeys(vhKeys, parameter);
      }

      /* Ensure that vhKeys are part of the columnDefs, otherwise it is not considered in $select (BCP 2270141154) */
      for (const vhKey of vhKeys) {
        if (columnNotAlreadyDefined(columnDefs, vhKey)) {
          var _metaModel$getObject2;
          const columnDef = {
            path: vhKey,
            $Type: (_metaModel$getObject2 = metaModel.getObject(`/${annotationValueListType.CollectionPath}/${path.key}`)) === null || _metaModel$getObject2 === void 0 ? void 0 : _metaModel$getObject2.$Type,
            label: "",
            sortable: false,
            filterable: undefined
          };
          columnDefs.push(columnDef);
        }
      }
      const valuelistInfo = {
        keyPath: path.key,
        descriptionPath: path.descriptionPath,
        fieldPropertyPath: path.fieldPropertyPath,
        vhKeys: vhKeys,
        vhParameters: vhParameters,
        valueListInfo: annotationValueListType,
        columnDefs: columnDefs,
        valueHelpQualifier
      };
      return valuelistInfo;
    },
    _logError: function (propertyPath, error) {
      const status = error ? error.status : undefined;
      const message = error instanceof Error ? error.message : String(error);
      const msg = status === 404 ? `Metadata not found (${status}) for value help of property ${propertyPath}` : message;
      Log.error(msg);
    },
    getValueListInfo: async function (valueHelp, propertyPath, payload) {
      const bindingContext = valueHelp.getBindingContext(),
        conditionModel = payload.conditionModel,
        vhMetaModel = valueHelp.getModel().getMetaModel(),
        valueListInfos = [],
        propertyPathParts = propertyPath.split("/");
      try {
        const valueListByQualifier = await vhMetaModel.requestValueListInfo(propertyPath, true, bindingContext);
        const valueHelpQualifiers = ValueListHelper.putDefaultQualifierFirst(Object.keys(valueListByQualifier)),
          propertyName = propertyPathParts.pop();
        const contextPrefix = payload.useMultiValueField ? ValueListHelper._getContextPrefix(bindingContext, propertyPathParts) : "";
        for (const valueHelpQualifier of valueHelpQualifiers) {
          // Add column definitions for properties defined as Selection fields on the CollectionPath entity set.
          const annotationValueListType = valueListByQualifier[valueHelpQualifier];
          const valueListInfo = ValueListHelper._processParameters(annotationValueListType, propertyName, conditionModel, valueHelp, contextPrefix, vhMetaModel, annotationValueListType.$qualifier ?? valueHelpQualifier // for ValueListWithFixedValues, get the qualifier from $qualifier
          );
          /* Only consistent value help definitions shall be part of the value help */
          if (valueListInfo) {
            valueListInfos.push(valueListInfo);
          }
        }
      } catch (err) {
        this._logError(propertyPath, err);
        ValueListHelper.destroyVHContent(valueHelp);
      }
      return valueListInfos;
    },
    ALLFRAGMENTS: undefined,
    logFragment: undefined,
    _logTemplatedFragments: function (propertyPath, fragmentName, fragmentDefinition) {
      const logInfo = {
        path: propertyPath,
        fragmentName: fragmentName,
        fragment: fragmentDefinition
      };
      if (Log.getLevel() === Level.DEBUG) {
        //In debug mode we log all generated fragments
        ValueListHelper.ALLFRAGMENTS = ValueListHelper.ALLFRAGMENTS || [];
        ValueListHelper.ALLFRAGMENTS.push(logInfo);
      }
      if (ValueListHelper.logFragment) {
        //One Tool Subscriber allowed
        setTimeout(function () {
          ValueListHelper.logFragment(logInfo);
        }, 0);
      }
    },
    _templateFragment: async function (fragmentName, valueListInfo, sourceModel, propertyPath) {
      const localValueListInfo = valueListInfo.valueListInfo,
        valueListModel = new JSONModel(localValueListInfo),
        valueListServiceMetaModel = localValueListInfo.$model.getMetaModel(),
        viewData = new JSONModel({
          converterType: "ListReport",
          columns: valueListInfo.columnDefs || null
        });
      const fragmentDefinition = await XMLPreprocessor.process(XMLTemplateProcessor.loadTemplate(fragmentName, "fragment"), {
        name: fragmentName
      }, {
        bindingContexts: {
          valueList: valueListModel.createBindingContext("/"),
          contextPath: valueListServiceMetaModel.createBindingContext(`/${localValueListInfo.CollectionPath}/`),
          source: sourceModel.createBindingContext("/")
        },
        models: {
          valueList: valueListModel,
          contextPath: valueListServiceMetaModel,
          source: sourceModel,
          metaModel: valueListServiceMetaModel,
          viewData: viewData
        }
      });
      ValueListHelper._logTemplatedFragments(propertyPath, fragmentName, fragmentDefinition);
      return await Fragment.load({
        definition: fragmentDefinition
      });
    },
    _getContentId: function (valueHelpId, valueHelpQualifier, isTypeahead) {
      const contentType = isTypeahead ? "Popover" : "Dialog";
      return `${valueHelpId}::${contentType}::qualifier::${valueHelpQualifier}`;
    },
    _addInOutParametersToPayload: function (payload, valueListInfo) {
      const valueHelpQualifier = valueListInfo.valueHelpQualifier;
      if (!payload.qualifiers) {
        payload.qualifiers = {};
      }
      if (!payload.qualifiers[valueHelpQualifier]) {
        payload.qualifiers[valueHelpQualifier] = {
          vhKeys: valueListInfo.vhKeys,
          vhParameters: valueListInfo.vhParameters
        };
      }
    },
    _getValueHelpColumnDisplayFormat: function (propertyAnnotations, isValueHelpWithFixedValues) {
      const displayMode = CommonUtils.computeDisplayMode(propertyAnnotations, undefined),
        textAnnotation = propertyAnnotations && propertyAnnotations[AnnotationText],
        textArrangementAnnotation = textAnnotation && propertyAnnotations[AnnotationTextUITextArrangement];
      if (isValueHelpWithFixedValues) {
        return textAnnotation && typeof textAnnotation !== "string" && textAnnotation.$Path ? displayMode : "Value";
      } else {
        // Only explicit defined TextArrangements in a Value Help with Dialog are considered
        return textArrangementAnnotation ? displayMode : "Value";
      }
    },
    _getWidthInRem: function (control, isUnitValueHelp) {
      let width = control.$().width(); // JQuery
      if (isUnitValueHelp && width) {
        width = 0.3 * width;
      }
      const floatWidth = width ? parseFloat(String(Rem.fromPx(width))) : 0;
      return isNaN(floatWidth) ? 0 : floatWidth;
    },
    _getTableWidth: function (table, minWidth) {
      let width;
      const columns = table.getColumns(),
        visibleColumns = columns && columns.filter(function (column) {
          return column && column.getVisible && column.getVisible();
        }) || [],
        sumWidth = visibleColumns.reduce(function (sum, column) {
          width = column.getWidth();
          if (width && width.endsWith("px")) {
            width = String(Rem.fromPx(width));
          }
          const floatWidth = parseFloat(width);
          return sum + (isNaN(floatWidth) ? 9 : floatWidth);
        }, visibleColumns.length);
      return `${Math.max(sumWidth, minWidth)}em`;
    },
    _createValueHelpTypeahead: async function (propertyPath, valueHelp, content, valueListInfo, payload) {
      const contentId = content.getId(),
        propertyAnnotations = valueHelp.getModel().getMetaModel().getObject(`${propertyPath}@`),
        valueHelpWithFixedValues = propertyAnnotations[AnnotationValueListWithFixedValues] ?? false,
        isDialogTable = false,
        columnInfo = ValueListHelper.getColumnVisibilityInfo(valueListInfo.valueListInfo, propertyPath, valueHelpWithFixedValues, isDialogTable),
        sourceModel = new JSONModel({
          id: contentId,
          groupId: payload.requestGroupId || undefined,
          bSuggestion: true,
          propertyPath: propertyPath,
          columnInfo: columnInfo,
          valueHelpWithFixedValues: valueHelpWithFixedValues
        });
      content.setKeyPath(valueListInfo.keyPath);
      content.setDescriptionPath(valueListInfo.descriptionPath);
      payload.isValueListWithFixedValues = valueHelpWithFixedValues;
      const collectionAnnotations = valueListInfo.valueListInfo.$model.getMetaModel().getObject(`/${valueListInfo.valueListInfo.CollectionPath}@`) || {};
      content.setFilterFields(ValueListHelper.entityIsSearchable(propertyAnnotations, collectionAnnotations) ? "$search" : "");
      const table = await ValueListHelper._templateFragment("sap.fe.macros.internal.valuehelp.ValueListTable", valueListInfo, sourceModel, propertyPath);
      table.setModel(valueListInfo.valueListInfo.$model);
      Log.info(`Value List- suggest Table XML content created [${propertyPath}]`, table.getMetadata().getName(), "MDC Templating");
      content.setTable(table);
      const field = valueHelp.getControl();
      if (field !== undefined && (field.isA("sap.ui.mdc.FilterField") || field.isA("sap.ui.mdc.Field") || field.isA("sap.ui.mdc.MultiValueField"))) {
        //Can the filterfield be something else that we need the .isA() check?
        const reduceWidthForUnitValueHelp = Boolean(payload.isUnitValueHelp);
        const tableWidth = ValueListHelper._getTableWidth(table, ValueListHelper._getWidthInRem(field, reduceWidthForUnitValueHelp));
        table.setWidth(tableWidth);
        if (valueHelpWithFixedValues) {
          table.setMode(field.getMaxConditions() === 1 ? "SingleSelectMaster" : "MultiSelect");
        } else {
          table.setMode("SingleSelectMaster");
        }
      }
    },
    _createValueHelpDialog: async function (propertyPath, valueHelp, content, valueListInfo, payload) {
      const propertyAnnotations = valueHelp.getModel().getMetaModel().getObject(`${propertyPath}@`),
        isDropDownListe = false,
        isDialogTable = true,
        columnInfo = ValueListHelper.getColumnVisibilityInfo(valueListInfo.valueListInfo, propertyPath, isDropDownListe, isDialogTable),
        sourceModel = new JSONModel({
          id: content.getId(),
          groupId: payload.requestGroupId || undefined,
          bSuggestion: false,
          columnInfo: columnInfo,
          valueHelpWithFixedValues: isDropDownListe
        });
      content.setKeyPath(valueListInfo.keyPath);
      content.setDescriptionPath(valueListInfo.descriptionPath);
      const collectionAnnotations = valueListInfo.valueListInfo.$model.getMetaModel().getObject(`/${valueListInfo.valueListInfo.CollectionPath}@`) || {};
      content.setFilterFields(ValueListHelper.entityIsSearchable(propertyAnnotations, collectionAnnotations) ? "$search" : "");
      const tablePromise = ValueListHelper._templateFragment("sap.fe.macros.internal.valuehelp.ValueListDialogTable", valueListInfo, sourceModel, propertyPath);
      const filterBarPromise = ValueListHelper._templateFragment("sap.fe.macros.internal.valuehelp.ValueListFilterBar", valueListInfo, sourceModel, propertyPath);
      const [table, filterBar] = await Promise.all([tablePromise, filterBarPromise]);
      table.setModel(valueListInfo.valueListInfo.$model);
      filterBar.setModel(valueListInfo.valueListInfo.$model);
      content.setFilterBar(filterBar);
      content.setTable(table);
      table.setFilter(filterBar.getId());
      table.initialized();
      const field = valueHelp.getControl();
      if (field !== undefined) {
        table.setSelectionMode(field.getMaxConditions() === 1 ? "SingleMaster" : "Multi");
      }
      table.setWidth("100%");

      //This is a temporary workarround - provided by MDC (see FIORITECHP1-24002)
      const mdcTable = table;
      mdcTable._setShowP13nButton(false);
    },
    _getContentById: function (contentList, contentId) {
      return contentList.find(function (item) {
        return item.getId() === contentId;
      });
    },
    _createPopoverContent: function (contentId, caseSensitive, useAsValueHelp) {
      return new MTable({
        id: contentId,
        group: "group1",
        caseSensitive: caseSensitive,
        useAsValueHelp: useAsValueHelp
      });
    },
    _createDialogContent: function (contentId, caseSensitive, forceBind) {
      return new MDCTable({
        id: contentId,
        group: "group1",
        caseSensitive: caseSensitive,
        forceBind: forceBind
      });
    },
    _showConditionsContent: function (contentList, container) {
      let conditionsContent = contentList.length && contentList[contentList.length - 1].getMetadata().getName() === "sap.ui.mdc.valuehelp.content.Conditions" ? contentList[contentList.length - 1] : undefined;
      if (conditionsContent) {
        conditionsContent.setVisible(true);
      } else {
        conditionsContent = new Conditions();
        container.addContent(conditionsContent);
      }
    },
    _alignOrCreateContent: function (valueListInfo, contentId, caseSensitive, showConditionPanel, container) {
      const contentList = container.getContent();
      let content = ValueListHelper._getContentById(contentList, contentId);
      if (!content) {
        const forceBind = valueListInfo.valueListInfo.FetchValues === 2 ? false : true;
        content = ValueListHelper._createDialogContent(contentId, caseSensitive, forceBind);
        if (!showConditionPanel) {
          container.addContent(content);
        } else {
          container.insertContent(content, contentList.length - 1); // insert content before conditions content
        }
      } else {
        content.setVisible(true);
      }
      return content;
    },
    _prepareValueHelpTypeAhead: function (valueHelp, container, valueListInfos, payload, caseSensitive, firstTypeAheadContent) {
      const contentList = container.getContent();
      let qualifierForTypeahead = valueHelp.data("valuelistForValidation") || ""; // can also be null
      if (qualifierForTypeahead === " ") {
        qualifierForTypeahead = "";
      }
      const valueListInfo = qualifierForTypeahead ? valueListInfos.filter(function (subValueListInfo) {
        return subValueListInfo.valueHelpQualifier === qualifierForTypeahead;
      })[0] : valueListInfos[0];
      ValueListHelper._addInOutParametersToPayload(payload, valueListInfo);
      const contentId = ValueListHelper._getContentId(valueHelp.getId(), valueListInfo.valueHelpQualifier, true);
      let content = ValueListHelper._getContentById(contentList, contentId);
      if (!content) {
        const useAsValueHelp = firstTypeAheadContent.getUseAsValueHelp();
        content = ValueListHelper._createPopoverContent(contentId, caseSensitive, useAsValueHelp);
        container.insertContent(content, 0); // insert content as first content
      } else if (contentId !== contentList[0].getId()) {
        // content already available but not as first content?
        container.removeContent(content);
        container.insertContent(content, 0); // move content to first position
      }

      return {
        valueListInfo,
        content
      };
    },
    _prepareValueHelpDialog: function (valueHelp, container, valueListInfos, payload, selectedContentId, caseSensitive) {
      const showConditionPanel = valueHelp.data("showConditionPanel") && valueHelp.data("showConditionPanel") !== "false";
      const contentList = container.getContent();

      // set all contents to invisible
      for (const contentListItem of contentList) {
        contentListItem.setVisible(false);
      }
      if (showConditionPanel) {
        this._showConditionsContent(contentList, container);
      }
      let selectedInfo, selectedContent;

      // Create or reuse contents for the current context
      for (const valueListInfo of valueListInfos) {
        const valueHelpQualifier = valueListInfo.valueHelpQualifier;
        ValueListHelper._addInOutParametersToPayload(payload, valueListInfo);
        const contentId = ValueListHelper._getContentId(valueHelp.getId(), valueHelpQualifier, false);
        const content = this._alignOrCreateContent(valueListInfo, contentId, caseSensitive, showConditionPanel, container);
        if (valueListInfo.valueListInfo.Label) {
          const title = CommonUtils.getTranslatedTextFromExpBindingString(valueListInfo.valueListInfo.Label, valueHelp.getControl());
          content.setTitle(title);
        }
        if (!selectedContent || selectedContentId && selectedContentId === contentId) {
          selectedContent = content;
          selectedInfo = valueListInfo;
        }
      }
      if (!selectedInfo || !selectedContent) {
        throw new Error("selectedInfo or selectedContent undefined");
      }
      return {
        selectedInfo,
        selectedContent
      };
    },
    _addDescriptionInfosToPayload: function (payload, valueListInfo, metaModel) {
      if (payload.valueHelpDescriptionPath !== valueListInfo.descriptionPath) {
        var _convertedMetadata$re, _convertedMetadata$re2, _convertedMetadata$re3, _convertedMetadata$re4;
        const convertedMetadata = convertTypes(metaModel);
        const propertyDescriptionPath = (_convertedMetadata$re = convertedMetadata.resolvePath(payload.propertyPath).target) === null || _convertedMetadata$re === void 0 ? void 0 : (_convertedMetadata$re2 = _convertedMetadata$re.annotations) === null || _convertedMetadata$re2 === void 0 ? void 0 : (_convertedMetadata$re3 = _convertedMetadata$re2.Common) === null || _convertedMetadata$re3 === void 0 ? void 0 : (_convertedMetadata$re4 = _convertedMetadata$re3.Text) === null || _convertedMetadata$re4 === void 0 ? void 0 : _convertedMetadata$re4.path;

        /* Enrich payload with Text Property Infos */
        payload.valueHelpDescriptionPath = valueListInfo.descriptionPath;
        payload.valueHelpKeyPath = valueListInfo.keyPath;
        if (propertyDescriptionPath) {
          var _convertedMetadata$re5, _convertedMetadata$re6;
          payload.maxLength = payload.valueHelpDescriptionPath ? (_convertedMetadata$re5 = convertedMetadata.resolvePath(`/${valueListInfo.valueListInfo.CollectionPath}/${payload.valueHelpDescriptionPath}`)) === null || _convertedMetadata$re5 === void 0 ? void 0 : (_convertedMetadata$re6 = _convertedMetadata$re5.target) === null || _convertedMetadata$re6 === void 0 ? void 0 : _convertedMetadata$re6.maxLength : undefined;
          payload.propertyDescriptionPath = propertyDescriptionPath;
        }
      }
    },
    showValueList: async function (payload, container, selectedContentId) {
      const valueHelp = container.getParent(),
        isTypeahead = container.isTypeahead(),
        propertyPath = payload.propertyPath,
        metaModel = valueHelp.getModel().getMetaModel(),
        vhUIModel = valueHelp.getModel("_VHUI") !== undefined ? valueHelp.getModel("_VHUI") : ValueListHelper.createVHUIModel(valueHelp, propertyPath, metaModel);
      vhUIModel.setProperty("/isSuggestion", isTypeahead);
      vhUIModel.setProperty("/minScreenWidth", !isTypeahead ? "418px" : undefined);
      try {
        const valueListInfos = await ValueListHelper.getValueListInfo(valueHelp, propertyPath, payload);
        const firstTypeAheadContent = valueHelp.getTypeahead().getContent()[0],
          caseSensitive = firstTypeAheadContent.getCaseSensitive(); // take caseSensitive from first Typeahead content

        if (isTypeahead) {
          const {
            valueListInfo,
            content
          } = ValueListHelper._prepareValueHelpTypeAhead(valueHelp, container, valueListInfos, payload, caseSensitive, firstTypeAheadContent);
          payload.valueHelpQualifier = valueListInfo.valueHelpQualifier;
          ValueListHelper._addDescriptionInfosToPayload(payload, valueListInfo, metaModel);
          if (content.getTable() === undefined || content.getTable() === null) {
            await ValueListHelper._createValueHelpTypeahead(propertyPath, valueHelp, content, valueListInfo, payload);
          }
        } else {
          var _selectedInfo$valueLi;
          const {
            selectedInfo,
            selectedContent
          } = ValueListHelper._prepareValueHelpDialog(valueHelp, container, valueListInfos, payload, selectedContentId, caseSensitive);
          payload.valueHelpQualifier = selectedInfo.valueHelpQualifier;
          ValueListHelper._addDescriptionInfosToPayload(payload, selectedInfo, metaModel);

          /* For context depentent value helps the value list label is used for the dialog title */
          const title = CommonUtils.getTranslatedTextFromExpBindingString(ValueListHelper._getDialogTitle(valueHelp, (_selectedInfo$valueLi = selectedInfo.valueListInfo) === null || _selectedInfo$valueLi === void 0 ? void 0 : _selectedInfo$valueLi.Label), valueHelp.getControl());
          container.setTitle(title);
          if (selectedContent.getTable() === undefined || selectedContent.getTable() === null) {
            await ValueListHelper._createValueHelpDialog(propertyPath, valueHelp, selectedContent, selectedInfo, payload);
          }
        }
      } catch (err) {
        this._logError(propertyPath, err);
        ValueListHelper.destroyVHContent(valueHelp);
      }
    }
  };
  return ValueListHelper;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb2x1bW5Ob3RBbHJlYWR5RGVmaW5lZCIsImNvbHVtbkRlZnMiLCJ2aEtleSIsInNvbWUiLCJjb2x1bW4iLCJwYXRoIiwiQW5ub3RhdGlvbkxhYmVsIiwiQW5ub3RhdGlvblRleHQiLCJBbm5vdGF0aW9uVGV4dFVJVGV4dEFycmFuZ2VtZW50IiwiQW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlckluIiwiQW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlckNvbnN0YW50IiwiQW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlck91dCIsIkFubm90YXRpb25WYWx1ZUxpc3RQYXJhbWV0ZXJJbk91dCIsIkFubm90YXRpb25WYWx1ZUxpc3RXaXRoRml4ZWRWYWx1ZXMiLCJfZ2V0RGVmYXVsdFNvcnRQcm9wZXJ0eU5hbWUiLCJ2YWx1ZUxpc3RJbmZvIiwic29ydEZpZWxkTmFtZSIsIm1ldGFNb2RlbCIsIiRtb2RlbCIsImdldE1ldGFNb2RlbCIsImVudGl0eVNldEFubm90YXRpb25zIiwiZ2V0T2JqZWN0IiwiQ29sbGVjdGlvblBhdGgiLCJzb3J0UmVzdHJpY3Rpb25zSW5mbyIsImdldFNvcnRSZXN0cmljdGlvbnNJbmZvIiwiZm91bmRFbGVtZW50IiwiUGFyYW1ldGVycyIsImZpbmQiLCJlbGVtZW50IiwiJFR5cGUiLCJWYWx1ZUxpc3RQcm9wZXJ0eSIsInByb3BlcnR5SW5mbyIsInNvcnRhYmxlIiwidW5kZWZpbmVkIiwiX3JlZHVuZGFudERlc2NyaXB0aW9uIiwib1ZMUGFyYW1ldGVyIiwiYUNvbHVtbkluZm8iLCJvQ29sdW1uSW5mbyIsImNvbHVtbkluZm8iLCJ0ZXh0Q29sdW1uTmFtZSIsImtleUNvbHVtbkhpZGRlbiIsImtleUNvbHVtbkRpc3BsYXlGb3JtYXQiLCJfaGFzSW1wb3J0YW5jZUhpZ2giLCJvVmFsdWVMaXN0Q29udGV4dCIsIm9QYXJhbWV0ZXIiLCIkRW51bU1lbWJlciIsIl9idWlsZCRTZWxlY3RTdHJpbmciLCJjb250cm9sIiwib1ZpZXdEYXRhIiwiZ2V0TW9kZWwiLCJvRGF0YSIsImdldERhdGEiLCJhQ29sdW1ucyIsImNvbHVtbnMiLCJyZWR1Y2UiLCJzUXVlcnkiLCJvUHJvcGVydHkiLCJpbmRleE9mIiwiX2dldFZhbHVlSGVscENvbHVtbkRpc3BsYXlGb3JtYXQiLCJvUHJvcGVydHlBbm5vdGF0aW9ucyIsImlzVmFsdWVIZWxwV2l0aEZpeGVkVmFsdWVzIiwic0Rpc3BsYXlNb2RlIiwiQ29tbW9uVXRpbHMiLCJjb21wdXRlRGlzcGxheU1vZGUiLCJvVGV4dEFubm90YXRpb24iLCJvVGV4dEFycmFuZ2VtZW50QW5ub3RhdGlvbiIsIiRQYXRoIiwiVmFsdWVMaXN0SGVscGVyIiwiZ2V0VmFsdWVMaXN0Q29sbGVjdGlvbkVudGl0eVNldCIsIm1WYWx1ZUxpc3QiLCJjcmVhdGVCaW5kaW5nQ29udGV4dCIsImdldFRhYmxlRGVsZWdhdGUiLCJvVmFsdWVMaXN0Iiwic0RlZmF1bHRTb3J0UHJvcGVydHlOYW1lIiwiZ2V0U29ydENvbmRpdGlvbnNGcm9tUHJlc2VudGF0aW9uVmFyaWFudCIsImlzU3VnZ2VzdGlvbiIsIlByZXNlbnRhdGlvblZhcmlhbnRRdWFsaWZpZXIiLCJwcmVzZW50YXRpb25WYXJpYW50UXVhbGlmaWVyIiwicHJlc2VudGF0aW9uVmFyaWFudFBhdGgiLCJwcmVzZW50YXRpb25WYXJpYW50IiwiU29ydE9yZGVyIiwic29ydENvbmRpdGlvbnMiLCJzb3J0ZXJzIiwiZm9yRWFjaCIsImNvbmRpdGlvbiIsInNvcnRlciIsInByb3BlcnR5UGF0aCIsIlByb3BlcnR5IiwiJFByb3BlcnR5UGF0aCIsIm5hbWUiLCJEZXNjZW5kaW5nIiwiZGVzY2VuZGluZyIsImFzY2VuZGluZyIsInB1c2giLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0UHJvcGVydHlQYXRoIiwib1BhcmFtZXRlcnMiLCJVbmJvdW5kQWN0aW9uIiwiRW50aXR5VHlwZVBhdGgiLCJBY3Rpb24iLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsImdldFZhbHVlTGlzdFByb3BlcnR5Iiwib1Byb3BlcnR5Q29udGV4dCIsIm9WYWx1ZUxpc3RNb2RlbCIsImdldENvbHVtblZpc2liaWxpdHkiLCJvU291cmNlIiwiaXNEcm9wRG93bkxpc3QiLCJ2YWx1ZUhlbHBXaXRoRml4ZWRWYWx1ZXMiLCJpc1Zpc2libGUiLCJjb2x1bW5JbmZvcyIsImlzRGlhbG9nVGFibGUiLCJjb2x1bW5XaXRoSGlkZGVuQW5ub3RhdGlvbiIsImNvbHVtbk5hbWUiLCJoYXNIaWRkZW5Bbm5vdGF0aW9uIiwiZ2V0Q29sdW1uVmlzaWJpbGl0eUluZm8iLCJzUHJvcGVydHlGdWxsUGF0aCIsImJJc0Ryb3BEb3duTGlzdGUiLCJvTWV0YU1vZGVsIiwiYUNvbHVtbkluZm9zIiwib0NvbHVtbkluZm9zIiwiZ2V0VGFibGVJdGVtc1BhcmFtZXRlcnMiLCJyZXF1ZXN0R3JvdXBJZCIsIml0ZW1QYXJhbWV0ZXJzIiwic2VsZWN0U3RyaW5nIiwic2VsZWN0U3RyaW5nUGFydCIsImlzU3VzcGVuZGVkIiwic29ydENvbmRpdGlvbnNGcm9tUHJlc2VudGF0aW9uVmFyaWFudCIsImRlZmF1bHRTb3J0UHJvcGVydHlOYW1lIiwiam9pbiIsImhhc0ltcG9ydGFuY2UiLCJnZXRNaW5TY3JlZW5XaWR0aCIsImdldENvbHVtbldpZHRoIiwicHJvcGVydHkiLCJ0YXJnZXRPYmplY3QiLCJyZWxhdGVkUHJvcGVydHkiLCJhZGRpdGlvbmFsUHJvcGVydHkiLCJnZXRBc3NvY2lhdGVkVGV4dFByb3BlcnR5IiwiZ2V0QXNzb2NpYXRlZEN1cnJlbmN5UHJvcGVydHkiLCJnZXRBc3NvY2lhdGVkVW5pdFByb3BlcnR5IiwiZ2V0QXNzb2NpYXRlZFRpbWV6b25lUHJvcGVydHkiLCJ0ZXh0QW5ub3RhdGlvbiIsImFubm90YXRpb25zIiwiQ29tbW9uIiwiVGV4dCIsInRleHRBcnJhbmdlbWVudCIsIlVJIiwiVGV4dEFycmFuZ2VtZW50IiwidG9TdHJpbmciLCJsYWJlbCIsIkxhYmVsIiwiZGlzcGxheU1vZGUiLCJnZXREaXNwbGF5TW9kZSIsInNpemUiLCJpbnN0YW5jZXMiLCJwcm9wIiwicHJvcGVydHlUeXBlQ29uZmlnIiwiZ2V0VHlwZUNvbmZpZyIsIlByb3BlcnR5T0RhdGFDb25zdHJ1Y3RvciIsIk9iamVjdFBhdGgiLCJnZXQiLCJ0eXBlIiwiZm9ybWF0T3B0aW9ucyIsImNvbnN0cmFpbnRzIiwic1dpZHRoIiwiVXRpbCIsImNhbGNDb2x1bW5XaWR0aCIsInBhcnNlRmxvYXQiLCJyZXBsYWNlIiwiTG9nIiwiZXJyb3IiLCJnZXRPdXRQYXJhbWV0ZXJQYXRocyIsImFQYXJhbWV0ZXJzIiwic1BhdGgiLCJlbmRzV2l0aCIsImVudGl0eUlzU2VhcmNoYWJsZSIsInByb3BlcnR5QW5ub3RhdGlvbnMiLCJjb2xsZWN0aW9uQW5ub3RhdGlvbnMiLCJzZWFyY2hTdXBwb3J0ZWQiLCJTZWFyY2hTdXBwb3J0ZWQiLCJzZWFyY2hhYmxlIiwiU2VhcmNoYWJsZSIsIl9nZXRDb25kaXRpb25QYXRoIiwiZW50aXR5U2V0IiwicGFydHMiLCJzcGxpdCIsImNvbmRpdGlvblBhdGgiLCJwYXJ0aWFsUGF0aCIsImxlbmd0aCIsInBhcnQiLCJzaGlmdCIsIiRraW5kIiwiJGlzQ29sbGVjdGlvbiIsIl9nZXRDb2x1bW5EZWZpbml0aW9uRnJvbVNlbGVjdGlvbkZpZWxkcyIsImVudGl0eVR5cGVBbm5vdGF0aW9ucyIsInNlbGVjdGlvbkZpZWxkcyIsInNlbGVjdGlvbkZpZWxkIiwic2VsZWN0aW9uRmllbGRQYXRoIiwiY29sdW1uRGVmIiwiZmlsdGVyYWJsZSIsImlzUHJvcGVydHlGaWx0ZXJhYmxlIiwiX21lcmdlQ29sdW1uRGVmaW5pdGlvbnNGcm9tUHJvcGVydGllcyIsInZhbHVlTGlzdFByb3BlcnR5IiwiY29sdW1uUGF0aCIsImNvbHVtblByb3BlcnR5VHlwZSIsInRleHRQcm9wZXJ0eVBhdGgiLCJmaWx0ZXJJbk91dFBhcmFtZXRlcnMiLCJ2aFBhcmFtZXRlcnMiLCJ0eXBlRmlsdGVyIiwiZmlsdGVyIiwicGFyYW1ldGVyIiwicGFybWV0ZXJUeXBlIiwiZ2V0SW5QYXJhbWV0ZXJzIiwiZ2V0T3V0UGFyYW1ldGVycyIsImNyZWF0ZVZIVUlNb2RlbCIsInZhbHVlSGVscCIsInZoVUlNb2RlbCIsIkpTT05Nb2RlbCIsInNldE1vZGVsIiwic2V0UHJvcGVydHkiLCJfZ2V0RGlhbG9nVGl0bGUiLCJ2YWx1ZWhlbHBMYWJlbCIsInByb3BlcnR5TGFiZWwiLCJnZXRQcm9wZXJ0eSIsImRhdGFGaWVsZExhYmVsIiwiZ2V0Q29udHJvbCIsImRlc3Ryb3lWSENvbnRlbnQiLCJnZXREaWFsb2ciLCJkZXN0cm95Q29udGVudCIsImdldFR5cGVhaGVhZCIsInB1dERlZmF1bHRRdWFsaWZpZXJGaXJzdCIsInF1YWxpZmllcnMiLCJpbmRleERlZmF1bHRWSCIsInVuc2hpZnQiLCJzcGxpY2UiLCJfZ2V0Q29udGV4dFByZWZpeCIsImJpbmRpbmdDb250ZXh0IiwicHJvcGVydHlCaW5kaW5nUGFydHMiLCJnZXRQYXRoIiwiYmluZGlnQ29udGV4dFBhcnRzIiwiY29udGV4dFByZWZpeFBhcnRzIiwiaSIsIl9nZXRWaFBhcmFtZXRlciIsImNvbmRpdGlvbk1vZGVsIiwiY29udGV4dFByZWZpeCIsInZoTWV0YU1vZGVsIiwibG9jYWxEYXRhUHJvcGVydHlQYXRoIiwidmFsdWVQYXRoIiwiZ2V0QmluZGluZ0NvbnRleHQiLCJnZXRQYXJlbnQiLCJpc0EiLCJfcGFyYW1ldGVySXNBIiwiZmlyc3ROYXZpZ2F0aW9uUHJvcGVydHkiLCJvQm91bmRFbnRpdHkiLCJnZXRNZXRhQ29udGV4dCIsInNQYXRoT2ZUYWJsZSIsImdldFJvd0JpbmRpbmciLCJzb3VyY2UiLCJoZWxwUGF0aCIsImNvbnN0YW50VmFsdWUiLCJDb25zdGFudCIsImluaXRpYWxWYWx1ZUZpbHRlckVtcHR5IiwiQm9vbGVhbiIsIkluaXRpYWxWYWx1ZUlzU2lnbmlmaWNhbnQiLCJwYXJhbWV0ZXJUeXBlcyIsImluY2x1ZGVzIiwiX2VucmljaFBhdGgiLCJwcm9wZXJ0eU5hbWUiLCJrZXkiLCJmaWVsZFByb3BlcnR5UGF0aCIsImRlc2NyaXB0aW9uUGF0aCIsIl9lbnJpY2hLZXlzIiwidmhLZXlzIiwiX3Byb2Nlc3NQYXJhbWV0ZXJzIiwiYW5ub3RhdGlvblZhbHVlTGlzdFR5cGUiLCJ2YWx1ZUhlbHBRdWFsaWZpZXIiLCJlbnRpdHlTZXRQYXRoIiwiZW50aXR5VHlwZSIsIiRLZXkiLCJMb2NhbERhdGFQcm9wZXJ0eSIsInZoUGFyYW1ldGVyIiwidmFsdWVsaXN0SW5mbyIsImtleVBhdGgiLCJfbG9nRXJyb3IiLCJzdGF0dXMiLCJtZXNzYWdlIiwiRXJyb3IiLCJTdHJpbmciLCJtc2ciLCJnZXRWYWx1ZUxpc3RJbmZvIiwicGF5bG9hZCIsInZhbHVlTGlzdEluZm9zIiwicHJvcGVydHlQYXRoUGFydHMiLCJ2YWx1ZUxpc3RCeVF1YWxpZmllciIsInJlcXVlc3RWYWx1ZUxpc3RJbmZvIiwidmFsdWVIZWxwUXVhbGlmaWVycyIsIk9iamVjdCIsImtleXMiLCJwb3AiLCJ1c2VNdWx0aVZhbHVlRmllbGQiLCIkcXVhbGlmaWVyIiwiZXJyIiwiQUxMRlJBR01FTlRTIiwibG9nRnJhZ21lbnQiLCJfbG9nVGVtcGxhdGVkRnJhZ21lbnRzIiwiZnJhZ21lbnROYW1lIiwiZnJhZ21lbnREZWZpbml0aW9uIiwibG9nSW5mbyIsImZyYWdtZW50IiwiZ2V0TGV2ZWwiLCJMZXZlbCIsIkRFQlVHIiwic2V0VGltZW91dCIsIl90ZW1wbGF0ZUZyYWdtZW50Iiwic291cmNlTW9kZWwiLCJsb2NhbFZhbHVlTGlzdEluZm8iLCJ2YWx1ZUxpc3RNb2RlbCIsInZhbHVlTGlzdFNlcnZpY2VNZXRhTW9kZWwiLCJ2aWV3RGF0YSIsImNvbnZlcnRlclR5cGUiLCJYTUxQcmVwcm9jZXNzb3IiLCJwcm9jZXNzIiwiWE1MVGVtcGxhdGVQcm9jZXNzb3IiLCJsb2FkVGVtcGxhdGUiLCJiaW5kaW5nQ29udGV4dHMiLCJ2YWx1ZUxpc3QiLCJjb250ZXh0UGF0aCIsIm1vZGVscyIsIkZyYWdtZW50IiwibG9hZCIsImRlZmluaXRpb24iLCJfZ2V0Q29udGVudElkIiwidmFsdWVIZWxwSWQiLCJpc1R5cGVhaGVhZCIsImNvbnRlbnRUeXBlIiwiX2FkZEluT3V0UGFyYW1ldGVyc1RvUGF5bG9hZCIsInRleHRBcnJhbmdlbWVudEFubm90YXRpb24iLCJfZ2V0V2lkdGhJblJlbSIsImlzVW5pdFZhbHVlSGVscCIsIndpZHRoIiwiJCIsImZsb2F0V2lkdGgiLCJSZW0iLCJmcm9tUHgiLCJpc05hTiIsIl9nZXRUYWJsZVdpZHRoIiwidGFibGUiLCJtaW5XaWR0aCIsImdldENvbHVtbnMiLCJ2aXNpYmxlQ29sdW1ucyIsImdldFZpc2libGUiLCJzdW1XaWR0aCIsInN1bSIsImdldFdpZHRoIiwiTWF0aCIsIm1heCIsIl9jcmVhdGVWYWx1ZUhlbHBUeXBlYWhlYWQiLCJjb250ZW50IiwiY29udGVudElkIiwiZ2V0SWQiLCJpZCIsImdyb3VwSWQiLCJiU3VnZ2VzdGlvbiIsInNldEtleVBhdGgiLCJzZXREZXNjcmlwdGlvblBhdGgiLCJpc1ZhbHVlTGlzdFdpdGhGaXhlZFZhbHVlcyIsInNldEZpbHRlckZpZWxkcyIsImluZm8iLCJnZXRNZXRhZGF0YSIsImdldE5hbWUiLCJzZXRUYWJsZSIsImZpZWxkIiwicmVkdWNlV2lkdGhGb3JVbml0VmFsdWVIZWxwIiwidGFibGVXaWR0aCIsInNldFdpZHRoIiwic2V0TW9kZSIsImdldE1heENvbmRpdGlvbnMiLCJfY3JlYXRlVmFsdWVIZWxwRGlhbG9nIiwiaXNEcm9wRG93bkxpc3RlIiwidGFibGVQcm9taXNlIiwiZmlsdGVyQmFyUHJvbWlzZSIsImZpbHRlckJhciIsIlByb21pc2UiLCJhbGwiLCJzZXRGaWx0ZXJCYXIiLCJzZXRGaWx0ZXIiLCJpbml0aWFsaXplZCIsInNldFNlbGVjdGlvbk1vZGUiLCJtZGNUYWJsZSIsIl9zZXRTaG93UDEzbkJ1dHRvbiIsIl9nZXRDb250ZW50QnlJZCIsImNvbnRlbnRMaXN0IiwiaXRlbSIsIl9jcmVhdGVQb3BvdmVyQ29udGVudCIsImNhc2VTZW5zaXRpdmUiLCJ1c2VBc1ZhbHVlSGVscCIsIk1UYWJsZSIsImdyb3VwIiwiX2NyZWF0ZURpYWxvZ0NvbnRlbnQiLCJmb3JjZUJpbmQiLCJNRENUYWJsZSIsIl9zaG93Q29uZGl0aW9uc0NvbnRlbnQiLCJjb250YWluZXIiLCJjb25kaXRpb25zQ29udGVudCIsInNldFZpc2libGUiLCJDb25kaXRpb25zIiwiYWRkQ29udGVudCIsIl9hbGlnbk9yQ3JlYXRlQ29udGVudCIsInNob3dDb25kaXRpb25QYW5lbCIsImdldENvbnRlbnQiLCJGZXRjaFZhbHVlcyIsImluc2VydENvbnRlbnQiLCJfcHJlcGFyZVZhbHVlSGVscFR5cGVBaGVhZCIsImZpcnN0VHlwZUFoZWFkQ29udGVudCIsInF1YWxpZmllckZvclR5cGVhaGVhZCIsImRhdGEiLCJzdWJWYWx1ZUxpc3RJbmZvIiwiZ2V0VXNlQXNWYWx1ZUhlbHAiLCJyZW1vdmVDb250ZW50IiwiX3ByZXBhcmVWYWx1ZUhlbHBEaWFsb2ciLCJzZWxlY3RlZENvbnRlbnRJZCIsImNvbnRlbnRMaXN0SXRlbSIsInNlbGVjdGVkSW5mbyIsInNlbGVjdGVkQ29udGVudCIsInRpdGxlIiwiZ2V0VHJhbnNsYXRlZFRleHRGcm9tRXhwQmluZGluZ1N0cmluZyIsInNldFRpdGxlIiwiX2FkZERlc2NyaXB0aW9uSW5mb3NUb1BheWxvYWQiLCJ2YWx1ZUhlbHBEZXNjcmlwdGlvblBhdGgiLCJjb252ZXJ0ZWRNZXRhZGF0YSIsImNvbnZlcnRUeXBlcyIsInByb3BlcnR5RGVzY3JpcHRpb25QYXRoIiwicmVzb2x2ZVBhdGgiLCJ0YXJnZXQiLCJ2YWx1ZUhlbHBLZXlQYXRoIiwibWF4TGVuZ3RoIiwic2hvd1ZhbHVlTGlzdCIsImdldENhc2VTZW5zaXRpdmUiLCJnZXRUYWJsZSJdLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiVmFsdWVMaXN0SGVscGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUGF0aEFubm90YXRpb25FeHByZXNzaW9uLCBQcm9wZXJ0eSB9IGZyb20gXCJAc2FwLXV4L3ZvY2FidWxhcmllcy10eXBlc1wiO1xuaW1wb3J0IHsgQ29tbW9uQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIkBzYXAtdXgvdm9jYWJ1bGFyaWVzLXR5cGVzL3ZvY2FidWxhcmllcy9Db21tb25cIjtcbmltcG9ydCB0eXBlIHsgUHJlc2VudGF0aW9uVmFyaWFudCB9IGZyb20gXCJAc2FwLXV4L3ZvY2FidWxhcmllcy10eXBlcy92b2NhYnVsYXJpZXMvVUlcIjtcbmltcG9ydCBMb2csIHsgTGV2ZWwgfSBmcm9tIFwic2FwL2Jhc2UvTG9nXCI7XG5pbXBvcnQgT2JqZWN0UGF0aCBmcm9tIFwic2FwL2Jhc2UvdXRpbC9PYmplY3RQYXRoXCI7XG5pbXBvcnQgQ29tbW9uVXRpbHMgZnJvbSBcInNhcC9mZS9jb3JlL0NvbW1vblV0aWxzXCI7XG5pbXBvcnQgeyBjb252ZXJ0VHlwZXMgfSBmcm9tIFwic2FwL2ZlL2NvcmUvY29udmVydGVycy9NZXRhTW9kZWxDb252ZXJ0ZXJcIjtcbmltcG9ydCB0eXBlIHsgQ29tcGlsZWRCaW5kaW5nVG9vbGtpdEV4cHJlc3Npb24gfSBmcm9tIFwic2FwL2ZlL2NvcmUvaGVscGVycy9CaW5kaW5nVG9vbGtpdFwiO1xuaW1wb3J0IHsgZ2V0U29ydFJlc3RyaWN0aW9uc0luZm8sIGlzUHJvcGVydHlGaWx0ZXJhYmxlIH0gZnJvbSBcInNhcC9mZS9jb3JlL2hlbHBlcnMvTWV0YU1vZGVsRnVuY3Rpb25cIjtcbmltcG9ydCB0eXBlIHsgRGF0YU1vZGVsT2JqZWN0UGF0aCB9IGZyb20gXCJzYXAvZmUvY29yZS90ZW1wbGF0aW5nL0RhdGFNb2RlbFBhdGhIZWxwZXJcIjtcbmltcG9ydCB7XG5cdGdldEFzc29jaWF0ZWRDdXJyZW5jeVByb3BlcnR5LFxuXHRnZXRBc3NvY2lhdGVkVGV4dFByb3BlcnR5LFxuXHRnZXRBc3NvY2lhdGVkVGltZXpvbmVQcm9wZXJ0eSxcblx0Z2V0QXNzb2NpYXRlZFVuaXRQcm9wZXJ0eVxufSBmcm9tIFwic2FwL2ZlL2NvcmUvdGVtcGxhdGluZy9Qcm9wZXJ0eUhlbHBlclwiO1xuaW1wb3J0IHsgZ2V0RGlzcGxheU1vZGUsIGdldFR5cGVDb25maWcgfSBmcm9tIFwic2FwL2ZlL2NvcmUvdGVtcGxhdGluZy9VSUZvcm1hdHRlcnNcIjtcbmltcG9ydCB0eXBlIFRhYmxlIGZyb20gXCJzYXAvbS9UYWJsZVwiO1xuaW1wb3J0IFV0aWwgZnJvbSBcInNhcC9tL3RhYmxlL1V0aWxcIjtcbmltcG9ydCB0eXBlIENvbnRyb2wgZnJvbSBcInNhcC91aS9jb3JlL0NvbnRyb2xcIjtcbmltcG9ydCBGcmFnbWVudCBmcm9tIFwic2FwL3VpL2NvcmUvRnJhZ21lbnRcIjtcbmltcG9ydCBYTUxQcmVwcm9jZXNzb3IgZnJvbSBcInNhcC91aS9jb3JlL3V0aWwvWE1MUHJlcHJvY2Vzc29yXCI7XG5pbXBvcnQgWE1MVGVtcGxhdGVQcm9jZXNzb3IgZnJvbSBcInNhcC91aS9jb3JlL1hNTFRlbXBsYXRlUHJvY2Vzc29yXCI7XG5pbXBvcnQgUmVtIGZyb20gXCJzYXAvdWkvZG9tL3VuaXRzL1JlbVwiO1xuaW1wb3J0IHR5cGUgRmllbGQgZnJvbSBcInNhcC91aS9tZGMvRmllbGRcIjtcbmltcG9ydCB0eXBlIEZpZWxkQmFzZSBmcm9tIFwic2FwL3VpL21kYy9maWVsZC9GaWVsZEJhc2VcIjtcbmltcG9ydCB0eXBlIE1kY0ZpbHRlckJhciBmcm9tIFwic2FwL3VpL21kYy9maWx0ZXJiYXIvRmlsdGVyQmFyQmFzZVwiO1xuaW1wb3J0IHR5cGUgRmlsdGVyRmllbGQgZnJvbSBcInNhcC91aS9tZGMvRmlsdGVyRmllbGRcIjtcbmltcG9ydCB0eXBlIE11bHRpVmFsdWVGaWVsZCBmcm9tIFwic2FwL3VpL21kYy9NdWx0aVZhbHVlRmllbGRcIjtcbmltcG9ydCB0eXBlIE1kY0lubmVyVGFibGUgZnJvbSBcInNhcC91aS9tZGMvVGFibGVcIjtcbmltcG9ydCB0eXBlIFZhbHVlSGVscCBmcm9tIFwic2FwL3VpL21kYy9WYWx1ZUhlbHBcIjtcbmltcG9ydCB0eXBlIENvbnRhaW5lciBmcm9tIFwic2FwL3VpL21kYy92YWx1ZWhlbHAvYmFzZS9Db250YWluZXJcIjtcbmltcG9ydCB0eXBlIENvbnRlbnQgZnJvbSBcInNhcC91aS9tZGMvdmFsdWVoZWxwL2Jhc2UvQ29udGVudFwiO1xuaW1wb3J0IENvbmRpdGlvbnMgZnJvbSBcInNhcC91aS9tZGMvdmFsdWVoZWxwL2NvbnRlbnQvQ29uZGl0aW9uc1wiO1xuaW1wb3J0IE1EQ1RhYmxlLCB7IHR5cGUgJE1EQ1RhYmxlU2V0dGluZ3MgfSBmcm9tIFwic2FwL3VpL21kYy92YWx1ZWhlbHAvY29udGVudC9NRENUYWJsZVwiO1xuaW1wb3J0IE1UYWJsZSwgeyB0eXBlICRNVGFibGVTZXR0aW5ncyB9IGZyb20gXCJzYXAvdWkvbWRjL3ZhbHVlaGVscC9jb250ZW50L01UYWJsZVwiO1xuaW1wb3J0IEpTT05Nb2RlbCBmcm9tIFwic2FwL3VpL21vZGVsL2pzb24vSlNPTk1vZGVsXCI7XG5pbXBvcnQgT0RhdGFUeXBlIGZyb20gXCJzYXAvdWkvbW9kZWwvb2RhdGEvdHlwZS9PRGF0YVR5cGVcIjtcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSBcInNhcC91aS9tb2RlbC9vZGF0YS92NC9Db250ZXh0XCI7XG5pbXBvcnQgdHlwZSBPRGF0YU1ldGFNb2RlbCBmcm9tIFwic2FwL3VpL21vZGVsL29kYXRhL3Y0L09EYXRhTWV0YU1vZGVsXCI7XG5pbXBvcnQgdHlwZSBPRGF0YU1vZGVsIGZyb20gXCJzYXAvdWkvbW9kZWwvb2RhdGEvdjQvT0RhdGFNb2RlbFwiO1xuaW1wb3J0IHR5cGUgeyBNZXRhTW9kZWxUeXBlIH0gZnJvbSBcInR5cGVzL21ldGFtb2RlbF90eXBlc1wiO1xuaW1wb3J0IHsgTWV0YU1vZGVsRW50aXR5U2V0QW5ub3RhdGlvbiB9IGZyb20gXCJ0eXBlcy9tZXRhbW9kZWxfdHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgQW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlciA9IHtcblx0JFR5cGU6IHN0cmluZztcblx0VmFsdWVMaXN0UHJvcGVydHk6IHN0cmluZztcblx0TG9jYWxEYXRhUHJvcGVydHk/OiB7XG5cdFx0JFByb3BlcnR5UGF0aDogc3RyaW5nO1xuXHR9O1xuXHRDb25zdGFudD86IHN0cmluZztcblx0SW5pdGlhbFZhbHVlSXNTaWduaWZpY2FudD86IGJvb2xlYW47XG59O1xuXG4vLyBjb20uc2FwLnZvY2FidWxhcmllcy5Db21tb24udjEuVmFsdWVMaXN0VHlwZVxuZXhwb3J0IHR5cGUgQW5ub3RhdGlvblZhbHVlTGlzdFR5cGUgPSB7XG5cdCRUeXBlOiBzdHJpbmc7IC8vIENvbW1vbkFubm90YXRpb25UeXBlcy5WYWx1ZUxpc3RUeXBlO1xuXHRMYWJlbD86IHN0cmluZztcblx0Q29sbGVjdGlvblBhdGg6IHN0cmluZztcblx0Q29sbGVjdGlvblJvb3Q/OiBzdHJpbmc7XG5cdERpc3RpbmN0VmFsdWVzU3VwcG9ydGVkPzogYm9vbGVhbjtcblx0U2VhcmNoU3VwcG9ydGVkPzogYm9vbGVhbjtcblx0RmV0Y2hWYWx1ZXM/OiBudW1iZXI7XG5cdFByZXNlbnRhdGlvblZhcmlhbnRRdWFsaWZpZXI/OiBzdHJpbmc7XG5cdFNlbGVjdGlvblZhcmlhbnRRdWFsaWZpZXI/OiBzdHJpbmc7XG5cdFBhcmFtZXRlcnM6IEFubm90YXRpb25WYWx1ZUxpc3RQYXJhbWV0ZXJbXTtcblx0JG1vZGVsOiBPRGF0YU1vZGVsO1xuXHQkcXVhbGlmaWVyPzogc3RyaW5nOyAvLyBkZWZpbmVkIGluIGNhc2Ugb2YgVmFsdWVMaXN0V2l0aEZpeGVkVmFsdWVzXG59O1xuXG5leHBvcnQgdHlwZSBBbm5vdGF0aW9uVmFsdWVMaXN0VHlwZUJ5UXVhbGlmaWVyID0gUmVjb3JkPHN0cmluZywgQW5ub3RhdGlvblZhbHVlTGlzdFR5cGU+O1xuXG5jb25zdCBjb2x1bW5Ob3RBbHJlYWR5RGVmaW5lZCA9IChjb2x1bW5EZWZzOiBDb2x1bW5EZWZbXSwgdmhLZXk6IHN0cmluZyk6IGJvb2xlYW4gPT4gIWNvbHVtbkRlZnMuc29tZSgoY29sdW1uKSA9PiBjb2x1bW4ucGF0aCA9PT0gdmhLZXkpO1xuXG5leHBvcnQgY29uc3QgQW5ub3RhdGlvbkxhYmVsID0gXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuQ29tbW9uLnYxLkxhYmVsXCIsXG5cdEFubm90YXRpb25UZXh0ID0gXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuQ29tbW9uLnYxLlRleHRcIixcblx0QW5ub3RhdGlvblRleHRVSVRleHRBcnJhbmdlbWVudCA9IFwiQGNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5UZXh0QGNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLlRleHRBcnJhbmdlbWVudFwiLFxuXHRBbm5vdGF0aW9uVmFsdWVMaXN0UGFyYW1ldGVySW4gPSBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5WYWx1ZUxpc3RQYXJhbWV0ZXJJblwiLFxuXHRBbm5vdGF0aW9uVmFsdWVMaXN0UGFyYW1ldGVyQ29uc3RhbnQgPSBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5WYWx1ZUxpc3RQYXJhbWV0ZXJDb25zdGFudFwiLFxuXHRBbm5vdGF0aW9uVmFsdWVMaXN0UGFyYW1ldGVyT3V0ID0gXCJjb20uc2FwLnZvY2FidWxhcmllcy5Db21tb24udjEuVmFsdWVMaXN0UGFyYW1ldGVyT3V0XCIsXG5cdEFubm90YXRpb25WYWx1ZUxpc3RQYXJhbWV0ZXJJbk91dCA9IFwiY29tLnNhcC52b2NhYnVsYXJpZXMuQ29tbW9uLnYxLlZhbHVlTGlzdFBhcmFtZXRlckluT3V0XCIsXG5cdEFubm90YXRpb25WYWx1ZUxpc3RXaXRoRml4ZWRWYWx1ZXMgPSBcIkBjb20uc2FwLnZvY2FidWxhcmllcy5Db21tb24udjEuVmFsdWVMaXN0V2l0aEZpeGVkVmFsdWVzXCI7XG5cbnR5cGUgQW5ub3RhdGlvbnNGb3JQcm9wZXJ0eSA9IHtcblx0XCJAY29tLnNhcC52b2NhYnVsYXJpZXMuQ29tbW9uLnYxLlZhbHVlTGlzdFwiPzoge1xuXHRcdFNlYXJjaFN1cHBvcnRlZD86IGJvb2xlYW47XG5cdH07XG5cdFwiQGNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5MYWJlbFwiPzogc3RyaW5nOyAvLyBBbm5vdGF0aW9uTGFiZWxcblx0XCJAY29tLnNhcC52b2NhYnVsYXJpZXMuQ29tbW9uLnYxLlRleHRcIj86IHtcblx0XHQvLyBBbm5vdGF0aW9uVGV4dFxuXHRcdCRQYXRoOiBzdHJpbmc7XG5cdH07XG5cdFwiQGNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5UZXh0QGNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLlRleHRBcnJhbmdlbWVudFwiPzoge1xuXHRcdC8vIEFubm90YXRpb25UZXh0VUlUZXh0QXJyYW5nZW1lbnRcblx0XHQkRW51bU1lbWJlcj86IHN0cmluZztcblx0fTtcblx0XCJAY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuSGlkZGVuRmlsdGVyXCI/OiBib29sZWFuO1xuXHRcIkBjb20uc2FwLnZvY2FidWxhcmllcy5Db21tb24udjEuVmFsdWVMaXN0V2l0aEZpeGVkVmFsdWVzXCI/OiBib29sZWFuOyAvLyBBbm5vdGF0aW9uVmFsdWVMaXN0V2l0aEZpeGVkVmFsdWVzXG5cdFwiQGNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5WYWx1ZUxpc3RSZWxldmFudFF1YWxpZmllcnNcIj86IHN0cmluZ1tdO1xuXHRcIkBjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5IaWRkZW5cIj86IHN0cmluZztcbn07XG5cbnR5cGUgQW5ub3RhdGlvblNlbGVjdGlvbkZpZWxkID0ge1xuXHQkUHJvcGVydHlQYXRoOiBzdHJpbmc7XG59O1xuXG50eXBlIEFubm90YXRpb25zRm9yRW50aXR5VHlwZSA9IHtcblx0XCJAY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuU2VsZWN0aW9uRmllbGRzXCI/OiBBbm5vdGF0aW9uU2VsZWN0aW9uRmllbGRbXTtcbn07XG5cbnR5cGUgQ29sdW1uUHJvcGVydHkgPSB7XG5cdCRUeXBlOiBzdHJpbmc7XG5cdCRraW5kOiBzdHJpbmc7XG5cdCRpc0NvbGxlY3Rpb246IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBJbk91dFBhcmFtZXRlciA9IHtcblx0cGFybWV0ZXJUeXBlOiBzdHJpbmc7XG5cdHNvdXJjZTogc3RyaW5nO1xuXHRoZWxwUGF0aDogc3RyaW5nO1xuXHRpbml0aWFsVmFsdWVGaWx0ZXJFbXB0eTogYm9vbGVhbjtcblx0Y29uc3RhbnRWYWx1ZT86IHN0cmluZyB8IGJvb2xlYW47XG59O1xuXG50eXBlIFZhbHVlSGVscFBheWxvYWRJbmZvID0ge1xuXHR2aEtleXM/OiBzdHJpbmdbXTtcblx0dmhQYXJhbWV0ZXJzPzogSW5PdXRQYXJhbWV0ZXJbXTtcbn07XG5cbnR5cGUgVmFsdWVIZWxwUXVhbGlmaWVyTWFwID0gUmVjb3JkPHN0cmluZywgVmFsdWVIZWxwUGF5bG9hZEluZm8+O1xuXG5leHBvcnQgdHlwZSBWYWx1ZUhlbHBQYXlsb2FkID0ge1xuXHRwcm9wZXJ0eVBhdGg6IHN0cmluZztcblx0cXVhbGlmaWVyczogVmFsdWVIZWxwUXVhbGlmaWVyTWFwO1xuXHR2YWx1ZUhlbHBRdWFsaWZpZXI6IHN0cmluZztcblx0Y29uZGl0aW9uTW9kZWw/OiBhbnk7XG5cdGlzQWN0aW9uUGFyYW1ldGVyRGlhbG9nPzogYm9vbGVhbjtcblx0aXNVbml0VmFsdWVIZWxwPzogYm9vbGVhbjtcblx0cmVxdWVzdEdyb3VwSWQ/OiBzdHJpbmc7XG5cdHVzZU11bHRpVmFsdWVGaWVsZD86IGJvb2xlYW47XG5cdGlzVmFsdWVMaXN0V2l0aEZpeGVkVmFsdWVzPzogYm9vbGVhbjtcblx0dmFsdWVIZWxwRGVzY3JpcHRpb25QYXRoPzogc3RyaW5nO1xuXHRwcm9wZXJ0eURlc2NyaXB0aW9uUGF0aD86IHN0cmluZztcblx0bWF4TGVuZ3RoPzogbnVtYmVyO1xuXHR1cGRhdGVCaW5kaW5nRG9uZVByb21pc2U/OiBQcm9taXNlPGJvb2xlYW4+IHwgbnVsbDtcblx0dmFsdWVIZWxwS2V5UGF0aD86IHN0cmluZztcbn07XG5cbnR5cGUgQ29sdW1uRGVmID0ge1xuXHRwYXRoOiBzdHJpbmc7XG5cdGxhYmVsOiBzdHJpbmc7XG5cdHNvcnRhYmxlOiBib29sZWFuO1xuXHRmaWx0ZXJhYmxlOiBib29sZWFuIHwgQ29tcGlsZWRCaW5kaW5nVG9vbGtpdEV4cHJlc3Npb247XG5cdCRUeXBlOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBWYWx1ZUxpc3RJbmZvID0ge1xuXHRrZXlQYXRoOiBzdHJpbmc7XG5cdGRlc2NyaXB0aW9uUGF0aDogc3RyaW5nO1xuXHRmaWVsZFByb3BlcnR5UGF0aDogc3RyaW5nO1xuXHR2aEtleXM6IHN0cmluZ1tdO1xuXHR2aFBhcmFtZXRlcnM6IEluT3V0UGFyYW1ldGVyW107XG5cdHZhbHVlTGlzdEluZm86IEFubm90YXRpb25WYWx1ZUxpc3RUeXBlO1xuXHRjb2x1bW5EZWZzOiBDb2x1bW5EZWZbXTtcblx0dmFsdWVIZWxwUXVhbGlmaWVyOiBzdHJpbmc7XG59O1xuXG50eXBlIERpc3BsYXlGb3JtYXQgPSBcIkRlc2NyaXB0aW9uXCIgfCBcIlZhbHVlRGVzY3JpcHRpb25cIiB8IFwiVmFsdWVcIiB8IFwiRGVzY3JpcHRpb25WYWx1ZVwiO1xuXG50eXBlIFBhdGggPSB7XG5cdGZpZWxkUHJvcGVydHlQYXRoOiBzdHJpbmc7XG5cdGRlc2NyaXB0aW9uUGF0aDogc3RyaW5nO1xuXHRrZXk6IHN0cmluZztcbn07XG5cbnR5cGUgU29ydGVyVHlwZSA9IHtcblx0YXNjZW5kaW5nPzogYm9vbGVhbjtcblx0ZGVzY2VuZGluZz86IGJvb2xlYW47XG5cdHBhdGg/OiBzdHJpbmc7XG5cdG5hbWU/OiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiBfZ2V0RGVmYXVsdFNvcnRQcm9wZXJ0eU5hbWUodmFsdWVMaXN0SW5mbzogQW5ub3RhdGlvblZhbHVlTGlzdFR5cGUpIHtcblx0bGV0IHNvcnRGaWVsZE5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblx0Y29uc3QgbWV0YU1vZGVsID0gdmFsdWVMaXN0SW5mby4kbW9kZWwuZ2V0TWV0YU1vZGVsKCk7XG5cdGNvbnN0IGVudGl0eVNldEFubm90YXRpb25zID0gbWV0YU1vZGVsLmdldE9iamVjdChgLyR7dmFsdWVMaXN0SW5mby5Db2xsZWN0aW9uUGF0aH1AYCkgfHwge307XG5cdGNvbnN0IHNvcnRSZXN0cmljdGlvbnNJbmZvID0gZ2V0U29ydFJlc3RyaWN0aW9uc0luZm8oZW50aXR5U2V0QW5ub3RhdGlvbnMpO1xuXHRjb25zdCBmb3VuZEVsZW1lbnQgPSB2YWx1ZUxpc3RJbmZvLlBhcmFtZXRlcnMuZmluZChmdW5jdGlvbiAoZWxlbWVudCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQoZWxlbWVudC4kVHlwZSA9PT0gQ29tbW9uQW5ub3RhdGlvblR5cGVzLlZhbHVlTGlzdFBhcmFtZXRlckluT3V0IHx8XG5cdFx0XHRcdGVsZW1lbnQuJFR5cGUgPT09IENvbW1vbkFubm90YXRpb25UeXBlcy5WYWx1ZUxpc3RQYXJhbWV0ZXJPdXQgfHxcblx0XHRcdFx0ZWxlbWVudC4kVHlwZSA9PT0gQ29tbW9uQW5ub3RhdGlvblR5cGVzLlZhbHVlTGlzdFBhcmFtZXRlckRpc3BsYXlPbmx5KSAmJlxuXHRcdFx0IShcblx0XHRcdFx0bWV0YU1vZGVsLmdldE9iamVjdChgLyR7dmFsdWVMaXN0SW5mby5Db2xsZWN0aW9uUGF0aH0vJHtlbGVtZW50LlZhbHVlTGlzdFByb3BlcnR5fUBjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5IaWRkZW5gKSA9PT1cblx0XHRcdFx0dHJ1ZVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0pO1xuXHRpZiAoZm91bmRFbGVtZW50KSB7XG5cdFx0aWYgKFxuXHRcdFx0bWV0YU1vZGVsLmdldE9iamVjdChcblx0XHRcdFx0YC8ke3ZhbHVlTGlzdEluZm8uQ29sbGVjdGlvblBhdGh9LyR7Zm91bmRFbGVtZW50LlZhbHVlTGlzdFByb3BlcnR5fUBjb20uc2FwLnZvY2FidWxhcmllcy5Db21tb24udjEuVGV4dEBjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5UZXh0QXJyYW5nZW1lbnQvJEVudW1NZW1iZXJgXG5cdFx0XHQpID09PSBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLlRleHRBcnJhbmdlbWVudFR5cGUvVGV4dE9ubHlcIlxuXHRcdCkge1xuXHRcdFx0c29ydEZpZWxkTmFtZSA9IG1ldGFNb2RlbC5nZXRPYmplY3QoXG5cdFx0XHRcdGAvJHt2YWx1ZUxpc3RJbmZvLkNvbGxlY3Rpb25QYXRofS8ke2ZvdW5kRWxlbWVudC5WYWx1ZUxpc3RQcm9wZXJ0eX1AY29tLnNhcC52b2NhYnVsYXJpZXMuQ29tbW9uLnYxLlRleHQvJFBhdGhgXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzb3J0RmllbGROYW1lID0gZm91bmRFbGVtZW50LlZhbHVlTGlzdFByb3BlcnR5O1xuXHRcdH1cblx0fVxuXHRpZiAoc29ydEZpZWxkTmFtZSAmJiAoIXNvcnRSZXN0cmljdGlvbnNJbmZvLnByb3BlcnR5SW5mb1tzb3J0RmllbGROYW1lXSB8fCBzb3J0UmVzdHJpY3Rpb25zSW5mby5wcm9wZXJ0eUluZm9bc29ydEZpZWxkTmFtZV0uc29ydGFibGUpKSB7XG5cdFx0cmV0dXJuIHNvcnRGaWVsZE5hbWU7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxufVxuXG5mdW5jdGlvbiBfcmVkdW5kYW50RGVzY3JpcHRpb24ob1ZMUGFyYW1ldGVyOiBhbnksIGFDb2x1bW5JbmZvOiBhbnlbXSkge1xuXHRjb25zdCBvQ29sdW1uSW5mbyA9IGFDb2x1bW5JbmZvLmZpbmQoZnVuY3Rpb24gKGNvbHVtbkluZm86IGFueSkge1xuXHRcdHJldHVybiBvVkxQYXJhbWV0ZXIuVmFsdWVMaXN0UHJvcGVydHkgPT09IGNvbHVtbkluZm8udGV4dENvbHVtbk5hbWU7XG5cdH0pO1xuXHRpZiAoXG5cdFx0b1ZMUGFyYW1ldGVyLlZhbHVlTGlzdFByb3BlcnR5ID09PSBvQ29sdW1uSW5mbz8udGV4dENvbHVtbk5hbWUgJiZcblx0XHQhb0NvbHVtbkluZm8ua2V5Q29sdW1uSGlkZGVuICYmXG5cdFx0b0NvbHVtbkluZm8ua2V5Q29sdW1uRGlzcGxheUZvcm1hdCAhPT0gXCJWYWx1ZVwiXG5cdCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIF9oYXNJbXBvcnRhbmNlSGlnaChvVmFsdWVMaXN0Q29udGV4dDogYW55KSB7XG5cdHJldHVybiBvVmFsdWVMaXN0Q29udGV4dC5QYXJhbWV0ZXJzLnNvbWUoZnVuY3Rpb24gKG9QYXJhbWV0ZXI6IGFueSkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRvUGFyYW1ldGVyW1wiQGNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLkltcG9ydGFuY2VcIl0gJiZcblx0XHRcdG9QYXJhbWV0ZXJbXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuSW1wb3J0YW5jZVwiXS4kRW51bU1lbWJlciA9PT0gXCJjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5JbXBvcnRhbmNlVHlwZS9IaWdoXCJcblx0XHQpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gX2J1aWxkJFNlbGVjdFN0cmluZyhjb250cm9sOiBhbnkpIHtcblx0Y29uc3Qgb1ZpZXdEYXRhID0gY29udHJvbC5nZXRNb2RlbChcInZpZXdEYXRhXCIpO1xuXHRpZiAob1ZpZXdEYXRhKSB7XG5cdFx0Y29uc3Qgb0RhdGEgPSBvVmlld0RhdGEuZ2V0RGF0YSgpO1xuXHRcdGlmIChvRGF0YSkge1xuXHRcdFx0Y29uc3QgYUNvbHVtbnMgPSBvRGF0YS5jb2x1bW5zO1xuXHRcdFx0aWYgKGFDb2x1bW5zKSB7XG5cdFx0XHRcdHJldHVybiBhQ29sdW1ucy5yZWR1Y2UoZnVuY3Rpb24gKHNRdWVyeTogYW55LCBvUHJvcGVydHk6IGFueSkge1xuXHRcdFx0XHRcdC8vIE5hdmlnYXRpb24gcHJvcGVydGllcyAocmVwcmVzZW50ZWQgYnkgWC9ZKSBzaG91bGQgbm90IGJlIGFkZGVkIHRvICRzZWxlY3QuXG5cdFx0XHRcdFx0Ly8gVE9ETyA6IFRoZXkgc2hvdWxkIGJlIGFkZGVkIGFzICRleHBhbmQ9WCgkc2VsZWN0PVkpIGluc3RlYWRcblx0XHRcdFx0XHRpZiAob1Byb3BlcnR5LnBhdGggJiYgb1Byb3BlcnR5LnBhdGguaW5kZXhPZihcIi9cIikgPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRzUXVlcnkgPSBzUXVlcnkgPyBgJHtzUXVlcnl9LCR7b1Byb3BlcnR5LnBhdGh9YCA6IG9Qcm9wZXJ0eS5wYXRoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gc1F1ZXJ5O1xuXHRcdFx0XHR9LCB1bmRlZmluZWQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBfZ2V0VmFsdWVIZWxwQ29sdW1uRGlzcGxheUZvcm1hdChvUHJvcGVydHlBbm5vdGF0aW9uczogYW55LCBpc1ZhbHVlSGVscFdpdGhGaXhlZFZhbHVlczogYW55KSB7XG5cdGNvbnN0IHNEaXNwbGF5TW9kZSA9IENvbW1vblV0aWxzLmNvbXB1dGVEaXNwbGF5TW9kZShvUHJvcGVydHlBbm5vdGF0aW9ucywgdW5kZWZpbmVkKTtcblx0Y29uc3Qgb1RleHRBbm5vdGF0aW9uID0gb1Byb3BlcnR5QW5ub3RhdGlvbnMgJiYgb1Byb3BlcnR5QW5ub3RhdGlvbnNbXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuQ29tbW9uLnYxLlRleHRcIl07XG5cdGNvbnN0IG9UZXh0QXJyYW5nZW1lbnRBbm5vdGF0aW9uID1cblx0XHRvVGV4dEFubm90YXRpb24gJiYgb1Byb3BlcnR5QW5ub3RhdGlvbnNbXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuQ29tbW9uLnYxLlRleHRAY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuVGV4dEFycmFuZ2VtZW50XCJdO1xuXHRpZiAoaXNWYWx1ZUhlbHBXaXRoRml4ZWRWYWx1ZXMpIHtcblx0XHRyZXR1cm4gb1RleHRBbm5vdGF0aW9uICYmIHR5cGVvZiBvVGV4dEFubm90YXRpb24gIT09IFwic3RyaW5nXCIgJiYgb1RleHRBbm5vdGF0aW9uLiRQYXRoID8gc0Rpc3BsYXlNb2RlIDogXCJWYWx1ZVwiO1xuXHR9IGVsc2Uge1xuXHRcdC8vIE9ubHkgZXhwbGljaXQgZGVmaW5lZCBUZXh0QXJyYW5nZW1lbnRzIGluIGEgVmFsdWUgSGVscCB3aXRoIERpYWxvZyBhcmUgY29uc2lkZXJlZFxuXHRcdHJldHVybiBvVGV4dEFycmFuZ2VtZW50QW5ub3RhdGlvbiA/IHNEaXNwbGF5TW9kZSA6IFwiVmFsdWVcIjtcblx0fVxufVxuXG5jb25zdCBWYWx1ZUxpc3RIZWxwZXIgPSB7XG5cdGdldFZhbHVlTGlzdENvbGxlY3Rpb25FbnRpdHlTZXQ6IGZ1bmN0aW9uIChvVmFsdWVMaXN0Q29udGV4dDogYW55KSB7XG5cdFx0Y29uc3QgbVZhbHVlTGlzdCA9IG9WYWx1ZUxpc3RDb250ZXh0LmdldE9iamVjdCgpO1xuXHRcdHJldHVybiBtVmFsdWVMaXN0LiRtb2RlbC5nZXRNZXRhTW9kZWwoKS5jcmVhdGVCaW5kaW5nQ29udGV4dChgLyR7bVZhbHVlTGlzdC5Db2xsZWN0aW9uUGF0aH1gKTtcblx0fSxcblxuXHRnZXRUYWJsZURlbGVnYXRlOiBmdW5jdGlvbiAob1ZhbHVlTGlzdDogYW55KSB7XG5cdFx0bGV0IHNEZWZhdWx0U29ydFByb3BlcnR5TmFtZSA9IF9nZXREZWZhdWx0U29ydFByb3BlcnR5TmFtZShvVmFsdWVMaXN0KTtcblx0XHRpZiAoc0RlZmF1bHRTb3J0UHJvcGVydHlOYW1lKSB7XG5cdFx0XHRzRGVmYXVsdFNvcnRQcm9wZXJ0eU5hbWUgPSBgJyR7c0RlZmF1bHRTb3J0UHJvcGVydHlOYW1lfSdgO1xuXHRcdH1cblx0XHRyZXR1cm4gKFxuXHRcdFx0XCJ7bmFtZTogJ3NhcC9mZS9tYWNyb3MvaW50ZXJuYWwvdmFsdWVoZWxwL1RhYmxlRGVsZWdhdGUnLCBwYXlsb2FkOiB7Y29sbGVjdGlvbk5hbWU6ICdcIiArXG5cdFx0XHRvVmFsdWVMaXN0LkNvbGxlY3Rpb25QYXRoICtcblx0XHRcdFwiJ1wiICtcblx0XHRcdChzRGVmYXVsdFNvcnRQcm9wZXJ0eU5hbWUgPyBcIiwgZGVmYXVsdFNvcnRQcm9wZXJ0eU5hbWU6IFwiICsgc0RlZmF1bHRTb3J0UHJvcGVydHlOYW1lIDogXCJcIikgK1xuXHRcdFx0XCJ9fVwiXG5cdFx0KTtcblx0fSxcblxuXHRnZXRTb3J0Q29uZGl0aW9uc0Zyb21QcmVzZW50YXRpb25WYXJpYW50OiBmdW5jdGlvbiAodmFsdWVMaXN0SW5mbzogQW5ub3RhdGlvblZhbHVlTGlzdFR5cGUsIGlzU3VnZ2VzdGlvbjogYm9vbGVhbikge1xuXHRcdGlmICh2YWx1ZUxpc3RJbmZvLlByZXNlbnRhdGlvblZhcmlhbnRRdWFsaWZpZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgcHJlc2VudGF0aW9uVmFyaWFudFF1YWxpZmllciA9IHZhbHVlTGlzdEluZm8uUHJlc2VudGF0aW9uVmFyaWFudFF1YWxpZmllclxuXHRcdFx0XHRcdD8gYCMke3ZhbHVlTGlzdEluZm8uUHJlc2VudGF0aW9uVmFyaWFudFF1YWxpZmllcn1gXG5cdFx0XHRcdFx0OiBcIlwiLFxuXHRcdFx0XHRwcmVzZW50YXRpb25WYXJpYW50UGF0aCA9IGAvJHt2YWx1ZUxpc3RJbmZvLkNvbGxlY3Rpb25QYXRofS9AY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuUHJlc2VudGF0aW9uVmFyaWFudCR7cHJlc2VudGF0aW9uVmFyaWFudFF1YWxpZmllcn1gO1xuXHRcdFx0Y29uc3QgcHJlc2VudGF0aW9uVmFyaWFudCA9IHZhbHVlTGlzdEluZm8uJG1vZGVsLmdldE1ldGFNb2RlbCgpLmdldE9iamVjdChwcmVzZW50YXRpb25WYXJpYW50UGF0aCkgYXNcblx0XHRcdFx0fCBNZXRhTW9kZWxUeXBlPFByZXNlbnRhdGlvblZhcmlhbnQ+XG5cdFx0XHRcdHwgdW5kZWZpbmVkO1xuXHRcdFx0aWYgKHByZXNlbnRhdGlvblZhcmlhbnQ/LlNvcnRPcmRlcikge1xuXHRcdFx0XHRjb25zdCBzb3J0Q29uZGl0aW9ucyA9IHtcblx0XHRcdFx0XHRzb3J0ZXJzOiBbXSBhcyBTb3J0ZXJUeXBlW11cblx0XHRcdFx0fTtcblxuXHRcdFx0XHRwcmVzZW50YXRpb25WYXJpYW50LlNvcnRPcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChjb25kaXRpb24pIHtcblx0XHRcdFx0XHRjb25zdCBzb3J0ZXI6IFNvcnRlclR5cGUgPSB7fSxcblx0XHRcdFx0XHRcdHByb3BlcnR5UGF0aCA9IGNvbmRpdGlvbj8uUHJvcGVydHk/LiRQcm9wZXJ0eVBhdGg7XG5cdFx0XHRcdFx0aWYgKGlzU3VnZ2VzdGlvbikge1xuXHRcdFx0XHRcdFx0c29ydGVyLnBhdGggPSBwcm9wZXJ0eVBhdGg7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNvcnRlci5uYW1lID0gcHJvcGVydHlQYXRoO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChjb25kaXRpb24uRGVzY2VuZGluZykge1xuXHRcdFx0XHRcdFx0c29ydGVyLmRlc2NlbmRpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzb3J0ZXIuYXNjZW5kaW5nID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c29ydENvbmRpdGlvbnMuc29ydGVycy5wdXNoKHNvcnRlcik7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiBpc1N1Z2dlc3Rpb24gPyBgc29ydGVyOiAke0pTT04uc3RyaW5naWZ5KHNvcnRDb25kaXRpb25zLnNvcnRlcnMpfWAgOiBKU09OLnN0cmluZ2lmeShzb3J0Q29uZGl0aW9ucyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybjtcblx0fSxcblxuXHRnZXRQcm9wZXJ0eVBhdGg6IGZ1bmN0aW9uIChvUGFyYW1ldGVyczogYW55KSB7XG5cdFx0cmV0dXJuICFvUGFyYW1ldGVycy5VbmJvdW5kQWN0aW9uXG5cdFx0XHQ/IGAke29QYXJhbWV0ZXJzLkVudGl0eVR5cGVQYXRofS8ke29QYXJhbWV0ZXJzLkFjdGlvbn0vJHtvUGFyYW1ldGVycy5Qcm9wZXJ0eX1gXG5cdFx0XHQ6IGAvJHtvUGFyYW1ldGVycy5BY3Rpb24uc3Vic3RyaW5nKG9QYXJhbWV0ZXJzLkFjdGlvbi5sYXN0SW5kZXhPZihcIi5cIikgKyAxKX0vJHtvUGFyYW1ldGVycy5Qcm9wZXJ0eX1gO1xuXHR9LFxuXG5cdGdldFZhbHVlTGlzdFByb3BlcnR5OiBmdW5jdGlvbiAob1Byb3BlcnR5Q29udGV4dDogYW55KSB7XG5cdFx0Y29uc3Qgb1ZhbHVlTGlzdE1vZGVsID0gb1Byb3BlcnR5Q29udGV4dC5nZXRNb2RlbCgpO1xuXHRcdGNvbnN0IG1WYWx1ZUxpc3QgPSBvVmFsdWVMaXN0TW9kZWwuZ2V0T2JqZWN0KFwiL1wiKTtcblx0XHRyZXR1cm4gbVZhbHVlTGlzdC4kbW9kZWwuZ2V0TWV0YU1vZGVsKCkuY3JlYXRlQmluZGluZ0NvbnRleHQoYC8ke21WYWx1ZUxpc3QuQ29sbGVjdGlvblBhdGh9LyR7b1Byb3BlcnR5Q29udGV4dC5nZXRPYmplY3QoKX1gKTtcblx0fSxcblxuXHQvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgZm9yIHZhbHVlIGhlbHAgbS10YWJsZSBhbmQgbWRjLXRhYmxlXG5cdGdldENvbHVtblZpc2liaWxpdHk6IGZ1bmN0aW9uIChvVmFsdWVMaXN0OiBhbnksIG9WTFBhcmFtZXRlcjogYW55LCBvU291cmNlOiBhbnkpIHtcblx0XHRjb25zdCBpc0Ryb3BEb3duTGlzdCA9IG9Tb3VyY2UgJiYgISFvU291cmNlLnZhbHVlSGVscFdpdGhGaXhlZFZhbHVlcyxcblx0XHRcdG9Db2x1bW5JbmZvID0gb1NvdXJjZS5jb2x1bW5JbmZvLFxuXHRcdFx0aXNWaXNpYmxlID0gIV9yZWR1bmRhbnREZXNjcmlwdGlvbihvVkxQYXJhbWV0ZXIsIG9Db2x1bW5JbmZvLmNvbHVtbkluZm9zKSxcblx0XHRcdGlzRGlhbG9nVGFibGUgPSBvQ29sdW1uSW5mby5pc0RpYWxvZ1RhYmxlO1xuXG5cdFx0aWYgKGlzRHJvcERvd25MaXN0IHx8ICghaXNEcm9wRG93bkxpc3QgJiYgaXNEaWFsb2dUYWJsZSkgfHwgKCFpc0Ryb3BEb3duTGlzdCAmJiAhX2hhc0ltcG9ydGFuY2VIaWdoKG9WYWx1ZUxpc3QpKSkge1xuXHRcdFx0Y29uc3QgY29sdW1uV2l0aEhpZGRlbkFubm90YXRpb24gPSBvQ29sdW1uSW5mby5jb2x1bW5JbmZvcy5maW5kKGZ1bmN0aW9uIChjb2x1bW5JbmZvOiBhbnkpIHtcblx0XHRcdFx0cmV0dXJuIG9WTFBhcmFtZXRlci5WYWx1ZUxpc3RQcm9wZXJ0eSA9PT0gY29sdW1uSW5mby5jb2x1bW5OYW1lICYmIGNvbHVtbkluZm8uaGFzSGlkZGVuQW5ub3RhdGlvbiA9PT0gdHJ1ZTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuICFjb2x1bW5XaXRoSGlkZGVuQW5ub3RhdGlvbiA/IGlzVmlzaWJsZSA6IGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoIWlzRHJvcERvd25MaXN0ICYmIF9oYXNJbXBvcnRhbmNlSGlnaChvVmFsdWVMaXN0KSkge1xuXHRcdFx0cmV0dXJuIG9WTFBhcmFtZXRlciAmJlxuXHRcdFx0XHRvVkxQYXJhbWV0ZXJbXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuSW1wb3J0YW5jZVwiXSAmJlxuXHRcdFx0XHRvVkxQYXJhbWV0ZXJbXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuSW1wb3J0YW5jZVwiXS4kRW51bU1lbWJlciA9PT0gXCJjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5JbXBvcnRhbmNlVHlwZS9IaWdoXCJcblx0XHRcdFx0PyB0cnVlXG5cdFx0XHRcdDogZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGdldENvbHVtblZpc2liaWxpdHlJbmZvOiBmdW5jdGlvbiAob1ZhbHVlTGlzdDogYW55LCBzUHJvcGVydHlGdWxsUGF0aDogYW55LCBiSXNEcm9wRG93bkxpc3RlOiBhbnksIGlzRGlhbG9nVGFibGU6IGFueSkge1xuXHRcdGNvbnN0IG9NZXRhTW9kZWwgPSBvVmFsdWVMaXN0LiRtb2RlbC5nZXRNZXRhTW9kZWwoKTtcblx0XHRjb25zdCBhQ29sdW1uSW5mb3M6IGFueVtdID0gW107XG5cdFx0Y29uc3Qgb0NvbHVtbkluZm9zID0ge1xuXHRcdFx0aXNEaWFsb2dUYWJsZTogaXNEaWFsb2dUYWJsZSxcblx0XHRcdGNvbHVtbkluZm9zOiBhQ29sdW1uSW5mb3Ncblx0XHR9O1xuXG5cdFx0b1ZhbHVlTGlzdC5QYXJhbWV0ZXJzLmZvckVhY2goZnVuY3Rpb24gKG9QYXJhbWV0ZXI6IGFueSkge1xuXHRcdFx0Y29uc3Qgb1Byb3BlcnR5QW5ub3RhdGlvbnMgPSBvTWV0YU1vZGVsLmdldE9iamVjdChgLyR7b1ZhbHVlTGlzdC5Db2xsZWN0aW9uUGF0aH0vJHtvUGFyYW1ldGVyLlZhbHVlTGlzdFByb3BlcnR5fUBgKTtcblx0XHRcdGNvbnN0IG9UZXh0QW5ub3RhdGlvbiA9IG9Qcm9wZXJ0eUFubm90YXRpb25zICYmIG9Qcm9wZXJ0eUFubm90YXRpb25zW1wiQGNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5UZXh0XCJdO1xuXHRcdFx0bGV0IGNvbHVtbkluZm86IGFueSA9IHt9O1xuXHRcdFx0aWYgKG9UZXh0QW5ub3RhdGlvbikge1xuXHRcdFx0XHRjb2x1bW5JbmZvID0ge1xuXHRcdFx0XHRcdGtleUNvbHVtbkhpZGRlbjogb1Byb3BlcnR5QW5ub3RhdGlvbnNbXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuSGlkZGVuXCJdID8gdHJ1ZSA6IGZhbHNlLFxuXHRcdFx0XHRcdGtleUNvbHVtbkRpc3BsYXlGb3JtYXQ6IG9UZXh0QW5ub3RhdGlvbiAmJiBfZ2V0VmFsdWVIZWxwQ29sdW1uRGlzcGxheUZvcm1hdChvUHJvcGVydHlBbm5vdGF0aW9ucywgYklzRHJvcERvd25MaXN0ZSksXG5cdFx0XHRcdFx0dGV4dENvbHVtbk5hbWU6IG9UZXh0QW5ub3RhdGlvbiAmJiBvVGV4dEFubm90YXRpb24uJFBhdGgsXG5cdFx0XHRcdFx0Y29sdW1uTmFtZTogb1BhcmFtZXRlci5WYWx1ZUxpc3RQcm9wZXJ0eSxcblx0XHRcdFx0XHRoYXNIaWRkZW5Bbm5vdGF0aW9uOiBvUHJvcGVydHlBbm5vdGF0aW9ucyAmJiBvUHJvcGVydHlBbm5vdGF0aW9uc1tcIkBjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5IaWRkZW5cIl0gPyB0cnVlIDogZmFsc2Vcblx0XHRcdFx0fTtcblx0XHRcdH0gZWxzZSBpZiAob1Byb3BlcnR5QW5ub3RhdGlvbnMgJiYgb1Byb3BlcnR5QW5ub3RhdGlvbnNbXCJAY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuSGlkZGVuXCJdKSB7XG5cdFx0XHRcdGNvbHVtbkluZm8gPSB7XG5cdFx0XHRcdFx0Y29sdW1uTmFtZTogb1BhcmFtZXRlci5WYWx1ZUxpc3RQcm9wZXJ0eSxcblx0XHRcdFx0XHRoYXNIaWRkZW5Bbm5vdGF0aW9uOiBvUHJvcGVydHlBbm5vdGF0aW9ucyAmJiBvUHJvcGVydHlBbm5vdGF0aW9uc1tcIkBjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5IaWRkZW5cIl0gPyB0cnVlIDogZmFsc2Vcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdG9Db2x1bW5JbmZvcy5jb2x1bW5JbmZvcy5wdXNoKGNvbHVtbkluZm8pO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIG9Db2x1bW5JbmZvcztcblx0fSxcblxuXHRnZXRUYWJsZUl0ZW1zUGFyYW1ldGVyczogZnVuY3Rpb24gKFxuXHRcdHZhbHVlTGlzdEluZm86IEFubm90YXRpb25WYWx1ZUxpc3RUeXBlLFxuXHRcdHJlcXVlc3RHcm91cElkOiBzdHJpbmcsXG5cdFx0aXNTdWdnZXN0aW9uOiBib29sZWFuLFxuXHRcdGlzVmFsdWVIZWxwV2l0aEZpeGVkVmFsdWVzOiBib29sZWFuXG5cdCkge1xuXHRcdGNvbnN0IGl0ZW1QYXJhbWV0ZXJzID0gW2BwYXRoOiAnLyR7dmFsdWVMaXN0SW5mby5Db2xsZWN0aW9uUGF0aH0nYF07XG5cblx0XHQvLyBhZGQgc2VsZWN0IHRvIG9CaW5kaW5nSW5mbyAoQkNQIDIxODAyNTU5NTYgLyAyMTcwMTYzMDEyKVxuXHRcdGNvbnN0IHNlbGVjdFN0cmluZyA9IF9idWlsZCRTZWxlY3RTdHJpbmcodGhpcyk7XG5cblx0XHQvLyBzaW5jZSB0aGVyZSBjb3VsZCBiZSByZWNvbW1lbmRhdGlvbnMvcmVjZW50IHZhbHVlcyB0byBzaG93IGluIHRoZSBzdWdnZXN0aW9uIHBvcG92ZXJcblx0XHQvLyBoZW5jZSB3ZSBuZWVkIHRvIGNyZWF0ZSBzb21lIHRyYW5zaWVudCBjb250ZXh0cyBvbiB0aGUgdmFsdWVIZWxwIGxpc3QgYmluZGluZ1xuXHRcdC8vIHNvIHdlIHdpbGwgc2V0IHRoZSB1cGRhdGVHcm91cElkIG9mIHRoZSBsaXN0IGJpbmRpbmcgdG8gYXZvaWQgc2VuZGluZyBjYWxscyB0byB0aGUgYmFja2VuZFxuXHRcdC8vIHdlIG5lZWQgdG8gZXhwbGljaXRseSBzZXQgJCRzaGFyZWRSZXF1ZXN0IHRvIGZhbHNlIHRvIG1ha2Ugc3VyZSB3ZSBjYW4gY3JlYXRlIHRyYW5zaWVudCBjb250ZXh0cyBpbiBSQVBcblx0XHRpZiAocmVxdWVzdEdyb3VwSWQpIHtcblx0XHRcdGNvbnN0IHNlbGVjdFN0cmluZ1BhcnQgPSBzZWxlY3RTdHJpbmcgPyBgLCAnJHtzZWxlY3RTdHJpbmd9J2AgOiBcIlwiO1xuXG5cdFx0XHRpdGVtUGFyYW1ldGVycy5wdXNoKFxuXHRcdFx0XHRgcGFyYW1ldGVyczogeyQkc2hhcmVkUmVxdWVzdDogZmFsc2UsICQkdXBkYXRlR3JvdXBJZDogXCJkb25vdHN1Ym1pdFwiLCAkJGdyb3VwSWQ6ICcke3JlcXVlc3RHcm91cElkfScke3NlbGVjdFN0cmluZ1BhcnR9fWBcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChzZWxlY3RTdHJpbmcpIHtcblx0XHRcdGl0ZW1QYXJhbWV0ZXJzLnB1c2goYHBhcmFtZXRlcnM6IHskJHNoYXJlZFJlcXVlc3Q6IGZhbHNlLCAkJHVwZGF0ZUdyb3VwSWQ6IFwiZG9ub3RzdWJtaXRcIiwgJHNlbGVjdDogJyR7c2VsZWN0U3RyaW5nfSd9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXNTdXNwZW5kZWQgPSB2YWx1ZUxpc3RJbmZvLlBhcmFtZXRlcnMuc29tZShmdW5jdGlvbiAob1BhcmFtZXRlcikge1xuXHRcdFx0cmV0dXJuIGlzU3VnZ2VzdGlvbiB8fCBvUGFyYW1ldGVyLiRUeXBlID09PSBDb21tb25Bbm5vdGF0aW9uVHlwZXMuVmFsdWVMaXN0UGFyYW1ldGVySW47XG5cdFx0fSk7XG5cdFx0aXRlbVBhcmFtZXRlcnMucHVzaChgc3VzcGVuZGVkOiAke2lzU3VzcGVuZGVkfWApO1xuXG5cdFx0aWYgKCFpc1ZhbHVlSGVscFdpdGhGaXhlZFZhbHVlcykge1xuXHRcdFx0aXRlbVBhcmFtZXRlcnMucHVzaChcImxlbmd0aDogMTBcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc29ydENvbmRpdGlvbnNGcm9tUHJlc2VudGF0aW9uVmFyaWFudCA9IFZhbHVlTGlzdEhlbHBlci5nZXRTb3J0Q29uZGl0aW9uc0Zyb21QcmVzZW50YXRpb25WYXJpYW50KHZhbHVlTGlzdEluZm8sIGlzU3VnZ2VzdGlvbik7XG5cblx0XHRpZiAoc29ydENvbmRpdGlvbnNGcm9tUHJlc2VudGF0aW9uVmFyaWFudCkge1xuXHRcdFx0aXRlbVBhcmFtZXRlcnMucHVzaChzb3J0Q29uZGl0aW9uc0Zyb21QcmVzZW50YXRpb25WYXJpYW50KTtcblx0XHR9IGVsc2UgaWYgKGlzVmFsdWVIZWxwV2l0aEZpeGVkVmFsdWVzKSB7XG5cdFx0XHRjb25zdCBkZWZhdWx0U29ydFByb3BlcnR5TmFtZSA9IF9nZXREZWZhdWx0U29ydFByb3BlcnR5TmFtZSh2YWx1ZUxpc3RJbmZvKTtcblxuXHRcdFx0aWYgKGRlZmF1bHRTb3J0UHJvcGVydHlOYW1lKSB7XG5cdFx0XHRcdGl0ZW1QYXJhbWV0ZXJzLnB1c2goYHNvcnRlcjogW3twYXRoOiAnJHtkZWZhdWx0U29ydFByb3BlcnR5TmFtZX0nLCBhc2NlbmRpbmc6IHRydWV9XWApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBcIntcIiArIGl0ZW1QYXJhbWV0ZXJzLmpvaW4oXCIsIFwiKSArIFwifVwiO1xuXHR9LFxuXG5cdC8vIElzIG5lZWRlZCBmb3IgXCJleHRlcm5hbFwiIHJlcHJlc2VudGF0aW9uIGluIHF1bml0XG5cdGhhc0ltcG9ydGFuY2U6IGZ1bmN0aW9uIChvVmFsdWVMaXN0Q29udGV4dDogYW55KSB7XG5cdFx0cmV0dXJuIF9oYXNJbXBvcnRhbmNlSGlnaChvVmFsdWVMaXN0Q29udGV4dC5nZXRPYmplY3QoKSkgPyBcIkltcG9ydGFuY2UvSGlnaFwiIDogXCJOb25lXCI7XG5cdH0sXG5cblx0Ly8gSXMgbmVlZGVkIGZvciBcImV4dGVybmFsXCIgcmVwcmVzZW50YXRpb24gaW4gcXVuaXRcblx0Z2V0TWluU2NyZWVuV2lkdGg6IGZ1bmN0aW9uIChvVmFsdWVMaXN0OiBhbnkpIHtcblx0XHRyZXR1cm4gX2hhc0ltcG9ydGFuY2VIaWdoKG9WYWx1ZUxpc3QpID8gXCJ7PSAke19WSFVJPi9taW5TY3JlZW5XaWR0aH19XCIgOiBcIjQxNnB4XCI7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHJpZXZlcyB0aGUgY29sdW1uIHdpZHRoIGZvciBhIGdpdmVuIHByb3BlcnR5LlxuXHQgKlxuXHQgKiBAcGFyYW0gcHJvcGVydHlQYXRoIFRoZSBwcm9wZXJ0eVBhdGhcblx0ICogQHJldHVybnMgVGhlIHdpZHRoIGFzIGEgc3RyaW5nLlxuXHQgKi9cblx0Z2V0Q29sdW1uV2lkdGg6IGZ1bmN0aW9uIChwcm9wZXJ0eVBhdGg6IERhdGFNb2RlbE9iamVjdFBhdGgpIHtcblx0XHRjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnR5UGF0aC50YXJnZXRPYmplY3Q7XG5cdFx0bGV0IHJlbGF0ZWRQcm9wZXJ0eTogUHJvcGVydHlbXSA9IFtwcm9wZXJ0eV07XG5cdFx0Ly8gVGhlIGFkZGl0aW9uYWwgcHJvcGVydHkgY291bGQgcmVmZXIgdG8gdGhlIHRleHQsIGN1cnJlbmN5LCB1bml0IG9yIHRpbWV6b25lXG5cdFx0Y29uc3QgYWRkaXRpb25hbFByb3BlcnR5ID1cblx0XHRcdFx0Z2V0QXNzb2NpYXRlZFRleHRQcm9wZXJ0eShwcm9wZXJ0eSkgfHxcblx0XHRcdFx0Z2V0QXNzb2NpYXRlZEN1cnJlbmN5UHJvcGVydHkocHJvcGVydHkpIHx8XG5cdFx0XHRcdGdldEFzc29jaWF0ZWRVbml0UHJvcGVydHkocHJvcGVydHkpIHx8XG5cdFx0XHRcdGdldEFzc29jaWF0ZWRUaW1lem9uZVByb3BlcnR5KHByb3BlcnR5KSxcblx0XHRcdHRleHRBbm5vdGF0aW9uID0gcHJvcGVydHkuYW5ub3RhdGlvbnM/LkNvbW1vbj8uVGV4dCxcblx0XHRcdHRleHRBcnJhbmdlbWVudCA9IHRleHRBbm5vdGF0aW9uPy5hbm5vdGF0aW9ucz8uVUk/LlRleHRBcnJhbmdlbWVudD8udG9TdHJpbmcoKSxcblx0XHRcdGxhYmVsID0gcHJvcGVydHkuYW5ub3RhdGlvbnM/LkNvbW1vbj8uTGFiZWw/LnRvU3RyaW5nKCksXG5cdFx0XHRkaXNwbGF5TW9kZSA9IHRleHRBcnJhbmdlbWVudCAmJiBnZXREaXNwbGF5TW9kZShwcm9wZXJ0eVBhdGgpO1xuXHRcdGlmIChhZGRpdGlvbmFsUHJvcGVydHkpIHtcblx0XHRcdGlmIChkaXNwbGF5TW9kZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG5cdFx0XHRcdHJlbGF0ZWRQcm9wZXJ0eSA9IFthZGRpdGlvbmFsUHJvcGVydHldO1xuXHRcdFx0fSBlbHNlIGlmICghdGV4dEFubm90YXRpb24gfHwgKGRpc3BsYXlNb2RlICYmIGRpc3BsYXlNb2RlICE9PSBcIlZhbHVlXCIpKSB7XG5cdFx0XHRcdHJlbGF0ZWRQcm9wZXJ0eS5wdXNoKGFkZGl0aW9uYWxQcm9wZXJ0eSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IHNpemUgPSAwO1xuXHRcdGNvbnN0IGluc3RhbmNlczogT0RhdGFUeXBlW10gPSBbXTtcblxuXHRcdHJlbGF0ZWRQcm9wZXJ0eS5mb3JFYWNoKChwcm9wOiBQcm9wZXJ0eSkgPT4ge1xuXHRcdFx0Y29uc3QgcHJvcGVydHlUeXBlQ29uZmlnID0gZ2V0VHlwZUNvbmZpZyhwcm9wLCB1bmRlZmluZWQpO1xuXHRcdFx0Y29uc3QgUHJvcGVydHlPRGF0YUNvbnN0cnVjdG9yID0gT2JqZWN0UGF0aC5nZXQocHJvcGVydHlUeXBlQ29uZmlnLnR5cGUpO1xuXHRcdFx0aWYgKFByb3BlcnR5T0RhdGFDb25zdHJ1Y3Rvcikge1xuXHRcdFx0XHRpbnN0YW5jZXMucHVzaChuZXcgUHJvcGVydHlPRGF0YUNvbnN0cnVjdG9yKHByb3BlcnR5VHlwZUNvbmZpZy5mb3JtYXRPcHRpb25zLCBwcm9wZXJ0eVR5cGVDb25maWcuY29uc3RyYWludHMpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRjb25zdCBzV2lkdGggPSBVdGlsLmNhbGNDb2x1bW5XaWR0aChpbnN0YW5jZXMsIGxhYmVsKTtcblx0XHRzaXplID0gc1dpZHRoID8gcGFyc2VGbG9hdChzV2lkdGgucmVwbGFjZShcInJlbVwiLCBcIlwiKSkgOiAwO1xuXG5cdFx0aWYgKHNpemUgPT09IDApIHtcblx0XHRcdExvZy5lcnJvcihgQ2Fubm90IGNvbXB1dGUgdGhlIGNvbHVtbiB3aWR0aCBmb3IgcHJvcGVydHk6ICR7cHJvcGVydHkubmFtZX1gKTtcblx0XHR9XG5cdFx0cmV0dXJuIHNpemUgPD0gMjAgPyBzaXplLnRvU3RyaW5nKCkgKyBcInJlbVwiIDogXCIyMHJlbVwiO1xuXHR9LFxuXG5cdGdldE91dFBhcmFtZXRlclBhdGhzOiBmdW5jdGlvbiAoYVBhcmFtZXRlcnM6IGFueSkge1xuXHRcdGxldCBzUGF0aCA9IFwiXCI7XG5cdFx0YVBhcmFtZXRlcnMuZm9yRWFjaChmdW5jdGlvbiAob1BhcmFtZXRlcjogYW55KSB7XG5cdFx0XHRpZiAob1BhcmFtZXRlci4kVHlwZS5lbmRzV2l0aChcIk91dFwiKSkge1xuXHRcdFx0XHRzUGF0aCArPSBgeyR7b1BhcmFtZXRlci5WYWx1ZUxpc3RQcm9wZXJ0eX19YDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gc1BhdGg7XG5cdH0sXG5cblx0ZW50aXR5SXNTZWFyY2hhYmxlOiBmdW5jdGlvbiAoXG5cdFx0cHJvcGVydHlBbm5vdGF0aW9uczogQW5ub3RhdGlvbnNGb3JQcm9wZXJ0eSxcblx0XHRjb2xsZWN0aW9uQW5ub3RhdGlvbnM6IE1ldGFNb2RlbEVudGl0eVNldEFubm90YXRpb25cblx0KTogYm9vbGVhbiB7XG5cdFx0Y29uc3Qgc2VhcmNoU3VwcG9ydGVkID0gcHJvcGVydHlBbm5vdGF0aW9uc1tcIkBjb20uc2FwLnZvY2FidWxhcmllcy5Db21tb24udjEuVmFsdWVMaXN0XCJdPy5TZWFyY2hTdXBwb3J0ZWQsXG5cdFx0XHRzZWFyY2hhYmxlID0gY29sbGVjdGlvbkFubm90YXRpb25zW1wiQE9yZy5PRGF0YS5DYXBhYmlsaXRpZXMuVjEuU2VhcmNoUmVzdHJpY3Rpb25zXCJdPy5TZWFyY2hhYmxlO1xuXG5cdFx0aWYgKFxuXHRcdFx0KHNlYXJjaGFibGUgPT09IHVuZGVmaW5lZCAmJiBzZWFyY2hTdXBwb3J0ZWQgPT09IGZhbHNlKSB8fFxuXHRcdFx0KHNlYXJjaGFibGUgPT09IHRydWUgJiYgc2VhcmNoU3VwcG9ydGVkID09PSBmYWxzZSkgfHxcblx0XHRcdHNlYXJjaGFibGUgPT09IGZhbHNlXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBjb25kaXRpb24gcGF0aCByZXF1aXJlZCBmb3IgdGhlIGNvbmRpdGlvbiBtb2RlbC5cblx0ICogRm9yIGUuZy4gPDE6Ti1Qcm9wZXJ0eU5hbWU+KlxcLzwxOjEtUHJvcGVydHlOYW1lPi88UHJvcGVydHlOYW1lPi5cblx0ICpcblx0ICogQHBhcmFtIG1ldGFNb2RlbCBUaGUgbWV0YW1vZGVsIGluc3RhbmNlXG5cdCAqIEBwYXJhbSBlbnRpdHlTZXQgVGhlIGVudGl0eSBzZXQgcGF0aFxuXHQgKiBAcGFyYW0gcHJvcGVydHlQYXRoIFRoZSBwcm9wZXJ0eSBwYXRoXG5cdCAqIEByZXR1cm5zIFRoZSBmb3JtYXR0ZWQgY29uZGl0aW9uIHBhdGhcblx0ICogQHByaXZhdGVcblx0ICovXG5cdF9nZXRDb25kaXRpb25QYXRoOiBmdW5jdGlvbiAobWV0YU1vZGVsOiBPRGF0YU1ldGFNb2RlbCwgZW50aXR5U2V0OiBzdHJpbmcsIHByb3BlcnR5UGF0aDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyAoc2VlIGFsc286IHNhcC9mZS9jb3JlL2NvbnZlcnRlcnMvY29udHJvbHMvTGlzdFJlcG9ydC9GaWx0ZXJCYXIudHMpXG5cdFx0Y29uc3QgcGFydHMgPSBwcm9wZXJ0eVBhdGguc3BsaXQoXCIvXCIpO1xuXHRcdGxldCBjb25kaXRpb25QYXRoID0gXCJcIixcblx0XHRcdHBhcnRpYWxQYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cblx0XHR3aGlsZSAocGFydHMubGVuZ3RoKSB7XG5cdFx0XHRsZXQgcGFydCA9IHBhcnRzLnNoaWZ0KCkgYXMgc3RyaW5nO1xuXHRcdFx0cGFydGlhbFBhdGggPSBwYXJ0aWFsUGF0aCA/IGAke3BhcnRpYWxQYXRofS8ke3BhcnR9YCA6IHBhcnQ7XG5cdFx0XHRjb25zdCBwcm9wZXJ0eSA9IG1ldGFNb2RlbC5nZXRPYmplY3QoYCR7ZW50aXR5U2V0fS8ke3BhcnRpYWxQYXRofWApO1xuXHRcdFx0aWYgKHByb3BlcnR5ICYmIHByb3BlcnR5LiRraW5kID09PSBcIk5hdmlnYXRpb25Qcm9wZXJ0eVwiICYmIHByb3BlcnR5LiRpc0NvbGxlY3Rpb24pIHtcblx0XHRcdFx0cGFydCArPSBcIipcIjtcblx0XHRcdH1cblx0XHRcdGNvbmRpdGlvblBhdGggPSBjb25kaXRpb25QYXRoID8gYCR7Y29uZGl0aW9uUGF0aH0vJHtwYXJ0fWAgOiBwYXJ0O1xuXHRcdH1cblx0XHRyZXR1cm4gY29uZGl0aW9uUGF0aDtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyBhcnJheSBvZiBjb2x1bW4gZGVmaW5pdGlvbnMgY29ycmVzcG9uZGluZyB0byBwcm9wZXJ0aWVzIGRlZmluZWQgYXMgU2VsZWN0aW9uIEZpZWxkcyBvbiB0aGUgQ29sbGVjdGlvblBhdGggZW50aXR5IHNldCBpbiBhIFZhbHVlSGVscC5cblx0ICpcblx0ICogQHBhcmFtIG1ldGFNb2RlbCBUaGUgbWV0YW1vZGVsIGluc3RhbmNlXG5cdCAqIEBwYXJhbSBlbnRpdHlTZXQgVGhlIGVudGl0eSBzZXQgcGF0aFxuXHQgKiBAcmV0dXJucyBBcnJheSBvZiBjb2x1bW4gZGVmaW5pdGlvbnNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdF9nZXRDb2x1bW5EZWZpbml0aW9uRnJvbVNlbGVjdGlvbkZpZWxkczogZnVuY3Rpb24gKG1ldGFNb2RlbDogT0RhdGFNZXRhTW9kZWwsIGVudGl0eVNldDogc3RyaW5nKTogQ29sdW1uRGVmW10ge1xuXHRcdGNvbnN0IGNvbHVtbkRlZnM6IENvbHVtbkRlZltdID0gW10sXG5cdFx0XHRlbnRpdHlUeXBlQW5ub3RhdGlvbnMgPSBtZXRhTW9kZWwuZ2V0T2JqZWN0KGAke2VudGl0eVNldH0vQGApIGFzIEFubm90YXRpb25zRm9yRW50aXR5VHlwZSxcblx0XHRcdHNlbGVjdGlvbkZpZWxkcyA9IGVudGl0eVR5cGVBbm5vdGF0aW9uc1tcIkBjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5TZWxlY3Rpb25GaWVsZHNcIl07XG5cblx0XHRpZiAoc2VsZWN0aW9uRmllbGRzKSB7XG5cdFx0XHRzZWxlY3Rpb25GaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0aW9uRmllbGQ6IEFubm90YXRpb25TZWxlY3Rpb25GaWVsZCkge1xuXHRcdFx0XHRjb25zdCBzZWxlY3Rpb25GaWVsZFBhdGggPSBgJHtlbnRpdHlTZXR9LyR7c2VsZWN0aW9uRmllbGQuJFByb3BlcnR5UGF0aH1gLFxuXHRcdFx0XHRcdGNvbmRpdGlvblBhdGggPSBWYWx1ZUxpc3RIZWxwZXIuX2dldENvbmRpdGlvblBhdGgobWV0YU1vZGVsLCBlbnRpdHlTZXQsIHNlbGVjdGlvbkZpZWxkLiRQcm9wZXJ0eVBhdGgpLFxuXHRcdFx0XHRcdHByb3BlcnR5QW5ub3RhdGlvbnMgPSBtZXRhTW9kZWwuZ2V0T2JqZWN0KGAke3NlbGVjdGlvbkZpZWxkUGF0aH1AYCkgYXMgQW5ub3RhdGlvbnNGb3JQcm9wZXJ0eSxcblx0XHRcdFx0XHRjb2x1bW5EZWYgPSB7XG5cdFx0XHRcdFx0XHRwYXRoOiBjb25kaXRpb25QYXRoLFxuXHRcdFx0XHRcdFx0bGFiZWw6IHByb3BlcnR5QW5ub3RhdGlvbnNbQW5ub3RhdGlvbkxhYmVsXSB8fCBzZWxlY3Rpb25GaWVsZFBhdGgsXG5cdFx0XHRcdFx0XHRzb3J0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdGZpbHRlcmFibGU6IGlzUHJvcGVydHlGaWx0ZXJhYmxlKG1ldGFNb2RlbCwgZW50aXR5U2V0LCBzZWxlY3Rpb25GaWVsZC4kUHJvcGVydHlQYXRoLCBmYWxzZSksXG5cdFx0XHRcdFx0XHQkVHlwZTogbWV0YU1vZGVsLmdldE9iamVjdChzZWxlY3Rpb25GaWVsZFBhdGgpPy4kVHlwZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdGNvbHVtbkRlZnMucHVzaChjb2x1bW5EZWYpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbHVtbkRlZnM7XG5cdH0sXG5cblx0X21lcmdlQ29sdW1uRGVmaW5pdGlvbnNGcm9tUHJvcGVydGllczogZnVuY3Rpb24gKFxuXHRcdGNvbHVtbkRlZnM6IENvbHVtbkRlZltdLFxuXHRcdHZhbHVlTGlzdEluZm86IEFubm90YXRpb25WYWx1ZUxpc3RUeXBlLFxuXHRcdHZhbHVlTGlzdFByb3BlcnR5OiBzdHJpbmcsXG5cdFx0cHJvcGVydHk6IENvbHVtblByb3BlcnR5LFxuXHRcdHByb3BlcnR5QW5ub3RhdGlvbnM6IEFubm90YXRpb25zRm9yUHJvcGVydHlcblx0KTogdm9pZCB7XG5cdFx0bGV0IGNvbHVtblBhdGggPSB2YWx1ZUxpc3RQcm9wZXJ0eSxcblx0XHRcdGNvbHVtblByb3BlcnR5VHlwZSA9IHByb3BlcnR5LiRUeXBlO1xuXHRcdGNvbnN0IGxhYmVsID0gcHJvcGVydHlBbm5vdGF0aW9uc1tBbm5vdGF0aW9uTGFiZWxdIHx8IGNvbHVtblBhdGgsXG5cdFx0XHR0ZXh0QW5ub3RhdGlvbiA9IHByb3BlcnR5QW5ub3RhdGlvbnNbQW5ub3RhdGlvblRleHRdO1xuXG5cdFx0aWYgKFxuXHRcdFx0dGV4dEFubm90YXRpb24gJiZcblx0XHRcdHByb3BlcnR5QW5ub3RhdGlvbnNbQW5ub3RhdGlvblRleHRVSVRleHRBcnJhbmdlbWVudF0/LiRFbnVtTWVtYmVyID09PSBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLlRleHRBcnJhbmdlbWVudFR5cGUvVGV4dE9ubHlcIlxuXHRcdCkge1xuXHRcdFx0Ly8gdGhlIGNvbHVtbiBwcm9wZXJ0eSBpcyB0aGUgb25lIGNvbWluZyBmcm9tIHRoZSB0ZXh0IGFubm90YXRpb25cblx0XHRcdGNvbHVtblBhdGggPSB0ZXh0QW5ub3RhdGlvbi4kUGF0aDtcblx0XHRcdGNvbnN0IHRleHRQcm9wZXJ0eVBhdGggPSBgLyR7dmFsdWVMaXN0SW5mby5Db2xsZWN0aW9uUGF0aH0vJHtjb2x1bW5QYXRofWA7XG5cdFx0XHRjb2x1bW5Qcm9wZXJ0eVR5cGUgPSB2YWx1ZUxpc3RJbmZvLiRtb2RlbC5nZXRNZXRhTW9kZWwoKS5nZXRPYmplY3QodGV4dFByb3BlcnR5UGF0aCkuJFR5cGUgYXMgc3RyaW5nO1xuXHRcdH1cblxuXHRcdGlmIChjb2x1bW5Ob3RBbHJlYWR5RGVmaW5lZChjb2x1bW5EZWZzLCBjb2x1bW5QYXRoKSkge1xuXHRcdFx0Y29uc3QgY29sdW1uRGVmOiBDb2x1bW5EZWYgPSB7XG5cdFx0XHRcdHBhdGg6IGNvbHVtblBhdGgsXG5cdFx0XHRcdGxhYmVsOiBsYWJlbCxcblx0XHRcdFx0c29ydGFibGU6IHRydWUsXG5cdFx0XHRcdGZpbHRlcmFibGU6ICFwcm9wZXJ0eUFubm90YXRpb25zW1wiQGNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxLkhpZGRlbkZpbHRlclwiXSxcblx0XHRcdFx0JFR5cGU6IGNvbHVtblByb3BlcnR5VHlwZVxuXHRcdFx0fTtcblx0XHRcdGNvbHVtbkRlZnMucHVzaChjb2x1bW5EZWYpO1xuXHRcdH1cblx0fSxcblxuXHRmaWx0ZXJJbk91dFBhcmFtZXRlcnM6IGZ1bmN0aW9uICh2aFBhcmFtZXRlcnM6IEluT3V0UGFyYW1ldGVyW10sIHR5cGVGaWx0ZXI6IHN0cmluZ1tdKSB7XG5cdFx0cmV0dXJuIHZoUGFyYW1ldGVycy5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtZXRlcikge1xuXHRcdFx0cmV0dXJuIHR5cGVGaWx0ZXIuaW5kZXhPZihwYXJhbWV0ZXIucGFybWV0ZXJUeXBlKSA+IC0xO1xuXHRcdH0pO1xuXHR9LFxuXG5cdGdldEluUGFyYW1ldGVyczogZnVuY3Rpb24gKHZoUGFyYW1ldGVyczogSW5PdXRQYXJhbWV0ZXJbXSkge1xuXHRcdHJldHVybiBWYWx1ZUxpc3RIZWxwZXIuZmlsdGVySW5PdXRQYXJhbWV0ZXJzKHZoUGFyYW1ldGVycywgW1xuXHRcdFx0QW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlckluLFxuXHRcdFx0QW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlckNvbnN0YW50LFxuXHRcdFx0QW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlckluT3V0XG5cdFx0XSk7XG5cdH0sXG5cblx0Z2V0T3V0UGFyYW1ldGVyczogZnVuY3Rpb24gKHZoUGFyYW1ldGVyczogSW5PdXRQYXJhbWV0ZXJbXSkge1xuXHRcdHJldHVybiBWYWx1ZUxpc3RIZWxwZXIuZmlsdGVySW5PdXRQYXJhbWV0ZXJzKHZoUGFyYW1ldGVycywgW0Fubm90YXRpb25WYWx1ZUxpc3RQYXJhbWV0ZXJPdXQsIEFubm90YXRpb25WYWx1ZUxpc3RQYXJhbWV0ZXJJbk91dF0pO1xuXHR9LFxuXG5cdGNyZWF0ZVZIVUlNb2RlbDogZnVuY3Rpb24gKHZhbHVlSGVscDogVmFsdWVIZWxwLCBwcm9wZXJ0eVBhdGg6IHN0cmluZywgbWV0YU1vZGVsOiBPRGF0YU1ldGFNb2RlbCk6IEpTT05Nb2RlbCB7XG5cdFx0Ly8gc2V0dGluZyB0aGUgX1ZIVUkgbW9kZWwgZXZhbHVhdGVkIGluIHRoZSBWYWx1ZUxpc3RUYWJsZSBmcmFnbWVudFxuXHRcdGNvbnN0IHZoVUlNb2RlbCA9IG5ldyBKU09OTW9kZWwoe30pLFxuXHRcdFx0cHJvcGVydHlBbm5vdGF0aW9ucyA9IG1ldGFNb2RlbC5nZXRPYmplY3QoYCR7cHJvcGVydHlQYXRofUBgKSBhcyBBbm5vdGF0aW9uc0ZvclByb3BlcnR5O1xuXG5cdFx0dmFsdWVIZWxwLnNldE1vZGVsKHZoVUlNb2RlbCwgXCJfVkhVSVwiKTtcblx0XHQvLyBJZGVudGlmaWVzIHRoZSBcIkNvbnRleHREZXBlbmRlbnQtU2NlbmFyaW9cIlxuXHRcdHZoVUlNb2RlbC5zZXRQcm9wZXJ0eShcblx0XHRcdFwiL2hhc1ZhbHVlTGlzdFJlbGV2YW50UXVhbGlmaWVyc1wiLFxuXHRcdFx0ISFwcm9wZXJ0eUFubm90YXRpb25zW1wiQGNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MS5WYWx1ZUxpc3RSZWxldmFudFF1YWxpZmllcnNcIl1cblx0XHQpO1xuXHRcdC8qIFByb3BlcnR5IGxhYmVsIGZvciBkaWFsb2cgdGl0bGUgKi9cblx0XHR2aFVJTW9kZWwuc2V0UHJvcGVydHkoXCIvcHJvcGVydHlMYWJlbFwiLCBwcm9wZXJ0eUFubm90YXRpb25zW0Fubm90YXRpb25MYWJlbF0pO1xuXG5cdFx0cmV0dXJuIHZoVUlNb2RlbDtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgdGl0bGUgb2YgdGhlIHZhbHVlIGhlbHAgZGlhbG9nLlxuXHQgKiBCeSBkZWZhdWx0LCB0aGUgZGF0YSBmaWVsZCBsYWJlbCBpcyB1c2VkLCBvdGhlcndpc2UgZWl0aGVyIHRoZSBwcm9wZXJ0eSBsYWJlbCBvciB0aGUgdmFsdWUgbGlzdCBsYWJlbCBpcyB1c2VkIGFzIGEgZmFsbGJhY2suXG5cdCAqIEZvciBjb250ZXh0LWRlcGVuZGVudCB2YWx1ZSBoZWxwcywgYnkgZGVmYXVsdCB0aGUgdmFsdWUgbGlzdCBsYWJlbCBpcyB1c2VkLCBvdGhlcndpc2UgZWl0aGVyIHRoZSBwcm9wZXJ0eSBsYWJlbCBvciB0aGUgZGF0YSBmaWVsZCBsYWJlbCBpcyB1c2VkIGFzIGEgZmFsbGJhY2suXG5cdCAqXG5cdCAqIEBwYXJhbSB2YWx1ZUhlbHAgVGhlIHZhbHVlSGVscCBpbnN0YW5jZVxuXHQgKiBAcGFyYW0gdmFsdWVoZWxwTGFiZWwgVGhlIGxhYmVsIGluIHRoZSB2YWx1ZSBoZWxwIG1ldGFkYXRhXG5cdCAqIEByZXR1cm5zIFRoZSB0aXRsZSBmb3IgdGhlIHZhbHVlSGVscCBkaWFsb2dcblx0ICogQHByaXZhdGVcblx0ICovXG5cdF9nZXREaWFsb2dUaXRsZTogZnVuY3Rpb24gKHZhbHVlSGVscDogVmFsdWVIZWxwLCB2YWx1ZWhlbHBMYWJlbDogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblx0XHRjb25zdCBwcm9wZXJ0eUxhYmVsID0gKHZhbHVlSGVscC5nZXRNb2RlbChcIl9WSFVJXCIpIGFzIEpTT05Nb2RlbCkuZ2V0UHJvcGVydHkoXCIvcHJvcGVydHlMYWJlbFwiKTtcblx0XHRjb25zdCBkYXRhRmllbGRMYWJlbCA9IHZhbHVlSGVscC5nZXRDb250cm9sKCk/LmdldFByb3BlcnR5KFwibGFiZWxcIik7XG5cdFx0cmV0dXJuICh2YWx1ZUhlbHAuZ2V0TW9kZWwoXCJfVkhVSVwiKSBhcyBKU09OTW9kZWwpLmdldFByb3BlcnR5KFwiL2hhc1ZhbHVlTGlzdFJlbGV2YW50UXVhbGlmaWVyc1wiKVxuXHRcdFx0PyB2YWx1ZWhlbHBMYWJlbCB8fCBwcm9wZXJ0eUxhYmVsIHx8IGRhdGFGaWVsZExhYmVsXG5cdFx0XHQ6IGRhdGFGaWVsZExhYmVsIHx8IHByb3BlcnR5TGFiZWwgfHwgdmFsdWVoZWxwTGFiZWw7XG5cdH0sXG5cblx0ZGVzdHJveVZIQ29udGVudDogZnVuY3Rpb24gKHZhbHVlSGVscDogVmFsdWVIZWxwKTogdm9pZCB7XG5cdFx0aWYgKHZhbHVlSGVscC5nZXREaWFsb2coKSkge1xuXHRcdFx0dmFsdWVIZWxwLmdldERpYWxvZygpLmRlc3Ryb3lDb250ZW50KCk7XG5cdFx0fVxuXHRcdGlmICh2YWx1ZUhlbHAuZ2V0VHlwZWFoZWFkKCkpIHtcblx0XHRcdHZhbHVlSGVscC5nZXRUeXBlYWhlYWQoKS5kZXN0cm95Q29udGVudCgpO1xuXHRcdH1cblx0fSxcblxuXHRwdXREZWZhdWx0UXVhbGlmaWVyRmlyc3Q6IGZ1bmN0aW9uIChxdWFsaWZpZXJzOiBzdHJpbmdbXSkge1xuXHRcdGNvbnN0IGluZGV4RGVmYXVsdFZIID0gcXVhbGlmaWVycy5pbmRleE9mKFwiXCIpO1xuXG5cdFx0Ly8gZGVmYXVsdCBWYWx1ZUhlbHAgd2l0aG91dCBxdWFsaWZpZXIgc2hvdWxkIGJlIHRoZSBmaXJzdFxuXHRcdGlmIChpbmRleERlZmF1bHRWSCA+IDApIHtcblx0XHRcdHF1YWxpZmllcnMudW5zaGlmdChxdWFsaWZpZXJzW2luZGV4RGVmYXVsdFZIXSk7XG5cdFx0XHRxdWFsaWZpZXJzLnNwbGljZShpbmRleERlZmF1bHRWSCArIDEsIDEpO1xuXHRcdH1cblx0XHRyZXR1cm4gcXVhbGlmaWVycztcblx0fSxcblxuXHRfZ2V0Q29udGV4dFByZWZpeDogZnVuY3Rpb24gKGJpbmRpbmdDb250ZXh0OiBDb250ZXh0IHwgdW5kZWZpbmVkLCBwcm9wZXJ0eUJpbmRpbmdQYXJ0czogc3RyaW5nW10pIHtcblx0XHRpZiAoYmluZGluZ0NvbnRleHQgJiYgYmluZGluZ0NvbnRleHQuZ2V0UGF0aCgpKSB7XG5cdFx0XHRjb25zdCBiaW5kaWdDb250ZXh0UGFydHMgPSBiaW5kaW5nQ29udGV4dC5nZXRQYXRoKCkuc3BsaXQoXCIvXCIpO1xuXHRcdFx0aWYgKHByb3BlcnR5QmluZGluZ1BhcnRzLmxlbmd0aCAtIGJpbmRpZ0NvbnRleHRQYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdGNvbnN0IGNvbnRleHRQcmVmaXhQYXJ0cyA9IFtdO1xuXHRcdFx0XHRmb3IgKGxldCBpID0gYmluZGlnQ29udGV4dFBhcnRzLmxlbmd0aDsgaSA8IHByb3BlcnR5QmluZGluZ1BhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdFx0XHRcdGNvbnRleHRQcmVmaXhQYXJ0cy5wdXNoKHByb3BlcnR5QmluZGluZ1BhcnRzW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gYCR7Y29udGV4dFByZWZpeFBhcnRzLmpvaW4oXCIvXCIpfS9gO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBcIlwiO1xuXHR9LFxuXG5cdF9nZXRWaFBhcmFtZXRlcjogZnVuY3Rpb24gKFxuXHRcdGNvbmRpdGlvbk1vZGVsOiBzdHJpbmcsXG5cdFx0dmFsdWVIZWxwOiBWYWx1ZUhlbHAsXG5cdFx0Y29udGV4dFByZWZpeDogc3RyaW5nLFxuXHRcdHBhcmFtZXRlcjogQW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlcixcblx0XHR2aE1ldGFNb2RlbDogT0RhdGFNZXRhTW9kZWwsXG5cdFx0bG9jYWxEYXRhUHJvcGVydHlQYXRoOiBzdHJpbmdcblx0KTogSW5PdXRQYXJhbWV0ZXIge1xuXHRcdGxldCB2YWx1ZVBhdGggPSBcIlwiO1xuXHRcdGNvbnN0IGJpbmRpbmdDb250ZXh0ID0gdmFsdWVIZWxwLmdldEJpbmRpbmdDb250ZXh0KCk7XG5cdFx0aWYgKGNvbmRpdGlvbk1vZGVsICYmIGNvbmRpdGlvbk1vZGVsLmxlbmd0aCA+IDApIHtcblx0XHRcdGlmIChcblx0XHRcdFx0dmFsdWVIZWxwLmdldFBhcmVudCgpPy5pc0EoXCJzYXAudWkubWRjLlRhYmxlXCIpICYmXG5cdFx0XHRcdGJpbmRpbmdDb250ZXh0ICYmXG5cdFx0XHRcdFZhbHVlTGlzdEhlbHBlci5fcGFyYW1ldGVySXNBKHBhcmFtZXRlciwgW1xuXHRcdFx0XHRcdENvbW1vbkFubm90YXRpb25UeXBlcy5WYWx1ZUxpc3RQYXJhbWV0ZXJJbixcblx0XHRcdFx0XHRDb21tb25Bbm5vdGF0aW9uVHlwZXMuVmFsdWVMaXN0UGFyYW1ldGVySW5PdXRcblx0XHRcdFx0XSlcblx0XHRcdCkge1xuXHRcdFx0XHQvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciB2YWx1ZSBoZWxwIHVzZWQgaW4gZmlsdGVyIGRpYWxvZ1xuXHRcdFx0XHRjb25zdCBwYXJ0cyA9IGxvY2FsRGF0YVByb3BlcnR5UGF0aC5zcGxpdChcIi9cIik7XG5cdFx0XHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgZmlyc3ROYXZpZ2F0aW9uUHJvcGVydHkgPSBwYXJ0c1swXTtcblx0XHRcdFx0XHRjb25zdCBvQm91bmRFbnRpdHkgPSB2aE1ldGFNb2RlbC5nZXRNZXRhQ29udGV4dChiaW5kaW5nQ29udGV4dC5nZXRQYXRoKCkpO1xuXHRcdFx0XHRcdGNvbnN0IHNQYXRoT2ZUYWJsZSA9ICh2YWx1ZUhlbHAuZ2V0UGFyZW50KCkgYXMgYW55KS5nZXRSb3dCaW5kaW5nKCkuZ2V0UGF0aCgpOyAvL1RPRE9cblx0XHRcdFx0XHRpZiAob0JvdW5kRW50aXR5LmdldE9iamVjdChgJHtzUGF0aE9mVGFibGV9LyRQYXJ0bmVyYCkgPT09IGZpcnN0TmF2aWdhdGlvblByb3BlcnR5KSB7XG5cdFx0XHRcdFx0XHQvLyBVc2luZyB0aGUgY29uZGl0aW9uIG1vZGVsIGRvZXNuJ3QgbWFrZSBhbnkgc2Vuc2UgaW4gY2FzZSBhbiBpbi1wYXJhbWV0ZXIgdXNlcyBhIG5hdmlnYXRpb24gcHJvcGVydHlcblx0XHRcdFx0XHRcdC8vIHJlZmVycmluZyB0byB0aGUgcGFydG5lci4gVGhlcmVmb3JlIHJlZHVjaW5nIHRoZSBwYXRoIGFuZCB1c2luZyB0aGUgRlZIIGNvbnRleHQgaW5zdGVhZCBvZiB0aGUgY29uZGl0aW9uIG1vZGVsXG5cdFx0XHRcdFx0XHR2YWx1ZVBhdGggPSBsb2NhbERhdGFQcm9wZXJ0eVBhdGgucmVwbGFjZShmaXJzdE5hdmlnYXRpb25Qcm9wZXJ0eSArIFwiL1wiLCBcIlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICghdmFsdWVQYXRoKSB7XG5cdFx0XHRcdHZhbHVlUGF0aCA9IGNvbmRpdGlvbk1vZGVsICsgXCI+L2NvbmRpdGlvbnMvXCIgKyBsb2NhbERhdGFQcm9wZXJ0eVBhdGg7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhbHVlUGF0aCA9IGNvbnRleHRQcmVmaXggKyBsb2NhbERhdGFQcm9wZXJ0eVBhdGg7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHBhcm1ldGVyVHlwZTogcGFyYW1ldGVyLiRUeXBlLFxuXHRcdFx0c291cmNlOiB2YWx1ZVBhdGgsXG5cdFx0XHRoZWxwUGF0aDogcGFyYW1ldGVyLlZhbHVlTGlzdFByb3BlcnR5LFxuXHRcdFx0Y29uc3RhbnRWYWx1ZTogcGFyYW1ldGVyLkNvbnN0YW50LFxuXHRcdFx0aW5pdGlhbFZhbHVlRmlsdGVyRW1wdHk6IEJvb2xlYW4ocGFyYW1ldGVyLkluaXRpYWxWYWx1ZUlzU2lnbmlmaWNhbnQpXG5cdFx0fTtcblx0fSxcblxuXHRfcGFyYW1ldGVySXNBKHBhcmFtZXRlcjogQW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlciwgcGFyYW1ldGVyVHlwZXM6IENvbW1vbkFubm90YXRpb25UeXBlc1tdKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHBhcmFtZXRlclR5cGVzLmluY2x1ZGVzKHBhcmFtZXRlci4kVHlwZSBhcyBDb21tb25Bbm5vdGF0aW9uVHlwZXMpO1xuXHR9LFxuXG5cdF9lbnJpY2hQYXRoOiBmdW5jdGlvbiAoXG5cdFx0cGF0aDogUGF0aCxcblx0XHRwcm9wZXJ0eVBhdGg6IHN0cmluZyxcblx0XHRsb2NhbERhdGFQcm9wZXJ0eVBhdGg6IHN0cmluZyxcblx0XHRwYXJhbWV0ZXI6IEFubm90YXRpb25WYWx1ZUxpc3RQYXJhbWV0ZXIsXG5cdFx0cHJvcGVydHlOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQsXG5cdFx0cHJvcGVydHlBbm5vdGF0aW9uczogQW5ub3RhdGlvbnNGb3JQcm9wZXJ0eVxuXHQpIHtcblx0XHRpZiAoXG5cdFx0XHQhcGF0aC5rZXkgJiZcblx0XHRcdFZhbHVlTGlzdEhlbHBlci5fcGFyYW1ldGVySXNBKHBhcmFtZXRlciwgW1xuXHRcdFx0XHRDb21tb25Bbm5vdGF0aW9uVHlwZXMuVmFsdWVMaXN0UGFyYW1ldGVyT3V0LFxuXHRcdFx0XHRDb21tb25Bbm5vdGF0aW9uVHlwZXMuVmFsdWVMaXN0UGFyYW1ldGVySW5PdXRcblx0XHRcdF0pICYmXG5cdFx0XHRsb2NhbERhdGFQcm9wZXJ0eVBhdGggPT09IHByb3BlcnR5TmFtZVxuXHRcdCkge1xuXHRcdFx0cGF0aC5maWVsZFByb3BlcnR5UGF0aCA9IHByb3BlcnR5UGF0aDtcblx0XHRcdHBhdGgua2V5ID0gcGFyYW1ldGVyLlZhbHVlTGlzdFByb3BlcnR5O1xuXG5cdFx0XHQvL09ubHkgdGhlIHRleHQgYW5ub3RhdGlvbiBvZiB0aGUga2V5IGNhbiBzcGVjaWZ5IHRoZSBkZXNjcmlwdGlvblxuXHRcdFx0cGF0aC5kZXNjcmlwdGlvblBhdGggPSBwcm9wZXJ0eUFubm90YXRpb25zW0Fubm90YXRpb25UZXh0XT8uJFBhdGggfHwgXCJcIjtcblx0XHR9XG5cdH0sXG5cblx0X2VucmljaEtleXM6IGZ1bmN0aW9uICh2aEtleXM6IHN0cmluZ1tdLCBwYXJhbWV0ZXI6IEFubm90YXRpb25WYWx1ZUxpc3RQYXJhbWV0ZXIpIHtcblx0XHRpZiAoXG5cdFx0XHRWYWx1ZUxpc3RIZWxwZXIuX3BhcmFtZXRlcklzQShwYXJhbWV0ZXIsIFtcblx0XHRcdFx0Q29tbW9uQW5ub3RhdGlvblR5cGVzLlZhbHVlTGlzdFBhcmFtZXRlck91dCxcblx0XHRcdFx0Q29tbW9uQW5ub3RhdGlvblR5cGVzLlZhbHVlTGlzdFBhcmFtZXRlckluLFxuXHRcdFx0XHRDb21tb25Bbm5vdGF0aW9uVHlwZXMuVmFsdWVMaXN0UGFyYW1ldGVySW5PdXRcblx0XHRcdF0pICYmXG5cdFx0XHQhdmhLZXlzLmluY2x1ZGVzKHBhcmFtZXRlci5WYWx1ZUxpc3RQcm9wZXJ0eSlcblx0XHQpIHtcblx0XHRcdHZoS2V5cy5wdXNoKHBhcmFtZXRlci5WYWx1ZUxpc3RQcm9wZXJ0eSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9wcm9jZXNzUGFyYW1ldGVyczogZnVuY3Rpb24gKFxuXHRcdGFubm90YXRpb25WYWx1ZUxpc3RUeXBlOiBBbm5vdGF0aW9uVmFsdWVMaXN0VHlwZSxcblx0XHRwcm9wZXJ0eU5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCxcblx0XHRjb25kaXRpb25Nb2RlbDogc3RyaW5nLFxuXHRcdHZhbHVlSGVscDogVmFsdWVIZWxwLFxuXHRcdGNvbnRleHRQcmVmaXg6IHN0cmluZyxcblx0XHR2aE1ldGFNb2RlbDogT0RhdGFNZXRhTW9kZWwsXG5cdFx0dmFsdWVIZWxwUXVhbGlmaWVyOiBzdHJpbmdcblx0KSB7XG5cdFx0Y29uc3QgbWV0YU1vZGVsID0gYW5ub3RhdGlvblZhbHVlTGlzdFR5cGUuJG1vZGVsLmdldE1ldGFNb2RlbCgpLFxuXHRcdFx0ZW50aXR5U2V0UGF0aCA9IGAvJHthbm5vdGF0aW9uVmFsdWVMaXN0VHlwZS5Db2xsZWN0aW9uUGF0aH1gLFxuXHRcdFx0ZW50aXR5VHlwZSA9IG1ldGFNb2RlbC5nZXRPYmplY3QoYCR7ZW50aXR5U2V0UGF0aH0vYCk7XG5cdFx0aWYgKGVudGl0eVR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0TG9nLmVycm9yKGBJbmNvbnNpc3RlbnQgdmFsdWUgaGVscCBtZXRhZGF0YTogRW50aXR5ICR7ZW50aXR5U2V0UGF0aH0gaXMgbm90IGRlZmluZWRgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBjb2x1bW5EZWZzID0gVmFsdWVMaXN0SGVscGVyLl9nZXRDb2x1bW5EZWZpbml0aW9uRnJvbVNlbGVjdGlvbkZpZWxkcyhtZXRhTW9kZWwsIGVudGl0eVNldFBhdGgpLFxuXHRcdFx0dmhQYXJhbWV0ZXJzOiBJbk91dFBhcmFtZXRlcltdID0gW10sXG5cdFx0XHR2aEtleXM6IHN0cmluZ1tdID0gZW50aXR5VHlwZS4kS2V5ID8gWy4uLmVudGl0eVR5cGUuJEtleV0gOiBbXTtcblxuXHRcdGNvbnN0IHBhdGg6IFBhdGggPSB7XG5cdFx0XHRmaWVsZFByb3BlcnR5UGF0aDogXCJcIixcblx0XHRcdGRlc2NyaXB0aW9uUGF0aDogXCJcIixcblx0XHRcdGtleTogXCJcIlxuXHRcdH07XG5cblx0XHRmb3IgKGNvbnN0IHBhcmFtZXRlciBvZiBhbm5vdGF0aW9uVmFsdWVMaXN0VHlwZS5QYXJhbWV0ZXJzKSB7XG5cdFx0XHQvL0FsbCBTdHJpbmcgZmllbGRzIGFyZSBhbGxvd2VkIGZvciBmaWx0ZXJcblx0XHRcdGNvbnN0IHByb3BlcnR5UGF0aCA9IGAvJHthbm5vdGF0aW9uVmFsdWVMaXN0VHlwZS5Db2xsZWN0aW9uUGF0aH0vJHtwYXJhbWV0ZXIuVmFsdWVMaXN0UHJvcGVydHl9YCxcblx0XHRcdFx0cHJvcGVydHkgPSBtZXRhTW9kZWwuZ2V0T2JqZWN0KHByb3BlcnR5UGF0aCksXG5cdFx0XHRcdHByb3BlcnR5QW5ub3RhdGlvbnMgPSAobWV0YU1vZGVsLmdldE9iamVjdChgJHtwcm9wZXJ0eVBhdGh9QGApIHx8IHt9KSBhcyBBbm5vdGF0aW9uc0ZvclByb3BlcnR5LFxuXHRcdFx0XHRsb2NhbERhdGFQcm9wZXJ0eVBhdGggPSBwYXJhbWV0ZXIuTG9jYWxEYXRhUHJvcGVydHk/LiRQcm9wZXJ0eVBhdGggfHwgXCJcIjtcblxuXHRcdFx0Ly8gSWYgcHJvcGVydHkgaXMgdW5kZWZpbmVkLCB0aGVuIHRoZSBwcm9wZXJ0eSBjb21pbmcgZm9yIHRoZSBlbnRyeSBpc24ndCBkZWZpbmVkIGluXG5cdFx0XHQvLyB0aGUgbWV0YW1vZGVsLCB0aGVyZWZvcmUgd2UgZG9uJ3QgbmVlZCB0byBhZGQgaXQgaW4gdGhlIGluL291dCBwYXJhbWV0ZXJzXG5cdFx0XHRpZiAocHJvcGVydHkpIHtcblx0XHRcdFx0Ly8gU2VhcmNoIGZvciB0aGUgKm91dCBQYXJhbWV0ZXIgbWFwcGVkIHRvIHRoZSBsb2NhbCBwcm9wZXJ0eVxuXHRcdFx0XHRWYWx1ZUxpc3RIZWxwZXIuX2VucmljaFBhdGgocGF0aCwgcHJvcGVydHlQYXRoLCBsb2NhbERhdGFQcm9wZXJ0eVBhdGgsIHBhcmFtZXRlciwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eUFubm90YXRpb25zKTtcblxuXHRcdFx0XHRjb25zdCB2YWx1ZUxpc3RQcm9wZXJ0eSA9IHBhcmFtZXRlci5WYWx1ZUxpc3RQcm9wZXJ0eTtcblx0XHRcdFx0VmFsdWVMaXN0SGVscGVyLl9tZXJnZUNvbHVtbkRlZmluaXRpb25zRnJvbVByb3BlcnRpZXMoXG5cdFx0XHRcdFx0Y29sdW1uRGVmcyxcblx0XHRcdFx0XHRhbm5vdGF0aW9uVmFsdWVMaXN0VHlwZSxcblx0XHRcdFx0XHR2YWx1ZUxpc3RQcm9wZXJ0eSxcblx0XHRcdFx0XHRwcm9wZXJ0eSxcblx0XHRcdFx0XHRwcm9wZXJ0eUFubm90YXRpb25zXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vSW4gYW5kIEluT3V0IGFuZCBPdXRcblx0XHRcdGlmIChcblx0XHRcdFx0VmFsdWVMaXN0SGVscGVyLl9wYXJhbWV0ZXJJc0EocGFyYW1ldGVyLCBbXG5cdFx0XHRcdFx0Q29tbW9uQW5ub3RhdGlvblR5cGVzLlZhbHVlTGlzdFBhcmFtZXRlckluLFxuXHRcdFx0XHRcdENvbW1vbkFubm90YXRpb25UeXBlcy5WYWx1ZUxpc3RQYXJhbWV0ZXJPdXQsXG5cdFx0XHRcdFx0Q29tbW9uQW5ub3RhdGlvblR5cGVzLlZhbHVlTGlzdFBhcmFtZXRlckluT3V0XG5cdFx0XHRcdF0pICYmXG5cdFx0XHRcdGxvY2FsRGF0YVByb3BlcnR5UGF0aCAhPT0gcHJvcGVydHlOYW1lXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc3QgdmhQYXJhbWV0ZXIgPSBWYWx1ZUxpc3RIZWxwZXIuX2dldFZoUGFyYW1ldGVyKFxuXHRcdFx0XHRcdGNvbmRpdGlvbk1vZGVsLFxuXHRcdFx0XHRcdHZhbHVlSGVscCxcblx0XHRcdFx0XHRjb250ZXh0UHJlZml4LFxuXHRcdFx0XHRcdHBhcmFtZXRlcixcblx0XHRcdFx0XHR2aE1ldGFNb2RlbCxcblx0XHRcdFx0XHRsb2NhbERhdGFQcm9wZXJ0eVBhdGhcblx0XHRcdFx0KTtcblx0XHRcdFx0dmhQYXJhbWV0ZXJzLnB1c2godmhQYXJhbWV0ZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvL0NvbnN0YW50IGFzIEluUGFyYW10ZXIgZm9yIGZpbHRlcmluZ1xuXHRcdFx0aWYgKHBhcmFtZXRlci4kVHlwZSA9PT0gQW5ub3RhdGlvblZhbHVlTGlzdFBhcmFtZXRlckNvbnN0YW50KSB7XG5cdFx0XHRcdHZoUGFyYW1ldGVycy5wdXNoKHtcblx0XHRcdFx0XHRwYXJtZXRlclR5cGU6IHBhcmFtZXRlci4kVHlwZSxcblx0XHRcdFx0XHRzb3VyY2U6IHBhcmFtZXRlci5WYWx1ZUxpc3RQcm9wZXJ0eSxcblx0XHRcdFx0XHRoZWxwUGF0aDogcGFyYW1ldGVyLlZhbHVlTGlzdFByb3BlcnR5LFxuXHRcdFx0XHRcdGNvbnN0YW50VmFsdWU6IHBhcmFtZXRlci5Db25zdGFudCxcblx0XHRcdFx0XHRpbml0aWFsVmFsdWVGaWx0ZXJFbXB0eTogQm9vbGVhbihwYXJhbWV0ZXIuSW5pdGlhbFZhbHVlSXNTaWduaWZpY2FudClcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEVucmljaCBrZXlzIHdpdGggb3V0LXBhcmFtZXRlcnNcblx0XHRcdFZhbHVlTGlzdEhlbHBlci5fZW5yaWNoS2V5cyh2aEtleXMsIHBhcmFtZXRlcik7XG5cdFx0fVxuXG5cdFx0LyogRW5zdXJlIHRoYXQgdmhLZXlzIGFyZSBwYXJ0IG9mIHRoZSBjb2x1bW5EZWZzLCBvdGhlcndpc2UgaXQgaXMgbm90IGNvbnNpZGVyZWQgaW4gJHNlbGVjdCAoQkNQIDIyNzAxNDExNTQpICovXG5cdFx0Zm9yIChjb25zdCB2aEtleSBvZiB2aEtleXMpIHtcblx0XHRcdGlmIChjb2x1bW5Ob3RBbHJlYWR5RGVmaW5lZChjb2x1bW5EZWZzLCB2aEtleSkpIHtcblx0XHRcdFx0Y29uc3QgY29sdW1uRGVmOiBDb2x1bW5EZWYgPSB7XG5cdFx0XHRcdFx0cGF0aDogdmhLZXksXG5cdFx0XHRcdFx0JFR5cGU6IG1ldGFNb2RlbC5nZXRPYmplY3QoYC8ke2Fubm90YXRpb25WYWx1ZUxpc3RUeXBlLkNvbGxlY3Rpb25QYXRofS8ke3BhdGgua2V5fWApPy4kVHlwZSxcblx0XHRcdFx0XHRsYWJlbDogXCJcIixcblx0XHRcdFx0XHRzb3J0YWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0ZmlsdGVyYWJsZTogdW5kZWZpbmVkXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbHVtbkRlZnMucHVzaChjb2x1bW5EZWYpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IHZhbHVlbGlzdEluZm86IFZhbHVlTGlzdEluZm8gPSB7XG5cdFx0XHRrZXlQYXRoOiBwYXRoLmtleSxcblx0XHRcdGRlc2NyaXB0aW9uUGF0aDogcGF0aC5kZXNjcmlwdGlvblBhdGgsXG5cdFx0XHRmaWVsZFByb3BlcnR5UGF0aDogcGF0aC5maWVsZFByb3BlcnR5UGF0aCxcblx0XHRcdHZoS2V5czogdmhLZXlzLFxuXHRcdFx0dmhQYXJhbWV0ZXJzOiB2aFBhcmFtZXRlcnMsXG5cdFx0XHR2YWx1ZUxpc3RJbmZvOiBhbm5vdGF0aW9uVmFsdWVMaXN0VHlwZSxcblx0XHRcdGNvbHVtbkRlZnM6IGNvbHVtbkRlZnMsXG5cdFx0XHR2YWx1ZUhlbHBRdWFsaWZpZXJcblx0XHR9O1xuXHRcdHJldHVybiB2YWx1ZWxpc3RJbmZvO1xuXHR9LFxuXG5cdF9sb2dFcnJvcjogZnVuY3Rpb24gKHByb3BlcnR5UGF0aDogc3RyaW5nLCBlcnJvcj86IHVua25vd24pIHtcblx0XHRjb25zdCBzdGF0dXMgPSBlcnJvciA/IChlcnJvciBhcyBYTUxIdHRwUmVxdWVzdCkuc3RhdHVzIDogdW5kZWZpbmVkO1xuXHRcdGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG5cdFx0Y29uc3QgbXNnID0gc3RhdHVzID09PSA0MDQgPyBgTWV0YWRhdGEgbm90IGZvdW5kICgke3N0YXR1c30pIGZvciB2YWx1ZSBoZWxwIG9mIHByb3BlcnR5ICR7cHJvcGVydHlQYXRofWAgOiBtZXNzYWdlO1xuXG5cdFx0TG9nLmVycm9yKG1zZyk7XG5cdH0sXG5cblx0Z2V0VmFsdWVMaXN0SW5mbzogYXN5bmMgZnVuY3Rpb24gKHZhbHVlSGVscDogVmFsdWVIZWxwLCBwcm9wZXJ0eVBhdGg6IHN0cmluZywgcGF5bG9hZDogVmFsdWVIZWxwUGF5bG9hZCk6IFByb21pc2U8VmFsdWVMaXN0SW5mb1tdPiB7XG5cdFx0Y29uc3QgYmluZGluZ0NvbnRleHQgPSB2YWx1ZUhlbHAuZ2V0QmluZGluZ0NvbnRleHQoKSBhcyBDb250ZXh0IHwgdW5kZWZpbmVkLFxuXHRcdFx0Y29uZGl0aW9uTW9kZWwgPSBwYXlsb2FkLmNvbmRpdGlvbk1vZGVsLFxuXHRcdFx0dmhNZXRhTW9kZWwgPSAodmFsdWVIZWxwLmdldE1vZGVsKCkgYXMgT0RhdGFNb2RlbCkuZ2V0TWV0YU1vZGVsKCksXG5cdFx0XHR2YWx1ZUxpc3RJbmZvczogVmFsdWVMaXN0SW5mb1tdID0gW10sXG5cdFx0XHRwcm9wZXJ0eVBhdGhQYXJ0cyA9IHByb3BlcnR5UGF0aC5zcGxpdChcIi9cIik7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHZhbHVlTGlzdEJ5UXVhbGlmaWVyID0gKGF3YWl0IHZoTWV0YU1vZGVsLnJlcXVlc3RWYWx1ZUxpc3RJbmZvKFxuXHRcdFx0XHRwcm9wZXJ0eVBhdGgsXG5cdFx0XHRcdHRydWUsXG5cdFx0XHRcdGJpbmRpbmdDb250ZXh0XG5cdFx0XHQpKSBhcyBBbm5vdGF0aW9uVmFsdWVMaXN0VHlwZUJ5UXVhbGlmaWVyO1xuXHRcdFx0Y29uc3QgdmFsdWVIZWxwUXVhbGlmaWVycyA9IFZhbHVlTGlzdEhlbHBlci5wdXREZWZhdWx0UXVhbGlmaWVyRmlyc3QoT2JqZWN0LmtleXModmFsdWVMaXN0QnlRdWFsaWZpZXIpKSxcblx0XHRcdFx0cHJvcGVydHlOYW1lID0gcHJvcGVydHlQYXRoUGFydHMucG9wKCk7XG5cblx0XHRcdGNvbnN0IGNvbnRleHRQcmVmaXggPSBwYXlsb2FkLnVzZU11bHRpVmFsdWVGaWVsZCA/IFZhbHVlTGlzdEhlbHBlci5fZ2V0Q29udGV4dFByZWZpeChiaW5kaW5nQ29udGV4dCwgcHJvcGVydHlQYXRoUGFydHMpIDogXCJcIjtcblxuXHRcdFx0Zm9yIChjb25zdCB2YWx1ZUhlbHBRdWFsaWZpZXIgb2YgdmFsdWVIZWxwUXVhbGlmaWVycykge1xuXHRcdFx0XHQvLyBBZGQgY29sdW1uIGRlZmluaXRpb25zIGZvciBwcm9wZXJ0aWVzIGRlZmluZWQgYXMgU2VsZWN0aW9uIGZpZWxkcyBvbiB0aGUgQ29sbGVjdGlvblBhdGggZW50aXR5IHNldC5cblx0XHRcdFx0Y29uc3QgYW5ub3RhdGlvblZhbHVlTGlzdFR5cGUgPSB2YWx1ZUxpc3RCeVF1YWxpZmllclt2YWx1ZUhlbHBRdWFsaWZpZXJdO1xuXG5cdFx0XHRcdGNvbnN0IHZhbHVlTGlzdEluZm8gPSBWYWx1ZUxpc3RIZWxwZXIuX3Byb2Nlc3NQYXJhbWV0ZXJzKFxuXHRcdFx0XHRcdGFubm90YXRpb25WYWx1ZUxpc3RUeXBlLFxuXHRcdFx0XHRcdHByb3BlcnR5TmFtZSxcblx0XHRcdFx0XHRjb25kaXRpb25Nb2RlbCxcblx0XHRcdFx0XHR2YWx1ZUhlbHAsXG5cdFx0XHRcdFx0Y29udGV4dFByZWZpeCxcblx0XHRcdFx0XHR2aE1ldGFNb2RlbCxcblx0XHRcdFx0XHRhbm5vdGF0aW9uVmFsdWVMaXN0VHlwZS4kcXVhbGlmaWVyID8/IHZhbHVlSGVscFF1YWxpZmllciAvLyBmb3IgVmFsdWVMaXN0V2l0aEZpeGVkVmFsdWVzLCBnZXQgdGhlIHF1YWxpZmllciBmcm9tICRxdWFsaWZpZXJcblx0XHRcdFx0KTtcblx0XHRcdFx0LyogT25seSBjb25zaXN0ZW50IHZhbHVlIGhlbHAgZGVmaW5pdGlvbnMgc2hhbGwgYmUgcGFydCBvZiB0aGUgdmFsdWUgaGVscCAqL1xuXHRcdFx0XHRpZiAodmFsdWVMaXN0SW5mbykge1xuXHRcdFx0XHRcdHZhbHVlTGlzdEluZm9zLnB1c2godmFsdWVMaXN0SW5mbyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMuX2xvZ0Vycm9yKHByb3BlcnR5UGF0aCwgZXJyKTtcblxuXHRcdFx0VmFsdWVMaXN0SGVscGVyLmRlc3Ryb3lWSENvbnRlbnQodmFsdWVIZWxwKTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbHVlTGlzdEluZm9zO1xuXHR9LFxuXG5cdEFMTEZSQUdNRU5UUzogdW5kZWZpbmVkIGFzIGFueSxcblx0bG9nRnJhZ21lbnQ6IHVuZGVmaW5lZCBhcyBhbnksXG5cblx0X2xvZ1RlbXBsYXRlZEZyYWdtZW50czogZnVuY3Rpb24gKHByb3BlcnR5UGF0aDogc3RyaW5nLCBmcmFnbWVudE5hbWU6IHN0cmluZywgZnJhZ21lbnREZWZpbml0aW9uOiBhbnkpOiB2b2lkIHtcblx0XHRjb25zdCBsb2dJbmZvID0ge1xuXHRcdFx0cGF0aDogcHJvcGVydHlQYXRoLFxuXHRcdFx0ZnJhZ21lbnROYW1lOiBmcmFnbWVudE5hbWUsXG5cdFx0XHRmcmFnbWVudDogZnJhZ21lbnREZWZpbml0aW9uXG5cdFx0fTtcblx0XHRpZiAoTG9nLmdldExldmVsKCkgPT09IExldmVsLkRFQlVHKSB7XG5cdFx0XHQvL0luIGRlYnVnIG1vZGUgd2UgbG9nIGFsbCBnZW5lcmF0ZWQgZnJhZ21lbnRzXG5cdFx0XHRWYWx1ZUxpc3RIZWxwZXIuQUxMRlJBR01FTlRTID0gVmFsdWVMaXN0SGVscGVyLkFMTEZSQUdNRU5UUyB8fCBbXTtcblx0XHRcdFZhbHVlTGlzdEhlbHBlci5BTExGUkFHTUVOVFMucHVzaChsb2dJbmZvKTtcblx0XHR9XG5cdFx0aWYgKFZhbHVlTGlzdEhlbHBlci5sb2dGcmFnbWVudCkge1xuXHRcdFx0Ly9PbmUgVG9vbCBTdWJzY3JpYmVyIGFsbG93ZWRcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRWYWx1ZUxpc3RIZWxwZXIubG9nRnJhZ21lbnQobG9nSW5mbyk7XG5cdFx0XHR9LCAwKTtcblx0XHR9XG5cdH0sXG5cblx0X3RlbXBsYXRlRnJhZ21lbnQ6IGFzeW5jIGZ1bmN0aW9uIDxUIGV4dGVuZHMgVGFibGUgfCBNZGNJbm5lclRhYmxlIHwgTWRjRmlsdGVyQmFyPihcblx0XHRmcmFnbWVudE5hbWU6IHN0cmluZyxcblx0XHR2YWx1ZUxpc3RJbmZvOiBWYWx1ZUxpc3RJbmZvLFxuXHRcdHNvdXJjZU1vZGVsOiBKU09OTW9kZWwsXG5cdFx0cHJvcGVydHlQYXRoOiBzdHJpbmdcblx0KTogUHJvbWlzZTxUPiB7XG5cdFx0Y29uc3QgbG9jYWxWYWx1ZUxpc3RJbmZvID0gdmFsdWVMaXN0SW5mby52YWx1ZUxpc3RJbmZvLFxuXHRcdFx0dmFsdWVMaXN0TW9kZWwgPSBuZXcgSlNPTk1vZGVsKGxvY2FsVmFsdWVMaXN0SW5mbyksXG5cdFx0XHR2YWx1ZUxpc3RTZXJ2aWNlTWV0YU1vZGVsID0gbG9jYWxWYWx1ZUxpc3RJbmZvLiRtb2RlbC5nZXRNZXRhTW9kZWwoKSxcblx0XHRcdHZpZXdEYXRhID0gbmV3IEpTT05Nb2RlbCh7XG5cdFx0XHRcdGNvbnZlcnRlclR5cGU6IFwiTGlzdFJlcG9ydFwiLFxuXHRcdFx0XHRjb2x1bW5zOiB2YWx1ZUxpc3RJbmZvLmNvbHVtbkRlZnMgfHwgbnVsbFxuXHRcdFx0fSk7XG5cblx0XHRjb25zdCBmcmFnbWVudERlZmluaXRpb24gPSBhd2FpdCBYTUxQcmVwcm9jZXNzb3IucHJvY2Vzcyhcblx0XHRcdFhNTFRlbXBsYXRlUHJvY2Vzc29yLmxvYWRUZW1wbGF0ZShmcmFnbWVudE5hbWUsIFwiZnJhZ21lbnRcIiksXG5cdFx0XHR7IG5hbWU6IGZyYWdtZW50TmFtZSB9LFxuXHRcdFx0e1xuXHRcdFx0XHRiaW5kaW5nQ29udGV4dHM6IHtcblx0XHRcdFx0XHR2YWx1ZUxpc3Q6IHZhbHVlTGlzdE1vZGVsLmNyZWF0ZUJpbmRpbmdDb250ZXh0KFwiL1wiKSxcblx0XHRcdFx0XHRjb250ZXh0UGF0aDogdmFsdWVMaXN0U2VydmljZU1ldGFNb2RlbC5jcmVhdGVCaW5kaW5nQ29udGV4dChgLyR7bG9jYWxWYWx1ZUxpc3RJbmZvLkNvbGxlY3Rpb25QYXRofS9gKSxcblx0XHRcdFx0XHRzb3VyY2U6IHNvdXJjZU1vZGVsLmNyZWF0ZUJpbmRpbmdDb250ZXh0KFwiL1wiKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRtb2RlbHM6IHtcblx0XHRcdFx0XHR2YWx1ZUxpc3Q6IHZhbHVlTGlzdE1vZGVsLFxuXHRcdFx0XHRcdGNvbnRleHRQYXRoOiB2YWx1ZUxpc3RTZXJ2aWNlTWV0YU1vZGVsLFxuXHRcdFx0XHRcdHNvdXJjZTogc291cmNlTW9kZWwsXG5cdFx0XHRcdFx0bWV0YU1vZGVsOiB2YWx1ZUxpc3RTZXJ2aWNlTWV0YU1vZGVsLFxuXHRcdFx0XHRcdHZpZXdEYXRhOiB2aWV3RGF0YVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblx0XHRWYWx1ZUxpc3RIZWxwZXIuX2xvZ1RlbXBsYXRlZEZyYWdtZW50cyhwcm9wZXJ0eVBhdGgsIGZyYWdtZW50TmFtZSwgZnJhZ21lbnREZWZpbml0aW9uKTtcblx0XHRyZXR1cm4gKGF3YWl0IEZyYWdtZW50LmxvYWQoeyBkZWZpbml0aW9uOiBmcmFnbWVudERlZmluaXRpb24gfSkpIGFzIFQ7XG5cdH0sXG5cblx0X2dldENvbnRlbnRJZDogZnVuY3Rpb24gKHZhbHVlSGVscElkOiBzdHJpbmcsIHZhbHVlSGVscFF1YWxpZmllcjogc3RyaW5nLCBpc1R5cGVhaGVhZDogYm9vbGVhbik6IHN0cmluZyB7XG5cdFx0Y29uc3QgY29udGVudFR5cGUgPSBpc1R5cGVhaGVhZCA/IFwiUG9wb3ZlclwiIDogXCJEaWFsb2dcIjtcblxuXHRcdHJldHVybiBgJHt2YWx1ZUhlbHBJZH06OiR7Y29udGVudFR5cGV9OjpxdWFsaWZpZXI6OiR7dmFsdWVIZWxwUXVhbGlmaWVyfWA7XG5cdH0sXG5cblx0X2FkZEluT3V0UGFyYW1ldGVyc1RvUGF5bG9hZDogZnVuY3Rpb24gKHBheWxvYWQ6IFZhbHVlSGVscFBheWxvYWQsIHZhbHVlTGlzdEluZm86IFZhbHVlTGlzdEluZm8pOiB2b2lkIHtcblx0XHRjb25zdCB2YWx1ZUhlbHBRdWFsaWZpZXIgPSB2YWx1ZUxpc3RJbmZvLnZhbHVlSGVscFF1YWxpZmllcjtcblxuXHRcdGlmICghcGF5bG9hZC5xdWFsaWZpZXJzKSB7XG5cdFx0XHRwYXlsb2FkLnF1YWxpZmllcnMgPSB7fTtcblx0XHR9XG5cblx0XHRpZiAoIXBheWxvYWQucXVhbGlmaWVyc1t2YWx1ZUhlbHBRdWFsaWZpZXJdKSB7XG5cdFx0XHRwYXlsb2FkLnF1YWxpZmllcnNbdmFsdWVIZWxwUXVhbGlmaWVyXSA9IHtcblx0XHRcdFx0dmhLZXlzOiB2YWx1ZUxpc3RJbmZvLnZoS2V5cyxcblx0XHRcdFx0dmhQYXJhbWV0ZXJzOiB2YWx1ZUxpc3RJbmZvLnZoUGFyYW1ldGVyc1xuXHRcdFx0fTtcblx0XHR9XG5cdH0sXG5cblx0X2dldFZhbHVlSGVscENvbHVtbkRpc3BsYXlGb3JtYXQ6IGZ1bmN0aW9uIChcblx0XHRwcm9wZXJ0eUFubm90YXRpb25zOiBBbm5vdGF0aW9uc0ZvclByb3BlcnR5LFxuXHRcdGlzVmFsdWVIZWxwV2l0aEZpeGVkVmFsdWVzOiBib29sZWFuXG5cdCk6IERpc3BsYXlGb3JtYXQge1xuXHRcdGNvbnN0IGRpc3BsYXlNb2RlID0gQ29tbW9uVXRpbHMuY29tcHV0ZURpc3BsYXlNb2RlKHByb3BlcnR5QW5ub3RhdGlvbnMsIHVuZGVmaW5lZCksXG5cdFx0XHR0ZXh0QW5ub3RhdGlvbiA9IHByb3BlcnR5QW5ub3RhdGlvbnMgJiYgcHJvcGVydHlBbm5vdGF0aW9uc1tBbm5vdGF0aW9uVGV4dF0sXG5cdFx0XHR0ZXh0QXJyYW5nZW1lbnRBbm5vdGF0aW9uID0gdGV4dEFubm90YXRpb24gJiYgcHJvcGVydHlBbm5vdGF0aW9uc1tBbm5vdGF0aW9uVGV4dFVJVGV4dEFycmFuZ2VtZW50XTtcblxuXHRcdGlmIChpc1ZhbHVlSGVscFdpdGhGaXhlZFZhbHVlcykge1xuXHRcdFx0cmV0dXJuIHRleHRBbm5vdGF0aW9uICYmIHR5cGVvZiB0ZXh0QW5ub3RhdGlvbiAhPT0gXCJzdHJpbmdcIiAmJiB0ZXh0QW5ub3RhdGlvbi4kUGF0aCA/IGRpc3BsYXlNb2RlIDogXCJWYWx1ZVwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBPbmx5IGV4cGxpY2l0IGRlZmluZWQgVGV4dEFycmFuZ2VtZW50cyBpbiBhIFZhbHVlIEhlbHAgd2l0aCBEaWFsb2cgYXJlIGNvbnNpZGVyZWRcblx0XHRcdHJldHVybiB0ZXh0QXJyYW5nZW1lbnRBbm5vdGF0aW9uID8gZGlzcGxheU1vZGUgOiBcIlZhbHVlXCI7XG5cdFx0fVxuXHR9LFxuXG5cdF9nZXRXaWR0aEluUmVtOiBmdW5jdGlvbiAoY29udHJvbDogQ29udHJvbCwgaXNVbml0VmFsdWVIZWxwOiBib29sZWFuKTogbnVtYmVyIHtcblx0XHRsZXQgd2lkdGggPSBjb250cm9sLiQoKS53aWR0aCgpOyAvLyBKUXVlcnlcblx0XHRpZiAoaXNVbml0VmFsdWVIZWxwICYmIHdpZHRoKSB7XG5cdFx0XHR3aWR0aCA9IDAuMyAqIHdpZHRoO1xuXHRcdH1cblx0XHRjb25zdCBmbG9hdFdpZHRoID0gd2lkdGggPyBwYXJzZUZsb2F0KFN0cmluZyhSZW0uZnJvbVB4KHdpZHRoKSkpIDogMDtcblxuXHRcdHJldHVybiBpc05hTihmbG9hdFdpZHRoKSA/IDAgOiBmbG9hdFdpZHRoO1xuXHR9LFxuXG5cdF9nZXRUYWJsZVdpZHRoOiBmdW5jdGlvbiAodGFibGU6IFRhYmxlLCBtaW5XaWR0aDogbnVtYmVyKTogc3RyaW5nIHtcblx0XHRsZXQgd2lkdGg6IHN0cmluZztcblx0XHRjb25zdCBjb2x1bW5zID0gdGFibGUuZ2V0Q29sdW1ucygpLFxuXHRcdFx0dmlzaWJsZUNvbHVtbnMgPVxuXHRcdFx0XHQoY29sdW1ucyAmJlxuXHRcdFx0XHRcdGNvbHVtbnMuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0XHRcdFx0XHRcdHJldHVybiBjb2x1bW4gJiYgY29sdW1uLmdldFZpc2libGUgJiYgY29sdW1uLmdldFZpc2libGUoKTtcblx0XHRcdFx0XHR9KSkgfHxcblx0XHRcdFx0W10sXG5cdFx0XHRzdW1XaWR0aCA9IHZpc2libGVDb2x1bW5zLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjb2x1bW4pIHtcblx0XHRcdFx0d2lkdGggPSBjb2x1bW4uZ2V0V2lkdGgoKTtcblx0XHRcdFx0aWYgKHdpZHRoICYmIHdpZHRoLmVuZHNXaXRoKFwicHhcIikpIHtcblx0XHRcdFx0XHR3aWR0aCA9IFN0cmluZyhSZW0uZnJvbVB4KHdpZHRoKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgZmxvYXRXaWR0aCA9IHBhcnNlRmxvYXQod2lkdGgpO1xuXG5cdFx0XHRcdHJldHVybiBzdW0gKyAoaXNOYU4oZmxvYXRXaWR0aCkgPyA5IDogZmxvYXRXaWR0aCk7XG5cdFx0XHR9LCB2aXNpYmxlQ29sdW1ucy5sZW5ndGgpO1xuXHRcdHJldHVybiBgJHtNYXRoLm1heChzdW1XaWR0aCwgbWluV2lkdGgpfWVtYDtcblx0fSxcblxuXHRfY3JlYXRlVmFsdWVIZWxwVHlwZWFoZWFkOiBhc3luYyBmdW5jdGlvbiAoXG5cdFx0cHJvcGVydHlQYXRoOiBzdHJpbmcsXG5cdFx0dmFsdWVIZWxwOiBWYWx1ZUhlbHAsXG5cdFx0Y29udGVudDogTVRhYmxlLFxuXHRcdHZhbHVlTGlzdEluZm86IFZhbHVlTGlzdEluZm8sXG5cdFx0cGF5bG9hZDogVmFsdWVIZWxwUGF5bG9hZFxuXHQpIHtcblx0XHRjb25zdCBjb250ZW50SWQgPSBjb250ZW50LmdldElkKCksXG5cdFx0XHRwcm9wZXJ0eUFubm90YXRpb25zID0gKHZhbHVlSGVscC5nZXRNb2RlbCgpIGFzIE9EYXRhTW9kZWwpXG5cdFx0XHRcdC5nZXRNZXRhTW9kZWwoKSFcblx0XHRcdFx0LmdldE9iamVjdChgJHtwcm9wZXJ0eVBhdGh9QGApIGFzIEFubm90YXRpb25zRm9yUHJvcGVydHksXG5cdFx0XHR2YWx1ZUhlbHBXaXRoRml4ZWRWYWx1ZXMgPSBwcm9wZXJ0eUFubm90YXRpb25zW0Fubm90YXRpb25WYWx1ZUxpc3RXaXRoRml4ZWRWYWx1ZXNdID8/IGZhbHNlLFxuXHRcdFx0aXNEaWFsb2dUYWJsZSA9IGZhbHNlLFxuXHRcdFx0Y29sdW1uSW5mbyA9IFZhbHVlTGlzdEhlbHBlci5nZXRDb2x1bW5WaXNpYmlsaXR5SW5mbyhcblx0XHRcdFx0dmFsdWVMaXN0SW5mby52YWx1ZUxpc3RJbmZvLFxuXHRcdFx0XHRwcm9wZXJ0eVBhdGgsXG5cdFx0XHRcdHZhbHVlSGVscFdpdGhGaXhlZFZhbHVlcyxcblx0XHRcdFx0aXNEaWFsb2dUYWJsZVxuXHRcdFx0KSxcblx0XHRcdHNvdXJjZU1vZGVsID0gbmV3IEpTT05Nb2RlbCh7XG5cdFx0XHRcdGlkOiBjb250ZW50SWQsXG5cdFx0XHRcdGdyb3VwSWQ6IHBheWxvYWQucmVxdWVzdEdyb3VwSWQgfHwgdW5kZWZpbmVkLFxuXHRcdFx0XHRiU3VnZ2VzdGlvbjogdHJ1ZSxcblx0XHRcdFx0cHJvcGVydHlQYXRoOiBwcm9wZXJ0eVBhdGgsXG5cdFx0XHRcdGNvbHVtbkluZm86IGNvbHVtbkluZm8sXG5cdFx0XHRcdHZhbHVlSGVscFdpdGhGaXhlZFZhbHVlczogdmFsdWVIZWxwV2l0aEZpeGVkVmFsdWVzXG5cdFx0XHR9KTtcblxuXHRcdGNvbnRlbnQuc2V0S2V5UGF0aCh2YWx1ZUxpc3RJbmZvLmtleVBhdGgpO1xuXHRcdGNvbnRlbnQuc2V0RGVzY3JpcHRpb25QYXRoKHZhbHVlTGlzdEluZm8uZGVzY3JpcHRpb25QYXRoKTtcblx0XHRwYXlsb2FkLmlzVmFsdWVMaXN0V2l0aEZpeGVkVmFsdWVzID0gdmFsdWVIZWxwV2l0aEZpeGVkVmFsdWVzO1xuXG5cdFx0Y29uc3QgY29sbGVjdGlvbkFubm90YXRpb25zID1cblx0XHRcdHZhbHVlTGlzdEluZm8udmFsdWVMaXN0SW5mby4kbW9kZWwuZ2V0TWV0YU1vZGVsKCkuZ2V0T2JqZWN0KGAvJHt2YWx1ZUxpc3RJbmZvLnZhbHVlTGlzdEluZm8uQ29sbGVjdGlvblBhdGh9QGApIHx8IHt9O1xuXG5cdFx0Y29udGVudC5zZXRGaWx0ZXJGaWVsZHMoVmFsdWVMaXN0SGVscGVyLmVudGl0eUlzU2VhcmNoYWJsZShwcm9wZXJ0eUFubm90YXRpb25zLCBjb2xsZWN0aW9uQW5ub3RhdGlvbnMpID8gXCIkc2VhcmNoXCIgOiBcIlwiKTtcblxuXHRcdGNvbnN0IHRhYmxlID0gYXdhaXQgVmFsdWVMaXN0SGVscGVyLl90ZW1wbGF0ZUZyYWdtZW50PFRhYmxlPihcblx0XHRcdFwic2FwLmZlLm1hY3Jvcy5pbnRlcm5hbC52YWx1ZWhlbHAuVmFsdWVMaXN0VGFibGVcIixcblx0XHRcdHZhbHVlTGlzdEluZm8sXG5cdFx0XHRzb3VyY2VNb2RlbCxcblx0XHRcdHByb3BlcnR5UGF0aFxuXHRcdCk7XG5cblx0XHR0YWJsZS5zZXRNb2RlbCh2YWx1ZUxpc3RJbmZvLnZhbHVlTGlzdEluZm8uJG1vZGVsKTtcblxuXHRcdExvZy5pbmZvKGBWYWx1ZSBMaXN0LSBzdWdnZXN0IFRhYmxlIFhNTCBjb250ZW50IGNyZWF0ZWQgWyR7cHJvcGVydHlQYXRofV1gLCB0YWJsZS5nZXRNZXRhZGF0YSgpLmdldE5hbWUoKSwgXCJNREMgVGVtcGxhdGluZ1wiKTtcblxuXHRcdGNvbnRlbnQuc2V0VGFibGUodGFibGUpO1xuXG5cdFx0Y29uc3QgZmllbGQgPSB2YWx1ZUhlbHAuZ2V0Q29udHJvbCgpO1xuXG5cdFx0aWYgKFxuXHRcdFx0ZmllbGQgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0KGZpZWxkLmlzQTxGaWx0ZXJGaWVsZD4oXCJzYXAudWkubWRjLkZpbHRlckZpZWxkXCIpIHx8XG5cdFx0XHRcdGZpZWxkLmlzQTxGaWVsZD4oXCJzYXAudWkubWRjLkZpZWxkXCIpIHx8XG5cdFx0XHRcdGZpZWxkLmlzQTxNdWx0aVZhbHVlRmllbGQ+KFwic2FwLnVpLm1kYy5NdWx0aVZhbHVlRmllbGRcIikpXG5cdFx0KSB7XG5cdFx0XHQvL0NhbiB0aGUgZmlsdGVyZmllbGQgYmUgc29tZXRoaW5nIGVsc2UgdGhhdCB3ZSBuZWVkIHRoZSAuaXNBKCkgY2hlY2s/XG5cdFx0XHRjb25zdCByZWR1Y2VXaWR0aEZvclVuaXRWYWx1ZUhlbHAgPSBCb29sZWFuKHBheWxvYWQuaXNVbml0VmFsdWVIZWxwKTtcblx0XHRcdGNvbnN0IHRhYmxlV2lkdGggPSBWYWx1ZUxpc3RIZWxwZXIuX2dldFRhYmxlV2lkdGgodGFibGUsIFZhbHVlTGlzdEhlbHBlci5fZ2V0V2lkdGhJblJlbShmaWVsZCwgcmVkdWNlV2lkdGhGb3JVbml0VmFsdWVIZWxwKSk7XG5cdFx0XHR0YWJsZS5zZXRXaWR0aCh0YWJsZVdpZHRoKTtcblxuXHRcdFx0aWYgKHZhbHVlSGVscFdpdGhGaXhlZFZhbHVlcykge1xuXHRcdFx0XHR0YWJsZS5zZXRNb2RlKChmaWVsZCBhcyBGaWVsZEJhc2UpLmdldE1heENvbmRpdGlvbnMoKSA9PT0gMSA/IFwiU2luZ2xlU2VsZWN0TWFzdGVyXCIgOiBcIk11bHRpU2VsZWN0XCIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGFibGUuc2V0TW9kZShcIlNpbmdsZVNlbGVjdE1hc3RlclwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2NyZWF0ZVZhbHVlSGVscERpYWxvZzogYXN5bmMgZnVuY3Rpb24gKFxuXHRcdHByb3BlcnR5UGF0aDogc3RyaW5nLFxuXHRcdHZhbHVlSGVscDogVmFsdWVIZWxwLFxuXHRcdGNvbnRlbnQ6IE1EQ1RhYmxlLFxuXHRcdHZhbHVlTGlzdEluZm86IFZhbHVlTGlzdEluZm8sXG5cdFx0cGF5bG9hZDogVmFsdWVIZWxwUGF5bG9hZFxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBwcm9wZXJ0eUFubm90YXRpb25zID0gKHZhbHVlSGVscC5nZXRNb2RlbCgpIGFzIE9EYXRhTW9kZWwpXG5cdFx0XHRcdC5nZXRNZXRhTW9kZWwoKSFcblx0XHRcdFx0LmdldE9iamVjdChgJHtwcm9wZXJ0eVBhdGh9QGApIGFzIEFubm90YXRpb25zRm9yUHJvcGVydHksXG5cdFx0XHRpc0Ryb3BEb3duTGlzdGUgPSBmYWxzZSxcblx0XHRcdGlzRGlhbG9nVGFibGUgPSB0cnVlLFxuXHRcdFx0Y29sdW1uSW5mbyA9IFZhbHVlTGlzdEhlbHBlci5nZXRDb2x1bW5WaXNpYmlsaXR5SW5mbyh2YWx1ZUxpc3RJbmZvLnZhbHVlTGlzdEluZm8sIHByb3BlcnR5UGF0aCwgaXNEcm9wRG93bkxpc3RlLCBpc0RpYWxvZ1RhYmxlKSxcblx0XHRcdHNvdXJjZU1vZGVsID0gbmV3IEpTT05Nb2RlbCh7XG5cdFx0XHRcdGlkOiBjb250ZW50LmdldElkKCksXG5cdFx0XHRcdGdyb3VwSWQ6IHBheWxvYWQucmVxdWVzdEdyb3VwSWQgfHwgdW5kZWZpbmVkLFxuXHRcdFx0XHRiU3VnZ2VzdGlvbjogZmFsc2UsXG5cdFx0XHRcdGNvbHVtbkluZm86IGNvbHVtbkluZm8sXG5cdFx0XHRcdHZhbHVlSGVscFdpdGhGaXhlZFZhbHVlczogaXNEcm9wRG93bkxpc3RlXG5cdFx0XHR9KTtcblxuXHRcdGNvbnRlbnQuc2V0S2V5UGF0aCh2YWx1ZUxpc3RJbmZvLmtleVBhdGgpO1xuXHRcdGNvbnRlbnQuc2V0RGVzY3JpcHRpb25QYXRoKHZhbHVlTGlzdEluZm8uZGVzY3JpcHRpb25QYXRoKTtcblxuXHRcdGNvbnN0IGNvbGxlY3Rpb25Bbm5vdGF0aW9ucyA9XG5cdFx0XHR2YWx1ZUxpc3RJbmZvLnZhbHVlTGlzdEluZm8uJG1vZGVsLmdldE1ldGFNb2RlbCgpLmdldE9iamVjdChgLyR7dmFsdWVMaXN0SW5mby52YWx1ZUxpc3RJbmZvLkNvbGxlY3Rpb25QYXRofUBgKSB8fCB7fTtcblxuXHRcdGNvbnRlbnQuc2V0RmlsdGVyRmllbGRzKFZhbHVlTGlzdEhlbHBlci5lbnRpdHlJc1NlYXJjaGFibGUocHJvcGVydHlBbm5vdGF0aW9ucywgY29sbGVjdGlvbkFubm90YXRpb25zKSA/IFwiJHNlYXJjaFwiIDogXCJcIik7XG5cblx0XHRjb25zdCB0YWJsZVByb21pc2UgPSBWYWx1ZUxpc3RIZWxwZXIuX3RlbXBsYXRlRnJhZ21lbnQ8TWRjSW5uZXJUYWJsZT4oXG5cdFx0XHRcInNhcC5mZS5tYWNyb3MuaW50ZXJuYWwudmFsdWVoZWxwLlZhbHVlTGlzdERpYWxvZ1RhYmxlXCIsXG5cdFx0XHR2YWx1ZUxpc3RJbmZvLFxuXHRcdFx0c291cmNlTW9kZWwsXG5cdFx0XHRwcm9wZXJ0eVBhdGhcblx0XHQpO1xuXG5cdFx0Y29uc3QgZmlsdGVyQmFyUHJvbWlzZSA9IFZhbHVlTGlzdEhlbHBlci5fdGVtcGxhdGVGcmFnbWVudDxNZGNGaWx0ZXJCYXI+KFxuXHRcdFx0XCJzYXAuZmUubWFjcm9zLmludGVybmFsLnZhbHVlaGVscC5WYWx1ZUxpc3RGaWx0ZXJCYXJcIixcblx0XHRcdHZhbHVlTGlzdEluZm8sXG5cdFx0XHRzb3VyY2VNb2RlbCxcblx0XHRcdHByb3BlcnR5UGF0aFxuXHRcdCk7XG5cblx0XHRjb25zdCBbdGFibGUsIGZpbHRlckJhcl0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGFibGVQcm9taXNlLCBmaWx0ZXJCYXJQcm9taXNlXSk7XG5cblx0XHR0YWJsZS5zZXRNb2RlbCh2YWx1ZUxpc3RJbmZvLnZhbHVlTGlzdEluZm8uJG1vZGVsKTtcblx0XHRmaWx0ZXJCYXIuc2V0TW9kZWwodmFsdWVMaXN0SW5mby52YWx1ZUxpc3RJbmZvLiRtb2RlbCk7XG5cblx0XHRjb250ZW50LnNldEZpbHRlckJhcihmaWx0ZXJCYXIpO1xuXHRcdGNvbnRlbnQuc2V0VGFibGUodGFibGUpO1xuXG5cdFx0dGFibGUuc2V0RmlsdGVyKGZpbHRlckJhci5nZXRJZCgpKTtcblx0XHR0YWJsZS5pbml0aWFsaXplZCgpO1xuXG5cdFx0Y29uc3QgZmllbGQgPSB2YWx1ZUhlbHAuZ2V0Q29udHJvbCgpO1xuXHRcdGlmIChmaWVsZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0YWJsZS5zZXRTZWxlY3Rpb25Nb2RlKChmaWVsZCBhcyBGaWVsZEJhc2UpLmdldE1heENvbmRpdGlvbnMoKSA9PT0gMSA/IFwiU2luZ2xlTWFzdGVyXCIgOiBcIk11bHRpXCIpO1xuXHRcdH1cblx0XHR0YWJsZS5zZXRXaWR0aChcIjEwMCVcIik7XG5cblx0XHQvL1RoaXMgaXMgYSB0ZW1wb3Jhcnkgd29ya2Fycm91bmQgLSBwcm92aWRlZCBieSBNREMgKHNlZSBGSU9SSVRFQ0hQMS0yNDAwMilcblx0XHRjb25zdCBtZGNUYWJsZSA9IHRhYmxlIGFzIGFueTtcblx0XHRtZGNUYWJsZS5fc2V0U2hvd1AxM25CdXR0b24oZmFsc2UpO1xuXHR9LFxuXG5cdF9nZXRDb250ZW50QnlJZDogZnVuY3Rpb24gPFQgZXh0ZW5kcyBNVGFibGUgfCBNRENUYWJsZT4oY29udGVudExpc3Q6IENvbnRlbnRbXSwgY29udGVudElkOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudExpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0cmV0dXJuIGl0ZW0uZ2V0SWQoKSA9PT0gY29udGVudElkO1xuXHRcdH0pIGFzIFQgfCB1bmRlZmluZWQ7XG5cdH0sXG5cblx0X2NyZWF0ZVBvcG92ZXJDb250ZW50OiBmdW5jdGlvbiAoY29udGVudElkOiBzdHJpbmcsIGNhc2VTZW5zaXRpdmU6IGJvb2xlYW4sIHVzZUFzVmFsdWVIZWxwOiBib29sZWFuKSB7XG5cdFx0cmV0dXJuIG5ldyBNVGFibGUoe1xuXHRcdFx0aWQ6IGNvbnRlbnRJZCxcblx0XHRcdGdyb3VwOiBcImdyb3VwMVwiLFxuXHRcdFx0Y2FzZVNlbnNpdGl2ZTogY2FzZVNlbnNpdGl2ZSxcblx0XHRcdHVzZUFzVmFsdWVIZWxwOiB1c2VBc1ZhbHVlSGVscFxuXHRcdH0gYXMgJE1UYWJsZVNldHRpbmdzKTtcblx0fSxcblxuXHRfY3JlYXRlRGlhbG9nQ29udGVudDogZnVuY3Rpb24gKGNvbnRlbnRJZDogc3RyaW5nLCBjYXNlU2Vuc2l0aXZlOiBib29sZWFuLCBmb3JjZUJpbmQ6IGJvb2xlYW4pIHtcblx0XHRyZXR1cm4gbmV3IE1EQ1RhYmxlKHtcblx0XHRcdGlkOiBjb250ZW50SWQsXG5cdFx0XHRncm91cDogXCJncm91cDFcIixcblx0XHRcdGNhc2VTZW5zaXRpdmU6IGNhc2VTZW5zaXRpdmUsXG5cdFx0XHRmb3JjZUJpbmQ6IGZvcmNlQmluZFxuXHRcdH0gYXMgJE1EQ1RhYmxlU2V0dGluZ3MpO1xuXHR9LFxuXG5cdF9zaG93Q29uZGl0aW9uc0NvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50TGlzdDogQ29udGVudFtdLCBjb250YWluZXI6IENvbnRhaW5lcikge1xuXHRcdGxldCBjb25kaXRpb25zQ29udGVudCA9XG5cdFx0XHRjb250ZW50TGlzdC5sZW5ndGggJiYgY29udGVudExpc3RbY29udGVudExpc3QubGVuZ3RoIC0gMV0uZ2V0TWV0YWRhdGEoKS5nZXROYW1lKCkgPT09IFwic2FwLnVpLm1kYy52YWx1ZWhlbHAuY29udGVudC5Db25kaXRpb25zXCJcblx0XHRcdFx0PyBjb250ZW50TGlzdFtjb250ZW50TGlzdC5sZW5ndGggLSAxXVxuXHRcdFx0XHQ6IHVuZGVmaW5lZDtcblxuXHRcdGlmIChjb25kaXRpb25zQ29udGVudCkge1xuXHRcdFx0Y29uZGl0aW9uc0NvbnRlbnQuc2V0VmlzaWJsZSh0cnVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uZGl0aW9uc0NvbnRlbnQgPSBuZXcgQ29uZGl0aW9ucygpO1xuXHRcdFx0Y29udGFpbmVyLmFkZENvbnRlbnQoY29uZGl0aW9uc0NvbnRlbnQpO1xuXHRcdH1cblx0fSxcblxuXHRfYWxpZ25PckNyZWF0ZUNvbnRlbnQ6IGZ1bmN0aW9uIChcblx0XHR2YWx1ZUxpc3RJbmZvOiBWYWx1ZUxpc3RJbmZvLFxuXHRcdGNvbnRlbnRJZDogc3RyaW5nLFxuXHRcdGNhc2VTZW5zaXRpdmU6IGJvb2xlYW4sXG5cdFx0c2hvd0NvbmRpdGlvblBhbmVsOiBib29sZWFuLFxuXHRcdGNvbnRhaW5lcjogQ29udGFpbmVyXG5cdCkge1xuXHRcdGNvbnN0IGNvbnRlbnRMaXN0ID0gY29udGFpbmVyLmdldENvbnRlbnQoKTtcblx0XHRsZXQgY29udGVudCA9IFZhbHVlTGlzdEhlbHBlci5fZ2V0Q29udGVudEJ5SWQ8TURDVGFibGU+KGNvbnRlbnRMaXN0LCBjb250ZW50SWQpO1xuXG5cdFx0aWYgKCFjb250ZW50KSB7XG5cdFx0XHRjb25zdCBmb3JjZUJpbmQgPSB2YWx1ZUxpc3RJbmZvLnZhbHVlTGlzdEluZm8uRmV0Y2hWYWx1ZXMgPT09IDIgPyBmYWxzZSA6IHRydWU7XG5cblx0XHRcdGNvbnRlbnQgPSBWYWx1ZUxpc3RIZWxwZXIuX2NyZWF0ZURpYWxvZ0NvbnRlbnQoY29udGVudElkLCBjYXNlU2Vuc2l0aXZlLCBmb3JjZUJpbmQpO1xuXG5cdFx0XHRpZiAoIXNob3dDb25kaXRpb25QYW5lbCkge1xuXHRcdFx0XHRjb250YWluZXIuYWRkQ29udGVudChjb250ZW50KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnRhaW5lci5pbnNlcnRDb250ZW50KGNvbnRlbnQsIGNvbnRlbnRMaXN0Lmxlbmd0aCAtIDEpOyAvLyBpbnNlcnQgY29udGVudCBiZWZvcmUgY29uZGl0aW9ucyBjb250ZW50XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnRlbnQuc2V0VmlzaWJsZSh0cnVlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29udGVudDtcblx0fSxcblxuXHRfcHJlcGFyZVZhbHVlSGVscFR5cGVBaGVhZDogZnVuY3Rpb24gKFxuXHRcdHZhbHVlSGVscDogVmFsdWVIZWxwLFxuXHRcdGNvbnRhaW5lcjogQ29udGFpbmVyLFxuXHRcdHZhbHVlTGlzdEluZm9zOiBWYWx1ZUxpc3RJbmZvW10sXG5cdFx0cGF5bG9hZDogVmFsdWVIZWxwUGF5bG9hZCxcblx0XHRjYXNlU2Vuc2l0aXZlOiBib29sZWFuLFxuXHRcdGZpcnN0VHlwZUFoZWFkQ29udGVudDogTVRhYmxlXG5cdCkge1xuXHRcdGNvbnN0IGNvbnRlbnRMaXN0ID0gY29udGFpbmVyLmdldENvbnRlbnQoKTtcblx0XHRsZXQgcXVhbGlmaWVyRm9yVHlwZWFoZWFkID0gdmFsdWVIZWxwLmRhdGEoXCJ2YWx1ZWxpc3RGb3JWYWxpZGF0aW9uXCIpIHx8IFwiXCI7IC8vIGNhbiBhbHNvIGJlIG51bGxcblx0XHRpZiAocXVhbGlmaWVyRm9yVHlwZWFoZWFkID09PSBcIiBcIikge1xuXHRcdFx0cXVhbGlmaWVyRm9yVHlwZWFoZWFkID0gXCJcIjtcblx0XHR9XG5cdFx0Y29uc3QgdmFsdWVMaXN0SW5mbyA9IHF1YWxpZmllckZvclR5cGVhaGVhZFxuXHRcdFx0PyB2YWx1ZUxpc3RJbmZvcy5maWx0ZXIoZnVuY3Rpb24gKHN1YlZhbHVlTGlzdEluZm8pIHtcblx0XHRcdFx0XHRyZXR1cm4gc3ViVmFsdWVMaXN0SW5mby52YWx1ZUhlbHBRdWFsaWZpZXIgPT09IHF1YWxpZmllckZvclR5cGVhaGVhZDtcblx0XHRcdCAgfSlbMF1cblx0XHRcdDogdmFsdWVMaXN0SW5mb3NbMF07XG5cblx0XHRWYWx1ZUxpc3RIZWxwZXIuX2FkZEluT3V0UGFyYW1ldGVyc1RvUGF5bG9hZChwYXlsb2FkLCB2YWx1ZUxpc3RJbmZvKTtcblxuXHRcdGNvbnN0IGNvbnRlbnRJZCA9IFZhbHVlTGlzdEhlbHBlci5fZ2V0Q29udGVudElkKHZhbHVlSGVscC5nZXRJZCgpLCB2YWx1ZUxpc3RJbmZvLnZhbHVlSGVscFF1YWxpZmllciwgdHJ1ZSk7XG5cdFx0bGV0IGNvbnRlbnQgPSBWYWx1ZUxpc3RIZWxwZXIuX2dldENvbnRlbnRCeUlkPE1UYWJsZT4oY29udGVudExpc3QsIGNvbnRlbnRJZCk7XG5cblx0XHRpZiAoIWNvbnRlbnQpIHtcblx0XHRcdGNvbnN0IHVzZUFzVmFsdWVIZWxwID0gZmlyc3RUeXBlQWhlYWRDb250ZW50LmdldFVzZUFzVmFsdWVIZWxwKCk7XG5cdFx0XHRjb250ZW50ID0gVmFsdWVMaXN0SGVscGVyLl9jcmVhdGVQb3BvdmVyQ29udGVudChjb250ZW50SWQsIGNhc2VTZW5zaXRpdmUsIHVzZUFzVmFsdWVIZWxwKTtcblxuXHRcdFx0Y29udGFpbmVyLmluc2VydENvbnRlbnQoY29udGVudCwgMCk7IC8vIGluc2VydCBjb250ZW50IGFzIGZpcnN0IGNvbnRlbnRcblx0XHR9IGVsc2UgaWYgKGNvbnRlbnRJZCAhPT0gY29udGVudExpc3RbMF0uZ2V0SWQoKSkge1xuXHRcdFx0Ly8gY29udGVudCBhbHJlYWR5IGF2YWlsYWJsZSBidXQgbm90IGFzIGZpcnN0IGNvbnRlbnQ/XG5cdFx0XHRjb250YWluZXIucmVtb3ZlQ29udGVudChjb250ZW50KTtcblx0XHRcdGNvbnRhaW5lci5pbnNlcnRDb250ZW50KGNvbnRlbnQsIDApOyAvLyBtb3ZlIGNvbnRlbnQgdG8gZmlyc3QgcG9zaXRpb25cblx0XHR9XG5cblx0XHRyZXR1cm4geyB2YWx1ZUxpc3RJbmZvLCBjb250ZW50IH07XG5cdH0sXG5cblx0X3ByZXBhcmVWYWx1ZUhlbHBEaWFsb2c6IGZ1bmN0aW9uIChcblx0XHR2YWx1ZUhlbHA6IFZhbHVlSGVscCxcblx0XHRjb250YWluZXI6IENvbnRhaW5lcixcblx0XHR2YWx1ZUxpc3RJbmZvczogVmFsdWVMaXN0SW5mb1tdLFxuXHRcdHBheWxvYWQ6IFZhbHVlSGVscFBheWxvYWQsXG5cdFx0c2VsZWN0ZWRDb250ZW50SWQ6IHN0cmluZyxcblx0XHRjYXNlU2Vuc2l0aXZlOiBib29sZWFuXG5cdCkge1xuXHRcdGNvbnN0IHNob3dDb25kaXRpb25QYW5lbCA9IHZhbHVlSGVscC5kYXRhKFwic2hvd0NvbmRpdGlvblBhbmVsXCIpICYmIHZhbHVlSGVscC5kYXRhKFwic2hvd0NvbmRpdGlvblBhbmVsXCIpICE9PSBcImZhbHNlXCI7XG5cdFx0Y29uc3QgY29udGVudExpc3QgPSBjb250YWluZXIuZ2V0Q29udGVudCgpO1xuXG5cdFx0Ly8gc2V0IGFsbCBjb250ZW50cyB0byBpbnZpc2libGVcblx0XHRmb3IgKGNvbnN0IGNvbnRlbnRMaXN0SXRlbSBvZiBjb250ZW50TGlzdCkge1xuXHRcdFx0Y29udGVudExpc3RJdGVtLnNldFZpc2libGUoZmFsc2UpO1xuXHRcdH1cblxuXHRcdGlmIChzaG93Q29uZGl0aW9uUGFuZWwpIHtcblx0XHRcdHRoaXMuX3Nob3dDb25kaXRpb25zQ29udGVudChjb250ZW50TGlzdCwgY29udGFpbmVyKTtcblx0XHR9XG5cblx0XHRsZXQgc2VsZWN0ZWRJbmZvOiBWYWx1ZUxpc3RJbmZvIHwgdW5kZWZpbmVkLCBzZWxlY3RlZENvbnRlbnQ6IE1EQ1RhYmxlIHwgdW5kZWZpbmVkO1xuXG5cdFx0Ly8gQ3JlYXRlIG9yIHJldXNlIGNvbnRlbnRzIGZvciB0aGUgY3VycmVudCBjb250ZXh0XG5cdFx0Zm9yIChjb25zdCB2YWx1ZUxpc3RJbmZvIG9mIHZhbHVlTGlzdEluZm9zKSB7XG5cdFx0XHRjb25zdCB2YWx1ZUhlbHBRdWFsaWZpZXIgPSB2YWx1ZUxpc3RJbmZvLnZhbHVlSGVscFF1YWxpZmllcjtcblxuXHRcdFx0VmFsdWVMaXN0SGVscGVyLl9hZGRJbk91dFBhcmFtZXRlcnNUb1BheWxvYWQocGF5bG9hZCwgdmFsdWVMaXN0SW5mbyk7XG5cblx0XHRcdGNvbnN0IGNvbnRlbnRJZCA9IFZhbHVlTGlzdEhlbHBlci5fZ2V0Q29udGVudElkKHZhbHVlSGVscC5nZXRJZCgpLCB2YWx1ZUhlbHBRdWFsaWZpZXIsIGZhbHNlKTtcblxuXHRcdFx0Y29uc3QgY29udGVudCA9IHRoaXMuX2FsaWduT3JDcmVhdGVDb250ZW50KHZhbHVlTGlzdEluZm8sIGNvbnRlbnRJZCwgY2FzZVNlbnNpdGl2ZSwgc2hvd0NvbmRpdGlvblBhbmVsLCBjb250YWluZXIpO1xuXG5cdFx0XHRpZiAodmFsdWVMaXN0SW5mby52YWx1ZUxpc3RJbmZvLkxhYmVsKSB7XG5cdFx0XHRcdGNvbnN0IHRpdGxlID0gQ29tbW9uVXRpbHMuZ2V0VHJhbnNsYXRlZFRleHRGcm9tRXhwQmluZGluZ1N0cmluZyh2YWx1ZUxpc3RJbmZvLnZhbHVlTGlzdEluZm8uTGFiZWwsIHZhbHVlSGVscC5nZXRDb250cm9sKCkpO1xuXHRcdFx0XHRjb250ZW50LnNldFRpdGxlKHRpdGxlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFzZWxlY3RlZENvbnRlbnQgfHwgKHNlbGVjdGVkQ29udGVudElkICYmIHNlbGVjdGVkQ29udGVudElkID09PSBjb250ZW50SWQpKSB7XG5cdFx0XHRcdHNlbGVjdGVkQ29udGVudCA9IGNvbnRlbnQ7XG5cdFx0XHRcdHNlbGVjdGVkSW5mbyA9IHZhbHVlTGlzdEluZm87XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCFzZWxlY3RlZEluZm8gfHwgIXNlbGVjdGVkQ29udGVudCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic2VsZWN0ZWRJbmZvIG9yIHNlbGVjdGVkQ29udGVudCB1bmRlZmluZWRcIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc2VsZWN0ZWRJbmZvLCBzZWxlY3RlZENvbnRlbnQgfTtcblx0fSxcblxuXHRfYWRkRGVzY3JpcHRpb25JbmZvc1RvUGF5bG9hZDogZnVuY3Rpb24gKHBheWxvYWQ6IFZhbHVlSGVscFBheWxvYWQsIHZhbHVlTGlzdEluZm86IFZhbHVlTGlzdEluZm8sIG1ldGFNb2RlbDogT0RhdGFNZXRhTW9kZWwpIHtcblx0XHRpZiAocGF5bG9hZC52YWx1ZUhlbHBEZXNjcmlwdGlvblBhdGggIT09IHZhbHVlTGlzdEluZm8uZGVzY3JpcHRpb25QYXRoKSB7XG5cdFx0XHRjb25zdCBjb252ZXJ0ZWRNZXRhZGF0YSA9IGNvbnZlcnRUeXBlcyhtZXRhTW9kZWwpO1xuXHRcdFx0Y29uc3QgcHJvcGVydHlEZXNjcmlwdGlvblBhdGggPSAoXG5cdFx0XHRcdGNvbnZlcnRlZE1ldGFkYXRhLnJlc29sdmVQYXRoPFByb3BlcnR5PihwYXlsb2FkLnByb3BlcnR5UGF0aCkudGFyZ2V0Py5hbm5vdGF0aW9ucz8uQ29tbW9uXG5cdFx0XHRcdFx0Py5UZXh0IGFzIHVua25vd24gYXMgUGF0aEFubm90YXRpb25FeHByZXNzaW9uPHN0cmluZz5cblx0XHRcdCk/LnBhdGg7XG5cblx0XHRcdC8qIEVucmljaCBwYXlsb2FkIHdpdGggVGV4dCBQcm9wZXJ0eSBJbmZvcyAqL1xuXHRcdFx0cGF5bG9hZC52YWx1ZUhlbHBEZXNjcmlwdGlvblBhdGggPSB2YWx1ZUxpc3RJbmZvLmRlc2NyaXB0aW9uUGF0aDtcblx0XHRcdHBheWxvYWQudmFsdWVIZWxwS2V5UGF0aCA9IHZhbHVlTGlzdEluZm8ua2V5UGF0aDtcblx0XHRcdGlmIChwcm9wZXJ0eURlc2NyaXB0aW9uUGF0aCkge1xuXHRcdFx0XHRwYXlsb2FkLm1heExlbmd0aCA9IHBheWxvYWQudmFsdWVIZWxwRGVzY3JpcHRpb25QYXRoXG5cdFx0XHRcdFx0PyBjb252ZXJ0ZWRNZXRhZGF0YS5yZXNvbHZlUGF0aDxQcm9wZXJ0eT4oXG5cdFx0XHRcdFx0XHRcdGAvJHt2YWx1ZUxpc3RJbmZvLnZhbHVlTGlzdEluZm8uQ29sbGVjdGlvblBhdGh9LyR7cGF5bG9hZC52YWx1ZUhlbHBEZXNjcmlwdGlvblBhdGh9YFxuXHRcdFx0XHRcdCAgKT8udGFyZ2V0Py5tYXhMZW5ndGhcblx0XHRcdFx0XHQ6IHVuZGVmaW5lZDtcblx0XHRcdFx0cGF5bG9hZC5wcm9wZXJ0eURlc2NyaXB0aW9uUGF0aCA9IHByb3BlcnR5RGVzY3JpcHRpb25QYXRoO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRzaG93VmFsdWVMaXN0OiBhc3luYyBmdW5jdGlvbiAocGF5bG9hZDogVmFsdWVIZWxwUGF5bG9hZCwgY29udGFpbmVyOiBDb250YWluZXIsIHNlbGVjdGVkQ29udGVudElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB2YWx1ZUhlbHAgPSBjb250YWluZXIuZ2V0UGFyZW50KCkgYXMgVmFsdWVIZWxwLFxuXHRcdFx0aXNUeXBlYWhlYWQgPSBjb250YWluZXIuaXNUeXBlYWhlYWQoKSxcblx0XHRcdHByb3BlcnR5UGF0aCA9IHBheWxvYWQucHJvcGVydHlQYXRoLFxuXHRcdFx0bWV0YU1vZGVsID0gKHZhbHVlSGVscC5nZXRNb2RlbCgpIGFzIE9EYXRhTW9kZWwpLmdldE1ldGFNb2RlbCgpLFxuXHRcdFx0dmhVSU1vZGVsID1cblx0XHRcdFx0dmFsdWVIZWxwLmdldE1vZGVsKFwiX1ZIVUlcIikgIT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gKHZhbHVlSGVscC5nZXRNb2RlbChcIl9WSFVJXCIpIGFzIEpTT05Nb2RlbClcblx0XHRcdFx0XHQ6IFZhbHVlTGlzdEhlbHBlci5jcmVhdGVWSFVJTW9kZWwodmFsdWVIZWxwLCBwcm9wZXJ0eVBhdGgsIG1ldGFNb2RlbCk7XG5cblx0XHR2aFVJTW9kZWwuc2V0UHJvcGVydHkoXCIvaXNTdWdnZXN0aW9uXCIsIGlzVHlwZWFoZWFkKTtcblx0XHR2aFVJTW9kZWwuc2V0UHJvcGVydHkoXCIvbWluU2NyZWVuV2lkdGhcIiwgIWlzVHlwZWFoZWFkID8gXCI0MThweFwiIDogdW5kZWZpbmVkKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCB2YWx1ZUxpc3RJbmZvcyA9IGF3YWl0IFZhbHVlTGlzdEhlbHBlci5nZXRWYWx1ZUxpc3RJbmZvKHZhbHVlSGVscCwgcHJvcGVydHlQYXRoLCBwYXlsb2FkKTtcblx0XHRcdGNvbnN0IGZpcnN0VHlwZUFoZWFkQ29udGVudCA9IHZhbHVlSGVscC5nZXRUeXBlYWhlYWQoKS5nZXRDb250ZW50KClbMF0gYXMgTVRhYmxlLFxuXHRcdFx0XHRjYXNlU2Vuc2l0aXZlID0gZmlyc3RUeXBlQWhlYWRDb250ZW50LmdldENhc2VTZW5zaXRpdmUoKTsgLy8gdGFrZSBjYXNlU2Vuc2l0aXZlIGZyb20gZmlyc3QgVHlwZWFoZWFkIGNvbnRlbnRcblxuXHRcdFx0aWYgKGlzVHlwZWFoZWFkKSB7XG5cdFx0XHRcdGNvbnN0IHsgdmFsdWVMaXN0SW5mbywgY29udGVudCB9ID0gVmFsdWVMaXN0SGVscGVyLl9wcmVwYXJlVmFsdWVIZWxwVHlwZUFoZWFkKFxuXHRcdFx0XHRcdHZhbHVlSGVscCxcblx0XHRcdFx0XHRjb250YWluZXIsXG5cdFx0XHRcdFx0dmFsdWVMaXN0SW5mb3MsXG5cdFx0XHRcdFx0cGF5bG9hZCxcblx0XHRcdFx0XHRjYXNlU2Vuc2l0aXZlLFxuXHRcdFx0XHRcdGZpcnN0VHlwZUFoZWFkQ29udGVudFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHBheWxvYWQudmFsdWVIZWxwUXVhbGlmaWVyID0gdmFsdWVMaXN0SW5mby52YWx1ZUhlbHBRdWFsaWZpZXI7XG5cdFx0XHRcdFZhbHVlTGlzdEhlbHBlci5fYWRkRGVzY3JpcHRpb25JbmZvc1RvUGF5bG9hZChwYXlsb2FkLCB2YWx1ZUxpc3RJbmZvLCBtZXRhTW9kZWwpO1xuXG5cdFx0XHRcdGlmIChjb250ZW50LmdldFRhYmxlKCkgPT09IHVuZGVmaW5lZCB8fCBjb250ZW50LmdldFRhYmxlKCkgPT09IG51bGwpIHtcblx0XHRcdFx0XHRhd2FpdCBWYWx1ZUxpc3RIZWxwZXIuX2NyZWF0ZVZhbHVlSGVscFR5cGVhaGVhZChwcm9wZXJ0eVBhdGgsIHZhbHVlSGVscCwgY29udGVudCwgdmFsdWVMaXN0SW5mbywgcGF5bG9hZCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHsgc2VsZWN0ZWRJbmZvLCBzZWxlY3RlZENvbnRlbnQgfSA9IFZhbHVlTGlzdEhlbHBlci5fcHJlcGFyZVZhbHVlSGVscERpYWxvZyhcblx0XHRcdFx0XHR2YWx1ZUhlbHAsXG5cdFx0XHRcdFx0Y29udGFpbmVyLFxuXHRcdFx0XHRcdHZhbHVlTGlzdEluZm9zLFxuXHRcdFx0XHRcdHBheWxvYWQsXG5cdFx0XHRcdFx0c2VsZWN0ZWRDb250ZW50SWQsXG5cdFx0XHRcdFx0Y2FzZVNlbnNpdGl2ZVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHBheWxvYWQudmFsdWVIZWxwUXVhbGlmaWVyID0gc2VsZWN0ZWRJbmZvLnZhbHVlSGVscFF1YWxpZmllcjtcblx0XHRcdFx0VmFsdWVMaXN0SGVscGVyLl9hZGREZXNjcmlwdGlvbkluZm9zVG9QYXlsb2FkKHBheWxvYWQsIHNlbGVjdGVkSW5mbywgbWV0YU1vZGVsKTtcblxuXHRcdFx0XHQvKiBGb3IgY29udGV4dCBkZXBlbnRlbnQgdmFsdWUgaGVscHMgdGhlIHZhbHVlIGxpc3QgbGFiZWwgaXMgdXNlZCBmb3IgdGhlIGRpYWxvZyB0aXRsZSAqL1xuXHRcdFx0XHRjb25zdCB0aXRsZSA9IENvbW1vblV0aWxzLmdldFRyYW5zbGF0ZWRUZXh0RnJvbUV4cEJpbmRpbmdTdHJpbmcoXG5cdFx0XHRcdFx0VmFsdWVMaXN0SGVscGVyLl9nZXREaWFsb2dUaXRsZSh2YWx1ZUhlbHAsIHNlbGVjdGVkSW5mby52YWx1ZUxpc3RJbmZvPy5MYWJlbCksXG5cdFx0XHRcdFx0dmFsdWVIZWxwLmdldENvbnRyb2woKVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjb250YWluZXIuc2V0VGl0bGUodGl0bGUpO1xuXG5cdFx0XHRcdGlmIChzZWxlY3RlZENvbnRlbnQuZ2V0VGFibGUoKSA9PT0gdW5kZWZpbmVkIHx8IHNlbGVjdGVkQ29udGVudC5nZXRUYWJsZSgpID09PSBudWxsKSB7XG5cdFx0XHRcdFx0YXdhaXQgVmFsdWVMaXN0SGVscGVyLl9jcmVhdGVWYWx1ZUhlbHBEaWFsb2cocHJvcGVydHlQYXRoLCB2YWx1ZUhlbHAsIHNlbGVjdGVkQ29udGVudCwgc2VsZWN0ZWRJbmZvLCBwYXlsb2FkKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5fbG9nRXJyb3IocHJvcGVydHlQYXRoLCBlcnIpO1xuXHRcdFx0VmFsdWVMaXN0SGVscGVyLmRlc3Ryb3lWSENvbnRlbnQodmFsdWVIZWxwKTtcblx0XHR9XG5cdH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFZhbHVlTGlzdEhlbHBlcjtcbiJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0VBd0VBLE1BQU1BLHVCQUF1QixHQUFHLENBQUNDLFVBQXVCLEVBQUVDLEtBQWEsS0FBYyxDQUFDRCxVQUFVLENBQUNFLElBQUksQ0FBRUMsTUFBTSxJQUFLQSxNQUFNLENBQUNDLElBQUksS0FBS0gsS0FBSyxDQUFDO0VBRWpJLE1BQU1JLGVBQWUsR0FBRyx1Q0FBdUM7SUFDckVDLGNBQWMsR0FBRyxzQ0FBc0M7SUFDdkRDLCtCQUErQixHQUFHLGlGQUFpRjtJQUNuSEMsOEJBQThCLEdBQUcscURBQXFEO0lBQ3RGQyxv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