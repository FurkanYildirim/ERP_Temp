/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/util/JSTokenizer", "sap/fe/core/CommonUtils", "sap/fe/core/controls/filterbar/utils/VisualFilterUtils", "sap/fe/core/converters/MetaModelConverter", "sap/fe/core/helpers/StableIdHelper", "sap/fe/core/helpers/TypeGuards", "sap/fe/core/templating/CriticalityFormatters", "sap/fe/core/templating/FilterHelper", "sap/fe/core/type/TypeUtil", "sap/fe/macros/CommonHelper", "sap/fe/macros/filter/FilterFieldHelper", "sap/m/library", "sap/ui/core/Core", "sap/ui/core/format/NumberFormat", "sap/ui/mdc/condition/ConditionConverter", "sap/ui/model/odata/v4/ODataUtils", "../field/FieldTemplating"], function (JSTokenizer, CommonUtils, VisualFilterUtils, MetaModelConverter, StableIdHelper, TypeGuards, CriticalityFormatters, FilterHelper, TypeUtil, CommonHelper, FilterFieldHelper, mLibrary, Core, NumberFormat, ConditionConverter, ODataUtils, FieldTemplating) {
  "use strict";

  var getTextBinding = FieldTemplating.getTextBinding;
  var formatOptions = FilterFieldHelper.formatOptions;
  var constraints = FilterFieldHelper.constraints;
  var getFiltersConditionsFromSelectionVariant = FilterHelper.getFiltersConditionsFromSelectionVariant;
  var buildExpressionForCriticalityColorMicroChart = CriticalityFormatters.buildExpressionForCriticalityColorMicroChart;
  var isNavigationProperty = TypeGuards.isNavigationProperty;
  var isEntitySet = TypeGuards.isEntitySet;
  var generate = StableIdHelper.generate;
  var getInvolvedDataModelObjects = MetaModelConverter.getInvolvedDataModelObjects;
  const InteractiveChartHelper = {
    getChartDisplayedValue: function (value, valueFormat, metaPath) {
      const infoPath = generate([metaPath]);
      return "{parts:[{path:'" + value + "',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}" + (valueFormat && valueFormat.ScaleFactor ? ",{value:'" + valueFormat.ScaleFactor.valueOf() + "'}" : ",{path:'internal>scalefactorNumber/" + infoPath + "'}") + (valueFormat && valueFormat.NumberOfFractionalDigits ? ",{value:'" + valueFormat.NumberOfFractionalDigits + "'}" : ",{value:'0'}") + ",{path:'internal>currency/" + infoPath + "'}" + ",{path:'" + value + "',type:'sap.ui.model.odata.type.String', constraints:{'nullable':false}}" + "], formatter:'VisualFilterRuntime.scaleVisualFilterValue'}"; //+ sType.split('#').length ? sType.split('#')[1] : 'Decimal' + "}";
    },

    getChartValue: function (value) {
      return "{path:'" + value + "',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}";
    },
    _getCollectionName: function (collection, contextPath, parameters) {
      const collectionObject = collection.targetObject;
      if (isNavigationProperty(collectionObject)) {
        return parameters ? contextPath.getPath() : collectionObject.name;
      } else if (isEntitySet(collectionObject)) {
        return "/" + collectionObject.name;
      } else {
        return collectionObject.name;
      }
    },
    _getBindingPathForParameters: function (filterConditions, metaModel, collectionName, parameters, entitySetPath) {
      const params = [];
      const convertedFilterConditions = VisualFilterUtils.convertFilterCondions(filterConditions);
      const parameterProperties = CommonUtils.getParameterInfo(metaModel, collectionName).parameterProperties;
      if (parameterProperties) {
        for (const i in parameters) {
          const parameter = parameters[i];
          const property = parameterProperties[parameter];
          const entityPath = entitySetPath.split("/")[1];
          const propertyContext = metaModel.createBindingContext(`/${entityPath}/${parameter}`);
          const typeConfig = TypeUtil.getTypeConfig(property.$Type, JSTokenizer.parseJS(formatOptions(property, {
            context: propertyContext
          }) || "{}"), JSTokenizer.parseJS(constraints(property, {
            context: propertyContext
          }) || "{}"));
          const condition = convertedFilterConditions[parameter];
          const conditionInternal = condition ? condition[0] : undefined;
          if (conditionInternal) {
            const internalParameterCondition = ConditionConverter.toType(conditionInternal, typeConfig, TypeUtil);
            const edmType = property.$Type;
            let value = encodeURIComponent(ODataUtils.formatLiteral(internalParameterCondition.values[0], edmType));
            value = value.replaceAll("'", "\\'");
            params.push(`${parameter}=${value}`);
          }
        }
      }
      const parameterEntitySet = collectionName.slice(0, collectionName.lastIndexOf("/"));
      const targetNavigation = collectionName.substring(collectionName.lastIndexOf("/") + 1);
      // create parameter context
      return `${parameterEntitySet}(${params.toString()})/${targetNavigation}`;
    },
    _getUOMAggregationExpression: function (customAggregate, UoMHasCustomAggregate, UOM, aggregation) {
      let aggregationExpression, UOMExpression;
      const path = UOM && typeof UOM != "string" && UOM.path;
      if (customAggregate) {
        //custom aggregate for a currency or unit of measure corresponding to this aggregatable property
        if (UoMHasCustomAggregate) {
          aggregationExpression = path ? `{ 'unit' : '${path}' }` : "{}";
          UOMExpression = "";
        } else {
          aggregationExpression = "{}";
          UOMExpression = path ? `, '${path}' : {}` : "";
        }
      } else if (aggregation && aggregation.AggregatableProperty && aggregation.AggregatableProperty.value && aggregation.AggregationMethod) {
        aggregationExpression = "{ 'name' : '" + aggregation.AggregatableProperty.value + "', 'with' : '" + aggregation.AggregationMethod + "'}";
        UOMExpression = path ? ", '" + path + "' : {}" : "";
      }
      return {
        aggregationExpression: aggregationExpression,
        UOMExpression: UOMExpression
      };
    },
    getAggregationBinding: function (chartAnnotations, collection, contextPath, textAssociation, dimensionType, sortOrder, selectionVariant, customAggregate, aggregation, UoMHasCustomAggregate, parameters, filterBarContext, draftSupported, chartMeasure) {
      const selectionVariantAnnotation = selectionVariant === null || selectionVariant === void 0 ? void 0 : selectionVariant.targetObject;
      const entityType = filterBarContext ? filterBarContext.getPath() : "";
      const entitySetPath = contextPath.getPath();
      const dimension = chartAnnotations.Dimensions[0].value;
      const filters = [];
      let filterConditions;
      let collectionName = this._getCollectionName(collection, contextPath, parameters);
      const UOM = InteractiveChartHelper.getUoM(chartAnnotations, collection, undefined, customAggregate, aggregation);
      const metaModel = contextPath.getModel();
      if (draftSupported) {
        filters.push({
          operator: "EQ",
          value1: "true",
          value2: null,
          path: "IsActiveEntity",
          isParameter: true
        });
      }
      if (selectionVariantAnnotation) {
        filterConditions = getFiltersConditionsFromSelectionVariant(entitySetPath, metaModel, selectionVariantAnnotation, VisualFilterUtils.getCustomConditions.bind(VisualFilterUtils));
        for (const path in filterConditions) {
          const conditions = filterConditions[path];
          conditions.forEach(function (condition) {
            if (!condition.isParameter) {
              filters.push(condition);
            }
          });
        }
      }
      if (entityType !== `${collectionName}/` && parameters && parameters.length && filterConditions) {
        const bindingPath = this._getBindingPathForParameters(filterConditions, metaModel, collectionName, parameters, entitySetPath);
        collectionName = bindingPath;
      }
      const UOMAggregationExpression = this._getUOMAggregationExpression(customAggregate, UoMHasCustomAggregate, UOM, aggregation);
      const aggregationExpression = UOMAggregationExpression.aggregationExpression;
      const UOMExpression = UOMAggregationExpression.UOMExpression;
      const textAssociationExpression = textAssociation ? "' : { 'additionally' : ['" + textAssociation.path + "'] }" : "' : { }";
      const filterExpression = JSON.stringify(filters);
      return "{path: '" + collectionName + "', templateShareable: true, suspended : true, 'filters' : " + filterExpression + ",'parameters' : {" + InteractiveChartHelper.getSortOrder(chartAnnotations, dimensionType, sortOrder, chartMeasure) + ", '$$aggregation' : {'aggregate' : {'" + chartMeasure + "' : " + aggregationExpression + "},'group' : {'" + dimension + textAssociationExpression + UOMExpression + "} } }" + InteractiveChartHelper.getMaxItems(chartAnnotations) + "}";
    },
    _getOrderExpressionFromMeasure: function (sortOrder, chartMeasure) {
      let sortPropertyName;
      if (sortOrder && sortOrder.length) {
        if (sortOrder[0].DynamicProperty) {
          var _sortOrder$0$DynamicP;
          sortPropertyName = (_sortOrder$0$DynamicP = sortOrder[0].DynamicProperty.$target) === null || _sortOrder$0$DynamicP === void 0 ? void 0 : _sortOrder$0$DynamicP.Name;
        } else {
          var _sortOrder$0$Property;
          sortPropertyName = (_sortOrder$0$Property = sortOrder[0].Property) === null || _sortOrder$0$Property === void 0 ? void 0 : _sortOrder$0$Property.value;
        }
        if (sortPropertyName === chartMeasure) {
          return "'$orderby' : '" + chartMeasure + (sortOrder[0].Descending ? " desc'" : "'");
        }
        return "'$orderby' : '" + chartMeasure + " desc'";
      }
      return "'$orderby' : '" + chartMeasure + " desc'";
    },
    getSortOrder: function (chartAnnotations, dimensionType, sortOrder, chartMeasure) {
      var _sortOrder$0$Property2, _sortOrder$0$Property3;
      if (chartAnnotations.ChartType === "UI.ChartType/Donut" || chartAnnotations.ChartType === "UI.ChartType/Bar") {
        return this._getOrderExpressionFromMeasure(sortOrder, chartMeasure);
      } else if (dimensionType === "Edm.Date" || dimensionType === "Edm.Time" || dimensionType === "Edm.DateTimeOffset") {
        return "'$orderby' : '" + chartAnnotations.Dimensions[0].value + "'";
      } else if (sortOrder && sortOrder.length && ((_sortOrder$0$Property2 = sortOrder[0].Property) === null || _sortOrder$0$Property2 === void 0 ? void 0 : (_sortOrder$0$Property3 = _sortOrder$0$Property2.$target) === null || _sortOrder$0$Property3 === void 0 ? void 0 : _sortOrder$0$Property3.path) === chartAnnotations.Dimensions[0].value) {
        var _sortOrder$0$Property4, _sortOrder$0$Property5;
        return "'$orderby' : '" + ((_sortOrder$0$Property4 = sortOrder[0].Property) === null || _sortOrder$0$Property4 === void 0 ? void 0 : (_sortOrder$0$Property5 = _sortOrder$0$Property4.$target) === null || _sortOrder$0$Property5 === void 0 ? void 0 : _sortOrder$0$Property5.name) + (sortOrder[0].Descending ? " desc'" : "'");
      } else {
        var _chartAnnotations$Dim;
        return "'$orderby' : '" + ((_chartAnnotations$Dim = chartAnnotations.Dimensions[0].$target) === null || _chartAnnotations$Dim === void 0 ? void 0 : _chartAnnotations$Dim.name) + "'";
      }
    },
    getMaxItems: function (chartAnnotations) {
      if (chartAnnotations.ChartType === "UI.ChartType/Bar") {
        return ",'startIndex' : 0,'length' : 3";
      } else if (chartAnnotations.ChartType === "UI.ChartType/Line") {
        return ",'startIndex' : 0,'length' : 6";
      } else {
        return "";
      }
    },
    getColorBinding: function (dataPoint, dimension) {
      var _dimension$$target, _dimension$$target$an, _dimension$$target$an2;
      const valueCriticality = dimension === null || dimension === void 0 ? void 0 : (_dimension$$target = dimension.$target) === null || _dimension$$target === void 0 ? void 0 : (_dimension$$target$an = _dimension$$target.annotations) === null || _dimension$$target$an === void 0 ? void 0 : (_dimension$$target$an2 = _dimension$$target$an.UI) === null || _dimension$$target$an2 === void 0 ? void 0 : _dimension$$target$an2.ValueCriticality;
      if (dataPoint !== null && dataPoint !== void 0 && dataPoint.Criticality) {
        return buildExpressionForCriticalityColorMicroChart(dataPoint);
      } else if (dataPoint !== null && dataPoint !== void 0 && dataPoint.CriticalityCalculation) {
        const oDirection = dataPoint.CriticalityCalculation.ImprovementDirection;
        const oDataPointValue = dataPoint.Value;
        const oDeviationRangeLowValue = dataPoint.CriticalityCalculation.DeviationRangeLowValue.valueOf();
        const oToleranceRangeLowValue = dataPoint.CriticalityCalculation.ToleranceRangeLowValue.valueOf();
        const oAcceptanceRangeLowValue = dataPoint.CriticalityCalculation.AcceptanceRangeLowValue.valueOf();
        const oAcceptanceRangeHighValue = dataPoint.CriticalityCalculation.AcceptanceRangeHighValue.valueOf();
        const oToleranceRangeHighValue = dataPoint.CriticalityCalculation.ToleranceRangeHighValue.valueOf();
        const oDeviationRangeHighValue = dataPoint.CriticalityCalculation.DeviationRangeHighValue.valueOf();
        return CommonHelper.getCriticalityCalculationBinding(oDirection, oDataPointValue, oDeviationRangeLowValue, oToleranceRangeLowValue, oAcceptanceRangeLowValue, oAcceptanceRangeHighValue, oToleranceRangeHighValue, oDeviationRangeHighValue);
      } else if (valueCriticality && valueCriticality.length) {
        return InteractiveChartHelper.getValueCriticality(dimension.value, valueCriticality);
      } else {
        return undefined;
      }
    },
    getValueCriticality: function (dimension, valueCriticality) {
      let result;
      const values = [];
      if (valueCriticality && valueCriticality.length > 0) {
        valueCriticality.forEach(function (valueCriticalityType) {
          if (valueCriticalityType.Value && valueCriticalityType.Criticality) {
            const value = "${" + dimension + "} === '" + valueCriticalityType.Value + "' ? '" + InteractiveChartHelper._getCriticalityFromEnum(valueCriticalityType.Criticality) + "'";
            values.push(value);
          }
        });
        result = values.length > 0 && values.join(" : ") + " : undefined";
      }
      return result ? "{= " + result + " }" : undefined;
    },
    /**
     * This function returns the criticality indicator from annotations if criticality is EnumMember.
     *
     * @param criticality Criticality provided in the annotations
     * @returns Return the indicator for criticality
     * @private
     */
    _getCriticalityFromEnum: function (criticality) {
      const valueColor = mLibrary.ValueColor;
      let indicator;
      if (criticality === "UI.CriticalityType/Negative") {
        indicator = valueColor.Error;
      } else if (criticality === "UI.CriticalityType/Positive") {
        indicator = valueColor.Good;
      } else if (criticality === "UI.CriticalityType/Critical") {
        indicator = valueColor.Critical;
      } else {
        indicator = valueColor.Neutral;
      }
      return indicator;
    },
    getScaleUoMTitle: function (chartAnnotation, collection, metaPath, customAggregate, aggregation, seperator, toolTip) {
      var _chartAnnotation$Meas, _chartAnnotation$Meas2, _chartAnnotation$Meas3, _chartAnnotation$Meas4, _chartAnnotation$Meas5;
      const scaleFactor = chartAnnotation !== null && chartAnnotation !== void 0 && chartAnnotation.MeasureAttributes ? (_chartAnnotation$Meas = chartAnnotation.MeasureAttributes[0]) === null || _chartAnnotation$Meas === void 0 ? void 0 : (_chartAnnotation$Meas2 = _chartAnnotation$Meas.DataPoint) === null || _chartAnnotation$Meas2 === void 0 ? void 0 : (_chartAnnotation$Meas3 = _chartAnnotation$Meas2.$target) === null || _chartAnnotation$Meas3 === void 0 ? void 0 : (_chartAnnotation$Meas4 = _chartAnnotation$Meas3.ValueFormat) === null || _chartAnnotation$Meas4 === void 0 ? void 0 : (_chartAnnotation$Meas5 = _chartAnnotation$Meas4.ScaleFactor) === null || _chartAnnotation$Meas5 === void 0 ? void 0 : _chartAnnotation$Meas5.valueOf() : undefined;
      const infoPath = generate([metaPath]);
      const fixedInteger = NumberFormat.getIntegerInstance({
        style: "short",
        showScale: false,
        shortRefNumber: scaleFactor
      });
      let scale = fixedInteger.getScale();
      let UOM = InteractiveChartHelper.getUoM(chartAnnotation, collection, undefined, customAggregate, aggregation);
      UOM = UOM && (UOM.path ? "${internal>uom/" + infoPath + "}" : "'" + UOM + "'");
      scale = scale ? "'" + scale + "'" : "${internal>scalefactor/" + infoPath + "}";
      if (!seperator) {
        seperator = "|";
      }
      seperator = "' " + seperator + " ' + ";
      const expression = scale && UOM ? seperator + scale + " + ' ' + " + UOM : seperator + (scale || UOM);
      return toolTip ? expression : "{= " + expression + "}";
    },
    getMeasureDimensionTitle: function (chartAnnotation, customAggregate, aggregation) {
      var _chartAnnotation$Dime, _chartAnnotation$Dime2, _chartAnnotation$Dime3, _chartAnnotation$Dime4, _chartAnnotation$Dime5;
      let measureLabel;
      let measurePath;
      if (customAggregate) {
        var _chartAnnotation$Meas6, _chartAnnotation$Meas7;
        measurePath = chartAnnotation === null || chartAnnotation === void 0 ? void 0 : (_chartAnnotation$Meas6 = chartAnnotation.Measures[0]) === null || _chartAnnotation$Meas6 === void 0 ? void 0 : (_chartAnnotation$Meas7 = _chartAnnotation$Meas6.$target) === null || _chartAnnotation$Meas7 === void 0 ? void 0 : _chartAnnotation$Meas7.name;
      }
      if (chartAnnotation !== null && chartAnnotation !== void 0 && chartAnnotation.DynamicMeasures && chartAnnotation.DynamicMeasures.length > 0) {
        var _chartAnnotation$Dyna, _chartAnnotation$Dyna2, _chartAnnotation$Dyna3;
        measurePath = (_chartAnnotation$Dyna = chartAnnotation.DynamicMeasures[0]) === null || _chartAnnotation$Dyna === void 0 ? void 0 : (_chartAnnotation$Dyna2 = _chartAnnotation$Dyna.$target) === null || _chartAnnotation$Dyna2 === void 0 ? void 0 : (_chartAnnotation$Dyna3 = _chartAnnotation$Dyna2.AggregatableProperty) === null || _chartAnnotation$Dyna3 === void 0 ? void 0 : _chartAnnotation$Dyna3.value;
      } else if (!customAggregate && chartAnnotation !== null && chartAnnotation !== void 0 && chartAnnotation.Measures && (chartAnnotation === null || chartAnnotation === void 0 ? void 0 : chartAnnotation.Measures.length) > 0) {
        var _chartAnnotation$Meas8, _chartAnnotation$Meas9;
        measurePath = (_chartAnnotation$Meas8 = chartAnnotation.Measures[0]) === null || _chartAnnotation$Meas8 === void 0 ? void 0 : (_chartAnnotation$Meas9 = _chartAnnotation$Meas8.$target) === null || _chartAnnotation$Meas9 === void 0 ? void 0 : _chartAnnotation$Meas9.name;
      }
      const dimensionPath = chartAnnotation === null || chartAnnotation === void 0 ? void 0 : (_chartAnnotation$Dime = chartAnnotation.Dimensions[0]) === null || _chartAnnotation$Dime === void 0 ? void 0 : _chartAnnotation$Dime.value;
      let dimensionLabel = chartAnnotation === null || chartAnnotation === void 0 ? void 0 : (_chartAnnotation$Dime2 = chartAnnotation.Dimensions[0]) === null || _chartAnnotation$Dime2 === void 0 ? void 0 : (_chartAnnotation$Dime3 = _chartAnnotation$Dime2.$target) === null || _chartAnnotation$Dime3 === void 0 ? void 0 : (_chartAnnotation$Dime4 = _chartAnnotation$Dime3.annotations) === null || _chartAnnotation$Dime4 === void 0 ? void 0 : (_chartAnnotation$Dime5 = _chartAnnotation$Dime4.Common) === null || _chartAnnotation$Dime5 === void 0 ? void 0 : _chartAnnotation$Dime5.Label;
      if (!customAggregate && aggregation) {
        // check if the label is part of aggregated properties (Transformation aggregates)
        measureLabel = aggregation.annotations && aggregation.annotations.Common && aggregation.annotations.Common.Label;
        if (measureLabel === undefined) {
          var _chartAnnotation$Meas10, _chartAnnotation$Meas11, _chartAnnotation$Meas12, _chartAnnotation$Meas13;
          measureLabel = chartAnnotation === null || chartAnnotation === void 0 ? void 0 : (_chartAnnotation$Meas10 = chartAnnotation.Measures[0]) === null || _chartAnnotation$Meas10 === void 0 ? void 0 : (_chartAnnotation$Meas11 = _chartAnnotation$Meas10.$target) === null || _chartAnnotation$Meas11 === void 0 ? void 0 : (_chartAnnotation$Meas12 = _chartAnnotation$Meas11.annotations) === null || _chartAnnotation$Meas12 === void 0 ? void 0 : (_chartAnnotation$Meas13 = _chartAnnotation$Meas12.Common) === null || _chartAnnotation$Meas13 === void 0 ? void 0 : _chartAnnotation$Meas13.Label;
        }
      } else {
        var _chartAnnotation$Meas14, _chartAnnotation$Meas15, _chartAnnotation$Meas16, _chartAnnotation$Meas17;
        measureLabel = chartAnnotation === null || chartAnnotation === void 0 ? void 0 : (_chartAnnotation$Meas14 = chartAnnotation.Measures[0]) === null || _chartAnnotation$Meas14 === void 0 ? void 0 : (_chartAnnotation$Meas15 = _chartAnnotation$Meas14.$target) === null || _chartAnnotation$Meas15 === void 0 ? void 0 : (_chartAnnotation$Meas16 = _chartAnnotation$Meas15.annotations) === null || _chartAnnotation$Meas16 === void 0 ? void 0 : (_chartAnnotation$Meas17 = _chartAnnotation$Meas16.Common) === null || _chartAnnotation$Meas17 === void 0 ? void 0 : _chartAnnotation$Meas17.Label;
      }
      if (measureLabel === undefined) {
        measureLabel = measurePath;
      }
      if (dimensionLabel === undefined) {
        dimensionLabel = dimensionPath;
      }
      return Core.getLibraryResourceBundle("sap.fe.macros").getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_MEASURE_DIMENSION_TITLE", [measureLabel, dimensionLabel]);
    },
    getToolTip: function (chartAnnotation, collection, metaPath, customAggregate, aggregation, renderLineChart) {
      const chartType = chartAnnotation && chartAnnotation["ChartType"];
      let measureDimensionToolTip = InteractiveChartHelper.getMeasureDimensionTitle(chartAnnotation, customAggregate, aggregation);
      measureDimensionToolTip = CommonHelper.escapeSingleQuotes(measureDimensionToolTip);
      if (renderLineChart === "false" && chartType === "UI.ChartType/Line") {
        return `{= '${measureDimensionToolTip}'}`;
      }
      const seperator = Core.getLibraryResourceBundle("sap.fe.macros").getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_TOOLTIP_SEPERATOR");
      const infoPath = generate([metaPath]);
      const scaleUOMTooltip = InteractiveChartHelper.getScaleUoMTitle(chartAnnotation, collection, infoPath, customAggregate, aggregation, seperator, true);
      return "{= '" + measureDimensionToolTip + (scaleUOMTooltip ? "' + " + scaleUOMTooltip : "'") + "}";
    },
    _getUOM: function (UOMObjectPath, UOM, collection, customData, aggregatablePropertyPath) {
      const UOMObject = {};
      const collectionObject = collection === null || collection === void 0 ? void 0 : collection.targetObject;
      if (UOMObjectPath && UOM) {
        // check if the UOM is part of Measure annotations(Custom aggregates)
        UOMObject[UOM] = {
          $Path: UOMObjectPath.path
        };
        return customData && UOMObjectPath.path ? JSON.stringify(UOMObject) : UOMObjectPath;
      } else if (aggregatablePropertyPath) {
        var _collectionObject$tar, _propertyAnnotations$;
        // check if the UOM is part of base property annotations(Transformation aggregates)
        const entityProperties = collectionObject.entityType ? collectionObject.entityType.entityProperties : (_collectionObject$tar = collectionObject.targetType) === null || _collectionObject$tar === void 0 ? void 0 : _collectionObject$tar.entityProperties;
        const propertyAnnotations = entityProperties === null || entityProperties === void 0 ? void 0 : entityProperties.find(property => property.name == aggregatablePropertyPath);
        if (propertyAnnotations !== null && propertyAnnotations !== void 0 && (_propertyAnnotations$ = propertyAnnotations.annotations) !== null && _propertyAnnotations$ !== void 0 && _propertyAnnotations$.Measures && UOM) {
          var _propertyAnnotations$2, _UOMObjectPath;
          UOMObjectPath = propertyAnnotations === null || propertyAnnotations === void 0 ? void 0 : (_propertyAnnotations$2 = propertyAnnotations.annotations) === null || _propertyAnnotations$2 === void 0 ? void 0 : _propertyAnnotations$2.Measures[UOM];
          UOMObject[UOM] = {
            $Path: (_UOMObjectPath = UOMObjectPath) === null || _UOMObjectPath === void 0 ? void 0 : _UOMObjectPath.path
          };
        }
        return UOMObjectPath && customData && UOMObjectPath.path ? JSON.stringify(UOMObject) : UOMObjectPath;
      }
    },
    getUoM: function (chartAnnotation, collection, customData, customAggregate, aggregation) {
      var _measure, _measure2;
      let measure = {};
      if (customAggregate) {
        measure = chartAnnotation === null || chartAnnotation === void 0 ? void 0 : chartAnnotation.Measures[0];
      }
      if (chartAnnotation !== null && chartAnnotation !== void 0 && chartAnnotation.DynamicMeasures && chartAnnotation.DynamicMeasures.length > 0) {
        var _chartAnnotation$Dyna4, _chartAnnotation$Dyna5, _chartAnnotation$Dyna6, _chartAnnotation$Dyna7, _chartAnnotation$Dyna8;
        measure = (_chartAnnotation$Dyna4 = chartAnnotation.DynamicMeasures[0]) === null || _chartAnnotation$Dyna4 === void 0 ? void 0 : (_chartAnnotation$Dyna5 = _chartAnnotation$Dyna4.$target) === null || _chartAnnotation$Dyna5 === void 0 ? void 0 : (_chartAnnotation$Dyna6 = _chartAnnotation$Dyna5.AggregatableProperty) === null || _chartAnnotation$Dyna6 === void 0 ? void 0 : (_chartAnnotation$Dyna7 = _chartAnnotation$Dyna6.$target) === null || _chartAnnotation$Dyna7 === void 0 ? void 0 : (_chartAnnotation$Dyna8 = _chartAnnotation$Dyna7.annotations) === null || _chartAnnotation$Dyna8 === void 0 ? void 0 : _chartAnnotation$Dyna8.Measures;
      } else if (!customAggregate && chartAnnotation !== null && chartAnnotation !== void 0 && chartAnnotation.Measures && chartAnnotation.Measures.length > 0) {
        measure = chartAnnotation.Measures[0];
      }
      const ISOCurrency = (_measure = measure) === null || _measure === void 0 ? void 0 : _measure.ISOCurrency;
      const unit = (_measure2 = measure) === null || _measure2 === void 0 ? void 0 : _measure2.Unit;
      let aggregatablePropertyPath;
      if (!customAggregate && aggregation) {
        aggregatablePropertyPath = aggregation.AggregatableProperty && aggregation.AggregatableProperty.value;
      } else {
        var _measure3;
        aggregatablePropertyPath = (_measure3 = measure) === null || _measure3 === void 0 ? void 0 : _measure3.value;
      }
      return this._getUOM(ISOCurrency, "ISOCurrency", collection, customData, aggregatablePropertyPath) || this._getUOM(unit, "Unit", collection, customData, aggregatablePropertyPath);
    },
    getScaleFactor: function (valueFormat) {
      if (valueFormat && valueFormat.ScaleFactor) {
        return valueFormat.ScaleFactor.valueOf();
      }
      return undefined;
    },
    getUoMVisiblity: function (chartAnnotation, showError) {
      const chartType = chartAnnotation && chartAnnotation["ChartType"];
      if (showError) {
        return false;
      } else if (!(chartType === "UI.ChartType/Bar" || chartType === "UI.ChartType/Line")) {
        return false;
      } else {
        return true;
      }
    },
    getInParameterFiltersBinding: function (inParameters) {
      if (inParameters.length > 0) {
        const parts = [];
        let paths = "";
        inParameters.forEach(function (inParameter) {
          if (inParameter.localDataProperty) {
            parts.push(`{path:'$filters>/conditions/${inParameter.localDataProperty}'}`);
          }
        });
        if (parts.length > 0) {
          paths = parts.join();
          return `{parts:[${paths}], formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFiltersFromConditions'}`;
        } else {
          return undefined;
        }
      } else {
        return undefined;
      }
    },
    getfilterCountBinding: function (chartAnnotation) {
      var _chartAnnotation$Dime6, _chartAnnotation$Dime7;
      const dimension = chartAnnotation === null || chartAnnotation === void 0 ? void 0 : (_chartAnnotation$Dime6 = chartAnnotation.Dimensions[0]) === null || _chartAnnotation$Dime6 === void 0 ? void 0 : (_chartAnnotation$Dime7 = _chartAnnotation$Dime6.$target) === null || _chartAnnotation$Dime7 === void 0 ? void 0 : _chartAnnotation$Dime7.name;
      return "{path:'$filters>/conditions/" + dimension + "', formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFilterCounts'}";
    },
    getInteractiveChartProperties: function (visualFilter) {
      const chartAnnotation = visualFilter.chartAnnotation;
      const interactiveChartProperties = {};
      if (visualFilter.chartMeasure && chartAnnotation !== null && chartAnnotation !== void 0 && chartAnnotation.Dimensions && chartAnnotation.Dimensions[0]) {
        var _visualFilter$metaPat, _dimension$$target2, _dimension$$target2$a, _dimension$$target2$a2, _dataPointAnnotation, _visualFilter$metaPat2, _visualFilter$metaPat3, _dataPointAnnotation2, _visualFilter$metaPat4;
        const id = generate([(_visualFilter$metaPat = visualFilter.metaPath) === null || _visualFilter$metaPat === void 0 ? void 0 : _visualFilter$metaPat.getPath()]);
        interactiveChartProperties.showErrorExpression = "${internal>" + id + "/showError}";
        interactiveChartProperties.errorMessageExpression = "{internal>" + id + "/errorMessage}";
        interactiveChartProperties.errorMessageTitleExpression = "{internal>" + id + "/errorMessageTitle}";
        let dataPointAnnotation;
        if (chartAnnotation !== null && chartAnnotation !== void 0 && chartAnnotation.MeasureAttributes && chartAnnotation !== null && chartAnnotation !== void 0 && chartAnnotation.MeasureAttributes[0]) {
          var _chartAnnotation$Meas18;
          dataPointAnnotation = chartAnnotation !== null && chartAnnotation !== void 0 && (_chartAnnotation$Meas18 = chartAnnotation.MeasureAttributes[0]) !== null && _chartAnnotation$Meas18 !== void 0 && _chartAnnotation$Meas18.DataPoint ? chartAnnotation === null || chartAnnotation === void 0 ? void 0 : chartAnnotation.MeasureAttributes[0].DataPoint.$target : chartAnnotation === null || chartAnnotation === void 0 ? void 0 : chartAnnotation.MeasureAttributes[0];
        }
        const dimension = chartAnnotation === null || chartAnnotation === void 0 ? void 0 : chartAnnotation.Dimensions[0];
        const parameters = CommonHelper.getParameters(visualFilter.contextPath.getObject(), {
          context: visualFilter.contextPath
        });
        const dimensionText = dimension === null || dimension === void 0 ? void 0 : (_dimension$$target2 = dimension.$target) === null || _dimension$$target2 === void 0 ? void 0 : (_dimension$$target2$a = _dimension$$target2.annotations) === null || _dimension$$target2$a === void 0 ? void 0 : (_dimension$$target2$a2 = _dimension$$target2$a.Common) === null || _dimension$$target2$a2 === void 0 ? void 0 : _dimension$$target2$a2.Text;
        const contextObjectPath = getInvolvedDataModelObjects(visualFilter.metaPath, visualFilter.contextPath).targetObject;
        const collection = getInvolvedDataModelObjects(visualFilter.contextPath);
        const selectionVariant = visualFilter.selectionVariantAnnotation ? getInvolvedDataModelObjects(visualFilter.selectionVariantAnnotation) : undefined;
        const sortOrder = contextObjectPath.SortOrder;
        interactiveChartProperties.aggregationBinding = InteractiveChartHelper.getAggregationBinding(chartAnnotation, collection, visualFilter.contextPath, dimensionText, dimension.$target.type, sortOrder, selectionVariant, visualFilter.customAggregate, visualFilter.aggregateProperties, visualFilter.UoMHasCustomAggregate, parameters, visualFilter.filterBarEntityType, visualFilter.draftSupported, visualFilter.chartMeasure);
        interactiveChartProperties.scalefactor = InteractiveChartHelper.getScaleFactor((_dataPointAnnotation = dataPointAnnotation) === null || _dataPointAnnotation === void 0 ? void 0 : _dataPointAnnotation.ValueFormat);
        interactiveChartProperties.uom = InteractiveChartHelper.getUoM(chartAnnotation, collection, true, visualFilter.customAggregate, visualFilter.aggregateProperties);
        interactiveChartProperties.inParameters = CommonHelper.stringifyCustomData(visualFilter.inParameters);
        interactiveChartProperties.inParameterFilters = visualFilter.inParameters ? InteractiveChartHelper.getInParameterFiltersBinding(visualFilter.inParameters) : undefined;
        interactiveChartProperties.selectionVariantAnnotation = visualFilter.selectionVariantAnnotation ? CommonHelper.stringifyCustomData(visualFilter.selectionVariantAnnotation) : undefined;
        interactiveChartProperties.stringifiedParameters = CommonHelper.stringifyCustomData(parameters);
        const dimensionContext = (_visualFilter$metaPat2 = visualFilter.metaPath) === null || _visualFilter$metaPat2 === void 0 ? void 0 : (_visualFilter$metaPat3 = _visualFilter$metaPat2.getModel()) === null || _visualFilter$metaPat3 === void 0 ? void 0 : _visualFilter$metaPat3.createBindingContext(visualFilter.contextPath.getPath() + "/@" + dimension.fullyQualifiedName.split("@")[1]);
        if (dimensionContext) {
          const dimensionObject = getInvolvedDataModelObjects(dimensionContext, visualFilter.contextPath);
          interactiveChartProperties.chartLabel = getTextBinding(dimensionObject, {});
        }
        interactiveChartProperties.measure = InteractiveChartHelper.getChartValue(visualFilter.chartMeasure);
        interactiveChartProperties.displayedValue = InteractiveChartHelper.getChartDisplayedValue(visualFilter.chartMeasure, (_dataPointAnnotation2 = dataPointAnnotation) === null || _dataPointAnnotation2 === void 0 ? void 0 : _dataPointAnnotation2.ValueFormat, (_visualFilter$metaPat4 = visualFilter.metaPath) === null || _visualFilter$metaPat4 === void 0 ? void 0 : _visualFilter$metaPat4.getPath());
        interactiveChartProperties.color = InteractiveChartHelper.getColorBinding(dataPointAnnotation, dimension);
      }
      return interactiveChartProperties;
    }
  };
  return InteractiveChartHelper;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyIiwiZ2V0Q2hhcnREaXNwbGF5ZWRWYWx1ZSIsInZhbHVlIiwidmFsdWVGb3JtYXQiLCJtZXRhUGF0aCIsImluZm9QYXRoIiwiZ2VuZXJhdGUiLCJTY2FsZUZhY3RvciIsInZhbHVlT2YiLCJOdW1iZXJPZkZyYWN0aW9uYWxEaWdpdHMiLCJnZXRDaGFydFZhbHVlIiwiX2dldENvbGxlY3Rpb25OYW1lIiwiY29sbGVjdGlvbiIsImNvbnRleHRQYXRoIiwicGFyYW1ldGVycyIsImNvbGxlY3Rpb25PYmplY3QiLCJ0YXJnZXRPYmplY3QiLCJpc05hdmlnYXRpb25Qcm9wZXJ0eSIsImdldFBhdGgiLCJuYW1lIiwiaXNFbnRpdHlTZXQiLCJfZ2V0QmluZGluZ1BhdGhGb3JQYXJhbWV0ZXJzIiwiZmlsdGVyQ29uZGl0aW9ucyIsIm1ldGFNb2RlbCIsImNvbGxlY3Rpb25OYW1lIiwiZW50aXR5U2V0UGF0aCIsInBhcmFtcyIsImNvbnZlcnRlZEZpbHRlckNvbmRpdGlvbnMiLCJWaXN1YWxGaWx0ZXJVdGlscyIsImNvbnZlcnRGaWx0ZXJDb25kaW9ucyIsInBhcmFtZXRlclByb3BlcnRpZXMiLCJDb21tb25VdGlscyIsImdldFBhcmFtZXRlckluZm8iLCJpIiwicGFyYW1ldGVyIiwicHJvcGVydHkiLCJlbnRpdHlQYXRoIiwic3BsaXQiLCJwcm9wZXJ0eUNvbnRleHQiLCJjcmVhdGVCaW5kaW5nQ29udGV4dCIsInR5cGVDb25maWciLCJUeXBlVXRpbCIsImdldFR5cGVDb25maWciLCIkVHlwZSIsIkpTVG9rZW5pemVyIiwicGFyc2VKUyIsImZvcm1hdE9wdGlvbnMiLCJjb250ZXh0IiwiY29uc3RyYWludHMiLCJjb25kaXRpb24iLCJjb25kaXRpb25JbnRlcm5hbCIsInVuZGVmaW5lZCIsImludGVybmFsUGFyYW1ldGVyQ29uZGl0aW9uIiwiQ29uZGl0aW9uQ29udmVydGVyIiwidG9UeXBlIiwiZWRtVHlwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIk9EYXRhVXRpbHMiLCJmb3JtYXRMaXRlcmFsIiwidmFsdWVzIiwicmVwbGFjZUFsbCIsInB1c2giLCJwYXJhbWV0ZXJFbnRpdHlTZXQiLCJzbGljZSIsImxhc3RJbmRleE9mIiwidGFyZ2V0TmF2aWdhdGlvbiIsInN1YnN0cmluZyIsInRvU3RyaW5nIiwiX2dldFVPTUFnZ3JlZ2F0aW9uRXhwcmVzc2lvbiIsImN1c3RvbUFnZ3JlZ2F0ZSIsIlVvTUhhc0N1c3RvbUFnZ3JlZ2F0ZSIsIlVPTSIsImFnZ3JlZ2F0aW9uIiwiYWdncmVnYXRpb25FeHByZXNzaW9uIiwiVU9NRXhwcmVzc2lvbiIsInBhdGgiLCJBZ2dyZWdhdGFibGVQcm9wZXJ0eSIsIkFnZ3JlZ2F0aW9uTWV0aG9kIiwiZ2V0QWdncmVnYXRpb25CaW5kaW5nIiwiY2hhcnRBbm5vdGF0aW9ucyIsInRleHRBc3NvY2lhdGlvbiIsImRpbWVuc2lvblR5cGUiLCJzb3J0T3JkZXIiLCJzZWxlY3Rpb25WYXJpYW50IiwiZmlsdGVyQmFyQ29udGV4dCIsImRyYWZ0U3VwcG9ydGVkIiwiY2hhcnRNZWFzdXJlIiwic2VsZWN0aW9uVmFyaWFudEFubm90YXRpb24iLCJlbnRpdHlUeXBlIiwiZGltZW5zaW9uIiwiRGltZW5zaW9ucyIsImZpbHRlcnMiLCJnZXRVb00iLCJnZXRNb2RlbCIsIm9wZXJhdG9yIiwidmFsdWUxIiwidmFsdWUyIiwiaXNQYXJhbWV0ZXIiLCJnZXRGaWx0ZXJzQ29uZGl0aW9uc0Zyb21TZWxlY3Rpb25WYXJpYW50IiwiZ2V0Q3VzdG9tQ29uZGl0aW9ucyIsImJpbmQiLCJjb25kaXRpb25zIiwiZm9yRWFjaCIsImxlbmd0aCIsImJpbmRpbmdQYXRoIiwiVU9NQWdncmVnYXRpb25FeHByZXNzaW9uIiwidGV4dEFzc29jaWF0aW9uRXhwcmVzc2lvbiIsImZpbHRlckV4cHJlc3Npb24iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0U29ydE9yZGVyIiwiZ2V0TWF4SXRlbXMiLCJfZ2V0T3JkZXJFeHByZXNzaW9uRnJvbU1lYXN1cmUiLCJzb3J0UHJvcGVydHlOYW1lIiwiRHluYW1pY1Byb3BlcnR5IiwiJHRhcmdldCIsIk5hbWUiLCJQcm9wZXJ0eSIsIkRlc2NlbmRpbmciLCJDaGFydFR5cGUiLCJnZXRDb2xvckJpbmRpbmciLCJkYXRhUG9pbnQiLCJ2YWx1ZUNyaXRpY2FsaXR5IiwiYW5ub3RhdGlvbnMiLCJVSSIsIlZhbHVlQ3JpdGljYWxpdHkiLCJDcml0aWNhbGl0eSIsImJ1aWxkRXhwcmVzc2lvbkZvckNyaXRpY2FsaXR5Q29sb3JNaWNyb0NoYXJ0IiwiQ3JpdGljYWxpdHlDYWxjdWxhdGlvbiIsIm9EaXJlY3Rpb24iLCJJbXByb3ZlbWVudERpcmVjdGlvbiIsIm9EYXRhUG9pbnRWYWx1ZSIsIlZhbHVlIiwib0RldmlhdGlvblJhbmdlTG93VmFsdWUiLCJEZXZpYXRpb25SYW5nZUxvd1ZhbHVlIiwib1RvbGVyYW5jZVJhbmdlTG93VmFsdWUiLCJUb2xlcmFuY2VSYW5nZUxvd1ZhbHVlIiwib0FjY2VwdGFuY2VSYW5nZUxvd1ZhbHVlIiwiQWNjZXB0YW5jZVJhbmdlTG93VmFsdWUiLCJvQWNjZXB0YW5jZVJhbmdlSGlnaFZhbHVlIiwiQWNjZXB0YW5jZVJhbmdlSGlnaFZhbHVlIiwib1RvbGVyYW5jZVJhbmdlSGlnaFZhbHVlIiwiVG9sZXJhbmNlUmFuZ2VIaWdoVmFsdWUiLCJvRGV2aWF0aW9uUmFuZ2VIaWdoVmFsdWUiLCJEZXZpYXRpb25SYW5nZUhpZ2hWYWx1ZSIsIkNvbW1vbkhlbHBlciIsImdldENyaXRpY2FsaXR5Q2FsY3VsYXRpb25CaW5kaW5nIiwiZ2V0VmFsdWVDcml0aWNhbGl0eSIsInJlc3VsdCIsInZhbHVlQ3JpdGljYWxpdHlUeXBlIiwiX2dldENyaXRpY2FsaXR5RnJvbUVudW0iLCJqb2luIiwiY3JpdGljYWxpdHkiLCJ2YWx1ZUNvbG9yIiwibUxpYnJhcnkiLCJWYWx1ZUNvbG9yIiwiaW5kaWNhdG9yIiwiRXJyb3IiLCJHb29kIiwiQ3JpdGljYWwiLCJOZXV0cmFsIiwiZ2V0U2NhbGVVb01UaXRsZSIsImNoYXJ0QW5ub3RhdGlvbiIsInNlcGVyYXRvciIsInRvb2xUaXAiLCJzY2FsZUZhY3RvciIsIk1lYXN1cmVBdHRyaWJ1dGVzIiwiRGF0YVBvaW50IiwiVmFsdWVGb3JtYXQiLCJmaXhlZEludGVnZXIiLCJOdW1iZXJGb3JtYXQiLCJnZXRJbnRlZ2VySW5zdGFuY2UiLCJzdHlsZSIsInNob3dTY2FsZSIsInNob3J0UmVmTnVtYmVyIiwic2NhbGUiLCJnZXRTY2FsZSIsImV4cHJlc3Npb24iLCJnZXRNZWFzdXJlRGltZW5zaW9uVGl0bGUiLCJtZWFzdXJlTGFiZWwiLCJtZWFzdXJlUGF0aCIsIk1lYXN1cmVzIiwiRHluYW1pY01lYXN1cmVzIiwiZGltZW5zaW9uUGF0aCIsImRpbWVuc2lvbkxhYmVsIiwiQ29tbW9uIiwiTGFiZWwiLCJDb3JlIiwiZ2V0TGlicmFyeVJlc291cmNlQnVuZGxlIiwiZ2V0VGV4dCIsImdldFRvb2xUaXAiLCJyZW5kZXJMaW5lQ2hhcnQiLCJjaGFydFR5cGUiLCJtZWFzdXJlRGltZW5zaW9uVG9vbFRpcCIsImVzY2FwZVNpbmdsZVF1b3RlcyIsInNjYWxlVU9NVG9vbHRpcCIsIl9nZXRVT00iLCJVT01PYmplY3RQYXRoIiwiY3VzdG9tRGF0YSIsImFnZ3JlZ2F0YWJsZVByb3BlcnR5UGF0aCIsIlVPTU9iamVjdCIsIiRQYXRoIiwiZW50aXR5UHJvcGVydGllcyIsInRhcmdldFR5cGUiLCJwcm9wZXJ0eUFubm90YXRpb25zIiwiZmluZCIsIm1lYXN1cmUiLCJJU09DdXJyZW5jeSIsInVuaXQiLCJVbml0IiwiZ2V0U2NhbGVGYWN0b3IiLCJnZXRVb01WaXNpYmxpdHkiLCJzaG93RXJyb3IiLCJnZXRJblBhcmFtZXRlckZpbHRlcnNCaW5kaW5nIiwiaW5QYXJhbWV0ZXJzIiwicGFydHMiLCJwYXRocyIsImluUGFyYW1ldGVyIiwibG9jYWxEYXRhUHJvcGVydHkiLCJnZXRmaWx0ZXJDb3VudEJpbmRpbmciLCJnZXRJbnRlcmFjdGl2ZUNoYXJ0UHJvcGVydGllcyIsInZpc3VhbEZpbHRlciIsImludGVyYWN0aXZlQ2hhcnRQcm9wZXJ0aWVzIiwiaWQiLCJzaG93RXJyb3JFeHByZXNzaW9uIiwiZXJyb3JNZXNzYWdlRXhwcmVzc2lvbiIsImVycm9yTWVzc2FnZVRpdGxlRXhwcmVzc2lvbiIsImRhdGFQb2ludEFubm90YXRpb24iLCJnZXRQYXJhbWV0ZXJzIiwiZ2V0T2JqZWN0IiwiZGltZW5zaW9uVGV4dCIsIlRleHQiLCJjb250ZXh0T2JqZWN0UGF0aCIsImdldEludm9sdmVkRGF0YU1vZGVsT2JqZWN0cyIsIlNvcnRPcmRlciIsImFnZ3JlZ2F0aW9uQmluZGluZyIsInR5cGUiLCJhZ2dyZWdhdGVQcm9wZXJ0aWVzIiwiZmlsdGVyQmFyRW50aXR5VHlwZSIsInNjYWxlZmFjdG9yIiwidW9tIiwic3RyaW5naWZ5Q3VzdG9tRGF0YSIsImluUGFyYW1ldGVyRmlsdGVycyIsInN0cmluZ2lmaWVkUGFyYW1ldGVycyIsImRpbWVuc2lvbkNvbnRleHQiLCJmdWxseVF1YWxpZmllZE5hbWUiLCJkaW1lbnNpb25PYmplY3QiLCJjaGFydExhYmVsIiwiZ2V0VGV4dEJpbmRpbmciLCJkaXNwbGF5ZWRWYWx1ZSIsImNvbG9yIl0sInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyJJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhdGhBbm5vdGF0aW9uRXhwcmVzc2lvbiwgUHJvcGVydHksIFByb3BlcnR5UGF0aCB9IGZyb20gXCJAc2FwLXV4L3ZvY2FidWxhcmllcy10eXBlc1wiO1xuaW1wb3J0IHsgQWdncmVnYXRlZFByb3BlcnR5LCBBZ2dyZWdhdGVkUHJvcGVydHlUeXBlIH0gZnJvbSBcIkBzYXAtdXgvdm9jYWJ1bGFyaWVzLXR5cGVzL3ZvY2FidWxhcmllcy9BbmFseXRpY3NcIjtcbmltcG9ydCB7IExhYmVsLCBTb3J0T3JkZXIgfSBmcm9tIFwiQHNhcC11eC92b2NhYnVsYXJpZXMtdHlwZXMvdm9jYWJ1bGFyaWVzL0NvbW1vblwiO1xuaW1wb3J0IHsgQ2hhcnQsIERhdGFQb2ludCwgTnVtYmVyRm9ybWF0IGFzIE51bWJlckZvcm1hdFR5cGUsIFZhbHVlQ3JpdGljYWxpdHlUeXBlIH0gZnJvbSBcIkBzYXAtdXgvdm9jYWJ1bGFyaWVzLXR5cGVzL3ZvY2FidWxhcmllcy9VSVwiO1xuaW1wb3J0IEpTVG9rZW5pemVyIGZyb20gXCJzYXAvYmFzZS91dGlsL0pTVG9rZW5pemVyXCI7XG5pbXBvcnQgQ29tbW9uVXRpbHMgZnJvbSBcInNhcC9mZS9jb3JlL0NvbW1vblV0aWxzXCI7XG5pbXBvcnQgVmlzdWFsRmlsdGVyVXRpbHMgZnJvbSBcInNhcC9mZS9jb3JlL2NvbnRyb2xzL2ZpbHRlcmJhci91dGlscy9WaXN1YWxGaWx0ZXJVdGlsc1wiO1xuaW1wb3J0IHsgUGFyYW1ldGVyVHlwZSB9IGZyb20gXCJzYXAvZmUvY29yZS9jb252ZXJ0ZXJzL2NvbnRyb2xzL0xpc3RSZXBvcnQvVmlzdWFsRmlsdGVyc1wiO1xuaW1wb3J0IHsgZ2V0SW52b2x2ZWREYXRhTW9kZWxPYmplY3RzIH0gZnJvbSBcInNhcC9mZS9jb3JlL2NvbnZlcnRlcnMvTWV0YU1vZGVsQ29udmVydGVyXCI7XG5pbXBvcnQgdHlwZSB7IEJpbmRpbmdUb29sa2l0RXhwcmVzc2lvbiwgQ29tcGlsZWRCaW5kaW5nVG9vbGtpdEV4cHJlc3Npb24gfSBmcm9tIFwic2FwL2ZlL2NvcmUvaGVscGVycy9CaW5kaW5nVG9vbGtpdFwiO1xuaW1wb3J0IHsgZ2VuZXJhdGUgfSBmcm9tIFwic2FwL2ZlL2NvcmUvaGVscGVycy9TdGFibGVJZEhlbHBlclwiO1xuaW1wb3J0IHsgaXNFbnRpdHlTZXQsIGlzTmF2aWdhdGlvblByb3BlcnR5IH0gZnJvbSBcInNhcC9mZS9jb3JlL2hlbHBlcnMvVHlwZUd1YXJkc1wiO1xuaW1wb3J0IHsgYnVpbGRFeHByZXNzaW9uRm9yQ3JpdGljYWxpdHlDb2xvck1pY3JvQ2hhcnQgfSBmcm9tIFwic2FwL2ZlL2NvcmUvdGVtcGxhdGluZy9Dcml0aWNhbGl0eUZvcm1hdHRlcnNcIjtcbmltcG9ydCB7IERhdGFNb2RlbE9iamVjdFBhdGggfSBmcm9tIFwic2FwL2ZlL2NvcmUvdGVtcGxhdGluZy9EYXRhTW9kZWxQYXRoSGVscGVyXCI7XG5pbXBvcnQgeyBGaWx0ZXJDb25kaXRpb25zLCBnZXRGaWx0ZXJzQ29uZGl0aW9uc0Zyb21TZWxlY3Rpb25WYXJpYW50IH0gZnJvbSBcInNhcC9mZS9jb3JlL3RlbXBsYXRpbmcvRmlsdGVySGVscGVyXCI7XG5pbXBvcnQgVHlwZVV0aWwgZnJvbSBcInNhcC9mZS9jb3JlL3R5cGUvVHlwZVV0aWxcIjtcbmltcG9ydCBDb21tb25IZWxwZXIgZnJvbSBcInNhcC9mZS9tYWNyb3MvQ29tbW9uSGVscGVyXCI7XG5pbXBvcnQgeyBjb25zdHJhaW50cywgZm9ybWF0T3B0aW9ucyB9IGZyb20gXCJzYXAvZmUvbWFjcm9zL2ZpbHRlci9GaWx0ZXJGaWVsZEhlbHBlclwiO1xuaW1wb3J0IG1MaWJyYXJ5IGZyb20gXCJzYXAvbS9saWJyYXJ5XCI7XG5pbXBvcnQgQ29yZSBmcm9tIFwic2FwL3VpL2NvcmUvQ29yZVwiO1xuaW1wb3J0IE51bWJlckZvcm1hdCBmcm9tIFwic2FwL3VpL2NvcmUvZm9ybWF0L051bWJlckZvcm1hdFwiO1xuaW1wb3J0IENvbmRpdGlvbkNvbnZlcnRlciBmcm9tIFwic2FwL3VpL21kYy9jb25kaXRpb24vQ29uZGl0aW9uQ29udmVydGVyXCI7XG5pbXBvcnQgdHlwZSBNRENUeXBlVXRpbCBmcm9tIFwic2FwL3VpL21kYy91dGlsL1R5cGVVdGlsXCI7XG5pbXBvcnQgQ29udGV4dCBmcm9tIFwic2FwL3VpL21vZGVsL29kYXRhL3Y0L0NvbnRleHRcIjtcbmltcG9ydCB0eXBlIE9EYXRhTWV0YU1vZGVsIGZyb20gXCJzYXAvdWkvbW9kZWwvb2RhdGEvdjQvT0RhdGFNZXRhTW9kZWxcIjtcbmltcG9ydCBPRGF0YU1vZGVsIGZyb20gXCJzYXAvdWkvbW9kZWwvb2RhdGEvdjQvT0RhdGFNb2RlbFwiO1xuaW1wb3J0IE9EYXRhVXRpbHMgZnJvbSBcInNhcC91aS9tb2RlbC9vZGF0YS92NC9PRGF0YVV0aWxzXCI7XG5pbXBvcnQgeyBnZXRUZXh0QmluZGluZyB9IGZyb20gXCIuLi9maWVsZC9GaWVsZFRlbXBsYXRpbmdcIjtcbmltcG9ydCBWaXN1YWxGaWx0ZXJCbG9jayBmcm9tIFwiLi9WaXN1YWxGaWx0ZXIuYmxvY2tcIjtcbnR5cGUgTWVhc3VyZVR5cGUgPSB7XG5cdHZhbHVlPzogc3RyaW5nO1xuXHRJU09DdXJyZW5jeT86IFBhdGhBbm5vdGF0aW9uRXhwcmVzc2lvbjxzdHJpbmc+O1xuXHRVbml0PzogUGF0aEFubm90YXRpb25FeHByZXNzaW9uPHN0cmluZz47XG59O1xudHlwZSBJbnRlcmFjdGl2ZUNoYXJ0VHlwZSA9IHtcblx0Y2hhcnRMYWJlbD86IEJpbmRpbmdUb29sa2l0RXhwcmVzc2lvbjxzdHJpbmc+IHwgQ29tcGlsZWRCaW5kaW5nVG9vbGtpdEV4cHJlc3Npb247XG5cdGFnZ3JlZ2F0aW9uQmluZGluZz86IHN0cmluZztcblx0ZXJyb3JNZXNzYWdlVGl0bGVFeHByZXNzaW9uPzogc3RyaW5nO1xuXHRlcnJvck1lc3NhZ2VFeHByZXNzaW9uPzogc3RyaW5nO1xuXHRzaG93RXJyb3JFeHByZXNzaW9uPzogc3RyaW5nO1xuXHRpblBhcmFtZXRlcnM/OiBzdHJpbmc7XG5cdGRpc3BsYXllZFZhbHVlPzogc3RyaW5nO1xuXHRtZWFzdXJlPzogc3RyaW5nO1xuXHRzdHJpbmdpZmllZFBhcmFtZXRlcnM/OiBzdHJpbmc7XG5cdHNlbGVjdGlvblZhcmlhbnRBbm5vdGF0aW9uPzogc3RyaW5nO1xuXHRpblBhcmFtZXRlckZpbHRlcnM/OiBzdHJpbmc7XG5cdGNvbG9yPzogc3RyaW5nO1xuXHR1b20/OiBzdHJpbmcgfCBQYXRoQW5ub3RhdGlvbkV4cHJlc3Npb248c3RyaW5nPjtcblx0c2NhbGVmYWN0b3I/OiBudW1iZXIgfCBvYmplY3Q7XG59O1xuXG5jb25zdCBJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyID0ge1xuXHRnZXRDaGFydERpc3BsYXllZFZhbHVlOiBmdW5jdGlvbiAodmFsdWU6IHN0cmluZywgdmFsdWVGb3JtYXQ/OiBOdW1iZXJGb3JtYXRUeXBlLCBtZXRhUGF0aD86IHN0cmluZykge1xuXHRcdGNvbnN0IGluZm9QYXRoID0gZ2VuZXJhdGUoW21ldGFQYXRoXSk7XG5cdFx0cmV0dXJuIChcblx0XHRcdFwie3BhcnRzOlt7cGF0aDonXCIgK1xuXHRcdFx0dmFsdWUgK1xuXHRcdFx0XCInLHR5cGU6J3NhcC51aS5tb2RlbC5vZGF0YS50eXBlLkRlY2ltYWwnLCBjb25zdHJhaW50czp7J251bGxhYmxlJzpmYWxzZX19XCIgK1xuXHRcdFx0KHZhbHVlRm9ybWF0ICYmIHZhbHVlRm9ybWF0LlNjYWxlRmFjdG9yXG5cdFx0XHRcdD8gXCIse3ZhbHVlOidcIiArIHZhbHVlRm9ybWF0LlNjYWxlRmFjdG9yLnZhbHVlT2YoKSArIFwiJ31cIlxuXHRcdFx0XHQ6IFwiLHtwYXRoOidpbnRlcm5hbD5zY2FsZWZhY3Rvck51bWJlci9cIiArIGluZm9QYXRoICsgXCInfVwiKSArXG5cdFx0XHQodmFsdWVGb3JtYXQgJiYgdmFsdWVGb3JtYXQuTnVtYmVyT2ZGcmFjdGlvbmFsRGlnaXRzXG5cdFx0XHRcdD8gXCIse3ZhbHVlOidcIiArIHZhbHVlRm9ybWF0Lk51bWJlck9mRnJhY3Rpb25hbERpZ2l0cyArIFwiJ31cIlxuXHRcdFx0XHQ6IFwiLHt2YWx1ZTonMCd9XCIpICtcblx0XHRcdFwiLHtwYXRoOidpbnRlcm5hbD5jdXJyZW5jeS9cIiArXG5cdFx0XHRpbmZvUGF0aCArXG5cdFx0XHRcIid9XCIgK1xuXHRcdFx0XCIse3BhdGg6J1wiICtcblx0XHRcdHZhbHVlICtcblx0XHRcdFwiJyx0eXBlOidzYXAudWkubW9kZWwub2RhdGEudHlwZS5TdHJpbmcnLCBjb25zdHJhaW50czp7J251bGxhYmxlJzpmYWxzZX19XCIgK1xuXHRcdFx0XCJdLCBmb3JtYXR0ZXI6J1Zpc3VhbEZpbHRlclJ1bnRpbWUuc2NhbGVWaXN1YWxGaWx0ZXJWYWx1ZSd9XCJcblx0XHQpOyAvLysgc1R5cGUuc3BsaXQoJyMnKS5sZW5ndGggPyBzVHlwZS5zcGxpdCgnIycpWzFdIDogJ0RlY2ltYWwnICsgXCJ9XCI7XG5cdH0sXG5cdGdldENoYXJ0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZTogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIFwie3BhdGg6J1wiICsgdmFsdWUgKyBcIicsdHlwZTonc2FwLnVpLm1vZGVsLm9kYXRhLnR5cGUuRGVjaW1hbCcsIGNvbnN0cmFpbnRzOnsnbnVsbGFibGUnOmZhbHNlfX1cIjtcblx0fSxcblx0X2dldENvbGxlY3Rpb25OYW1lOiBmdW5jdGlvbiAoY29sbGVjdGlvbjogRGF0YU1vZGVsT2JqZWN0UGF0aCwgY29udGV4dFBhdGg6IENvbnRleHQsIHBhcmFtZXRlcnM/OiBBcnJheTxzdHJpbmc+KSB7XG5cdFx0Y29uc3QgY29sbGVjdGlvbk9iamVjdCA9IGNvbGxlY3Rpb24udGFyZ2V0T2JqZWN0O1xuXHRcdGlmIChpc05hdmlnYXRpb25Qcm9wZXJ0eShjb2xsZWN0aW9uT2JqZWN0KSkge1xuXHRcdFx0cmV0dXJuIHBhcmFtZXRlcnMgPyBjb250ZXh0UGF0aC5nZXRQYXRoKCkgOiBjb2xsZWN0aW9uT2JqZWN0Lm5hbWU7XG5cdFx0fSBlbHNlIGlmIChpc0VudGl0eVNldChjb2xsZWN0aW9uT2JqZWN0KSkge1xuXHRcdFx0cmV0dXJuIFwiL1wiICsgY29sbGVjdGlvbk9iamVjdC5uYW1lO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gY29sbGVjdGlvbk9iamVjdC5uYW1lO1xuXHRcdH1cblx0fSxcblx0X2dldEJpbmRpbmdQYXRoRm9yUGFyYW1ldGVyczogZnVuY3Rpb24gKFxuXHRcdGZpbHRlckNvbmRpdGlvbnM6IFJlY29yZDxzdHJpbmcsIEZpbHRlckNvbmRpdGlvbnNbXT4sXG5cdFx0bWV0YU1vZGVsOiBPRGF0YU1vZGVsLFxuXHRcdGNvbGxlY3Rpb25OYW1lOiBzdHJpbmcsXG5cdFx0cGFyYW1ldGVyczogQXJyYXk8c3RyaW5nPixcblx0XHRlbnRpdHlTZXRQYXRoOiBzdHJpbmdcblx0KSB7XG5cdFx0Y29uc3QgcGFyYW1zID0gW107XG5cdFx0Y29uc3QgY29udmVydGVkRmlsdGVyQ29uZGl0aW9ucyA9IFZpc3VhbEZpbHRlclV0aWxzLmNvbnZlcnRGaWx0ZXJDb25kaW9ucyhmaWx0ZXJDb25kaXRpb25zKTtcblx0XHRjb25zdCBwYXJhbWV0ZXJQcm9wZXJ0aWVzID0gQ29tbW9uVXRpbHMuZ2V0UGFyYW1ldGVySW5mbyhcblx0XHRcdG1ldGFNb2RlbCBhcyB1bmtub3duIGFzIE9EYXRhTWV0YU1vZGVsLFxuXHRcdFx0Y29sbGVjdGlvbk5hbWVcblx0XHQpLnBhcmFtZXRlclByb3BlcnRpZXM7XG5cdFx0aWYgKHBhcmFtZXRlclByb3BlcnRpZXMpIHtcblx0XHRcdGZvciAoY29uc3QgaSBpbiBwYXJhbWV0ZXJzKSB7XG5cdFx0XHRcdGNvbnN0IHBhcmFtZXRlciA9IHBhcmFtZXRlcnNbaV07XG5cdFx0XHRcdGNvbnN0IHByb3BlcnR5ID0gcGFyYW1ldGVyUHJvcGVydGllc1twYXJhbWV0ZXJdO1xuXHRcdFx0XHRjb25zdCBlbnRpdHlQYXRoID0gZW50aXR5U2V0UGF0aC5zcGxpdChcIi9cIilbMV07XG5cdFx0XHRcdGNvbnN0IHByb3BlcnR5Q29udGV4dCA9IG1ldGFNb2RlbC5jcmVhdGVCaW5kaW5nQ29udGV4dChgLyR7ZW50aXR5UGF0aH0vJHtwYXJhbWV0ZXJ9YCk7XG5cdFx0XHRcdGNvbnN0IHR5cGVDb25maWcgPSBUeXBlVXRpbC5nZXRUeXBlQ29uZmlnKFxuXHRcdFx0XHRcdHByb3BlcnR5LiRUeXBlLFxuXHRcdFx0XHRcdEpTVG9rZW5pemVyLnBhcnNlSlMoZm9ybWF0T3B0aW9ucyhwcm9wZXJ0eSwgeyBjb250ZXh0OiBwcm9wZXJ0eUNvbnRleHQgfSkgfHwgXCJ7fVwiKSxcblx0XHRcdFx0XHRKU1Rva2VuaXplci5wYXJzZUpTKGNvbnN0cmFpbnRzKHByb3BlcnR5LCB7IGNvbnRleHQ6IHByb3BlcnR5Q29udGV4dCB9KSB8fCBcInt9XCIpXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnN0IGNvbmRpdGlvbiA9IGNvbnZlcnRlZEZpbHRlckNvbmRpdGlvbnNbcGFyYW1ldGVyXTtcblx0XHRcdFx0Y29uc3QgY29uZGl0aW9uSW50ZXJuYWwgPSBjb25kaXRpb24gPyBjb25kaXRpb25bMF0gOiB1bmRlZmluZWQ7XG5cdFx0XHRcdGlmIChjb25kaXRpb25JbnRlcm5hbCkge1xuXHRcdFx0XHRcdGNvbnN0IGludGVybmFsUGFyYW1ldGVyQ29uZGl0aW9uID0gQ29uZGl0aW9uQ29udmVydGVyLnRvVHlwZShcblx0XHRcdFx0XHRcdGNvbmRpdGlvbkludGVybmFsLFxuXHRcdFx0XHRcdFx0dHlwZUNvbmZpZyxcblx0XHRcdFx0XHRcdFR5cGVVdGlsIGFzIHVua25vd24gYXMgTURDVHlwZVV0aWxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGNvbnN0IGVkbVR5cGUgPSBwcm9wZXJ0eS4kVHlwZTtcblx0XHRcdFx0XHRsZXQgdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQoT0RhdGFVdGlscy5mb3JtYXRMaXRlcmFsKGludGVybmFsUGFyYW1ldGVyQ29uZGl0aW9uLnZhbHVlc1swXSwgZWRtVHlwZSkpO1xuXHRcdFx0XHRcdHZhbHVlID0gdmFsdWUucmVwbGFjZUFsbChcIidcIiwgXCJcXFxcJ1wiKTtcblx0XHRcdFx0XHRwYXJhbXMucHVzaChgJHtwYXJhbWV0ZXJ9PSR7dmFsdWV9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBwYXJhbWV0ZXJFbnRpdHlTZXQgPSBjb2xsZWN0aW9uTmFtZS5zbGljZSgwLCBjb2xsZWN0aW9uTmFtZS5sYXN0SW5kZXhPZihcIi9cIikpO1xuXHRcdGNvbnN0IHRhcmdldE5hdmlnYXRpb24gPSBjb2xsZWN0aW9uTmFtZS5zdWJzdHJpbmcoY29sbGVjdGlvbk5hbWUubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG5cdFx0Ly8gY3JlYXRlIHBhcmFtZXRlciBjb250ZXh0XG5cdFx0cmV0dXJuIGAke3BhcmFtZXRlckVudGl0eVNldH0oJHtwYXJhbXMudG9TdHJpbmcoKX0pLyR7dGFyZ2V0TmF2aWdhdGlvbn1gO1xuXHR9LFxuXHRfZ2V0VU9NQWdncmVnYXRpb25FeHByZXNzaW9uOiBmdW5jdGlvbiAoXG5cdFx0Y3VzdG9tQWdncmVnYXRlPzogYm9vbGVhbixcblx0XHRVb01IYXNDdXN0b21BZ2dyZWdhdGU/OiBib29sZWFuLFxuXHRcdFVPTT86IFBhdGhBbm5vdGF0aW9uRXhwcmVzc2lvbjxzdHJpbmc+IHwgc3RyaW5nLFxuXHRcdGFnZ3JlZ2F0aW9uPzogQWdncmVnYXRlZFByb3BlcnR5VHlwZVxuXHQpIHtcblx0XHRsZXQgYWdncmVnYXRpb25FeHByZXNzaW9uLCBVT01FeHByZXNzaW9uO1xuXHRcdGNvbnN0IHBhdGggPSBVT00gJiYgdHlwZW9mIFVPTSAhPSBcInN0cmluZ1wiICYmIFVPTS5wYXRoO1xuXHRcdGlmIChjdXN0b21BZ2dyZWdhdGUpIHtcblx0XHRcdC8vY3VzdG9tIGFnZ3JlZ2F0ZSBmb3IgYSBjdXJyZW5jeSBvciB1bml0IG9mIG1lYXN1cmUgY29ycmVzcG9uZGluZyB0byB0aGlzIGFnZ3JlZ2F0YWJsZSBwcm9wZXJ0eVxuXHRcdFx0aWYgKFVvTUhhc0N1c3RvbUFnZ3JlZ2F0ZSkge1xuXHRcdFx0XHRhZ2dyZWdhdGlvbkV4cHJlc3Npb24gPSBwYXRoID8gYHsgJ3VuaXQnIDogJyR7cGF0aH0nIH1gIDogXCJ7fVwiO1xuXHRcdFx0XHRVT01FeHByZXNzaW9uID0gXCJcIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFnZ3JlZ2F0aW9uRXhwcmVzc2lvbiA9IFwie31cIjtcblx0XHRcdFx0VU9NRXhwcmVzc2lvbiA9IHBhdGggPyBgLCAnJHtwYXRofScgOiB7fWAgOiBcIlwiO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRhZ2dyZWdhdGlvbiAmJlxuXHRcdFx0YWdncmVnYXRpb24uQWdncmVnYXRhYmxlUHJvcGVydHkgJiZcblx0XHRcdGFnZ3JlZ2F0aW9uLkFnZ3JlZ2F0YWJsZVByb3BlcnR5LnZhbHVlICYmXG5cdFx0XHRhZ2dyZWdhdGlvbi5BZ2dyZWdhdGlvbk1ldGhvZFxuXHRcdCkge1xuXHRcdFx0YWdncmVnYXRpb25FeHByZXNzaW9uID1cblx0XHRcdFx0XCJ7ICduYW1lJyA6ICdcIiArIGFnZ3JlZ2F0aW9uLkFnZ3JlZ2F0YWJsZVByb3BlcnR5LnZhbHVlICsgXCInLCAnd2l0aCcgOiAnXCIgKyBhZ2dyZWdhdGlvbi5BZ2dyZWdhdGlvbk1ldGhvZCArIFwiJ31cIjtcblx0XHRcdFVPTUV4cHJlc3Npb24gPSBwYXRoID8gXCIsICdcIiArIHBhdGggKyBcIicgOiB7fVwiIDogXCJcIjtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0YWdncmVnYXRpb25FeHByZXNzaW9uOiBhZ2dyZWdhdGlvbkV4cHJlc3Npb24sXG5cdFx0XHRVT01FeHByZXNzaW9uOiBVT01FeHByZXNzaW9uXG5cdFx0fTtcblx0fSxcblx0Z2V0QWdncmVnYXRpb25CaW5kaW5nOiBmdW5jdGlvbiAoXG5cdFx0Y2hhcnRBbm5vdGF0aW9uczogQ2hhcnQsXG5cdFx0Y29sbGVjdGlvbjogRGF0YU1vZGVsT2JqZWN0UGF0aCxcblx0XHRjb250ZXh0UGF0aDogQ29udGV4dCxcblx0XHR0ZXh0QXNzb2NpYXRpb24/OiBQYXRoQW5ub3RhdGlvbkV4cHJlc3Npb248c3RyaW5nPixcblx0XHRkaW1lbnNpb25UeXBlPzogc3RyaW5nLFxuXHRcdHNvcnRPcmRlcj86IFNvcnRPcmRlcixcblx0XHRzZWxlY3Rpb25WYXJpYW50PzogRGF0YU1vZGVsT2JqZWN0UGF0aCxcblx0XHRjdXN0b21BZ2dyZWdhdGU/OiBib29sZWFuLFxuXHRcdGFnZ3JlZ2F0aW9uPzogQWdncmVnYXRlZFByb3BlcnR5VHlwZSxcblx0XHRVb01IYXNDdXN0b21BZ2dyZWdhdGU/OiBib29sZWFuLFxuXHRcdHBhcmFtZXRlcnM/OiBBcnJheTxzdHJpbmc+LFxuXHRcdGZpbHRlckJhckNvbnRleHQ/OiBDb250ZXh0LFxuXHRcdGRyYWZ0U3VwcG9ydGVkPzogYm9vbGVhbixcblx0XHRjaGFydE1lYXN1cmU/OiBzdHJpbmdcblx0KSB7XG5cdFx0Y29uc3Qgc2VsZWN0aW9uVmFyaWFudEFubm90YXRpb24gPSBzZWxlY3Rpb25WYXJpYW50Py50YXJnZXRPYmplY3Q7XG5cdFx0Y29uc3QgZW50aXR5VHlwZSA9IGZpbHRlckJhckNvbnRleHQgPyBmaWx0ZXJCYXJDb250ZXh0LmdldFBhdGgoKSA6IFwiXCI7XG5cdFx0Y29uc3QgZW50aXR5U2V0UGF0aCA9IGNvbnRleHRQYXRoLmdldFBhdGgoKTtcblx0XHRjb25zdCBkaW1lbnNpb24gPSBjaGFydEFubm90YXRpb25zLkRpbWVuc2lvbnNbMF0udmFsdWU7XG5cdFx0Y29uc3QgZmlsdGVycyA9IFtdO1xuXHRcdGxldCBmaWx0ZXJDb25kaXRpb25zO1xuXHRcdGxldCBjb2xsZWN0aW9uTmFtZSA9IHRoaXMuX2dldENvbGxlY3Rpb25OYW1lKGNvbGxlY3Rpb24sIGNvbnRleHRQYXRoLCBwYXJhbWV0ZXJzKTtcblx0XHRjb25zdCBVT006IFBhdGhBbm5vdGF0aW9uRXhwcmVzc2lvbjxzdHJpbmc+IHwgc3RyaW5nIHwgdW5kZWZpbmVkID0gSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRVb00oXG5cdFx0XHRjaGFydEFubm90YXRpb25zLFxuXHRcdFx0Y29sbGVjdGlvbixcblx0XHRcdHVuZGVmaW5lZCxcblx0XHRcdGN1c3RvbUFnZ3JlZ2F0ZSxcblx0XHRcdGFnZ3JlZ2F0aW9uXG5cdFx0KTtcblx0XHRjb25zdCBtZXRhTW9kZWwgPSBjb250ZXh0UGF0aC5nZXRNb2RlbCgpO1xuXHRcdGlmIChkcmFmdFN1cHBvcnRlZCkge1xuXHRcdFx0ZmlsdGVycy5wdXNoKHtcblx0XHRcdFx0b3BlcmF0b3I6IFwiRVFcIixcblx0XHRcdFx0dmFsdWUxOiBcInRydWVcIixcblx0XHRcdFx0dmFsdWUyOiBudWxsLFxuXHRcdFx0XHRwYXRoOiBcIklzQWN0aXZlRW50aXR5XCIsXG5cdFx0XHRcdGlzUGFyYW1ldGVyOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0aWYgKHNlbGVjdGlvblZhcmlhbnRBbm5vdGF0aW9uKSB7XG5cdFx0XHRmaWx0ZXJDb25kaXRpb25zID0gZ2V0RmlsdGVyc0NvbmRpdGlvbnNGcm9tU2VsZWN0aW9uVmFyaWFudChcblx0XHRcdFx0ZW50aXR5U2V0UGF0aCxcblx0XHRcdFx0bWV0YU1vZGVsIGFzIHVua25vd24gYXMgT0RhdGFNZXRhTW9kZWwsXG5cdFx0XHRcdHNlbGVjdGlvblZhcmlhbnRBbm5vdGF0aW9uLFxuXHRcdFx0XHRWaXN1YWxGaWx0ZXJVdGlscy5nZXRDdXN0b21Db25kaXRpb25zLmJpbmQoVmlzdWFsRmlsdGVyVXRpbHMpXG5cdFx0XHQpO1xuXHRcdFx0Zm9yIChjb25zdCBwYXRoIGluIGZpbHRlckNvbmRpdGlvbnMpIHtcblx0XHRcdFx0Y29uc3QgY29uZGl0aW9ucyA9IGZpbHRlckNvbmRpdGlvbnNbcGF0aF07XG5cdFx0XHRcdGNvbmRpdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoY29uZGl0aW9uOiBGaWx0ZXJDb25kaXRpb25zKSB7XG5cdFx0XHRcdFx0aWYgKCFjb25kaXRpb24uaXNQYXJhbWV0ZXIpIHtcblx0XHRcdFx0XHRcdGZpbHRlcnMucHVzaChjb25kaXRpb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChlbnRpdHlUeXBlICE9PSBgJHtjb2xsZWN0aW9uTmFtZX0vYCAmJiBwYXJhbWV0ZXJzICYmIHBhcmFtZXRlcnMubGVuZ3RoICYmIGZpbHRlckNvbmRpdGlvbnMpIHtcblx0XHRcdGNvbnN0IGJpbmRpbmdQYXRoID0gdGhpcy5fZ2V0QmluZGluZ1BhdGhGb3JQYXJhbWV0ZXJzKGZpbHRlckNvbmRpdGlvbnMsIG1ldGFNb2RlbCwgY29sbGVjdGlvbk5hbWUsIHBhcmFtZXRlcnMsIGVudGl0eVNldFBhdGgpO1xuXHRcdFx0Y29sbGVjdGlvbk5hbWUgPSBiaW5kaW5nUGF0aDtcblx0XHR9XG5cdFx0Y29uc3QgVU9NQWdncmVnYXRpb25FeHByZXNzaW9uID0gdGhpcy5fZ2V0VU9NQWdncmVnYXRpb25FeHByZXNzaW9uKGN1c3RvbUFnZ3JlZ2F0ZSwgVW9NSGFzQ3VzdG9tQWdncmVnYXRlLCBVT00sIGFnZ3JlZ2F0aW9uKTtcblx0XHRjb25zdCBhZ2dyZWdhdGlvbkV4cHJlc3Npb24gPSBVT01BZ2dyZWdhdGlvbkV4cHJlc3Npb24uYWdncmVnYXRpb25FeHByZXNzaW9uO1xuXHRcdGNvbnN0IFVPTUV4cHJlc3Npb24gPSBVT01BZ2dyZWdhdGlvbkV4cHJlc3Npb24uVU9NRXhwcmVzc2lvbjtcblx0XHRjb25zdCB0ZXh0QXNzb2NpYXRpb25FeHByZXNzaW9uID0gdGV4dEFzc29jaWF0aW9uID8gXCInIDogeyAnYWRkaXRpb25hbGx5JyA6IFsnXCIgKyB0ZXh0QXNzb2NpYXRpb24ucGF0aCArIFwiJ10gfVwiIDogXCInIDogeyB9XCI7XG5cdFx0Y29uc3QgZmlsdGVyRXhwcmVzc2lvbiA9IEpTT04uc3RyaW5naWZ5KGZpbHRlcnMpO1xuXHRcdHJldHVybiAoXG5cdFx0XHRcIntwYXRoOiAnXCIgK1xuXHRcdFx0Y29sbGVjdGlvbk5hbWUgK1xuXHRcdFx0XCInLCB0ZW1wbGF0ZVNoYXJlYWJsZTogdHJ1ZSwgc3VzcGVuZGVkIDogdHJ1ZSwgJ2ZpbHRlcnMnIDogXCIgK1xuXHRcdFx0ZmlsdGVyRXhwcmVzc2lvbiArXG5cdFx0XHRcIiwncGFyYW1ldGVycycgOiB7XCIgK1xuXHRcdFx0SW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRTb3J0T3JkZXIoY2hhcnRBbm5vdGF0aW9ucywgZGltZW5zaW9uVHlwZSwgc29ydE9yZGVyLCBjaGFydE1lYXN1cmUpICtcblx0XHRcdFwiLCAnJCRhZ2dyZWdhdGlvbicgOiB7J2FnZ3JlZ2F0ZScgOiB7J1wiICtcblx0XHRcdGNoYXJ0TWVhc3VyZSArXG5cdFx0XHRcIicgOiBcIiArXG5cdFx0XHRhZ2dyZWdhdGlvbkV4cHJlc3Npb24gK1xuXHRcdFx0XCJ9LCdncm91cCcgOiB7J1wiICtcblx0XHRcdGRpbWVuc2lvbiArXG5cdFx0XHR0ZXh0QXNzb2NpYXRpb25FeHByZXNzaW9uICtcblx0XHRcdFVPTUV4cHJlc3Npb24gK1xuXHRcdFx0XCJ9IH0gfVwiICtcblx0XHRcdEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0TWF4SXRlbXMoY2hhcnRBbm5vdGF0aW9ucykgK1xuXHRcdFx0XCJ9XCJcblx0XHQpO1xuXHR9LFxuXHRfZ2V0T3JkZXJFeHByZXNzaW9uRnJvbU1lYXN1cmU6IGZ1bmN0aW9uIChzb3J0T3JkZXI/OiBTb3J0T3JkZXIsIGNoYXJ0TWVhc3VyZT86IHN0cmluZykge1xuXHRcdGxldCBzb3J0UHJvcGVydHlOYW1lO1xuXHRcdGlmIChzb3J0T3JkZXIgJiYgc29ydE9yZGVyLmxlbmd0aCkge1xuXHRcdFx0aWYgKHNvcnRPcmRlclswXS5EeW5hbWljUHJvcGVydHkpIHtcblx0XHRcdFx0c29ydFByb3BlcnR5TmFtZSA9IChzb3J0T3JkZXJbMF0uRHluYW1pY1Byb3BlcnR5LiR0YXJnZXQgYXMgQWdncmVnYXRlZFByb3BlcnR5KT8uTmFtZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNvcnRQcm9wZXJ0eU5hbWUgPSBzb3J0T3JkZXJbMF0uUHJvcGVydHk/LnZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNvcnRQcm9wZXJ0eU5hbWUgPT09IGNoYXJ0TWVhc3VyZSkge1xuXHRcdFx0XHRyZXR1cm4gXCInJG9yZGVyYnknIDogJ1wiICsgY2hhcnRNZWFzdXJlICsgKHNvcnRPcmRlclswXS5EZXNjZW5kaW5nID8gXCIgZGVzYydcIiA6IFwiJ1wiKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBcIickb3JkZXJieScgOiAnXCIgKyBjaGFydE1lYXN1cmUgKyBcIiBkZXNjJ1wiO1xuXHRcdH1cblx0XHRyZXR1cm4gXCInJG9yZGVyYnknIDogJ1wiICsgY2hhcnRNZWFzdXJlICsgXCIgZGVzYydcIjtcblx0fSxcblx0Z2V0U29ydE9yZGVyOiBmdW5jdGlvbiAoY2hhcnRBbm5vdGF0aW9uczogQ2hhcnQsIGRpbWVuc2lvblR5cGU/OiBzdHJpbmcsIHNvcnRPcmRlcj86IFNvcnRPcmRlciwgY2hhcnRNZWFzdXJlPzogc3RyaW5nKSB7XG5cdFx0aWYgKGNoYXJ0QW5ub3RhdGlvbnMuQ2hhcnRUeXBlID09PSBcIlVJLkNoYXJ0VHlwZS9Eb251dFwiIHx8IGNoYXJ0QW5ub3RhdGlvbnMuQ2hhcnRUeXBlID09PSBcIlVJLkNoYXJ0VHlwZS9CYXJcIikge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyRXhwcmVzc2lvbkZyb21NZWFzdXJlKHNvcnRPcmRlciwgY2hhcnRNZWFzdXJlKTtcblx0XHR9IGVsc2UgaWYgKGRpbWVuc2lvblR5cGUgPT09IFwiRWRtLkRhdGVcIiB8fCBkaW1lbnNpb25UeXBlID09PSBcIkVkbS5UaW1lXCIgfHwgZGltZW5zaW9uVHlwZSA9PT0gXCJFZG0uRGF0ZVRpbWVPZmZzZXRcIikge1xuXHRcdFx0cmV0dXJuIFwiJyRvcmRlcmJ5JyA6ICdcIiArIGNoYXJ0QW5ub3RhdGlvbnMuRGltZW5zaW9uc1swXS52YWx1ZSArIFwiJ1wiO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRzb3J0T3JkZXIgJiZcblx0XHRcdHNvcnRPcmRlci5sZW5ndGggJiZcblx0XHRcdChzb3J0T3JkZXJbMF0uUHJvcGVydHk/LiR0YXJnZXQgYXMgdW5rbm93biBhcyBQYXRoQW5ub3RhdGlvbkV4cHJlc3Npb248c3RyaW5nPik/LnBhdGggPT09IGNoYXJ0QW5ub3RhdGlvbnMuRGltZW5zaW9uc1swXS52YWx1ZVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIFwiJyRvcmRlcmJ5JyA6ICdcIiArIHNvcnRPcmRlclswXS5Qcm9wZXJ0eT8uJHRhcmdldD8ubmFtZSArIChzb3J0T3JkZXJbMF0uRGVzY2VuZGluZyA/IFwiIGRlc2MnXCIgOiBcIidcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBcIickb3JkZXJieScgOiAnXCIgKyBjaGFydEFubm90YXRpb25zLkRpbWVuc2lvbnNbMF0uJHRhcmdldD8ubmFtZSArIFwiJ1wiO1xuXHRcdH1cblx0fSxcblx0Z2V0TWF4SXRlbXM6IGZ1bmN0aW9uIChjaGFydEFubm90YXRpb25zOiBDaGFydCkge1xuXHRcdGlmIChjaGFydEFubm90YXRpb25zLkNoYXJ0VHlwZSA9PT0gXCJVSS5DaGFydFR5cGUvQmFyXCIpIHtcblx0XHRcdHJldHVybiBcIiwnc3RhcnRJbmRleCcgOiAwLCdsZW5ndGgnIDogM1wiO1xuXHRcdH0gZWxzZSBpZiAoY2hhcnRBbm5vdGF0aW9ucy5DaGFydFR5cGUgPT09IFwiVUkuQ2hhcnRUeXBlL0xpbmVcIikge1xuXHRcdFx0cmV0dXJuIFwiLCdzdGFydEluZGV4JyA6IDAsJ2xlbmd0aCcgOiA2XCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblx0fSxcblx0Z2V0Q29sb3JCaW5kaW5nOiBmdW5jdGlvbiAoZGF0YVBvaW50OiBEYXRhUG9pbnQsIGRpbWVuc2lvbjogUHJvcGVydHlQYXRoKSB7XG5cdFx0Y29uc3QgdmFsdWVDcml0aWNhbGl0eSA9IGRpbWVuc2lvbj8uJHRhcmdldD8uYW5ub3RhdGlvbnM/LlVJPy5WYWx1ZUNyaXRpY2FsaXR5O1xuXHRcdGlmIChkYXRhUG9pbnQ/LkNyaXRpY2FsaXR5KSB7XG5cdFx0XHRyZXR1cm4gYnVpbGRFeHByZXNzaW9uRm9yQ3JpdGljYWxpdHlDb2xvck1pY3JvQ2hhcnQoZGF0YVBvaW50KTtcblx0XHR9IGVsc2UgaWYgKGRhdGFQb2ludD8uQ3JpdGljYWxpdHlDYWxjdWxhdGlvbikge1xuXHRcdFx0Y29uc3Qgb0RpcmVjdGlvbiA9IGRhdGFQb2ludC5Dcml0aWNhbGl0eUNhbGN1bGF0aW9uLkltcHJvdmVtZW50RGlyZWN0aW9uO1xuXHRcdFx0Y29uc3Qgb0RhdGFQb2ludFZhbHVlID0gZGF0YVBvaW50LlZhbHVlO1xuXHRcdFx0Y29uc3Qgb0RldmlhdGlvblJhbmdlTG93VmFsdWUgPSBkYXRhUG9pbnQuQ3JpdGljYWxpdHlDYWxjdWxhdGlvbi5EZXZpYXRpb25SYW5nZUxvd1ZhbHVlLnZhbHVlT2YoKTtcblx0XHRcdGNvbnN0IG9Ub2xlcmFuY2VSYW5nZUxvd1ZhbHVlID0gZGF0YVBvaW50LkNyaXRpY2FsaXR5Q2FsY3VsYXRpb24uVG9sZXJhbmNlUmFuZ2VMb3dWYWx1ZS52YWx1ZU9mKCk7XG5cdFx0XHRjb25zdCBvQWNjZXB0YW5jZVJhbmdlTG93VmFsdWUgPSBkYXRhUG9pbnQuQ3JpdGljYWxpdHlDYWxjdWxhdGlvbi5BY2NlcHRhbmNlUmFuZ2VMb3dWYWx1ZS52YWx1ZU9mKCk7XG5cdFx0XHRjb25zdCBvQWNjZXB0YW5jZVJhbmdlSGlnaFZhbHVlID0gZGF0YVBvaW50LkNyaXRpY2FsaXR5Q2FsY3VsYXRpb24uQWNjZXB0YW5jZVJhbmdlSGlnaFZhbHVlLnZhbHVlT2YoKTtcblx0XHRcdGNvbnN0IG9Ub2xlcmFuY2VSYW5nZUhpZ2hWYWx1ZSA9IGRhdGFQb2ludC5Dcml0aWNhbGl0eUNhbGN1bGF0aW9uLlRvbGVyYW5jZVJhbmdlSGlnaFZhbHVlLnZhbHVlT2YoKTtcblx0XHRcdGNvbnN0IG9EZXZpYXRpb25SYW5nZUhpZ2hWYWx1ZSA9IGRhdGFQb2ludC5Dcml0aWNhbGl0eUNhbGN1bGF0aW9uLkRldmlhdGlvblJhbmdlSGlnaFZhbHVlLnZhbHVlT2YoKTtcblx0XHRcdHJldHVybiBDb21tb25IZWxwZXIuZ2V0Q3JpdGljYWxpdHlDYWxjdWxhdGlvbkJpbmRpbmcoXG5cdFx0XHRcdG9EaXJlY3Rpb24sXG5cdFx0XHRcdG9EYXRhUG9pbnRWYWx1ZSxcblx0XHRcdFx0b0RldmlhdGlvblJhbmdlTG93VmFsdWUsXG5cdFx0XHRcdG9Ub2xlcmFuY2VSYW5nZUxvd1ZhbHVlLFxuXHRcdFx0XHRvQWNjZXB0YW5jZVJhbmdlTG93VmFsdWUsXG5cdFx0XHRcdG9BY2NlcHRhbmNlUmFuZ2VIaWdoVmFsdWUsXG5cdFx0XHRcdG9Ub2xlcmFuY2VSYW5nZUhpZ2hWYWx1ZSxcblx0XHRcdFx0b0RldmlhdGlvblJhbmdlSGlnaFZhbHVlXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSBpZiAodmFsdWVDcml0aWNhbGl0eSAmJiB2YWx1ZUNyaXRpY2FsaXR5Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0VmFsdWVDcml0aWNhbGl0eShkaW1lbnNpb24udmFsdWUsIHZhbHVlQ3JpdGljYWxpdHkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fSxcblx0Z2V0VmFsdWVDcml0aWNhbGl0eTogZnVuY3Rpb24gKGRpbWVuc2lvbjogc3RyaW5nLCB2YWx1ZUNyaXRpY2FsaXR5OiBBcnJheTxWYWx1ZUNyaXRpY2FsaXR5VHlwZT4pIHtcblx0XHRsZXQgcmVzdWx0O1xuXHRcdGNvbnN0IHZhbHVlczogc3RyaW5nW10gPSBbXTtcblx0XHRpZiAodmFsdWVDcml0aWNhbGl0eSAmJiB2YWx1ZUNyaXRpY2FsaXR5Lmxlbmd0aCA+IDApIHtcblx0XHRcdHZhbHVlQ3JpdGljYWxpdHkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWVDcml0aWNhbGl0eVR5cGU6IFZhbHVlQ3JpdGljYWxpdHlUeXBlKSB7XG5cdFx0XHRcdGlmICh2YWx1ZUNyaXRpY2FsaXR5VHlwZS5WYWx1ZSAmJiB2YWx1ZUNyaXRpY2FsaXR5VHlwZS5Dcml0aWNhbGl0eSkge1xuXHRcdFx0XHRcdGNvbnN0IHZhbHVlID1cblx0XHRcdFx0XHRcdFwiJHtcIiArXG5cdFx0XHRcdFx0XHRkaW1lbnNpb24gK1xuXHRcdFx0XHRcdFx0XCJ9ID09PSAnXCIgK1xuXHRcdFx0XHRcdFx0dmFsdWVDcml0aWNhbGl0eVR5cGUuVmFsdWUgK1xuXHRcdFx0XHRcdFx0XCInID8gJ1wiICtcblx0XHRcdFx0XHRcdEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuX2dldENyaXRpY2FsaXR5RnJvbUVudW0odmFsdWVDcml0aWNhbGl0eVR5cGUuQ3JpdGljYWxpdHkpICtcblx0XHRcdFx0XHRcdFwiJ1wiO1xuXHRcdFx0XHRcdHZhbHVlcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXN1bHQgPSB2YWx1ZXMubGVuZ3RoID4gMCAmJiB2YWx1ZXMuam9pbihcIiA6IFwiKSArIFwiIDogdW5kZWZpbmVkXCI7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQgPyBcIns9IFwiICsgcmVzdWx0ICsgXCIgfVwiIDogdW5kZWZpbmVkO1xuXHR9LFxuXHQvKipcblx0ICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjcml0aWNhbGl0eSBpbmRpY2F0b3IgZnJvbSBhbm5vdGF0aW9ucyBpZiBjcml0aWNhbGl0eSBpcyBFbnVtTWVtYmVyLlxuXHQgKlxuXHQgKiBAcGFyYW0gY3JpdGljYWxpdHkgQ3JpdGljYWxpdHkgcHJvdmlkZWQgaW4gdGhlIGFubm90YXRpb25zXG5cdCAqIEByZXR1cm5zIFJldHVybiB0aGUgaW5kaWNhdG9yIGZvciBjcml0aWNhbGl0eVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0X2dldENyaXRpY2FsaXR5RnJvbUVudW06IGZ1bmN0aW9uIChjcml0aWNhbGl0eTogc3RyaW5nKSB7XG5cdFx0Y29uc3QgdmFsdWVDb2xvciA9IG1MaWJyYXJ5LlZhbHVlQ29sb3I7XG5cdFx0bGV0IGluZGljYXRvcjtcblx0XHRpZiAoY3JpdGljYWxpdHkgPT09IFwiVUkuQ3JpdGljYWxpdHlUeXBlL05lZ2F0aXZlXCIpIHtcblx0XHRcdGluZGljYXRvciA9IHZhbHVlQ29sb3IuRXJyb3I7XG5cdFx0fSBlbHNlIGlmIChjcml0aWNhbGl0eSA9PT0gXCJVSS5Dcml0aWNhbGl0eVR5cGUvUG9zaXRpdmVcIikge1xuXHRcdFx0aW5kaWNhdG9yID0gdmFsdWVDb2xvci5Hb29kO1xuXHRcdH0gZWxzZSBpZiAoY3JpdGljYWxpdHkgPT09IFwiVUkuQ3JpdGljYWxpdHlUeXBlL0NyaXRpY2FsXCIpIHtcblx0XHRcdGluZGljYXRvciA9IHZhbHVlQ29sb3IuQ3JpdGljYWw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluZGljYXRvciA9IHZhbHVlQ29sb3IuTmV1dHJhbDtcblx0XHR9XG5cdFx0cmV0dXJuIGluZGljYXRvcjtcblx0fSxcblx0Z2V0U2NhbGVVb01UaXRsZTogZnVuY3Rpb24gKFxuXHRcdGNoYXJ0QW5ub3RhdGlvbj86IENoYXJ0LFxuXHRcdGNvbGxlY3Rpb24/OiBEYXRhTW9kZWxPYmplY3RQYXRoLFxuXHRcdG1ldGFQYXRoPzogc3RyaW5nLFxuXHRcdGN1c3RvbUFnZ3JlZ2F0ZT86IGJvb2xlYW4sXG5cdFx0YWdncmVnYXRpb24/OiBBZ2dyZWdhdGVkUHJvcGVydHlUeXBlLFxuXHRcdHNlcGVyYXRvcj86IHN0cmluZyxcblx0XHR0b29sVGlwPzogYm9vbGVhblxuXHQpIHtcblx0XHRjb25zdCBzY2FsZUZhY3RvciA9IGNoYXJ0QW5ub3RhdGlvbj8uTWVhc3VyZUF0dHJpYnV0ZXNcblx0XHRcdD8gY2hhcnRBbm5vdGF0aW9uLk1lYXN1cmVBdHRyaWJ1dGVzWzBdPy5EYXRhUG9pbnQ/LiR0YXJnZXQ/LlZhbHVlRm9ybWF0Py5TY2FsZUZhY3Rvcj8udmFsdWVPZigpXG5cdFx0XHQ6IHVuZGVmaW5lZDtcblx0XHRjb25zdCBpbmZvUGF0aCA9IGdlbmVyYXRlKFttZXRhUGF0aF0pO1xuXHRcdGNvbnN0IGZpeGVkSW50ZWdlciA9IE51bWJlckZvcm1hdC5nZXRJbnRlZ2VySW5zdGFuY2Uoe1xuXHRcdFx0c3R5bGU6IFwic2hvcnRcIixcblx0XHRcdHNob3dTY2FsZTogZmFsc2UsXG5cdFx0XHRzaG9ydFJlZk51bWJlcjogc2NhbGVGYWN0b3IgYXMgbnVtYmVyXG5cdFx0fSk7XG5cdFx0bGV0IHNjYWxlID0gZml4ZWRJbnRlZ2VyLmdldFNjYWxlKCk7XG5cdFx0bGV0IFVPTSA9IEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0VW9NKGNoYXJ0QW5ub3RhdGlvbiwgY29sbGVjdGlvbiwgdW5kZWZpbmVkLCBjdXN0b21BZ2dyZWdhdGUsIGFnZ3JlZ2F0aW9uKTtcblx0XHRVT00gPSBVT00gJiYgKChVT00gYXMgUGF0aEFubm90YXRpb25FeHByZXNzaW9uPHN0cmluZz4pLnBhdGggPyBcIiR7aW50ZXJuYWw+dW9tL1wiICsgaW5mb1BhdGggKyBcIn1cIiA6IFwiJ1wiICsgVU9NICsgXCInXCIpO1xuXHRcdHNjYWxlID0gc2NhbGUgPyBcIidcIiArIHNjYWxlICsgXCInXCIgOiBcIiR7aW50ZXJuYWw+c2NhbGVmYWN0b3IvXCIgKyBpbmZvUGF0aCArIFwifVwiO1xuXHRcdGlmICghc2VwZXJhdG9yKSB7XG5cdFx0XHRzZXBlcmF0b3IgPSBcInxcIjtcblx0XHR9XG5cdFx0c2VwZXJhdG9yID0gXCInIFwiICsgc2VwZXJhdG9yICsgXCIgJyArIFwiO1xuXHRcdGNvbnN0IGV4cHJlc3Npb24gPSBzY2FsZSAmJiBVT00gPyBzZXBlcmF0b3IgKyBzY2FsZSArIFwiICsgJyAnICsgXCIgKyBVT00gOiBzZXBlcmF0b3IgKyAoc2NhbGUgfHwgVU9NKTtcblx0XHRyZXR1cm4gdG9vbFRpcCA/IGV4cHJlc3Npb24gOiBcIns9IFwiICsgZXhwcmVzc2lvbiArIFwifVwiO1xuXHR9LFxuXHRnZXRNZWFzdXJlRGltZW5zaW9uVGl0bGU6IGZ1bmN0aW9uIChjaGFydEFubm90YXRpb24/OiBDaGFydCwgY3VzdG9tQWdncmVnYXRlPzogYm9vbGVhbiwgYWdncmVnYXRpb24/OiBBZ2dyZWdhdGVkUHJvcGVydHlUeXBlKSB7XG5cdFx0bGV0IG1lYXN1cmVMYWJlbDtcblx0XHRsZXQgbWVhc3VyZVBhdGg7XG5cdFx0aWYgKGN1c3RvbUFnZ3JlZ2F0ZSkge1xuXHRcdFx0bWVhc3VyZVBhdGggPSBjaGFydEFubm90YXRpb24/Lk1lYXN1cmVzWzBdPy4kdGFyZ2V0Py5uYW1lO1xuXHRcdH1cblx0XHRpZiAoY2hhcnRBbm5vdGF0aW9uPy5EeW5hbWljTWVhc3VyZXMgJiYgY2hhcnRBbm5vdGF0aW9uLkR5bmFtaWNNZWFzdXJlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRtZWFzdXJlUGF0aCA9IChjaGFydEFubm90YXRpb24uRHluYW1pY01lYXN1cmVzWzBdPy4kdGFyZ2V0IGFzIEFnZ3JlZ2F0ZWRQcm9wZXJ0eVR5cGUpPy5BZ2dyZWdhdGFibGVQcm9wZXJ0eT8udmFsdWU7XG5cdFx0fSBlbHNlIGlmICghY3VzdG9tQWdncmVnYXRlICYmIGNoYXJ0QW5ub3RhdGlvbj8uTWVhc3VyZXMgJiYgY2hhcnRBbm5vdGF0aW9uPy5NZWFzdXJlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRtZWFzdXJlUGF0aCA9IGNoYXJ0QW5ub3RhdGlvbi5NZWFzdXJlc1swXT8uJHRhcmdldD8ubmFtZTtcblx0XHR9XG5cdFx0Y29uc3QgZGltZW5zaW9uUGF0aCA9IGNoYXJ0QW5ub3RhdGlvbj8uRGltZW5zaW9uc1swXT8udmFsdWUgYXMgdW5rbm93biBhcyBMYWJlbDtcblx0XHRsZXQgZGltZW5zaW9uTGFiZWwgPSBjaGFydEFubm90YXRpb24/LkRpbWVuc2lvbnNbMF0/LiR0YXJnZXQ/LmFubm90YXRpb25zPy5Db21tb24/LkxhYmVsO1xuXHRcdGlmICghY3VzdG9tQWdncmVnYXRlICYmIGFnZ3JlZ2F0aW9uKSB7XG5cdFx0XHQvLyBjaGVjayBpZiB0aGUgbGFiZWwgaXMgcGFydCBvZiBhZ2dyZWdhdGVkIHByb3BlcnRpZXMgKFRyYW5zZm9ybWF0aW9uIGFnZ3JlZ2F0ZXMpXG5cdFx0XHRtZWFzdXJlTGFiZWwgPSBhZ2dyZWdhdGlvbi5hbm5vdGF0aW9ucyAmJiBhZ2dyZWdhdGlvbi5hbm5vdGF0aW9ucy5Db21tb24gJiYgYWdncmVnYXRpb24uYW5ub3RhdGlvbnMuQ29tbW9uLkxhYmVsO1xuXHRcdFx0aWYgKG1lYXN1cmVMYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG1lYXN1cmVMYWJlbCA9IGNoYXJ0QW5ub3RhdGlvbj8uTWVhc3VyZXNbMF0/LiR0YXJnZXQ/LmFubm90YXRpb25zPy5Db21tb24/LkxhYmVsO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZWFzdXJlTGFiZWwgPSBjaGFydEFubm90YXRpb24/Lk1lYXN1cmVzWzBdPy4kdGFyZ2V0Py5hbm5vdGF0aW9ucz8uQ29tbW9uPy5MYWJlbDtcblx0XHR9XG5cdFx0aWYgKG1lYXN1cmVMYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRtZWFzdXJlTGFiZWwgPSBtZWFzdXJlUGF0aDtcblx0XHR9XG5cdFx0aWYgKGRpbWVuc2lvbkxhYmVsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGRpbWVuc2lvbkxhYmVsID0gZGltZW5zaW9uUGF0aDtcblx0XHR9XG5cdFx0cmV0dXJuIENvcmUuZ2V0TGlicmFyeVJlc291cmNlQnVuZGxlKFwic2FwLmZlLm1hY3Jvc1wiKS5nZXRUZXh0KFwiTV9JTlRFUkFDVElWRV9DSEFSVF9IRUxQRVJfVklTVUFMRklMVEVSX01FQVNVUkVfRElNRU5TSU9OX1RJVExFXCIsIFtcblx0XHRcdG1lYXN1cmVMYWJlbCxcblx0XHRcdGRpbWVuc2lvbkxhYmVsXG5cdFx0XSk7XG5cdH0sXG5cblx0Z2V0VG9vbFRpcDogZnVuY3Rpb24gKFxuXHRcdGNoYXJ0QW5ub3RhdGlvbj86IENoYXJ0LFxuXHRcdGNvbGxlY3Rpb24/OiBEYXRhTW9kZWxPYmplY3RQYXRoLFxuXHRcdG1ldGFQYXRoPzogc3RyaW5nLFxuXHRcdGN1c3RvbUFnZ3JlZ2F0ZT86IGJvb2xlYW4sXG5cdFx0YWdncmVnYXRpb24/OiBBZ2dyZWdhdGVkUHJvcGVydHlUeXBlLFxuXHRcdHJlbmRlckxpbmVDaGFydD86IGJvb2xlYW4gfCBzdHJpbmdcblx0KSB7XG5cdFx0Y29uc3QgY2hhcnRUeXBlID0gY2hhcnRBbm5vdGF0aW9uICYmIGNoYXJ0QW5ub3RhdGlvbltcIkNoYXJ0VHlwZVwiXTtcblx0XHRsZXQgbWVhc3VyZURpbWVuc2lvblRvb2xUaXAgPSBJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldE1lYXN1cmVEaW1lbnNpb25UaXRsZShjaGFydEFubm90YXRpb24sIGN1c3RvbUFnZ3JlZ2F0ZSwgYWdncmVnYXRpb24pO1xuXHRcdG1lYXN1cmVEaW1lbnNpb25Ub29sVGlwID0gQ29tbW9uSGVscGVyLmVzY2FwZVNpbmdsZVF1b3RlcyhtZWFzdXJlRGltZW5zaW9uVG9vbFRpcCk7XG5cdFx0aWYgKHJlbmRlckxpbmVDaGFydCA9PT0gXCJmYWxzZVwiICYmIGNoYXJ0VHlwZSA9PT0gXCJVSS5DaGFydFR5cGUvTGluZVwiKSB7XG5cdFx0XHRyZXR1cm4gYHs9ICcke21lYXN1cmVEaW1lbnNpb25Ub29sVGlwfSd9YDtcblx0XHR9XG5cblx0XHRjb25zdCBzZXBlcmF0b3IgPSBDb3JlLmdldExpYnJhcnlSZXNvdXJjZUJ1bmRsZShcInNhcC5mZS5tYWNyb3NcIikuZ2V0VGV4dChcblx0XHRcdFwiTV9JTlRFUkFDVElWRV9DSEFSVF9IRUxQRVJfVklTVUFMRklMVEVSX1RPT0xUSVBfU0VQRVJBVE9SXCJcblx0XHQpO1xuXHRcdGNvbnN0IGluZm9QYXRoID0gZ2VuZXJhdGUoW21ldGFQYXRoXSk7XG5cdFx0Y29uc3Qgc2NhbGVVT01Ub29sdGlwID0gSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRTY2FsZVVvTVRpdGxlKFxuXHRcdFx0Y2hhcnRBbm5vdGF0aW9uLFxuXHRcdFx0Y29sbGVjdGlvbixcblx0XHRcdGluZm9QYXRoLFxuXHRcdFx0Y3VzdG9tQWdncmVnYXRlLFxuXHRcdFx0YWdncmVnYXRpb24sXG5cdFx0XHRzZXBlcmF0b3IsXG5cdFx0XHR0cnVlXG5cdFx0KTtcblx0XHRyZXR1cm4gXCJ7PSAnXCIgKyBtZWFzdXJlRGltZW5zaW9uVG9vbFRpcCArIChzY2FsZVVPTVRvb2x0aXAgPyBcIicgKyBcIiArIHNjYWxlVU9NVG9vbHRpcCA6IFwiJ1wiKSArIFwifVwiO1xuXHR9LFxuXHRfZ2V0VU9NOiBmdW5jdGlvbiAoXG5cdFx0VU9NT2JqZWN0UGF0aD86IFBhdGhBbm5vdGF0aW9uRXhwcmVzc2lvbjxzdHJpbmc+LFxuXHRcdFVPTT86IHN0cmluZyxcblx0XHRjb2xsZWN0aW9uPzogRGF0YU1vZGVsT2JqZWN0UGF0aCxcblx0XHRjdXN0b21EYXRhPzogYm9vbGVhbixcblx0XHRhZ2dyZWdhdGFibGVQcm9wZXJ0eVBhdGg/OiBzdHJpbmdcblx0KSB7XG5cdFx0Y29uc3QgVU9NT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXHRcdGNvbnN0IGNvbGxlY3Rpb25PYmplY3QgPSBjb2xsZWN0aW9uPy50YXJnZXRPYmplY3Q7XG5cdFx0aWYgKFVPTU9iamVjdFBhdGggJiYgVU9NKSB7XG5cdFx0XHQvLyBjaGVjayBpZiB0aGUgVU9NIGlzIHBhcnQgb2YgTWVhc3VyZSBhbm5vdGF0aW9ucyhDdXN0b20gYWdncmVnYXRlcylcblx0XHRcdFVPTU9iamVjdFtVT01dID0geyAkUGF0aDogVU9NT2JqZWN0UGF0aC5wYXRoIH07XG5cdFx0XHRyZXR1cm4gY3VzdG9tRGF0YSAmJiBVT01PYmplY3RQYXRoLnBhdGggPyBKU09OLnN0cmluZ2lmeShVT01PYmplY3QpIDogVU9NT2JqZWN0UGF0aDtcblx0XHR9IGVsc2UgaWYgKGFnZ3JlZ2F0YWJsZVByb3BlcnR5UGF0aCkge1xuXHRcdFx0Ly8gY2hlY2sgaWYgdGhlIFVPTSBpcyBwYXJ0IG9mIGJhc2UgcHJvcGVydHkgYW5ub3RhdGlvbnMoVHJhbnNmb3JtYXRpb24gYWdncmVnYXRlcylcblx0XHRcdGNvbnN0IGVudGl0eVByb3BlcnRpZXMgPSBjb2xsZWN0aW9uT2JqZWN0LmVudGl0eVR5cGVcblx0XHRcdFx0PyBjb2xsZWN0aW9uT2JqZWN0LmVudGl0eVR5cGUuZW50aXR5UHJvcGVydGllc1xuXHRcdFx0XHQ6IGNvbGxlY3Rpb25PYmplY3QudGFyZ2V0VHlwZT8uZW50aXR5UHJvcGVydGllcztcblx0XHRcdGNvbnN0IHByb3BlcnR5QW5ub3RhdGlvbnMgPSBlbnRpdHlQcm9wZXJ0aWVzPy5maW5kKChwcm9wZXJ0eTogUHJvcGVydHkpID0+IHByb3BlcnR5Lm5hbWUgPT0gYWdncmVnYXRhYmxlUHJvcGVydHlQYXRoKTtcblx0XHRcdGlmIChwcm9wZXJ0eUFubm90YXRpb25zPy5hbm5vdGF0aW9ucz8uTWVhc3VyZXMgJiYgVU9NKSB7XG5cdFx0XHRcdFVPTU9iamVjdFBhdGggPSBwcm9wZXJ0eUFubm90YXRpb25zPy5hbm5vdGF0aW9ucz8uTWVhc3VyZXNbVU9NXTtcblx0XHRcdFx0VU9NT2JqZWN0W1VPTV0gPSB7ICRQYXRoOiBVT01PYmplY3RQYXRoPy5wYXRoIH07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gVU9NT2JqZWN0UGF0aCAmJiBjdXN0b21EYXRhICYmIFVPTU9iamVjdFBhdGgucGF0aCA/IEpTT04uc3RyaW5naWZ5KFVPTU9iamVjdCkgOiBVT01PYmplY3RQYXRoO1xuXHRcdH1cblx0fSxcblx0Z2V0VW9NOiBmdW5jdGlvbiAoXG5cdFx0Y2hhcnRBbm5vdGF0aW9uPzogQ2hhcnQsXG5cdFx0Y29sbGVjdGlvbj86IERhdGFNb2RlbE9iamVjdFBhdGgsXG5cdFx0Y3VzdG9tRGF0YT86IGJvb2xlYW4sXG5cdFx0Y3VzdG9tQWdncmVnYXRlPzogYm9vbGVhbixcblx0XHRhZ2dyZWdhdGlvbj86IEFnZ3JlZ2F0ZWRQcm9wZXJ0eVR5cGVcblx0KSB7XG5cdFx0bGV0IG1lYXN1cmU6IE1lYXN1cmVUeXBlID0ge307XG5cdFx0aWYgKGN1c3RvbUFnZ3JlZ2F0ZSkge1xuXHRcdFx0bWVhc3VyZSA9IGNoYXJ0QW5ub3RhdGlvbj8uTWVhc3VyZXNbMF0gYXMgTWVhc3VyZVR5cGU7XG5cdFx0fVxuXHRcdGlmIChjaGFydEFubm90YXRpb24/LkR5bmFtaWNNZWFzdXJlcyAmJiBjaGFydEFubm90YXRpb24uRHluYW1pY01lYXN1cmVzLmxlbmd0aCA+IDApIHtcblx0XHRcdG1lYXN1cmUgPSAoY2hhcnRBbm5vdGF0aW9uLkR5bmFtaWNNZWFzdXJlc1swXT8uJHRhcmdldCBhcyBBZ2dyZWdhdGVkUHJvcGVydHlUeXBlKT8uQWdncmVnYXRhYmxlUHJvcGVydHk/LiR0YXJnZXQ/LmFubm90YXRpb25zXG5cdFx0XHRcdD8uTWVhc3VyZXMgYXMgTWVhc3VyZVR5cGU7XG5cdFx0fSBlbHNlIGlmICghY3VzdG9tQWdncmVnYXRlICYmIGNoYXJ0QW5ub3RhdGlvbj8uTWVhc3VyZXMgJiYgY2hhcnRBbm5vdGF0aW9uLk1lYXN1cmVzLmxlbmd0aCA+IDApIHtcblx0XHRcdG1lYXN1cmUgPSBjaGFydEFubm90YXRpb24uTWVhc3VyZXNbMF07XG5cdFx0fVxuXHRcdGNvbnN0IElTT0N1cnJlbmN5ID0gbWVhc3VyZT8uSVNPQ3VycmVuY3k7XG5cdFx0Y29uc3QgdW5pdCA9IG1lYXN1cmU/LlVuaXQ7XG5cdFx0bGV0IGFnZ3JlZ2F0YWJsZVByb3BlcnR5UGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRcdGlmICghY3VzdG9tQWdncmVnYXRlICYmIGFnZ3JlZ2F0aW9uKSB7XG5cdFx0XHRhZ2dyZWdhdGFibGVQcm9wZXJ0eVBhdGggPSBhZ2dyZWdhdGlvbi5BZ2dyZWdhdGFibGVQcm9wZXJ0eSAmJiBhZ2dyZWdhdGlvbi5BZ2dyZWdhdGFibGVQcm9wZXJ0eS52YWx1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWdncmVnYXRhYmxlUHJvcGVydHlQYXRoID0gbWVhc3VyZT8udmFsdWU7XG5cdFx0fVxuXHRcdHJldHVybiAoXG5cdFx0XHR0aGlzLl9nZXRVT00oSVNPQ3VycmVuY3ksIFwiSVNPQ3VycmVuY3lcIiwgY29sbGVjdGlvbiwgY3VzdG9tRGF0YSwgYWdncmVnYXRhYmxlUHJvcGVydHlQYXRoKSB8fFxuXHRcdFx0dGhpcy5fZ2V0VU9NKHVuaXQsIFwiVW5pdFwiLCBjb2xsZWN0aW9uLCBjdXN0b21EYXRhLCBhZ2dyZWdhdGFibGVQcm9wZXJ0eVBhdGgpXG5cdFx0KTtcblx0fSxcblx0Z2V0U2NhbGVGYWN0b3I6IGZ1bmN0aW9uICh2YWx1ZUZvcm1hdD86IE51bWJlckZvcm1hdFR5cGUpIHtcblx0XHRpZiAodmFsdWVGb3JtYXQgJiYgdmFsdWVGb3JtYXQuU2NhbGVGYWN0b3IpIHtcblx0XHRcdHJldHVybiB2YWx1ZUZvcm1hdC5TY2FsZUZhY3Rvci52YWx1ZU9mKCk7XG5cdFx0fVxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH0sXG5cdGdldFVvTVZpc2libGl0eTogZnVuY3Rpb24gKGNoYXJ0QW5ub3RhdGlvbj86IENoYXJ0LCBzaG93RXJyb3I/OiBib29sZWFuKSB7XG5cdFx0Y29uc3QgY2hhcnRUeXBlID0gY2hhcnRBbm5vdGF0aW9uICYmIGNoYXJ0QW5ub3RhdGlvbltcIkNoYXJ0VHlwZVwiXTtcblx0XHRpZiAoc2hvd0Vycm9yKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBlbHNlIGlmICghKGNoYXJ0VHlwZSA9PT0gXCJVSS5DaGFydFR5cGUvQmFyXCIgfHwgY2hhcnRUeXBlID09PSBcIlVJLkNoYXJ0VHlwZS9MaW5lXCIpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSxcblx0Z2V0SW5QYXJhbWV0ZXJGaWx0ZXJzQmluZGluZzogZnVuY3Rpb24gKGluUGFyYW1ldGVyczogQXJyYXk8UGFyYW1ldGVyVHlwZT4pIHtcblx0XHRpZiAoaW5QYXJhbWV0ZXJzLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdFx0bGV0IHBhdGhzID0gXCJcIjtcblx0XHRcdGluUGFyYW1ldGVycy5mb3JFYWNoKGZ1bmN0aW9uIChpblBhcmFtZXRlcjogUGFyYW1ldGVyVHlwZSkge1xuXHRcdFx0XHRpZiAoaW5QYXJhbWV0ZXIubG9jYWxEYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0XHRwYXJ0cy5wdXNoKGB7cGF0aDonJGZpbHRlcnM+L2NvbmRpdGlvbnMvJHtpblBhcmFtZXRlci5sb2NhbERhdGFQcm9wZXJ0eX0nfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGlmIChwYXJ0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHBhdGhzID0gcGFydHMuam9pbigpO1xuXHRcdFx0XHRyZXR1cm4gYHtwYXJ0czpbJHtwYXRoc31dLCBmb3JtYXR0ZXI6J3NhcC5mZS5tYWNyb3MudmlzdWFsZmlsdGVycy5WaXN1YWxGaWx0ZXJSdW50aW1lLmdldEZpbHRlcnNGcm9tQ29uZGl0aW9ucyd9YDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9LFxuXG5cdGdldGZpbHRlckNvdW50QmluZGluZzogZnVuY3Rpb24gKGNoYXJ0QW5ub3RhdGlvbj86IENoYXJ0KSB7XG5cdFx0Y29uc3QgZGltZW5zaW9uID0gY2hhcnRBbm5vdGF0aW9uPy5EaW1lbnNpb25zWzBdPy4kdGFyZ2V0Py5uYW1lO1xuXHRcdHJldHVybiAoXG5cdFx0XHRcIntwYXRoOickZmlsdGVycz4vY29uZGl0aW9ucy9cIiArIGRpbWVuc2lvbiArIFwiJywgZm9ybWF0dGVyOidzYXAuZmUubWFjcm9zLnZpc3VhbGZpbHRlcnMuVmlzdWFsRmlsdGVyUnVudGltZS5nZXRGaWx0ZXJDb3VudHMnfVwiXG5cdFx0KTtcblx0fSxcblxuXHRnZXRJbnRlcmFjdGl2ZUNoYXJ0UHJvcGVydGllczogZnVuY3Rpb24gKHZpc3VhbEZpbHRlcjogVmlzdWFsRmlsdGVyQmxvY2spIHtcblx0XHRjb25zdCBjaGFydEFubm90YXRpb24gPSB2aXN1YWxGaWx0ZXIuY2hhcnRBbm5vdGF0aW9uO1xuXHRcdGNvbnN0IGludGVyYWN0aXZlQ2hhcnRQcm9wZXJ0aWVzOiBJbnRlcmFjdGl2ZUNoYXJ0VHlwZSA9IHt9O1xuXHRcdGlmICh2aXN1YWxGaWx0ZXIuY2hhcnRNZWFzdXJlICYmIGNoYXJ0QW5ub3RhdGlvbj8uRGltZW5zaW9ucyAmJiBjaGFydEFubm90YXRpb24uRGltZW5zaW9uc1swXSkge1xuXHRcdFx0Y29uc3QgaWQgPSBnZW5lcmF0ZShbdmlzdWFsRmlsdGVyLm1ldGFQYXRoPy5nZXRQYXRoKCldKTtcblx0XHRcdGludGVyYWN0aXZlQ2hhcnRQcm9wZXJ0aWVzLnNob3dFcnJvckV4cHJlc3Npb24gPSBcIiR7aW50ZXJuYWw+XCIgKyBpZCArIFwiL3Nob3dFcnJvcn1cIjtcblx0XHRcdGludGVyYWN0aXZlQ2hhcnRQcm9wZXJ0aWVzLmVycm9yTWVzc2FnZUV4cHJlc3Npb24gPSBcIntpbnRlcm5hbD5cIiArIGlkICsgXCIvZXJyb3JNZXNzYWdlfVwiO1xuXHRcdFx0aW50ZXJhY3RpdmVDaGFydFByb3BlcnRpZXMuZXJyb3JNZXNzYWdlVGl0bGVFeHByZXNzaW9uID0gXCJ7aW50ZXJuYWw+XCIgKyBpZCArIFwiL2Vycm9yTWVzc2FnZVRpdGxlfVwiO1xuXHRcdFx0bGV0IGRhdGFQb2ludEFubm90YXRpb247XG5cdFx0XHRpZiAoY2hhcnRBbm5vdGF0aW9uPy5NZWFzdXJlQXR0cmlidXRlcyAmJiBjaGFydEFubm90YXRpb24/Lk1lYXN1cmVBdHRyaWJ1dGVzWzBdKSB7XG5cdFx0XHRcdGRhdGFQb2ludEFubm90YXRpb24gPSBjaGFydEFubm90YXRpb24/Lk1lYXN1cmVBdHRyaWJ1dGVzWzBdPy5EYXRhUG9pbnRcblx0XHRcdFx0XHQ/IGNoYXJ0QW5ub3RhdGlvbj8uTWVhc3VyZUF0dHJpYnV0ZXNbMF0uRGF0YVBvaW50LiR0YXJnZXRcblx0XHRcdFx0XHQ6IGNoYXJ0QW5ub3RhdGlvbj8uTWVhc3VyZUF0dHJpYnV0ZXNbMF07XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBkaW1lbnNpb24gPSBjaGFydEFubm90YXRpb24/LkRpbWVuc2lvbnNbMF07XG5cdFx0XHRjb25zdCBwYXJhbWV0ZXJzID0gQ29tbW9uSGVscGVyLmdldFBhcmFtZXRlcnModmlzdWFsRmlsdGVyLmNvbnRleHRQYXRoLmdldE9iamVjdCgpLCB7IGNvbnRleHQ6IHZpc3VhbEZpbHRlci5jb250ZXh0UGF0aCB9KTtcblx0XHRcdGNvbnN0IGRpbWVuc2lvblRleHQgPSBkaW1lbnNpb24/LiR0YXJnZXQ/LmFubm90YXRpb25zPy5Db21tb24/LlRleHQgYXMgdW5rbm93biBhcyBQYXRoQW5ub3RhdGlvbkV4cHJlc3Npb248c3RyaW5nPjtcblx0XHRcdGNvbnN0IGNvbnRleHRPYmplY3RQYXRoID0gZ2V0SW52b2x2ZWREYXRhTW9kZWxPYmplY3RzKHZpc3VhbEZpbHRlci5tZXRhUGF0aCwgdmlzdWFsRmlsdGVyLmNvbnRleHRQYXRoKS50YXJnZXRPYmplY3Q7XG5cdFx0XHRjb25zdCBjb2xsZWN0aW9uID0gZ2V0SW52b2x2ZWREYXRhTW9kZWxPYmplY3RzKHZpc3VhbEZpbHRlci5jb250ZXh0UGF0aCk7XG5cdFx0XHRjb25zdCBzZWxlY3Rpb25WYXJpYW50ID0gdmlzdWFsRmlsdGVyLnNlbGVjdGlvblZhcmlhbnRBbm5vdGF0aW9uXG5cdFx0XHRcdD8gZ2V0SW52b2x2ZWREYXRhTW9kZWxPYmplY3RzKHZpc3VhbEZpbHRlci5zZWxlY3Rpb25WYXJpYW50QW5ub3RhdGlvbilcblx0XHRcdFx0OiB1bmRlZmluZWQ7XG5cdFx0XHRjb25zdCBzb3J0T3JkZXIgPSBjb250ZXh0T2JqZWN0UGF0aC5Tb3J0T3JkZXI7XG5cdFx0XHRpbnRlcmFjdGl2ZUNoYXJ0UHJvcGVydGllcy5hZ2dyZWdhdGlvbkJpbmRpbmcgPSBJbnRlcmFjdGl2ZUNoYXJ0SGVscGVyLmdldEFnZ3JlZ2F0aW9uQmluZGluZyhcblx0XHRcdFx0Y2hhcnRBbm5vdGF0aW9uLFxuXHRcdFx0XHRjb2xsZWN0aW9uLFxuXHRcdFx0XHR2aXN1YWxGaWx0ZXIuY29udGV4dFBhdGgsXG5cdFx0XHRcdGRpbWVuc2lvblRleHQsXG5cdFx0XHRcdGRpbWVuc2lvbi4kdGFyZ2V0LnR5cGUsXG5cdFx0XHRcdHNvcnRPcmRlcixcblx0XHRcdFx0c2VsZWN0aW9uVmFyaWFudCxcblx0XHRcdFx0dmlzdWFsRmlsdGVyLmN1c3RvbUFnZ3JlZ2F0ZSxcblx0XHRcdFx0dmlzdWFsRmlsdGVyLmFnZ3JlZ2F0ZVByb3BlcnRpZXMsXG5cdFx0XHRcdHZpc3VhbEZpbHRlci5Vb01IYXNDdXN0b21BZ2dyZWdhdGUsXG5cdFx0XHRcdHBhcmFtZXRlcnMsXG5cdFx0XHRcdHZpc3VhbEZpbHRlci5maWx0ZXJCYXJFbnRpdHlUeXBlLFxuXHRcdFx0XHR2aXN1YWxGaWx0ZXIuZHJhZnRTdXBwb3J0ZWQsXG5cdFx0XHRcdHZpc3VhbEZpbHRlci5jaGFydE1lYXN1cmVcblx0XHRcdCk7XG5cdFx0XHRpbnRlcmFjdGl2ZUNoYXJ0UHJvcGVydGllcy5zY2FsZWZhY3RvciA9IEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0U2NhbGVGYWN0b3IoKGRhdGFQb2ludEFubm90YXRpb24gYXMgRGF0YVBvaW50KT8uVmFsdWVGb3JtYXQpO1xuXHRcdFx0aW50ZXJhY3RpdmVDaGFydFByb3BlcnRpZXMudW9tID0gSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRVb00oXG5cdFx0XHRcdGNoYXJ0QW5ub3RhdGlvbixcblx0XHRcdFx0Y29sbGVjdGlvbixcblx0XHRcdFx0dHJ1ZSxcblx0XHRcdFx0dmlzdWFsRmlsdGVyLmN1c3RvbUFnZ3JlZ2F0ZSxcblx0XHRcdFx0dmlzdWFsRmlsdGVyLmFnZ3JlZ2F0ZVByb3BlcnRpZXNcblx0XHRcdCk7XG5cdFx0XHRpbnRlcmFjdGl2ZUNoYXJ0UHJvcGVydGllcy5pblBhcmFtZXRlcnMgPSBDb21tb25IZWxwZXIuc3RyaW5naWZ5Q3VzdG9tRGF0YSh2aXN1YWxGaWx0ZXIuaW5QYXJhbWV0ZXJzIGFzIG9iamVjdCk7XG5cdFx0XHRpbnRlcmFjdGl2ZUNoYXJ0UHJvcGVydGllcy5pblBhcmFtZXRlckZpbHRlcnMgPSB2aXN1YWxGaWx0ZXIuaW5QYXJhbWV0ZXJzXG5cdFx0XHRcdD8gSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRJblBhcmFtZXRlckZpbHRlcnNCaW5kaW5nKHZpc3VhbEZpbHRlci5pblBhcmFtZXRlcnMpXG5cdFx0XHRcdDogdW5kZWZpbmVkO1xuXHRcdFx0aW50ZXJhY3RpdmVDaGFydFByb3BlcnRpZXMuc2VsZWN0aW9uVmFyaWFudEFubm90YXRpb24gPSB2aXN1YWxGaWx0ZXIuc2VsZWN0aW9uVmFyaWFudEFubm90YXRpb25cblx0XHRcdFx0PyBDb21tb25IZWxwZXIuc3RyaW5naWZ5Q3VzdG9tRGF0YSh2aXN1YWxGaWx0ZXIuc2VsZWN0aW9uVmFyaWFudEFubm90YXRpb24pXG5cdFx0XHRcdDogdW5kZWZpbmVkO1xuXHRcdFx0aW50ZXJhY3RpdmVDaGFydFByb3BlcnRpZXMuc3RyaW5naWZpZWRQYXJhbWV0ZXJzID0gQ29tbW9uSGVscGVyLnN0cmluZ2lmeUN1c3RvbURhdGEocGFyYW1ldGVycyk7XG5cdFx0XHRjb25zdCBkaW1lbnNpb25Db250ZXh0ID0gdmlzdWFsRmlsdGVyLm1ldGFQYXRoXG5cdFx0XHRcdD8uZ2V0TW9kZWwoKVxuXHRcdFx0XHQ/LmNyZWF0ZUJpbmRpbmdDb250ZXh0KHZpc3VhbEZpbHRlci5jb250ZXh0UGF0aC5nZXRQYXRoKCkgKyBcIi9AXCIgKyBkaW1lbnNpb24uZnVsbHlRdWFsaWZpZWROYW1lLnNwbGl0KFwiQFwiKVsxXSk7XG5cdFx0XHRpZiAoZGltZW5zaW9uQ29udGV4dCkge1xuXHRcdFx0XHRjb25zdCBkaW1lbnNpb25PYmplY3QgPSBnZXRJbnZvbHZlZERhdGFNb2RlbE9iamVjdHMoZGltZW5zaW9uQ29udGV4dCwgdmlzdWFsRmlsdGVyLmNvbnRleHRQYXRoKTtcblx0XHRcdFx0aW50ZXJhY3RpdmVDaGFydFByb3BlcnRpZXMuY2hhcnRMYWJlbCA9IGdldFRleHRCaW5kaW5nKGRpbWVuc2lvbk9iamVjdCwge30pO1xuXHRcdFx0fVxuXHRcdFx0aW50ZXJhY3RpdmVDaGFydFByb3BlcnRpZXMubWVhc3VyZSA9IEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0Q2hhcnRWYWx1ZSh2aXN1YWxGaWx0ZXIuY2hhcnRNZWFzdXJlKTtcblx0XHRcdGludGVyYWN0aXZlQ2hhcnRQcm9wZXJ0aWVzLmRpc3BsYXllZFZhbHVlID0gSW50ZXJhY3RpdmVDaGFydEhlbHBlci5nZXRDaGFydERpc3BsYXllZFZhbHVlKFxuXHRcdFx0XHR2aXN1YWxGaWx0ZXIuY2hhcnRNZWFzdXJlLFxuXHRcdFx0XHQoZGF0YVBvaW50QW5ub3RhdGlvbiBhcyBEYXRhUG9pbnQpPy5WYWx1ZUZvcm1hdCxcblx0XHRcdFx0dmlzdWFsRmlsdGVyLm1ldGFQYXRoPy5nZXRQYXRoKClcblx0XHRcdCk7XG5cdFx0XHRpbnRlcmFjdGl2ZUNoYXJ0UHJvcGVydGllcy5jb2xvciA9IEludGVyYWN0aXZlQ2hhcnRIZWxwZXIuZ2V0Q29sb3JCaW5kaW5nKGRhdGFQb2ludEFubm90YXRpb24gYXMgRGF0YVBvaW50LCBkaW1lbnNpb24pO1xuXHRcdH1cblx0XHRyZXR1cm4gaW50ZXJhY3RpdmVDaGFydFByb3BlcnRpZXM7XG5cdH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEludGVyYWN0aXZlQ2hhcnRIZWxwZXI7XG4iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7RUFtREEsTUFBTUEsc0JBQXNCLEdBQUc7SUFDOUJDLHNCQUFzQixFQUFFLFVBQVVDLEtBQWEsRUFBRUMsV0FBOEIsRUFBRUMsUUFBaUIsRUFBRTtNQUNuRyxNQUFNQyxRQUFRLEdBQUdDLFFBQVEsQ0FBQyxDQUFDRixRQUFRLENBQUMsQ0FBQztNQUNyQyxPQUNDLGlCQUFpQixHQUNqQkYsS0FBSyxHQUNMLDJFQUEyRSxJQUMxRUMsV0FBVyxJQUFJQSxXQUFXLENBQUNJLFdBQVcsR0FDcEMsV0FBVyxHQUFHSixXQUFXLENBQUNJLFdBQVcsQ0FBQ0MsT0FBTyxFQUFFLEdBQUcsSUFBSSxHQUN0RCxxQ0FBcUMsR0FBR0gsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUMxREYsV0FBVyxJQUFJQSxXQUFXLENBQUNNLHdCQUF3QixHQUNqRCxXQUFXLEdBQUdOLFdBQVcsQ0FBQ00sd0JBQXdCLEdBQUcsSUFBSSxHQUN6RCxjQUFjLENBQUMsR0FDbEIsNEJBQTRCLEdBQzVCSixRQUFRLEdBQ1IsSUFBSSxHQUNKLFVBQVUsR0FDVkgsS0FBSyxHQUNMLDBFQUEwRSxHQUMxRSw0REFBNEQsQ0FDM0QsQ0FBQztJQUNKLENBQUM7O0lBQ0RRLGFBQWEsRUFBRSxVQUFVUixLQUFhLEVBQUU7TUFDdkMsT0FBTyxTQUFTLEdBQUdBLEtBQUssR0FBRywyRUFBMkU7SUFDdkcsQ0FBQztJQUNEUyxrQkFBa0IsRUFB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