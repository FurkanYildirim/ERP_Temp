{"version":3,"file":"library-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":["AnalyticalListPageComponent","defineUI5Class","ListComponent"],"sourceRoot":"AnalyticalListPage","sources":["Component.ts"],"sourcesContent":["import { defineUI5Class } from \"sap/fe/core/helpers/ClassSupport\";\nimport ListComponent from \"sap/fe/templates/ListComponent\";\n@defineUI5Class(\"sap.fe.templates.AnalyticalListPage.Component\")\nclass AnalyticalListPageComponent extends ListComponent {}\n\nexport default AnalyticalListPageComponent;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;MAGMA,2BAA2B,WADhCC,cAAc,CAAC,+CAA+C,CAAC;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA,EACtBC,aAAa;EAAA,OAExCF,2BAA2B;AAAA"}},{"offset":{"line":21,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","ListComponent","_dec","_class","defineUI5Class","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","AnalyticalListPageComponent","_ListComponent","apply","this","arguments"],"sources":["Component-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,2DAAO,CAAC,mCAAoC,kCAAmC,SAAUC,EAAcC,GAC5G,aAEA,IAAIC,EAAMC,EACV,IAAIC,EAAiBJ,EAAaI,eAClC,SAASC,EAAeC,EAAUC,GAAcD,EAASE,UAAYC,OAAOC,OAAOH,EAAWC,WAAYF,EAASE,UAAUG,YAAcL,EAAUM,EAAgBN,EAAUC,EAAa,CAC5L,SAASK,EAAgBC,EAAGC,GAAKF,EAAkBH,OAAOM,eAAiBN,OAAOM,eAAeC,OAAS,SAASJ,EAAgBC,EAAGC,GAAKD,EAAEI,UAAYH,EAAG,OAAOD,CAAG,EAAG,OAAOD,EAAgBC,EAAGC,EAAI,CACvM,IAAII,GAA+BhB,EAAOE,EAAe,iDAAkDF,EAAKC,EAAsB,SAAUgB,GAC9Id,EAAea,EAA6BC,GAC5C,SAASD,IACP,OAAOC,EAAeC,MAAMC,KAAMC,YAAcD,IAClD,CACA,OAAOH,CACT,CANsI,CAMpIjB,KAAmBE,GACrB,OAAOe,CACT,EAAG","sourceRoot":"AnalyticalListPage"}},{"offset":{"line":26,"column":0},"map":{"version":3,"names":["ChartDelegate","Object","assign","BaseChartDelegate","rebind","oMDCChart","oBindingInfo","oInternalModelContext","getBindingContext","sTemplateContentView","getProperty","getPath"],"sourceRoot":"AnalyticalListPage/chart","sources":["FEChartDelegate.ts"],"sourcesContent":["import BaseChartDelegate from \"sap/fe/macros/chart/ChartDelegate\";\n// ---------------------------------------------------------------------------------------\n// Helper class used to help create content in the chart/item and fill relevant metadata\n// ---------------------------------------------------------------------------------------\n// ---------------------------------------------------------------------------------------\nconst ChartDelegate = Object.assign({}, BaseChartDelegate);\n/**\n * @param oMDCChart The mdc chart control\n * @param oBindingInfo The binding info of chart\n * data in chart and table must be synchronised. every\n * time the chart refreshes, the table must be refreshed too.\n */\nChartDelegate.rebind = function (oMDCChart: any, oBindingInfo: any) {\n\t//\tvar oComponent = flUtils.getAppComponentForControl(oMDCChart);\n\t//\tvar bIsSearchTriggered = oComponent.getAppStateHandler().getIsSearchTriggered();\n\t// workaround in place to prevent chart from loading when go button is present and initial load is false\n\t//\tif (bIsSearchTriggered) {\n\tconst oInternalModelContext = oMDCChart.getBindingContext(\"pageInternal\");\n\tconst sTemplateContentView = oInternalModelContext.getProperty(`${oInternalModelContext.getPath()}/alpContentView`);\n\tif (!sTemplateContentView || sTemplateContentView !== \"Table\") {\n\t\tBaseChartDelegate.rebind(oMDCChart, oBindingInfo);\n\t}\n};\n\nexport default ChartDelegate;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EACA;EACA;EACA;EACA;EACA,MAAMA,aAAa,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEC,iBAAiB,CAAC;EAC1D;AACA;AACA;AACA;AACA;AACA;EACAH,aAAa,CAACI,MAAM,GAAG,UAAUC,SAAc,EAAEC,YAAiB,EAAE;IACnE;IACA;IACA;IACA;IACA,MAAMC,qBAAqB,GAAGF,SAAS,CAACG,iBAAiB,CAAC,cAAc,CAAC;IACzE,MAAMC,oBAAoB,GAAGF,qBAAqB,CAACG,WAAW,CAAE,GAAEH,qBAAqB,CAACI,OAAO,EAAG,iBAAgB,CAAC;IACnH,IAAI,CAACF,oBAAoB,IAAIA,oBAAoB,KAAK,OAAO,EAAE;MAC9DN,iBAAiB,CAACC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC;IAClD;EACD,CAAC;EAAC,OAEaN,aAAa;AAAA"}},{"offset":{"line":57,"column":0},"map":{"version":3,"names":["sap","ui","define","BaseChartDelegate","ChartDelegate","Object","assign","rebind","oMDCChart","oBindingInfo","oInternalModelContext","getBindingContext","sTemplateContentView","getProperty","getPath"],"sources":["FEChartDelegate-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,uEAAO,CAAC,qCAAsC,SAAUC,GAC7D,aAMA,MAAMC,EAAgBC,OAAOC,OAAO,CAAC,EAAGH,GAOxCC,EAAcG,OAAS,SAAUC,EAAWC,GAK1C,MAAMC,EAAwBF,EAAUG,kBAAkB,gBAC1D,MAAMC,EAAuBF,EAAsBG,YAAY,GAAGH,EAAsBI,4BACxF,IAAKF,GAAwBA,IAAyB,QAAS,CAC7DT,EAAkBI,OAAOC,EAAWC,EACtC,CACF,EACA,OAAOL,CACT,EAAG","sourceRoot":"AnalyticalListPage/chart"}},{"offset":{"line":62,"column":0},"map":{"version":3,"names":["VariantManagement","CoreLibrary","InitialLoadMode","ListBasedComponent","defineUI5Class","manifest","technology","deviceTypes","desktop","tablet","phone","supportedThemes","services","templatedViewService","factoryName","startup","settings","viewName","converterType","errorViewName","asyncComponentService","commands","Create","name","shortcut","DeleteEntry","TableSettings","Share","FE_FilterSearch","handleValidation","dependencies","minUI5Version","libs","lazy","contentDensities","compact","cozy","library","property","type","defaultValue","Auto","Page","undefined","TemplateComponent"],"sourceRoot":"","sources":["ListComponent.ts"],"sourcesContent":["import { defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport TemplateComponent from \"sap/fe/core/TemplateComponent\";\nconst VariantManagement = CoreLibrary.VariantManagement,\n\tInitialLoadMode = CoreLibrary.InitialLoadMode;\n\n@defineUI5Class(\"sap.fe.templates.ListComponent\", {\n\tmanifest: {\n\t\t\"sap.ui\": {\n\t\t\ttechnology: \"UI5\",\n\t\t\tdeviceTypes: {\n\t\t\t\tdesktop: true,\n\t\t\t\ttablet: true,\n\t\t\t\tphone: true\n\t\t\t},\n\t\t\tsupportedThemes: [\"sap_fiori_3\", \"sap_hcb\", \"sap_bluecrystal\", \"sap_belize\", \"sap_belize_plus\", \"sap_belize_hcw\"]\n\t\t},\n\t\t\"sap.ui5\": {\n\t\t\tservices: {\n\t\t\t\ttemplatedViewService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.TemplatedViewService\",\n\t\t\t\t\tstartup: \"waitFor\",\n\t\t\t\t\tsettings: {\n\t\t\t\t\t\tviewName: \"sap.fe.templates.ListReport.ListReport\",\n\t\t\t\t\t\tconverterType: \"ListReport\",\n\t\t\t\t\t\terrorViewName: \"sap.fe.core.services.view.TemplatingErrorPage\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tasyncComponentService: {\n\t\t\t\t\tfactoryName: \"sap.fe.core.services.AsyncComponentService\",\n\t\t\t\t\tstartup: \"waitFor\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tcommands: {\n\t\t\t\tCreate: {\n\t\t\t\t\tname: \"Create\",\n\t\t\t\t\tshortcut: \"Ctrl+Enter\"\n\t\t\t\t},\n\t\t\t\tDeleteEntry: {\n\t\t\t\t\tname: \"DeleteEntry\",\n\t\t\t\t\tshortcut: \"Ctrl+D\"\n\t\t\t\t},\n\t\t\t\tTableSettings: {\n\t\t\t\t\tname: \"TableSettings\",\n\t\t\t\t\tshortcut: \"Ctrl+,\"\n\t\t\t\t},\n\t\t\t\tShare: {\n\t\t\t\t\tname: \"Share\",\n\t\t\t\t\tshortcut: \"Shift+Ctrl+S\"\n\t\t\t\t},\n\t\t\t\tFE_FilterSearch: {\n\t\t\t\t\tname: \"FE_FilterSearch\",\n\t\t\t\t\tshortcut: \"Ctrl+Enter\"\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleValidation: true,\n\t\t\tdependencies: {\n\t\t\t\tminUI5Version: \"${sap.ui5.core.version}\",\n\t\t\t\tlibs: {\n\t\t\t\t\t\"sap.f\": {},\n\t\t\t\t\t\"sap.fe.macros\": {\n\t\t\t\t\t\tlazy: true\n\t\t\t\t\t},\n\t\t\t\t\t\"sap.m\": {},\n\t\t\t\t\t\"sap.suite.ui.microchart\": {\n\t\t\t\t\t\tlazy: true\n\t\t\t\t\t},\n\t\t\t\t\t\"sap.ui.core\": {},\n\t\t\t\t\t\"sap.ui.layout\": {},\n\t\t\t\t\t\"sap.ui.mdc\": {},\n\t\t\t\t\t\"sap.ushell\": {\n\t\t\t\t\t\tlazy: true\n\t\t\t\t\t},\n\t\t\t\t\t\"sap.ui.fl\": {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontentDensities: {\n\t\t\t\tcompact: true,\n\t\t\t\tcozy: true\n\t\t\t}\n\t\t}\n\t},\n\tlibrary: \"sap.fe.templates\"\n})\nclass ListBasedComponent extends TemplateComponent {\n\t@property({\n\t\ttype: \"sap.fe.core.InitialLoadMode\",\n\t\tdefaultValue: InitialLoadMode.Auto\n\t})\n\tinitialLoad!: typeof InitialLoadMode;\n\n\t@property({\n\t\ttype: \"sap.fe.core.VariantManagement\",\n\t\tdefaultValue: VariantManagement.Page\n\t})\n\tvariantManagement!: typeof VariantManagement;\n\n\t@property({\n\t\ttype: \"string\",\n\t\tdefaultValue: undefined\n\t})\n\tdefaultTemplateAnnotationPath!: string;\n\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tliveMode!: boolean;\n}\n\nexport default ListBasedComponent;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;EAGA,MAAMA,iBAAiB,GAAGC,WAAW,CAACD,iBAAiB;IACtDE,eAAe,GAAGD,WAAW,CAACC,eAAe;EAAC,IAgFzCC,kBAAkB,WA9EvBC,cAAc,CAAC,gCAAgC,EAAE;IACjDC,QAAQ,EAAE;MACT,QAAQ,EAAE;QACTC,UAAU,EAAE,KAAK;QACjBC,WAAW,EAAE;UACZC,OAAO,EAAE,IAAI;UACbC,MAAM,EAAE,IAAI;UACZC,KAAK,EAAE;QACR,CAAC;QACDC,eAAe,EAAE,CAAC,aAAa,EAAE,SAAS,EAAE,iBAAiB,EAAE,YAAY,EAAE,iBAAiB,EAAE,gBAAgB;MACjH,CAAC;MACD,SAAS,EAAE;QACVC,QAAQ,EAAE;UACTC,oBAAoB,EAAE;YACrBC,WAAW,EAAE,2CAA2C;YACxDC,OAAO,EAAE,SAAS;YAClBC,QAAQ,EAAE;cACTC,QAAQ,EAAE,wCAAwC;cAClDC,aAAa,EAAE,YAAY;cAC3BC,aAAa,EAAE;YAChB;UACD,CAAC;UACDC,qBAAqB,EAAE;YACtBN,WAAW,EAAE,4CAA4C;YACzDC,OAAO,EAAE;UACV;QACD,CAAC;QACDM,QAAQ,EAAE;UACTC,MAAM,EAAE;YACPC,IAAI,EAAE,QAAQ;YACdC,QAAQ,EAAE;UACX,CAAC;UACDC,WAAW,EAAE;YACZF,IAAI,EAAE,aAAa;YACnBC,QAAQ,EAAE;UACX,CAAC;UACDE,aAAa,EAAE;YACdH,IAAI,EAAE,eAAe;YACrBC,QAAQ,EAAE;UACX,CAAC;UACDG,KAAK,EAAE;YACNJ,IAAI,EAAE,OAAO;YACbC,QAAQ,EAAE;UACX,CAAC;UACDI,eAAe,EAAE;YAChBL,IAAI,EAAE,iBAAiB;YACvBC,QAAQ,EAAE;UACX;QACD,CAAC;QACDK,gBAAgB,EAAE,IAAI;QACtBC,YAAY,EAAE;UACbC,aAAa,EAAE,yBAAyB;UACxCC,IAAI,EAAE;YACL,OAAO,EAAE,CAAC,CAAC;YACX,eAAe,EAAE;cAChBC,IAAI,EAAE;YACP,CAAC;YACD,OAAO,EAAE,CAAC,CAAC;YACX,yBAAyB,EAAE;cAC1BA,IAAI,EAAE;YACP,CAAC;YACD,aAAa,EAAE,CAAC,CAAC;YACjB,eAAe,EAAE,CAAC,CAAC;YACnB,YAAY,EAAE,CAAC,CAAC;YAChB,YAAY,EAAE;cACbA,IAAI,EAAE;YACP,CAAC;YACD,WAAW,EAAE,CAAC;UACf;QACD,CAAC;QACDC,gBAAgB,EAAE;UACjBC,OAAO,EAAE,IAAI;UACbC,IAAI,EAAE;QACP;MACD;IACD,CAAC;IACDC,OAAO,EAAE;EACV,CAAC,CAAC,UAEAC,QAAQ,CAAC;IACTC,IAAI,EAAE,6BAA6B;IACnCC,YAAY,EAAEtC,eAAe,CAACuC;EAC/B,CAAC,CAAC,UAGDH,QAAQ,CAAC;IACTC,IAAI,EAAE,+BAA+B;IACrCC,YAAY,EAAExC,iBAAiB,CAAC0C;EACjC,CAAC,CAAC,UAGDJ,QAAQ,CAAC;IACTC,IAAI,EAAE,QAAQ;IACdC,YAAY,EAAEG;EACf,CAAC,CAAC,UAGDL,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EAtB8BI,iBAAiB;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA,OA0BnCzC,kBAAkB;AAAA"}},{"offset":{"line":207,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","CoreLibrary","TemplateComponent","_dec","_dec2","_dec3","_dec4","_dec5","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","property","defineUI5Class","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","VariantManagement","InitialLoadMode","ListBasedComponent","manifest","technology","deviceTypes","desktop","tablet","phone","supportedThemes","services","templatedViewService","factoryName","startup","settings","viewName","converterType","errorViewName","asyncComponentService","commands","Create","name","shortcut","DeleteEntry","TableSettings","Share","FE_FilterSearch","handleValidation","dependencies","minUI5Version","libs","lazy","contentDensities","compact","cozy","library","type","defaultValue","Auto","Page","_TemplateComponent","_this","_len","arguments","length","args","Array","_key","this"],"sources":["ListComponent-dbg.js"],"mappings":"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","sourceRoot":""}},{"offset":{"line":212,"column":0},"map":{"version":3,"names":["ListReportComponent","defineUI5Class","library","manifest","property","type","defaultValue","ListComponent"],"sourceRoot":"ListReport","sources":["Component.ts"],"sourcesContent":["import { defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport ListComponent from \"sap/fe/templates/ListComponent\";\n@defineUI5Class(\"sap.fe.templates.ListReport.Component\", {\n\tlibrary: \"sap.fe.templates\",\n\tmanifest: \"json\"\n})\nclass ListReportComponent extends ListComponent {\n\t/**\n\t * Define different Page views to display\n\t */\n\t@property({ type: \"object\" })\n\tviews: any;\n\n\t/**\n\t *  Flag to determine whether the iconTabBar is in sticky mode\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\tstickyMultiTabHeader!: boolean;\n\n\t/**\n\t * KPIs to display\n\t */\n\t@property({\n\t\ttype: \"object\"\n\t})\n\tkeyPerformanceIndicators: any;\n\n\t/**\n\t * Flag to determine whether the template should hide the filter bar\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\thideFilterBar!: boolean;\n\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tuseHiddenFilterBar!: boolean;\n}\n\nexport default ListReportComponent;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;MAMMA,mBAAmB,WAJxBC,cAAc,CAAC,uCAAuC,EAAE;IACxDC,OAAO,EAAE,kBAAkB;IAC3BC,QAAQ,EAAE;EACX,CAAC,CAAC,UAKAC,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC,UAM5BD,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC,UAMDF,QAAQ,CAAC;IACTC,IAAI,EAAE;EACP,CAAC,CAAC,UAMDD,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC,UAGDF,QAAQ,CAAC;IACTC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE;EACf,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EApC+BC,aAAa;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA,OAwChCP,mBAAmB;AAAA"}},{"offset":{"line":288,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","ListComponent","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","property","defineUI5Class","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","ListReportComponent","library","manifest","type","defaultValue","_ListComponent","_this","_len","arguments","length","args","Array","_key","this"],"sources":["Component-dbg.js"],"mappings":"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","sourceRoot":"ListReport"}},{"offset":{"line":293,"column":0},"map":{"version":3,"names":["ListReportExtensionAPI","defineUI5Class","refresh","filterBar","_controller","_getFilterBarControl","filterBarAPI","getParent","triggerSearch","Promise","resolve","getSelectedContexts","oControl","_isMultiMode","_getMultiModeControl","getSelectedInnerControl","content","_getTable","isA","aSelectedContexts","get_chart","aSelectedDataPoints","ChartUtils","getChartSelectedData","i","length","push","context","setFilterValues","sConditionPath","sOperator","vValues","_getAdaptationFilterBarControl","arguments","FilterUtils","createFiltersFromFilterConditions","mFilterConditions","oFilterBar","getFilterInfo","undefined","getFilters","setCustomMessage","message","tabKey","onClose","ListReportMessageStrip","LRMessageStrip","showCustomMessage","InvisibleMessage","getInstance","announce","InvisibleMessageMode","Assertive","ExtensionAPI"],"sourceRoot":"ListReport","sources":["ExtensionAPI.ts"],"sourcesContent":["import ExtensionAPI from \"sap/fe/core/ExtensionAPI\";\nimport { defineUI5Class } from \"sap/fe/core/helpers/ClassSupport\";\nimport ChartUtils from \"sap/fe/macros/chart/ChartUtils\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport type FilterBarAPI from \"sap/fe/macros/filterBar/FilterBarAPI\";\nimport type ListReportController from \"sap/fe/templates/ListReport/ListReportController.controller\";\nimport { LRCustomMessage, LRMessageStrip } from \"sap/fe/templates/ListReport/LRMessageStrip\";\nimport InvisibleMessage from \"sap/ui/core/InvisibleMessage\";\nimport { InvisibleMessageMode } from \"sap/ui/core/library\";\n\n/**\n * Extension API for list reports in SAP Fiori elements for OData V4.\n *\n * To correctly integrate your app extension coding with SAP Fiori elements, use only the extensionAPI of SAP Fiori elements. Don't access or manipulate controls, properties, models, or other internal objects created by the SAP Fiori elements framework.\n *\n * @alias sap.fe.templates.ListReport.ExtensionAPI\n * @public\n * @hideconstructor\n * @final\n * @since 1.79.0\n */\n@defineUI5Class(\"sap.fe.templates.ListReport.ExtensionAPI\")\nclass ListReportExtensionAPI extends ExtensionAPI {\n\tprotected _controller!: ListReportController;\n\n\tListReportMessageStrip!: LRMessageStrip;\n\n\t/**\n\t * Refreshes the List Report.\n\t * This method currently only supports triggering the search (by clicking on the GO button)\n\t * in the List Report Filter Bar. It can be used to request the initial load or to refresh the\n\t * currently shown data based on the filters entered by the user.\n\t * Please note: The Promise is resolved once the search is triggered and not once the data is returned.\n\t *\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#refresh\n\t * @returns Resolved once the data is refreshed or rejected if the request failed\n\t * @public\n\t */\n\trefresh() {\n\t\tconst filterBar = this._controller._getFilterBarControl();\n\t\tconst filterBarAPI = filterBar?.getParent() as FilterBarAPI;\n\t\tif (filterBarAPI) {\n\t\t\tfilterBarAPI.triggerSearch();\n\t\t}\n\t\t// TODO: if there is no filter bar, make refresh work\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Gets the list entries currently selected for the displayed control.\n\t *\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#getSelectedContexts\n\t * @returns Array containing the selected contexts\n\t * @public\n\t */\n\tgetSelectedContexts() {\n\t\tconst oControl = ((this._controller._isMultiMode() &&\n\t\t\tthis._controller._getMultiModeControl()?.getSelectedInnerControl()?.content) ||\n\t\t\tthis._controller._getTable()) as any;\n\t\tif (oControl.isA(\"sap.ui.mdc.Chart\")) {\n\t\t\tconst aSelectedContexts = [];\n\t\t\tif (oControl && oControl.get_chart()) {\n\t\t\t\tconst aSelectedDataPoints = ChartUtils.getChartSelectedData(oControl.get_chart());\n\t\t\t\tfor (let i = 0; i < aSelectedDataPoints.length; i++) {\n\t\t\t\t\taSelectedContexts.push(aSelectedDataPoints[i].context);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aSelectedContexts;\n\t\t} else {\n\t\t\treturn (oControl && oControl.getSelectedContexts()) || [];\n\t\t}\n\t}\n\n\t/**\n\t * Set the filter values for the given property in the filter bar.\n\t * The filter values can be either a single value or an array of values.\n\t * Each filter value must be represented as a primitive value.\n\t *\n\t * @param sConditionPath The path to the property as a condition path\n\t * @param [sOperator] The operator to be used (optional) - if not set, the default operator (EQ) will be used\n\t * @param vValues The values to be applied\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#setFilterValues\n\t * @returns A promise for asynchronous handling\n\t * @public\n\t */\n\tsetFilterValues(\n\t\tsConditionPath: string,\n\t\tsOperator: string | undefined,\n\t\tvValues?: undefined | string | number | boolean | string[] | number[] | boolean[]\n\t) {\n\t\t// The List Report has two filter bars: The filter bar in the header and the filter bar in the \"Adapt Filter\" dialog;\n\t\t// when the dialog is opened, the user is working with that active control: Pass it to the setFilterValues method!\n\t\tconst filterBar = this._controller._getAdaptationFilterBarControl() || this._controller._getFilterBarControl();\n\t\tif (arguments.length === 2) {\n\t\t\tvValues = sOperator;\n\t\t\treturn FilterUtils.setFilterValues(filterBar, sConditionPath, vValues);\n\t\t}\n\n\t\treturn FilterUtils.setFilterValues(filterBar, sConditionPath, sOperator, vValues);\n\t}\n\n\t/**\n\t * This method converts filter conditions to filters.\n\t *\n\t * @param mFilterConditions Map containing the filter conditions of the FilterBar.\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#createFiltersFromFilterConditions\n\t * @returns Object containing the converted FilterBar filters.\n\t * @public\n\t */\n\tcreateFiltersFromFilterConditions(mFilterConditions: any) {\n\t\tconst oFilterBar = this._controller._getFilterBarControl();\n\t\treturn FilterUtils.getFilterInfo(oFilterBar, undefined, mFilterConditions);\n\t}\n\n\t/**\n\t * Provides all the model filters from the filter bar that are currently active\n\t * along with the search expression.\n\t *\n\t * @alias sap.fe.templates.ListReport.ExtensionAPI#getFilters\n\t * @returns {{filters: sap.ui.model.Filter[]|undefined, search: string|undefined}} An array of active filters and the search expression.\n\t * @public\n\t */\n\tgetFilters() {\n\t\tconst oFilterBar = this._controller._getFilterBarControl();\n\t\treturn FilterUtils.getFilters(oFilterBar);\n\t}\n\n\t/**\n\t * Provide an option for showing a custom message in the message strip above the list report table.\n\t *\n\t * @param {object} [message] Custom message along with the message type to be set on the table.\n\t * @param {string} message.message Message string to be displayed.\n\t * @param {sap.ui.core.MessageType} message.type Indicates the type of message.\n\t * @param {string[]|string} [tabKey] The tabKey identifying the table where the custom message is displayed. If tabKey is empty, the message is displayed in all tabs . If tabKey = ['1','2'], the message is displayed in tabs 1 and 2 only\n\t * @param {Function} [onClose] A function that is called when the user closes the message bar.\n\t * @public\n\t */\n\tsetCustomMessage(message: LRCustomMessage | undefined, tabKey?: string[] | string | null, onClose?: Function) {\n\t\tif (!this.ListReportMessageStrip) {\n\t\t\tthis.ListReportMessageStrip = new LRMessageStrip();\n\t\t}\n\t\tthis.ListReportMessageStrip.showCustomMessage(message, this._controller, tabKey, onClose);\n\t\tif (message?.message) {\n\t\t\tInvisibleMessage.getInstance().announce(message.message, InvisibleMessageMode.Assertive);\n\t\t}\n\t}\n}\n\nexport default ListReportExtensionAPI;\n"],"mappings":"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"}},{"offset":{"line":440,"column":0},"map":{"version":3,"names":["sap","ui","define","ExtensionAPI","ClassSupport","ChartUtils","FilterUtils","$LRMessageStrip","InvisibleMessage","library","_dec","_class","InvisibleMessageMode","LRMessageStrip","defineUI5Class","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","ListReportExtensionAPI","_ExtensionAPI","apply","this","arguments","_proto","refresh","filterBar","_controller","_getFilterBarControl","filterBarAPI","getParent","triggerSearch","Promise","resolve","getSelectedContexts","_this$_controller$_ge","_this$_controller$_ge2","oControl","_isMultiMode","_getMultiModeControl","getSelectedInnerControl","content","_getTable","isA","aSelectedContexts","get_chart","aSelectedDataPoints","getChartSelectedData","i","length","push","context","setFilterValues","sConditionPath","sOperator","vValues","_getAdaptationFilterBarControl","createFiltersFromFilterConditions","mFilterConditions","oFilterBar","getFilterInfo","undefined","getFilters","setCustomMessage","message","tabKey","onClose","ListReportMessageStrip","showCustomMessage","getInstance","announce","Assertive"],"sources":["ExtensionAPI-dbg.js"],"mappings":"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","sourceRoot":"ListReport"}},{"offset":{"line":445,"column":0},"map":{"version":3,"names":["LRMessageStrip","messageManager","Core","getMessageManager","customMessageInfo","messageManagerDataBinding","getMessageModel","bindList","multiModeControlMessagesMap","getCustomMessageInfo","destroy","detachChange","_eventHandlerCustomMessage","_getMessagesWithSameTargetThanCustomMessage","getData","filter","msg","getTargets","currentMessage","aMessageWithSameTargetThanCustomMessage","isCustomMessageInMessageManager","find","length","removeMessages","addMessages","createCustomMessage","event","oData","message","table","skipMessageManagerUpdate","rowBindingPath","getRowBinding","getPath","customMessageMap","getId","attachEventOnce","onClose","getDataStateIndicator","detachEvent","processor","getModel","oMessage","Message","type","target","persistent","attachChange","attachDataStateIndicatorCloseEvent","fnOnClose","onSelectMultipleModeControl","controller","_getTable","showCustomMessage","tabKey","_tabKey","Array","isArray","isMultiMode","_isMultiMode","multipleModeControl","_getMultiModeControl","attachEvent","getAllInnerControls","forEach","innerControl","index","isA","indexOf","toString","getContent","getSelectedInnerControl"],"sourceRoot":"ListReport","sources":["LRMessageStrip.ts"],"sourcesContent":["import type { InnerControlType } from \"sap/fe/templates/ListReport/controls/MultipleModeControl\";\nimport type ListReportController from \"sap/fe/templates/ListReport/ListReportController.controller\";\nimport type Event from \"sap/ui/base/Event\";\nimport Core from \"sap/ui/core/Core\";\nimport type { MessageType } from \"sap/ui/core/library\";\nimport Message from \"sap/ui/core/message/Message\";\nimport MDCTable from \"sap/ui/mdc/Table\";\nimport type ListBinding from \"sap/ui/model/ListBinding\";\n\nexport type LRCustomMessage = {\n\tmessage: string;\n\ttype?: MessageType;\n\tonClose?: Function;\n};\n\nexport class LRMessageStrip {\n\tcustomMessageInfo!: {\n\t\tmessageManagerDataBinding: ListBinding;\n\t\tcurrentMessage?: Message;\n\t\tmultiModeControlMessagesMap: { [key: string]: LRCustomMessage | undefined };\n\t};\n\n\tconstructor() {\n\t\tconst messageManager = Core.getMessageManager();\n\t\tthis.customMessageInfo = {\n\t\t\tmessageManagerDataBinding: messageManager.getMessageModel().bindList(\"/\"),\n\t\t\tmultiModeControlMessagesMap: {}\n\t\t};\n\t}\n\n\tgetCustomMessageInfo() {\n\t\treturn this.customMessageInfo;\n\t}\n\n\tdestroy() {\n\t\tthis.customMessageInfo.messageManagerDataBinding.detachChange(this._eventHandlerCustomMessage, this);\n\t}\n\n\t_getMessagesWithSameTargetThanCustomMessage() {\n\t\tconst messageManager = Core.getMessageManager();\n\t\treturn messageManager\n\t\t\t.getMessageModel()\n\t\t\t.getData()\n\t\t\t.filter(\n\t\t\t\t(msg: Message) =>\n\t\t\t\t\tmsg.getTargets()[0] === this.customMessageInfo.currentMessage?.getTargets()[0] &&\n\t\t\t\t\tmsg !== this.customMessageInfo.currentMessage\n\t\t\t);\n\t}\n\n\t/**\n\t * MessageManager Event Handler responsible to add or remove the current customMessage.\n\t *\n\t * @alias sap.fe.core.helpers.LRMessageStrip#_eventHandlerCustomMessage\n\t * @private\n\t */\n\t_eventHandlerCustomMessage() {\n\t\tconst messageManager = Core.getMessageManager();\n\t\tif (this.customMessageInfo.currentMessage) {\n\t\t\tconst aMessageWithSameTargetThanCustomMessage = this._getMessagesWithSameTargetThanCustomMessage();\n\t\t\tconst isCustomMessageInMessageManager = !!messageManager\n\t\t\t\t.getMessageModel()\n\t\t\t\t.getData()\n\t\t\t\t.find((msg: Message) => msg === this.customMessageInfo.currentMessage);\n\n\t\t\tif (aMessageWithSameTargetThanCustomMessage.length > 0 && isCustomMessageInMessageManager) {\n\t\t\t\t//if there are other messages with the same message on the MessageManager and the customMessage\n\t\t\t\t//then we need to remove the customeMessage from the MessageManager\n\t\t\t\tmessageManager.removeMessages([this.customMessageInfo?.currentMessage]);\n\t\t\t} else if (aMessageWithSameTargetThanCustomMessage.length === 0 && !isCustomMessageInMessageManager) {\n\t\t\t\tmessageManager.addMessages([this.customMessageInfo.currentMessage]);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * This function manages the lifecycle of the custom message (populates the customMessageInfo object, attaches an event to the message manager and inserts a message).\n\t *\n\t * @param event Event object (optional).\n\t * @param oData Parameters\n\t * @param oData.message The LRCustomMessage to be used to generate the message object\n\t * @param oData.table The table targeted by the message\n\t * @param oData.skipMessageManagerUpdate Should skip to insert the message in the MessageManager\n\t * @alias sap.fe.core.helpers.LRMessageStrip#createCustomMessage\n\t * @private\n\t */\n\tcreateCustomMessage(\n\t\tevent: Event | null,\n\t\toData: { message: LRCustomMessage | undefined; table: MDCTable; skipMessageManagerUpdate?: boolean }\n\t) {\n\t\tconst message = oData.message;\n\t\tconst table = oData.table;\n\t\tconst skipMessageManagerUpdate = oData.skipMessageManagerUpdate;\n\t\tconst rowBindingPath = table.getRowBinding()?.getPath();\n\t\tconst messageManager = Core.getMessageManager();\n\t\tconst customMessageMap = this.customMessageInfo.multiModeControlMessagesMap;\n\t\tcustomMessageMap[table.getId()] = message;\n\t\tif (!rowBindingPath) {\n\t\t\ttable.attachEventOnce(\"bindingUpdated\", oData, this.createCustomMessage, this);\n\t\t\treturn;\n\t\t}\n\n\t\tif (customMessageMap[table.getId()]?.onClose) {\n\t\t\ttable.getDataStateIndicator().detachEvent(\"close\", customMessageMap[table.getId()]?.onClose as Function, this);\n\t\t}\n\n\t\tconst processor = table.getModel();\n\t\tconst oMessage = message\n\t\t\t? new Message({\n\t\t\t\t\tmessage: message.message,\n\t\t\t\t\ttype: message.type,\n\t\t\t\t\ttarget: [rowBindingPath],\n\t\t\t\t\tpersistent: true,\n\t\t\t\t\tprocessor\n\t\t\t  })\n\t\t\t: null;\n\n\t\tthis.customMessageInfo.messageManagerDataBinding.detachChange(this._eventHandlerCustomMessage, this);\n\t\tif (!skipMessageManagerUpdate) {\n\t\t\tif (this.customMessageInfo.currentMessage) {\n\t\t\t\tmessageManager.removeMessages([this.customMessageInfo.currentMessage]);\n\t\t\t}\n\t\t\tif (oMessage) {\n\t\t\t\tthis.customMessageInfo.currentMessage = oMessage;\n\t\t\t} else {\n\t\t\t\tdelete this.customMessageInfo.currentMessage;\n\t\t\t}\n\t\t\tif (oMessage && this._getMessagesWithSameTargetThanCustomMessage().length === 0) {\n\t\t\t\tmessageManager.addMessages([oMessage]);\n\t\t\t}\n\t\t}\n\t\tthis.customMessageInfo.messageManagerDataBinding.attachChange(this._eventHandlerCustomMessage, this);\n\n\t\tthis.attachDataStateIndicatorCloseEvent(table, customMessageMap, message?.onClose);\n\t}\n\n\t/**\n\t * This function attaches the onClose event function to the dataStateIndicator.\n\t *\n\t * @param table The table associated with the dataStateIndicator\n\t * @param customMessageMap The CustomMessageMap object\n\t * @param fnOnClose A function to be attached to the \"close\" event\n\t * @alias sap.fe.core.helpers.LRMessageStrip#attachDataStateIndicatorCloseEvent\n\t * @private\n\t */\n\tattachDataStateIndicatorCloseEvent(\n\t\ttable: MDCTable,\n\t\tcustomMessageMap: { [key: string]: LRCustomMessage | undefined },\n\t\tfnOnClose?: Function\n\t) {\n\t\tif (fnOnClose) {\n\t\t\ttable.getDataStateIndicator().attachEventOnce(\"close\", fnOnClose, this);\n\t\t}\n\t\t//When closing the the messageStrip, the associated message is removed\n\t\ttable.getDataStateIndicator().attachEventOnce(\"close\", () => {\n\t\t\tdelete customMessageMap[table.getId()];\n\t\t});\n\t}\n\n\t/**\n\t * MultipleModeControl Event handler responsible for displaying the correct custom message when a specific tab is selected.\n\t *\n\t * @alias sap.fe.core.helpers.LRMessageStrip#onSelectMultipleModeControl\n\t * @private\n\t */\n\n\tonSelectMultipleModeControl(event: Event, controller: ListReportController) {\n\t\tconst table = controller._getTable() as MDCTable;\n\t\tconst message = this.customMessageInfo.multiModeControlMessagesMap[table.getId()];\n\t\tthis.createCustomMessage(null, { message, table });\n\t}\n\n\t/**\n\t * Provide an option for showing a custom message in the message bar above the list report table.\n\t *\n\t * @param {object} [message] Custom message along with the message type to be set on the table.\n\t * @param {string} [message.message] Message string to be displayed.\n\t * @param {sap.ui.core.MessageType} [message.type] Indicates the type of message.\n\t * @param {ListReportController} [controller] Controller of the current view.\n\t * @param {string[]|string} [tabKey] The entitySet identifying the table in which to display the custom message.\n\t * @param {Function} [onClose] A function that is called when the user closes the message bar.\n\t * @private\n\t */\n\tshowCustomMessage(\n\t\tmessage: LRCustomMessage | undefined,\n\t\tcontroller: ListReportController,\n\t\ttabKey?: string[] | string | null,\n\t\tonClose?: Function\n\t) {\n\t\tconst _tabKey = Array.isArray(tabKey) ? tabKey : [tabKey];\n\t\tconst isMultiMode = controller._isMultiMode();\n\t\tlet table: MDCTable;\n\t\tif (message) {\n\t\t\tmessage.onClose = onClose;\n\t\t}\n\t\tif (isMultiMode) {\n\t\t\tconst multipleModeControl = controller._getMultiModeControl();\n\t\t\t//we fisrt need to detach the select event to prevent multiple attachments.\n\t\t\tmultipleModeControl.detachEvent(\"select\", this.onSelectMultipleModeControl, this);\n\t\t\tmultipleModeControl.attachEvent(\"select\", controller, this.onSelectMultipleModeControl, this);\n\n\t\t\tmultipleModeControl.getAllInnerControls(true).forEach((innerControl: InnerControlType, index: number) => {\n\t\t\t\tif (innerControl.isA(\"sap.fe.macros.table.TableAPI\")) {\n\t\t\t\t\tif (!tabKey || _tabKey.indexOf(index.toString()) !== -1) {\n\t\t\t\t\t\ttable = (innerControl as any).getContent();\n\t\t\t\t\t\tthis.createCustomMessage(null, {\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttable,\n\t\t\t\t\t\t\tskipMessageManagerUpdate: multipleModeControl.getSelectedInnerControl() !== innerControl\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttable = controller._getTable() as MDCTable;\n\t\tthis.createCustomMessage(null, { message, table });\n\t}\n}\n"],"mappings":"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"}},{"offset":{"line":635,"column":0},"map":{"version":3,"names":["sap","ui","define","Core","Message","_exports","LRMessageStrip","messageManager","getMessageManager","this","customMessageInfo","messageManagerDataBinding","getMessageModel","bindList","multiModeControlMessagesMap","_proto","prototype","getCustomMessageInfo","destroy","detachChange","_eventHandlerCustomMessage","_getMessagesWithSameTargetThanCustomMessage","getData","filter","msg","_this$customMessageIn","getTargets","currentMessage","aMessageWithSameTargetThanCustomMessage","isCustomMessageInMessageManager","find","length","_this$customMessageIn2","removeMessages","addMessages","createCustomMessage","event","oData","_table$getRowBinding","_customMessageMap$tab","message","table","skipMessageManagerUpdate","rowBindingPath","getRowBinding","getPath","customMessageMap","getId","attachEventOnce","onClose","_customMessageMap$tab2","getDataStateIndicator","detachEvent","processor","getModel","oMessage","type","target","persistent","attachChange","attachDataStateIndicatorCloseEvent","fnOnClose","onSelectMultipleModeControl","controller","_getTable","showCustomMessage","tabKey","_tabKey","Array","isArray","isMultiMode","_isMultiMode","multipleModeControl","_getMultiModeControl","attachEvent","getAllInnerControls","forEach","innerControl","index","isA","indexOf","toString","getContent","getSelectedInnerControl"],"sources":["LRMessageStrip-dbg.js"],"mappings":"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","sourceRoot":"ListReport"}},{"offset":{"line":640,"column":0},"map":{"version":3,"names":["TemplateContentView","CoreLibrary","InitialLoadMode","ListReportController","defineUI5Class","usingExtension","InternalRouting","override","onAfterBinding","getView","getController","_onAfterBinding","InternalIntentBasedNavigation","getEntitySet","base","getCurrentEntitySet","SideEffects","IntentBasedNavigation","IntentBasedNavigationOverride","Share","ShareOverrides","ViewState","ViewStateOverrides","KPIManagement","Placeholder","MassEdit","publicExtension","finalExtension","privateExtension","extensible","OverrideExecution","After","formatters","setALPControlMessageStrip","aIgnoredFields","bIsChart","oApplySupported","sText","oFilterBar","_getFilterBarControl","Array","isArray","length","aIgnoredLabels","MessageStrip","getLabels","data","getResourceModel","bIsSearchIgnored","enableSearch","getALPText","getText","handlers","onFilterSearch","filterBarAPI","getParent","triggerSearch","onFiltersChanged","oEvent","oInternalModelContext","getBindingContext","onPendingFilters","appliedFiltersText","getAssignedFiltersText","filtersText","appliedFilterBinding","bindingParser","byId","bindText","setText","getParameter","setProperty","onVariantSelected","oVM","getSource","currentVariantKey","oMultiModeControl","_getMultiModeControl","isA","invalidateContent","setFreezeContent","setTimeout","_shouldAutoTriggerSearch","_getApplyAutomaticallyOnVariant","getExtensionAPI","updateAppState","onVariantSaved","onSearch","oMdcChart","getChartControl","bHideDraft","FilterUtils","getEditStateIsHideDraft","getConditions","_updateALPNotApplicableFields","oPageInternalModelContext","sTemplateContentView","getProperty","getPath","Chart","hasPendingChartChanges","Table","hasPendingTableChanges","StateUtil","retrieveExternalState","then","oExternalState","filterBarConditions","filter","catch","oError","Log","error","getViewData","liveMode","system","phone","oDynamicPage","_getDynamicListReportControl","setHeaderExpanded","onChevronPressNavigateOutBound","oController","sOutboundTarget","oContext","sCreatePath","_intentBasedNavigation","onChartSelectionChanged","getContent","oTable","_getTable","aData","ChartUtils","setChartFilters","rebind","onSegmentedButtonPressed","sSelectedKey","mParameters","key","oChart","oSegmentedButtonDelegate","onAfterRendering","aItems","oSegmentedButton","getItems","forEach","oItem","getKey","focus","removeEventDelegate","_getSegmentedButton","addEventDelegate","_updateTable","_updateChart","Hybrid","onFiltersSegmentedButtonPressed","isCompact","setVisible","_getVisualFilterBarControl","onStateChange","onDynamicPageTitleStateChanged","filterBar","getSegmentedButton","extensionAPI","ExtensionAPI","onInit","PageController","prototype","apply","_hasMultiVisualizations","alpContentView","_getDefaultPath","desktop","getAppComponent","getRouterProxy","waitForRouteMatchBeforeNavigation","_setInitLoad","onExit","destroy","aTables","_getControls","EditState","isEditStateDirty","oTableBinding","getRowBinding","CommonUtils","_isFclEnabled","refresh","sUpdateTimer","fnUpdateTableActions","_updateTableActions","detachDataReceived","attachDataReceived","setEditStateProcessed","internalModelContext","viewId","getId","pageReady","waitFor","getAppStateHandler","applyAppState","onBeforeRendering","onPageReady","forceFocus","_setInitialFocus","getShellServices","setBackNavigation","undefined","onViewNeedsRefresh","slice","onAfterClear","aIBNActions","getIBNActions","oActionOperationAvailableMap","JSON","parse","CommonHelper","parseCustomData","DelegateUtil","getCustomData","aSelectedContexts","getSelectedContexts","DeleteHelper","updateDeleteInfoForSelectedContexts","ActionRuntime","setActionEnablement","updateDataFieldForIBNButtonsVisibility","_scrollTablesToRow","sRowPath","TableScroller","scrollTableToRow","dynamicPage","isHeaderExpanded","getHeaderExpanded","getShowMessages","setShowMessages","firstEmptyMandatoryField","getFilterItems","find","oFilterItem","getRequired","_isInitLoadEnabled","_getFilterBarControlId","focusRow","_getPageTitleInformation","oManifestEntry","getManifestEntry","title","subtitle","subTitle","intent","icon","_getDynamicListReportControlId","_getAdaptationFilterBarControl","adaptationFilterBar","getInbuiltFilter","sControl","sSegmentedButtonId","_getControlFromPageModelProperty","sPath","controlId","_getPageModel","sVisualFilterBarId","StableIdHelper","generate","_getFilterBarVariantControl","_isMultiMode","oControl","getSelectedInnerControl","content","sKey","aControls","oTabMultiMode","indexOf","push","defaultPath","ListReportTemplating","getDefaultPath","initLoadMode","initialLoad","Enabled","_disableInitLoad","setSuspendSelection","_applyAutomaticallyOnStandardVariant","variantManagementId","getVariantBackReference","getData","variantManagement","registerApplyAutomaticallyOnStandardVariant","bind","_setShareModel","fnGetUser","ObjectPath","get","oShareInfo","bookmarkTitle","document","bookmarkCustomUrl","sHash","hasher","getHash","window","location","href","isShareInJamActive","isJamActive","oTemplatePrivateModel","getOwnerComponent","getModel","mCache","ignoredFields","aCharts","sChartEntityPath","sChartEntitySet","sCacheKey","getNotApplicableFilters","_isFilterBarHidden","hideFilterBar","VariantManagement","variants","getVariants","currentVariant","variant","executeOnSelect","Auto","getStandardVariantKey","getCurrentVariantKey","oConditions","startsWith","standardVariant","isTableBound","oInnerChart","getControlDelegate","_getChart","isBound","getBindingInfo","sEntitySet","entitySet","setNoData"],"sourceRoot":"ListReport","sources":["ListReportController.controller.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport ObjectPath from \"sap/base/util/ObjectPath\";\nimport type DynamicPage from \"sap/f/DynamicPage\";\nimport ActionRuntime from \"sap/fe/core/ActionRuntime\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport InternalIntentBasedNavigation from \"sap/fe/core/controllerextensions/InternalIntentBasedNavigation\";\nimport InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport KPIManagement from \"sap/fe/core/controllerextensions/KPIManagement\";\nimport MassEdit from \"sap/fe/core/controllerextensions/MassEdit\";\nimport Placeholder from \"sap/fe/core/controllerextensions/Placeholder\";\nimport Share from \"sap/fe/core/controllerextensions/Share\";\nimport SideEffects from \"sap/fe/core/controllerextensions/SideEffects\";\nimport ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport type FilterBar from \"sap/fe/core/controls/FilterBar\";\nimport { ListReportDefinition } from \"sap/fe/core/converters/templates/ListReportConverter\";\nimport {\n\tdefineUI5Class,\n\textensible,\n\tfinalExtension,\n\tprivateExtension,\n\tpublicExtension,\n\tusingExtension\n} from \"sap/fe/core/helpers/ClassSupport\";\nimport DeleteHelper from \"sap/fe/core/helpers/DeleteHelper\";\nimport EditState from \"sap/fe/core/helpers/EditState\";\nimport MessageStrip from \"sap/fe/core/helpers/MessageStrip\";\nimport { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport { getResourceModel } from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport * as StableIdHelper from \"sap/fe/core/helpers/StableIdHelper\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport PageController from \"sap/fe/core/PageController\";\nimport { ViewData } from \"sap/fe/core/services/TemplatedViewServiceFactory\";\nimport ChartUtils from \"sap/fe/macros/chart/ChartUtils\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport DelegateUtil from \"sap/fe/macros/DelegateUtil\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport type FilterBarAPI from \"sap/fe/macros/filterBar/FilterBarAPI\";\nimport MultipleModeControl from \"sap/fe/templates/ListReport/controls/MultipleModeControl\";\nimport ExtensionAPI from \"sap/fe/templates/ListReport/ExtensionAPI\";\nimport TableScroller from \"sap/fe/templates/TableScroller\";\nimport type SegmentedButton from \"sap/m/SegmentedButton\";\nimport type Text from \"sap/m/Text\";\nimport { bindingParser } from \"sap/ui/base/ManagedObject\";\nimport type Control from \"sap/ui/core/Control\";\nimport OverrideExecution from \"sap/ui/core/mvc/OverrideExecution\";\nimport { system } from \"sap/ui/Device\";\nimport StateUtil from \"sap/ui/mdc/p13n/StateUtil\";\nimport type Table from \"sap/ui/mdc/Table\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Context from \"sap/ui/model/odata/v4/Context\";\nimport hasher from \"sap/ui/thirdparty/hasher\";\nimport * as ListReportTemplating from \"./ListReportTemplating\";\nimport IntentBasedNavigationOverride from \"./overrides/IntentBasedNavigation\";\nimport ShareOverrides from \"./overrides/Share\";\nimport ViewStateOverrides from \"./overrides/ViewState\";\n\nconst TemplateContentView = CoreLibrary.TemplateContentView,\n\tInitialLoadMode = CoreLibrary.InitialLoadMode;\n\n/**\n * Controller class for the list report page, used inside an SAP Fiori elements application.\n *\n * @hideconstructor\n * @public\n */\n@defineUI5Class(\"sap.fe.templates.ListReport.ListReportController\")\nclass ListReportController extends PageController {\n\t@usingExtension(\n\t\tInternalRouting.override({\n\t\t\tonAfterBinding: function (this: InternalRouting) {\n\t\t\t\t(this.getView().getController() as ListReportController)._onAfterBinding();\n\t\t\t}\n\t\t})\n\t)\n\t_routing!: InternalRouting;\n\n\t@usingExtension(\n\t\tInternalIntentBasedNavigation.override({\n\t\t\tgetEntitySet: function (this: InternalIntentBasedNavigation) {\n\t\t\t\treturn (this.base as ListReportController).getCurrentEntitySet();\n\t\t\t}\n\t\t})\n\t)\n\t_intentBasedNavigation!: InternalIntentBasedNavigation;\n\n\t@usingExtension(SideEffects)\n\tsideEffects!: SideEffects;\n\n\t@usingExtension(IntentBasedNavigation.override(IntentBasedNavigationOverride))\n\tintentBasedNavigation!: IntentBasedNavigation;\n\n\t@usingExtension(Share.override(ShareOverrides))\n\tshare!: Share;\n\n\t@usingExtension(ViewState.override(ViewStateOverrides))\n\tviewState!: ViewState;\n\n\t@usingExtension(KPIManagement)\n\tkpiManagement!: KPIManagement;\n\n\t@usingExtension(Placeholder)\n\tplaceholder!: Placeholder;\n\n\t@usingExtension(MassEdit)\n\tmassEdit!: MassEdit;\n\n\tprotected extensionAPI?: ExtensionAPI;\n\n\tprivate filterBarConditions?: any;\n\n\tprivate sUpdateTimer?: any;\n\n\tprivate hasPendingChartChanges?: boolean;\n\n\tprivate hasPendingTableChanges?: boolean;\n\n\t/**\n\t * Get the extension API for the current page.\n\t *\n\t * @public\n\t * @returns The extension API.\n\t */\n\t@publicExtension()\n\t@finalExtension()\n\tgetExtensionAPI(): ExtensionAPI {\n\t\tif (!this.extensionAPI) {\n\t\t\tthis.extensionAPI = new ExtensionAPI(this);\n\t\t}\n\t\treturn this.extensionAPI;\n\t}\n\n\tonInit() {\n\t\tPageController.prototype.onInit.apply(this);\n\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\n\t\toInternalModelContext.setProperty(\"hasPendingFilters\", true);\n\t\toInternalModelContext.setProperty(\"hideDraftInfo\", false);\n\t\toInternalModelContext.setProperty(\"uom\", {});\n\t\toInternalModelContext.setProperty(\"scalefactor\", {});\n\t\toInternalModelContext.setProperty(\"scalefactorNumber\", {});\n\t\toInternalModelContext.setProperty(\"currency\", {});\n\n\t\tif (this._hasMultiVisualizations()) {\n\t\t\tlet alpContentView = this._getDefaultPath();\n\t\t\tif (!system.desktop && alpContentView === TemplateContentView.Hybrid) {\n\t\t\t\talpContentView = TemplateContentView.Chart;\n\t\t\t}\n\t\t\toInternalModelContext.setProperty(\"alpContentView\", alpContentView);\n\t\t}\n\n\t\t// Store conditions from filter bar\n\t\t// this is later used before navigation to get conditions applied on the filter bar\n\t\tthis.filterBarConditions = {};\n\n\t\t// As AppStateHandler.applyAppState triggers a navigation we want to make sure it will\n\t\t// happen after the routeMatch event has been processed (otherwise the router gets broken)\n\t\tthis.getAppComponent().getRouterProxy().waitForRouteMatchBeforeNavigation();\n\n\t\t// Configure the initial load settings\n\t\tthis._setInitLoad();\n\t}\n\n\tonExit() {\n\t\tdelete this.filterBarConditions;\n\t\tif (this.extensionAPI) {\n\t\t\tthis.extensionAPI.destroy();\n\t\t}\n\t\tdelete this.extensionAPI;\n\t}\n\n\t_onAfterBinding() {\n\t\tconst aTables = this._getControls(\"table\");\n\t\tif (EditState.isEditStateDirty()) {\n\t\t\tthis._getMultiModeControl()?.invalidateContent();\n\t\t\tconst oTableBinding = this._getTable()?.getRowBinding();\n\t\t\tif (oTableBinding) {\n\t\t\t\tif (CommonUtils.getAppComponent(this.getView())._isFclEnabled()) {\n\t\t\t\t\t// there is an issue if we use a timeout with a kept alive context used on another page\n\t\t\t\t\toTableBinding.refresh();\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.sUpdateTimer) {\n\t\t\t\t\t\tthis.sUpdateTimer = setTimeout(() => {\n\t\t\t\t\t\t\toTableBinding.refresh();\n\t\t\t\t\t\t\tdelete this.sUpdateTimer;\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update action enablement and visibility upon table data update.\n\t\t\t\t\tconst fnUpdateTableActions = () => {\n\t\t\t\t\t\tthis._updateTableActions(aTables);\n\t\t\t\t\t\toTableBinding.detachDataReceived(fnUpdateTableActions);\n\t\t\t\t\t};\n\t\t\t\t\toTableBinding.attachDataReceived(fnUpdateTableActions);\n\t\t\t\t}\n\t\t\t}\n\t\t\tEditState.setEditStateProcessed();\n\t\t}\n\n\t\tif (!this.sUpdateTimer) {\n\t\t\tthis._updateTableActions(aTables);\n\t\t}\n\n\t\tconst internalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tif (!internalModelContext.getProperty(\"initialVariantApplied\")) {\n\t\t\tconst viewId = this.getView().getId();\n\t\t\tthis.pageReady.waitFor(this.getAppComponent().getAppStateHandler().applyAppState(viewId, this.getView()));\n\t\t\tinternalModelContext.setProperty(\"initialVariantApplied\", true);\n\t\t}\n\t}\n\n\tonBeforeRendering() {\n\t\tPageController.prototype.onBeforeRendering.apply(this);\n\t}\n\n\tformatters = {\n\t\tsetALPControlMessageStrip(this: ListReportController, aIgnoredFields: any[], bIsChart: any, oApplySupported?: any) {\n\t\t\tlet sText = \"\";\n\t\t\tbIsChart = bIsChart === \"true\" || bIsChart === true;\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar && Array.isArray(aIgnoredFields) && aIgnoredFields.length > 0 && bIsChart) {\n\t\t\t\tconst aIgnoredLabels = MessageStrip.getLabels(\n\t\t\t\t\taIgnoredFields,\n\t\t\t\t\toFilterBar.data(\"entityType\"),\n\t\t\t\t\toFilterBar,\n\t\t\t\t\tgetResourceModel(oFilterBar)\n\t\t\t\t);\n\t\t\t\tconst bIsSearchIgnored = !oApplySupported.enableSearch;\n\t\t\t\tsText = bIsChart\n\t\t\t\t\t? MessageStrip.getALPText(aIgnoredLabels, oFilterBar, bIsSearchIgnored)\n\t\t\t\t\t: MessageStrip.getText(aIgnoredLabels, oFilterBar, \"\");\n\t\t\t\treturn sText;\n\t\t\t}\n\t\t}\n\t};\n\n\t@privateExtension()\n\t@extensible(OverrideExecution.After)\n\tonPageReady(mParameters: any) {\n\t\tif (mParameters.forceFocus) {\n\t\t\tthis._setInitialFocus();\n\t\t}\n\t\t// Remove the handler on back navigation that displays Draft confirmation\n\t\tthis.getAppComponent().getShellServices().setBackNavigation(undefined);\n\t}\n\n\t/**\n\t * Method called when the content of a custom view used in a list report needs to be refreshed.\n\t * This happens either when there is a change on the FilterBar and the search is triggered,\n\t * or when a tab with custom content is selected.\n\t * This method can be overwritten by the controller extension in case of customization.\n\t *\n\t * @param mParameters Map containing the filter conditions of the FilterBar, the currentTabID\n\t * and the view refresh cause (tabChanged or search).\n\t * The map looks like this:\n\t * <code><pre>\n\t * \t{\n\t * \t\tfilterConditions: {\n\t * \t\t\tCountry: [\n\t * \t\t\t\t{\n\t * \t\t\t\t\toperator: \"EQ\"\n\t *\t\t\t\t\tvalidated: \"NotValidated\"\n\t *\t\t\t\t\tvalues: [\"Germany\", ...]\n\t * \t\t\t\t},\n\t * \t\t\t\t...\n\t * \t\t\t]\n\t * \t\t\t...\n\t * \t\t},\n\t *\t\tcurrentTabId: \"fe::CustomTab::tab1\",\n\t *\t\trefreshCause: \"tabChanged\" | \"search\"\n\t *\t}\n\t * </pre></code>\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\tonViewNeedsRefresh(mParameters: any) {\n\t\t/* To be overriden */\n\t}\n\n\t/**\n\t * Method called when a filter or search value has been changed in the FilterBar,\n\t * but has not been validated yet by the end user (with the 'Go' or 'Search' button).\n\t * Typically, the content of the current tab is greyed out until the filters are validated.\n\t * This method can be overwritten by the controller extension in case of customization.\n\t *\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\tonPendingFilters() {\n\t\t/* To be overriden */\n\t}\n\n\tgetCurrentEntitySet() {\n\t\treturn this._getTable()?.data(\"targetCollectionPath\").slice(1);\n\t}\n\n\t/**\n\t * Method called when the 'Clear' button on the FilterBar is pressed.\n\t *\n\t * @public\n\t */\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\tonAfterClear() {\n\t\t/* To be overriden */\n\t}\n\n\t/**\n\t * This method initiates the update of the enabled state of the DataFieldForAction and the visible state of the DataFieldForIBN buttons.\n\t *\n\t * @param aTables Array of tables in the list report\n\t * @private\n\t */\n\t_updateTableActions(aTables: any) {\n\t\tlet aIBNActions: any[] = [];\n\t\taTables.forEach(function (oTable: any) {\n\t\t\taIBNActions = CommonUtils.getIBNActions(oTable, aIBNActions);\n\t\t\t// Update 'enabled' property of DataFieldForAction buttons on table toolbar\n\t\t\t// The same is also performed on Table selectionChange event\n\t\t\tconst oInternalModelContext = oTable.getBindingContext(\"internal\"),\n\t\t\t\toActionOperationAvailableMap = JSON.parse(\n\t\t\t\t\tCommonHelper.parseCustomData(DelegateUtil.getCustomData(oTable, \"operationAvailableMap\"))\n\t\t\t\t),\n\t\t\t\taSelectedContexts = oTable.getSelectedContexts();\n\n\t\t\toInternalModelContext.setProperty(\"selectedContexts\", aSelectedContexts);\n\t\t\toInternalModelContext.setProperty(\"numberOfSelectedContexts\", aSelectedContexts.length);\n\t\t\t// Refresh enablement of delete button\n\t\t\tDeleteHelper.updateDeleteInfoForSelectedContexts(oInternalModelContext, aSelectedContexts);\n\n\t\t\tActionRuntime.setActionEnablement(oInternalModelContext, oActionOperationAvailableMap, aSelectedContexts, \"table\");\n\t\t});\n\t\tCommonUtils.updateDataFieldForIBNButtonsVisibility(aIBNActions, this.getView());\n\t}\n\n\t/**\n\t * This method scrolls to a specific row on all the available tables.\n\t *\n\t * @function\n\t * @name sap.fe.templates.ListReport.ListReportController.controller#_scrollTablesToRow\n\t * @param sRowPath The path of the table row context to be scrolled to\n\t */\n\t_scrollTablesToRow(sRowPath: string) {\n\t\tthis._getControls(\"table\").forEach(function (oTable: any) {\n\t\t\tTableScroller.scrollTableToRow(oTable, sRowPath);\n\t\t});\n\t}\n\n\t/**\n\t * This method sets the initial focus in a list report based on the User Experience guidelines.\n\t *\n\t * @function\n\t * @name sap.fe.templates.ListReport.ListReportController.controller#_setInitialFocus\n\t */\n\t_setInitialFocus() {\n\t\tconst dynamicPage = this._getDynamicListReportControl(),\n\t\t\tisHeaderExpanded = dynamicPage.getHeaderExpanded(),\n\t\t\tfilterBar = this._getFilterBarControl() as any;\n\t\tif (filterBar) {\n\t\t\t//Enabling mandatory filter fields message dialog\n\t\t\tif (!filterBar.getShowMessages()) {\n\t\t\t\tfilterBar.setShowMessages(true);\n\t\t\t}\n\t\t\tif (isHeaderExpanded) {\n\t\t\t\tconst firstEmptyMandatoryField = filterBar.getFilterItems().find(function (oFilterItem: any) {\n\t\t\t\t\treturn oFilterItem.getRequired() && oFilterItem.getConditions().length === 0;\n\t\t\t\t});\n\t\t\t\t//Focusing on the first empty mandatory filter field, or on the first filter field if the table data is loaded\n\t\t\t\tif (firstEmptyMandatoryField) {\n\t\t\t\t\tfirstEmptyMandatoryField.focus();\n\t\t\t\t} else if (this._isInitLoadEnabled() && filterBar.getFilterItems().length > 0) {\n\t\t\t\t\t//BCP: 2380008406 Add check for available filterItems\n\t\t\t\t\tfilterBar.getFilterItems()[0].focus();\n\t\t\t\t} else {\n\t\t\t\t\t//Focusing on the Go button\n\t\t\t\t\tthis.getView().byId(`${this._getFilterBarControlId()}-btnSearch`)?.focus();\n\t\t\t\t}\n\t\t\t} else if (this._isInitLoadEnabled()) {\n\t\t\t\tthis._getTable()\n\t\t\t\t\t?.focusRow(0)\n\t\t\t\t\t.catch(function (error: any) {\n\t\t\t\t\t\tLog.error(\"Error while setting initial focus on the table \", error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthis._getTable()\n\t\t\t\t?.focusRow(0)\n\t\t\t\t.catch(function (error: any) {\n\t\t\t\t\tLog.error(\"Error while setting initial focus on the table \", error);\n\t\t\t\t});\n\t\t}\n\t}\n\n\t_getPageTitleInformation() {\n\t\tconst oManifestEntry = this.getAppComponent().getManifestEntry(\"sap.app\");\n\t\treturn {\n\t\t\ttitle: oManifestEntry.title,\n\t\t\tsubtitle: oManifestEntry.subTitle || \"\",\n\t\t\tintent: \"\",\n\t\t\ticon: \"\"\n\t\t};\n\t}\n\n\t_getFilterBarControl() {\n\t\treturn this.getView().byId(this._getFilterBarControlId()) as FilterBar;\n\t}\n\n\t_getDynamicListReportControl() {\n\t\treturn this.getView().byId(this._getDynamicListReportControlId()) as DynamicPage;\n\t}\n\n\t_getAdaptationFilterBarControl() {\n\t\t// If the adaptation filter bar is part of the DOM tree, the \"Adapt Filter\" dialog is open,\n\t\t// and we return the adaptation filter bar as an active control (visible for the user)\n\t\tconst adaptationFilterBar = (this._getFilterBarControl() as any).getInbuiltFilter();\n\t\treturn adaptationFilterBar?.getParent() ? adaptationFilterBar : undefined;\n\t}\n\n\t_getSegmentedButton(sControl: any) {\n\t\tconst sSegmentedButtonId = (sControl === \"Chart\" ? this.getChartControl() : this._getTable())?.data(\"segmentedButtonId\");\n\t\treturn this.getView().byId(sSegmentedButtonId);\n\t}\n\n\t_getControlFromPageModelProperty(sPath: string) {\n\t\tconst controlId = this._getPageModel()?.getProperty(sPath);\n\t\treturn controlId && this.getView().byId(controlId);\n\t}\n\n\t_getDynamicListReportControlId(): string {\n\t\treturn this._getPageModel()?.getProperty(\"/dynamicListReportId\") || \"\";\n\t}\n\n\t_getFilterBarControlId(): string {\n\t\treturn this._getPageModel()?.getProperty(\"/filterBarId\") || \"\";\n\t}\n\n\tgetChartControl() {\n\t\treturn this._getControlFromPageModelProperty(\"/singleChartId\");\n\t}\n\n\t_getVisualFilterBarControl() {\n\t\tconst sVisualFilterBarId = StableIdHelper.generate([\"visualFilter\", this._getFilterBarControlId()]);\n\t\treturn sVisualFilterBarId && this.getView().byId(sVisualFilterBarId);\n\t}\n\n\t_getFilterBarVariantControl() {\n\t\treturn this._getControlFromPageModelProperty(\"/variantManagement/id\");\n\t}\n\n\t_getMultiModeControl() {\n\t\treturn this.getView().byId(\"fe::TabMultipleMode::Control\") as MultipleModeControl;\n\t}\n\n\t_getTable(): Table | undefined {\n\t\tif (this._isMultiMode()) {\n\t\t\tconst oControl = this._getMultiModeControl()?.getSelectedInnerControl()?.content;\n\t\t\treturn oControl?.isA(\"sap.ui.mdc.Table\") ? (oControl as Table) : undefined;\n\t\t} else {\n\t\t\treturn this._getControlFromPageModelProperty(\"/singleTableId\") as Table;\n\t\t}\n\t}\n\n\t_getControls(sKey?: any) {\n\t\tif (this._isMultiMode()) {\n\t\t\tconst aControls: any[] = [];\n\t\t\tconst oTabMultiMode = this._getMultiModeControl().content;\n\t\t\toTabMultiMode.getItems().forEach((oItem: any) => {\n\t\t\t\tconst oControl = this.getView().byId(oItem.getKey());\n\t\t\t\tif (oControl && sKey) {\n\t\t\t\t\tif (oItem.getKey().indexOf(`fe::${sKey}`) > -1) {\n\t\t\t\t\t\taControls.push(oControl);\n\t\t\t\t\t}\n\t\t\t\t} else if (oControl !== undefined && oControl !== null) {\n\t\t\t\t\taControls.push(oControl);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aControls;\n\t\t} else if (sKey === \"Chart\") {\n\t\t\tconst oChart = this.getChartControl();\n\t\t\treturn oChart ? [oChart] : [];\n\t\t} else {\n\t\t\tconst oTable = this._getTable();\n\t\t\treturn oTable ? [oTable] : [];\n\t\t}\n\t}\n\n\t_getDefaultPath() {\n\t\tconst defaultPath = ListReportTemplating.getDefaultPath(this._getPageModel()?.getProperty(\"/views\") || []);\n\t\tswitch (defaultPath) {\n\t\t\tcase \"primary\":\n\t\t\t\treturn TemplateContentView.Chart;\n\t\t\tcase \"secondary\":\n\t\t\t\treturn TemplateContentView.Table;\n\t\t\tcase \"both\":\n\t\t\tdefault:\n\t\t\t\treturn TemplateContentView.Hybrid;\n\t\t}\n\t}\n\n\t/**\n\t * Method to know if ListReport is configured with Multiple Table mode.\n\t *\n\t * @function\n\t * @name _isMultiMode\n\t * @returns Is Multiple Table mode set?\n\t */\n\t_isMultiMode(): boolean {\n\t\treturn !!this._getPageModel()?.getProperty(\"/multiViewsControl\");\n\t}\n\n\t/**\n\t * Method to know if ListReport is configured to load data at start up.\n\t *\n\t * @function\n\t * @name _isInitLoadDisabled\n\t * @returns Is InitLoad enabled?\n\t */\n\t_isInitLoadEnabled(): boolean {\n\t\tconst initLoadMode = (this.getView().getViewData() as any).initialLoad;\n\t\treturn initLoadMode === InitialLoadMode.Enabled;\n\t}\n\n\t_hasMultiVisualizations(): boolean {\n\t\treturn this._getPageModel()?.getProperty(\"/hasMultiVisualizations\");\n\t}\n\n\t/**\n\t * Method to suspend search on the filter bar. The initial loading of data is disabled based on the manifest configuration InitLoad - Disabled/Auto.\n\t * It is enabled later when the view state is set, when it is possible to realize if there are default filters.\n\t */\n\t_disableInitLoad() {\n\t\tconst filterBar = this._getFilterBarControl();\n\t\t// check for filter bar hidden\n\t\tif (filterBar) {\n\t\t\tfilterBar.setSuspendSelection(true);\n\t\t}\n\t}\n\n\t/**\n\t * Method called by flex to determine if the applyAutomatically setting on the variant is valid.\n\t * Called only for Standard Variant and only when there is display text set for applyAutomatically (FE only sets it for Auto).\n\t *\n\t * @returns Boolean true if data should be loaded automatically, false otherwise\n\t */\n\t_applyAutomaticallyOnStandardVariant() {\n\t\t// We always return false and take care of it when view state is set\n\t\treturn false;\n\t}\n\n\t/**\n\t * Configure the settings for initial load based on\n\t * - manifest setting initLoad - Enabled/Disabled/Auto\n\t * - user's setting of applyAutomatically on variant\n\t * - if there are default filters\n\t * We disable the filter bar search at the beginning and enable it when view state is set.\n\t */\n\t_setInitLoad() {\n\t\t// if initLoad is Disabled or Auto, switch off filter bar search temporarily at start\n\t\tif (!this._isInitLoadEnabled()) {\n\t\t\tthis._disableInitLoad();\n\t\t}\n\t\t// set hook for flex for when standard variant is set (at start or by user at runtime)\n\t\t// required to override the user setting 'apply automatically' behaviour if there are no filters\n\t\tconst variantManagementId: any = ListReportTemplating.getVariantBackReference(\n\t\t\tthis.getView().getViewData() as ViewData,\n\t\t\tthis._getPageModel()?.getData() as ListReportDefinition\n\t\t);\n\t\tconst variantManagement = variantManagementId && this.getView().byId(variantManagementId);\n\t\tif (variantManagement) {\n\t\t\tvariantManagement.registerApplyAutomaticallyOnStandardVariant(this._applyAutomaticallyOnStandardVariant.bind(this));\n\t\t}\n\t}\n\n\t_setShareModel() {\n\t\t// TODO: deactivated for now - currently there is no _templPriv anymore, to be discussed\n\t\t// this method is currently not called anymore from the init method\n\n\t\tconst fnGetUser = ObjectPath.get(\"sap.ushell.Container.getUser\");\n\t\t//var oManifest = this.getOwnerComponent().getAppComponent().getMetadata().getManifestEntry(\"sap.ui\");\n\t\t//var sBookmarkIcon = (oManifest && oManifest.icons && oManifest.icons.icon) || \"\";\n\n\t\t//shareModel: Holds all the sharing relevant information and info used in XML view\n\t\tconst oShareInfo = {\n\t\t\tbookmarkTitle: document.title, //To name the bookmark according to the app title.\n\t\t\tbookmarkCustomUrl: function () {\n\t\t\t\tconst sHash = hasher.getHash();\n\t\t\t\treturn sHash ? `#${sHash}` : window.location.href;\n\t\t\t},\n\t\t\t/*\n\t\t\t\t\t\t\tTo be activated once the FLP shows the count - see comment above\n\t\t\t\t\t\t\tbookmarkServiceUrl: function() {\n\t\t\t\t\t\t\t\t//var oTable = oTable.getInnerTable(); oTable is already the sap.fe table (but not the inner one)\n\t\t\t\t\t\t\t\t// we should use table.getListBindingInfo instead of the binding\n\t\t\t\t\t\t\t\tvar oBinding = oTable.getBinding(\"rows\") || oTable.getBinding(\"items\");\n\t\t\t\t\t\t\t\treturn oBinding ? fnGetDownloadUrl(oBinding) : \"\";\n\t\t\t\t\t\t\t},*/\n\t\t\tisShareInJamActive: !!fnGetUser && fnGetUser().isJamActive()\n\t\t};\n\n\t\tconst oTemplatePrivateModel = this.getOwnerComponent().getModel(\"_templPriv\") as JSONModel;\n\t\toTemplatePrivateModel.setProperty(\"/listReport/share\", oShareInfo);\n\t}\n\n\t/**\n\t * Method to update the local UI model of the page with the fields that are not applicable to the filter bar (this is specific to the ALP scenario).\n\t *\n\t * @param oInternalModelContext The internal model context\n\t * @param oFilterBar MDC filter bar\n\t */\n\t_updateALPNotApplicableFields(oInternalModelContext: InternalModelContext, oFilterBar: FilterBar) {\n\t\tconst mCache: any = {};\n\t\tconst ignoredFields: any = {},\n\t\t\taTables = this._getControls(\"table\"),\n\t\t\taCharts = this._getControls(\"Chart\");\n\n\t\tif (!aTables.length || !aCharts.length) {\n\t\t\t// If there's not a table and a chart, we're not in the ALP case\n\t\t\treturn;\n\t\t}\n\n\t\t// For the moment, there's nothing for tables...\n\t\taCharts.forEach(function (oChart: any) {\n\t\t\tconst sChartEntityPath = oChart.data(\"targetCollectionPath\"),\n\t\t\t\tsChartEntitySet = sChartEntityPath.slice(1),\n\t\t\t\tsCacheKey = `${sChartEntitySet}Chart`;\n\t\t\tif (!mCache[sCacheKey]) {\n\t\t\t\tmCache[sCacheKey] = FilterUtils.getNotApplicableFilters(oFilterBar, oChart);\n\t\t\t}\n\t\t\tignoredFields[sCacheKey] = mCache[sCacheKey];\n\t\t});\n\t\toInternalModelContext.setProperty(\"controls/ignoredFields\", ignoredFields);\n\t}\n\n\t_isFilterBarHidden() {\n\t\treturn (this.getView().getViewData() as any).hideFilterBar;\n\t}\n\n\t_getApplyAutomaticallyOnVariant(VariantManagement: any, key: string): Boolean {\n\t\tif (!VariantManagement || !key) {\n\t\t\treturn false;\n\t\t}\n\t\tconst variants = VariantManagement.getVariants();\n\t\tconst currentVariant = variants.find(function (variant: any) {\n\t\t\treturn variant && variant.key === key;\n\t\t});\n\t\treturn (currentVariant && currentVariant.executeOnSelect) || false;\n\t}\n\n\t_shouldAutoTriggerSearch(oVM: any) {\n\t\tif (\n\t\t\t(this.getView().getViewData() as any).initialLoad === InitialLoadMode.Auto &&\n\t\t\t(!oVM || oVM.getStandardVariantKey() === oVM.getCurrentVariantKey())\n\t\t) {\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar) {\n\t\t\t\tconst oConditions = oFilterBar.getConditions();\n\t\t\t\tfor (const sKey in oConditions) {\n\t\t\t\t\t// ignore filters starting with $ (e.g. $search, $editState)\n\t\t\t\t\tif (!sKey.startsWith(\"$\") && Array.isArray(oConditions[sKey]) && oConditions[sKey].length) {\n\t\t\t\t\t\t// load data as per user's setting of applyAutomatically on the variant\n\t\t\t\t\t\tconst standardVariant: any = oVM.getVariants().find((variant: any) => {\n\t\t\t\t\t\t\treturn variant.key === oVM.getCurrentVariantKey();\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn standardVariant && standardVariant.executeOnSelect;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t_updateTable(oTable: any) {\n\t\tif (!oTable.isTableBound() || this.hasPendingChartChanges) {\n\t\t\toTable.rebind();\n\t\t\tthis.hasPendingChartChanges = false;\n\t\t}\n\t}\n\n\t_updateChart(oChart: any) {\n\t\tconst oInnerChart = oChart.getControlDelegate()._getChart(oChart);\n\t\tif (!(oInnerChart && oInnerChart.isBound(\"data\")) || this.hasPendingTableChanges) {\n\t\t\toChart.getControlDelegate().rebind(oChart, oInnerChart.getBindingInfo(\"data\"));\n\t\t\tthis.hasPendingTableChanges = false;\n\t\t}\n\t}\n\n\thandlers = {\n\t\tonFilterSearch(this: ListReportController) {\n\t\t\tconst filterBarAPI = this._getFilterBarControl().getParent() as FilterBarAPI;\n\t\t\tfilterBarAPI.triggerSearch();\n\t\t},\n\t\tonFiltersChanged(this: ListReportController, oEvent: any) {\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tif (oFilterBar) {\n\t\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext | undefined;\n\t\t\t\t// Pending filters into FilterBar to be used for custom views\n\t\t\t\tthis.onPendingFilters();\n\t\t\t\tconst appliedFiltersText = oFilterBar.getAssignedFiltersText().filtersText;\n\t\t\t\tconst appliedFilterBinding = bindingParser(appliedFiltersText);\n\t\t\t\tif (appliedFilterBinding) {\n\t\t\t\t\t(this.getView().byId(\"fe::appliedFiltersText\") as Text | undefined)?.bindText(appliedFilterBinding);\n\t\t\t\t} else {\n\t\t\t\t\t(this.getView().byId(\"fe::appliedFiltersText\") as Text | undefined)?.setText(appliedFiltersText);\n\t\t\t\t}\n\n\t\t\t\tif (oInternalModelContext && oEvent.getParameter(\"conditionsBased\")) {\n\t\t\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonVariantSelected(this: ListReportController, oEvent: any) {\n\t\t\tconst oVM = oEvent.getSource();\n\t\t\tconst currentVariantKey = oEvent.getParameter(\"key\");\n\t\t\tconst oMultiModeControl = this._getMultiModeControl();\n\n\t\t\tif (oMultiModeControl && !oVM?.getParent().isA(\"sap.ui.mdc.ActionToolbar\")) {\n\t\t\t\t//Not a Control Variant\n\t\t\t\toMultiModeControl?.invalidateContent();\n\t\t\t\toMultiModeControl?.setFreezeContent(true);\n\t\t\t}\n\n\t\t\t// setTimeout cause the variant needs to be applied before judging the auto search or updating the app state\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this._shouldAutoTriggerSearch(oVM)) {\n\t\t\t\t\t// the app state will be updated via onSearch handler\n\t\t\t\t\tconst filterBarAPI = this._getFilterBarControl().getParent() as FilterBarAPI;\n\t\t\t\t\treturn filterBarAPI.triggerSearch();\n\t\t\t\t} else if (!this._getApplyAutomaticallyOnVariant(oVM, currentVariantKey)) {\n\t\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t},\n\t\tonVariantSaved(this: ListReportController) {\n\t\t\t//TODO: Should remove this setTimeOut once Variant Management provides an api to fetch the current variant key on save!!!\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t}, 1000);\n\t\t},\n\t\tonSearch(this: ListReportController) {\n\t\t\tconst oFilterBar = this._getFilterBarControl();\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\tconst oMdcChart = this.getChartControl();\n\t\t\tconst bHideDraft = FilterUtils.getEditStateIsHideDraft(oFilterBar.getConditions());\n\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", false);\n\t\t\toInternalModelContext.setProperty(\"hideDraftInfo\", bHideDraft);\n\n\t\t\tif (!this._getMultiModeControl()) {\n\t\t\t\tthis._updateALPNotApplicableFields(oInternalModelContext, oFilterBar);\n\t\t\t}\n\t\t\tif (oMdcChart) {\n\t\t\t\t// disable bound actions TODO: this clears everything for the chart?\n\t\t\t\t(oMdcChart.getBindingContext(\"internal\") as InternalModelContext).setProperty(\"\", {});\n\n\t\t\t\tconst oPageInternalModelContext = oMdcChart.getBindingContext(\"pageInternal\") as InternalModelContext;\n\t\t\t\tconst sTemplateContentView = oPageInternalModelContext.getProperty(`${oPageInternalModelContext.getPath()}/alpContentView`);\n\t\t\t\tif (sTemplateContentView === TemplateContentView.Chart) {\n\t\t\t\t\tthis.hasPendingChartChanges = true;\n\t\t\t\t}\n\t\t\t\tif (sTemplateContentView === TemplateContentView.Table) {\n\t\t\t\t\tthis.hasPendingTableChanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// store filter bar conditions to use later while navigation\n\t\t\tStateUtil.retrieveExternalState(oFilterBar)\n\t\t\t\t.then((oExternalState: any) => {\n\t\t\t\t\tthis.filterBarConditions = oExternalState.filter;\n\t\t\t\t})\n\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\tLog.error(\"Error while retrieving the external state\", oError);\n\t\t\t\t});\n\t\t\tif ((this.getView().getViewData() as any).liveMode === false) {\n\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t}\n\n\t\t\tif (system.phone) {\n\t\t\t\tconst oDynamicPage = this._getDynamicListReportControl();\n\t\t\t\toDynamicPage.setHeaderExpanded(false);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Triggers an outbound navigation when a user chooses the chevron.\n\t\t *\n\t\t * @param oController\n\t\t * @param sOutboundTarget Name of the outbound target (needs to be defined in the manifest)\n\t\t * @param oContext The context that contains the data for the target app\n\t\t * @param sCreatePath Create path when the chevron is created.\n\t\t * @returns Promise which is resolved once the navigation is triggered\n\t\t * @ui5-restricted\n\t\t * @final\n\t\t */\n\t\tonChevronPressNavigateOutBound(oController: ListReportController, sOutboundTarget: string, oContext: Context, sCreatePath: string) {\n\t\t\treturn oController._intentBasedNavigation.onChevronPressNavigateOutBound(oController, sOutboundTarget, oContext, sCreatePath);\n\t\t},\n\t\tonChartSelectionChanged(this: ListReportController, oEvent: any) {\n\t\t\tconst oMdcChart = oEvent.getSource().getContent(),\n\t\t\t\toTable = this._getTable(),\n\t\t\t\taData = oEvent.getParameter(\"data\"),\n\t\t\t\toInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\tif (aData) {\n\t\t\t\tChartUtils.setChartFilters(oMdcChart);\n\t\t\t}\n\t\t\tconst sTemplateContentView = oInternalModelContext.getProperty(`${oInternalModelContext.getPath()}/alpContentView`);\n\t\t\tif (sTemplateContentView === TemplateContentView.Chart) {\n\t\t\t\tthis.hasPendingChartChanges = true;\n\t\t\t} else if (oTable) {\n\t\t\t\t(oTable as any).rebind();\n\t\t\t\tthis.hasPendingChartChanges = false;\n\t\t\t}\n\t\t},\n\t\tonSegmentedButtonPressed(this: ListReportController, oEvent: any) {\n\t\t\tconst sSelectedKey = oEvent.mParameters.key ? oEvent.mParameters.key : null;\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\toInternalModelContext.setProperty(\"alpContentView\", sSelectedKey);\n\t\t\tconst oChart = this.getChartControl();\n\t\t\tconst oTable = this._getTable();\n\t\t\tconst oSegmentedButtonDelegate = {\n\t\t\t\tonAfterRendering() {\n\t\t\t\t\tconst aItems = oSegmentedButton.getItems();\n\t\t\t\t\taItems.forEach(function (oItem: any) {\n\t\t\t\t\t\tif (oItem.getKey() === sSelectedKey) {\n\t\t\t\t\t\t\toItem.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\toSegmentedButton.removeEventDelegate(oSegmentedButtonDelegate);\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst oSegmentedButton = (\n\t\t\t\tsSelectedKey === TemplateContentView.Table ? this._getSegmentedButton(\"Table\") : this._getSegmentedButton(\"Chart\")\n\t\t\t) as SegmentedButton;\n\t\t\tif (oSegmentedButton !== oEvent.getSource()) {\n\t\t\t\toSegmentedButton.addEventDelegate(oSegmentedButtonDelegate);\n\t\t\t}\n\t\t\tswitch (sSelectedKey) {\n\t\t\t\tcase TemplateContentView.Table:\n\t\t\t\t\tthis._updateTable(oTable);\n\t\t\t\t\tbreak;\n\t\t\t\tcase TemplateContentView.Chart:\n\t\t\t\t\tthis._updateChart(oChart);\n\t\t\t\t\tbreak;\n\t\t\t\tcase TemplateContentView.Hybrid:\n\t\t\t\t\tthis._updateTable(oTable);\n\t\t\t\t\tthis._updateChart(oChart);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t},\n\t\tonFiltersSegmentedButtonPressed(this: ListReportController, oEvent: any) {\n\t\t\tconst isCompact = oEvent.getParameter(\"key\") === \"Compact\";\n\t\t\tthis._getFilterBarControl().setVisible(isCompact);\n\t\t\t(this._getVisualFilterBarControl() as Control).setVisible(!isCompact);\n\t\t},\n\t\tonStateChange(this: ListReportController) {\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t},\n\t\tonDynamicPageTitleStateChanged(this: ListReportController, oEvent: any) {\n\t\t\tconst filterBar: any = this._getFilterBarControl();\n\t\t\tif (filterBar && filterBar.getSegmentedButton()) {\n\t\t\t\tif (oEvent.getParameter(\"isExpanded\")) {\n\t\t\t\t\tfilterBar.getSegmentedButton().setVisible(true);\n\t\t\t\t} else {\n\t\t\t\t\tfilterBar.getSegmentedButton().setVisible(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tonAfterRendering() {\n\t\tconst aTables = this._getControls() as Table[];\n\t\tconst sEntitySet = (this.getView().getViewData() as any).entitySet;\n\t\tconst sText = getResourceModel(this.getView()).getText(\"T_TABLE_AND_CHART_NO_DATA_TEXT\", undefined, sEntitySet);\n\t\taTables.forEach(function (oTable: Control) {\n\t\t\tif (oTable.isA<Table>(\"sap.ui.mdc.Table\")) {\n\t\t\t\toTable.setNoData(sText);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport default ListReportController;\n"],"mappings":"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"}},{"offset":{"line":1454,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","ObjectPath","ActionRuntime","CommonUtils","IntentBasedNavigation","InternalIntentBasedNavigation","InternalRouting","KPIManagement","MassEdit","Placeholder","Share","SideEffects","ViewState","ClassSupport","DeleteHelper","EditState","MessageStrip","ResourceModelHelper","StableIdHelper","CoreLibrary","PageController","ChartUtils","CommonHelper","DelegateUtil","FilterUtils","ExtensionAPI","TableScroller","ManagedObject","OverrideExecution","Device","StateUtil","hasher","ListReportTemplating","IntentBasedNavigationOverride","ShareOverrides","ViewStateOverrides","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","system","bindingParser","getResourceModel","usingExtension","publicExtension","privateExtension","finalExtension","extensible","defineUI5Class","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","TemplateContentView","InitialLoadMode","ListReportController","override","onAfterBinding","this","getView","getController","_onAfterBinding","getEntitySet","base","getCurrentEntitySet","After","_PageController","_this","_len","arguments","length","args","Array","_key","formatters","setALPControlMessageStrip","aIgnoredFields","bIsChart","oApplySupported","sText","oFilterBar","_getFilterBarControl","isArray","aIgnoredLabels","getLabels","data","bIsSearchIgnored","enableSearch","getALPText","getText","handlers","onFilterSearch","filterBarAPI","getParent","triggerSearch","onFiltersChanged","oEvent","oInternalModelContext","getBindingContext","onPendingFilters","appliedFiltersText","getAssignedFiltersText","filtersText","appliedFilterBinding","_this$getView$byId","byId","bindText","_this$getView$byId2","setText","getParameter","setProperty","onVariantSelected","oVM","getSource","currentVariantKey","oMultiModeControl","_getMultiModeControl","isA","invalidateContent","setFreezeContent","setTimeout","_shouldAutoTriggerSearch","_getApplyAutomaticallyOnVariant","getExtensionAPI","updateAppState","onVariantSaved","onSearch","oMdcChart","getChartControl","bHideDraft","getEditStateIsHideDraft","getConditions","_updateALPNotApplicableFields","oPageInternalModelContext","sTemplateContentView","getProperty","getPath","Chart","hasPendingChartChanges","Table","hasPendingTableChanges","retrieveExternalState","then","oExternalState","filterBarConditions","filter","catch","oError","error","getViewData","liveMode","phone","oDynamicPage","_getDynamicListReportControl","setHeaderExpanded","onChevronPressNavigateOutBound","oController","sOutboundTarget","oContext","sCreatePath","_intentBasedNavigation","onChartSelectionChanged","getContent","oTable","_getTable","aData","setChartFilters","rebind","onSegmentedButtonPressed","sSelectedKey","mParameters","oChart","oSegmentedButtonDelegate","onAfterRendering","aItems","oSegmentedButton","getItems","oItem","getKey","focus","removeEventDelegate","_getSegmentedButton","addEventDelegate","_updateTable","_updateChart","Hybrid","onFiltersSegmentedButtonPressed","isCompact","setVisible","_getVisualFilterBarControl","onStateChange","onDynamicPageTitleStateChanged","filterBar","getSegmentedButton","_proto","extensionAPI","onInit","apply","_hasMultiVisualizations","alpContentView","_getDefaultPath","desktop","getAppComponent","getRouterProxy","waitForRouteMatchBeforeNavigation","_setInitLoad","onExit","destroy","aTables","_getControls","isEditStateDirty","_this$_getMultiModeCo","_this$_getTable","oTableBinding","getRowBinding","_isFclEnabled","refresh","sUpdateTimer","fnUpdateTableActions","_updateTableActions","detachDataReceived","attachDataReceived","setEditStateProcessed","internalModelContext","viewId","getId","pageReady","waitFor","getAppStateHandler","applyAppState","onBeforeRendering","onPageReady","forceFocus","_setInitialFocus","getShellServices","setBackNavigation","onViewNeedsRefresh","_this$_getTable2","onAfterClear","aIBNActions","getIBNActions","oActionOperationAvailableMap","JSON","parse","parseCustomData","getCustomData","aSelectedContexts","getSelectedContexts","updateDeleteInfoForSelectedContexts","setActionEnablement","updateDataFieldForIBNButtonsVisibility","_scrollTablesToRow","sRowPath","scrollTableToRow","dynamicPage","isHeaderExpanded","getHeaderExpanded","getShowMessages","setShowMessages","firstEmptyMandatoryField","getFilterItems","find","oFilterItem","getRequired","_isInitLoadEnabled","_this$getView$byId3","_getFilterBarControlId","_this$_getTable3","focusRow","_this$_getTable4","_getPageTitleInformation","oManifestEntry","getManifestEntry","title","subtitle","subTitle","intent","icon","_getDynamicListReportControlId","_getAdaptationFilterBarControl","adaptationFilterBar","getInbuiltFilter","sControl","_ref","sSegmentedButtonId","_getControlFromPageModelProperty","sPath","_this$_getPageModel","controlId","_getPageModel","_this$_getPageModel2","_this$_getPageModel3","sVisualFilterBarId","generate","_getFilterBarVariantControl","_isMultiMode","_this$_getMultiModeCo2","_this$_getMultiModeCo3","oControl","getSelectedInnerControl","content","sKey","aControls","oTabMultiMode","indexOf","push","_this$_getPageModel4","defaultPath","getDefaultPath","_this$_getPageModel5","initLoadMode","initialLoad","Enabled","_this$_getPageModel6","_disableInitLoad","setSuspendSelection","_applyAutomaticallyOnStandardVariant","_this$_getPageModel7","variantManagementId","getVariantBackReference","getData","variantManagement","registerApplyAutomaticallyOnStandardVariant","_setShareModel","fnGetUser","get","oShareInfo","bookmarkTitle","document","bookmarkCustomUrl","sHash","getHash","window","location","href","isShareInJamActive","isJamActive","oTemplatePrivateModel","getOwnerComponent","getModel","mCache","ignoredFields","aCharts","sChartEntityPath","sChartEntitySet","sCacheKey","getNotApplicableFilters","_isFilterBarHidden","hideFilterBar","VariantManagement","variants","getVariants","currentVariant","variant","executeOnSelect","Auto","getStandardVariantKey","getCurrentVariantKey","oConditions","startsWith","standardVariant","isTableBound","oInnerChart","getControlDelegate","_getChart","isBound","getBindingInfo","sEntitySet","entitySet","setNoData","getOwnPropertyDescriptor"],"sources":["ListReportController-dbg.controller.js"],"mappings":"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","sourceRoot":"ListReport"}},{"offset":{"line":1459,"column":0},"map":{"version":3,"names":["getVariantBackReference","viewData","converterContextObject","variantManagement","generate","filterBarId","undefined","getDefaultPath","aViews","i","length","defaultPath"],"sourceRoot":"ListReport","sources":["ListReportTemplating.ts"],"sourcesContent":["// Template Helpers for the List Report\nimport { ListReportDefinition } from \"sap/fe/core/converters/templates/ListReportConverter\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport { ViewData } from \"sap/fe/core/services/TemplatedViewServiceFactory\";\n\n/**\n * Method returns an VariantBackReference expression based on variantManagement and oConverterContext value.\n *\n * @function\n * @name getVariantBackReference\n * @param viewData Object Containing View Data\n * @param converterContextObject Object containing converted context\n * @returns {string}\n */\n\nexport const getVariantBackReference = function (viewData: ViewData, converterContextObject: ListReportDefinition) {\n\tif (viewData && viewData.variantManagement === \"Page\") {\n\t\treturn \"fe::PageVariantManagement\";\n\t}\n\tif (viewData && viewData.variantManagement === \"Control\") {\n\t\treturn generate([converterContextObject.filterBarId, \"VariantManagement\"]);\n\t}\n\treturn undefined;\n};\n\nexport const getDefaultPath = function (aViews: any) {\n\tfor (let i = 0; i < aViews.length; i++) {\n\t\tif (aViews[i].defaultPath) {\n\t\t\treturn aViews[i].defaultPath;\n\t\t}\n\t}\n};\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;EAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEO,MAAMA,uBAAuB,GAAG,UAAUC,QAAkB,EAAEC,sBAA4C,EAAE;IAClH,IAAID,QAAQ,IAAIA,QAAQ,CAACE,iBAAiB,KAAK,MAAM,EAAE;MACtD,OAAO,2BAA2B;IACnC;IACA,IAAIF,QAAQ,IAAIA,QAAQ,CAACE,iBAAiB,KAAK,SAAS,EAAE;MACzD,OAAOC,QAAQ,CAAC,CAACF,sBAAsB,CAACG,WAAW,EAAE,mBAAmB,CAAC,CAAC;IAC3E;IACA,OAAOC,SAAS;EACjB,CAAC;EAAC;EAEK,MAAMC,cAAc,GAAG,UAAUC,MAAW,EAAE;IACpD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,MAAM,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,IAAID,MAAM,CAACC,CAAC,CAAC,CAACE,WAAW,EAAE;QAC1B,OAAOH,MAAM,CAACC,CAAC,CAAC,CAACE,WAAW;MAC7B;IACD;EACD,CAAC;EAAC;EAAA;AAAA"}},{"offset":{"line":1498,"column":0},"map":{"version":3,"names":["sap","ui","define","StableIdHelper","_exports","generate","getVariantBackReference","viewData","converterContextObject","variantManagement","filterBarId","undefined","getDefaultPath","aViews","i","length","defaultPath"],"sources":["ListReportTemplating-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,8DAAO,CAAC,sCAAuC,SAAUC,GAC9D,aAEA,IAAIC,EAAW,CAAC,EAChB,IAAIC,EAAWF,EAAeE,SAW9B,MAAMC,EAA0B,SAAUC,EAAUC,GAClD,GAAID,GAAYA,EAASE,oBAAsB,OAAQ,CACrD,MAAO,2BACT,CACA,GAAIF,GAAYA,EAASE,oBAAsB,UAAW,CACxD,OAAOJ,EAAS,CAACG,EAAuBE,YAAa,qBACvD,CACA,OAAOC,SACT,EACAP,EAASE,wBAA0BA,EACnC,MAAMM,EAAiB,SAAUC,GAC/B,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAOE,OAAQD,IAAK,CACtC,GAAID,EAAOC,GAAGE,YAAa,CACzB,OAAOH,EAAOC,GAAGE,WACnB,CACF,CACF,EACAZ,EAASQ,eAAiBA,EAC1B,OAAOR,CACT,EAAG","sourceRoot":"ListReport"}},{"offset":{"line":1503,"column":0},"map":{"version":3,"names":["BindingAction","MultipleModeControl","defineUI5Class","property","type","defaultValue","aggregation","multiple","isDefault","association","event","onBeforeRendering","getTabsModel","oFilterControl","_getFilterControl","setCountsOutDated","oFilterBarAPI","getParent","getAllInnerControls","forEach","oMacroAPI","showCounts","attachEvent","_refreshTabsCount","bind","suspendBinding","_onSearch","_onFilterChanged","onAfterRendering","getSelectedInnerControl","resumeBinding","getProperty","render","oRm","oControl","renderControl","content","sTabsModel","oContent","undefined","oModel","getModel","JSONModel","setModel","oSelectedTab","getItems","find","oItem","getKey","getSelectedKey","_getTabFromInnerControl","handleTabChange","oEvent","oIconTabBar","getSource","oMultiControl","mParameters","getParameters","_setInnerBinding","sPreviousSelectedKey","previousKey","sSelectedKey","selectedKey","oFilterBar","_refreshCustomView","getFilterConditions","ControlPersonalizationWriteAPI","add","changes","changeSpecificData","changeType","previousSelectedKey","selectorElement","_getViewController","getExtensionAPI","updateAppState","fireEvent","iconTabBar","invalidateContent","bValue","setProperty","setFreezeContent","_updateMultiTabNotApplicableFields","tabsModel","results","oTab","sTabId","mIgnoredFields","refreshNotApplicableFields","notApplicable","fields","title","_setTabMessageStrip","entityTypePath","data","ignoredFields","getText","isA","checkNonFilterableEntitySet","setData","resourceModel","getResourceModel","oChart","getContent","bEntitySetFilerable","MetaModelConverter","getInvolvedDataModelObjects","getMetaModel","getContext","targetObject","annotations","Capabilities","FilterRestrictions","Filterable","indexOf","bOnlyForVisibleTab","innerControls","reduce","aInnerControls","sInnerControl","Core","byId","push","filter","oInnerControl","getVisible","filterControl","sSupportedClass","IconTabFilter","getMetadata","getName","oView","CommonUtils","getTargetView","getController","oFilterConditions","sRefreshCause","onViewNeedsRefresh","filterConditions","currentTabId","refreshCause","tableEvent","eventMacroAPI","targetKey","oIconTabFilter","getCounts","countsOutDated","setCount","then","iCount","catch","oError","Log","error","bRequestIfNotInitialized","bIsSelectedKey","sAction","Resume","Suspend","properties","sText","aIgnoredFields","Array","isArray","length","aIgnoredLabels","MessageStrip","getLabels","getParameter","Control"],"sourceRoot":"ListReport/controls","sources":["MultipleModeControl.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type FilterBar from \"sap/fe/core/controls/FilterBar\";\nimport * as MetaModelConverter from \"sap/fe/core/converters/MetaModelConverter\";\nimport { aggregation, association, defineUI5Class, event, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport MessageStrip from \"sap/fe/core/helpers/MessageStrip\";\nimport { getResourceModel } from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport MacroAPI from \"sap/fe/macros/MacroAPI\";\nimport IconTabBar from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport type CoreEvent from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Core from \"sap/ui/core/Core\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport ControlPersonalizationWriteAPI from \"sap/ui/fl/write/api/ControlPersonalizationWriteAPI\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Model from \"sap/ui/model/Model\";\n\nexport type InnerControlType = MacroAPI &\n\tPartial<{\n\t\tresumeBinding: Function;\n\t\tsuspendBinding: Function;\n\t\tgetCounts: Function;\n\t\trefreshNotApplicableFields: Function;\n\t\tinvalidateContent: Function;\n\t\tgetContent: Function;\n\t}>;\n\ntype MessageStripProperties = {\n\tentityTypePath: string;\n\tignoredFields: any[];\n\ttitle: string;\n};\n\nenum BindingAction {\n\tSuspend = \"suspendBinding\",\n\tResume = \"resumeBinding\"\n}\n\n@defineUI5Class(\"sap.fe.templates.ListReport.controls.MultipleModeControl\")\nclass MultipleModeControl extends Control {\n\t@property({ type: \"boolean\" })\n\tshowCounts!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tfreezeContent!: boolean;\n\n\t@property({ type: \"boolean\", defaultValue: false })\n\tcountsOutDated!: boolean;\n\n\t@aggregation({ type: \"sap.m.IconTabBar\", multiple: false, isDefault: true })\n\tcontent!: IconTabBar;\n\n\t@association({ type: \"sap.ui.core.Control\", multiple: true })\n\tinnerControls!: string[];\n\n\t@association({ type: \"sap.fe.core.controls.FilterBar\", multiple: false })\n\tfilterControl!: string;\n\n\t@event()\n\tselect!: Function;\n\n\tonBeforeRendering() {\n\t\tthis.getTabsModel(); // Generate the model which is mandatory for some bindings\n\n\t\tconst oFilterControl = this._getFilterControl();\n\t\tif (!oFilterControl) {\n\t\t\t// In case there's no filterbar, we have to update the counts in the tabs immediately\n\t\t\tthis.setCountsOutDated(true);\n\t\t}\n\t\tconst oFilterBarAPI = oFilterControl?.getParent();\n\t\tthis.getAllInnerControls().forEach((oMacroAPI) => {\n\t\t\tif (this.showCounts) {\n\t\t\t\toMacroAPI.attachEvent(\"internalDataRequested\", this._refreshTabsCount.bind(this));\n\t\t\t}\n\t\t\toMacroAPI.suspendBinding?.();\n\t\t});\n\t\tif (oFilterBarAPI) {\n\t\t\toFilterBarAPI.attachEvent(\"internalSearch\", this._onSearch.bind(this));\n\t\t\toFilterBarAPI.attachEvent(\"internalFilterChanged\", this._onFilterChanged.bind(this));\n\t\t}\n\t}\n\n\tonAfterRendering() {\n\t\tthis.getSelectedInnerControl()?.resumeBinding?.(!this.getProperty(\"freezeContent\"));\n\t}\n\n\tstatic render(oRm: RenderManager, oControl: MultipleModeControl) {\n\t\toRm.renderControl(oControl.content);\n\t}\n\n\t/**\n\t * Gets the model containing information related to the IconTabFilters.\n\t *\n\t * @returns {sap.ui.model.Model | undefined} The model\n\t */\n\tgetTabsModel(): Model | undefined {\n\t\tconst sTabsModel = \"tabsInternal\";\n\t\tconst oContent = this.content;\n\t\tif (!oContent) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet oModel = oContent.getModel(sTabsModel);\n\t\tif (!oModel) {\n\t\t\toModel = new JSONModel({});\n\t\t\toContent.setModel(oModel, sTabsModel);\n\t\t}\n\t\treturn oModel;\n\t}\n\n\t/**\n\t * Gets the inner control of the displayed tab.\n\t *\n\t * @returns {InnerControlType | undefined} The control\n\t */\n\tgetSelectedInnerControl(): InnerControlType | undefined {\n\t\tconst oSelectedTab = this.content?.getItems().find((oItem) => (oItem as IconTabFilter).getKey() === this.content.getSelectedKey());\n\t\treturn oSelectedTab\n\t\t\t? this.getAllInnerControls().find((oMacroAPI) => this._getTabFromInnerControl(oMacroAPI) === oSelectedTab)\n\t\t\t: undefined;\n\t}\n\n\t/**\n\t * Manages the binding of all inner controls when the selected IconTabFilter is changed.\n\t *\n\t * @param {sap.ui.base.Event} oEvent Event fired by the IconTabBar\n\t */\n\tstatic handleTabChange(oEvent: any): void {\n\t\tconst oIconTabBar = oEvent.getSource();\n\t\tconst oMultiControl = oIconTabBar.getParent();\n\n\t\tconst mParameters = oEvent.getParameters();\n\t\toMultiControl._setInnerBinding(true);\n\t\tconst sPreviousSelectedKey = mParameters?.previousKey;\n\t\tconst sSelectedKey = mParameters?.selectedKey;\n\n\t\tif (sSelectedKey && sPreviousSelectedKey !== sSelectedKey) {\n\t\t\tconst oFilterBar = oMultiControl._getFilterControl();\n\t\t\tif (oFilterBar && !oMultiControl.getProperty(\"freezeContent\")) {\n\t\t\t\tif (!oMultiControl.getSelectedInnerControl()) {\n\t\t\t\t\t//custom tab\n\t\t\t\t\toMultiControl._refreshCustomView(oFilterBar.getFilterConditions(), \"tabChanged\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tControlPersonalizationWriteAPI.add({\n\t\t\t\tchanges: [\n\t\t\t\t\t{\n\t\t\t\t\t\tchangeSpecificData: {\n\t\t\t\t\t\t\tchangeType: \"selectIconTabBarFilter\",\n\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\tselectedKey: sSelectedKey,\n\t\t\t\t\t\t\t\tpreviousSelectedKey: sPreviousSelectedKey\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselectorElement: oIconTabBar\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\n\t\toMultiControl._getViewController()?.getExtensionAPI()?.updateAppState();\n\n\t\toMultiControl.fireEvent(\"select\", {\n\t\t\ticonTabBar: oIconTabBar,\n\t\t\tselectedKey: sSelectedKey,\n\t\t\tpreviousKey: sPreviousSelectedKey\n\t\t});\n\t}\n\n\t/**\n\t * Invalidates the content of all inner controls.\n\t */\n\tinvalidateContent() {\n\t\tthis.setCountsOutDated(true);\n\t\tthis.getAllInnerControls().forEach((oMacroAPI) => {\n\t\t\toMacroAPI.invalidateContent?.();\n\t\t});\n\t}\n\n\t/**\n\t * Sets the counts to out of date or up to date\n\t * If the counts are set to \"out of date\" and the selected IconTabFilter doesn't contain an inner control all inner controls are requested to get the new counts.\n\t *\n\t * @param {boolean} bValue Freeze or not the control\n\t */\n\tsetCountsOutDated(bValue = true) {\n\t\tthis.setProperty(\"countsOutDated\", bValue);\n\t\t// if the current tab is not configured with no inner Control\n\t\t// the tab counts must be manually refreshed since no Macro API will sent event internalDataRequested\n\t\tif (bValue && !this.getSelectedInnerControl()) {\n\t\t\tthis._refreshTabsCount();\n\t\t}\n\t}\n\n\t/**\n\t * Freezes the content :\n\t *  - content is frozen: the binding of the inner controls are suspended.\n\t *  - content is unfrozen: the binding of inner control related to the selected IconTabFilter is resumed.\n\t *\n\t * @param {boolean} bValue Freeze or not the control\n\t */\n\tsetFreezeContent(bValue: boolean) {\n\t\tthis.setProperty(\"freezeContent\", bValue);\n\t\tthis._setInnerBinding();\n\t}\n\n\t/**\n\t * Updates the internal model with the properties that are not applicable on each IconTabFilter (containing inner control) according to the entityType of the filter control.\n\t *\n\t */\n\t_updateMultiTabNotApplicableFields() {\n\t\tconst tabsModel = this.getTabsModel();\n\t\tconst oFilterControl = this._getFilterControl() as Control;\n\t\tif (tabsModel && oFilterControl) {\n\t\t\tconst results: any = {};\n\t\t\tthis.getAllInnerControls().forEach((oMacroAPI) => {\n\t\t\t\tconst oTab = this._getTabFromInnerControl(oMacroAPI);\n\t\t\t\tif (oTab) {\n\t\t\t\t\tconst sTabId = oTab.getKey();\n\t\t\t\t\tconst mIgnoredFields = oMacroAPI.refreshNotApplicableFields?.(oFilterControl) || [];\n\t\t\t\t\tresults[sTabId] = {\n\t\t\t\t\t\tnotApplicable: {\n\t\t\t\t\t\t\tfields: mIgnoredFields,\n\t\t\t\t\t\t\ttitle: this._setTabMessageStrip({\n\t\t\t\t\t\t\t\tentityTypePath: oFilterControl.data(\"entityType\"),\n\t\t\t\t\t\t\t\tignoredFields: mIgnoredFields,\n\t\t\t\t\t\t\t\ttitle: oTab.getText()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (oMacroAPI && oMacroAPI.isA(\"sap.fe.macros.chart.ChartAPI\")) {\n\t\t\t\t\t\tresults[sTabId] = this.checkNonFilterableEntitySet(oMacroAPI, sTabId, results);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t(tabsModel as any).setData(results);\n\t\t}\n\t}\n\n\t/**\n\t * Modifies the messagestrip message based on entity set is filerable or not.\n\t *\n\t * @param {InnerControlType} oMacroAPI Macro chart api\n\t * @param {string} sTabId Tab key ID\n\t * @param {object} results Should contain fields and title\n\t * @returns {object} An object of modified fields and title\n\t */\n\tcheckNonFilterableEntitySet(oMacroAPI: InnerControlType, sTabId: string, results: any) {\n\t\tconst resourceModel = getResourceModel(oMacroAPI);\n\t\tconst oChart = oMacroAPI?.getContent ? oMacroAPI.getContent() : undefined;\n\t\tconst bEntitySetFilerable =\n\t\t\toChart &&\n\t\t\tMetaModelConverter.getInvolvedDataModelObjects(\n\t\t\t\toChart\n\t\t\t\t\t.getModel()\n\t\t\t\t\t.getMetaModel()\n\t\t\t\t\t.getContext(`${oChart.data(\"targetCollectionPath\")}`)\n\t\t\t)?.targetObject?.annotations?.Capabilities?.FilterRestrictions?.Filterable;\n\t\tif (bEntitySetFilerable !== undefined && !bEntitySetFilerable) {\n\t\t\tif (results[sTabId].notApplicable.fields.indexOf(\"$search\") > -1) {\n\t\t\t\tresults[sTabId].notApplicable.title += \" \" + resourceModel.getText(\"C_LR_MULTIVIZ_CHART_MULTI_NON_FILTERABLE\");\n\t\t\t} else {\n\t\t\t\tresults[sTabId].notApplicable.fields = [\"nonFilterable\"];\n\t\t\t\tresults[sTabId].notApplicable.title = resourceModel.getText(\"C_LR_MULTIVIZ_CHART_MULTI_NON_FILTERABLE\");\n\t\t\t}\n\t\t}\n\t\treturn results[sTabId];\n\t}\n\t/**\n\t * Gets the inner controls.\n\t *\n\t * @param {boolean} bOnlyForVisibleTab Should display only the visible controls\n\t * @returns {InnerControlType[]} An array of controls\n\t */\n\tgetAllInnerControls(bOnlyForVisibleTab = false): InnerControlType[] {\n\t\treturn (\n\t\t\tthis.innerControls.reduce((aInnerControls: InnerControlType[], sInnerControl: string) => {\n\t\t\t\tconst oControl = Core.byId(sInnerControl) as InnerControlType;\n\t\t\t\tif (oControl) {\n\t\t\t\t\taInnerControls.push(oControl);\n\t\t\t\t}\n\t\t\t\treturn aInnerControls.filter(\n\t\t\t\t\t(oInnerControl) => !bOnlyForVisibleTab || this._getTabFromInnerControl(oInnerControl)?.getVisible()\n\t\t\t\t);\n\t\t\t}, []) || []\n\t\t);\n\t}\n\n\t_getFilterControl(): FilterBar | undefined {\n\t\treturn Core.byId(this.filterControl) as FilterBar | undefined;\n\t}\n\n\t_getTabFromInnerControl(oControl: Control): IconTabFilter | undefined {\n\t\tconst sSupportedClass = IconTabFilter.getMetadata().getName();\n\t\tlet oTab: any = oControl;\n\t\tif (oTab && !oTab.isA(sSupportedClass) && oTab.getParent) {\n\t\t\toTab = oControl.getParent();\n\t\t}\n\t\treturn oTab && oTab.isA(sSupportedClass) ? (oTab as IconTabFilter) : undefined;\n\t}\n\n\t_getViewController() {\n\t\tconst oView = CommonUtils.getTargetView(this);\n\t\treturn oView && oView.getController();\n\t}\n\n\t_refreshCustomView(oFilterConditions: any, sRefreshCause: string) {\n\t\t(this._getViewController() as any)?.onViewNeedsRefresh?.({\n\t\t\tfilterConditions: oFilterConditions,\n\t\t\tcurrentTabId: this.content.getSelectedKey(),\n\t\t\trefreshCause: sRefreshCause\n\t\t});\n\t}\n\n\t_refreshTabsCount(tableEvent?: CoreEvent): void {\n\t\t// If the refresh is triggered by an event (internalDataRequested)\n\t\t// we cannot use the selected key as reference since table can be refreshed by SideEffects\n\t\t// so the table could be into a different tab -> we use the source of the event to find the targeted tab\n\t\t// If not triggered by an event -> refresh at least the counts of the current MacroAPI\n\t\t// In any case if the counts are set to Outdated for the MultipleModeControl all the counts are refreshed\n\t\tconst eventMacroAPI = tableEvent?.getSource() as MacroAPI;\n\t\tconst targetKey = eventMacroAPI ? this._getTabFromInnerControl(eventMacroAPI)?.getKey() : this.content?.getSelectedKey();\n\n\t\tthis.getAllInnerControls(true).forEach((oMacroAPI) => {\n\t\t\tconst oIconTabFilter = this._getTabFromInnerControl(oMacroAPI);\n\t\t\tif (oMacroAPI?.getCounts && (this.countsOutDated || targetKey === oIconTabFilter?.getKey())) {\n\t\t\t\tif (oIconTabFilter && oIconTabFilter.setCount) {\n\t\t\t\t\toIconTabFilter.setCount(\"...\");\n\t\t\t\t\toMacroAPI\n\t\t\t\t\t\t.getCounts()\n\t\t\t\t\t\t.then((iCount: string) => oIconTabFilter.setCount(iCount || \"0\"))\n\t\t\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\t\t\tLog.error(\"Error while requesting Counts for Control\", oError);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.setCountsOutDated(false);\n\t}\n\n\t_setInnerBinding(bRequestIfNotInitialized = false) {\n\t\tif (this.content) {\n\t\t\tthis.getAllInnerControls().forEach((oMacroAPI) => {\n\t\t\t\tconst oIconTabFilter = this._getTabFromInnerControl(oMacroAPI);\n\t\t\t\tconst bIsSelectedKey = oIconTabFilter?.getKey() === this.content.getSelectedKey();\n\t\t\t\tconst sAction = bIsSelectedKey && !this.getProperty(\"freezeContent\") ? BindingAction.Resume : BindingAction.Suspend;\n\t\t\t\toMacroAPI[sAction]?.(sAction === BindingAction.Resume ? bRequestIfNotInitialized && bIsSelectedKey : undefined);\n\t\t\t});\n\t\t}\n\t}\n\n\t_setTabMessageStrip(properties: MessageStripProperties) {\n\t\tlet sText = \"\";\n\t\tconst aIgnoredFields = properties.ignoredFields;\n\t\tconst oFilterControl = this._getFilterControl() as Control;\n\t\tif (oFilterControl && Array.isArray(aIgnoredFields) && aIgnoredFields.length > 0 && properties.title) {\n\t\t\tconst aIgnoredLabels = MessageStrip.getLabels(\n\t\t\t\taIgnoredFields,\n\t\t\t\tproperties.entityTypePath,\n\t\t\t\toFilterControl,\n\t\t\t\tgetResourceModel(oFilterControl)\n\t\t\t);\n\t\t\tsText = MessageStrip.getText(aIgnoredLabels, oFilterControl, properties.title);\n\t\t\treturn sText;\n\t\t}\n\t}\n\n\t_onSearch(oEvent: CoreEvent): void {\n\t\tthis.setCountsOutDated(true);\n\t\tthis.setFreezeContent(false);\n\t\tif (this.getSelectedInnerControl()) {\n\t\t\tthis._updateMultiTabNotApplicableFields();\n\t\t} else {\n\t\t\t// custom tab\n\t\t\tthis._refreshCustomView(oEvent.getParameter(\"conditions\"), \"search\");\n\t\t}\n\t}\n\n\t_onFilterChanged(oEvent: CoreEvent): void {\n\t\tif (oEvent.getParameter(\"conditionsBased\")) {\n\t\t\tthis.setFreezeContent(true);\n\t\t}\n\t}\n}\n\nexport default MultipleModeControl;\n"],"mappings":"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"}},{"offset":{"line":1901,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","MetaModelConverter","ClassSupport","MessageStrip","ResourceModelHelper","IconTabFilter","Control","Core","ControlPersonalizationWriteAPI","JSONModel","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","getResourceModel","property","event","defineUI5Class","association","aggregation","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","BindingAction","MultipleModeControl","type","defaultValue","multiple","isDefault","_Control","_this","_len","arguments","length","args","Array","_key","this","_proto","onBeforeRendering","getTabsModel","oFilterControl","_getFilterControl","setCountsOutDated","oFilterBarAPI","getParent","getAllInnerControls","oMacroAPI","_oMacroAPI$suspendBin","showCounts","attachEvent","_refreshTabsCount","suspendBinding","_onSearch","_onFilterChanged","onAfterRendering","_this$getSelectedInne","_this$getSelectedInne2","getSelectedInnerControl","resumeBinding","getProperty","render","oRm","oControl","renderControl","content","sTabsModel","oContent","oModel","getModel","setModel","_this$content","oSelectedTab","getItems","find","oItem","getKey","getSelectedKey","_getTabFromInnerControl","handleTabChange","oEvent","_oMultiControl$_getVi","_oMultiControl$_getVi2","oIconTabBar","getSource","oMultiControl","mParameters","getParameters","_setInnerBinding","sPreviousSelectedKey","previousKey","sSelectedKey","selectedKey","oFilterBar","_refreshCustomView","getFilterConditions","add","changes","changeSpecificData","changeType","previousSelectedKey","selectorElement","_getViewController","getExtensionAPI","updateAppState","fireEvent","iconTabBar","invalidateContent","_oMacroAPI$invalidate","bValue","setProperty","setFreezeContent","_updateMultiTabNotApplicableFields","tabsModel","results","oTab","_oMacroAPI$refreshNot","sTabId","mIgnoredFields","refreshNotApplicableFields","notApplicable","fields","title","_setTabMessageStrip","entityTypePath","data","ignoredFields","getText","isA","checkNonFilterableEntitySet","setData","_MetaModelConverter$g","_MetaModelConverter$g2","_MetaModelConverter$g3","_MetaModelConverter$g4","_MetaModelConverter$g5","resourceModel","oChart","getContent","bEntitySetFilerable","getInvolvedDataModelObjects","getMetaModel","getContext","targetObject","annotations","Capabilities","FilterRestrictions","Filterable","indexOf","bOnlyForVisibleTab","innerControls","aInnerControls","sInnerControl","byId","push","filter","oInnerControl","_this$_getTabFromInne","getVisible","filterControl","sSupportedClass","getMetadata","getName","oView","getTargetView","getController","oFilterConditions","sRefreshCause","_this$_getViewControl","_this$_getViewControl2","onViewNeedsRefresh","filterConditions","currentTabId","refreshCause","tableEvent","_this$_getTabFromInne2","_this$content2","eventMacroAPI","targetKey","oIconTabFilter","getCounts","countsOutDated","setCount","then","iCount","catch","oError","error","bRequestIfNotInitialized","_oMacroAPI$sAction","bIsSelectedKey","sAction","Resume","Suspend","properties","sText","aIgnoredFields","isArray","aIgnoredLabels","getLabels","getParameter"],"sources":["MultipleModeControl-dbg.js"],"mappings":"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","sourceRoot":"ListReport/controls"}},{"offset":{"line":1906,"column":0},"map":{"version":3,"names":["IntentBasedNavigationOverride","adaptNavigationContext","oSelectionVariant","oTargetInfo","oView","base","getView","oController","getController","oFilterBar","_getFilterBarControl","isEmpty","oViewData","getViewData","sRootPath","fullContextPath","oFilterBarConditions","Object","assign","filterBarConditions","aParameters","contextPath","oMetaModel","getModel","getMetaModel","oParameterInfo","CommonUtils","getParameterInfo","oParamProperties","parameterProperties","keys","_intentBasedNavigation","prepareFiltersForExternalNavigation","oMultipleModeControl","_getMultiModeControl","oTabsModel","getTabsModel","aIgnoredFieldsForTab","getProperty","content","getSelectedKey","Array","isArray","length","forEach","sProperty","filterConditions","addExternalStateFiltersToSelectionVariant","propertiesWithoutConflict","getEntitySet","getCurrentEntitySet"],"sourceRoot":"ListReport/overrides","sources":["IntentBasedNavigation.ts"],"sourcesContent":["import CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport type ListReportController from \"sap/fe/templates/ListReport/ListReportController.controller\";\n\nconst IntentBasedNavigationOverride = {\n\tadaptNavigationContext: function (this: IntentBasedNavigation, oSelectionVariant: any, oTargetInfo: any) {\n\t\tconst oView = this.base.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\toFilterBar = oController._getFilterBarControl();\n\t\t// Adding filter bar values to the navigation does not make sense if no context has been selected.\n\t\t// Hence only consider filter bar values when SelectionVariant is not empty\n\t\tif (oFilterBar && !oSelectionVariant.isEmpty()) {\n\t\t\tconst oViewData = oView.getViewData() as any,\n\t\t\t\tsRootPath = oViewData.fullContextPath;\n\t\t\tlet oFilterBarConditions = Object.assign({}, (this.base.getView().getController() as any).filterBarConditions);\n\t\t\tlet aParameters: any[] = [];\n\n\t\t\tif (oViewData.contextPath) {\n\t\t\t\tconst oMetaModel = oView.getModel().getMetaModel(),\n\t\t\t\t\toParameterInfo = CommonUtils.getParameterInfo(oMetaModel, oViewData.contextPath),\n\t\t\t\t\toParamProperties = oParameterInfo.parameterProperties;\n\t\t\t\taParameters = (oParamProperties && Object.keys(oParamProperties)) || [];\n\t\t\t}\n\n\t\t\toFilterBarConditions = oController._intentBasedNavigation.prepareFiltersForExternalNavigation(\n\t\t\t\toFilterBarConditions,\n\t\t\t\tsRootPath,\n\t\t\t\taParameters\n\t\t\t);\n\n\t\t\tconst oMultipleModeControl = oController._getMultiModeControl();\n\t\t\tif (oMultipleModeControl) {\n\t\t\t\t// Do we need to exclude Fields (multi tables mode with multi entity sets)?\n\t\t\t\tconst oTabsModel = oMultipleModeControl.getTabsModel();\n\t\t\t\tif (oTabsModel) {\n\t\t\t\t\tconst aIgnoredFieldsForTab = oTabsModel.getProperty(\n\t\t\t\t\t\t`/${oMultipleModeControl.content?.getSelectedKey()}/notApplicable/fields`\n\t\t\t\t\t);\n\t\t\t\t\tif (Array.isArray(aIgnoredFieldsForTab) && aIgnoredFieldsForTab.length > 0) {\n\t\t\t\t\t\taIgnoredFieldsForTab.forEach(function (sProperty: any) {\n\t\t\t\t\t\t\tdelete oFilterBarConditions.filterConditions[sProperty];\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// TODO: move this also into the intent based navigation controller extension\n\t\t\tCommonUtils.addExternalStateFiltersToSelectionVariant(oSelectionVariant, oFilterBarConditions, oFilterBar, oTargetInfo);\n\t\t\tdelete oTargetInfo.propertiesWithoutConflict;\n\t\t}\n\t},\n\tgetEntitySet: function (this: IntentBasedNavigation) {\n\t\treturn (this.base as any).getCurrentEntitySet();\n\t}\n};\n\nexport default IntentBasedNavigationOverride;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAIA,MAAMA,6BAA6B,GAAG;IACrCC,sBAAsB,EAAE,UAAuCC,iBAAsB,EAAEC,WAAgB,EAAE;MACxG,MAAMC,KAAK,GAAG,IAAI,CAACC,IAAI,CAACC,OAAO,EAAE;QAChCC,WAAW,GAAGH,KAAK,CAACI,aAAa,EAA0B;QAC3DC,UAAU,GAAGF,WAAW,CAACG,oBAAoB,EAAE;MAChD;MACA;MACA,IAAID,UAAU,IAAI,CAACP,iBAAiB,CAACS,OAAO,EAAE,EAAE;QAC/C,MAAMC,SAAS,GAAGR,KAAK,CAACS,WAAW,EAAS;UAC3CC,SAAS,GAAGF,SAAS,CAACG,eAAe;QACtC,IAAIC,oBAAoB,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAG,IAAI,CAACb,IAAI,CAACC,OAAO,EAAE,CAACE,aAAa,EAAE,CAASW,mBAAmB,CAAC;QAC9G,IAAIC,WAAkB,GAAG,EAAE;QAE3B,IAAIR,SAAS,CAACS,WAAW,EAAE;UAC1B,MAAMC,UAAU,GAAGlB,KAAK,CAACmB,QAAQ,EAAE,CAACC,YAAY,EAAE;YACjDC,cAAc,GAAGC,WAAW,CAACC,gBAAgB,CAACL,UAAU,EAAEV,SAAS,CAACS,WAAW,CAAC;YAChFO,gBAAgB,GAAGH,cAAc,CAACI,mBAAmB;UACtDT,WAAW,GAAIQ,gBAAgB,IAAIX,MAAM,CAACa,IAAI,CAACF,gBAAgB,CAAC,IAAK,EAAE;QACxE;QAEAZ,oBAAoB,GAAGT,WAAW,CAACwB,sBAAsB,CAACC,mCAAmC,CAC5FhB,oBAAoB,EACpBF,SAAS,EACTM,WAAW,CACX;QAED,MAAMa,oBAAoB,GAAG1B,WAAW,CAAC2B,oBAAoB,EAAE;QAC/D,IAAID,oBAAoB,EAAE;UACzB;UACA,MAAME,UAAU,GAAGF,oBAAoB,CAACG,YAAY,EAAE;UACtD,IAAID,UAAU,EAAE;YAAA;YACf,MAAME,oBAAoB,GAAGF,UAAU,CAACG,WAAW,CACjD,IAAC,yBAAEL,oBAAoB,CAACM,OAAO,0DAA5B,sBAA8BC,cAAc,EAAG,uBAAsB,CACzE;YACD,IAAIC,KAAK,CAACC,OAAO,CAACL,oBAAoB,CAAC,IAAIA,oBAAoB,CAACM,MAAM,GAAG,CAAC,EAAE;cAC3EN,oBAAoB,CAACO,OAAO,CAAC,UAAUC,SAAc,EAAE;gBACtD,OAAO7B,oBAAoB,CAAC8B,gBAAgB,CAACD,SAAS,CAAC;cACxD,CAAC,CAAC;YACH;UACD;QACD;;QAEA;QACAnB,WAAW,CAACqB,yCAAyC,CAAC7C,iBAAiB,EAAEc,oBAAoB,EAAEP,UAAU,EAAEN,WAAW,CAAC;QACvH,OAAOA,WAAW,CAAC6C,yBAAyB;MAC7C;IACD,CAAC;IACDC,YAAY,EAAE,YAAuC;MACpD,OAAQ,IAAI,CAAC5C,IAAI,CAAS6C,mBAAmB,EAAE;IAChD;EACD,CAAC;EAAC,OAEalD,6BAA6B;AAAA"}},{"offset":{"line":1958,"column":0},"map":{"version":3,"names":["sap","ui","define","CommonUtils","IntentBasedNavigationOverride","adaptNavigationContext","oSelectionVariant","oTargetInfo","oView","this","base","getView","oController","getController","oFilterBar","_getFilterBarControl","isEmpty","oViewData","getViewData","sRootPath","fullContextPath","oFilterBarConditions","Object","assign","filterBarConditions","aParameters","contextPath","oMetaModel","getModel","getMetaModel","oParameterInfo","getParameterInfo","oParamProperties","parameterProperties","keys","_intentBasedNavigation","prepareFiltersForExternalNavigation","oMultipleModeControl","_getMultiModeControl","oTabsModel","getTabsModel","_oMultipleModeControl","aIgnoredFieldsForTab","getProperty","content","getSelectedKey","Array","isArray","length","forEach","sProperty","filterConditions","addExternalStateFiltersToSelectionVariant","propertiesWithoutConflict","getEntitySet","getCurrentEntitySet"],"sources":["IntentBasedNavigation-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,yEAAO,CAAC,2BAA4B,SAAUC,GACnD,aAEA,MAAMC,EAAgC,CACpCC,uBAAwB,SAAUC,EAAmBC,GACnD,MAAMC,EAAQC,KAAKC,KAAKC,UACtBC,EAAcJ,EAAMK,gBACpBC,EAAaF,EAAYG,uBAG3B,GAAID,IAAeR,EAAkBU,UAAW,CAC9C,MAAMC,EAAYT,EAAMU,cACtBC,EAAYF,EAAUG,gBACxB,IAAIC,EAAuBC,OAAOC,OAAO,CAAC,EAAGd,KAAKC,KAAKC,UAAUE,gBAAgBW,qBACjF,IAAIC,EAAc,GAClB,GAAIR,EAAUS,YAAa,CACzB,MAAMC,EAAanB,EAAMoB,WAAWC,eAClCC,EAAiB3B,EAAY4B,iBAAiBJ,EAAYV,EAAUS,aACpEM,EAAmBF,EAAeG,oBACpCR,EAAcO,GAAoBV,OAAOY,KAAKF,IAAqB,EACrE,CACAX,EAAuBT,EAAYuB,uBAAuBC,oCAAoCf,EAAsBF,EAAWM,GAC/H,MAAMY,EAAuBzB,EAAY0B,uBACzC,GAAID,EAAsB,CAExB,MAAME,EAAaF,EAAqBG,eACxC,GAAID,EAAY,CACd,IAAIE,EACJ,MAAMC,EAAuBH,EAAWI,YAAY,KAAKF,EAAwBJ,EAAqBO,WAAa,MAAQH,SAA+B,OAAS,EAAIA,EAAsBI,yCAC7L,GAAIC,MAAMC,QAAQL,IAAyBA,EAAqBM,OAAS,EAAG,CAC1EN,EAAqBO,QAAQ,SAAUC,UAC9B7B,EAAqB8B,iBAAiBD,EAC/C,EACF,CACF,CACF,CAGA/C,EAAYiD,0CAA0C9C,EAAmBe,EAAsBP,EAAYP,UACpGA,EAAY8C,yBACrB,CACF,EACAC,aAAc,WACZ,OAAO7C,KAAKC,KAAK6C,qBACnB,GAEF,OAAOnD,CACT,EAAG","sourceRoot":"ListReport/overrides"}},{"offset":{"line":1963,"column":0},"map":{"version":3,"names":["getCountUrl","oController","oTable","_getTable","oBinding","getRowBinding","getBinding","sDownloadUrl","getDownloadUrl","aSplitUrl","split","baseUrl","aSupportedParams","length","urlParams","forEach","urlParam","aUrlParamParts","push","join","getShareEmailUrl","oUShellContainer","sap","ushell","Container","getFLPUrlAsync","then","sFLPUrl","catch","sError","Log","error","Promise","resolve","document","URL","getSaveAsTileServiceUrl","oFilterBar","_getFilterBarControl","oConditions","getFilterConditions","bSaveAsTileServiceUrlAllowed","SemanticDateOperators","hasSemanticDateOperations","getJamUrl","sHash","HashChanger","getInstance","getHash","sBasePath","hrefForAppSpecificHash","sJamUrl","window","location","hash","runningInIframe","getFLPUrl","sUrl","substr","indexOf","origin","pathname","ShareOverride","adaptShareMetadata","oShareMetadata","oAppComponent","CommonUtils","getAppComponent","base","getView","oMetadata","getMetadata","oUIManifest","getManifestEntry","sIcon","icons","icon","oAppManifest","sTitle","title","tile","queryUrl","getController","jam","url","collaborationInfoModel","getModel","setProperty","email"],"sourceRoot":"ListReport/overrides","sources":["Share.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type Share from \"sap/fe/core/controllerextensions/Share\";\nimport SemanticDateOperators from \"sap/fe/core/helpers/SemanticDateOperators\";\nimport HashChanger from \"sap/ui/core/routing/HashChanger\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ListReportController from \"../ListReportController.controller\";\nfunction getCountUrl(oController: ListReportController) {\n\tconst oTable = oController._getTable?.();\n\tif (!oTable) {\n\t\treturn \"\";\n\t}\n\tconst oBinding = oTable.getRowBinding() || oTable.getBinding(\"items\");\n\tconst sDownloadUrl = (oBinding && (oBinding as any).getDownloadUrl()) || \"\";\n\tconst aSplitUrl = sDownloadUrl.split(\"?\");\n\tconst baseUrl = `${aSplitUrl[0]}/$count?`;\n\t// getDownloadUrl() returns url with $select, $expand which is not supported when /$count is used to get the record count. only $apply, $search, $filter is supported\n\t// ?$count=true returns count in a format which is not supported by FLP yet.\n\t// currently supported format for v4 is ../count.. only (where tile preview will still not work)\n\tconst aSupportedParams: any[] = [];\n\tif (aSplitUrl.length > 1) {\n\t\tconst urlParams = aSplitUrl[1];\n\t\turlParams.split(\"&\").forEach(function (urlParam: any) {\n\t\t\tconst aUrlParamParts = urlParam.split(\"=\");\n\t\t\tswitch (aUrlParamParts[0]) {\n\t\t\t\tcase \"$apply\":\n\t\t\t\tcase \"$search\":\n\t\t\t\tcase \"$filter\":\n\t\t\t\t\taSupportedParams.push(urlParam);\n\t\t\t}\n\t\t});\n\t}\n\treturn baseUrl + aSupportedParams.join(\"&\");\n}\n\nfunction getShareEmailUrl() {\n\tconst oUShellContainer = sap.ushell && sap.ushell.Container;\n\tif (oUShellContainer) {\n\t\treturn oUShellContainer\n\t\t\t.getFLPUrlAsync(true)\n\t\t\t.then(function (sFLPUrl: any) {\n\t\t\t\treturn sFLPUrl;\n\t\t\t})\n\t\t\t.catch(function (sError: any) {\n\t\t\t\tLog.error(\"Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)\", sError);\n\t\t\t});\n\t} else {\n\t\treturn Promise.resolve(document.URL);\n\t}\n}\nfunction getSaveAsTileServiceUrl(oController: any) {\n\tconst oFilterBar = oController._getFilterBarControl();\n\tif (oFilterBar) {\n\t\tconst oConditions = oFilterBar.getFilterConditions();\n\t\tconst bSaveAsTileServiceUrlAllowed = SemanticDateOperators.hasSemanticDateOperations(oConditions);\n\t\tif (bSaveAsTileServiceUrlAllowed) {\n\t\t\treturn getCountUrl(oController);\n\t\t}\n\t}\n\treturn \"\";\n}\nfunction getJamUrl() {\n\tconst sHash = HashChanger.getInstance().getHash();\n\tconst sBasePath = (HashChanger.getInstance() as any).hrefForAppSpecificHash\n\t\t? (HashChanger.getInstance() as any).hrefForAppSpecificHash(\"\")\n\t\t: \"\";\n\tconst sJamUrl = sHash ? sBasePath + sHash : window.location.hash;\n\t// in case we are in cFLP scenario, the application is running\n\t// inside an iframe, and there for we need to get the cFLP URL\n\t// and not 'document.URL' that represents the iframe URL\n\tif (sap.ushell && sap.ushell.Container && sap.ushell.Container.runningInIframe && sap.ushell.Container.runningInIframe()) {\n\t\tsap.ushell.Container.getFLPUrl(true)\n\t\t\t.then(function (sUrl: any) {\n\t\t\t\treturn sUrl.substr(0, sUrl.indexOf(\"#\")) + sJamUrl;\n\t\t\t})\n\t\t\t.catch(function (sError: any) {\n\t\t\t\tLog.error(\"Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)\", sError);\n\t\t\t});\n\t} else {\n\t\treturn window.location.origin + window.location.pathname + sJamUrl;\n\t}\n}\n\nconst ShareOverride = {\n\tadaptShareMetadata: function (this: Share, oShareMetadata: any) {\n\t\tPromise.resolve(getJamUrl())\n\t\t\t.then((sJamUrl: string | undefined) => {\n\t\t\t\tconst oAppComponent = CommonUtils.getAppComponent(this.base.getView());\n\t\t\t\tconst oMetadata = oAppComponent.getMetadata();\n\t\t\t\tconst oUIManifest = oMetadata.getManifestEntry(\"sap.ui\");\n\t\t\t\tconst sIcon = (oUIManifest && oUIManifest.icons && oUIManifest.icons.icon) || \"\";\n\t\t\t\tconst oAppManifest = oMetadata.getManifestEntry(\"sap.app\");\n\t\t\t\tconst sTitle = (oAppManifest && oAppManifest.title) || \"\";\n\t\t\t\t// TODO: check if there is any semantic date used before adding serviceURL as BLI:FIORITECHP1-18023\n\t\t\t\toShareMetadata.tile = {\n\t\t\t\t\ticon: sIcon,\n\t\t\t\t\ttitle: sTitle,\n\t\t\t\t\tqueryUrl: getSaveAsTileServiceUrl(this.base.getView().getController())\n\t\t\t\t};\n\t\t\t\toShareMetadata.title = document.title;\n\t\t\t\toShareMetadata.jam.url = sJamUrl;\n\t\t\t\t// MS Teams collaboration does not want to allow further changes to the URL\n\t\t\t\t// so update colloborationInfo model at LR override to ignore further extension changes at multiple levels\n\t\t\t\tconst collaborationInfoModel: JSONModel = this.base.getView().getModel(\"collaborationInfo\") as JSONModel;\n\t\t\t\tcollaborationInfoModel.setProperty(\"/url\", oShareMetadata.url);\n\t\t\t\tcollaborationInfoModel.setProperty(\"/appTitle\", oShareMetadata.title);\n\t\t\t})\n\t\t\t.catch(function (error: any) {\n\t\t\t\tLog.error(error);\n\t\t\t});\n\n\t\treturn Promise.resolve(getShareEmailUrl()).then(function (sFLPUrl: any) {\n\t\t\toShareMetadata.email.url = sFLPUrl;\n\t\t\treturn oShareMetadata;\n\t\t});\n\t}\n};\n\nexport default ShareOverride;\n"],"mappings":"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"}},{"offset":{"line":2071,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","SemanticDateOperators","HashChanger","getCountUrl","oController","_oController$_getTabl","oTable","_getTable","call","oBinding","getRowBinding","getBinding","sDownloadUrl","getDownloadUrl","aSplitUrl","split","baseUrl","aSupportedParams","length","urlParams","forEach","urlParam","aUrlParamParts","push","join","getShareEmailUrl","oUShellContainer","ushell","Container","getFLPUrlAsync","then","sFLPUrl","catch","sError","error","Promise","resolve","document","URL","getSaveAsTileServiceUrl","oFilterBar","_getFilterBarControl","oConditions","getFilterConditions","bSaveAsTileServiceUrlAllowed","hasSemanticDateOperations","getJamUrl","sHash","getInstance","getHash","sBasePath","hrefForAppSpecificHash","sJamUrl","window","location","hash","runningInIframe","getFLPUrl","sUrl","substr","indexOf","origin","pathname","ShareOverride","adaptShareMetadata","oShareMetadata","oAppComponent","getAppComponent","this","base","getView","oMetadata","getMetadata","oUIManifest","getManifestEntry","sIcon","icons","icon","oAppManifest","sTitle","title","tile","queryUrl","getController","jam","url","collaborationInfoModel","getModel","setProperty","email"],"sources":["Share-dbg.js"],"mappings":"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","sourceRoot":"ListReport/overrides"}},{"offset":{"line":2076,"column":0},"map":{"version":3,"names":["NavType","NavLibrary","VariantManagementType","CoreLibrary","VariantManagement","TemplateContentView","InitialLoadMode","CONDITION_PATH_TO_PROPERTY_PATH_REGEX","ViewStateOverride","_bSearchTriggered","applyInitialStateOnly","onBeforeStateApplied","aPromises","navigationType","oView","getView","oController","getController","oFilterBar","_getFilterBarControl","aTables","_getControls","setSuspendSelection","push","waitForInitialization","hybrid","_clearFilterConditions","forEach","oTable","initialized","onAfterStateApplied","_isFilterBarHidden","oInternalModelContext","getBindingContext","setProperty","_isMultiMode","_getMultiModeControl","setCountsOutDated","adaptBindingRefreshControls","aControls","base","aViewControls","aControlsToRefresh","KeepAliveHelper","getControlsForRefresh","Array","prototype","apply","adaptStateControls","aStateControls","oViewData","getViewData","bControlVM","variantManagement","Control","oFilterBarVM","_getFilterBarVM","oQuickFilter","getQuickFilter","getVariant","oChart","_hasMultiVisualizations","_getSegmentedButton","Chart","Table","byId","retrieveAdditionalStates","mAdditionalStates","bPendingFilter","getProperty","dataLoaded","sAlpContentView","alpContentView","applyAdditionalStates","oAdditionalStates","filterBarAPI","getParent","triggerSearch","system","desktop","Hybrid","getModel","getPath","_applyNavigationParametersToFilterbar","oNavigationParameter","aResults","oAppComponent","getAppComponent","oComponentData","getComponentData","oStartupParameters","startupParameters","oVariantPromise","handleVariantIdPassedViaURLParams","bFilterVariantApplied","then","aVariants","length","_applySelectionVariant","oDynamicPage","_getDynamicListReportControl","bPreventInitialSearch","oFilterBarControl","initial","requiresStandardVariant","initialLoad","Enabled","_shouldAutoTriggerSearch","_preventInitialSearch","setHeaderExpanded","catch","Log","error","oUrlParams","aPageVariantId","aFilterBarVariantId","aTableVariantId","aChartVariantId","oVariantIDs","sPageVariantId","sFilterBarVariantId","sTableVariantId","sChartVariantId","_handleControlVariantId","oVM","sVariantManagement","_handlePageVariantId","_getFilterBarVariantControl","_handleFilterBarVariantControlId","_handleTableControlVariantId","_handleChartControlVariantId","Promise","all","getVariants","oVariant","_findAndPushVariantToPromise","oTableVariant","aCharts","oChartVariant","sVariantId","key","_applyControlVariant","sVariantID","sVariantReference","_checkIfVariantIdIsAvailable","getStandardVariantKey","ControlVariantApplyAPI","activateVariant","element","variantReference","Page","None","Error","oVariantManagement","oCurrentVariant","find","oItem","getCurrentVariantKey","executeOnSelect","oSelectionVariant","selectionVariant","oSelectionVariantDefaults","selectionVariantDefaults","resolve","oConditions","oMetaModel","getMetaModel","sContextPath","contextPath","entitySet","aMandatoryFilterFields","CommonUtils","getMandatoryFilterFields","bUseSemanticDateRange","data","bRequiresStandardVariant","bIsFLPValuePresent","getSelectOptionsPropertyNames","getDefaultVariantKey","bNavSelVarHasDefaultsOnly","getConditions","addDefaultDisplayCurrency","addSelectionVariantToConditions","_activateSelectionVariant","oPromise","oVariantKey","getId","bClearFilterAndReplaceWithAppState","_fnApplyConditions","_fnClearStateBeforexAppNav","StateUtil","retrieveExternalState","oExternalState","oCondition","filter","field","condition","oError","mFilter","aItems","fnAdjustValueHelpCondition","validated","ConditionValidated","Validated","operator","values","isEmpty","fnGetPropertyInfo","oFilterControl","sEntityTypePath","sEntitySetPath","ModelHelper","getEntitySetPath","oFR","getFilterRestrictionsByPath","aNonFilterableProps","NonFilterableProperties","mFilterFields","FilterUtils","getConvertedFilterFields","aPropertyInfo","oConvertedProperty","sPropertyPath","conditionPath","replace","indexOf","sAnnotationPath","annotationPath","oPropertyContext","createBindingContext","path","hiddenFilter","availability","hasValueHelp","PropertyFormatters","getObject","context","DelegateUtil","getCustomData","oClearConditions","applyExternalState","items","oPropertyInfo","name","filtered","NotValidated","filterBar","inputConditions","isFLPValues","filterBarPropertyInfos","SelectionVariantToStateFilters","getFilterBarSupportedFields","filterBarInfoForConversion","getFilterBarInfoForConversion","conditionsFromSV","getConditionsFromSV","propertyInfo","conditionObjects","hasOwnProperty","concat"],"sourceRoot":"ListReport/overrides","sources":["ViewState.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport type { NavigationParameter } from \"sap/fe/core/controllerextensions/ViewState\";\nimport SelectionVariantToStateFilters from \"sap/fe/core/controls/filterbar/adapter/SelectionVariantToStateFilters\";\nimport KeepAliveHelper from \"sap/fe/core/helpers/KeepAliveHelper\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport * as PropertyFormatters from \"sap/fe/core/templating/PropertyFormatters\";\nimport DelegateUtil, { PropertyInfo } from \"sap/fe/macros/DelegateUtil\";\nimport FilterUtils from \"sap/fe/macros/filter/FilterUtils\";\nimport type FilterBarAPI from \"sap/fe/macros/filterBar/FilterBarAPI\";\nimport NavLibrary from \"sap/fe/navigation/library\";\nimport type { SelectionVariant } from \"sap/fe/navigation/SelectionVariant\";\nimport type ListReportController from \"sap/fe/templates/ListReport/ListReportController.controller\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport { system } from \"sap/ui/Device\";\nimport ControlVariantApplyAPI from \"sap/ui/fl/apply/api/ControlVariantApplyAPI\";\nimport type VariantManagement from \"sap/ui/fl/variants/VariantManagement\";\nimport Chart from \"sap/ui/mdc/Chart\";\nimport type { ConditionObject } from \"sap/ui/mdc/condition/Condition\";\nimport ConditionValidated from \"sap/ui/mdc/enum/ConditionValidated\";\nimport FilterBar from \"sap/ui/mdc/FilterBar\";\nimport StateUtil from \"sap/ui/mdc/p13n/StateUtil\";\nimport Table from \"sap/ui/mdc/Table\";\nimport type ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\n\ntype VariantObject = {\n\tauthor: String;\n\tchange: boolean;\n\tcontexts: object;\n\texecuteOnSelect: boolean;\n\tfavorite: boolean;\n\tkey: String;\n\toriginalContexts: object;\n\toriginalExecuteOnSelect: boolean;\n\toriginalFavorite: boolean;\n\toriginalTitle: String;\n\toriginalVisible: boolean;\n\tremove: boolean;\n\trename: boolean;\n\tsharing: String;\n\ttitle: String;\n\tvisible: boolean;\n};\n\ntype NavHandlerNavParams = NavigationParameter & {\n\tbNavSelVarHasDefaultsOnly?: boolean;\n};\n\ntype LRViewData = {\n\tcontrolConfiguration?: Record<string, Record<string, unknown>>;\n\tentitySet?: string;\n\tcontextPath?: string;\n\tvariantManagement?: boolean;\n};\n\ntype VariantIDs = {\n\tsPageVariantId: String;\n\tsFilterBarVariantId: String;\n\tsTableVariantId: String;\n\tsChartVariantId: String;\n};\n\nconst NavType = NavLibrary.NavType,\n\tVariantManagementType = CoreLibrary.VariantManagement,\n\tTemplateContentView = CoreLibrary.TemplateContentView,\n\tInitialLoadMode = CoreLibrary.InitialLoadMode,\n\tCONDITION_PATH_TO_PROPERTY_PATH_REGEX = /\\+|\\*/g;\n\nconst ViewStateOverride: any = {\n\t_bSearchTriggered: false,\n\tapplyInitialStateOnly: function () {\n\t\treturn true;\n\t},\n\tonBeforeStateApplied: function (this: ViewState & typeof ViewStateOverride, aPromises: any, navigationType?: string) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\toFilterBar = oController._getFilterBarControl(),\n\t\t\taTables = oController._getControls(\"table\");\n\t\tif (oFilterBar) {\n\t\t\toFilterBar.setSuspendSelection(true);\n\t\t\taPromises.push((oFilterBar as any).waitForInitialization());\n\t\t\t//This is required to remove any existing or default filter conditions before restoring the filter bar state in hybrid navigation mode.\n\t\t\tif (navigationType === NavType.hybrid) {\n\t\t\t\tthis._clearFilterConditions(oFilterBar);\n\t\t\t}\n\t\t}\n\t\taTables.forEach(function (oTable: any) {\n\t\t\taPromises.push(oTable.initialized());\n\t\t});\n\n\t\tdelete this._bSearchTriggered;\n\t},\n\tonAfterStateApplied: function (this: ViewState) {\n\t\tconst oController = this.getView().getController() as ListReportController;\n\t\tconst oFilterBar = oController._getFilterBarControl();\n\t\tif (oFilterBar) {\n\t\t\toFilterBar.setSuspendSelection(false);\n\t\t} else if (oController._isFilterBarHidden()) {\n\t\t\tconst oInternalModelContext = oController.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\toInternalModelContext.setProperty(\"hasPendingFilters\", false);\n\t\t\tif (oController._isMultiMode()) {\n\t\t\t\toController._getMultiModeControl().setCountsOutDated(true);\n\t\t\t}\n\t\t}\n\t},\n\tadaptBindingRefreshControls: function (this: ViewState, aControls: any) {\n\t\tconst oView = this.base.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\taViewControls = oController._getControls(),\n\t\t\taControlsToRefresh = KeepAliveHelper.getControlsForRefresh(oView, aViewControls);\n\n\t\tArray.prototype.push.apply(aControls, aControlsToRefresh);\n\t},\n\tadaptStateControls: function (this: ViewState & typeof ViewStateOverride, aStateControls: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\toViewData = oView.getViewData(),\n\t\t\tbControlVM = oViewData.variantManagement === VariantManagementType.Control;\n\n\t\tconst oFilterBarVM = this._getFilterBarVM(oView);\n\t\tif (oFilterBarVM) {\n\t\t\taStateControls.push(oFilterBarVM);\n\t\t}\n\t\tif (oController._isMultiMode()) {\n\t\t\taStateControls.push(oController._getMultiModeControl());\n\t\t}\n\t\toController._getControls(\"table\").forEach(function (oTable: any) {\n\t\t\tconst oQuickFilter = oTable.getQuickFilter();\n\t\t\tif (oQuickFilter) {\n\t\t\t\taStateControls.push(oQuickFilter);\n\t\t\t}\n\t\t\tif (bControlVM) {\n\t\t\t\taStateControls.push(oTable.getVariant());\n\t\t\t}\n\t\t\taStateControls.push(oTable);\n\t\t});\n\t\tif (oController._getControls(\"Chart\")) {\n\t\t\toController._getControls(\"Chart\").forEach(function (oChart: any) {\n\t\t\t\tif (bControlVM) {\n\t\t\t\t\taStateControls.push(oChart.getVariant());\n\t\t\t\t}\n\t\t\t\taStateControls.push(oChart);\n\t\t\t});\n\t\t}\n\t\tif (oController._hasMultiVisualizations()) {\n\t\t\taStateControls.push(oController._getSegmentedButton(TemplateContentView.Chart));\n\t\t\taStateControls.push(oController._getSegmentedButton(TemplateContentView.Table));\n\t\t}\n\t\tconst oFilterBar = oController._getFilterBarControl();\n\t\tif (oFilterBar) {\n\t\t\taStateControls.push(oFilterBar);\n\t\t}\n\t\taStateControls.push(oView.byId(\"fe::ListReport\"));\n\t},\n\tretrieveAdditionalStates: function (this: ViewState & typeof ViewStateOverride, mAdditionalStates: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\tbPendingFilter = (oView.getBindingContext(\"internal\") as InternalModelContext).getProperty(\"hasPendingFilters\");\n\n\t\tmAdditionalStates.dataLoaded = !bPendingFilter || !!this._bSearchTriggered;\n\t\tif (oController._hasMultiVisualizations()) {\n\t\t\tconst sAlpContentView = oView.getBindingContext(\"internal\").getProperty(\"alpContentView\");\n\t\t\tmAdditionalStates.alpContentView = sAlpContentView;\n\t\t}\n\n\t\tdelete this._bSearchTriggered;\n\t},\n\tapplyAdditionalStates: function (this: ViewState & typeof ViewStateOverride, oAdditionalStates: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as ListReportController,\n\t\t\toFilterBar = oController._getFilterBarControl();\n\n\t\tif (oAdditionalStates) {\n\t\t\t// explicit check for boolean values - 'undefined' should not alter the triggered search property\n\t\t\tif (oAdditionalStates.dataLoaded === false && oFilterBar) {\n\t\t\t\t// without this, the data is loaded on navigating back\n\t\t\t\t(oFilterBar as any)._bSearchTriggered = false;\n\t\t\t} else if (oAdditionalStates.dataLoaded === true) {\n\t\t\t\tif (oFilterBar) {\n\t\t\t\t\tconst filterBarAPI = oFilterBar.getParent() as FilterBarAPI;\n\t\t\t\t\tfilterBarAPI.triggerSearch();\n\t\t\t\t}\n\t\t\t\tthis._bSearchTriggered = true;\n\t\t\t}\n\t\t\tif (oController._hasMultiVisualizations()) {\n\t\t\t\tconst oInternalModelContext = oView.getBindingContext(\"internal\") as InternalModelContext;\n\t\t\t\tif (!system.desktop && oAdditionalStates.alpContentView == TemplateContentView.Hybrid) {\n\t\t\t\t\toAdditionalStates.alpContentView = TemplateContentView.Chart;\n\t\t\t\t}\n\t\t\t\toInternalModelContext\n\t\t\t\t\t.getModel()\n\t\t\t\t\t.setProperty(`${oInternalModelContext.getPath()}/alpContentView`, oAdditionalStates.alpContentView);\n\t\t\t}\n\t\t}\n\t},\n\t_applyNavigationParametersToFilterbar: function (this: ViewState & typeof ViewStateOverride, oNavigationParameter: any, aResults: any) {\n\t\tconst oView = this.getView();\n\t\tconst oController = oView.getController() as ListReportController;\n\t\tconst oAppComponent = oController.getAppComponent();\n\t\tconst oComponentData = oAppComponent.getComponentData();\n\t\tconst oStartupParameters = (oComponentData && oComponentData.startupParameters) || {};\n\t\tconst oVariantPromise = this.handleVariantIdPassedViaURLParams(oStartupParameters);\n\t\tlet bFilterVariantApplied: boolean;\n\t\taResults.push(\n\t\t\toVariantPromise\n\t\t\t\t.then((aVariants: any[]) => {\n\t\t\t\t\tif (aVariants && aVariants.length > 0) {\n\t\t\t\t\t\tif (aVariants[0] === true || aVariants[1] === true) {\n\t\t\t\t\t\t\tbFilterVariantApplied = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this._applySelectionVariant(oView, oNavigationParameter, bFilterVariantApplied);\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst oDynamicPage = oController._getDynamicListReportControl();\n\t\t\t\t\tlet bPreventInitialSearch = false;\n\t\t\t\t\tconst oFilterBarVM = this._getFilterBarVM(oView);\n\t\t\t\t\tconst oFilterBarControl = oController._getFilterBarControl();\n\t\t\t\t\tif (oFilterBarControl) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t(oNavigationParameter.navigationType !== NavType.initial && oNavigationParameter.requiresStandardVariant) ||\n\t\t\t\t\t\t\t(!oFilterBarVM && oView.getViewData().initialLoad === InitialLoadMode.Enabled) ||\n\t\t\t\t\t\t\toController._shouldAutoTriggerSearch(oFilterBarVM)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst filterBarAPI = oFilterBarControl.getParent() as FilterBarAPI;\n\t\t\t\t\t\t\tfilterBarAPI.triggerSearch();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbPreventInitialSearch = this._preventInitialSearch(oFilterBarVM);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// reset the suspend selection on filter bar to allow loading of data when needed (was set on LR Init)\n\t\t\t\t\t\toFilterBarControl.setSuspendSelection(false);\n\t\t\t\t\t\tthis._bSearchTriggered = !bPreventInitialSearch;\n\t\t\t\t\t\toDynamicPage.setHeaderExpanded(system.desktop || bPreventInitialSearch);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\tLog.error(\"Variant ID cannot be applied\");\n\t\t\t\t})\n\t\t);\n\t},\n\n\thandleVariantIdPassedViaURLParams: function (this: ViewState & typeof ViewStateOverride, oUrlParams: any) {\n\t\tconst aPageVariantId = oUrlParams[\"sap-ui-fe-variant-id\"],\n\t\t\taFilterBarVariantId = oUrlParams[\"sap-ui-fe-filterbar-variant-id\"],\n\t\t\taTableVariantId = oUrlParams[\"sap-ui-fe-table-variant-id\"],\n\t\t\taChartVariantId = oUrlParams[\"sap-ui-fe-chart-variant-id\"];\n\t\tlet oVariantIDs;\n\t\tif (aPageVariantId || aFilterBarVariantId || aTableVariantId || aChartVariantId) {\n\t\t\toVariantIDs = {\n\t\t\t\tsPageVariantId: aPageVariantId && aPageVariantId[0],\n\t\t\t\tsFilterBarVariantId: aFilterBarVariantId && aFilterBarVariantId[0],\n\t\t\t\tsTableVariantId: aTableVariantId && aTableVariantId[0],\n\t\t\t\tsChartVariantId: aChartVariantId && aChartVariantId[0]\n\t\t\t};\n\t\t}\n\t\treturn this._handleControlVariantId(oVariantIDs);\n\t},\n\n\t_handleControlVariantId: function (this: ViewState & typeof ViewStateOverride, oVariantIDs: VariantIDs) {\n\t\tlet oVM: VariantManagement;\n\t\tconst oView = this.getView(),\n\t\t\taPromises: VariantManagement[] = [];\n\t\tconst sVariantManagement = oView.getViewData().variantManagement;\n\t\tif (oVariantIDs && oVariantIDs.sPageVariantId && sVariantManagement === \"Page\") {\n\t\t\toVM = oView.byId(\"fe::PageVariantManagement\");\n\t\t\tthis._handlePageVariantId(oVariantIDs, oVM, aPromises);\n\t\t} else if (oVariantIDs && sVariantManagement === \"Control\") {\n\t\t\tif (oVariantIDs.sFilterBarVariantId) {\n\t\t\t\toVM = oView.getController()._getFilterBarVariantControl();\n\t\t\t\tthis._handleFilterBarVariantControlId(oVariantIDs, oVM, aPromises);\n\t\t\t}\n\t\t\tif (oVariantIDs.sTableVariantId) {\n\t\t\t\tconst oController = oView.getController() as ListReportController;\n\t\t\t\tthis._handleTableControlVariantId(oVariantIDs, oController, aPromises);\n\t\t\t}\n\n\t\t\tif (oVariantIDs.sChartVariantId) {\n\t\t\t\tconst oController = oView.getController() as ListReportController;\n\t\t\t\tthis._handleChartControlVariantId(oVariantIDs, oController, aPromises);\n\t\t\t}\n\t\t}\n\t\treturn Promise.all(aPromises);\n\t},\n\t/*\n\t * Handles page level variant and passes the variant to the function that pushes the promise to the promise array\n\t *\n\t * @param oVarinatIDs contains an object of all variant IDs\n\t * @param oVM contains the vairant management object for the page variant\n\t * @param aPromises is an array of all promises\n\t * @private\n\t */\n\t_handlePageVariantId: function (\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariantIDs: VariantIDs,\n\t\toVM: VariantManagement,\n\t\taPromises: VariantManagement[]\n\t) {\n\t\toVM.getVariants().forEach((oVariant: VariantObject) => {\n\t\t\tthis._findAndPushVariantToPromise(oVariant, oVariantIDs.sPageVariantId, oVM, aPromises, true);\n\t\t});\n\t},\n\n\t/*\n\t * Handles control level variant for filter bar and passes the variant to the function that pushes the promise to the promise array\n\t *\n\t * @param oVarinatIDs contains an object of all variant IDs\n\t * @param oVM contains the vairant management object for the filter bar\n\t * @param aPromises is an array of all promises\n\t * @private\n\t */\n\n\t_handleFilterBarVariantControlId: function (\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariantIDs: VariantIDs,\n\t\toVM: VariantManagement,\n\t\taPromises: VariantManagement[]\n\t) {\n\t\tif (oVM) {\n\t\t\toVM.getVariants().forEach((oVariant: VariantObject) => {\n\t\t\t\tthis._findAndPushVariantToPromise(oVariant, oVariantIDs.sFilterBarVariantId, oVM, aPromises, true);\n\t\t\t});\n\t\t}\n\t},\n\n\t/*\n\t * Handles control level variant for table and passes the variant to the function that pushes the promise to the promise array\n\t *\n\t * @param oVarinatIDs contains an object of all variant IDs\n\t * @param oController has the list report controller object\n\t * @param aPromises is an array of all promises\n\t * @private\n\t */\n\t_handleTableControlVariantId: function (\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariantIDs: VariantIDs,\n\t\toController: ListReportController,\n\t\taPromises: VariantManagement[]\n\t) {\n\t\tconst aTables = oController._getControls(\"table\");\n\t\taTables.forEach((oTable: Table) => {\n\t\t\tconst oTableVariant = oTable.getVariant();\n\t\t\tif (oTable && oTableVariant) {\n\t\t\t\toTableVariant.getVariants().forEach((oVariant: VariantObject) => {\n\t\t\t\t\tthis._findAndPushVariantToPromise(oVariant, oVariantIDs.sTableVariantId, oTableVariant, aPromises);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t/*\n\t * Handles control level variant for chart and passes the variant to the function that pushes the promise to the promise array\n\t *\n\t * @param oVarinatIDs contains an object of all variant IDs\n\t * @param oController has the list report controller object\n\t * @param aPromises is an array of all promises\n\t * @private\n\t */\n\t_handleChartControlVariantId: function (\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariantIDs: VariantIDs,\n\t\toController: ListReportController,\n\t\taPromises: VariantManagement[]\n\t) {\n\t\tconst aCharts = oController._getControls(\"Chart\");\n\t\taCharts.forEach((oChart: Chart) => {\n\t\t\tconst oChartVariant = oChart.getVariant();\n\t\t\tconst aVariants = oChartVariant.getVariants();\n\t\t\tif (aVariants) {\n\t\t\t\taVariants.forEach((oVariant: VariantObject) => {\n\t\t\t\t\tthis._findAndPushVariantToPromise(oVariant, oVariantIDs.sChartVariantId, oChartVariant, aPromises);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/*\n\t * Matches the variant ID provided in the url to the available vairant IDs and pushes the appropriate promise to the promise array\n\t *\n\t * @param oVariant is an object for a specific variant\n\t * @param sVariantId is the variant ID provided in the url\n\t * @param oVM is the variant management object for the specfic variant\n\t * @param aPromises is an array of promises\n\t * @param bFilterVariantApplied is an optional parameter which is set to ture in case the filter variant is applied\n\t * @private\n\t */\n\t_findAndPushVariantToPromise: function (\n\t\t//This function finds the suitable variant for the variantID provided in the url and pushes them to the promise array\n\t\tthis: ViewState & typeof ViewStateOverride,\n\t\toVariant: VariantObject,\n\t\tsVariantId: String,\n\t\toVM: VariantManagement,\n\t\taPromises: VariantManagement[],\n\t\tbFilterVariantApplied?: boolean\n\t) {\n\t\tif (oVariant.key === sVariantId) {\n\t\t\taPromises.push(this._applyControlVariant(oVM, sVariantId, bFilterVariantApplied));\n\t\t}\n\t},\n\n\t_applyControlVariant: function (oVariant: any, sVariantID: any, bFilterVariantApplied: any) {\n\t\tconst sVariantReference = this._checkIfVariantIdIsAvailable(oVariant, sVariantID) ? sVariantID : oVariant.getStandardVariantKey();\n\t\tconst oVM = ControlVariantApplyAPI.activateVariant({\n\t\t\telement: oVariant,\n\t\t\tvariantReference: sVariantReference\n\t\t});\n\t\treturn oVM.then(function () {\n\t\t\treturn bFilterVariantApplied;\n\t\t});\n\t},\n\t/************************************* private helper *****************************************/\n\n\t_getFilterBarVM: function (oView: any) {\n\t\tconst oViewData = oView.getViewData();\n\t\tswitch (oViewData.variantManagement) {\n\t\t\tcase VariantManagementType.Page:\n\t\t\t\treturn oView.byId(\"fe::PageVariantManagement\");\n\t\t\tcase VariantManagementType.Control:\n\t\t\t\treturn oView.getController()._getFilterBarVariantControl();\n\t\t\tcase VariantManagementType.None:\n\t\t\t\treturn null;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`unhandled variant setting: ${oViewData.variantManagement}`);\n\t\t}\n\t},\n\n\t_preventInitialSearch: function (oVariantManagement: any) {\n\t\tif (!oVariantManagement) {\n\t\t\treturn true;\n\t\t}\n\t\tconst aVariants = oVariantManagement.getVariants();\n\t\tconst oCurrentVariant = aVariants.find(function (oItem: any) {\n\t\t\treturn oItem.key === oVariantManagement.getCurrentVariantKey();\n\t\t});\n\t\treturn !oCurrentVariant.executeOnSelect;\n\t},\n\n\t_applySelectionVariant: async function (oView: View, oNavigationParameter: NavHandlerNavParams, bFilterVariantApplied: boolean) {\n\t\tconst oFilterBar = (oView.getController() as ListReportController)._getFilterBarControl(),\n\t\t\toSelectionVariant = oNavigationParameter.selectionVariant as SelectionVariant,\n\t\t\toSelectionVariantDefaults = oNavigationParameter.selectionVariantDefaults as SelectionVariant;\n\t\tif (!oFilterBar || !oSelectionVariant) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tlet oConditions = {};\n\t\tconst oMetaModel = oView.getModel()?.getMetaModel() as ODataMetaModel;\n\t\tconst oViewData = oView.getViewData() as LRViewData;\n\t\tconst sContextPath = oViewData.contextPath || `/${oViewData.entitySet}`;\n\t\tconst aMandatoryFilterFields = CommonUtils.getMandatoryFilterFields(oMetaModel, sContextPath);\n\t\tconst bUseSemanticDateRange = oFilterBar.data(\"useSemanticDateRange\");\n\t\tlet oVariant;\n\t\tswitch (oViewData.variantManagement) {\n\t\t\tcase VariantManagementType.Page:\n\t\t\t\toVariant = oView.byId(\"fe::PageVariantManagement\");\n\t\t\t\tbreak;\n\t\t\tcase VariantManagementType.Control:\n\t\t\t\toVariant = (oView.getController() as ListReportController)._getFilterBarVariantControl();\n\t\t\t\tbreak;\n\t\t\tcase VariantManagementType.None:\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tconst bRequiresStandardVariant = oNavigationParameter.requiresStandardVariant;\n\t\t// check if FLP default values are there and is it standard variant\n\t\tconst bIsFLPValuePresent: boolean =\n\t\t\toSelectionVariantDefaults &&\n\t\t\toSelectionVariantDefaults.getSelectOptionsPropertyNames().length > 0 &&\n\t\t\toVariant.getDefaultVariantKey() === oVariant.getStandardVariantKey() &&\n\t\t\toNavigationParameter.bNavSelVarHasDefaultsOnly === true;\n\n\t\t// get conditions when FLP value is present\n\t\tif (bFilterVariantApplied || bIsFLPValuePresent) {\n\t\t\toConditions = oFilterBar.getConditions();\n\t\t}\n\t\tCommonUtils.addDefaultDisplayCurrency(aMandatoryFilterFields, oSelectionVariant, oSelectionVariantDefaults);\n\t\tawait this.addSelectionVariantToConditions(oFilterBar, oSelectionVariant, oConditions, bIsFLPValuePresent);\n\n\t\treturn this._activateSelectionVariant(\n\t\t\toFilterBar,\n\t\t\toConditions,\n\t\t\toVariant,\n\t\t\tbRequiresStandardVariant,\n\t\t\tbFilterVariantApplied,\n\t\t\tbIsFLPValuePresent\n\t\t);\n\t},\n\t_activateSelectionVariant: function (\n\t\toFilterBar: any,\n\t\toConditions: any,\n\t\toVariant: any,\n\t\tbRequiresStandardVariant: any,\n\t\tbFilterVariantApplied: any,\n\t\tbIsFLPValuePresent?: boolean\n\t) {\n\t\tlet oPromise;\n\n\t\tif (oVariant && !bFilterVariantApplied) {\n\t\t\tlet oVariantKey = bRequiresStandardVariant ? oVariant.getStandardVariantKey() : oVariant.getDefaultVariantKey();\n\t\t\tif (oVariantKey === null) {\n\t\t\t\toVariantKey = oVariant.getId();\n\t\t\t}\n\t\t\toPromise = ControlVariantApplyAPI.activateVariant({\n\t\t\t\telement: oVariant,\n\t\t\t\tvariantReference: oVariantKey\n\t\t\t}).then(function () {\n\t\t\t\treturn bRequiresStandardVariant || oVariant.getDefaultVariantKey() === oVariant.getStandardVariantKey();\n\t\t\t});\n\t\t} else {\n\t\t\toPromise = Promise.resolve(true);\n\t\t}\n\t\treturn oPromise.then((bClearFilterAndReplaceWithAppState: any) => {\n\t\t\tif (bClearFilterAndReplaceWithAppState) {\n\t\t\t\treturn this._fnApplyConditions(oFilterBar, oConditions, bIsFLPValuePresent);\n\t\t\t}\n\t\t});\n\t},\n\n\t/*\n\t * Sets filtered: false flag to every field so that it can be cleared out\n\t *\n\t * @param oFilterBar filterbar control is used to display filter properties in a user-friendly manner to populate values for a query\n\t * @returns promise which will be resolved to object\n\t * @private\n\t */\n\t_fnClearStateBeforexAppNav: async function (oFilterBar: FilterBar) {\n\t\treturn await StateUtil.retrieveExternalState(oFilterBar)\n\t\t\t.then((oExternalState: any) => {\n\t\t\t\tconst oCondition = oExternalState.filter;\n\t\t\t\tfor (const field in oCondition) {\n\t\t\t\t\tif (field !== \"$editState\" && field !== \"$search\" && oCondition[field]) {\n\t\t\t\t\t\toCondition[field].forEach((condition: Record<string, boolean>) => {\n\t\t\t\t\t\t\tcondition[\"filtered\"] = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn Promise.resolve(oCondition);\n\t\t\t})\n\t\t\t.catch(function (oError: any) {\n\t\t\t\tLog.error(\"Error while retrieving the external state\", oError);\n\t\t\t});\n\t},\n\n\t_fnApplyConditions: async function (oFilterBar: any, oConditions: any, bIsFLPValuePresent?: boolean) {\n\t\tconst mFilter: any = {},\n\t\t\taItems: any[] = [],\n\t\t\tfnAdjustValueHelpCondition = function (oCondition: any) {\n\t\t\t\t// in case the condition is meant for a field having a VH, the format required by MDC differs\n\t\t\t\toCondition.validated = ConditionValidated.Validated;\n\t\t\t\tif (oCondition.operator === \"Empty\") {\n\t\t\t\t\toCondition.operator = \"EQ\";\n\t\t\t\t\toCondition.values = [\"\"];\n\t\t\t\t} else if (oCondition.operator === \"NotEmpty\") {\n\t\t\t\t\toCondition.operator = \"NE\";\n\t\t\t\t\toCondition.values = [\"\"];\n\t\t\t\t}\n\t\t\t\tdelete oCondition.isEmpty;\n\t\t\t};\n\t\tconst fnGetPropertyInfo = function (oFilterControl: any, sEntityTypePath: any) {\n\t\t\tconst sEntitySetPath = ModelHelper.getEntitySetPath(sEntityTypePath),\n\t\t\t\toMetaModel = oFilterControl.getModel().getMetaModel(),\n\t\t\t\toFR = CommonUtils.getFilterRestrictionsByPath(sEntitySetPath, oMetaModel),\n\t\t\t\taNonFilterableProps = oFR.NonFilterableProperties,\n\t\t\t\tmFilterFields = FilterUtils.getConvertedFilterFields(oFilterControl, sEntityTypePath),\n\t\t\t\taPropertyInfo: any[] = [];\n\t\t\tmFilterFields.forEach(function (oConvertedProperty) {\n\t\t\t\tconst sPropertyPath = oConvertedProperty.conditionPath.replace(CONDITION_PATH_TO_PROPERTY_PATH_REGEX, \"\");\n\t\t\t\tif (aNonFilterableProps.indexOf(sPropertyPath) === -1) {\n\t\t\t\t\tconst sAnnotationPath = oConvertedProperty.annotationPath;\n\t\t\t\t\tconst oPropertyContext = oMetaModel.createBindingContext(sAnnotationPath);\n\t\t\t\t\taPropertyInfo.push({\n\t\t\t\t\t\tpath: oConvertedProperty.conditionPath,\n\t\t\t\t\t\thiddenFilter: oConvertedProperty.availability === \"Hidden\",\n\t\t\t\t\t\thasValueHelp: !sAnnotationPath\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: PropertyFormatters.hasValueHelp(oPropertyContext.getObject(), { context: oPropertyContext })\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aPropertyInfo;\n\t\t};\n\n\t\treturn oFilterBar.waitForInitialization().then(async () => {\n\t\t\tconst sEntityTypePath = DelegateUtil.getCustomData(oFilterBar, \"entityType\");\n\t\t\t// During external app navigation, we have to clear the existing conditions to avoid merging of values coming from annotation and context\n\t\t\t// Condition !bIsFLPValuePresent indicates it's external app navigation\n\t\t\tif (!bIsFLPValuePresent) {\n\t\t\t\tconst oClearConditions = await this._fnClearStateBeforexAppNav(oFilterBar);\n\t\t\t\tawait StateUtil.applyExternalState(oFilterBar, {\n\t\t\t\t\tfilter: oClearConditions,\n\t\t\t\t\titems: aItems\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst aPropertyInfo = fnGetPropertyInfo(oFilterBar, sEntityTypePath);\n\t\t\taPropertyInfo\n\t\t\t\t.filter(function (oPropertyInfo: any) {\n\t\t\t\t\treturn oPropertyInfo.path !== \"$editState\" && oPropertyInfo.path !== \"$search\";\n\t\t\t\t})\n\t\t\t\t.forEach((oPropertyInfo: any) => {\n\t\t\t\t\tif (oPropertyInfo.path in oConditions) {\n\t\t\t\t\t\tmFilter[oPropertyInfo.path] = oConditions[oPropertyInfo.path];\n\t\t\t\t\t\tif (!oPropertyInfo.hiddenFilter) {\n\t\t\t\t\t\t\taItems.push({ name: oPropertyInfo.path });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (oPropertyInfo.hasValueHelp) {\n\t\t\t\t\t\t\tmFilter[oPropertyInfo.path].forEach(fnAdjustValueHelpCondition);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmFilter[oPropertyInfo.path].forEach(function (oCondition: any) {\n\t\t\t\t\t\t\t\toCondition.validated = oCondition.filtered ? ConditionValidated.NotValidated : oCondition.validated;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmFilter[oPropertyInfo.path] = [];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\treturn StateUtil.applyExternalState(oFilterBar, { filter: mFilter, items: aItems });\n\t\t});\n\t},\n\t_clearFilterConditions: async function (oFilterBar: FilterBar) {\n\t\tconst aItems: PropertyInfo[] = [];\n\t\treturn oFilterBar.waitForInitialization().then(async () => {\n\t\t\tconst oClearConditions = await this._fnClearStateBeforexAppNav(oFilterBar);\n\t\t\treturn StateUtil.applyExternalState(oFilterBar, {\n\t\t\t\tfilter: oClearConditions,\n\t\t\t\titems: aItems\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * Method returns filters and filter field items to apply and add. Also checks whether the property is configured with hiddenFilter.\n\t *\n\t * @param filterBar The filter bar\n\t * @param selectionVariant SelectionVariant to convert to conditions\n\t * @param inputConditions Existing conditions object to update with conditions from SV\n\t * @param isFLPValues FLP values exist and need to be set to filtered=false.\n\t * @returns Cummulative conditions after converted selection variant is added.\n\t */\n\taddSelectionVariantToConditions: async (\n\t\tfilterBar: FilterBar,\n\t\tselectionVariant: SelectionVariant,\n\t\tinputConditions: Record<string, ConditionObject[]>,\n\t\tisFLPValues?: boolean\n\t) => {\n\t\tawait filterBar.waitForInitialization();\n\n\t\tconst filterBarPropertyInfos = await SelectionVariantToStateFilters.getFilterBarSupportedFields(filterBar);\n\t\tconst filterBarInfoForConversion = SelectionVariantToStateFilters.getFilterBarInfoForConversion(filterBar);\n\t\tconst conditionsFromSV: Record<string, ConditionObject[] | undefined> = SelectionVariantToStateFilters.getConditionsFromSV(\n\t\t\tselectionVariant,\n\t\t\tfilterBarInfoForConversion,\n\t\t\tfilterBarPropertyInfos\n\t\t);\n\n\t\t// Note: this is template specific code, needs to be moved.\n\t\tfilterBarPropertyInfos.forEach((propertyInfo) => {\n\t\t\tconst conditionPath = propertyInfo.conditionPath;\n\t\t\tconst conditionObjects = conditionsFromSV[conditionPath] || [];\n\n\t\t\tif (conditionObjects.length > 0) {\n\t\t\t\tif (isFLPValues) {\n\t\t\t\t\t// If FLP values are present replace it with FLP values\n\t\t\t\t\tconditionObjects.forEach((element) => {\n\t\t\t\t\t\telement[\"filtered\"] = true;\n\t\t\t\t\t});\n\t\t\t\t\tif (inputConditions.hasOwnProperty(conditionPath)) {\n\t\t\t\t\t\tinputConditions[conditionPath].forEach((element) => {\n\t\t\t\t\t\t\telement[\"filtered\"] = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tinputConditions[conditionPath] = inputConditions[conditionPath].concat(conditionObjects);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinputConditions[conditionPath] = conditionObjects;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinputConditions[conditionPath] = inputConditions.hasOwnProperty(conditionPath)\n\t\t\t\t\t\t? inputConditions[conditionPath].concat(conditionObjects)\n\t\t\t\t\t\t: conditionObjects;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn inputConditions;\n\t}\n};\n\nexport default ViewStateOverride;\n"],"mappings":"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"}},{"offset":{"line":2614,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","SelectionVariantToStateFilters","KeepAliveHelper","ModelHelper","CoreLibrary","PropertyFormatters","DelegateUtil","FilterUtils","NavLibrary","Device","ControlVariantApplyAPI","ConditionValidated","StateUtil","system","NavType","VariantManagementType","VariantManagement","TemplateContentView","InitialLoadMode","CONDITION_PATH_TO_PROPERTY_PATH_REGEX","ViewStateOverride","_bSearchTriggered","applyInitialStateOnly","onBeforeStateApplied","aPromises","navigationType","oView","this","getView","oController","getController","oFilterBar","_getFilterBarControl","aTables","_getControls","setSuspendSelection","push","waitForInitialization","hybrid","_clearFilterConditions","forEach","oTable","initialized","onAfterStateApplied","_isFilterBarHidden","oInternalModelContext","getBindingContext","setProperty","_isMultiMode","_getMultiModeControl","setCountsOutDated","adaptBindingRefreshControls","aControls","base","aViewControls","aControlsToRefresh","getControlsForRefresh","Array","prototype","apply","adaptStateControls","aStateControls","oViewData","getViewData","bControlVM","variantManagement","Control","oFilterBarVM","_getFilterBarVM","oQuickFilter","getQuickFilter","getVariant","oChart","_hasMultiVisualizations","_getSegmentedButton","Chart","Table","byId","retrieveAdditionalStates","mAdditionalStates","bPendingFilter","getProperty","dataLoaded","sAlpContentView","alpContentView","applyAdditionalStates","oAdditionalStates","filterBarAPI","getParent","triggerSearch","desktop","Hybrid","getModel","getPath","_applyNavigationParametersToFilterbar","oNavigationParameter","aResults","oAppComponent","getAppComponent","oComponentData","getComponentData","oStartupParameters","startupParameters","oVariantPromise","handleVariantIdPassedViaURLParams","bFilterVariantApplied","then","aVariants","length","_applySelectionVariant","oDynamicPage","_getDynamicListReportControl","bPreventInitialSearch","oFilterBarControl","initial","requiresStandardVariant","initialLoad","Enabled","_shouldAutoTriggerSearch","_preventInitialSearch","setHeaderExpanded","catch","error","oUrlParams","aPageVariantId","aFilterBarVariantId","aTableVariantId","aChartVariantId","oVariantIDs","sPageVariantId","sFilterBarVariantId","sTableVariantId","sChartVariantId","_handleControlVariantId","oVM","sVariantManagement","_handlePageVariantId","_getFilterBarVariantControl","_handleFilterBarVariantControlId","_handleTableControlVariantId","_handleChartControlVariantId","Promise","all","getVariants","oVariant","_findAndPushVariantToPromise","oTableVariant","aCharts","oChartVariant","sVariantId","key","_applyControlVariant","sVariantID","sVariantReference","_checkIfVariantIdIsAvailable","getStandardVariantKey","activateVariant","element","variantReference","Page","None","Error","oVariantManagement","oCurrentVariant","find","oItem","getCurrentVariantKey","executeOnSelect","async","_oView$getModel","oSelectionVariant","selectionVariant","oSelectionVariantDefaults","selectionVariantDefaults","resolve","oConditions","oMetaModel","getMetaModel","sContextPath","contextPath","entitySet","aMandatoryFilterFields","getMandatoryFilterFields","bUseSemanticDateRange","data","bRequiresStandardVariant","bIsFLPValuePresent","getSelectOptionsPropertyNames","getDefaultVariantKey","bNavSelVarHasDefaultsOnly","getConditions","addDefaultDisplayCurrency","addSelectionVariantToConditions","_activateSelectionVariant","oPromise","oVariantKey","getId","bClearFilterAndReplaceWithAppState","_fnApplyConditions","_fnClearStateBeforexAppNav","retrieveExternalState","oExternalState","oCondition","filter","field","condition","oError","mFilter","aItems","fnAdjustValueHelpCondition","validated","Validated","operator","values","isEmpty","fnGetPropertyInfo","oFilterControl","sEntityTypePath","sEntitySetPath","getEntitySetPath","oFR","getFilterRestrictionsByPath","aNonFilterableProps","NonFilterableProperties","mFilterFields","getConvertedFilterFields","aPropertyInfo","oConvertedProperty","sPropertyPath","conditionPath","replace","indexOf","sAnnotationPath","annotationPath","oPropertyContext","createBindingContext","path","hiddenFilter","availability","hasValueHelp","getObject","context","getCustomData","oClearConditions","applyExternalState","items","oPropertyInfo","name","filtered","NotValidated","filterBar","inputConditions","isFLPValues","filterBarPropertyInfos","getFilterBarSupportedFields","filterBarInfoForConversion","getFilterBarInfoForConversion","conditionsFromSV","getConditionsFromSV","propertyInfo","conditionObjects","hasOwnProperty","concat"],"sources":["ViewState-dbg.js"],"mappings":"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","sourceRoot":"ListReport/overrides"}},{"offset":{"line":2619,"column":0},"map":{"version":3,"names":["MultipleModeBlock","defineBuildingBlock","name","namespace","isOpen","blockAttribute","type","getInnerControlsAPI","converterContext","views","reduce","innerControls","view","innerControlId","tableControlId","chartControlId","push","join","getTemplate","xml","filterBarId","multiViewsControl","showTabCounts","id","map","viewIdx","title","BuildingBlockBase"],"sourceRoot":"ListReport/view/fragments","sources":["MultipleMode.block.ts"],"sourcesContent":["import BuildingBlockBase from \"sap/fe/core/buildingBlocks/BuildingBlockBase\";\nimport { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/BuildingBlockSupport\";\nimport { xml } from \"sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor\";\nimport type {\n\tListReportDefinition,\n\tSingleChartViewDefinition,\n\tSingleTableViewDefinition\n} from \"sap/fe/core/converters/templates/ListReportConverter\";\n\n@defineBuildingBlock({ name: \"MultipleMode\", namespace: \"sap.fe.templates.ListReport.view.fragments\", isOpen: true })\nexport default class MultipleModeBlock extends BuildingBlockBase {\n\t@blockAttribute({ type: \"object\" })\n\tconverterContext?: ListReportDefinition;\n\n\tgetInnerControlsAPI() {\n\t\treturn (\n\t\t\tthis.converterContext?.views\n\t\t\t\t.reduce((innerControls: string[], view) => {\n\t\t\t\t\tconst innerControlId =\n\t\t\t\t\t\t(view as SingleTableViewDefinition).tableControlId || (view as SingleChartViewDefinition).chartControlId;\n\t\t\t\t\tif (innerControlId) {\n\t\t\t\t\t\tinnerControls.push(`${innerControlId}::${(view as SingleTableViewDefinition).tableControlId ? \"Table\" : \"Chart\"}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn innerControls;\n\t\t\t\t}, [])\n\t\t\t\t.join(\",\") || \"\"\n\t\t);\n\t}\n\n\tgetTemplate() {\n\t\treturn xml`\n\t\t\t<fe:MultipleModeControl\n\t\t\t\txmlns=\"sap.m\"\n\t\t\t\txmlns:fe=\"sap.fe.templates.ListReport.controls\"\n\t\t\t\txmlns:core=\"sap.ui.core\"\n\t\t\t\txmlns:macro=\"sap.fe.macros\"\n\t\t\t\tinnerControls=\"${this.getInnerControlsAPI()}\"\n\t\t\t\tfilterControl=\"${this.converterContext!.filterBarId}\"\n\t\t\t\tshowCounts=\"${this.converterContext!.multiViewsControl?.showTabCounts}\"\n\t\t\t\tfreezeContent=\"${!!this.converterContext!.filterBarId}\"\n\t\t\t\tid=\"${this.converterContext!.multiViewsControl?.id}::Control\"\n\t\t\t>\n\t\t\t\t<IconTabBar\n\t\t\t\tcore:require=\"{\n\t\t\t\t\tMULTICONTROL: 'sap/fe/templates/ListReport/controls/MultipleModeControl'\n\t\t\t\t}\"\n\t\t\t\t\texpandable=\"false\"\n\t\t\t\t\theaderMode=\"Inline\"\n\t\t\t\t\tid=\"${this.converterContext!.multiViewsControl?.id}\"\n\t\t\t\t\tstretchContentHeight=\"true\"\n\t\t\t\t\tselect=\"MULTICONTROL.handleTabChange($event)\"\n\t\t\t\t>\n\t\t\t\t\t<items>\n\t\t\t\t\t${this.converterContext!.views.map((view, viewIdx) => {\n\t\t\t\t\t\treturn `<template:with path=\"converterContext>views/${viewIdx}/\" var=\"view\"\n\t\t\t\t\t\t\t\t\t\ttemplate:require=\"{\n\t\t\t\t\t\t\t\t\t\t\tID: 'sap/fe/core/helpers/StableIdHelper'\n\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\txmlns:core=\"sap.ui.core\"\n\t\t\t\t\t\t\t\t\t\txmlns:template=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1\">\n\t\t\t\t\t\t\t\t<template:with path=\"view>presentation\" var=\"presentationContext\">\n\t\t\t\t\t\t\t\t<IconTabFilter\n\t\t\t\t\t\t\t\t\ttext=\"${view.title}\"\n\t\t\t\t\t\t\t\t\tkey=\"{= ID.generate([\\${view>tableControlId} || \\${view>customTabId} || \\${view>chartControlId}])}\"\n\t\t\t\t\t\t\t\t\tvisible=\"{view>visible}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<content>\n\t\t\t\t\t\t\t\t\t\t<template:if test=\"{= \\${view>type} === 'Custom'}\">\n\t\t\t\t\t\t\t\t\t\t\t<template:then>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Fragment fragmentName=\"sap.fe.templates.ListReport.view.fragments.CustomView\" type=\"XML\" />\n\t\t\t\t\t\t\t\t\t\t\t</template:then>\n\t\t\t\t\t\t\t\t\t\t\t<template:else>\n\t\t\t\t\t\t\t\t\t\t\t\t<MessageStrip\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext=\"{= '{= (\\${tabsInternal>/' + (\\${view>tableControlId} || \\${view>chartControlId}) + '/notApplicable/title} ) }' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"Information\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowIcon=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowCloseButton=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"sapUiTinyMargin\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible=\"{= '{= (\\${tabsInternal>/' + (\\${view>tableControlId} || \\${view>chartControlId}) + '/notApplicable/fields} || []).length>0 }' }\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t</MessageStrip>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Fragment fragmentName=\"sap.fe.templates.ListReport.view.fragments.CollectionVisualization\" type=\"XML\" />\n\t\t\t\t\t\t\t\t\t\t\t</template:else>\n\t\t\t\t\t\t\t\t\t\t</template:if>\n\t\t\t\t\t\t\t\t\t</content>\n\t\t\t\t\t\t\t\t</IconTabFilter>\n\t\t\t\t\t\t\t</template:with></template:with>`;\n\t\t\t\t\t}).join(\"\")}\n\t\t\t\t\t</items>\n\t\t\t\t</IconTabBar>\n\t\t\t</fe:MultipleModeControl>`;\n\t}\n}\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;MAUqBA,iBAAiB,WADrCC,mBAAmB,CAAC;IAAEC,IAAI,EAAE,cAAc;IAAEC,SAAS,EAAE,4CAA4C;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC,UAEnHC,cAAc,CAAC;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;IAAA;IAAA,OAGnCC,mBAAmB,GAAnB,+BAAsB;MAAA;MACrB,OACC,8BAAI,CAACC,gBAAgB,0DAArB,sBAAuBC,KAAK,CAC1BC,MAAM,CAAC,CAACC,aAAuB,EAAEC,IAAI,KAAK;QAC1C,MAAMC,cAAc,GAClBD,IAAI,CAA+BE,cAAc,IAAKF,IAAI,CAA+BG,cAAc;QACzG,IAAIF,cAAc,EAAE;UACnBF,aAAa,CAACK,IAAI,CAAE,GAAEH,cAAe,KAAKD,IAAI,CAA+BE,cAAc,GAAG,OAAO,GAAG,OAAQ,EAAC,CAAC;QACnH;QACA,OAAOH,aAAa;MACrB,CAAC,EAAE,EAAE,CAAC,CACLM,IAAI,CAAC,GAAG,CAAC,KAAI,EAAE;IAEnB,CAAC;IAAA,OAEDC,WAAW,GAAX,uBAAc;MAAA;MACb,OAAOC,GAAI;AACb;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI,CAACZ,mBAAmB,EAAG;AAChD,qBAAqB,IAAI,CAACC,gBAAgB,CAAEY,WAAY;AACxD,kBAAgB,sBAAE,IAAI,CAACZ,gBAAgB,CAAEa,iBAAiB,uDAAxC,mBAA0CC,aAAc;AAC1E,qBAAqB,CAAC,CAAC,IAAI,CAACd,gBAAgB,CAAEY,WAAY;AAC1D,UAAQ,uBAAE,IAAI,CAACZ,gBAAgB,CAAEa,iBAAiB,wDAAxC,oBAA0CE,EAAG;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAS,uBAAE,IAAI,CAACf,gBAAgB,CAAEa,iBAAiB,wDAAxC,oBAA0CE,EAAG;AACxD;AACA;AACA;AACA;AACA,OAAO,IAAI,CAACf,gBAAgB,CAAEC,KAAK,CAACe,GAAG,CAAC,CAACZ,IAAI,EAAEa,OAAO,KAAK;QACrD,OAAQ,+CAA8CA,OAAQ;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBb,IAAI,CAACc,KAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;MACnC,CAAC,CAAC,CAACT,IAAI,CAAC,EAAE,CAAE;AACjB;AACA;AACA,6BAA6B;IAC5B,CAAC;IAAA;EAAA,EAjF6CU,iBAAiB;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA;EAAA;AAAA"}},{"offset":{"line":2740,"column":0},"map":{"version":3,"names":["sap","ui","define","BuildingBlockBase","BuildingBlockSupport","BuildingBlockTemplateProcessor","_dec","_dec2","_class","_class2","_descriptor","_exports","xml","defineBuildingBlock","blockAttribute","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","MultipleModeBlock","name","namespace","isOpen","type","_BuildingBlockBase","_this","_len","arguments","length","args","Array","_key","this","_proto","getInnerControlsAPI","_this$converterContex","converterContext","views","innerControls","view","innerControlId","tableControlId","chartControlId","push","join","getTemplate","_multiViewsControl","_multiViewsControl2","_multiViewsControl3","filterBarId","multiViewsControl","showTabCounts","id","map","viewIdx","title"],"sources":["MultipleMode.block-dbg.js"],"mappings":"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","sourceRoot":"ListReport/view/fragments"}},{"offset":{"line":2771,"column":0},"map":{"version":3,"names":["VariantManagement","CoreLibrary","CreationMode","SectionLayout","templateLib","ObjectPage","ObjectPageComponent","defineUI5Class","library","manifest","property","type","defaultValue","None","Page","DeferredContextCreated","isContextExpected","extendPageDefinition","pageDefinition","converterContext","extendObjectPageDefinition","createDeferredContext","sPath","oListBinding","bActionCreate","oParameters","$$groupId","$$updateGroupId","isRelative","oAppComponent","getRootViewController","isFclEnabled","ODataListBinding","getModel","replace","undefined","oStartUpParams","getComponentData","startupParameters","oInboundParameters","getViewData","inboundParameters","createParams","preferredMode","indexOf","CommonUtils","getAdditionalParamsForCreate","getRootControl","getController","editFlow","createDocument","creationMode","Sync","createAction","data","bFromDeferred","finally","catch","setVariantManagement","sVariantManagement","Log","error","setProperty","TemplateComponent"],"sourceRoot":"ObjectPage","sources":["Component.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils, { InboundParameter } from \"sap/fe/core/CommonUtils\";\nimport ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport { ObjectPageDefinition } from \"sap/fe/core/converters/templates/ObjectPageConverter\";\nimport { defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport TemplateComponent from \"sap/fe/core/TemplateComponent\";\nimport templateLib from \"sap/fe/templates/library\";\nimport { extendObjectPageDefinition, FinalPageDefinition } from \"sap/fe/templates/ObjectPage/ExtendPageDefinition\";\nimport ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\n\nconst VariantManagement = CoreLibrary.VariantManagement,\n\tCreationMode = CoreLibrary.CreationMode;\nconst SectionLayout = templateLib.ObjectPage.SectionLayout;\n@defineUI5Class(\"sap.fe.templates.ObjectPage.Component\", { library: \"sap.fe.templates\", manifest: \"json\" })\nclass ObjectPageComponent extends TemplateComponent {\n\t/**\n\t * Defines if and on which level variants can be configured:\n\t * \t\tNone: no variant configuration at all\n\t * \t\tPage: one variant configuration for the whole page\n\t * \t\tControl: variant configuration on control level\n\t */\n\t@property({\n\t\ttype: \"sap.fe.core.VariantManagement\",\n\t\tdefaultValue: VariantManagement.None\n\t})\n\tvariantManagement: typeof VariantManagement;\n\n\t/**\n\t * Defines how the sections are rendered\n\t * \t\tPage: all sections are shown on one page\n\t * \t\tTabs: each top-level section is shown in an own tab\n\t */\n\t@property({\n\t\ttype: \"sap.fe.templates.ObjectPage.SectionLayout\",\n\t\tdefaultValue: SectionLayout.Page\n\t})\n\tsectionLayout: typeof SectionLayout;\n\n\t/**\n\t * Enables the related apps features\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tshowRelatedApps!: boolean;\n\n\t@property({ type: \"object\" })\n\tadditionalSemanticObjects: any;\n\n\t/**\n\t * Enables the editable object page header\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\teditableHeaderContent!: boolean;\n\n\t/**\n\t * Enables the BreadCrumbs features\n\t */\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: true\n\t})\n\tshowBreadCrumbs!: boolean;\n\n\t/**\n\t * Defines the properties which can be used for inbound Navigation\n\t */\n\t@property({\n\t\ttype: \"object\"\n\t})\n\tinboundParameters: any;\n\n\t@property({\n\t\ttype: \"boolean\",\n\t\tdefaultValue: false\n\t})\n\tenableLazyLoading!: boolean;\n\n\tprivate DeferredContextCreated: Boolean = false;\n\n\tisContextExpected() {\n\t\treturn true;\n\t}\n\n\textendPageDefinition(pageDefinition: ObjectPageDefinition, converterContext: ConverterContext): FinalPageDefinition {\n\t\treturn extendObjectPageDefinition(pageDefinition, converterContext);\n\t}\n\n\t// TODO: this should be ideally be handled by the editflow/routing without the need to have this method in the\n\t// object page - for now keep it here\n\tcreateDeferredContext(sPath: any, oListBinding: any, bActionCreate: any) {\n\t\tif (!this.DeferredContextCreated) {\n\t\t\tthis.DeferredContextCreated = true;\n\t\t\tconst oParameters = {\n\t\t\t\t$$groupId: \"$auto.Heroes\",\n\t\t\t\t$$updateGroupId: \"$auto\"\n\t\t\t};\n\t\t\t// In fullscreen mode, we recreate the list binding, as we don't want to have synchronization between views\n\t\t\t// (it causes errors, e.g. pending changes due to creationRow)\n\t\t\tif (\n\t\t\t\t!oListBinding ||\n\t\t\t\t(oListBinding.isRelative() === false && !(this.oAppComponent.getRootViewController() as any).isFclEnabled())\n\t\t\t) {\n\t\t\t\toListBinding = new (ODataListBinding as any)(\n\t\t\t\t\tthis.getModel(),\n\t\t\t\t\tsPath.replace(\"(...)\", \"\"),\n\t\t\t\t\tundefined,\n\t\t\t\t\tundefined,\n\t\t\t\t\tundefined,\n\t\t\t\t\toParameters\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst oStartUpParams =\n\t\t\t\t\tthis.oAppComponent && this.oAppComponent.getComponentData() && this.oAppComponent.getComponentData().startupParameters,\n\t\t\t\toInboundParameters = this.getViewData().inboundParameters as Record<string, InboundParameter> | undefined;\n\t\t\tlet createParams;\n\t\t\tif (oStartUpParams && oStartUpParams.preferredMode && oStartUpParams.preferredMode[0].indexOf(\"create\") !== -1) {\n\t\t\t\tcreateParams = CommonUtils.getAdditionalParamsForCreate(oStartUpParams, oInboundParameters);\n\t\t\t}\n\n\t\t\t// for now wait until the view and the controller is created\n\t\t\t(this.getRootControl() as any)\n\t\t\t\t.getController()\n\t\t\t\t.editFlow.createDocument(oListBinding, {\n\t\t\t\t\tcreationMode: CreationMode.Sync,\n\t\t\t\t\tcreateAction: bActionCreate,\n\t\t\t\t\tdata: createParams,\n\t\t\t\t\tbFromDeferred: true\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.DeferredContextCreated = false;\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\t// Do Nothing ?\n\t\t\t\t});\n\t\t}\n\t}\n\n\tsetVariantManagement(sVariantManagement: any) {\n\t\tif (sVariantManagement === VariantManagement.Page) {\n\t\t\tLog.error(\"ObjectPage does not support Page-level variant management yet\");\n\t\t\tsVariantManagement = VariantManagement.None;\n\t\t}\n\n\t\tthis.setProperty(\"variantManagement\", sVariantManagement);\n\t}\n}\n\nexport default ObjectPageComponent;\n"],"mappings":"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"}},{"offset":{"line":2929,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","ClassSupport","CoreLibrary","TemplateComponent","templateLib","ExtendPageDefinition","ODataListBinding","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","extendObjectPageDefinition","property","defineUI5Class","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","VariantManagement","CreationMode","SectionLayout","ObjectPage","ObjectPageComponent","library","manifest","type","defaultValue","None","Page","_TemplateComponent","_this","_len","arguments","length","args","Array","_key","this","DeferredContextCreated","_proto","isContextExpected","extendPageDefinition","pageDefinition","converterContext","createDeferredContext","sPath","oListBinding","bActionCreate","oParameters","$$groupId","$$updateGroupId","isRelative","oAppComponent","getRootViewController","isFclEnabled","getModel","replace","oStartUpParams","getComponentData","startupParameters","oInboundParameters","getViewData","inboundParameters","createParams","preferredMode","indexOf","getAdditionalParamsForCreate","getRootControl","getController","editFlow","createDocument","creationMode","Sync","createAction","data","bFromDeferred","finally","catch","setVariantManagement","sVariantManagement","error","setProperty"],"sources":["Component-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage"}},{"offset":{"line":2934,"column":0},"map":{"version":3,"names":["extendObjectPageDefinition","pageDefinition","converterContext","convertedPageDefinition","primaryAction","getPrimaryAction","header","actions","footerActions","headerActions","primaryActionExpression","aActions","getBindingExp","sExpression","indexOf","replace","slice","aSemanticPositiveActions","filter","oAction","annotationPath","targetObject","getConverterContextFor","getDataModelObjectPath","Criticality","oEntitySet","getEntitySet","length","getPressExpressionForPrimaryAction","name","visible","enabled","getEditCommandExecutionVisible","getEditCommandExecutionEnabled"],"sourceRoot":"ObjectPage","sources":["ExtendPageDefinition.ts"],"sourcesContent":["import type { BaseAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport ConverterContext from \"sap/fe/core/converters/ConverterContext\";\nimport { ObjectPageDefinition } from \"sap/fe/core/converters/templates/ObjectPageConverter\";\nimport type { CompiledBindingToolkitExpression } from \"sap/fe/core/helpers/BindingToolkit\";\nimport {\n\tgetEditCommandExecutionEnabled,\n\tgetEditCommandExecutionVisible,\n\tgetPressExpressionForPrimaryAction\n} from \"sap/fe/templates/ObjectPage/ObjectPageTemplating\";\n\nexport type FinalPageDefinition = ObjectPageDefinition & {\n\tprimaryAction: string;\n};\n\nexport const extendObjectPageDefinition = function (\n\tpageDefinition: ObjectPageDefinition,\n\tconverterContext: ConverterContext\n): FinalPageDefinition {\n\tconst convertedPageDefinition = pageDefinition as FinalPageDefinition;\n\tconvertedPageDefinition.primaryAction = getPrimaryAction(converterContext, pageDefinition.header.actions, pageDefinition.footerActions);\n\treturn convertedPageDefinition;\n};\n\n/**\n * Method to get the expression for the execute event of the forward action.\n * Generates primaryActionExpression to be executed on the keyboard shortcut Ctrl+Enter with the\n * forward flow (priority is the semantic positive action OR if that's not there, then the primary action).\n *\n * @param converterContext The converter context\n * @param headerActions An array containing all the actions for this ObjectPage header\n * @param footerActions An array containing all the actions for this ObjectPage footer\n * @returns  Binding expression or function string\n */\nexport const getPrimaryAction = function (\n\tconverterContext: ConverterContext,\n\theaderActions: BaseAction[],\n\tfooterActions: BaseAction[]\n): string {\n\tlet primaryActionExpression = \"\";\n\tconst aActions = [...headerActions, ...footerActions];\n\n\tconst getBindingExp = function (sExpression: CompiledBindingToolkitExpression | string) {\n\t\tif (sExpression && sExpression.indexOf(\"{=\") > -1) {\n\t\t\treturn sExpression.replace(\"{=\", \"(\").slice(0, -1) + \")\";\n\t\t}\n\t\treturn sExpression;\n\t};\n\tconst aSemanticPositiveActions = aActions.filter((oAction) => {\n\t\tif (oAction?.annotationPath) {\n\t\t\tconst targetObject = converterContext.getConverterContextFor(oAction?.annotationPath).getDataModelObjectPath().targetObject;\n\t\t\tif (targetObject?.Criticality && targetObject?.Criticality === \"UI.CriticalityType/Positive\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n\tconst oEntitySet = converterContext.getEntitySet();\n\tif (aSemanticPositiveActions.length > 0) {\n\t\tprimaryActionExpression = getPressExpressionForPrimaryAction(\n\t\t\taSemanticPositiveActions[0].annotationPath &&\n\t\t\t\tconverterContext.getConverterContextFor(aSemanticPositiveActions[0].annotationPath).getDataModelObjectPath().targetObject,\n\t\t\toEntitySet?.name,\n\t\t\taSemanticPositiveActions[0],\n\t\t\tgetBindingExp(aSemanticPositiveActions[0].visible ?? \"true\"),\n\t\t\tgetBindingExp(aSemanticPositiveActions[0].enabled ?? \"true\"),\n\t\t\tgetBindingExp(getEditCommandExecutionVisible(headerActions)),\n\t\t\tgetBindingExp(getEditCommandExecutionEnabled(headerActions))\n\t\t);\n\t} else {\n\t\tprimaryActionExpression = getPressExpressionForPrimaryAction(\n\t\t\tnull,\n\t\t\toEntitySet?.name,\n\t\t\tnull,\n\t\t\t\"false\",\n\t\t\t\"false\",\n\t\t\tgetBindingExp(getEditCommandExecutionVisible(headerActions)),\n\t\t\tgetBindingExp(getEditCommandExecutionEnabled(headerActions))\n\t\t);\n\t}\n\treturn primaryActionExpression;\n};\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;EAcO,MAAMA,0BAA0B,GAAG,UACzCC,cAAoC,EACpCC,gBAAkC,EACZ;IACtB,MAAMC,uBAAuB,GAAGF,cAAqC;IACrEE,uBAAuB,CAACC,aAAa,GAAGC,gBAAgB,CAACH,gBAAgB,EAAED,cAAc,CAACK,MAAM,CAACC,OAAO,EAAEN,cAAc,CAACO,aAAa,CAAC;IACvI,OAAOL,uBAAuB;EAC/B,CAAC;;EAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EATA;EAUO,MAAME,gBAAgB,GAAG,UAC/BH,gBAAkC,EAClCO,aAA2B,EAC3BD,aAA2B,EAClB;IACT,IAAIE,uBAAuB,GAAG,EAAE;IAChC,MAAMC,QAAQ,GAAG,CAAC,GAAGF,aAAa,EAAE,GAAGD,aAAa,CAAC;IAErD,MAAMI,aAAa,GAAG,UAAUC,WAAsD,EAAE;MACvF,IAAIA,WAAW,IAAIA,WAAW,CAACC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;QAClD,OAAOD,WAAW,CAACE,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG;MACzD;MACA,OAAOH,WAAW;IACnB,CAAC;IACD,MAAMI,wBAAwB,GAAGN,QAAQ,CAACO,MAAM,CAAEC,OAAO,IAAK;MAC7D,IAAIA,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEC,cAAc,EAAE;QAC5B,MAAMC,YAAY,GAAGnB,gBAAgB,CAACoB,sBAAsB,CAACH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,cAAc,CAAC,CAACG,sBAAsB,EAAE,CAACF,YAAY;QAC3H,IAAIA,YAAY,aAAZA,YAAY,eAAZA,YAAY,CAAEG,WAAW,IAAI,CAAAH,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEG,WAAW,MAAK,6BAA6B,EAAE;UAC7F,OAAO,IAAI;QACZ;MACD;IACD,CAAC,CAAC;IACF,MAAMC,UAAU,GAAGvB,gBAAgB,CAACwB,YAAY,EAAE;IAClD,IAAIT,wBAAwB,CAACU,MAAM,GAAG,CAAC,EAAE;MACxCjB,uBAAuB,GAAGkB,kCAAkC,CAC3DX,wBAAwB,CAAC,CAAC,CAAC,CAACG,cAAc,IACzClB,gBAAgB,CAACoB,sBAAsB,CAACL,wBAAwB,CAAC,CAAC,CAAC,CAACG,cAAc,CAAC,CAACG,sBAAsB,EAAE,CAACF,YAAY,EAC1HI,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEI,IAAI,EAChBZ,wBAAwB,CAAC,CAAC,CAAC,EAC3BL,aAAa,CAACK,wBAAwB,CAAC,CAAC,CAAC,CAACa,OAAO,IAAI,MAAM,CAAC,EAC5DlB,aAAa,CAACK,wBAAwB,CAAC,CAAC,CAAC,CAACc,OAAO,IAAI,MAAM,CAAC,EAC5DnB,aAAa,CAACoB,8BAA8B,CAACvB,aAAa,CAAC,CAAC,EAC5DG,aAAa,CAACqB,8BAA8B,CAACxB,aAAa,CAAC,CAAC,CAC5D;IACF,CAAC,MAAM;MACNC,uBAAuB,GAAGkB,kCAAkC,CAC3D,IAAI,EACJH,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEI,IAAI,EAChB,IAAI,EACJ,OAAO,EACP,OAAO,EACPjB,aAAa,CAACoB,8BAA8B,CAACvB,aAAa,CAAC,CAAC,EAC5DG,aAAa,CAACqB,8BAA8B,CAACxB,aAAa,CAAC,CAAC,CAC5D;IACF;IACA,OAAOC,uBAAuB;EAC/B,CAAC;EAAC;EAAA;AAAA"}},{"offset":{"line":2990,"column":0},"map":{"version":3,"names":["sap","ui","define","ObjectPageTemplating","_exports","getPressExpressionForPrimaryAction","getEditCommandExecutionVisible","getEditCommandExecutionEnabled","extendObjectPageDefinition","pageDefinition","converterContext","convertedPageDefinition","primaryAction","getPrimaryAction","header","actions","footerActions","headerActions","primaryActionExpression","aActions","getBindingExp","sExpression","indexOf","replace","slice","aSemanticPositiveActions","filter","oAction","annotationPath","targetObject","getConverterContextFor","getDataModelObjectPath","Criticality","oEntitySet","getEntitySet","length","name","visible","enabled"],"sources":["ExtendPageDefinition-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,8DAAO,CAAC,oDAAqD,SAAUC,GAC5E,aAEA,IAAIC,EAAW,CAAC,EAChB,IAAIC,EAAqCF,EAAqBE,mCAC9D,IAAIC,EAAiCH,EAAqBG,+BAC1D,IAAIC,EAAiCJ,EAAqBI,+BAC1D,MAAMC,EAA6B,SAAUC,EAAgBC,GAC3D,MAAMC,EAA0BF,EAChCE,EAAwBC,cAAgBC,EAAiBH,EAAkBD,EAAeK,OAAOC,QAASN,EAAeO,eACzH,OAAOL,CACT,EAYAP,EAASI,2BAA6BA,EACtC,MAAMK,EAAmB,SAAUH,EAAkBO,EAAeD,GAClE,IAAIE,EAA0B,GAC9B,MAAMC,EAAW,IAAIF,KAAkBD,GACvC,MAAMI,EAAgB,SAAUC,GAC9B,GAAIA,GAAeA,EAAYC,QAAQ,OAAS,EAAG,CACjD,OAAOD,EAAYE,QAAQ,KAAM,KAAKC,MAAM,GAAI,GAAK,GACvD,CACA,OAAOH,CACT,EACA,MAAMI,EAA2BN,EAASO,OAAOC,IAC/C,GAAIA,IAAY,MAAQA,SAAiB,GAAKA,EAAQC,eAAgB,CACpE,MAAMC,EAAenB,EAAiBoB,uBAAuBH,IAAY,MAAQA,SAAiB,OAAS,EAAIA,EAAQC,gBAAgBG,yBAAyBF,aAChK,GAAIA,IAAiB,MAAQA,SAAsB,GAAKA,EAAaG,cAAgBH,IAAiB,MAAQA,SAAsB,OAAS,EAAIA,EAAaG,eAAiB,8BAA+B,CAC5M,OAAO,IACT,CACF,IAEF,MAAMC,EAAavB,EAAiBwB,eACpC,GAAIT,EAAyBU,OAAS,EAAG,CACvCjB,EAA0Bb,EAAmCoB,EAAyB,GAAGG,gBAAkBlB,EAAiBoB,uBAAuBL,EAAyB,GAAGG,gBAAgBG,yBAAyBF,aAAcI,IAAe,MAAQA,SAAoB,OAAS,EAAIA,EAAWG,KAAMX,EAAyB,GAAIL,EAAcK,EAAyB,GAAGY,SAAW,QAASjB,EAAcK,EAAyB,GAAGa,SAAW,QAASlB,EAAcd,EAA+BW,IAAiBG,EAAcb,EAA+BU,IACrjB,KAAO,CACLC,EAA0Bb,EAAmC,KAAM4B,IAAe,MAAQA,SAAoB,OAAS,EAAIA,EAAWG,KAAM,KAAM,QAAS,QAAShB,EAAcd,EAA+BW,IAAiBG,EAAcb,EAA+BU,IACjR,CACA,OAAOC,CACT,EACAd,EAASS,iBAAmBA,EAC5B,OAAOT,CACT,EAAG","sourceRoot":"ObjectPage"}},{"offset":{"line":2995,"column":0},"map":{"version":3,"names":["ObjectPageExtensionAPI","defineUI5Class","refresh","vPath","oBindingContext","_view","getBindingContext","Promise","resolve","oAppComponent","CommonUtils","getAppComponent","oSideEffectsService","getSideEffectsService","oMetaModel","getModel","getMetaModel","oSideEffects","targetProperties","targetEntities","aPaths","sPath","sBaseEntitySet","sKind","undefined","push","$NavigationPropertyPath","Array","isArray","_controller","getOwnerComponent","getEntitySet","i","length","getObject","reject","requestSideEffects","getSelectedContexts","sTableId","oTable","byId","isA","getContent","showSideContent","sSubSectionKey","bShow","sBlockID","getSideContentLayoutID","oBlock","bBlockState","getShowSideContent","setShowSideContent","_buildOPMessage","messages","view","resourceModel","ResourceModelHelper","getResourceModel","message","messageStats","Error","id","count","Warning","Information","reduce","acc","currentValue","currentType","getType","setType","Message","type","MessageType","setMessage","getText","messageResource","showMessages","internalModelContext","setProperty","getMessage","InvisibleMessage","getInstance","announce","InvisibleMessageMode","Assertive","hideMessage","err","Log","error","setRecommendations","data","recommendationHelper","transformRecommendationsForInternalStorage","ExtensionAPI"],"sourceRoot":"ObjectPage","sources":["ExtensionAPI.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport { getSideContentLayoutID } from \"sap/fe/core/converters/helpers/ID\";\nimport ExtensionAPI from \"sap/fe/core/ExtensionAPI\";\nimport type { EnhanceWithUI5 } from \"sap/fe/core/helpers/ClassSupport\";\nimport { defineUI5Class } from \"sap/fe/core/helpers/ClassSupport\";\nimport { InCompletenessInfoType, recommendationHelper } from \"sap/fe/core/helpers/RecommendationHelper\";\nimport ResourceModelHelper from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport { SideEffectsTargetType } from \"sap/fe/core/services/SideEffectsServiceFactory\";\nimport type TableAPI from \"sap/fe/macros/table/TableAPI\";\nimport InvisibleMessage from \"sap/ui/core/InvisibleMessage\";\nimport { InvisibleMessageMode, MessageType } from \"sap/ui/core/library\";\nimport Message from \"sap/ui/core/message/Message\";\nimport type DynamicSideContent from \"sap/ui/layout/DynamicSideContent\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\n\n/**\n * Extension API for object pages on SAP Fiori elements for OData V4.\n *\n * To correctly integrate your app extension coding with SAP Fiori elements, use only the extensionAPI of SAP Fiori elements. Don't access or manipulate controls, properties, models, or other internal objects created by the SAP Fiori elements framework.\n *\n * @alias sap.fe.templates.ObjectPage.ExtensionAPI\n * @public\n * @hideconstructor\n * @final\n * @since 1.79.0\n */\n@defineUI5Class(\"sap.fe.templates.ObjectPage.ExtensionAPI\")\nclass ObjectPageExtensionAPI extends ExtensionAPI {\n\t/**\n\t * Refreshes either the whole object page or only parts of it.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#refresh\n\t * @param [vPath] Path or array of paths referring to entities or properties to be refreshed.\n\t * If omitted, the whole object page is refreshed. The path \"\" refreshes the entity assigned to the object page\n\t * without navigations\n\t * @returns Resolved once the data is refreshed or rejected if the request failed\n\t * @public\n\t */\n\trefresh(vPath: string | string[] | undefined) {\n\t\tconst oBindingContext = this._view.getBindingContext() as Context;\n\t\tif (!oBindingContext) {\n\t\t\t// nothing to be refreshed - do not block the app!\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tconst oAppComponent = CommonUtils.getAppComponent(this._view),\n\t\t\toSideEffectsService = oAppComponent.getSideEffectsService(),\n\t\t\toMetaModel = oBindingContext.getModel().getMetaModel(),\n\t\t\toSideEffects: SideEffectsTargetType = {\n\t\t\t\ttargetProperties: [],\n\t\t\t\ttargetEntities: []\n\t\t\t};\n\t\tlet aPaths, sPath, sBaseEntitySet, sKind;\n\n\t\tif (vPath === undefined || vPath === null) {\n\t\t\t// we just add an empty path which should refresh the page with all dependent bindings\n\t\t\toSideEffects.targetEntities.push({\n\t\t\t\t$NavigationPropertyPath: \"\"\n\t\t\t});\n\t\t} else {\n\t\t\taPaths = Array.isArray(vPath) ? vPath : [vPath];\n\t\t\tsBaseEntitySet = (this._controller.getOwnerComponent() as any).getEntitySet();\n\n\t\t\tfor (let i = 0; i < aPaths.length; i++) {\n\t\t\t\tsPath = aPaths[i];\n\t\t\t\tif (sPath === \"\") {\n\t\t\t\t\t// an empty path shall refresh the entity without dependencies which means * for the model\n\t\t\t\t\toSideEffects.targetProperties.push(\"*\");\n\t\t\t\t} else {\n\t\t\t\t\tsKind = oMetaModel.getObject(`/${sBaseEntitySet}/${sPath}/$kind`);\n\n\t\t\t\t\tif (sKind === \"NavigationProperty\") {\n\t\t\t\t\t\toSideEffects.targetEntities.push({\n\t\t\t\t\t\t\t$NavigationPropertyPath: sPath\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (sKind) {\n\t\t\t\t\t\toSideEffects.targetProperties.push(sPath);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn Promise.reject(`${sPath} is not a valid path to be refreshed`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn oSideEffectsService.requestSideEffects([...oSideEffects.targetEntities, ...oSideEffects.targetProperties], oBindingContext);\n\t}\n\n\t/**\n\t * Gets the list entries currently selected for the table.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#getSelectedContexts\n\t * @param sTableId The ID identifying the table the selected context is requested for\n\t * @returns Array containing the selected contexts\n\t * @public\n\t */\n\tgetSelectedContexts(sTableId: string) {\n\t\tlet oTable = this._view.byId(sTableId);\n\t\tif (oTable && oTable.isA(\"sap.fe.macros.table.TableAPI\")) {\n\t\t\toTable = (oTable as EnhanceWithUI5<TableAPI>).getContent();\n\t\t}\n\t\treturn (oTable && oTable.isA(\"sap.ui.mdc.Table\") && (oTable as any).getSelectedContexts()) || [];\n\t}\n\n\t/**\n\t * Displays or hides the side content of an object page.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#showSideContent\n\t * @param sSubSectionKey Key of the side content fragment as defined in the manifest.json\n\t * @param [bShow] Optional Boolean flag to show or hide the side content\n\t * @public\n\t */\n\tshowSideContent(sSubSectionKey: string, bShow: boolean | undefined) {\n\t\tconst sBlockID = getSideContentLayoutID(sSubSectionKey),\n\t\t\toBlock = this._view.byId(sBlockID),\n\t\t\tbBlockState = bShow === undefined ? !(oBlock as DynamicSideContent).getShowSideContent() : bShow;\n\t\t(oBlock as DynamicSideContent).setShowSideContent(bBlockState, false);\n\t}\n\n\t/**\n\t * Gets the bound context of the current object page.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#getBindingContext\n\t * @returns Context bound to the object page\n\t * @public\n\t */\n\tgetBindingContext() {\n\t\treturn this._view.getBindingContext();\n\t}\n\n\t/**\n\t * Build a message to be displayed below the anchor bar.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#_buildOPMessage\n\t * @param {sap.ui.core.message.Message[]} messages Array of messages used to generated the message\n\t * @returns {Promise<Message>} Promise containing the generated message\n\t * @private\n\t */\n\tasync _buildOPMessage(messages: Message[]): Promise<Message | null> {\n\t\tconst view = this._view;\n\t\tconst resourceModel = ResourceModelHelper.getResourceModel(view);\n\t\tlet message: Message | null = null;\n\t\tswitch (messages.length) {\n\t\t\tcase 0:\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tmessage = messages[0];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconst messageStats: { [key: string]: any } = {\n\t\t\t\t\tError: { id: 2, count: 0 },\n\t\t\t\t\tWarning: { id: 1, count: 0 },\n\t\t\t\t\tInformation: { id: 0, count: 0 }\n\t\t\t\t};\n\t\t\t\tmessage = messages.reduce((acc, currentValue) => {\n\t\t\t\t\tconst currentType = currentValue.getType();\n\t\t\t\t\tacc.setType(messageStats[currentType].id > messageStats[acc.getType()].id ? currentType : acc.getType());\n\t\t\t\t\tmessageStats[currentType].count++;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, new Message({ type: MessageType.Information }));\n\n\t\t\t\tif (messageStats.Error.count === 0 && messageStats.Warning.count === 0 && messageStats.Information.count > 0) {\n\t\t\t\t\tmessage.setMessage(resourceModel.getText(\"OBJECTPAGESTATE_INFORMATION\"));\n\t\t\t\t} else if ((messageStats.Error.count > 0 && messageStats.Warning.count > 0) || messageStats.Information.count > 0) {\n\t\t\t\t\tmessage.setMessage(resourceModel.getText(\"OBJECTPAGESTATE_ISSUE\"));\n\t\t\t\t} else {\n\t\t\t\t\tconst messageResource = message.getType() === MessageType.Error ? \"OBJECTPAGESTATE_ERROR\" : \"OBJECTPAGESTATE_WARNING\";\n\t\t\t\t\tmessage.setMessage(resourceModel.getText(messageResource));\n\t\t\t\t}\n\t\t}\n\t\treturn message;\n\t}\n\n\t/**\n\t * Displays the message strip between the title and the header of the ObjectPage.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#showMessages\n\t * @param {sap.ui.core.message.Message} messages The message to be displayed\n\t * @public\n\t */\n\n\tasync showMessages(messages: Message[]) {\n\t\tconst view = this._view;\n\t\tconst internalModelContext = view.getBindingContext(\"internal\");\n\t\ttry {\n\t\t\tconst message = await this._buildOPMessage(messages);\n\t\t\tif (message) {\n\t\t\t\t(internalModelContext as any)?.setProperty(\"OPMessageStripVisibility\", true);\n\t\t\t\t(internalModelContext as any)?.setProperty(\"OPMessageStripText\", message.getMessage());\n\t\t\t\t(internalModelContext as any)?.setProperty(\"OPMessageStripType\", message.getType());\n\t\t\t\tInvisibleMessage.getInstance().announce(message.getMessage(), InvisibleMessageMode.Assertive);\n\t\t\t} else {\n\t\t\t\tthis.hideMessage();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tLog.error(\"Cannot display ObjectPage message\");\n\t\t}\n\t}\n\n\t/**\n\t * Hides the message strip below the anchor bar.\n\t *\n\t * @alias sap.fe.templates.ObjectPage.ExtensionAPI#hideMessage\n\t * @public\n\t */\n\thideMessage() {\n\t\tconst view = this._view;\n\t\tconst internalModelContext = view.getBindingContext(\"internal\");\n\t\t(internalModelContext as any)?.setProperty(\"OPMessageStripVisibility\", false);\n\t}\n\n\t/**\n\t * This function will take the recommendation data details, transform it and update internal model with that.\n\t *\n\t * @param data Recommendation data for the app\n\t * @private\n\t */\n\tsetRecommendations(data: InCompletenessInfoType) {\n\t\trecommendationHelper.transformRecommendationsForInternalStorage(data);\n\t\t(this._view.getModel(\"internal\") as JSONModel).setProperty(\"/recommendationsData\", data);\n\t}\n}\n\nexport default ObjectPageExtensionAPI;\n"],"mappings":"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"}},{"offset":{"line":3227,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CommonUtils","ID","ExtensionAPI","ClassSupport","RecommendationHelper","ResourceModelHelper","InvisibleMessage","library","Message","_dec","_class","MessageType","InvisibleMessageMode","recommendationHelper","defineUI5Class","getSideContentLayoutID","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","ObjectPageExtensionAPI","_ExtensionAPI","apply","this","arguments","_proto","refresh","vPath","oBindingContext","_view","getBindingContext","Promise","resolve","oAppComponent","getAppComponent","oSideEffectsService","getSideEffectsService","oMetaModel","getModel","getMetaModel","oSideEffects","targetProperties","targetEntities","aPaths","sPath","sBaseEntitySet","sKind","undefined","push","$NavigationPropertyPath","Array","isArray","_controller","getOwnerComponent","getEntitySet","i","length","getObject","reject","requestSideEffects","getSelectedContexts","sTableId","oTable","byId","isA","getContent","showSideContent","sSubSectionKey","bShow","sBlockID","oBlock","bBlockState","getShowSideContent","setShowSideContent","_buildOPMessage","async","messages","view","resourceModel","getResourceModel","message","messageStats","Error","id","count","Warning","Information","reduce","acc","currentValue","currentType","getType","setType","type","setMessage","getText","messageResource","showMessages","internalModelContext","setProperty","getMessage","getInstance","announce","Assertive","hideMessage","err","error","setRecommendations","data","transformRecommendationsForInternalStorage"],"sources":["ExtensionAPI-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage"}},{"offset":{"line":3232,"column":0},"map":{"version":3,"names":["ProgrammingModel","FELibrary","ObjectPageController","defineUI5Class","usingExtension","Placeholder","Share","override","ShareOverrides","InternalRouting","InternalRoutingOverride","Paginator","PaginatorOverride","MessageHandler","MessageHandlerOverride","IntentBasedNavigation","IntentBasedNavigationOverride","InternalIntentBasedNavigation","getNavigationMode","bIsStickyEditMode","getView","getController","getStickyEditMode","undefined","ViewState","ViewStateOverrides","PageReady","isContextExpected","MassEdit","publicExtension","finalExtension","extensible","OverrideExecution","After","handlers","onPrimaryAction","oController","oView","oContext","sActionName","mParameters","mConditions","iViewLevel","getViewData","viewLevel","positiveActionVisible","positiveActionEnabled","onCallAction","editActionVisible","editActionEnabled","_editDocument","getModel","getProperty","_saveDocument","_applyDocument","onTableContextChange","event","tableAPI","getSource","table","content","currentActionPromise","editFlow","getCurrentActionPromise","tableContexts","_getTableBinding","getCurrentContexts","length","actionResponse","controlId","getId","actionData","oData","keys","newItem","findIndex","tableContext","tableData","getObject","every","key","dialog","InstanceManager","getOpenDialogs","find","data","attachEventOnce","focusRow","deleteCurrentActionPromise","e","Log","error","messageButton","fireModelContextChange","invokeAction","then","_showMessagePopover","bind","catch","onDataPointTitlePressed","oSource","oManifestOutbound","sControlConfig","sCollectionPath","JSON","parse","oTargetInfo","aSemanticObjectMapping","CommonUtils","getSemanticObjectMapping","oDataPointOrChartBindingContext","getBindingContext","sMetaPath","getMetaModel","getMetaPath","getPath","aNavigationData","_getChartContextData","additionalNavigationParameters","map","oNavigationData","metaPath","parameters","oParams","_intentBasedNavigation","getOutboundParams","Object","semanticObject","action","navigate","navigationContexts","semanticObjectMapping","onChevronPressNavigateOutBound","sOutboundTarget","sCreatePath","onNavigateChange","oEvent","getExtensionAPI","updateAppState","bSectionNavigated","oInternalModelContext","sectionLayout","oSubSection","getParameter","_updateFocusInEditMode","onVariantSelected","onVariantSaved","setTimeout","navigateToSubSection","vDetailConfig","oDetailConfig","oObjectPage","byId","oSection","sectionId","subSectionId","getSubSections","getParent","getVisible","sTitle","getResourceModel","getText","entitySet","MessageBox","scrollToSection","fireNavigate","section","subSection","onStateChange","closeOPMessageStrip","hideMessage","sId","mCustomSectionExtensionAPIs","ExtensionAPI","extensionAPI","onInit","_getObjectPageLayoutControl","setProperty","page","visibility","items","_getBatchGroupsForView","getEnableLazyLoading","attachEvent","_handleSubSectionEnteredViewPort","oItemBinding","attachChange","_fnShowOPMessage","onExit","destroy","oMessagePopover","isOpen","close","isKeepAlive","setKeepAlive","isConnected","disconnect","view","messages","getItems","item","filter","message","getTargets","showMessages","oTable","getRowBinding","checkSectionsForNonResponsiveTable","subSections","changeClassForTables","lastVisibleSubSection","blocks","getBlocks","getMoreBlocks","tableType","searchTableInBlock","getType","isA","addStyleClass","detachEvent","subSectionIndex","block","control","onBeforeRendering","PageController","prototype","apply","oViewData","retrieveTextFromValueList","CommonHelper","setMetaModel","getAppComponent","onAfterRendering","getUseIconTabBar","sections","getSections","_getAllSubSections","_onBeforeBinding","aTables","_findTables","oInternalModel","aBatchGroups","oFastCreationRow","push","bDraftNavigation","_closeSideContent","opContext","hasPendingChanges","some","getBinding","resetChanges","i","getCreationRow","setBindingContext","fnScrollToPresentSection","isFirstRendering","bPersistOPScroll","setSelectedSection","oDelegateOnBefore","addEventDelegate","pageReady","removeEventDelegate","oBinding","listBinding","oPaginatorCurrentContext","oBindingToUse","paginator","initialize","sBindingPath","test","sListBindingPath","replace","ODataListBinding","oModel","_setListBindingAsync","getContexts","aSections","bUseIconTabBar","iSkip","bIsInEditMode","bEditableHeader","editableHeaderContent","iSection","aSubSections","iSubSection","isVisibilityDynamic","placeholder","isPlaceholderEnabled","showPlaceholder","oNavContainer","oContainer","_getFirstClickableElement","oFirstClickableElement","aActions","getHeaderTitle","getActions","oAction","getEnabled","_getFirstEmptyMandatoryFieldFromSubSection","aBlocks","aFormContainers","getFormContainers","getContent","formContainer","aFormElements","getFormElements","formElement","aFields","getFields","getRequired","getValue","debug","oMandatoryField","oFieldToFocus","getContentEdit","_getFirstEditableInput","focus","_onBackNavigationInDraft","messageHandler","removeTransitionMessages","getRouterProxy","checkIfBackHasSameContext","history","back","draft","processDataLossOrDraftDiscardConfirmation","Function","NavigationType","BackNavigation","_onAfterBinding","inputBindingContext","currentContext","_sideEffects","clearFieldGroupsValidity","bindingContext","aIBNActions","forEach","getIBNActions","oTableRowBinding","ModelHelper","isStickySessionSupported","removeCachesAndMessages","oActionOperationAvailableMap","parseCustomData","DelegateUtil","getCustomData","ActionRuntime","setActionEnablement","clearSelection","getSemanticTargetsFromPageModel","oObjectPageTitle","aIBNHeaderActions","concat","updateDataFieldForIBNButtonsVisibility","oFinalUIState","handleTableModifications","fnHandleTablePatchEvents","TableHelper","enableFastCreationRow","getContext","fnHandleChange","detachChange","computeEditMode","isCollaborationDraftSupported","connect","oError","_updateRelatedApps","currentBinding","handlePatchSent","TableUtils","whenBound","_triggerVisibleSubSectionsEvents","updateEditButtonVisibilityAndEnablement","displayCollaborationMessage","redirectedToNonDraft","entityName","resourceBundle","Core","getLibraryResourceBundle","collaborationMessage","getMessageManager","removeMessages","Message","type","target","sap","ui","getCore","addMessages","onPageReady","setFocus","isInDisplayMode","oSelectedSection","getSelectedSection","ctxt","oBindingContext","bIsStickyMode","oAppComponent","getShellServices","setBackNavigation","viewId","getAppStateHandler","applyAppState","forceFocus","Error","_checkDataPointTitleForExternalNavigation","_getPageTitleInformation","oObjectPageSubtitle","oCustomData","getKey","title","subtitle","intent","icon","_executeHeaderShortcut","sButtonId","oButton","oElement","fireButtonPress","_executeFooterShortcut","getFooter","getMetadata","getName","_executeTabShortCut","oExecution","iSectionIndexMax","sCommand","getCommand","newSection","iSelectedSectionIndex","indexOfSection","_getFooterVisibility","sViewId","getMessageModel","getData","oMessage","validation","indexOf","err","oRet","rootViewController","getRootViewController","currentPageView","isFclEnabled","getRightmostView","getRootContainer","getCurrentPage","oMessageButton","getLength","setVisible","openBy","BusyLocker","lock","editDocument","finally","unlock","_validateDocument","appComponent","getCurrentFocusedControlId","context","isTransient","sideEffectsService","getSideEffectsService","entityType","getEntityTypeFromContext","globalSideEffects","getGlobalODataEntitySideEffects","syncTask","Promise","all","sideEffects","requestSideEffects","draftRootContext","createRootContext","Draft","executeDraftValidation","aWaitCreateDocuments","bExecuteSideEffectsOnError","creationMode","creationRow","createAtEnd","bCreateDocument","bSkipSideEffects","createDocument","aBindings","bindings","saveDocument","isLocked","_cancelDocument","cancelButton","cancelDocument","applyDocument","showRelatedApps","updateRelatedAppsDetails","_findControlInSubSection","aParentElement","aSubsection","aControls","bIsChart","element","mAggregations","getAggregation","aItems","oItem","getMainContent","_getAllBlocks","_findCharts","aCharts","oBlock","oContent","setShowSideContent","oChartContext","sChartPath","oContextData","oChartContextData","_scrollTablesToRow","sRowPath","TableScroller","scrollTableToRow","_mergeMultipleContexts","oPageContext","aLineContext","aAttributes","aPageAttributes","sMetaPathLine","sPathLine","sPagePath","oMetaModel","sMetaPathPage","oSingleContext","oSubChartContextData","contextData","removeSensitiveData","oPageLevelSV","addPageContextToSelectionVariant","SelectionVariant","selectionVariant","attributes","oConfigurations","controlConfiguration","aConfigurations","sKey","oConfiguration","requestGroupId","_setBreadcrumbLinks","aPromises","aSkipParameterized","sNewPath","aPathParts","split","sPath","shift","splice","sPathPart","oRootViewController","sParameterPath","bResultContext","getTitleInfoFromPath","titleHierarchyInfos","idx","hierarchyPosition","oLink","titleHierarchyInfo","getLinks","Link","setText","setHref","encodeURI","addLink","oDataPoints","getHeaderFacetItemConfigForExternalNavigation","getRoutingService","getOutbounds","oShellServices","requestObject","fnGetLinks","fnOnError","fnSetLinkEnablement","id","aSupportedLinks","sLinkId","supported","oSubDataPoints","oPageData","oDataPoint","oLinkContext","oLinkData","oMixedContext","merge","oMapping","sMainProperty","sMappedProperty","hasOwnProperty","oNewMapping","isNavigationSupported","params","aLinks"],"sourceRoot":"ObjectPage","sources":["ObjectPageController.controller.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport merge from \"sap/base/util/merge\";\nimport ActionRuntime from \"sap/fe/core/ActionRuntime\";\nimport { FEView } from \"sap/fe/core/BaseController\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport BusyLocker from \"sap/fe/core/controllerextensions/BusyLocker\";\nimport { connect, disconnect, isConnected } from \"sap/fe/core/controllerextensions/collaboration/ActivitySync\";\nimport draft from \"sap/fe/core/controllerextensions/editFlow/draft\";\nimport IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport InternalIntentBasedNavigation from \"sap/fe/core/controllerextensions/InternalIntentBasedNavigation\";\nimport InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport MassEdit from \"sap/fe/core/controllerextensions/MassEdit\";\nimport MessageHandler from \"sap/fe/core/controllerextensions/MessageHandler\";\nimport PageReady from \"sap/fe/core/controllerextensions/PageReady\";\nimport Paginator from \"sap/fe/core/controllerextensions/Paginator\";\nimport Placeholder from \"sap/fe/core/controllerextensions/Placeholder\";\nimport Share from \"sap/fe/core/controllerextensions/Share\";\nimport ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport { defineUI5Class, extensible, finalExtension, publicExtension, usingExtension } from \"sap/fe/core/helpers/ClassSupport\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { getResourceModel } from \"sap/fe/core/helpers/ResourceModelHelper\";\nimport FELibrary from \"sap/fe/core/library\";\nimport PageController from \"sap/fe/core/PageController\";\nimport type { ViewData } from \"sap/fe/core/services/TemplatedViewServiceFactory\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport DelegateUtil from \"sap/fe/macros/DelegateUtil\";\nimport type TableAPI from \"sap/fe/macros/table/TableAPI\";\nimport TableHelper from \"sap/fe/macros/table/TableHelper\";\nimport TableUtils from \"sap/fe/macros/table/Utils\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport type SubSectionBlock from \"sap/fe/templates/ObjectPage/controls/SubSectionBlock\";\nimport type { default as ObjectPageExtensionAPI } from \"sap/fe/templates/ObjectPage/ExtensionAPI\";\nimport { default as ExtensionAPI } from \"sap/fe/templates/ObjectPage/ExtensionAPI\";\nimport TableScroller from \"sap/fe/templates/TableScroller\";\nimport InstanceManager from \"sap/m/InstanceManager\";\nimport Link from \"sap/m/Link\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport type Popover from \"sap/m/Popover\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport Core from \"sap/ui/core/Core\";\nimport Message from \"sap/ui/core/message/Message\";\nimport OverrideExecution from \"sap/ui/core/mvc/OverrideExecution\";\nimport type Table from \"sap/ui/mdc/Table\";\nimport type Binding from \"sap/ui/model/Binding\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\nimport ODataContextBinding from \"sap/ui/model/odata/v4/ODataContextBinding\";\nimport ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nimport type ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\nimport type BreadCrumbs from \"sap/uxap/BreadCrumbs\";\nimport type ObjectPageDynamicHeaderTitle from \"sap/uxap/ObjectPageDynamicHeaderTitle\";\nimport type ObjectPageLayout from \"sap/uxap/ObjectPageLayout\";\nimport type ObjectPageSection from \"sap/uxap/ObjectPageSection\";\nimport type ObjectPageSubSection from \"sap/uxap/ObjectPageSubSection\";\nimport IntentBasedNavigationOverride from \"./overrides/IntentBasedNavigation\";\nimport InternalRoutingOverride from \"./overrides/InternalRouting\";\nimport MessageHandlerOverride from \"./overrides/MessageHandler\";\nimport PaginatorOverride from \"./overrides/Paginator\";\nimport ShareOverrides from \"./overrides/Share\";\nimport ViewStateOverrides from \"./overrides/ViewState\";\n\nconst ProgrammingModel = FELibrary.ProgrammingModel;\n@defineUI5Class(\"sap.fe.templates.ObjectPage.ObjectPageController\")\nclass ObjectPageController extends PageController {\n\toView!: any;\n\n\t@usingExtension(Placeholder)\n\tplaceholder!: Placeholder;\n\n\t@usingExtension(Share.override(ShareOverrides))\n\tshare!: Share;\n\n\t@usingExtension(InternalRouting.override(InternalRoutingOverride))\n\t_routing!: InternalRouting;\n\n\t@usingExtension(Paginator.override(PaginatorOverride))\n\tpaginator!: Paginator;\n\n\t@usingExtension(MessageHandler.override(MessageHandlerOverride))\n\tmessageHandler!: MessageHandler;\n\n\t@usingExtension(IntentBasedNavigation.override(IntentBasedNavigationOverride))\n\tintentBasedNavigation!: IntentBasedNavigation;\n\n\t@usingExtension(\n\t\tInternalIntentBasedNavigation.override({\n\t\t\tgetNavigationMode: function (this: InternalIntentBasedNavigation) {\n\t\t\t\tconst bIsStickyEditMode =\n\t\t\t\t\t(this.getView().getController() as ObjectPageController).getStickyEditMode &&\n\t\t\t\t\t(this.getView().getController() as ObjectPageController).getStickyEditMode();\n\t\t\t\treturn bIsStickyEditMode ? \"explace\" : undefined;\n\t\t\t}\n\t\t})\n\t)\n\t_intentBasedNavigation!: InternalIntentBasedNavigation;\n\n\t@usingExtension(ViewState.override(ViewStateOverrides))\n\tviewState!: ViewState;\n\n\t@usingExtension(\n\t\tPageReady.override({\n\t\t\tisContextExpected: function () {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t})\n\t)\n\tpageReady!: PageReady;\n\n\t@usingExtension(MassEdit)\n\tmassEdit!: MassEdit;\n\n\tprivate mCustomSectionExtensionAPIs?: Record<string, ObjectPageExtensionAPI>;\n\n\tprotected extensionAPI?: ObjectPageExtensionAPI;\n\n\tprivate bSectionNavigated?: boolean;\n\n\tprivate switchDraftAndActivePopOver?: Popover;\n\n\tprivate currentBinding?: Binding;\n\n\tprivate messageButton: any;\n\n\tprivate collaborationMessage?: Message;\n\n\t@publicExtension()\n\t@finalExtension()\n\tgetExtensionAPI(sId?: string): ExtensionAPI {\n\t\tif (sId) {\n\t\t\t// to allow local ID usage for custom pages we'll create/return own instances for custom sections\n\t\t\tthis.mCustomSectionExtensionAPIs = this.mCustomSectionExtensionAPIs || {};\n\n\t\t\tif (!this.mCustomSectionExtensionAPIs[sId]) {\n\t\t\t\tthis.mCustomSectionExtensionAPIs[sId] = new ExtensionAPI(this, sId);\n\t\t\t}\n\t\t\treturn this.mCustomSectionExtensionAPIs[sId];\n\t\t} else {\n\t\t\tif (!this.extensionAPI) {\n\t\t\t\tthis.extensionAPI = new ExtensionAPI(this);\n\t\t\t}\n\t\t\treturn this.extensionAPI;\n\t\t}\n\t}\n\n\tonInit() {\n\t\tsuper.onInit();\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\n\t\t// Setting defaults of internal model context\n\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\toInternalModelContext?.setProperty(\"externalNavigationContext\", { page: true });\n\t\toInternalModelContext?.setProperty(\"relatedApps\", {\n\t\t\tvisibility: false,\n\t\t\titems: null\n\t\t});\n\t\toInternalModelContext?.setProperty(\"batchGroups\", this._getBatchGroupsForView());\n\t\toInternalModelContext?.setProperty(\"errorNavigationSectionFlag\", false);\n\t\tif (oObjectPage.getEnableLazyLoading()) {\n\t\t\t//Attaching the event to make the subsection context binding active when it is visible.\n\t\t\toObjectPage.attachEvent(\"subSectionEnteredViewPort\", this._handleSubSectionEnteredViewPort.bind(this));\n\t\t}\n\t\tthis.messageButton = this.getView().byId(\"fe::FooterBar::MessageButton\");\n\t\tthis.messageButton.oItemBinding.attachChange(this._fnShowOPMessage, this);\n\t\toInternalModelContext?.setProperty(\"rootEditEnabled\", true);\n\t\toInternalModelContext?.setProperty(\"rootEditVisible\", true);\n\t}\n\n\tonExit() {\n\t\tif (this.mCustomSectionExtensionAPIs) {\n\t\t\tfor (const sId of Object.keys(this.mCustomSectionExtensionAPIs)) {\n\t\t\t\tif (this.mCustomSectionExtensionAPIs[sId]) {\n\t\t\t\t\tthis.mCustomSectionExtensionAPIs[sId].destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t\tdelete this.mCustomSectionExtensionAPIs;\n\t\t}\n\t\tif (this.extensionAPI) {\n\t\t\tthis.extensionAPI.destroy();\n\t\t}\n\t\tdelete this.extensionAPI;\n\n\t\tconst oMessagePopover = this.messageButton ? this.messageButton.oMessagePopover : null;\n\t\tif (oMessagePopover && oMessagePopover.isOpen()) {\n\t\t\toMessagePopover.close();\n\t\t}\n\t\t//when exiting we set keepAlive context to false\n\t\tconst oContext = this.getView().getBindingContext() as Context;\n\t\tif (oContext && oContext.isKeepAlive()) {\n\t\t\toContext.setKeepAlive(false);\n\t\t}\n\t\tif (isConnected(this.getView())) {\n\t\t\tdisconnect(this.getView()); // Cleanup collaboration connection when leaving the app\n\t\t}\n\t}\n\n\t/**\n\t * Method to show the message strip on the object page.\n\t *\n\t * @private\n\t */\n\t_fnShowOPMessage() {\n\t\tconst extensionAPI = this.getExtensionAPI();\n\t\tconst view = this.getView();\n\t\tconst messages = this.messageButton.oMessagePopover\n\t\t\t.getItems()\n\t\t\t.map((item: any) => item.getBindingContext(\"message\").getObject())\n\t\t\t.filter((message: Message) => {\n\t\t\t\treturn message.getTargets()[0] === view.getBindingContext()?.getPath();\n\t\t\t});\n\n\t\tif (extensionAPI) {\n\t\t\textensionAPI.showMessages(messages);\n\t\t}\n\t}\n\n\t_getTableBinding(oTable: any) {\n\t\treturn oTable && oTable.getRowBinding();\n\t}\n\n\t/**\n\t * Find the last visible subsection and add the sapUxAPObjectPageSubSectionFitContainer CSS class if it contains only a GridTable or a TreeTable.\n\t *\n\t * @param subSections The sub sections to look for\n\t * @private\n\t */\n\tprivate checkSectionsForNonResponsiveTable(subSections: ObjectPageSubSection[]) {\n\t\tconst changeClassForTables = (event: Event, lastVisibleSubSection: ObjectPageSubSection) => {\n\t\t\tconst blocks = [...lastVisibleSubSection.getBlocks(), ...lastVisibleSubSection.getMoreBlocks()];\n\t\t\tconst tableType = blocks.length === 1 && this.searchTableInBlock(blocks[0] as SubSectionBlock)?.getType();\n\t\t\tif (tableType && (tableType?.isA(\"sap.ui.mdc.table.GridTableType\") || tableType?.isA(\"sap.ui.mdc.table.TreeTableType\"))) {\n\t\t\t\t//In case there is only a single table in a subSection we fit that to the whole page so that the scrollbar comes only on table and not on page\n\t\t\t\tlastVisibleSubSection.addStyleClass(\"sapUxAPObjectPageSubSectionFitContainer\");\n\t\t\t\tlastVisibleSubSection.detachEvent(\"modelContextChange\", changeClassForTables, this);\n\t\t\t}\n\t\t};\n\t\tfor (let subSectionIndex = subSections.length - 1; subSectionIndex >= 0; subSectionIndex--) {\n\t\t\tif (subSections[subSectionIndex].getVisible()) {\n\t\t\t\tconst lastVisibleSubSection = subSections[subSectionIndex];\n\t\t\t\t// We need to attach this event in order to manage the Object Page Lazy Loading mechanism\n\t\t\t\tlastVisibleSubSection.attachEvent(\"modelContextChange\", lastVisibleSubSection, changeClassForTables, this);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Find a table in blocks of section.\n\t *\n\t * @param block One sub section block\n\t * @returns Table if exists\n\t */\n\tprivate searchTableInBlock(block: SubSectionBlock) {\n\t\tconst control = block.content;\n\t\tlet tableAPI: TableAPI | undefined;\n\t\tif (block.isA(\"sap.fe.templates.ObjectPage.controls.SubSectionBlock\")) {\n\t\t\t// The table may currently be shown in a full screen dialog, we can then get the reference to the TableAPI\n\t\t\t// control from the custom data of the place holder panel\n\t\t\tif (control.isA(\"sap.m.Panel\") && control.data(\"FullScreenTablePlaceHolder\")) {\n\t\t\t\ttableAPI = control.data(\"tableAPIreference\");\n\t\t\t} else if (control.isA(\"sap.fe.macros.table.TableAPI\")) {\n\t\t\t\ttableAPI = control as TableAPI;\n\t\t\t}\n\t\t\tif (tableAPI) {\n\t\t\t\treturn tableAPI.content as Table;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\tonBeforeRendering() {\n\t\tPageController.prototype.onBeforeRendering.apply(this);\n\t\t// In the retrieveTextFromValueList scenario we need to ensure in case of reload/refresh that the meta model in the methode retrieveTextFromValueList of the FieldRuntime is available\n\t\tif (this.oView.oViewData?.retrieveTextFromValueList && CommonHelper.getMetaModel() === undefined) {\n\t\t\tCommonHelper.setMetaModel(this.getAppComponent().getMetaModel());\n\t\t}\n\t}\n\n\tonAfterRendering() {\n\t\tlet subSections: ObjectPageSubSection[];\n\t\tif (this._getObjectPageLayoutControl().getUseIconTabBar()) {\n\t\t\tconst sections = this._getObjectPageLayoutControl().getSections();\n\t\t\tfor (const section of sections) {\n\t\t\t\tsubSections = section.getSubSections();\n\t\t\t\tthis.checkSectionsForNonResponsiveTable(subSections);\n\t\t\t}\n\t\t} else {\n\t\t\tsubSections = this._getAllSubSections();\n\t\t\tthis.checkSectionsForNonResponsiveTable(subSections);\n\t\t}\n\t}\n\n\t_onBeforeBinding(oContext: any, mParameters: any) {\n\t\t// TODO: we should check how this comes together with the transaction helper, same to the change in the afterBinding\n\t\tconst aTables = this._findTables(),\n\t\t\toObjectPage = this._getObjectPageLayoutControl(),\n\t\t\toInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext,\n\t\t\toInternalModel = this.getView().getModel(\"internal\"),\n\t\t\taBatchGroups = oInternalModelContext.getProperty(\"batchGroups\"),\n\t\t\tiViewLevel = (this.getView().getViewData() as any).viewLevel;\n\t\tlet oFastCreationRow;\n\t\taBatchGroups.push(\"$auto\");\n\t\tif (mParameters.bDraftNavigation !== true) {\n\t\t\tthis._closeSideContent();\n\t\t}\n\t\tconst opContext = oObjectPage.getBindingContext() as Context;\n\t\tif (\n\t\t\topContext &&\n\t\t\topContext.hasPendingChanges() &&\n\t\t\t!aBatchGroups.some(opContext.getModel().hasPendingChanges.bind(opContext.getModel()))\n\t\t) {\n\t\t\t/* \tIn case there are pending changes for the creation row and no others we need to reset the changes\n\t\t\t\t\t\t\t\tTODO: this is just a quick solution, this needs to be reworked\n\t\t\t\t\t\t\t\t*/\n\n\t\t\topContext.getBinding().resetChanges();\n\t\t}\n\n\t\t// For now we have to set the binding context to null for every fast creation row\n\t\t// TODO: Get rid of this coding or move it to another layer - to be discussed with MDC and model\n\t\tfor (let i = 0; i < aTables.length; i++) {\n\t\t\toFastCreationRow = aTables[i].getCreationRow();\n\t\t\tif (oFastCreationRow) {\n\t\t\t\toFastCreationRow.setBindingContext(null);\n\t\t\t}\n\t\t}\n\n\t\t// Scroll to present Section so that bindings are enabled during navigation through paginator buttons, as there is no view rerendering/rebind\n\t\tconst fnScrollToPresentSection = function () {\n\t\t\tif (!(oObjectPage as any).isFirstRendering() && !mParameters.bPersistOPScroll) {\n\t\t\t\toObjectPage.setSelectedSection(null as any);\n\t\t\t}\n\t\t};\n\t\toObjectPage.attachEventOnce(\"modelContextChange\", fnScrollToPresentSection);\n\n\t\t// if the structure of the ObjectPageLayout is changed then scroll to present Section\n\t\t// FIXME Is this really working as intended ? Initially this was onBeforeRendering, but never triggered onBeforeRendering because it was registered after it\n\t\tconst oDelegateOnBefore = {\n\t\t\tonAfterRendering: fnScrollToPresentSection\n\t\t};\n\t\toObjectPage.addEventDelegate(oDelegateOnBefore, this);\n\t\tthis.pageReady.attachEventOnce(\"pageReady\", function () {\n\t\t\toObjectPage.removeEventDelegate(oDelegateOnBefore);\n\t\t});\n\n\t\t//Set the Binding for Paginators using ListBinding ID\n\t\tif (iViewLevel > 1) {\n\t\t\tlet oBinding = mParameters && mParameters.listBinding;\n\t\t\tconst oPaginatorCurrentContext = oInternalModel.getProperty(\"/paginatorCurrentContext\");\n\t\t\tif (oPaginatorCurrentContext) {\n\t\t\t\tconst oBindingToUse = oPaginatorCurrentContext.getBinding();\n\t\t\t\tthis.paginator.initialize(oBindingToUse, oPaginatorCurrentContext);\n\t\t\t\toInternalModel.setProperty(\"/paginatorCurrentContext\", null);\n\t\t\t} else if (oBinding) {\n\t\t\t\tif (oBinding.isA(\"sap.ui.model.odata.v4.ODataListBinding\")) {\n\t\t\t\t\tthis.paginator.initialize(oBinding, oContext);\n\t\t\t\t} else {\n\t\t\t\t\t// if the binding type is not ODataListBinding because of a deeplink navigation or a refresh of the page\n\t\t\t\t\t// we need to create it\n\t\t\t\t\tconst sBindingPath = oBinding.getPath();\n\t\t\t\t\tif (/\\([^)]*\\)$/.test(sBindingPath)) {\n\t\t\t\t\t\t// The current binding path ends with (xxx), so we create the listBinding by removing (xxx)\n\t\t\t\t\t\tconst sListBindingPath = sBindingPath.replace(/\\([^)]*\\)$/, \"\");\n\t\t\t\t\t\toBinding = new (ODataListBinding as any)(oBinding.oModel, sListBindingPath);\n\t\t\t\t\t\tconst _setListBindingAsync = () => {\n\t\t\t\t\t\t\tif (oBinding.getContexts().length > 0) {\n\t\t\t\t\t\t\t\tthis.paginator.initialize(oBinding, oContext);\n\t\t\t\t\t\t\t\toBinding.detachEvent(\"change\", _setListBindingAsync);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\toBinding.getContexts(0);\n\t\t\t\t\t\toBinding.attachEvent(\"change\", _setListBindingAsync);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// The current binding doesn't end with (xxx) --> the last segment is a 1-1 navigation, so we don't display the paginator\n\t\t\t\t\t\tthis.paginator.initialize(undefined);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (oObjectPage.getEnableLazyLoading()) {\n\t\t\tconst aSections = oObjectPage.getSections();\n\t\t\tconst bUseIconTabBar = oObjectPage.getUseIconTabBar();\n\t\t\tlet iSkip = 2;\n\t\t\tconst bIsInEditMode = this.getView().getModel(\"ui\").getProperty(\"/isEditable\");\n\t\t\tconst bEditableHeader = (this.getView().getViewData() as any).editableHeaderContent;\n\t\t\tfor (let iSection = 0; iSection < aSections.length; iSection++) {\n\t\t\t\tconst oSection = aSections[iSection];\n\t\t\t\tconst aSubSections = oSection.getSubSections();\n\t\t\t\tfor (let iSubSection = 0; iSubSection < aSubSections.length; iSubSection++, iSkip--) {\n\t\t\t\t\t// In IconTabBar mode keep the second section bound if there is an editable header and we are switching to display mode\n\t\t\t\t\tif (iSkip < 1 || (bUseIconTabBar && (iSection > 1 || (iSection === 1 && !bEditableHeader && !bIsInEditMode)))) {\n\t\t\t\t\t\tconst oSubSection = aSubSections[iSubSection];\n\t\t\t\t\t\tif (oSubSection.data().isVisibilityDynamic !== \"true\") {\n\t\t\t\t\t\t\toSubSection.setBindingContext(null as any);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.placeholder.isPlaceholderEnabled() && mParameters.showPlaceholder) {\n\t\t\tconst oView = this.getView();\n\t\t\tconst oNavContainer = (oView.getParent() as any).oContainer.getParent();\n\t\t\tif (oNavContainer) {\n\t\t\t\toNavContainer.showPlaceholder({});\n\t\t\t}\n\t\t}\n\t}\n\n\t_getFirstClickableElement(oObjectPage: any) {\n\t\tlet oFirstClickableElement;\n\t\tconst aActions = oObjectPage.getHeaderTitle() && oObjectPage.getHeaderTitle().getActions();\n\t\tif (aActions && aActions.length) {\n\t\t\toFirstClickableElement = aActions.find(function (oAction: any) {\n\t\t\t\t// Due to the left alignment of the Draft switch and the collaborative draft avatar controls\n\t\t\t\t// there is a ToolbarSpacer in the actions aggregation which we need to exclude here!\n\t\t\t\t// Due to the ACC report, we also need not to check for the InvisibleText elements\n\t\t\t\tif (oAction.isA(\"sap.fe.macros.share.ShareAPI\")) {\n\t\t\t\t\t// since ShareAPI does not have a disable property\n\t\t\t\t\t// hence there is no need to check if it is disbaled or not\n\t\t\t\t\treturn oAction.getVisible();\n\t\t\t\t} else if (!oAction.isA(\"sap.ui.core.InvisibleText\") && !oAction.isA(\"sap.m.ToolbarSpacer\")) {\n\t\t\t\t\treturn oAction.getVisible() && oAction.getEnabled();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn oFirstClickableElement;\n\t}\n\n\t_getFirstEmptyMandatoryFieldFromSubSection(aSubSections: any) {\n\t\tif (aSubSections) {\n\t\t\tfor (let subSection = 0; subSection < aSubSections.length; subSection++) {\n\t\t\t\tconst aBlocks = aSubSections[subSection].getBlocks();\n\n\t\t\t\tif (aBlocks) {\n\t\t\t\t\tfor (let block = 0; block < aBlocks.length; block++) {\n\t\t\t\t\t\tlet aFormContainers;\n\n\t\t\t\t\t\tif (aBlocks[block].isA(\"sap.ui.layout.form.Form\")) {\n\t\t\t\t\t\t\taFormContainers = aBlocks[block].getFormContainers();\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\taBlocks[block].getContent &&\n\t\t\t\t\t\t\taBlocks[block].getContent() &&\n\t\t\t\t\t\t\taBlocks[block].getContent().isA(\"sap.ui.layout.form.Form\")\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\taFormContainers = aBlocks[block].getContent().getFormContainers();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (aFormContainers) {\n\t\t\t\t\t\t\tfor (let formContainer = 0; formContainer < aFormContainers.length; formContainer++) {\n\t\t\t\t\t\t\t\tconst aFormElements = aFormContainers[formContainer].getFormElements();\n\t\t\t\t\t\t\t\tif (aFormElements) {\n\t\t\t\t\t\t\t\t\tfor (let formElement = 0; formElement < aFormElements.length; formElement++) {\n\t\t\t\t\t\t\t\t\t\tconst aFields = aFormElements[formElement].getFields();\n\n\t\t\t\t\t\t\t\t\t\t// The first field is not necessarily an InputBase (e.g. could be a Text)\n\t\t\t\t\t\t\t\t\t\t// So we need to check whether it has a getRequired method\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tif (aFields[0].getRequired && aFields[0].getRequired() && !aFields[0].getValue()) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn aFields[0];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\t\t\tLog.debug(`Error when searching for mandaotry empty field: ${error}`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t_updateFocusInEditMode(aSubSections: any) {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\n\t\tconst oMandatoryField = this._getFirstEmptyMandatoryFieldFromSubSection(aSubSections);\n\t\tlet oFieldToFocus: any;\n\t\tif (oMandatoryField) {\n\t\t\toFieldToFocus = oMandatoryField.content.getContentEdit()[0];\n\t\t} else {\n\t\t\toFieldToFocus = (oObjectPage as any)._getFirstEditableInput() || this._getFirstClickableElement(oObjectPage);\n\t\t}\n\n\t\tif (oFieldToFocus) {\n\t\t\tsetTimeout(function () {\n\t\t\t\t// We set the focus in a timeeout, otherwise the focus sometimes goes to the TabBar\n\t\t\t\toFieldToFocus.focus();\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\t_handleSubSectionEnteredViewPort(oEvent: any) {\n\t\tconst oSubSection = oEvent.getParameter(\"subSection\");\n\t\toSubSection.setBindingContext(undefined);\n\t}\n\n\t_onBackNavigationInDraft(oContext: any) {\n\t\tthis.messageHandler.removeTransitionMessages();\n\t\tif (this.getAppComponent().getRouterProxy().checkIfBackHasSameContext()) {\n\t\t\t// Back nav will keep the same context --> no need to display the dialog\n\t\t\thistory.back();\n\t\t} else {\n\t\t\tdraft.processDataLossOrDraftDiscardConfirmation(\n\t\t\t\tfunction () {\n\t\t\t\t\thistory.back();\n\t\t\t\t},\n\t\t\t\tFunction.prototype,\n\t\t\t\toContext,\n\t\t\t\tthis,\n\t\t\t\tfalse,\n\t\t\t\tdraft.NavigationType.BackNavigation\n\t\t\t);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t_onAfterBinding(inputBindingContext: any, mParameters: any) {\n\t\tconst viewLevel = (this.getView()?.getViewData() as ViewData)?.viewLevel;\n\t\t// we are clearing any previous data from recommendations every time we come to new OP\n\t\t// so that cached recommendations are not shown to user\n\t\tif (viewLevel && viewLevel === 1) {\n\t\t\tconst currentContext = this.getView().getModel(\"internal\").getProperty(\"/currentCtxt\");\n\t\t\tif (currentContext && currentContext.getPath() !== inputBindingContext.getPath()) {\n\t\t\t\tthis.getView().getModel(\"internal\").setProperty(\"/recommendationsData\", {});\n\t\t\t}\n\t\t}\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\tconst aTables = this._findTables();\n\n\t\tthis._sideEffects.clearFieldGroupsValidity();\n\n\t\t// TODO: this is only a temp solution as long as the model fix the cache issue and we use this additional\n\t\t// binding with ownRequest\n\t\tconst bindingContext = oObjectPage.getBindingContext() as Context;\n\n\t\tlet aIBNActions: any[] = [];\n\t\toObjectPage.getSections().forEach(function (oSection: any) {\n\t\t\toSection.getSubSections().forEach(function (oSubSection: any) {\n\t\t\t\taIBNActions = CommonUtils.getIBNActions(oSubSection, aIBNActions);\n\t\t\t});\n\t\t});\n\n\t\t// Assign internal binding contexts to oFormContainer:\n\t\t// 1. It is not possible to assign the internal binding context to the XML fragment\n\t\t// (FormContainer.fragment.xml) yet - it is used already for the data-structure.\n\t\t// 2. Another problem is, that FormContainers assigned to a 'MoreBlock' does not have an\n\t\t// internal model context at all.\n\n\t\taTables.forEach(function (oTable: any) {\n\t\t\tconst oInternalModelContext = oTable.getBindingContext(\"internal\");\n\t\t\tif (oInternalModelContext) {\n\t\t\t\toInternalModelContext.setProperty(\"creationRowFieldValidity\", {});\n\t\t\t\toInternalModelContext.setProperty(\"creationRowCustomValidity\", {});\n\n\t\t\t\taIBNActions = CommonUtils.getIBNActions(oTable, aIBNActions);\n\n\t\t\t\t// temporary workaround for BCP: 2080218004\n\t\t\t\t// Need to fix with BLI: FIORITECHP1-15274\n\t\t\t\t// only for edit mode, we clear the table cache\n\t\t\t\t// Workaround starts here!!\n\t\t\t\tconst oTableRowBinding = oTable.getRowBinding();\n\t\t\t\tif (oTableRowBinding) {\n\t\t\t\t\tif (ModelHelper.isStickySessionSupported(oTableRowBinding.getModel().getMetaModel())) {\n\t\t\t\t\t\t// apply for both edit and display mode in sticky\n\t\t\t\t\t\toTableRowBinding.removeCachesAndMessages(\"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Workaround ends here!!\n\n\t\t\t\t// Clear the selection in the table and update action enablement accordingly\n\t\t\t\t// Will to be fixed with BLI: FIORITECHP1-24318\n\t\t\t\tconst oActionOperationAvailableMap = JSON.parse(\n\t\t\t\t\tCommonHelper.parseCustomData(DelegateUtil.getCustomData(oTable, \"operationAvailableMap\"))\n\t\t\t\t);\n\n\t\t\t\tActionRuntime.setActionEnablement(oInternalModelContext, oActionOperationAvailableMap, [], \"table\");\n\n\t\t\t\toTable.clearSelection();\n\t\t\t}\n\t\t});\n\t\tCommonUtils.getSemanticTargetsFromPageModel(this, \"_pageModel\");\n\t\t//Retrieve Object Page header actions from Object Page title control\n\t\tconst oObjectPageTitle = oObjectPage.getHeaderTitle() as ObjectPageDynamicHeaderTitle;\n\t\tlet aIBNHeaderActions: any[] = [];\n\t\taIBNHeaderActions = CommonUtils.getIBNActions(oObjectPageTitle, aIBNHeaderActions);\n\t\taIBNActions = aIBNActions.concat(aIBNHeaderActions);\n\t\tCommonUtils.updateDataFieldForIBNButtonsVisibility(aIBNActions, this.getView());\n\n\t\tlet oModel: any, oFinalUIState: any;\n\n\t\t// this should not be needed at the all\n\t\t/**\n\t\t * @param oTable\n\t\t */\n\t\tconst handleTableModifications = (oTable: any) => {\n\t\t\tconst oBinding = this._getTableBinding(oTable),\n\t\t\t\tfnHandleTablePatchEvents = function () {\n\t\t\t\t\tTableHelper.enableFastCreationRow(\n\t\t\t\t\t\toTable.getCreationRow(),\n\t\t\t\t\t\toBinding.getPath(),\n\t\t\t\t\t\toBinding.getContext(),\n\t\t\t\t\t\toModel,\n\t\t\t\t\t\toFinalUIState\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\tif (!oBinding) {\n\t\t\t\tLog.error(`Expected binding missing for table: ${oTable.getId()}`);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (oBinding.oContext) {\n\t\t\t\tfnHandleTablePatchEvents();\n\t\t\t} else {\n\t\t\t\tconst fnHandleChange = function () {\n\t\t\t\t\tif (oBinding.oContext) {\n\t\t\t\t\t\tfnHandleTablePatchEvents();\n\t\t\t\t\t\toBinding.detachChange(fnHandleChange);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\toBinding.attachChange(fnHandleChange);\n\t\t\t}\n\t\t};\n\n\t\tif (bindingContext) {\n\t\t\toModel = bindingContext.getModel();\n\n\t\t\t// Compute Edit Mode\n\t\t\toFinalUIState = this.editFlow.computeEditMode(bindingContext);\n\n\t\t\tif (ModelHelper.isCollaborationDraftSupported(oModel.getMetaModel())) {\n\t\t\t\toFinalUIState\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (this.getView().getModel(\"ui\").getProperty(\"/isEditable\")) {\n\t\t\t\t\t\t\tconnect(this.getView());\n\t\t\t\t\t\t} else if (isConnected(this.getView())) {\n\t\t\t\t\t\t\tdisconnect(this.getView()); // Cleanup collaboration connection in case we switch to another element (e.g. in FCL)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\t\tLog.error(\"Error while waiting for the final UI State\", oError);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// update related apps\n\t\t\tthis._updateRelatedApps();\n\n\t\t\t//Attach the patch sent and patch completed event to the object page binding so that we can react\n\t\t\tconst oBinding = (bindingContext.getBinding && bindingContext.getBinding()) || bindingContext;\n\n\t\t\t// Attach the event handler only once to the same binding\n\t\t\tif (this.currentBinding !== oBinding) {\n\t\t\t\toBinding.attachEvent(\"patchSent\", {}, this.editFlow.handlePatchSent, this);\n\t\t\t\tthis.currentBinding = oBinding;\n\t\t\t}\n\n\t\t\taTables.forEach(function (oTable: any) {\n\t\t\t\t// access binding only after table is bound\n\t\t\t\tTableUtils.whenBound(oTable)\n\t\t\t\t\t.then(handleTableModifications)\n\t\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\t\tLog.error(\"Error while waiting for the table to be bound\", oError);\n\t\t\t\t\t});\n\t\t\t});\n\n\t\t\t// should be called only after binding is ready hence calling it in onAfterBinding\n\t\t\t(oObjectPage as any)._triggerVisibleSubSectionsEvents();\n\n\t\t\t//To Compute the Edit Binding of the subObject page using root object page, create a context for draft root and update the edit button in sub OP using the context\n\t\t\tActionRuntime.updateEditButtonVisibilityAndEnablement(this.getView());\n\t\t}\n\t\tthis.displayCollaborationMessage(mParameters?.redirectedToNonDraft);\n\t}\n\n\t/**\n\t * Show a message strip if a redirection to a non-draft element has been done.\n\t * Remove the message strip in case we navigate to another object page.\n\t *\n\t * @param entityName Name of the Entity to be displayed in the message\n\t * @private\n\t */\n\tdisplayCollaborationMessage(entityName: string | undefined) {\n\t\tconst resourceBundle = Core.getLibraryResourceBundle(\"sap.fe.core\");\n\n\t\tif (this.collaborationMessage) {\n\t\t\tCore.getMessageManager().removeMessages([this.collaborationMessage]);\n\t\t\tdelete this.collaborationMessage;\n\t\t}\n\n\t\tif (entityName) {\n\t\t\tthis.collaborationMessage = new Message({\n\t\t\t\tmessage: resourceBundle.getText(\"REROUTED_NAVIGATION_TO_SAVED_VERSION\", [entityName]),\n\t\t\t\ttype: \"Information\",\n\t\t\t\ttarget: this.getView()?.getBindingContext()?.getPath()\n\t\t\t});\n\t\t\tsap.ui.getCore().getMessageManager().addMessages([this.collaborationMessage]);\n\t\t}\n\t}\n\n\t@publicExtension()\n\t@extensible(OverrideExecution.After)\n\tonPageReady(mParameters: any) {\n\t\tconst setFocus = () => {\n\t\t\t// Set the focus to the first action button, or to the first editable input if in editable mode\n\t\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\t\tconst isInDisplayMode = !this.getView().getModel(\"ui\").getProperty(\"/isEditable\");\n\n\t\t\tif (isInDisplayMode) {\n\t\t\t\tconst oFirstClickableElement = this._getFirstClickableElement(oObjectPage);\n\t\t\t\tif (oFirstClickableElement) {\n\t\t\t\t\toFirstClickableElement.focus();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst oSelectedSection: any = Core.byId(oObjectPage.getSelectedSection());\n\t\t\t\tif (oSelectedSection) {\n\t\t\t\t\tthis._updateFocusInEditMode(oSelectedSection.getSubSections());\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst ctxt = this.getView().getBindingContext();\n\t\t// setting this model data to be used for recommendations binding\n\t\tthis.getView().getModel(\"internal\").setProperty(\"/currentCtxt\", ctxt);\n\n\t\t// Apply app state only after the page is ready with the first section selected\n\t\tconst oView = this.getView();\n\t\tconst oInternalModelContext = oView.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst oBindingContext = oView.getBindingContext();\n\t\t//Show popup while navigating back from object page in case of draft\n\t\tif (oBindingContext) {\n\t\t\tconst bIsStickyMode = ModelHelper.isStickySessionSupported((oBindingContext.getModel() as ODataModel).getMetaModel());\n\t\t\tif (!bIsStickyMode) {\n\t\t\t\tconst oAppComponent = CommonUtils.getAppComponent(oView);\n\t\t\t\toAppComponent.getShellServices().setBackNavigation(() => this._onBackNavigationInDraft(oBindingContext));\n\t\t\t}\n\t\t}\n\t\tconst viewId = this.getView().getId();\n\t\tthis.getAppComponent()\n\t\t\t.getAppStateHandler()\n\t\t\t.applyAppState(viewId, this.getView())\n\t\t\t.then(() => {\n\t\t\t\tif (mParameters.forceFocus) {\n\t\t\t\t\tsetFocus();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (Error) {\n\t\t\t\tLog.error(\"Error while setting the focus\", Error);\n\t\t\t});\n\n\t\toInternalModelContext.setProperty(\"errorNavigationSectionFlag\", false);\n\t\tthis._checkDataPointTitleForExternalNavigation();\n\t}\n\n\t/**\n\t * Get the status of edit mode for sticky session.\n\t *\n\t * @returns The status of edit mode for sticky session\n\t */\n\tgetStickyEditMode() {\n\t\tconst oBindingContext = this.getView().getBindingContext && (this.getView().getBindingContext() as Context);\n\t\tlet bIsStickyEditMode = false;\n\t\tif (oBindingContext) {\n\t\t\tconst bIsStickyMode = ModelHelper.isStickySessionSupported(oBindingContext.getModel().getMetaModel());\n\t\t\tif (bIsStickyMode) {\n\t\t\t\tbIsStickyEditMode = this.getView().getModel(\"ui\").getProperty(\"/isEditable\");\n\t\t\t}\n\t\t}\n\t\treturn bIsStickyEditMode;\n\t}\n\n\t_getObjectPageLayoutControl() {\n\t\treturn this.byId(\"fe::ObjectPage\") as ObjectPageLayout;\n\t}\n\n\t_getPageTitleInformation() {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\tconst oObjectPageSubtitle = oObjectPage.getCustomData().find(function (oCustomData: any) {\n\t\t\treturn oCustomData.getKey() === \"ObjectPageSubtitle\";\n\t\t});\n\t\treturn {\n\t\t\ttitle: oObjectPage.data(\"ObjectPageTitle\") || \"\",\n\t\t\tsubtitle: oObjectPageSubtitle && oObjectPageSubtitle.getValue(),\n\t\t\tintent: \"\",\n\t\t\ticon: \"\"\n\t\t};\n\t}\n\n\t_executeHeaderShortcut(sId: any) {\n\t\tconst sButtonId = `${this.getView().getId()}--${sId}`,\n\t\t\toButton = (this._getObjectPageLayoutControl().getHeaderTitle() as ObjectPageDynamicHeaderTitle)\n\t\t\t\t.getActions()\n\t\t\t\t.find(function (oElement: any) {\n\t\t\t\t\treturn oElement.getId() === sButtonId;\n\t\t\t\t});\n\t\tif (oButton) {\n\t\t\tCommonUtils.fireButtonPress(oButton);\n\t\t}\n\t}\n\n\t_executeFooterShortcut(sId: any) {\n\t\tconst sButtonId = `${this.getView().getId()}--${sId}`,\n\t\t\toButton = (this._getObjectPageLayoutControl().getFooter() as any).getContent().find(function (oElement: any) {\n\t\t\t\treturn oElement.getMetadata().getName() === \"sap.m.Button\" && oElement.getId() === sButtonId;\n\t\t\t});\n\t\tCommonUtils.fireButtonPress(oButton);\n\t}\n\n\t_executeTabShortCut(oExecution: any) {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl(),\n\t\t\taSections = oObjectPage.getSections(),\n\t\t\tiSectionIndexMax = aSections.length - 1,\n\t\t\tsCommand = oExecution.oSource.getCommand();\n\t\tlet newSection,\n\t\t\tiSelectedSectionIndex = oObjectPage.indexOfSection(this.byId(oObjectPage.getSelectedSection()) as ObjectPageSection);\n\t\tif (iSelectedSectionIndex !== -1 && iSectionIndexMax > 0) {\n\t\t\tif (sCommand === \"NextTab\") {\n\t\t\t\tif (iSelectedSectionIndex <= iSectionIndexMax - 1) {\n\t\t\t\t\tnewSection = aSections[++iSelectedSectionIndex];\n\t\t\t\t}\n\t\t\t} else if (iSelectedSectionIndex !== 0) {\n\t\t\t\t// PreviousTab\n\t\t\t\tnewSection = aSections[--iSelectedSectionIndex];\n\t\t\t}\n\n\t\t\tif (newSection) {\n\t\t\t\toObjectPage.setSelectedSection(newSection);\n\t\t\t\tnewSection.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\t_getFooterVisibility() {\n\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst sViewId = this.getView().getId();\n\t\toInternalModelContext.setProperty(\"messageFooterContainsErrors\", false);\n\t\tsap.ui\n\t\t\t.getCore()\n\t\t\t.getMessageManager()\n\t\t\t.getMessageModel()\n\t\t\t.getData()\n\t\t\t.forEach(function (oMessage: any) {\n\t\t\t\tif (oMessage.validation && oMessage.type === \"Error\" && oMessage.target.indexOf(sViewId) > -1) {\n\t\t\t\t\toInternalModelContext.setProperty(\"messageFooterContainsErrors\", true);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t_showMessagePopover(err?: any, oRet?: any) {\n\t\tif (err) {\n\t\t\tLog.error(err);\n\t\t}\n\t\tconst rootViewController = this.getAppComponent().getRootViewController() as any;\n\t\tconst currentPageView = rootViewController.isFclEnabled()\n\t\t\t? rootViewController.getRightmostView()\n\t\t\t: (this.getAppComponent().getRootContainer() as any).getCurrentPage();\n\t\tif (!currentPageView.isA(\"sap.m.MessagePage\")) {\n\t\t\tconst oMessageButton = this.messageButton,\n\t\t\t\toMessagePopover = oMessageButton.oMessagePopover,\n\t\t\t\toItemBinding = oMessagePopover.getBinding(\"items\");\n\n\t\t\tif (oItemBinding.getLength() > 0 && !oMessagePopover.isOpen()) {\n\t\t\t\toMessageButton.setVisible(true);\n\t\t\t\t// workaround to ensure that oMessageButton is rendered when openBy is called\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\toMessagePopover.openBy(oMessageButton);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\t\treturn oRet;\n\t}\n\n\t_editDocument(oContext: any) {\n\t\tconst oModel = this.getView().getModel(\"ui\");\n\t\tBusyLocker.lock(oModel);\n\t\treturn this.editFlow.editDocument.apply(this.editFlow, [oContext]).finally(function () {\n\t\t\tBusyLocker.unlock(oModel);\n\t\t});\n\t}\n\n\tasync _validateDocument(): Promise<void | any[] | ODataContextBinding> {\n\t\tconst appComponent = this.getAppComponent();\n\t\tconst control = Core.byId(Core.getCurrentFocusedControlId());\n\t\tconst context = control?.getBindingContext() as Context | undefined;\n\t\tif (context && !context.isTransient()) {\n\t\t\tconst sideEffectsService = appComponent.getSideEffectsService();\n\t\t\tconst entityType = sideEffectsService.getEntityTypeFromContext(context);\n\t\t\tconst globalSideEffects = entityType ? sideEffectsService.getGlobalODataEntitySideEffects(entityType) : [];\n\t\t\t// If there is at least one global SideEffects for the related entity, execute it/them\n\t\t\tif (globalSideEffects.length) {\n\t\t\t\tawait this.editFlow.syncTask();\n\t\t\t\treturn Promise.all(globalSideEffects.map((sideEffects) => this._sideEffects.requestSideEffects(sideEffects, context)));\n\t\t\t}\n\t\t\tconst draftRootContext = (await CommonUtils.createRootContext(ProgrammingModel.Draft, this.getView(), appComponent)) as Context;\n\t\t\t//Execute the draftValidation if there is no globalSideEffects (ignore ETags in collaboration draft)\n\t\t\tif (draftRootContext) {\n\t\t\t\tawait this.editFlow.syncTask();\n\t\t\t\treturn draft.executeDraftValidation(draftRootContext, appComponent, isConnected(this.getView()));\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tasync _saveDocument(oContext: any) {\n\t\tconst oModel = this.getView().getModel(\"ui\"),\n\t\t\taWaitCreateDocuments: any[] = [];\n\t\t// indicates if we are creating a new row in the OP\n\t\tlet bExecuteSideEffectsOnError = false;\n\t\tBusyLocker.lock(oModel);\n\t\tthis._findTables().forEach((oTable: any) => {\n\t\t\tconst oBinding = this._getTableBinding(oTable);\n\t\t\tconst mParameters: any = {\n\t\t\t\tcreationMode: oTable.data(\"creationMode\"),\n\t\t\t\tcreationRow: oTable.getCreationRow(),\n\t\t\t\tcreateAtEnd: oTable.data(\"createAtEnd\") === \"true\"\n\t\t\t};\n\t\t\tconst bCreateDocument =\n\t\t\t\tmParameters.creationRow &&\n\t\t\t\tmParameters.creationRow.getBindingContext() &&\n\t\t\t\tObject.keys(mParameters.creationRow.getBindingContext().getObject()).length > 1;\n\t\t\tif (bCreateDocument) {\n\t\t\t\t// the bSkipSideEffects is a parameter created when we click the save key. If we press this key\n\t\t\t\t// we don't execute the handleSideEffects funciton to avoid batch redundancy\n\t\t\t\tmParameters.bSkipSideEffects = true;\n\t\t\t\tbExecuteSideEffectsOnError = true;\n\t\t\t\taWaitCreateDocuments.push(\n\t\t\t\t\tthis.editFlow.createDocument(oBinding, mParameters).then(function () {\n\t\t\t\t\t\treturn oBinding;\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\ttry {\n\t\t\tconst aBindings = await Promise.all(aWaitCreateDocuments);\n\t\t\tconst mParameters = {\n\t\t\t\tbExecuteSideEffectsOnError: bExecuteSideEffectsOnError,\n\t\t\t\tbindings: aBindings\n\t\t\t};\n\t\t\t// We need to either reject or resolve a promise here and return it since this save\n\t\t\t// function is not only called when pressing the save button in the footer, but also\n\t\t\t// when the user selects create or save in a dataloss popup.\n\t\t\t// The logic of the dataloss popup needs to detect if the save had errors or not in order\n\t\t\t// to decide if the subsequent action - like a back navigation - has to be executed or not.\n\t\t\ttry {\n\t\t\t\tawait this.editFlow.saveDocument(oContext, mParameters);\n\t\t\t} catch (error: any) {\n\t\t\t\t// If the saveDocument in editFlow returns errors we need\n\t\t\t\t// to show the message popover here and ensure that the\n\t\t\t\t// dataloss logic does not perform the follow up function\n\t\t\t\t// like e.g. a back navigation hence we return a promise and reject it\n\t\t\t\tthis._showMessagePopover(error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t} finally {\n\t\t\tif (BusyLocker.isLocked(oModel)) {\n\t\t\t\tBusyLocker.unlock(oModel);\n\t\t\t}\n\t\t}\n\t}\n\n\t_cancelDocument(oContext: any, mParameters: any) {\n\t\tmParameters.cancelButton = this.getView().byId(mParameters.cancelButton); //to get the reference of the cancel button from command execution\n\t\treturn this.editFlow.cancelDocument(oContext, mParameters);\n\t}\n\n\t_applyDocument(oContext: Context) {\n\t\treturn this.editFlow.applyDocument(oContext).catch(() => this._showMessagePopover());\n\t}\n\n\t_updateRelatedApps() {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\tconst showRelatedApps = oObjectPage.data(\"showRelatedApps\");\n\t\tif (showRelatedApps === \"true\" || showRelatedApps === true) {\n\t\t\tconst appComponent = CommonUtils.getAppComponent(this.getView());\n\t\t\tCommonUtils.updateRelatedAppsDetails(oObjectPage, appComponent);\n\t\t}\n\t}\n\n\t_findControlInSubSection(aParentElement: any, aSubsection: any, aControls: any, bIsChart?: boolean) {\n\t\tfor (let element = 0; element < aParentElement.length; element++) {\n\t\t\tlet oElement = aParentElement[element].getContent instanceof Function && aParentElement[element].getContent();\n\t\t\tif (bIsChart) {\n\t\t\t\tif (oElement && oElement.mAggregations && oElement.getAggregation(\"items\")) {\n\t\t\t\t\tconst aItems = oElement.getAggregation(\"items\");\n\t\t\t\t\taItems.forEach(function (oItem: any) {\n\t\t\t\t\t\tif (oItem.isA(\"sap.fe.macros.chart.ChartAPI\")) {\n\t\t\t\t\t\t\toElement = oItem;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.ui.layout.DynamicSideContent\")) {\n\t\t\t\toElement = oElement.getMainContent instanceof Function && oElement.getMainContent();\n\t\t\t\tif (oElement && oElement.length > 0) {\n\t\t\t\t\toElement = oElement[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// The table may currently be shown in a full screen dialog, we can then get the reference to the TableAPI\n\t\t\t// control from the custom data of the place holder panel\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.m.Panel\") && oElement.data(\"FullScreenTablePlaceHolder\")) {\n\t\t\t\toElement = oElement.data(\"tableAPIreference\");\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.fe.macros.table.TableAPI\")) {\n\t\t\t\toElement = oElement.getContent instanceof Function && oElement.getContent();\n\t\t\t\tif (oElement && oElement.length > 0) {\n\t\t\t\t\toElement = oElement[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.ui.mdc.Table\")) {\n\t\t\t\taControls.push(oElement);\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.fe.macros.chart.ChartAPI\")) {\n\t\t\t\toElement = oElement.getContent instanceof Function && oElement.getContent();\n\t\t\t\tif (oElement && oElement.length > 0) {\n\t\t\t\t\toElement = oElement[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oElement && oElement.isA && oElement.isA(\"sap.ui.mdc.Chart\")) {\n\t\t\t\taControls.push(oElement);\n\t\t\t}\n\t\t}\n\t}\n\n\t_getAllSubSections() {\n\t\tconst oObjectPage = this._getObjectPageLayoutControl();\n\t\tlet aSubSections: any[] = [];\n\t\toObjectPage.getSections().forEach(function (oSection: any) {\n\t\t\taSubSections = aSubSections.concat(oSection.getSubSections());\n\t\t});\n\t\treturn aSubSections;\n\t}\n\n\t_getAllBlocks() {\n\t\tlet aBlocks: any[] = [];\n\t\tthis._getAllSubSections().forEach(function (oSubSection: any) {\n\t\t\taBlocks = aBlocks.concat(oSubSection.getBlocks());\n\t\t});\n\t\treturn aBlocks;\n\t}\n\n\t_findTables() {\n\t\tconst aSubSections = this._getAllSubSections();\n\t\tconst aTables: any[] = [];\n\t\tfor (let subSection = 0; subSection < aSubSections.length; subSection++) {\n\t\t\tthis._findControlInSubSection(aSubSections[subSection].getBlocks(), aSubSections[subSection], aTables);\n\t\t\tthis._findControlInSubSection(aSubSections[subSection].getMoreBlocks(), aSubSections[subSection], aTables);\n\t\t}\n\t\treturn aTables;\n\t}\n\n\t_findCharts() {\n\t\tconst aSubSections = this._getAllSubSections();\n\t\tconst aCharts: any[] = [];\n\t\tfor (let subSection = 0; subSection < aSubSections.length; subSection++) {\n\t\t\tthis._findControlInSubSection(aSubSections[subSection].getBlocks(), aSubSections[subSection], aCharts, true);\n\t\t\tthis._findControlInSubSection(aSubSections[subSection].getMoreBlocks(), aSubSections[subSection], aCharts, true);\n\t\t}\n\t\treturn aCharts;\n\t}\n\n\t_closeSideContent() {\n\t\tthis._getAllBlocks().forEach(function (oBlock: any) {\n\t\t\tconst oContent = oBlock.getContent instanceof Function && oBlock.getContent();\n\t\t\tif (oContent && oContent.isA && oContent.isA(\"sap.ui.layout.DynamicSideContent\")) {\n\t\t\t\tif (oContent.setShowSideContent instanceof Function) {\n\t\t\t\t\toContent.setShowSideContent(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Chart Context is resolved for 1:n microcharts.\n\t *\n\t * @param oChartContext The Context of the MicroChart\n\t * @param sChartPath The collectionPath of the the chart\n\t * @returns Array of Attributes of the chart Context\n\t */\n\t_getChartContextData(oChartContext: any, sChartPath: string) {\n\t\tconst oContextData = oChartContext.getObject();\n\t\tlet oChartContextData = [oContextData];\n\t\tif (oChartContext && sChartPath) {\n\t\t\tif (oContextData[sChartPath]) {\n\t\t\t\toChartContextData = oContextData[sChartPath];\n\t\t\t\tdelete oContextData[sChartPath];\n\t\t\t\toChartContextData.push(oContextData);\n\t\t\t}\n\t\t}\n\t\treturn oChartContextData;\n\t}\n\n\t/**\n\t * Scroll the tables to the row with the sPath\n\t *\n\t * @function\n\t * @name sap.fe.templates.ObjectPage.ObjectPageController.controller#_scrollTablesToRow\n\t * @param {string} sRowPath 'sPath of the table row'\n\t */\n\n\t_scrollTablesToRow(sRowPath: string) {\n\t\tif (this._findTables && this._findTables().length > 0) {\n\t\t\tconst aTables = this._findTables();\n\t\t\tfor (let i = 0; i < aTables.length; i++) {\n\t\t\t\tTableScroller.scrollTableToRow(aTables[i], sRowPath);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Method to merge selected contexts and filters.\n\t *\n\t * @function\n\t * @name _mergeMultipleContexts\n\t * @param oPageContext Page context\n\t * @param aLineContext Selected Contexts\n\t * @param sChartPath Collection name of the chart\n\t * @returns Selection Variant Object\n\t */\n\t_mergeMultipleContexts(oPageContext: Context, aLineContext: any[], sChartPath: string) {\n\t\tlet aAttributes: any[] = [],\n\t\t\taPageAttributes = [],\n\t\t\toContext,\n\t\t\tsMetaPathLine: string,\n\t\t\tsPathLine;\n\n\t\tconst sPagePath = oPageContext.getPath();\n\t\tconst oMetaModel = oPageContext && oPageContext.getModel() && oPageContext.getModel().getMetaModel();\n\t\tconst sMetaPathPage = oMetaModel && oMetaModel.getMetaPath(sPagePath).replace(/^\\/*/, \"\");\n\n\t\t// Get single line context if necessary\n\t\tif (aLineContext && aLineContext.length) {\n\t\t\toContext = aLineContext[0];\n\t\t\tsPathLine = oContext.getPath();\n\t\t\tsMetaPathLine = oMetaModel && oMetaModel.getMetaPath(sPathLine).replace(/^\\/*/, \"\");\n\n\t\t\taLineContext.forEach((oSingleContext: any) => {\n\t\t\t\tif (sChartPath) {\n\t\t\t\t\tconst oChartContextData = this._getChartContextData(oSingleContext, sChartPath);\n\t\t\t\t\tif (oChartContextData) {\n\t\t\t\t\t\taAttributes = oChartContextData.map(function (oSubChartContextData: any) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tcontextData: oSubChartContextData,\n\t\t\t\t\t\t\t\tentitySet: `${sMetaPathPage}/${sChartPath}`\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\taAttributes.push({\n\t\t\t\t\t\tcontextData: oSingleContext.getObject(),\n\t\t\t\t\t\tentitySet: sMetaPathLine\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\taPageAttributes.push({\n\t\t\tcontextData: oPageContext.getObject(),\n\t\t\tentitySet: sMetaPathPage\n\t\t});\n\t\t// Adding Page Context to selection variant\n\t\taPageAttributes = this._intentBasedNavigation.removeSensitiveData(aPageAttributes, sMetaPathPage);\n\t\tconst oPageLevelSV = CommonUtils.addPageContextToSelectionVariant(new SelectionVariant(), aPageAttributes, this.getView());\n\t\taAttributes = this._intentBasedNavigation.removeSensitiveData(aAttributes, sMetaPathPage);\n\t\treturn {\n\t\t\tselectionVariant: oPageLevelSV,\n\t\t\tattributes: aAttributes\n\t\t};\n\t}\n\n\t_getBatchGroupsForView() {\n\t\tconst oViewData = this.getView().getViewData() as any,\n\t\t\toConfigurations = oViewData.controlConfiguration,\n\t\t\taConfigurations = oConfigurations && Object.keys(oConfigurations),\n\t\t\taBatchGroups = [\"$auto.Heroes\", \"$auto.Decoration\", \"$auto.Workers\"];\n\n\t\tif (aConfigurations && aConfigurations.length > 0) {\n\t\t\taConfigurations.forEach(function (sKey: any) {\n\t\t\t\tconst oConfiguration = oConfigurations[sKey];\n\t\t\t\tif (oConfiguration.requestGroupId === \"LongRunners\") {\n\t\t\t\t\taBatchGroups.push(\"$auto.LongRunners\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn aBatchGroups;\n\t}\n\n\t/*\n\t * Reset Breadcrumb links\n\t *\n\t * @function\n\t * @param {sap.m.Breadcrumbs} [oSource] parent control\n\t * @description Used when context of the object page changes.\n\t *              This event callback is attached to modelContextChange\n\t *              event of the Breadcrumb control to catch context change.\n\t *              Then element binding and hrefs are updated for each link.\n\t *\n\t * @ui5-restricted\n\t * @experimental\n\t */\n\tasync _setBreadcrumbLinks(oSource: BreadCrumbs) {\n\t\tconst oContext = oSource.getBindingContext(),\n\t\t\toAppComponent = this.getAppComponent(),\n\t\t\taPromises: Promise<void>[] = [],\n\t\t\taSkipParameterized: any[] = [],\n\t\t\tsNewPath = oContext?.getPath(),\n\t\t\taPathParts = sNewPath?.split(\"/\") ?? [],\n\t\t\toMetaModel = oAppComponent && oAppComponent.getMetaModel();\n\t\tlet sPath = \"\";\n\t\ttry {\n\t\t\taPathParts.shift();\n\t\t\taPathParts.splice(-1, 1);\n\t\t\taPathParts.forEach(function (sPathPart: any) {\n\t\t\t\tsPath += `/${sPathPart}`;\n\t\t\t\tconst oRootViewController = oAppComponent.getRootViewController();\n\t\t\t\tconst sParameterPath = oMetaModel.getMetaPath(sPath);\n\t\t\t\tconst bResultContext = oMetaModel.getObject(`${sParameterPath}/@com.sap.vocabularies.Common.v1.ResultContext`);\n\t\t\t\tif (bResultContext) {\n\t\t\t\t\t// We dont need to create a breadcrumb for Parameter path\n\t\t\t\t\taSkipParameterized.push(1);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\taSkipParameterized.push(0);\n\t\t\t\t}\n\t\t\t\taPromises.push(oRootViewController.getTitleInfoFromPath(sPath));\n\t\t\t});\n\t\t\tconst titleHierarchyInfos: any[] = await Promise.all(aPromises);\n\t\t\tlet idx, hierarchyPosition, oLink;\n\t\t\tfor (const titleHierarchyInfo of titleHierarchyInfos) {\n\t\t\t\thierarchyPosition = titleHierarchyInfos.indexOf(titleHierarchyInfo);\n\t\t\t\tidx = hierarchyPosition - aSkipParameterized[hierarchyPosition];\n\t\t\t\toLink = oSource.getLinks()[idx] ? oSource.getLinks()[idx] : new Link();\n\t\t\t\t//sCurrentEntity is a fallback value in case of empty title\n\t\t\t\toLink.setText(titleHierarchyInfo.subtitle || titleHierarchyInfo.title);\n\t\t\t\t//We apply an additional encodeURI in case of special characters (ie \"/\") used in the url through the semantic keys\n\t\t\t\toLink.setHref(encodeURI(titleHierarchyInfo.intent));\n\t\t\t\tif (!oSource.getLinks()[idx]) {\n\t\t\t\t\toSource.addLink(oLink);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error: any) {\n\t\t\tLog.error(\"Error while setting the breadcrumb links:\" + error);\n\t\t}\n\t}\n\n\t_checkDataPointTitleForExternalNavigation() {\n\t\tconst oView = this.getView();\n\t\tconst oInternalModelContext = oView.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst oDataPoints = CommonUtils.getHeaderFacetItemConfigForExternalNavigation(\n\t\t\toView.getViewData() as Record<string, unknown>,\n\t\t\tthis.getAppComponent().getRoutingService().getOutbounds()\n\t\t);\n\t\tconst oShellServices = this.getAppComponent().getShellServices();\n\t\tconst oPageContext = oView && (oView.getBindingContext() as Context);\n\t\toInternalModelContext.setProperty(\"isHeaderDPLinkVisible\", {});\n\t\tif (oPageContext) {\n\t\t\toPageContext\n\t\t\t\t.requestObject()\n\t\t\t\t.then(function (oData: any) {\n\t\t\t\t\tfnGetLinks(oDataPoints, oData);\n\t\t\t\t})\n\t\t\t\t.catch(function (oError: any) {\n\t\t\t\t\tLog.error(\"Cannot retrieve the links from the shell service\", oError);\n\t\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * @param oError\n\t\t */\n\t\tfunction fnOnError(oError: any) {\n\t\t\tLog.error(oError);\n\t\t}\n\n\t\tfunction fnSetLinkEnablement(id: string, aSupportedLinks: any) {\n\t\t\tconst sLinkId = id;\n\t\t\t// process viable links from getLinks for all datapoints having outbound\n\t\t\tif (aSupportedLinks && aSupportedLinks.length === 1 && aSupportedLinks[0].supported) {\n\t\t\t\toInternalModelContext.setProperty(`isHeaderDPLinkVisible/${sLinkId}`, true);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * @param oSubDataPoints\n\t\t * @param oPageData\n\t\t */\n\t\tfunction fnGetLinks(oSubDataPoints: any, oPageData: any) {\n\t\t\tfor (const sId in oSubDataPoints) {\n\t\t\t\tconst oDataPoint = oSubDataPoints[sId];\n\t\t\t\tconst oParams: any = {};\n\t\t\t\tconst oLink = oView.byId(sId);\n\t\t\t\tif (!oLink) {\n\t\t\t\t\t// for data points configured in app descriptor but not annotated in the header\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst oLinkContext = oLink.getBindingContext();\n\t\t\t\tconst oLinkData: any = oLinkContext && oLinkContext.getObject();\n\t\t\t\tlet oMixedContext: any = merge({}, oPageData, oLinkData);\n\t\t\t\t// process semantic object mappings\n\t\t\t\tif (oDataPoint.semanticObjectMapping) {\n\t\t\t\t\tconst aSemanticObjectMapping = oDataPoint.semanticObjectMapping;\n\t\t\t\t\tfor (const item in aSemanticObjectMapping) {\n\t\t\t\t\t\tconst oMapping = aSemanticObjectMapping[item];\n\t\t\t\t\t\tconst sMainProperty = oMapping[\"LocalProperty\"][\"$PropertyPath\"];\n\t\t\t\t\t\tconst sMappedProperty = oMapping[\"SemanticObjectProperty\"];\n\t\t\t\t\t\tif (sMainProperty !== sMappedProperty) {\n\t\t\t\t\t\t\tif (oMixedContext.hasOwnProperty(sMainProperty)) {\n\t\t\t\t\t\t\t\tconst oNewMapping: any = {};\n\t\t\t\t\t\t\t\toNewMapping[sMappedProperty] = oMixedContext[sMainProperty];\n\t\t\t\t\t\t\t\toMixedContext = merge({}, oMixedContext, oNewMapping);\n\t\t\t\t\t\t\t\tdelete oMixedContext[sMainProperty];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (oMixedContext) {\n\t\t\t\t\tfor (const sKey in oMixedContext) {\n\t\t\t\t\t\tif (sKey.indexOf(\"_\") !== 0 && sKey.indexOf(\"odata.context\") === -1) {\n\t\t\t\t\t\t\toParams[sKey] = oMixedContext[sKey];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// validate if a link must be rendered\n\t\t\t\toShellServices\n\t\t\t\t\t.isNavigationSupported([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\tsemanticObject: oDataPoint.semanticObject,\n\t\t\t\t\t\t\t\taction: oDataPoint.action\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tparams: oParams\n\t\t\t\t\t\t}\n\t\t\t\t\t])\n\t\t\t\t\t.then((aLinks) => {\n\t\t\t\t\t\treturn fnSetLinkEnablement(sId, aLinks);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(fnOnError);\n\t\t\t}\n\t\t}\n\t}\n\n\thandlers = {\n\t\t/**\n\t\t * Invokes the page primary action on press of Ctrl+Enter.\n\t\t *\n\t\t * @param oController The page controller\n\t\t * @param oView\n\t\t * @param oContext Context for which the action is called\n\t\t * @param sActionName The name of the action to be called\n\t\t * @param [mParameters] Contains the following attributes:\n\t\t * @param [mParameters.contexts] Mandatory for a bound action, either one context or an array with contexts for which the action is called\n\t\t * @param [mParameters.model] Mandatory for an unbound action; an instance of an OData V4 model\n\t\t * @param [mConditions] Contains the following attributes:\n\t\t * @param [mConditions.positiveActionVisible] The visibility of sematic positive action\n\t\t * @param [mConditions.positiveActionEnabled] The enablement of semantic positive action\n\t\t * @param [mConditions.editActionVisible] The Edit button visibility\n\t\t * @param [mConditions.editActionEnabled] The enablement of Edit button\n\t\t * @ui5-restricted\n\t\t * @final\n\t\t */\n\t\tonPrimaryAction(\n\t\t\toController: ObjectPageController,\n\t\t\toView: FEView,\n\t\t\toContext: Context,\n\t\t\tsActionName: string,\n\t\t\tmParameters: unknown,\n\t\t\tmConditions: {\n\t\t\t\tpositiveActionVisible: boolean;\n\t\t\t\tpositiveActionEnabled: boolean;\n\t\t\t\teditActionVisible: boolean;\n\t\t\t\teditActionEnabled: boolean;\n\t\t\t}\n\t\t) {\n\t\t\tconst iViewLevel = (oController.getView().getViewData() as any).viewLevel;\n\t\t\tif (mConditions.positiveActionVisible) {\n\t\t\t\tif (mConditions.positiveActionEnabled) {\n\t\t\t\t\toController.handlers.onCallAction(oView, sActionName, mParameters);\n\t\t\t\t}\n\t\t\t} else if (mConditions.editActionVisible) {\n\t\t\t\tif (mConditions.editActionEnabled) {\n\t\t\t\t\toController._editDocument(oContext);\n\t\t\t\t}\n\t\t\t} else if (iViewLevel === 1 && oView.getModel(\"ui\").getProperty(\"/isEditable\")) {\n\t\t\t\toController._saveDocument(oContext);\n\t\t\t} else if (oView.getModel(\"ui\").getProperty(\"/isEditable\")) {\n\t\t\t\toController._applyDocument(oContext);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Manages the context change event on the tables.\n\t\t * The focus is set if this change is related to an editFlow action and\n\t\t * an event is fired on the objectPage messageButton.\n\t\t *\n\t\t * @param this The objectPage controller\n\t\t * @param event The UI5 event\n\t\t */\n\t\tasync onTableContextChange(this: ObjectPageController, event: UI5Event) {\n\t\t\tconst tableAPI = event.getSource() as TableAPI;\n\t\t\tconst table = tableAPI.content as Table;\n\t\t\tconst currentActionPromise = this.editFlow.getCurrentActionPromise();\n\t\t\tconst tableContexts = this._getTableBinding(table)?.getCurrentContexts() as Context[] | undefined;\n\n\t\t\tif (currentActionPromise && tableContexts?.length) {\n\t\t\t\ttry {\n\t\t\t\t\tconst actionResponse = await currentActionPromise;\n\t\t\t\t\tif (actionResponse?.controlId === table.getId()) {\n\t\t\t\t\t\tconst actionData = actionResponse.oData;\n\t\t\t\t\t\tconst keys = actionResponse.keys;\n\t\t\t\t\t\tconst newItem = tableContexts.findIndex((tableContext: Context) => {\n\t\t\t\t\t\t\tconst tableData = tableContext.getObject();\n\t\t\t\t\t\t\treturn keys.every((key: string) => tableData[key] === actionData[key]);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (newItem !== -1) {\n\t\t\t\t\t\t\tconst dialog = InstanceManager.getOpenDialogs().find((dialog) => dialog.data(\"FullScreenDialog\") !== true);\n\t\t\t\t\t\t\tif (dialog) {\n\t\t\t\t\t\t\t\t// by design, a sap.m.dialog set the focus to the previous focused element when closing.\n\t\t\t\t\t\t\t\t// we should wait for the dialog to be closed before set the focus to another element\n\t\t\t\t\t\t\t\tdialog.attachEventOnce(\"afterClose\", () => {\n\t\t\t\t\t\t\t\t\ttable.focusRow(newItem, true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttable.focusRow(newItem, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.editFlow.deleteCurrentActionPromise();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tLog.error(`An error occurs while scrolling to the newly created Item: ${e}`);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// fire ModelContextChange on the message button whenever the table context changes\n\t\t\tthis.messageButton.fireModelContextChange();\n\t\t},\n\n\t\t/**\n\t\t * Invokes an action - bound/unbound and sets the page dirty.\n\t\t *\n\t\t * @param oView\n\t\t * @param sActionName The name of the action to be called\n\t\t * @param [mParameters] Contains the following attributes:\n\t\t * @param [mParameters.contexts] Mandatory for a bound action, either one context or an array with contexts for which the action is called\n\t\t * @param [mParameters.model] Mandatory for an unbound action; an instance of an OData V4 model\n\t\t * @returns The action promise\n\t\t * @ui5-restricted\n\t\t * @final\n\t\t */\n\t\tonCallAction(oView: any, sActionName: string, mParameters: any) {\n\t\t\tconst oController = oView.getController();\n\t\t\treturn oController.editFlow\n\t\t\t\t.invokeAction(sActionName, mParameters)\n\t\t\t\t.then(oController._showMessagePopover.bind(oController, undefined))\n\t\t\t\t.catch(oController._showMessagePopover.bind(oController));\n\t\t},\n\t\tonDataPointTitlePressed(oController: any, oSource: any, oManifestOutbound: any, sControlConfig: any, sCollectionPath: any) {\n\t\t\toManifestOutbound = typeof oManifestOutbound === \"string\" ? JSON.parse(oManifestOutbound) : oManifestOutbound;\n\t\t\tconst oTargetInfo = oManifestOutbound[sControlConfig],\n\t\t\t\taSemanticObjectMapping = CommonUtils.getSemanticObjectMapping(oTargetInfo),\n\t\t\t\toDataPointOrChartBindingContext = oSource.getBindingContext(),\n\t\t\t\tsMetaPath = oDataPointOrChartBindingContext\n\t\t\t\t\t.getModel()\n\t\t\t\t\t.getMetaModel()\n\t\t\t\t\t.getMetaPath(oDataPointOrChartBindingContext.getPath());\n\t\t\tlet aNavigationData = oController._getChartContextData(oDataPointOrChartBindingContext, sCollectionPath);\n\t\t\tlet additionalNavigationParameters;\n\n\t\t\taNavigationData = aNavigationData.map(function (oNavigationData: any) {\n\t\t\t\treturn {\n\t\t\t\t\tdata: oNavigationData,\n\t\t\t\t\tmetaPath: sMetaPath + (sCollectionPath ? `/${sCollectionPath}` : \"\")\n\t\t\t\t};\n\t\t\t});\n\t\t\tif (oTargetInfo && oTargetInfo.parameters) {\n\t\t\t\tconst oParams = oTargetInfo.parameters && oController._intentBasedNavigation.getOutboundParams(oTargetInfo.parameters);\n\t\t\t\tif (Object.keys(oParams).length > 0) {\n\t\t\t\t\tadditionalNavigationParameters = oParams;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (oTargetInfo && oTargetInfo.semanticObject && oTargetInfo.action) {\n\t\t\t\toController._intentBasedNavigation.navigate(oTargetInfo.semanticObject, oTargetInfo.action, {\n\t\t\t\t\tnavigationContexts: aNavigationData,\n\t\t\t\t\tsemanticObjectMapping: aSemanticObjectMapping,\n\t\t\t\t\tadditionalNavigationParameters: additionalNavigationParameters\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Triggers an outbound navigation when a user chooses the chevron.\n\t\t *\n\t\t * @param oController\n\t\t * @param sOutboundTarget Name of the outbound target (needs to be defined in the manifest)\n\t\t * @param oContext The context that contains the data for the target app\n\t\t * @param sCreatePath Create path when the chevron is created.\n\t\t * @returns Promise which is resolved once the navigation is triggered (??? maybe only once finished?)\n\t\t * @ui5-restricted\n\t\t * @final\n\t\t */\n\t\tonChevronPressNavigateOutBound(oController: ObjectPageController, sOutboundTarget: string, oContext: any, sCreatePath: string) {\n\t\t\treturn oController._intentBasedNavigation.onChevronPressNavigateOutBound(oController, sOutboundTarget, oContext, sCreatePath);\n\t\t},\n\n\t\tonNavigateChange(this: ObjectPageController, oEvent: any) {\n\t\t\t//will be called always when we click on a section tab\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\tthis.bSectionNavigated = true;\n\n\t\t\tconst oInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\t\tif (\n\t\t\t\tthis.getView().getModel(\"ui\").getProperty(\"/isEditable\") &&\n\t\t\t\t(this.getView().getViewData() as any).sectionLayout === \"Tabs\" &&\n\t\t\t\toInternalModelContext.getProperty(\"errorNavigationSectionFlag\") === false\n\t\t\t) {\n\t\t\t\tconst oSubSection = oEvent.getParameter(\"subSection\");\n\t\t\t\tthis._updateFocusInEditMode([oSubSection]);\n\t\t\t}\n\t\t},\n\t\tonVariantSelected: function (this: ObjectPageController) {\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t},\n\t\tonVariantSaved: function (this: ObjectPageController) {\n\t\t\t//TODO: Should remove this setTimeOut once Variant Management provides an api to fetch the current variant key on save\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t\t}, 2000);\n\t\t},\n\t\tnavigateToSubSection: function (oController: ObjectPageController, vDetailConfig: any) {\n\t\t\tconst oDetailConfig = typeof vDetailConfig === \"string\" ? JSON.parse(vDetailConfig) : vDetailConfig;\n\t\t\tconst oObjectPage = oController.getView().byId(\"fe::ObjectPage\") as ObjectPageLayout;\n\t\t\tlet oSection;\n\t\t\tlet oSubSection;\n\t\t\tif (oDetailConfig.sectionId) {\n\t\t\t\toSection = oController.getView().byId(oDetailConfig.sectionId) as ObjectPageSection;\n\t\t\t\toSubSection = (\n\t\t\t\t\toDetailConfig.subSectionId\n\t\t\t\t\t\t? oController.getView().byId(oDetailConfig.subSectionId)\n\t\t\t\t\t\t: oSection && oSection.getSubSections() && oSection.getSubSections()[0]\n\t\t\t\t) as ObjectPageSubSection;\n\t\t\t} else if (oDetailConfig.subSectionId) {\n\t\t\t\toSubSection = oController.getView().byId(oDetailConfig.subSectionId) as ObjectPageSubSection;\n\t\t\t\toSection = oSubSection && (oSubSection.getParent() as ObjectPageSection);\n\t\t\t}\n\t\t\tif (!oSection || !oSubSection || !oSection.getVisible() || !oSubSection.getVisible()) {\n\t\t\t\tconst sTitle = getResourceModel(oController).getText(\n\t\t\t\t\t\"C_ROUTING_NAVIGATION_DISABLED_TITLE\",\n\t\t\t\t\tundefined,\n\t\t\t\t\t(oController.getView().getViewData() as any).entitySet\n\t\t\t\t);\n\t\t\t\tLog.error(sTitle);\n\t\t\t\tMessageBox.error(sTitle);\n\t\t\t} else {\n\t\t\t\toObjectPage.scrollToSection(oSubSection.getId());\n\t\t\t\t// trigger iapp state change\n\t\t\t\toObjectPage.fireNavigate({\n\t\t\t\t\tsection: oSection,\n\t\t\t\t\tsubSection: oSubSection\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tonStateChange(this: ObjectPageController) {\n\t\t\tthis.getExtensionAPI().updateAppState();\n\t\t},\n\t\tcloseOPMessageStrip: function (this: ObjectPageController) {\n\t\t\tthis.getExtensionAPI().hideMessage();\n\t\t}\n\t};\n}\n\nexport default ObjectPageController;\n"],"mappings":"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"}},{"offset":{"line":4621,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","merge","ActionRuntime","CommonUtils","BusyLocker","ActivitySync","draft","IntentBasedNavigation","InternalIntentBasedNavigation","InternalRouting","MassEdit","MessageHandler","PageReady","Paginator","Placeholder","Share","ViewState","ClassSupport","ModelHelper","ResourceModelHelper","FELibrary","PageController","CommonHelper","DelegateUtil","TableHelper","TableUtils","SelectionVariant","ExtensionAPI","TableScroller","InstanceManager","Link","MessageBox","Core","Message","OverrideExecution","ODataListBinding","IntentBasedNavigationOverride","InternalRoutingOverride","MessageHandlerOverride","PaginatorOverride","ShareOverrides","ViewStateOverrides","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","getResourceModel","usingExtension","publicExtension","finalExtension","extensible","defineUI5Class","isConnected","disconnect","connect","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","ProgrammingModel","ObjectPageController","override","getNavigationMode","bIsStickyEditMode","this","getView","getController","getStickyEditMode","isContextExpected","After","_PageController","_this","_len","arguments","length","args","Array","_key","handlers","onPrimaryAction","oController","oView","oContext","sActionName","mParameters","mConditions","iViewLevel","getViewData","viewLevel","positiveActionVisible","positiveActionEnabled","onCallAction","editActionVisible","editActionEnabled","_editDocument","getModel","getProperty","_saveDocument","_applyDocument","async","event","_this$_getTableBindin","tableAPI","getSource","table","content","currentActionPromise","editFlow","getCurrentActionPromise","tableContexts","_getTableBinding","getCurrentContexts","actionResponse","controlId","getId","actionData","oData","newItem","findIndex","tableContext","tableData","getObject","every","dialog","getOpenDialogs","find","data","attachEventOnce","focusRow","deleteCurrentActionPromise","e","error","messageButton","fireModelContextChange","invokeAction","then","_showMessagePopover","catch","onDataPointTitlePressed","oSource","oManifestOutbound","sControlConfig","sCollectionPath","JSON","parse","oTargetInfo","aSemanticObjectMapping","getSemanticObjectMapping","oDataPointOrChartBindingContext","getBindingContext","sMetaPath","getMetaModel","getMetaPath","getPath","aNavigationData","_getChartContextData","additionalNavigationParameters","map","oNavigationData","metaPath","parameters","oParams","_intentBasedNavigation","getOutboundParams","semanticObject","action","navigate","navigationContexts","semanticObjectMapping","onChevronPressNavigateOutBound","sOutboundTarget","sCreatePath","onNavigateChange","oEvent","getExtensionAPI","updateAppState","bSectionNavigated","oInternalModelContext","sectionLayout","oSubSection","getParameter","_updateFocusInEditMode","onVariantSelected","onVariantSaved","setTimeout","navigateToSubSection","vDetailConfig","oDetailConfig","oObjectPage","byId","oSection","sectionId","subSectionId","getSubSections","getParent","getVisible","sTitle","getText","entitySet","scrollToSection","fireNavigate","section","subSection","onStateChange","closeOPMessageStrip","hideMessage","_proto","sId","mCustomSectionExtensionAPIs","extensionAPI","onInit","_getObjectPageLayoutControl","setProperty","page","visibility","items","_getBatchGroupsForView","getEnableLazyLoading","attachEvent","_handleSubSectionEnteredViewPort","oItemBinding","attachChange","_fnShowOPMessage","onExit","destroy","oMessagePopover","isOpen","close","isKeepAlive","setKeepAlive","view","messages","getItems","item","filter","message","_view$getBindingConte","getTargets","showMessages","oTable","getRowBinding","checkSectionsForNonResponsiveTable","subSections","changeClassForTables","lastVisibleSubSection","_this$searchTableInBl","blocks","getBlocks","getMoreBlocks","tableType","searchTableInBlock","getType","isA","addStyleClass","detachEvent","subSectionIndex","block","control","onBeforeRendering","_this$oView$oViewData","apply","oViewData","retrieveTextFromValueList","setMetaModel","getAppComponent","onAfterRendering","getUseIconTabBar","sections","getSections","_getAllSubSections","_onBeforeBinding","aTables","_findTables","oInternalModel","aBatchGroups","oFastCreationRow","push","bDraftNavigation","_closeSideContent","opContext","hasPendingChanges","some","getBinding","resetChanges","i","getCreationRow","setBindingContext","fnScrollToPresentSection","isFirstRendering","bPersistOPScroll","setSelectedSection","oDelegateOnBefore","addEventDelegate","pageReady","removeEventDelegate","oBinding","listBinding","oPaginatorCurrentContext","oBindingToUse","paginator","initialize","sBindingPath","test","sListBindingPath","replace","oModel","_setListBindingAsync","getContexts","aSections","bUseIconTabBar","iSkip","bIsInEditMode","bEditableHeader","editableHeaderContent","iSection","aSubSections","iSubSection","isVisibilityDynamic","placeholder","isPlaceholderEnabled","showPlaceholder","oNavContainer","oContainer","_getFirstClickableElement","oFirstClickableElement","aActions","getHeaderTitle","getActions","oAction","getEnabled","_getFirstEmptyMandatoryFieldFromSubSection","aBlocks","aFormContainers","getFormContainers","getContent","formContainer","aFormElements","getFormElements","formElement","aFields","getFields","getRequired","getValue","debug","oMandatoryField","oFieldToFocus","getContentEdit","_getFirstEditableInput","focus","_onBackNavigationInDraft","messageHandler","removeTransitionMessages","getRouterProxy","checkIfBackHasSameContext","history","back","processDataLossOrDraftDiscardConfirmation","Function","NavigationType","BackNavigation","_onAfterBinding","inputBindingContext","_this$getView","_this$getView$getView","currentContext","_sideEffects","clearFieldGroupsValidity","bindingContext","aIBNActions","getIBNActions","oTableRowBinding","isStickySessionSupported","removeCachesAndMessages","oActionOperationAvailableMap","parseCustomData","getCustomData","setActionEnablement","clearSelection","getSemanticTargetsFromPageModel","oObjectPageTitle","aIBNHeaderActions","concat","updateDataFieldForIBNButtonsVisibility","oFinalUIState","handleTableModifications","fnHandleTablePatchEvents","enableFastCreationRow","getContext","fnHandleChange","detachChange","computeEditMode","isCollaborationDraftSupported","oError","_updateRelatedApps","currentBinding","handlePatchSent","whenBound","_triggerVisibleSubSectionsEvents","updateEditButtonVisibilityAndEnablement","displayCollaborationMessage","redirectedToNonDraft","entityName","resourceBundle","getLibraryResourceBundle","collaborationMessage","getMessageManager","removeMessages","_this$getView2","_this$getView2$getBin","type","getCore","addMessages","onPageReady","setFocus","isInDisplayMode","oSelectedSection","getSelectedSection","ctxt","oBindingContext","bIsStickyMode","oAppComponent","getShellServices","setBackNavigation","viewId","getAppStateHandler","applyAppState","forceFocus","_checkDataPointTitleForExternalNavigation","_getPageTitleInformation","oObjectPageSubtitle","oCustomData","getKey","title","subtitle","intent","icon","_executeHeaderShortcut","sButtonId","oButton","oElement","fireButtonPress","_executeFooterShortcut","getFooter","getMetadata","getName","_executeTabShortCut","oExecution","iSectionIndexMax","sCommand","getCommand","newSection","iSelectedSectionIndex","indexOfSection","_getFooterVisibility","sViewId","getMessageModel","getData","oMessage","validation","indexOf","err","oRet","rootViewController","getRootViewController","currentPageView","isFclEnabled","getRightmostView","getRootContainer","getCurrentPage","oMessageButton","getLength","setVisible","openBy","lock","editDocument","finally","unlock","_validateDocument","appComponent","getCurrentFocusedControlId","isTransient","sideEffectsService","getSideEffectsService","entityType","getEntityTypeFromContext","globalSideEffects","getGlobalODataEntitySideEffects","syncTask","Promise","all","sideEffects","requestSideEffects","draftRootContext","createRootContext","Draft","executeDraftValidation","aWaitCreateDocuments","bExecuteSideEffectsOnError","creationMode","creationRow","createAtEnd","bCreateDocument","bSkipSideEffects","createDocument","aBindings","bindings","saveDocument","isLocked","_cancelDocument","cancelButton","cancelDocument","applyDocument","showRelatedApps","updateRelatedAppsDetails","_findControlInSubSection","aParentElement","aSubsection","aControls","bIsChart","element","mAggregations","getAggregation","aItems","oItem","getMainContent","_getAllBlocks","_findCharts","aCharts","oBlock","oContent","setShowSideContent","oChartContext","sChartPath","oContextData","oChartContextData","_scrollTablesToRow","sRowPath","scrollTableToRow","_mergeMultipleContexts","oPageContext","aLineContext","aAttributes","aPageAttributes","sMetaPathLine","sPathLine","sPagePath","oMetaModel","sMetaPathPage","oSingleContext","oSubChartContextData","contextData","removeSensitiveData","oPageLevelSV","addPageContextToSelectionVariant","selectionVariant","attributes","oConfigurations","controlConfiguration","aConfigurations","sKey","oConfiguration","requestGroupId","_setBreadcrumbLinks","aPromises","aSkipParameterized","sNewPath","aPathParts","split","sPath","shift","splice","sPathPart","oRootViewController","sParameterPath","bResultContext","getTitleInfoFromPath","titleHierarchyInfos","idx","hierarchyPosition","oLink","titleHierarchyInfo","getLinks","setText","setHref","encodeURI","addLink","oDataPoints","getHeaderFacetItemConfigForExternalNavigation","getRoutingService","getOutbounds","oShellServices","requestObject","fnGetLinks","fnOnError","fnSetLinkEnablement","id","aSupportedLinks","sLinkId","supported","oSubDataPoints","oPageData","oDataPoint","oLinkContext","oLinkData","oMixedContext","oMapping","sMainProperty","sMappedProperty","hasOwnProperty","oNewMapping","isNavigationSupported","params","aLinks","getOwnPropertyDescriptor"],"sources":["ObjectPageController-dbg.controller.js"],"mappings":"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","sourceRoot":"ObjectPage"}},{"offset":{"line":4626,"column":0},"map":{"version":3,"names":["ButtonType","mLibrary","getExpressionForTitle","fullContextPath","viewData","headerInfo","getTitleBindingExpression","getTextBindingExpression","undefined","getExpressionForDescription","oHeaderInfo","pathInModel","getExpressionFromAnnotation","Description","Value","$target","annotations","Common","Text","UI","TextArrangement","addTextArrangementToBindingExpression","compileExpression","formatValueRecursively","getExpressionForSaveButton","oViewData","saveButtonText","resourceModel","getText","createButtonText","saveExpression","startingEntitySet","Session","StickySessionSupported","ifElse","IsCreateMode","Draft","IsNewObject","isManifestAction","oAction","aActions","indexOf","type","buildEmphasizedButtonExpression","dataContextPath","identification","targetEntityType","Identification","dataFieldsWithCriticality","filter","dataField","$Type","Criticality","dataFieldsBindingExpressions","length","map","criticalityVisibleBindingExpression","and","not","equal","Hidden","or","constant","Default","Emphasized","getElementBinding","sPath","sNavigationPath","ODataModelAnnotationHelper","getNavigationPath","checkDraftState","oAnnotations","getSwitchToActiveVisibility","getSwitchToDraftVisibility","getSwitchDraftAndActiveVisibility","_findAction","aConverterContextHeaderActions","sActionType","find","oHeaderAction","getDeleteCommandExecutionEnabled","oDeleteAction","enabled","getDeleteCommandExecutionVisible","visible","getEditCommandExecutionVisible","oEditAction","getEditCommandExecutionEnabled","getEditAction","oEntitySet","getPath","aPaths","split","rootEntitySetPath","rootEntitySetAnnnotations","getObject","bDraftRoot","hasOwnProperty","bDraftNode","bStickySession","sActionName","isReadOnlyFromStaticAnnotations","oFieldControl","bComputed","bImmutable","bReadOnly","Bool","readOnlyExpressionFromDynamicAnnotations","sIsFieldControlPathReadOnly","ManagedObject","bindingParser","getExpressionForMicroChartTitlePress","oConfiguration","oManifestOutbound","sCollectionName","JSON","stringify","getMicroChartTitleAsLink","oControlConfiguration","getGroupIdFromConfig","oConfigurations","sAnnotationPath","sDefaultGroupId","aAutoPatterns","sGroupId","requestGroupId","some","autoPattern","getBindingWithGroupIdFromConfig","sKey","sBinding","doesFieldGroupContainOnlyOneMultiLineDataField","aFormElements","isValueMultilineText","getVisibleExpressionForBreadcrumbs","showBreadCrumbs","fclEnabled","getShareButtonVisibility","sShareButtonVisibilityExp","isShareButtonVisibleForMyInbox","getVisiblityOfHeaderInfo","oTitleAnnotations","oDescriptionAnnotations","oFieldTitleFieldControl","oFieldDescriptionFieldControl","bIsTitleReadOnly","titleExpression","bIsDescriptionReadOnly","descriptionExpression","combineTitleAndDescriptionExpression","oTitleFieldControl","oDescriptionFieldControl","getPressExpressionForDelete","entitySet","oInterface","sDeletableContexts","sTitle","sDescription","esContext","context","contextPath","contextPathParts","ModelHelper","filterOutNavPropBinding","sEntitySetName","getModel","join","oParams","title","entitySetName","CommonHelper","addSingleQuotes","description","generateFunction","objectToString","requiresIContext","getPressExpressionForEdit","oDataField","sEditableContexts","Action","sDataFieldEnumMember","InvocationGrouping","sInvocationGroup","contexts","invocationGrouping","model","label","Label","isNavigable","defaultValuesExtensionFunction","getPressExpressionForFooterAnnotationAction","sActionContexts","getPressExpressionForPrimaryAction","positiveActionVisible","positiveActionEnabled","editActionVisible","editActionEnabled","oConditions","getStashableHBoxBinding","oHeaderFacet","Facet","targetAnnotationType","targetAnnotationValue","getPressExpressionForLink","getHeaderFormHboxRenderType","targetObject","getDefaultActionHandler","oCtx","oDataFieldForDefaultAction","defaultActionContextOrEntitySet","defaultAction","command","press","noWrap","buildActionWrapper","id","ioEx","isVisualizationIsPartOfPreview","subSection","isPartOfPreview","presentation","visualizations"],"sourceRoot":"ObjectPage","sources":["ObjectPageTemplating.ts"],"sourcesContent":["// Formatters for the Object Page\nimport { EntitySet } from \"@sap-ux/vocabularies-types\";\nimport type { DataFieldForAction, DataFieldTypes, HeaderInfoType } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { UIAnnotationTypes } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { BaseAction, CustomAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport { DataVisualizationSubSection } from \"sap/fe/core/converters/controls/ObjectPage/SubSection\";\nimport { Draft, UI } from \"sap/fe/core/converters/helpers/BindingHelper\";\nimport {\n\tand,\n\tBindingToolkitExpression,\n\tCompiledBindingToolkitExpression,\n\tcompileExpression,\n\tconstant,\n\tequal,\n\tgetExpressionFromAnnotation,\n\tifElse,\n\tnot,\n\tor\n} from \"sap/fe/core/helpers/BindingToolkit\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { getTitleBindingExpression } from \"sap/fe/core/helpers/TitleHelper\";\nimport { ViewData } from \"sap/fe/core/services/TemplatedViewServiceFactory\";\nimport type { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { ComputedAnnotationInterface } from \"sap/fe/core/templating/UIFormatters\";\nimport CommonHelper from \"sap/fe/macros/CommonHelper\";\nimport {\n\taddTextArrangementToBindingExpression,\n\tformatValueRecursively,\n\tgetTextBindingExpression\n} from \"sap/fe/macros/field/FieldTemplating\";\nimport mLibrary from \"sap/m/library\";\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport ODataModelAnnotationHelper from \"sap/ui/model/odata/v4/AnnotationHelper\";\nimport type Context from \"sap/ui/model/odata/v4/Context\";\n\nconst ButtonType = mLibrary.ButtonType;\n\nexport const getExpressionForTitle = function (\n\tfullContextPath: DataModelObjectPath,\n\tviewData: ViewData,\n\theaderInfo?: HeaderInfoType\n): CompiledBindingToolkitExpression {\n\treturn getTitleBindingExpression(fullContextPath, getTextBindingExpression, undefined, headerInfo, viewData);\n};\n\n/**\n * Retrieves the expression for the description of an object page.\n *\n * @param fullContextPath The full context path used to reach that object page\n * @param oHeaderInfo The @UI.HeaderInfo annotation content\n * @param oHeaderInfo.Description\n * @returns The binding expression for the object page description\n */\nexport const getExpressionForDescription = function (\n\tfullContextPath: DataModelObjectPath,\n\toHeaderInfo?: HeaderInfoType\n): CompiledBindingToolkitExpression {\n\tlet pathInModel = getExpressionFromAnnotation((oHeaderInfo?.Description as DataFieldTypes)?.Value);\n\tif ((oHeaderInfo?.Description as DataFieldTypes)?.Value?.$target?.annotations?.Common?.Text?.annotations?.UI?.TextArrangement) {\n\t\t// In case an explicit text arrangement was set we make use of it in the description as well\n\t\tpathInModel = addTextArrangementToBindingExpression(pathInModel, fullContextPath);\n\t}\n\n\treturn compileExpression(formatValueRecursively(pathInModel, fullContextPath));\n};\n\n/**\n * Return the expression for the save button.\n *\n * @param oViewData The current view data\n * @param fullContextPath The path used up until here\n * @returns The binding expression that shows the right save button text\n */\nexport const getExpressionForSaveButton = function (\n\toViewData: ViewData,\n\tfullContextPath: DataModelObjectPath\n): CompiledBindingToolkitExpression {\n\tconst saveButtonText = oViewData.resourceModel.getText(\"T_OP_OBJECT_PAGE_SAVE\");\n\tconst createButtonText = oViewData.resourceModel.getText(\"T_OP_OBJECT_PAGE_CREATE\");\n\tlet saveExpression;\n\n\tif ((fullContextPath.startingEntitySet as EntitySet).annotations.Session?.StickySessionSupported) {\n\t\t// If we're in sticky mode AND the ui is in create mode, show Create, else show Save\n\t\tsaveExpression = ifElse(UI.IsCreateMode, createButtonText, saveButtonText);\n\t} else {\n\t\t// If we're in draft AND the draft is a new object (!IsActiveEntity && !HasActiveEntity), show create, else show save\n\t\tsaveExpression = ifElse(Draft.IsNewObject, createButtonText, saveButtonText);\n\t}\n\treturn compileExpression(saveExpression);\n};\n\n/**\n * Method returns Whether the action type is manifest or not.\n *\n * @function\n * @name isManifestAction\n * @param oAction The action object\n * @returns `true` if action is coming from manifest, `false` otherwise\n */\nexport const isManifestAction = function (oAction: any): oAction is CustomAction {\n\tconst aActions = [\n\t\t\"Primary\",\n\t\t\"DefaultApply\",\n\t\t\"Secondary\",\n\t\t\"ForAction\",\n\t\t\"ForNavigation\",\n\t\t\"SwitchToActiveObject\",\n\t\t\"SwitchToDraftObject\",\n\t\t\"DraftActions\",\n\t\t\"Copy\"\n\t];\n\treturn aActions.indexOf(oAction.type) < 0;\n};\n\n/**\n * Returns a compiled expression to determine Emphasized  button type based on Criticality across all actions\n * If critical action is rendered, its considered to be the primary action. Hence template's default primary action is set back to Default.\n *\n * @function\n * @static\n * @name sap.fe.templates.ObjectPage.ObjectPageTemplating.buildEmphasizedButtonExpression\n * @memberof sap.fe.templates.ObjectPage.ObjectPageTemplating\n * @param dataContextPath The dataModelObjectPath related to the context\n * @returns An expression to deduce if button type is Default or Emphasized\n * @private\n * @ui5-restricted\n */\nexport const buildEmphasizedButtonExpression = function (dataContextPath: DataModelObjectPath) {\n\tconst identification = dataContextPath.targetEntityType?.annotations?.UI?.Identification;\n\tconst dataFieldsWithCriticality =\n\t\tidentification?.filter((dataField) => dataField.$Type === UIAnnotationTypes.DataFieldForAction && dataField.Criticality) || [];\n\n\tconst dataFieldsBindingExpressions = dataFieldsWithCriticality.length\n\t\t? dataFieldsWithCriticality.map((dataField) => {\n\t\t\t\tconst criticalityVisibleBindingExpression = getExpressionFromAnnotation(dataField.Criticality);\n\t\t\t\treturn and(\n\t\t\t\t\tnot(equal(getExpressionFromAnnotation(dataField.annotations?.UI?.Hidden), true)),\n\t\t\t\t\tor(\n\t\t\t\t\t\tequal(criticalityVisibleBindingExpression, \"UI.CriticalityType/Negative\"),\n\t\t\t\t\t\tequal(criticalityVisibleBindingExpression, \"1\"),\n\t\t\t\t\t\tequal(criticalityVisibleBindingExpression as BindingToolkitExpression<number>, 1),\n\t\t\t\t\t\tequal(criticalityVisibleBindingExpression, \"UI.CriticalityType/Positive\"),\n\t\t\t\t\t\tequal(criticalityVisibleBindingExpression, \"3\"),\n\t\t\t\t\t\tequal(criticalityVisibleBindingExpression as BindingToolkitExpression<number>, 3)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t  })\n\t\t: ([constant(false)] as BindingToolkitExpression<boolean>[]);\n\n\t// If there is at least one visible dataField with criticality negative or positive, the type is set as Default\n\t// else it is emphasized\n\treturn compileExpression(ifElse(or(...dataFieldsBindingExpressions), ButtonType.Default, ButtonType.Emphasized));\n};\n\nexport const getElementBinding = function (sPath: any) {\n\tconst sNavigationPath = ODataModelAnnotationHelper.getNavigationPath(sPath);\n\tif (sNavigationPath) {\n\t\treturn \"{path:'\" + sNavigationPath + \"'}\";\n\t} else {\n\t\t//no navigation property needs empty object\n\t\treturn \"{path: ''}\";\n\t}\n};\n\n/**\n * Function to check if draft pattern is supported.\n *\n * @param oAnnotations Annotations of the current entity set.\n * @returns Returns the Boolean value based on draft state\n */\nexport const checkDraftState = function (oAnnotations: any) {\n\tif (\n\t\toAnnotations[\"@com.sap.vocabularies.Common.v1.DraftRoot\"] &&\n\t\toAnnotations[\"@com.sap.vocabularies.Common.v1.DraftRoot\"][\"EditAction\"]\n\t) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/**\n * Function to get the visibility for the SwitchToActive button in the object page or subobject page.\n *\n * @param oAnnotations Annotations of the current entity set.\n * @returns Returns expression binding or Boolean value based on the draft state\n */\nexport const getSwitchToActiveVisibility = function (oAnnotations: any): any {\n\tif (checkDraftState(oAnnotations)) {\n\t\treturn \"{= (%{DraftAdministrativeData/DraftIsCreatedByMe}) ? ( ${ui>/isEditable} && !${ui>createMode} && %{DraftAdministrativeData/DraftIsCreatedByMe} ) : false }\";\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/**\n * Function to get the visibility for the SwitchToDraft button in the object page or subobject page.\n *\n * @param oAnnotations Annotations of the current entity set.\n * @returns Returns expression binding or Boolean value based on the draft state\n */\nexport const getSwitchToDraftVisibility = function (oAnnotations: any): any {\n\tif (checkDraftState(oAnnotations)) {\n\t\treturn \"{= (%{DraftAdministrativeData/DraftIsCreatedByMe}) ? ( !(${ui>/isEditable}) && !${ui>createMode} && ${HasDraftEntity} && %{DraftAdministrativeData/DraftIsCreatedByMe} ) : false }\";\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/**\n * Function to get the visibility for the SwitchDraftAndActive button in the object page or subobject page.\n *\n * @param oAnnotations Annotations of the current entity set.\n * @returns Returns expression binding or Boolean value based on the draft state\n */\nexport const getSwitchDraftAndActiveVisibility = function (oAnnotations: any): any {\n\tif (checkDraftState(oAnnotations)) {\n\t\treturn \"{= (%{DraftAdministrativeData/DraftIsCreatedByMe}) ? ( !${ui>createMode} && %{DraftAdministrativeData/DraftIsCreatedByMe} ) : false }\";\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/**\n * Function to find an action from the array of header actions in the converter context.\n *\n * @param aConverterContextHeaderActions Array of 'header' actions on the object page.\n * @param sActionType The action type\n * @returns The action with the matching action type\n * @private\n */\nexport const _findAction = function (aConverterContextHeaderActions: any[], sActionType: string) {\n\tlet oAction;\n\tif (aConverterContextHeaderActions && aConverterContextHeaderActions.length) {\n\t\toAction = aConverterContextHeaderActions.find(function (oHeaderAction: any) {\n\t\t\treturn oHeaderAction.type === sActionType;\n\t\t});\n\t}\n\treturn oAction;\n};\n\n/**\n * Function to format the 'enabled' property for the Delete button on the object page or subobject page in case of a Command Execution.\n *\n * @param aConverterContextHeaderActions Array of header actions on the object page\n * @returns Returns expression binding or Boolean value from the converter output\n */\nexport const getDeleteCommandExecutionEnabled = function (aConverterContextHeaderActions: any[]) {\n\tconst oDeleteAction = _findAction(aConverterContextHeaderActions, \"Secondary\");\n\treturn oDeleteAction ? oDeleteAction.enabled : \"true\";\n};\n\n/**\n * Function to format the 'visible' property for the Delete button on the object page or subobject page in case of a Command Execution.\n *\n * @param aConverterContextHeaderActions Array of header actions on the object page\n * @returns Returns expression binding or Boolean value from the converter output\n */\nexport const getDeleteCommandExecutionVisible = function (aConverterContextHeaderActions: any[]) {\n\tconst oDeleteAction = _findAction(aConverterContextHeaderActions, \"Secondary\");\n\treturn oDeleteAction ? oDeleteAction.visible : \"true\";\n};\n\n/**\n * Function to format the 'visible' property for the Edit button on the object page or subobject page in case of a Command Execution.\n *\n * @param aConverterContextHeaderActions Array of header actions on the object page\n * @returns Returns expression binding or Boolean value from the converter output\n */\nexport const getEditCommandExecutionVisible = function (aConverterContextHeaderActions: any[]) {\n\tconst oEditAction = _findAction(aConverterContextHeaderActions, \"Primary\");\n\treturn oEditAction ? oEditAction.visible : \"false\";\n};\n\n/**\n * Function to format the 'enabled' property for the Edit button on the object page or subobject page in case of a Command Execution.\n *\n * @param aConverterContextHeaderActions Array of header actions on the object page\n * @returns Returns expression binding or Boolean value from the converter output\n */\nexport const getEditCommandExecutionEnabled = function (aConverterContextHeaderActions: any[]) {\n\tconst oEditAction = _findAction(aConverterContextHeaderActions, \"Primary\");\n\treturn oEditAction ? oEditAction.enabled : \"false\";\n};\n\n/**\n * Function to get the EditAction from the based on a draft-enabled application or a sticky application.\n *\n * @param [oEntitySet] The value from the expression.\n * @returns Returns expression binding or Boolean value based on vRawValue & oDraftNode\n */\nexport const getEditAction = function (oEntitySet: Context) {\n\tconst sPath = oEntitySet.getPath();\n\tconst aPaths = sPath.split(\"/\");\n\tconst rootEntitySetPath = \"/\" + aPaths[1];\n\t// get the edit action from root entity sets\n\tconst rootEntitySetAnnnotations = oEntitySet.getObject(rootEntitySetPath + \"@\");\n\tconst bDraftRoot = rootEntitySetAnnnotations.hasOwnProperty(\"@com.sap.vocabularies.Common.v1.DraftRoot\");\n\tconst bDraftNode = rootEntitySetAnnnotations.hasOwnProperty(\"@com.sap.vocabularies.Common.v1.DraftNode\");\n\tconst bStickySession = rootEntitySetAnnnotations.hasOwnProperty(\"@com.sap.vocabularies.Session.v1.StickySessionSupported\");\n\tlet sActionName;\n\tif (bDraftRoot) {\n\t\tsActionName = oEntitySet.getObject(`${rootEntitySetPath}@com.sap.vocabularies.Common.v1.DraftRoot/EditAction`);\n\t} else if (bDraftNode) {\n\t\tsActionName = oEntitySet.getObject(`${rootEntitySetPath}@com.sap.vocabularies.Common.v1.DraftNode/EditAction`);\n\t} else if (bStickySession) {\n\t\tsActionName = oEntitySet.getObject(`${rootEntitySetPath}@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction`);\n\t}\n\treturn !sActionName ? sActionName : `${rootEntitySetPath}/${sActionName}`;\n};\n\nexport const isReadOnlyFromStaticAnnotations = function (oAnnotations: any, oFieldControl: any) {\n\tlet bComputed, bImmutable, bReadOnly;\n\tif (oAnnotations && oAnnotations[\"@Org.OData.Core.V1.Computed\"]) {\n\t\tbComputed = oAnnotations[\"@Org.OData.Core.V1.Computed\"].Bool ? oAnnotations[\"@Org.OData.Core.V1.Computed\"].Bool == \"true\" : true;\n\t}\n\tif (oAnnotations && oAnnotations[\"@Org.OData.Core.V1.Immutable\"]) {\n\t\tbImmutable = oAnnotations[\"@Org.OData.Core.V1.Immutable\"].Bool ? oAnnotations[\"@Org.OData.Core.V1.Immutable\"].Bool == \"true\" : true;\n\t}\n\tbReadOnly = bComputed || bImmutable;\n\n\tif (oFieldControl) {\n\t\tbReadOnly = bReadOnly || oFieldControl == \"com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly\";\n\t}\n\tif (bReadOnly) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const readOnlyExpressionFromDynamicAnnotations = function (oFieldControl: any) {\n\tlet sIsFieldControlPathReadOnly;\n\tif (oFieldControl) {\n\t\tif ((ManagedObject as any).bindingParser(oFieldControl)) {\n\t\t\tsIsFieldControlPathReadOnly = \"%\" + oFieldControl + \" === 1 \";\n\t\t}\n\t}\n\tif (sIsFieldControlPathReadOnly) {\n\t\treturn \"{= \" + sIsFieldControlPathReadOnly + \"? false : true }\";\n\t} else {\n\t\treturn undefined;\n\t}\n};\n\n/*\n * Function to get the expression for chart Title Press\n *\n * @functionw\n * @param {oConfiguration} [oConfigurations] control configuration from manifest\n *  @param {oManifest} [oManifest] Outbounds from manifest\n * returns {String} [sCollectionName] Collection Name of the Micro Chart\n *\n * returns {String} [Expression] Handler Expression for the title press\n *\n */\nexport const getExpressionForMicroChartTitlePress = function (oConfiguration: any, oManifestOutbound: any, sCollectionName: any) {\n\tif (oConfiguration) {\n\t\tif (\n\t\t\t(oConfiguration[\"targetOutbound\"] && oConfiguration[\"targetOutbound\"][\"outbound\"]) ||\n\t\t\t(oConfiguration[\"targetOutbound\"] && oConfiguration[\"targetOutbound\"][\"outbound\"] && oConfiguration[\"targetSections\"])\n\t\t) {\n\t\t\treturn (\n\t\t\t\t\".handlers.onDataPointTitlePressed($controller, ${$source>/},'\" +\n\t\t\t\tJSON.stringify(oManifestOutbound) +\n\t\t\t\t\"','\" +\n\t\t\t\toConfiguration[\"targetOutbound\"][\"outbound\"] +\n\t\t\t\t\"','\" +\n\t\t\t\tsCollectionName +\n\t\t\t\t\"' )\"\n\t\t\t);\n\t\t} else if (oConfiguration[\"targetSections\"]) {\n\t\t\treturn \".handlers.navigateToSubSection($controller, '\" + JSON.stringify(oConfiguration[\"targetSections\"]) + \"')\";\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n};\n\n/*\n * Function to render Chart Title as Link\n *\n * @function\n * @param {oControlConfiguration} [oConfigurations] control configuration from manifest\n * returns {String} [sKey] For the TargetOutbound and TargetSection\n *\n */\nexport const getMicroChartTitleAsLink = function (oControlConfiguration: any) {\n\tif (\n\t\toControlConfiguration &&\n\t\t(oControlConfiguration[\"targetOutbound\"] || (oControlConfiguration[\"targetOutbound\"] && oControlConfiguration[\"targetSections\"]))\n\t) {\n\t\treturn \"External\";\n\t} else if (oControlConfiguration && oControlConfiguration[\"targetSections\"]) {\n\t\treturn \"InPage\";\n\t} else {\n\t\treturn \"None\";\n\t}\n};\n\n/* Get groupId from control configuration\n *\n * @function\n * @param {Object} [oConfigurations] control configuration from manifest\n * @param {String} [sAnnotationPath] Annotation Path for the configuration\n * @description Used to get the groupId for DataPoints and MicroCharts in the Header.\n *\n */\nexport const getGroupIdFromConfig = function (oConfigurations: any, sAnnotationPath: any, sDefaultGroupId?: any) {\n\tconst oConfiguration = oConfigurations[sAnnotationPath],\n\t\taAutoPatterns = [\"Heroes\", \"Decoration\", \"Workers\", \"LongRunners\"];\n\tlet sGroupId = sDefaultGroupId;\n\tif (\n\t\toConfiguration &&\n\t\toConfiguration.requestGroupId &&\n\t\taAutoPatterns.some(function (autoPattern: string) {\n\t\t\treturn autoPattern === oConfiguration.requestGroupId;\n\t\t})\n\t) {\n\t\tsGroupId = \"$auto.\" + oConfiguration.requestGroupId;\n\t}\n\treturn sGroupId;\n};\n\n/*\n * Get Context Binding with groupId from control configuration\n *\n * @function\n * @param {Object} [oConfigurations] control configuration from manifest\n * @param {String} [sKey] Annotation Path for of the configuration\n * @description Used to get the binding for DataPoints in the Header.\n *\n */\nexport const getBindingWithGroupIdFromConfig = function (oConfigurations: any, sKey: any) {\n\tconst sGroupId = getGroupIdFromConfig(oConfigurations, sKey);\n\tlet sBinding;\n\tif (sGroupId) {\n\t\tsBinding = \"{ path : '', parameters : { $$groupId : '\" + sGroupId + \"' } }\";\n\t}\n\treturn sBinding;\n};\n\n/**\n * Method to check whether a FieldGroup consists of only 1 DataField with MultiLine Text annotation.\n *\n * @param aFormElements A collection of form elements used in the current field group\n * @returns Returns true if only 1 data field with Multiline Text annotation exists.\n */\nexport const doesFieldGroupContainOnlyOneMultiLineDataField = function (aFormElements: any[]) {\n\treturn aFormElements && aFormElements.length === 1 && !!aFormElements[0].isValueMultilineText;\n};\n\n/*\n * Get visiblity of breadcrumbs.\n *\n * @function\n * @param {Object} [oViewData] ViewData model\n * returns {*} Expression or Boolean value\n */\nexport const getVisibleExpressionForBreadcrumbs = function (oViewData: any) {\n\treturn oViewData.showBreadCrumbs && oViewData.fclEnabled !== undefined ? \"{fclhelper>/breadCrumbIsVisible}\" : oViewData.showBreadCrumbs;\n};\n\n/**\n *\n * @param viewData Specifies the ViewData model\n * @returns Expression or Boolean value\n */\nexport const getShareButtonVisibility = function (viewData: any) {\n\tlet sShareButtonVisibilityExp = \"!${ui>createMode}\";\n\tif (viewData.fclEnabled) {\n\t\tsShareButtonVisibilityExp = \"${fclhelper>/showShareIcon} && \" + sShareButtonVisibilityExp;\n\t}\n\tif (viewData.isShareButtonVisibleForMyInbox === false) {\n\t\treturn \"false\";\n\t}\n\treturn \"{= \" + sShareButtonVisibilityExp + \" }\";\n};\n\n/*\n * Gets the visibility of the header info in edit mode\n *\n * If either the title or description field from the header annotations are editable, then the\n * editable header info is visible.\n *\n * @function\n * @param {object} [oAnnotations] Annotations object for given entity set\n * @param {object} [oFieldControl] field control\n * returns {*}  binding expression or boolean value resolved form funcitons isReadOnlyFromStaticAnnotations and isReadOnlyFromDynamicAnnotations\n */\nexport const getVisiblityOfHeaderInfo = function (\n\toTitleAnnotations: any,\n\toDescriptionAnnotations: any,\n\toFieldTitleFieldControl: any,\n\toFieldDescriptionFieldControl: any\n) {\n\t// Check Annotations for Title Field\n\t// Set to true and don't take into account, if there are no annotations, i.e. no title exists\n\tconst bIsTitleReadOnly = oTitleAnnotations ? isReadOnlyFromStaticAnnotations(oTitleAnnotations, oFieldTitleFieldControl) : true;\n\tconst titleExpression = readOnlyExpressionFromDynamicAnnotations(oFieldTitleFieldControl);\n\t// There is no expression and the title is not ready only, this is sufficient for an editable header\n\tif (!bIsTitleReadOnly && !titleExpression) {\n\t\treturn true;\n\t}\n\n\t// Check Annotations for Description Field\n\t// Set to true and don't take into account, if there are no annotations, i.e. no description exists\n\tconst bIsDescriptionReadOnly = oDescriptionAnnotations\n\t\t? isReadOnlyFromStaticAnnotations(oDescriptionAnnotations, oFieldDescriptionFieldControl)\n\t\t: true;\n\tconst descriptionExpression = readOnlyExpressionFromDynamicAnnotations(oFieldDescriptionFieldControl);\n\t// There is no expression and the description is not ready only, this is sufficient for an editable header\n\tif (!bIsDescriptionReadOnly && !descriptionExpression) {\n\t\treturn true;\n\t}\n\n\t// Both title and description are not editable and there are no dynamic annotations\n\tif (bIsTitleReadOnly && bIsDescriptionReadOnly && !titleExpression && !descriptionExpression) {\n\t\treturn false;\n\t}\n\n\t// Now combine expressions\n\tif (titleExpression && !descriptionExpression) {\n\t\treturn titleExpression;\n\t} else if (!titleExpression && descriptionExpression) {\n\t\treturn descriptionExpression;\n\t} else {\n\t\treturn combineTitleAndDescriptionExpression(oFieldTitleFieldControl, oFieldDescriptionFieldControl);\n\t}\n};\n\nexport const combineTitleAndDescriptionExpression = function (oTitleFieldControl: any, oDescriptionFieldControl: any) {\n\t// If both header and title field are based on dynmaic field control, the editable header\n\t// is visible if at least one of these is not ready only\n\treturn \"{= %\" + oTitleFieldControl + \" === 1 ? ( %\" + oDescriptionFieldControl + \" === 1 ? false : true ) : true }\";\n};\n\n/*\n * Get Expression of press event of delete button.\n *\n * @function\n * @param {string} [sEntitySetName] Entity set name\n * returns {string}  binding expression / function string generated from commanhelper's function generateFunction\n */\nexport const getPressExpressionForDelete = function (entitySet: Object, oInterface: ComputedAnnotationInterface): string {\n\tconst sDeletableContexts = \"${$view>/getBindingContext}\",\n\t\tsTitle = \"${$view>/#fe::ObjectPage/getHeaderTitle/getExpandedHeading/getItems/1/getText}\",\n\t\tsDescription = \"${$view>/#fe::ObjectPage/getHeaderTitle/getExpandedContent/0/getItems/0/getText}\";\n\tconst esContext = oInterface && oInterface.context;\n\tconst contextPath = esContext.getPath();\n\tconst contextPathParts = contextPath.split(\"/\").filter(ModelHelper.filterOutNavPropBinding);\n\tconst sEntitySetName =\n\t\tcontextPathParts.length > 1 ? esContext.getModel().getObject(`/${contextPathParts.join(\"/\")}@sapui.name`) : contextPathParts[0];\n\tconst oParams = {\n\t\ttitle: sTitle,\n\t\tentitySetName: CommonHelper.addSingleQuotes(sEntitySetName),\n\t\tdescription: sDescription\n\t};\n\treturn CommonHelper.generateFunction(\".editFlow.deleteDocument\", sDeletableContexts, CommonHelper.objectToString(oParams));\n};\n\ngetPressExpressionForDelete.requiresIContext = true;\n\n/*\n * Get Expression of press event of Edit button.\n *\n * @function\n * @param {object} [oDataField] Data field object\n * @param {string} [sEntitySetName] Entity set name\n * @param {object} [oHeaderAction] Header action object\n * returns {string}  binding expression / function string generated from commanhelper's function generateFunction\n */\nexport const getPressExpressionForEdit = function (oDataField: any, sEntitySetName: any, oHeaderAction: any) {\n\tconst sEditableContexts = CommonHelper.addSingleQuotes(oDataField && oDataField.Action),\n\t\tsDataFieldEnumMember = oDataField && oDataField.InvocationGrouping && oDataField.InvocationGrouping[\"$EnumMember\"],\n\t\tsInvocationGroup = sDataFieldEnumMember === \"com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet\" ? \"ChangeSet\" : \"Isolated\";\n\tconst oParams = {\n\t\tcontexts: \"${$view>/getBindingContext}\",\n\t\tentitySetName: CommonHelper.addSingleQuotes(sEntitySetName),\n\t\tinvocationGrouping: CommonHelper.addSingleQuotes(sInvocationGroup),\n\t\tmodel: \"${$source>/}.getModel()\",\n\t\tlabel: CommonHelper.addSingleQuotes(oDataField && oDataField.Label, true),\n\t\tisNavigable: oHeaderAction && oHeaderAction.isNavigable,\n\t\tdefaultValuesExtensionFunction:\n\t\t\toHeaderAction && oHeaderAction.defaultValuesExtensionFunction ? `'${oHeaderAction.defaultValuesExtensionFunction}'` : undefined\n\t};\n\treturn CommonHelper.generateFunction(\".handlers.onCallAction\", \"${$view>/}\", sEditableContexts, CommonHelper.objectToString(oParams));\n};\n\n/*\n * Method to get the expression for the 'press' event for footer annotation actions\n *\n * @function\n * @param {object} [oDataField] Data field object\n * @param {string} [sEntitySetName] Entity set name\n * @param {object} [oHeaderAction] Header action object\n * returns {string}  Binding expression or function string that is generated from the Commonhelper's function generateFunction\n */\nexport const getPressExpressionForFooterAnnotationAction = function (\n\tdataField: DataFieldForAction,\n\tsEntitySetName: any,\n\toHeaderAction: any\n) {\n\tconst sActionContexts = CommonHelper.addSingleQuotes(dataField.Action as string),\n\t\tsDataFieldEnumMember = dataField.InvocationGrouping,\n\t\tsInvocationGroup = sDataFieldEnumMember === \"UI.OperationGroupingType/ChangeSet\" ? \"ChangeSet\" : \"Isolated\";\n\tconst oParams = {\n\t\tcontexts: \"${$view>/#fe::ObjectPage/}.getBindingContext()\",\n\t\tentitySetName: CommonHelper.addSingleQuotes(sEntitySetName),\n\t\tinvocationGrouping: CommonHelper.addSingleQuotes(sInvocationGroup),\n\t\tmodel: \"${$source>/}.getModel()\",\n\t\tlabel: CommonHelper.addSingleQuotes(dataField.Label as string, true),\n\t\tisNavigable: oHeaderAction && oHeaderAction.isNavigable,\n\t\tdefaultValuesExtensionFunction:\n\t\t\toHeaderAction && oHeaderAction.defaultValuesExtensionFunction ? `'${oHeaderAction.defaultValuesExtensionFunction}'` : undefined\n\t};\n\treturn CommonHelper.generateFunction(\".handlers.onCallAction\", \"${$view>/}\", sActionContexts, CommonHelper.objectToString(oParams));\n};\n\n/*\n * Get Expression of execute event expression of primary action.\n *\n * @function\n * @param {object} [oDataField] Data field object\n * @param {string} [sEntitySetName] Entity set name\n * @param {object} [oHeaderAction] Header action object\n * @param {CompiledBindingToolkitExpression | string} The visibility of sematic positive action\n * @param {CompiledBindingToolkitExpression | string} The enablement of semantic positive action\n * @param {CompiledBindingToolkitExpression | string} The Edit button visibility\n * @param {CompiledBindingToolkitExpression | string} The enablement of Edit button\n * returns {string}  binding expression / function string generated from commanhelper's function generateFunction\n */\nexport const getPressExpressionForPrimaryAction = function (\n\toDataField: any,\n\tsEntitySetName: string | undefined,\n\toHeaderAction: BaseAction | null,\n\tpositiveActionVisible: CompiledBindingToolkitExpression | string,\n\tpositiveActionEnabled: CompiledBindingToolkitExpression | string,\n\teditActionVisible: CompiledBindingToolkitExpression | string,\n\teditActionEnabled: CompiledBindingToolkitExpression | string\n) {\n\tconst sActionContexts = CommonHelper.addSingleQuotes(oDataField && oDataField.Action),\n\t\tsDataFieldEnumMember = oDataField && oDataField.InvocationGrouping && oDataField.InvocationGrouping[\"$EnumMember\"],\n\t\tsInvocationGroup = sDataFieldEnumMember === \"com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet\" ? \"ChangeSet\" : \"Isolated\";\n\tconst oParams = {\n\t\tcontexts: \"${$view>/#fe::ObjectPage/}.getBindingContext()\",\n\t\tentitySetName: sEntitySetName ? CommonHelper.addSingleQuotes(sEntitySetName) : \"\",\n\t\tinvocationGrouping: CommonHelper.addSingleQuotes(sInvocationGroup),\n\t\tmodel: \"${$source>/}.getModel()\",\n\t\tlabel: CommonHelper.addSingleQuotes(oDataField?.Label, true),\n\t\tisNavigable: oHeaderAction?.isNavigable,\n\t\tdefaultValuesExtensionFunction: oHeaderAction?.defaultValuesExtensionFunction\n\t\t\t? `'${oHeaderAction.defaultValuesExtensionFunction}'`\n\t\t\t: undefined\n\t};\n\tconst oConditions = {\n\t\tpositiveActionVisible,\n\t\tpositiveActionEnabled,\n\t\teditActionVisible,\n\t\teditActionEnabled\n\t};\n\treturn CommonHelper.generateFunction(\n\t\t\".handlers.onPrimaryAction\",\n\t\t\"$controller\",\n\t\t\"${$view>/}\",\n\t\t\"${$view>/getBindingContext}\",\n\t\tsActionContexts,\n\t\tCommonHelper.objectToString(oParams),\n\t\tCommonHelper.objectToString(oConditions)\n\t);\n};\n\n/*\n * Gets the binding of the container HBox for the header facet.\n *\n * @function\n * @param {object} [oControlConfiguration] The control configuration form of the viewData model\n * @param {object} [oHeaderFacet] The object of the header facet\n * returns {*}  The binding expression from function getBindingWithGroupIdFromConfig or undefined.\n */\nexport const getStashableHBoxBinding = function (oControlConfiguration: any, oHeaderFacet: any) {\n\tif (oHeaderFacet && oHeaderFacet.Facet && oHeaderFacet.Facet.targetAnnotationType === \"DataPoint\") {\n\t\treturn getBindingWithGroupIdFromConfig(oControlConfiguration, oHeaderFacet.Facet.targetAnnotationValue);\n\t}\n};\n\n/*\n * Gets the 'Press' event expression for the external and internal data point link.\n *\n * @function\n * @param {object} [oConfiguration] Control configuration from manifest\n * @param {object} [oManifestOutbound] Outbounds from manifest\n * returns {string} The runtime binding of the 'Press' event\n */\nexport const getPressExpressionForLink = function (oConfiguration: any, oManifestOutbound: any) {\n\tif (oConfiguration) {\n\t\tif (oConfiguration[\"targetOutbound\"] && oConfiguration[\"targetOutbound\"][\"outbound\"]) {\n\t\t\treturn (\n\t\t\t\t\".handlers.onDataPointTitlePressed($controller, ${$source>}, \" +\n\t\t\t\tJSON.stringify(oManifestOutbound) +\n\t\t\t\t\",\" +\n\t\t\t\tJSON.stringify(oConfiguration[\"targetOutbound\"][\"outbound\"]) +\n\t\t\t\t\")\"\n\t\t\t);\n\t\t} else if (oConfiguration[\"targetSections\"]) {\n\t\t\treturn \".handlers.navigateToSubSection($controller, '\" + JSON.stringify(oConfiguration[\"targetSections\"]) + \"')\";\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n};\n\nexport const getHeaderFormHboxRenderType = function (dataField: DataModelObjectPath): string | undefined {\n\tif (dataField?.targetObject?.$Type === UIAnnotationTypes.DataFieldForAnnotation) {\n\t\treturn undefined;\n\t}\n\treturn \"Bare\";\n};\n\n/**\n * The default action group handler that is invoked when adding the menu button handling appropriately.\n *\n * @param oCtx The current context in which the handler is called\n * @param oAction The current action context\n * @param oDataFieldForDefaultAction The current dataField for the default action\n * @param defaultActionContextOrEntitySet The current context for the default action\n * @returns The appropriate expression string\n */\nexport function getDefaultActionHandler(oCtx: any, oAction: any, oDataFieldForDefaultAction: any, defaultActionContextOrEntitySet: any) {\n\tif (oAction.defaultAction) {\n\t\ttry {\n\t\t\tswitch (oAction.defaultAction.type) {\n\t\t\t\tcase \"ForAction\": {\n\t\t\t\t\treturn getPressExpressionForEdit(oDataFieldForDefaultAction, defaultActionContextOrEntitySet, oAction.defaultAction);\n\t\t\t\t}\n\t\t\t\tcase \"ForNavigation\": {\n\t\t\t\t\tif (oAction.defaultAction.command) {\n\t\t\t\t\t\treturn \"cmd:\" + oAction.defaultAction.command;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn oAction.defaultAction.press;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tif (oAction.defaultAction.command) {\n\t\t\t\t\t\treturn \"cmd:\" + oAction.defaultAction.command;\n\t\t\t\t\t}\n\t\t\t\t\tif (oAction.defaultAction.noWrap) {\n\t\t\t\t\t\treturn oAction.defaultAction.press;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn CommonHelper.buildActionWrapper(oAction.defaultAction, { id: \"forTheObjectPage\" });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (ioEx) {\n\t\t\treturn \"binding for the default action is not working as expected\";\n\t\t}\n\t}\n\treturn undefined;\n}\n\n/**\n * Check if the sub section visualization is part of preview.\n *\n * @param subSection The sub section visualization\n * @returns A Boolean value\n */\nexport function isVisualizationIsPartOfPreview(subSection: DataVisualizationSubSection) {\n\treturn subSection.isPartOfPreview === true || subSection.presentation.visualizations[0].type !== \"Table\";\n}\n"],"mappings":"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"}},{"offset":{"line":5327,"column":0},"map":{"version":3,"names":["sap","ui","define","BindingHelper","BindingToolkit","ModelHelper","TitleHelper","CommonHelper","FieldTemplating","mLibrary","ManagedObject","ODataModelAnnotationHelper","_exports","getTextBindingExpression","formatValueRecursively","addTextArrangementToBindingExpression","getTitleBindingExpression","or","not","ifElse","getExpressionFromAnnotation","equal","constant","compileExpression","and","UI","Draft","ButtonType","getExpressionForTitle","fullContextPath","viewData","headerInfo","undefined","getExpressionForDescription","oHeaderInfo","_oHeaderInfo$Descript","_oHeaderInfo$Descript2","_oHeaderInfo$Descript3","_oHeaderInfo$Descript4","_oHeaderInfo$Descript5","_oHeaderInfo$Descript6","_oHeaderInfo$Descript7","_oHeaderInfo$Descript8","_oHeaderInfo$Descript9","pathInModel","Description","Value","$target","annotations","Common","Text","TextArrangement","getExpressionForSaveButton","oViewData","_annotations$Session","saveButtonText","resourceModel","getText","createButtonText","saveExpression","startingEntitySet","Session","StickySessionSupported","IsCreateMode","IsNewObject","isManifestAction","oAction","aActions","indexOf","type","buildEmphasizedButtonExpression","dataContextPath","_dataContextPath$targ","_dataContextPath$targ2","_dataContextPath$targ3","identification","targetEntityType","Identification","dataFieldsWithCriticality","filter","dataField","$Type","Criticality","dataFieldsBindingExpressions","length","map","_dataField$annotation","_dataField$annotation2","criticalityVisibleBindingExpression","Hidden","Default","Emphasized","getElementBinding","sPath","sNavigationPath","getNavigationPath","checkDraftState","oAnnotations","getSwitchToActiveVisibility","getSwitchToDraftVisibility","getSwitchDraftAndActiveVisibility","_findAction","aConverterContextHeaderActions","sActionType","find","oHeaderAction","getDeleteCommandExecutionEnabled","oDeleteAction","enabled","getDeleteCommandExecutionVisible","visible","getEditCommandExecutionVisible","oEditAction","getEditCommandExecutionEnabled","getEditAction","oEntitySet","getPath","aPaths","split","rootEntitySetPath","rootEntitySetAnnnotations","getObject","bDraftRoot","hasOwnProperty","bDraftNode","bStickySession","sActionName","isReadOnlyFromStaticAnnotations","oFieldControl","bComputed","bImmutable","bReadOnly","Bool","readOnlyExpressionFromDynamicAnnotations","sIsFieldControlPathReadOnly","bindingParser","getExpressionForMicroChartTitlePress","oConfiguration","oManifestOutbound","sCollectionName","JSON","stringify","getMicroChartTitleAsLink","oControlConfiguration","getGroupIdFromConfig","oConfigurations","sAnnotationPath","sDefaultGroupId","aAutoPatterns","sGroupId","requestGroupId","some","autoPattern","getBindingWithGroupIdFromConfig","sKey","sBinding","doesFieldGroupContainOnlyOneMultiLineDataField","aFormElements","isValueMultilineText","getVisibleExpressionForBreadcrumbs","showBreadCrumbs","fclEnabled","getShareButtonVisibility","sShareButtonVisibilityExp","isShareButtonVisibleForMyInbox","getVisiblityOfHeaderInfo","oTitleAnnotations","oDescriptionAnnotations","oFieldTitleFieldControl","oFieldDescriptionFieldControl","bIsTitleReadOnly","titleExpression","bIsDescriptionReadOnly","descriptionExpression","combineTitleAndDescriptionExpression","oTitleFieldControl","oDescriptionFieldControl","getPressExpressionForDelete","entitySet","oInterface","sDeletableContexts","sTitle","sDescription","esContext","context","contextPath","contextPathParts","filterOutNavPropBinding","sEntitySetName","getModel","join","oParams","title","entitySetName","addSingleQuotes","description","generateFunction","objectToString","requiresIContext","getPressExpressionForEdit","oDataField","sEditableContexts","Action","sDataFieldEnumMember","InvocationGrouping","sInvocationGroup","contexts","invocationGrouping","model","label","Label","isNavigable","defaultValuesExtensionFunction","getPressExpressionForFooterAnnotationAction","sActionContexts","getPressExpressionForPrimaryAction","positiveActionVisible","positiveActionEnabled","editActionVisible","editActionEnabled","oConditions","getStashableHBoxBinding","oHeaderFacet","Facet","targetAnnotationType","targetAnnotationValue","getPressExpressionForLink","getHeaderFormHboxRenderType","_dataField$targetObje","targetObject","getDefaultActionHandler","oCtx","oDataFieldForDefaultAction","defaultActionContextOrEntitySet","defaultAction","command","press","noWrap","buildActionWrapper","id","ioEx","isVisualizationIsPartOfPreview","subSection","isPartOfPreview","presentation","visualizations"],"sources":["ObjectPageTemplating-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage"}},{"offset":{"line":5332,"column":0},"map":{"version":3,"names":["USERS_PARAMETERS","USER_ID_PARAMETER","CollaborationDraft","defineBuildingBlock","name","namespace","blockAttribute","type","required","props","others","showCollaborationUserDetails","event","source","getSource","userDetailsPopover","getUserDetailsPopover","setBindingContext","getBindingContext","openBy","manageCollaboration","manageDialog","getManageDialog","readInvitedUsers","containingView","open","formatUserStatus","userStatus","UserStatus","CurrentlyEditing","getTranslatedText","ChangesMade","NoChangesMade","NotYetInvited","addUserFieldChanged","userInput","getParameter","then","newUserId","internalModelContext","invitedUsers","getProperty","findIndex","user","id","setValueState","setValueStateText","bind","catch","inviteUser","users","bindingContext","contexts","manageDialogUserTable","getBinding","getContexts","numberOfNewInvitedUsers","forEach","context","push","UserID","UserAccessRole","getObject","status","shareObject","MessageToast","show","toString","getSharedItemName","closeManageDialog","view","model","getModel","parameters","$select","invitedUserList","bindList","requestContexts","activeUsers","me","CollaborationUtils","getMe","length","oContext","userData","isMe","isActive","find","u","userDescription","UserDescription","initials","formatInitials","getText","UserEditingState","InProgress","color","getUserColor","setProperty","close","contextObject","getInvolvedDataModelObjects","contextPath","addDependent","getInvitationDialogTitleExpBinding","beginButton","endButton","content","getManageDialogAddUserSection","getManageDialogUserTable","bindElement","path","headerToolbar","columns","items","formatter","formatUserStatusColor","removeUser","dependents","getValueHelpDelegate","typeahead","dialog","addUser","ValueState","Success","Warning","Information","addButton","newUser","transient","unshift","item","deleteUserID","filter","headerInfo","targetObject","entityType","annotations","UI","HeaderInfo","sharedItemName","title","Title","isPathAnnotationExpression","Value","TypeName","actionName","targetEntitySet","Common","DraftRoot","ShareAction","action","targetEntityType","resolvePath","userParameters","param","payload","propertyPath","qualifiers","valueHelpQualifier","isActionParameterDialog","getExpressionFromAnnotation","params","constant","titleExpression","formatResult","collaborationFormatter","getFormattedText","compileExpression","getInviteButton","getContent","ModelHelper","isCollaborationDraftSupported","RuntimeBuildingBlock"],"sourceRoot":"ObjectPage/components","sources":["CollaborationDraft.block.tsx"],"sourcesContent":["import { Action as VocabularyAction } from \"@sap-ux/vocabularies-types/Edm\";\nimport { EntitySetAnnotations_Common } from \"@sap-ux/vocabularies-types/vocabularies/Common_Edm\";\nimport { DataField } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport type { FEView } from \"sap/fe/core/BaseController\";\nimport { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/BuildingBlockSupport\";\nimport RuntimeBuildingBlock from \"sap/fe/core/buildingBlocks/RuntimeBuildingBlock\";\nimport {\n\tBackendUser,\n\tCollaborationUtils,\n\tshareObject,\n\tUser,\n\tUserEditingState,\n\tUserStatus\n} from \"sap/fe/core/controllerextensions/collaboration/CollaborationCommon\";\nimport { getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport collaborationFormatter from \"sap/fe/core/formatters/CollaborationFormatter\";\nimport {\n\tCompiledBindingToolkitExpression,\n\tcompileExpression,\n\tconstant,\n\tformatResult,\n\tgetExpressionFromAnnotation\n} from \"sap/fe/core/helpers/BindingToolkit\";\nimport { PropertiesOf } from \"sap/fe/core/helpers/ClassSupport\";\nimport ModelHelper, { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport { isPathAnnotationExpression } from \"sap/fe/core/helpers/TypeGuards\";\nimport { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport { ValueHelpPayload } from \"sap/fe/macros/internal/valuehelp/ValueListHelper\";\nimport Avatar from \"sap/m/Avatar\";\nimport Button from \"sap/m/Button\";\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport HBox from \"sap/m/HBox\";\nimport Input from \"sap/m/Input\";\nimport Label from \"sap/m/Label\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ObjectStatus from \"sap/m/ObjectStatus\";\nimport Popover from \"sap/m/Popover\";\nimport ResponsivePopover from \"sap/m/ResponsivePopover\";\nimport SearchField from \"sap/m/SearchField\";\nimport Table from \"sap/m/Table\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport Field from \"sap/ui/mdc/Field\";\nimport ValueHelp from \"sap/ui/mdc/ValueHelp\";\nimport MTable from \"sap/ui/mdc/valuehelp/content/MTable\";\nimport MDCDialog from \"sap/ui/mdc/valuehelp/Dialog\";\nimport MDCPopover from \"sap/ui/mdc/valuehelp/Popover\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Context from \"sap/ui/model/odata/v4/Context\";\nimport ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\n\nconst USERS_PARAMETERS = \"Users\";\nconst USER_ID_PARAMETER = \"UserID\";\n\n@defineBuildingBlock({ name: \"CollaborationDraft\", namespace: \"sap.fe.templates.ObjectPage.components\" })\nexport default class CollaborationDraft extends RuntimeBuildingBlock {\n\t@blockAttribute({ type: \"sap.ui.model.Context\", required: true })\n\tpublic contextPath!: Context;\n\n\t@blockAttribute({ type: \"string\" })\n\tpublic id?: string;\n\n\tprivate contextObject: DataModelObjectPath;\n\n\tprivate userDetailsPopover?: Popover;\n\n\tprivate manageDialog?: Dialog;\n\n\tprivate manageDialogUserTable?: Table;\n\n\tprivate containingView!: FEView;\n\n\tconstructor(props: PropertiesOf<CollaborationDraft>, ...others: unknown[]) {\n\t\tsuper(props, ...others);\n\t\tthis.contextObject = getInvolvedDataModelObjects(this.contextPath);\n\t}\n\n\t/**\n\t * Event handler to create and show the user details popover.\n\t *\n\t * @param event The event object\n\t */\n\tshowCollaborationUserDetails = async (event: Event) => {\n\t\tconst source = event.getSource() as Control;\n\t\tif (!this.userDetailsPopover) {\n\t\t\tthis.userDetailsPopover = this.getUserDetailsPopover();\n\t\t}\n\n\t\tthis.userDetailsPopover?.setBindingContext(source.getBindingContext(\"internal\") as InternalModelContext, \"internal\");\n\t\tthis.userDetailsPopover?.openBy(source, false);\n\t};\n\n\t/**\n\t * Returns the user details popover.\n\t *\n\t * @returns The control tree\n\t */\n\tgetUserDetailsPopover() {\n\t\tconst userDetailsPopover = (\n\t\t\t<ResponsivePopover showHeader=\"false\" class=\"sapUiContentPadding\" placement=\"Bottom\">\n\t\t\t\t<HBox>\n\t\t\t\t\t<Avatar initials=\"{internal>initials}\" displaySize=\"S\" />\n\t\t\t\t\t<VBox>\n\t\t\t\t\t\t<Label class=\"sapUiMediumMarginBegin\" text=\"{internal>name}\" />\n\t\t\t\t\t\t<Label class=\"sapUiMediumMarginBegin\" text=\"{internal>id}\" />\n\t\t\t\t\t</VBox>\n\t\t\t\t</HBox>\n\t\t\t</ResponsivePopover>\n\t\t);\n\n\t\tthis.containingView.addDependent(userDetailsPopover);\n\n\t\treturn userDetailsPopover;\n\t}\n\n\t/**\n\t * Event handler to create and open the manage dialog.\n\t *\n\t */\n\tmanageCollaboration = () => {\n\t\tif (!this.manageDialog) {\n\t\t\tthis.manageDialog = this.getManageDialog();\n\t\t}\n\n\t\tthis.readInvitedUsers(this.containingView);\n\t\tthis.manageDialog?.open();\n\t};\n\n\t/**\n\t * Returns the manage dialog used to invite further users.\n\t *\n\t * @returns The control tree\n\t */\n\tgetManageDialog() {\n\t\tconst manageDialog = (\n\t\t\t<Dialog title={this.getInvitationDialogTitleExpBinding()}>\n\t\t\t\t{{\n\t\t\t\t\tbeginButton: (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttext={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_DIALOG_CONFIRMATION\")}\n\t\t\t\t\t\t\tpress={this.inviteUser}\n\t\t\t\t\t\t\ttype=\"Emphasized\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tendButton: (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttext={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_DIALOG_CANCEL\")}\n\t\t\t\t\t\t\tpress={this.closeManageDialog}\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<VBox class=\"sapUiMediumMargin\">\n\t\t\t\t\t\t\t<VBox width=\"40em\">\n\t\t\t\t\t\t\t\t<MessageStrip\n\t\t\t\t\t\t\t\t\ttext={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_MESSAGESTRIP\")}\n\t\t\t\t\t\t\t\t\ttype=\"Information\"\n\t\t\t\t\t\t\t\t\tshowIcon=\"true\"\n\t\t\t\t\t\t\t\t\tshowCloseButton=\"false\"\n\t\t\t\t\t\t\t\t\tclass=\"sapUiMediumMarginBottom\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</VBox>\n\n\t\t\t\t\t\t\t<Label text={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_INPUT_LABEL\")} />\n\n\t\t\t\t\t\t\t{this.getManageDialogAddUserSection()}\n\n\t\t\t\t\t\t\t{this.getManageDialogUserTable()}\n\t\t\t\t\t\t</VBox>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Dialog>\n\t\t);\n\n\t\tthis.containingView.addDependent(manageDialog);\n\t\tmanageDialog.bindElement({\n\t\t\tmodel: \"internal\",\n\t\t\tpath: \"collaboration\"\n\t\t});\n\n\t\treturn manageDialog;\n\t}\n\n\t/**\n\t * Returns the table with the list of invited users.\n\t *\n\t * @returns The control tree\n\t */\n\tgetManageDialogUserTable() {\n\t\tthis.manageDialogUserTable = (\n\t\t\t<Table width=\"40em\" items={{ path: \"internal>invitedUsers\" }}>\n\t\t\t\t{{\n\t\t\t\t\theaderToolbar: (\n\t\t\t\t\t\t<Toolbar width=\"100%\">\n\t\t\t\t\t\t\t<Title text={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_TABLE_TOOLBAR_TITLE\")} level=\"H3\" />\n\t\t\t\t\t\t\t<ToolbarSpacer />\n\t\t\t\t\t\t\t<SearchField width=\"15em\" />\n\t\t\t\t\t\t\tpn\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t),\n\t\t\t\t\tcolumns: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Column width=\"3em\" />\n\t\t\t\t\t\t\t<Column width=\"20em\">\n\t\t\t\t\t\t\t\t<Text text={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_COLUMN\")} />\n\t\t\t\t\t\t\t</Column>\n\t\t\t\t\t\t\t<Column width=\"17em\">\n\t\t\t\t\t\t\t\t<Text text={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_TABLE_USER_STATUS_COLUMN\")} />\n\t\t\t\t\t\t\t</Column>\n\t\t\t\t\t\t\t<Column width=\"5em\" />\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\n\t\t\t\t\titems: (\n\t\t\t\t\t\t<ColumnListItem vAlign=\"Middle\" highlight=\"{= ${internal>transient} ? 'Information' : 'None' }\">\n\t\t\t\t\t\t\t<Avatar displaySize=\"XS\" backgroundColor=\"Accent{internal>color}\" initials=\"{internal>initials}\" />\n\t\t\t\t\t\t\t<Text text=\"{internal>name}\" />\n\t\t\t\t\t\t\t<ObjectStatus\n\t\t\t\t\t\t\t\tstate={{ path: \"internal>status\", formatter: this.formatUserStatusColor }}\n\t\t\t\t\t\t\t\ttext={{ path: \"internal>status\", formatter: this.formatUserStatus }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<HBox>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ticon=\"sap-icon://decline\"\n\t\t\t\t\t\t\t\t\ttype=\"Transparent\"\n\t\t\t\t\t\t\t\t\tpress={this.removeUser}\n\t\t\t\t\t\t\t\t\tvisible=\"{= !!${internal>transient} }\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</HBox>\n\t\t\t\t\t\t</ColumnListItem>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Table>\n\t\t);\n\n\t\treturn this.manageDialogUserTable;\n\t}\n\n\t/**\n\t * Returns the section on the dialog related to the user field.\n\t *\n\t * @returns The control tree\n\t */\n\tgetManageDialogAddUserSection() {\n\t\treturn (\n\t\t\t<HBox class=\"sapUiMediumMarginBottom\" width=\"100%\">\n\t\t\t\t<Field\n\t\t\t\t\tvalue=\"{internal>UserID}\"\n\t\t\t\t\tadditionalValue=\"{internal>UserDescription}\"\n\t\t\t\t\tdisplay=\"DescriptionValue\"\n\t\t\t\t\twidth=\"37em\"\n\t\t\t\t\trequired=\"true\"\n\t\t\t\t\tfieldHelp=\"userValueHelp\"\n\t\t\t\t\tplaceholder={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_INPUT_PLACEHOLDER\")}\n\t\t\t\t\tchange={this.addUserFieldChanged}\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\tdependents: (\n\t\t\t\t\t\t\t<ValueHelp id=\"userValueHelp\" delegate={this.getValueHelpDelegate()} validateInput=\"true\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\ttypeahead: (\n\t\t\t\t\t\t\t\t\t\t<MDCPopover>\n\t\t\t\t\t\t\t\t\t\t\t<MTable caseSensitive=\"true\" useAsValueHelp=\"false\" />\n\t\t\t\t\t\t\t\t\t\t</MDCPopover>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tdialog: <MDCDialog />\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</ValueHelp>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</Field>\n\t\t\t\t<Button\n\t\t\t\t\tclass=\"sapUiTinyMarginBegin\"\n\t\t\t\t\ttext={this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_DIALOG_ADD_USER\")}\n\t\t\t\t\tpress={this.addUser}\n\t\t\t\t/>\n\t\t\t</HBox>\n\t\t);\n\t}\n\n\t/**\n\t * Formatter to set the user status depending on the editing status.\n\t *\n\t * @param userStatus The editing status of the user\n\t * @returns The user status\n\t */\n\tformatUserStatus = (userStatus: UserStatus) => {\n\t\tswitch (userStatus) {\n\t\t\tcase UserStatus.CurrentlyEditing:\n\t\t\t\treturn this.getTranslatedText(\"C_COLLABORATIONDRAFT_USER_CURRENTLY_EDITING\");\n\t\t\tcase UserStatus.ChangesMade:\n\t\t\t\treturn this.getTranslatedText(\"C_COLLABORATIONDRAFT_USER_CHANGES_MADE\");\n\t\t\tcase UserStatus.NoChangesMade:\n\t\t\t\treturn this.getTranslatedText(\"C_COLLABORATIONDRAFT_USER_NO_CHANGES_MADE\");\n\t\t\tcase UserStatus.NotYetInvited:\n\t\t\tdefault:\n\t\t\t\treturn this.getTranslatedText(\"C_COLLABORATIONDRAFT_USER_NOT_YET_INVITED\");\n\t\t}\n\t};\n\n\t/**\n\t * Formatter to set the user color depending on the editing status.\n\t *\n\t * @param userStatus The editing status of the user\n\t * @returns The user status color\n\t */\n\tformatUserStatusColor(userStatus: UserStatus) {\n\t\tswitch (userStatus) {\n\t\t\tcase UserStatus.CurrentlyEditing:\n\t\t\t\treturn ValueState.Success;\n\t\t\tcase UserStatus.ChangesMade:\n\t\t\t\treturn ValueState.Warning;\n\t\t\tcase UserStatus.NoChangesMade:\n\t\t\tcase UserStatus.NotYetInvited:\n\t\t\tdefault:\n\t\t\t\treturn ValueState.Information;\n\t\t}\n\t}\n\n\t/**\n\t * Event handler to add the entered user to the list of invited users.\n\t *\n\t * @param event The event object of the remove button\n\t */\n\taddUser(event: Event) {\n\t\tconst addButton = event.getSource() as Button;\n\t\tconst internalModelContext = addButton.getBindingContext(\"internal\") as InternalModelContext;\n\t\tconst invitedUsers: User[] = internalModelContext.getProperty(\"invitedUsers\") || [];\n\t\tconst activeUsers = (addButton.getModel(\"internal\") as JSONModel).getProperty(\"/collaboration/activeUsers\");\n\t\tconst newUser: User = {\n\t\t\tid: internalModelContext?.getProperty(\"UserID\"),\n\t\t\tname: internalModelContext?.getProperty(\"UserDescription\")\n\t\t};\n\n\t\tif (!(invitedUsers.findIndex((user) => user.id === newUser.id) > -1 || (newUser.id === newUser.name && newUser.id === \"\"))) {\n\t\t\tnewUser.name = newUser.name || newUser.id;\n\t\t\tnewUser.initials = CollaborationUtils.formatInitials(newUser.name);\n\t\t\tnewUser.color = CollaborationUtils.getUserColor(newUser.id, activeUsers, invitedUsers);\n\t\t\tnewUser.transient = true;\n\t\t\tnewUser.status = UserStatus.NotYetInvited;\n\t\t\tinvitedUsers.unshift(newUser);\n\t\t\tinternalModelContext.setProperty(\"invitedUsers\", invitedUsers);\n\t\t\tinternalModelContext.setProperty(\"UserID\", \"\");\n\t\t\tinternalModelContext.setProperty(\"UserDescription\", \"\");\n\t\t}\n\t}\n\n\t/**\n\t * Sets the value state of the user field whenever changed.\n\t *\n\t * @param event The event object of the remove button\n\t * @returns Promise that is resolved once the value state was set.\n\t */\n\taddUserFieldChanged = (event: Event) => {\n\t\tconst userInput = event.getSource() as Input;\n\t\treturn event\n\t\t\t.getParameter(\"promise\")\n\t\t\t.then(\n\t\t\t\tfunction (this: CollaborationDraft, newUserId: string) {\n\t\t\t\t\tconst internalModelContext = userInput.getBindingContext(\"internal\") as InternalModelContext;\n\t\t\t\t\tconst invitedUsers: User[] = internalModelContext.getProperty(\"invitedUsers\") || [];\n\t\t\t\t\tif (invitedUsers.findIndex((user) => user.id === newUserId) > -1) {\n\t\t\t\t\t\tuserInput.setValueState(\"Error\");\n\t\t\t\t\t\tuserInput.setValueStateText(this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_USER_ERROR\"));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuserInput.setValueState(\"None\");\n\t\t\t\t\t\tuserInput.setValueStateText(\"\");\n\t\t\t\t\t}\n\t\t\t\t}.bind(this)\n\t\t\t)\n\t\t\t.catch(\n\t\t\t\tfunction (this: CollaborationDraft) {\n\t\t\t\t\tuserInput.setValueState(\"Warning\");\n\t\t\t\t\tuserInput.setValueStateText(this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_USER_NOT_FOUND\"));\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t};\n\n\t/**\n\t * Event handler to remove a user from the list of invited user.\n\t *\n\t * @param event The event object of the remove button\n\t */\n\tremoveUser(event: Event) {\n\t\tconst item = event.getSource() as Control;\n\t\tconst internalModelContext = item?.getBindingContext(\"pageInternal\");\n\t\tconst deleteUserID = item?.getBindingContext(\"internal\")?.getProperty(\"id\");\n\t\tlet invitedUsers: User[] = internalModelContext?.getProperty(\"collaboration/invitedUsers\");\n\t\tinvitedUsers = invitedUsers.filter((user) => user.id !== deleteUserID);\n\t\tinternalModelContext?.setProperty(\"collaboration/invitedUsers\", invitedUsers);\n\t}\n\n\t/**\n\t * Call the share action to update the list of invited users.\n\t *\n\t * @param event The event object of the invite button\n\t */\n\tinviteUser = async (event: Event) => {\n\t\tconst users: BackendUser[] = [];\n\t\tconst source = event.getSource() as Control;\n\t\tconst bindingContext = source.getBindingContext() as Context;\n\t\tconst contexts = (this.manageDialogUserTable?.getBinding(\"items\") as ODataListBinding).getContexts();\n\t\tlet numberOfNewInvitedUsers = 0;\n\t\tcontexts.forEach(function (context) {\n\t\t\tusers.push({\n\t\t\t\tUserID: context.getProperty(\"id\"),\n\t\t\t\tUserAccessRole: \"O\" // For now according to UX every user retrieves the owner role\n\t\t\t});\n\t\t\tif (context.getObject().status === 0) {\n\t\t\t\tnumberOfNewInvitedUsers++;\n\t\t\t}\n\t\t});\n\n\t\ttry {\n\t\t\tawait shareObject(bindingContext, users);\n\t\t\tMessageToast.show(\n\t\t\t\tthis.getTranslatedText(\n\t\t\t\t\t\"C_COLLABORATIONDRAFT_INVITATION_SUCCESS_TOAST\",\n\t\t\t\t\t[numberOfNewInvitedUsers.toString()],\n\t\t\t\t\tthis.getSharedItemName(bindingContext)\n\t\t\t\t)\n\t\t\t);\n\t\t} catch {\n\t\t\tMessageToast.show(this.getTranslatedText(\"C_COLLABORATIONDRAFT_INVITATION_FAILED_TOAST\"));\n\t\t}\n\t\tthis.closeManageDialog();\n\t};\n\n\t/**\n\t * Reads the currently invited user and store it in the internal model.\n\t *\n\t * @param view The current view\n\t * @returns Promise that is resolved once the users are read.\n\t */\n\treadInvitedUsers = async (view: FEView) => {\n\t\tconst model = view.getModel();\n\t\tconst parameters = {\n\t\t\t$select: \"UserID,UserDescription,UserEditingState\"\n\t\t};\n\t\tconst invitedUserList = model.bindList(\n\t\t\t\"DraftAdministrativeData/DraftAdministrativeUser\",\n\t\t\tview.getBindingContext() as Context,\n\t\t\t[],\n\t\t\t[],\n\t\t\tparameters\n\t\t);\n\t\tconst internalModelContext = view.getBindingContext(\"internal\") as InternalModelContext;\n\n\t\t// for now we set a limit to 100. there shouldn't be more than a few\n\t\treturn invitedUserList\n\t\t\t.requestContexts(0, 100)\n\t\t\t.then(function (contexts) {\n\t\t\t\tconst invitedUsers: User[] = [];\n\t\t\t\tconst activeUsers = view.getModel(\"internal\").getProperty(\"/collaboration/activeUsers\") || [];\n\t\t\t\tconst me = CollaborationUtils.getMe(view);\n\t\t\t\tlet userStatus: UserStatus;\n\t\t\t\tif (contexts?.length > 0) {\n\t\t\t\t\tcontexts.forEach(function (oContext) {\n\t\t\t\t\t\tconst userData = oContext.getObject() as BackendUser;\n\t\t\t\t\t\tconst isMe: boolean = me?.id === userData.UserID;\n\t\t\t\t\t\tconst isActive = activeUsers.find((u: User) => u.id === userData.UserID);\n\t\t\t\t\t\tlet userDescription = userData.UserDescription || userData.UserID;\n\t\t\t\t\t\tconst initials = CollaborationUtils.formatInitials(userDescription);\n\t\t\t\t\t\tuserDescription += isMe ? ` (${CollaborationUtils.getText(\"C_COLLABORATIONDRAFT_YOU\")})` : \"\";\n\t\t\t\t\t\tif (isActive) {\n\t\t\t\t\t\t\tuserStatus = UserStatus.CurrentlyEditing;\n\t\t\t\t\t\t} else if (userData.UserEditingState === UserEditingState.InProgress) {\n\t\t\t\t\t\t\tuserStatus = UserStatus.ChangesMade;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuserStatus = UserStatus.NoChangesMade;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst user: User = {\n\t\t\t\t\t\t\tid: userData.UserID,\n\t\t\t\t\t\t\tname: userDescription,\n\t\t\t\t\t\t\tstatus: userStatus,\n\t\t\t\t\t\t\tcolor: CollaborationUtils.getUserColor(userData.UserID, activeUsers, invitedUsers),\n\t\t\t\t\t\t\tinitials: initials,\n\t\t\t\t\t\t\tme: isMe\n\t\t\t\t\t\t};\n\t\t\t\t\t\tinvitedUsers.push(user);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t//not yet shared, just add me\n\t\t\t\t\tinvitedUsers.push(me);\n\t\t\t\t}\n\t\t\t\tinternalModelContext.setProperty(\"collaboration/UserID\", \"\");\n\t\t\t\tinternalModelContext.setProperty(\"collaboration/UserDescription\", \"\");\n\t\t\t\tinternalModelContext.setProperty(\"collaboration/invitedUsers\", invitedUsers);\n\t\t\t})\n\t\t\t.catch(\n\t\t\t\tfunction (this: CollaborationDraft) {\n\t\t\t\t\tMessageToast.show(this.getTranslatedText(\"C_COLLABORATIONDRAFT_READING_USER_FAILED\"));\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t};\n\n\t/**\n\t * Get the name of the object to be shared.\n\t *\n\t * @param bindingContext The context of the page.\n\t * @returns The name of the object to be shared.\n\t */\n\tgetSharedItemName(bindingContext: Context): string {\n\t\tconst headerInfo = this.contextObject.targetObject.entityType.annotations.UI?.HeaderInfo;\n\t\tlet sharedItemName = \"\";\n\t\tconst title = headerInfo?.Title;\n\t\tif (title) {\n\t\t\tsharedItemName = isPathAnnotationExpression(title.Value) ? bindingContext.getProperty(title.Value.path) : title.Value;\n\t\t}\n\t\treturn sharedItemName || headerInfo?.TypeName || \"\";\n\t}\n\n\t/**\n\t * Generates the delegate payload for the user field value help.\n\t *\n\t * @returns The value help delegate payload\n\t */\n\tgetValueHelpDelegate(): { name: string; payload: ValueHelpPayload } {\n\t\t// The non null assertion is safe here, because the action is only available if the annotation is present\n\t\tconst actionName = (\n\t\t\tthis.contextObject.targetEntitySet!.annotations.Common as EntitySetAnnotations_Common\n\t\t).DraftRoot!.ShareAction!.toString();\n\t\t// We are also sure that the action exist\n\t\tconst action = this.contextObject.targetEntityType.resolvePath(actionName) as VocabularyAction;\n\t\t// By definition the action has a parameter with the name \"Users\"\n\t\tconst userParameters = action.parameters.find((param) => param.name === USERS_PARAMETERS)!;\n\n\t\treturn {\n\t\t\tname: \"sap/fe/macros/valuehelp/ValueHelpDelegate\",\n\t\t\tpayload: {\n\t\t\t\tpropertyPath: `/${userParameters.type}/${USER_ID_PARAMETER}`,\n\t\t\t\tqualifiers: {},\n\t\t\t\tvalueHelpQualifier: \"\",\n\t\t\t\tisActionParameterDialog: true\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Generate the expression binding of the Invitation dialog.\n\t *\n\t * @returns The dialog title binding expression\n\t */\n\tgetInvitationDialogTitleExpBinding(): CompiledBindingToolkitExpression {\n\t\tconst headerInfo = this.contextObject.targetEntityType.annotations.UI?.HeaderInfo;\n\t\tconst title = getExpressionFromAnnotation((headerInfo?.Title as DataField | undefined)?.Value, [], \"\");\n\t\tconst params = [\"C_COLLABORATIONDRAFT_INVITATION_DIALOG\", constant(headerInfo?.TypeName), title];\n\t\tconst titleExpression = formatResult(params, collaborationFormatter.getFormattedText);\n\t\treturn compileExpression(titleExpression);\n\t}\n\n\t/**\n\t * Event handler to close the manage dialog.\n\t *\n\t */\n\tcloseManageDialog = () => {\n\t\tthis.manageDialog?.close();\n\t};\n\n\t/**\n\t * Returns the invite button if there's a share action on root level.\n\t *\n\t * @returns The control tree\n\t */\n\tgetInviteButton() {\n\t\tif ((this.contextObject.targetEntitySet?.annotations.Common as EntitySetAnnotations_Common)?.DraftRoot?.ShareAction) {\n\t\t\treturn (\n\t\t\t\t<HBox visible=\"{ui>/isEditable}\" alignItems=\"Center\" justifyContent=\"Start\">\n\t\t\t\t\t<Avatar backgroundColor=\"TileIcon\" src=\"sap-icon://add-employee\" displaySize=\"XS\" press={this.manageCollaboration} />\n\t\t\t\t</HBox>\n\t\t\t);\n\t\t} else {\n\t\t\treturn <HBox />;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the content of the collaboration draft building block.\n\t *\n\t * @param view The view for which the building block is created\n\t * @returns The control tree\n\t */\n\tgetContent(view: FEView) {\n\t\tthis.containingView = view;\n\n\t\tif (ModelHelper.isCollaborationDraftSupported(this.contextPath.getModel())) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<HBox\n\t\t\t\t\t\titems={{ path: \"internal>/collaboration/activeUsers\" }}\n\t\t\t\t\t\tclass=\"sapUiTinyMarginBegin\"\n\t\t\t\t\t\tvisible=\"{= ${ui>/isEditable} &amp;&amp; ${internal>/collaboration/connected} }\"\n\t\t\t\t\t\talignItems=\"Center\"\n\t\t\t\t\t\tjustifyContent=\"Start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\tinitials=\"{internal>initials}\"\n\t\t\t\t\t\t\tdisplaySize=\"XS\"\n\t\t\t\t\t\t\tbackgroundColor=\"Accent{internal>color}\"\n\t\t\t\t\t\t\tpress={this.showCollaborationUserDetails}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</HBox>\n\t\t\t\t\t{this.getInviteButton()}\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\t}\n}\n"],"mappings":"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"}},{"offset":{"line":5908,"column":0},"map":{"version":3,"names":["sap","ui","define","BuildingBlockSupport","RuntimeBuildingBlock","CollaborationCommon","MetaModelConverter","collaborationFormatter","BindingToolkit","ModelHelper","TypeGuards","Avatar","Button","Column","ColumnListItem","Dialog","HBox","Label","MessageStrip","MessageToast","ObjectStatus","ResponsivePopover","SearchField","Table","Text","Title","Toolbar","ToolbarSpacer","VBox","library","Field","ValueHelp","MTable","MDCDialog","MDCPopover","_jsx","_jsxs","_Fragment","_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","_exports","ValueState","isPathAnnotationExpression","getExpressionFromAnnotation","formatResult","constant","compileExpression","getInvolvedDataModelObjects","UserStatus","UserEditingState","shareObject","CollaborationUtils","defineBuildingBlock","blockAttribute","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","USERS_PARAMETERS","USER_ID_PARAMETER","CollaborationDraft","name","namespace","type","required","_RuntimeBuildingBlock","props","_this","_len","arguments","length","others","Array","_key","this","showCollaborationUserDetails","async","_this$userDetailsPopo","_this$userDetailsPopo2","source","event","getSource","userDetailsPopover","getUserDetailsPopover","setBindingContext","getBindingContext","openBy","manageCollaboration","_this$manageDialog","manageDialog","getManageDialog","readInvitedUsers","containingView","open","formatUserStatus","userStatus","CurrentlyEditing","getTranslatedText","ChangesMade","NoChangesMade","NotYetInvited","addUserFieldChanged","userInput","getParameter","then","newUserId","internalModelContext","invitedUsers","getProperty","findIndex","user","id","setValueState","setValueStateText","catch","inviteUser","_this$manageDialogUse","users","bindingContext","contexts","manageDialogUserTable","getBinding","getContexts","numberOfNewInvitedUsers","push","UserID","UserAccessRole","getObject","status","show","toString","getSharedItemName","closeManageDialog","model","view","getModel","parameters","$select","invitedUserList","bindList","requestContexts","activeUsers","me","getMe","oContext","userData","isMe","isActive","find","u","userDescription","UserDescription","initials","formatInitials","getText","InProgress","color","getUserColor","setProperty","_this$manageDialog2","close","contextObject","contextPath","_proto","showHeader","class","placement","children","displaySize","text","addDependent","title","getInvitationDialogTitleExpBinding","beginButton","press","endButton","content","width","showIcon","showCloseButton","getManageDialogAddUserSection","getManageDialogUserTable","bindElement","path","items","headerToolbar","level","columns","vAlign","highlight","backgroundColor","state","formatter","formatUserStatusColor","icon","removeUser","visible","additionalValue","display","fieldHelp","placeholder","change","dependents","delegate","getValueHelpDelegate","validateInput","typeahead","caseSensitive","useAsValueHelp","dialog","addUser","Success","Warning","Information","addButton","newUser","transient","unshift","_item$getBindingConte","item","deleteUserID","filter","_this$contextObject$t","headerInfo","targetObject","entityType","annotations","UI","HeaderInfo","sharedItemName","Value","TypeName","actionName","targetEntitySet","Common","DraftRoot","ShareAction","action","targetEntityType","resolvePath","userParameters","param","payload","propertyPath","qualifiers","valueHelpQualifier","isActionParameterDialog","_this$contextObject$t2","_headerInfo$Title","params","titleExpression","getFormattedText","getInviteButton","_this$contextObject$t3","_this$contextObject$t4","_this$contextObject$t5","alignItems","justifyContent","src","getContent","isCollaborationDraftSupported"],"sources":["CollaborationDraft.block-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,6EAAO,CAAC,kDAAmD,kDAAmD,qEAAsE,4CAA6C,gDAAiD,qCAAsC,kCAAmC,iCAAkC,eAAgB,eAAgB,eAAgB,uBAAwB,eAAgB,aAAc,cAAe,qBAAsB,qBAAsB,qBAAsB,0BAA2B,oBAAqB,cAAe,aAAc,cAAe,gBAAiB,sBAAuB,aAAc,sBAAuB,mBAAoB,uBAAwB,sCAAuC,8BAA+B,+BAAgC,8BAA+B,+BAAgC,oCAAqC,SAAUC,EAAsBC,EAAsBC,EAAqBC,EAAoBC,EAAwBC,EAAgBC,EAAaC,EAAYC,EAAQC,EAAQC,EAAQC,EAAgBC,EAAQC,EAAMC,EAAOC,EAAcC,EAAcC,EAAcC,EAAmBC,EAAaC,EAAOC,EAAMC,EAAOC,EAASC,EAAeC,EAAMC,EAASC,EAAOC,EAAWC,EAAQC,EAAWC,EAAYC,EAAMC,EAAOC,GACx3C,aAEA,IAAIC,EAAMC,EAAOC,EAAOC,EAAQC,EAASC,EAAaC,EACtD,IAAIC,EAAW,CAAC,EAChB,IAAIC,EAAajB,EAAQiB,WACzB,IAAIC,EAA6BrC,EAAWqC,2BAC5C,IAAIC,EAA8BxC,EAAewC,4BACjD,IAAIC,EAAezC,EAAeyC,aAClC,IAAIC,EAAW1C,EAAe0C,SAC9B,IAAIC,EAAoB3C,EAAe2C,kBACvC,IAAIC,EAA8B9C,EAAmB8C,4BACrD,IAAIC,EAAahD,EAAoBgD,WACrC,IAAIC,EAAmBjD,EAAoBiD,iBAC3C,IAAIC,EAAclD,EAAoBkD,YACtC,IAAIC,EAAqBnD,EAAoBmD,mBAC7C,IAAIC,GAAsBtD,EAAqBsD,oBAC/C,IAAIC,GAAiBvD,EAAqBuD,eAC1C,SAASC,GAA2BC,EAAQC,EAAUC,EAAYC,GAAW,IAAKD,EAAY,OAAQE,OAAOC,eAAeL,EAAQC,EAAU,CAAEK,WAAYJ,EAAWI,WAAYC,aAAcL,EAAWK,aAAcC,SAAUN,EAAWM,SAAUC,MAAOP,EAAWQ,YAAcR,EAAWQ,YAAYC,KAAKR,QAAgB,GAAM,CAC3U,SAASS,GAAuBC,GAAQ,GAAIA,SAAc,EAAG,CAAE,MAAM,IAAIC,eAAe,4DAA8D,CAAE,OAAOD,CAAM,CACrK,SAASE,GAAeC,EAAUC,GAAcD,EAASE,UAAYd,OAAOe,OAAOF,EAAWC,WAAYF,EAASE,UAAUE,YAAcJ,EAAUK,GAAgBL,EAAUC,EAAa,CAC5L,SAASI,GAAgBC,EAAGC,GAAKF,GAAkBjB,OAAOoB,eAAiBpB,OAAOoB,eAAeC,OAAS,SAASJ,EAAgBC,EAAGC,GAAKD,EAAEI,UAAYH,EAAG,OAAOD,CAAG,EAAG,OAAOD,GAAgBC,EAAGC,EAAI,CACvM,SAASI,GAA0B3B,EAAQC,EAAU2B,EAAY1B,EAAYC,GAAW,IAAI0B,EAAO,CAAC,EAAGzB,OAAO0B,KAAK5B,GAAY6B,QAAQ,SAAUC,GAAOH,EAAKG,GAAO9B,EAAW8B,EAAM,GAAIH,EAAKvB,aAAeuB,EAAKvB,WAAYuB,EAAKtB,eAAiBsB,EAAKtB,aAAc,GAAI,UAAWsB,GAAQA,EAAKnB,YAAa,CAAEmB,EAAKrB,SAAW,IAAM,CAAEqB,EAAOD,EAAWK,QAAQC,UAAUC,OAAO,SAAUN,EAAMO,GAAa,OAAOA,EAAUpC,EAAQC,EAAU4B,IAASA,CAAM,EAAGA,GAAO,GAAI1B,GAAW0B,EAAKnB,mBAAqB,EAAG,CAAEmB,EAAKpB,MAAQoB,EAAKnB,YAAcmB,EAAKnB,YAAYC,KAAKR,QAAgB,EAAG0B,EAAKnB,YAAc2B,SAAW,CAAE,GAAIR,EAAKnB,mBAAqB,EAAG,CAAEN,OAAOC,eAAeL,EAAQC,EAAU4B,GAAOA,EAAO,IAAM,CAAE,OAAOA,CAAM,CACntB,SAASS,GAA0BpC,EAAYC,GAAW,MAAM,IAAIoC,MAAM,wDAA0D,gFAAkF,CACtN,MAAMC,GAAmB,QACzB,MAAMC,GAAoB,SAC1B,IAAIC,IAAsBhE,EAAOmB,GAAoB,CACnD8C,KAAM,qBACNC,UAAW,2CACTjE,EAAQmB,GAAe,CACzB+C,KAAM,uBACNC,SAAU,OACRlE,EAAQkB,GAAe,CACzB+C,KAAM,WACJnE,EAAKG,GAAUC,EAAuB,SAAUiE,GAClDhC,GAAe2B,EAAoBK,GACnC,SAASL,EAAmBM,GAC1B,IAAIC,EACJ,IAAK,IAAIC,EAAOC,UAAUC,OAAQC,EAAS,IAAIC,MAAMJ,EAAO,EAAIA,EAAO,EAAI,GAAIK,EAAO,EAAGA,EAAOL,EAAMK,IAAQ,CAC5GF,EAAOE,EAAO,GAAKJ,UAAUI,EAC/B,CACAN,EAAQF,EAAsBpC,KAAK6C,KAAMR,KAAUK,IAAWG,KAC9DzD,GAA2BkD,EAAO,cAAelE,EAAa6B,GAAuBqC,IACrFlD,GAA2BkD,EAAO,KAAMjE,EAAc4B,GAAuBqC,IAC7EA,EAAMQ,6BAA+BC,UACnC,IAAIC,EAAuBC,EAC3B,MAAMC,EAASC,EAAMC,YACrB,IAAKd,EAAMe,mBAAoB,CAC7Bf,EAAMe,mBAAqBf,EAAMgB,uBACnC,EACCN,EAAwBV,EAAMe,sBAAwB,MAAQL,SAA+B,OAAS,EAAIA,EAAsBO,kBAAkBL,EAAOM,kBAAkB,YAAa,aACxLP,EAAyBX,EAAMe,sBAAwB,MAAQJ,SAAgC,OAAS,EAAIA,EAAuBQ,OAAOP,EAAQ,MAAM,EAE3JZ,EAAMoB,oBAAsB,KAC1B,IAAIC,EACJ,IAAKrB,EAAMsB,aAAc,CACvBtB,EAAMsB,aAAetB,EAAMuB,iBAC7B,CACAvB,EAAMwB,iBAAiBxB,EAAMyB,iBAC5BJ,EAAqBrB,EAAMsB,gBAAkB,MAAQD,SAA4B,OAAS,EAAIA,EAAmBK,MAAM,EAE1H1B,EAAM2B,iBAAmBC,IACvB,OAAQA,GACN,KAAKpF,EAAWqF,iBACd,OAAO7B,EAAM8B,kBAAkB,+CACjC,KAAKtF,EAAWuF,YACd,OAAO/B,EAAM8B,kBAAkB,0CACjC,KAAKtF,EAAWwF,cACd,OAAOhC,EAAM8B,kBAAkB,6CACjC,KAAKtF,EAAWyF,cAChB,QACE,OAAOjC,EAAM8B,kBAAkB,6CACnC,EAEF9B,EAAMkC,oBAAsBrB,IAC1B,MAAMsB,EAAYtB,EAAMC,YACxB,OAAOD,EAAMuB,aAAa,WAAWC,KAAK,SAAUC,GAClD,MAAMC,EAAuBJ,EAAUjB,kBAAkB,YACzD,MAAMsB,EAAeD,EAAqBE,YAAY,iBAAmB,GACzE,GAAID,EAAaE,UAAUC,GAAQA,EAAKC,KAAON,IAAc,EAAG,CAC9DH,EAAUU,cAAc,SACxBV,EAAUW,kBAAkBvC,KAAKuB,kBAAkB,8CACrD,KAAO,CACLK,EAAUU,cAAc,QACxBV,EAAUW,kBAAkB,GAC9B,CACF,EAAEtE,KAAKb,GAAuBqC,KAAS+C,MAAM,WAC3CZ,EAAUU,cAAc,WACxBV,EAAUW,kBAAkBvC,KAAKuB,kBAAkB,kDACrD,EAAEtD,KAAKb,GAAuBqC,IAAQ,EAExCA,EAAMgD,WAAavC,UACjB,IAAIwC,EACJ,MAAMC,EAAQ,GACd,MAAMtC,EAASC,EAAMC,YACrB,MAAMqC,EAAiBvC,EAAOM,oBAC9B,MAAMkC,IAAaH,EAAwBjD,EAAMqD,yBAA2B,MAAQJ,SAA+B,OAAS,EAAIA,EAAsBK,WAAW,UAAUC,cAC3K,IAAIC,EAA0B,EAC9BJ,EAAStE,QAAQ,SAAU5B,GACzBgG,EAAMO,KAAK,CACTC,OAAQxG,EAAQuF,YAAY,MAC5BkB,eAAgB,MAGlB,GAAIzG,EAAQ0G,YAAYC,SAAW,EAAG,CACpCL,GACF,CACF,GACA,UACQ9G,EAAYyG,EAAgBD,GAClC5I,EAAawJ,KAAK9D,EAAM8B,kBAAkB,gDAAiD,CAAC0B,EAAwBO,YAAa/D,EAAMgE,kBAAkBb,IAC3J,CAAE,MACA7I,EAAawJ,KAAK9D,EAAM8B,kBAAkB,gDAC5C,CACA9B,EAAMiE,mBAAmB,EAE3BjE,EAAMwB,iBAAmBf,UACvB,MAAMyD,EAAQC,EAAKC,WACnB,MAAMC,EAAa,CACjBC,QAAS,2CAEX,MAAMC,EAAkBL,EAAMM,SAAS,kDAAmDL,EAAKjD,oBAAqB,GAAI,GAAImD,GAC5H,MAAM9B,EAAuB4B,EAAKjD,kBAAkB,YAGpD,OAAOqD,EAAgBE,gBAAgB,EAAG,KAAKpC,KAAK,SAAUe,GAC5D,MAAMZ,EAAe,GACrB,MAAMkC,EAAcP,EAAKC,SAAS,YAAY3B,YAAY,+BAAiC,GAC3F,MAAMkC,EAAKhI,EAAmBiI,MAAMT,GACpC,IAAIvC,EACJ,IAAKwB,IAAa,MAAQA,SAAkB,OAAS,EAAIA,EAASjD,QAAU,EAAG,CAC7EiD,EAAStE,QAAQ,SAAU+F,GACzB,MAAMC,EAAWD,EAASjB,YAC1B,MAAMmB,GAAQJ,IAAO,MAAQA,SAAY,OAAS,EAAIA,EAAG/B,MAAQkC,EAASpB,OAC1E,MAAMsB,EAAWN,EAAYO,KAAKC,GAAKA,EAAEtC,KAAOkC,EAASpB,QACzD,IAAIyB,EAAkBL,EAASM,iBAAmBN,EAASpB,OAC3D,MAAM2B,EAAW1I,EAAmB2I,eAAeH,GACnDA,GAAmBJ,EAAO,KAAKpI,EAAmB4I,QAAQ,+BAAiC,GAC3F,GAAIP,EAAU,CACZpD,EAAapF,EAAWqF,gBAC1B,MAAO,GAAIiD,EAASrI,mBAAqBA,EAAiB+I,WAAY,CACpE5D,EAAapF,EAAWuF,WAC1B,KAAO,CACLH,EAAapF,EAAWwF,aAC1B,CACA,MAAMW,EAAO,CACXC,GAAIkC,EAASpB,OACbhE,KAAMyF,EACNtB,OAAQjC,EACR6D,MAAO9I,EAAmB+I,aAAaZ,EAASpB,OAAQgB,EAAalC,GACrE6C,SAAUA,EACVV,GAAII,GAENvC,EAAaiB,KAAKd,EACpB,EACF,KAAO,CAELH,EAAaiB,KAAKkB,EACpB,CACApC,EAAqBoD,YAAY,uBAAwB,IACzDpD,EAAqBoD,YAAY,gCAAiC,IAClEpD,EAAqBoD,YAAY,6BAA8BnD,EACjE,GAAGO,MAAM,WACPzI,EAAawJ,KAAKvD,KAAKuB,kBAAkB,4CAC3C,EAAEtD,KAAKb,GAAuBqC,IAAQ,EAExCA,EAAMiE,kBAAoB,KACxB,IAAI2B,GACHA,EAAsB5F,EAAMsB,gBAAkB,MAAQsE,SAA6B,OAAS,EAAIA,EAAoBC,OAAO,EAE9H7F,EAAM8F,cAAgBvJ,EAA4ByD,EAAM+F,aACxD,OAAO/F,CACT,CAOAhE,EAAWyD,EACX,IAAIuG,EAASvG,EAAmBxB,UAMhC+H,EAAOhF,sBAAwB,SAASA,IACtC,MAAMD,EAAqBzF,EAAKd,EAAmB,CACjDyL,WAAY,QACZC,MAAO,sBACPC,UAAW,SACXC,SAAU7K,EAAMpB,EAAM,CACpBiM,SAAU,CAAC9K,EAAKxB,EAAQ,CACtBuL,SAAU,sBACVgB,YAAa,MACX9K,EAAMR,EAAM,CACdqL,SAAU,CAAC9K,EAAKlB,EAAO,CACrB8L,MAAO,yBACPI,KAAM,oBACJhL,EAAKlB,EAAO,CACd8L,MAAO,yBACPI,KAAM,0BAKd/F,KAAKkB,eAAe8E,aAAaxF,GACjC,OAAOA,CACT,EAWAiF,EAAOzE,gBAAkB,SAASA,IAChC,MAAMD,EAAehG,EAAKpB,EAAQ,CAChCsM,MAAOjG,KAAKkG,qCACZL,SAAU,CACRM,YAAapL,EAAKvB,EAAQ,CACxBuM,KAAM/F,KAAKuB,kBAAkB,uDAC7B6E,MAAOpG,KAAKyC,WACZpD,KAAM,eAERgH,UAAWtL,EAAKvB,EAAQ,CACtBuM,KAAM/F,KAAKuB,kBAAkB,iDAC7B6E,MAAOpG,KAAK0D,oBAEd4C,QAAStL,EAAMR,EAAM,CACnBmL,MAAO,oBACPE,SAAU,CAAC9K,EAAKP,EAAM,CACpB+L,MAAO,OACPV,SAAU9K,EAAKjB,EAAc,CAC3BiM,KAAM/F,KAAKuB,kBAAkB,gDAC7BlC,KAAM,cACNmH,SAAU,OACVC,gBAAiB,QACjBd,MAAO,8BAEP5K,EAAKlB,EAAO,CACdkM,KAAM/F,KAAKuB,kBAAkB,iDAC3BvB,KAAK0G,gCAAiC1G,KAAK2G,iCAIrD3G,KAAKkB,eAAe8E,aAAajF,GACjCA,EAAa6F,YAAY,CACvBjD,MAAO,WACPkD,KAAM,kBAER,OAAO9F,CACT,EAOA0E,EAAOkB,yBAA2B,SAASA,IACzC3G,KAAK8C,sBAAwB/H,EAAKZ,EAAO,CACvCoM,MAAO,OACPO,MAAO,CACLD,KAAM,yBAERhB,SAAU,CACRkB,cAAe/L,EAAMV,EAAS,CAC5BiM,MAAO,OACPV,SAAU,CAAC9K,EAAKV,EAAO,CACrB0L,KAAM/F,KAAKuB,kBAAkB,uDAC7ByF,MAAO,OACLjM,EAAKR,EAAe,CAAC,GAAIQ,EAAKb,EAAa,CAC7CqM,MAAO,SACL,QAENU,QAASjM,EAAMC,EAAW,CACxB4K,SAAU,CAAC9K,EAAKtB,EAAQ,CACtB8M,MAAO,QACLxL,EAAKtB,EAAQ,CACf8M,MAAO,OACPV,SAAU9K,EAAKX,EAAM,CACnB2L,KAAM/F,KAAKuB,kBAAkB,yDAE7BxG,EAAKtB,EAAQ,CACf8M,MAAO,OACPV,SAAU9K,EAAKX,EAAM,CACnB2L,KAAM/F,KAAKuB,kBAAkB,gEAE7BxG,EAAKtB,EAAQ,CACf8M,MAAO,WAGXO,MAAO9L,EAAMtB,EAAgB,CAC3BwN,OAAQ,SACRC,UAAW,sDACXtB,SAAU,CAAC9K,EAAKxB,EAAQ,CACtBuM,YAAa,KACbsB,gBAAiB,yBACjBtC,SAAU,wBACR/J,EAAKX,EAAM,CACb2L,KAAM,oBACJhL,EAAKf,EAAc,CACrBqN,MAAO,CACLR,KAAM,kBACNS,UAAWtH,KAAKuH,uBAElBxB,KAAM,CACJc,KAAM,kBACNS,UAAWtH,KAAKoB,oBAEhBrG,EAAKnB,EAAM,CACbiM,SAAU9K,EAAKvB,EAAQ,CACrBgO,KAAM,qBACNnI,KAAM,cACN+G,MAAOpG,KAAKyH,WACZC,QAAS,yCAMnB,OAAO1H,KAAK8C,qBACd,EAOA2C,EAAOiB,8BAAgC,SAASA,IAC9C,OAAO1L,EAAMpB,EAAM,CACjB+L,MAAO,0BACPY,MAAO,OACPV,SAAU,CAAC9K,EAAKL,EAAO,CACrBuC,MAAO,oBACP0K,gBAAiB,6BACjBC,QAAS,mBACTrB,MAAO,OACPjH,SAAU,OACVuI,UAAW,gBACXC,YAAa9H,KAAKuB,kBAAkB,qDACpCwG,OAAQ/H,KAAK2B,oBACbkE,SAAU,CACRmC,WAAYjN,EAAKJ,EAAW,CAC1B0H,GAAI,gBACJ4F,SAAUjI,KAAKkI,uBACfC,cAAe,OACftC,SAAU,CACRuC,UAAWrN,EAAKD,EAAY,CAC1B+K,SAAU9K,EAAKH,EAAQ,CACrByN,cAAe,OACfC,eAAgB,YAGpBC,OAAQxN,EAAKF,EAAW,CAAC,SAI7BE,EAAKvB,EAAQ,CACfmM,MAAO,uBACPI,KAAM/F,KAAKuB,kBAAkB,mDAC7B6E,MAAOpG,KAAKwI,YAGlB,EAcA/C,EAAO8B,sBAAwB,SAASA,EAAsBlG,GAC5D,OAAQA,GACN,KAAKpF,EAAWqF,iBACd,OAAO5F,EAAW+M,QACpB,KAAKxM,EAAWuF,YACd,OAAO9F,EAAWgN,QACpB,KAAKzM,EAAWwF,cAChB,KAAKxF,EAAWyF,cAChB,QACE,OAAOhG,EAAWiN,YAExB,EAOAlD,EAAO+C,QAAU,SAASA,EAAQlI,GAChC,MAAMsI,EAAYtI,EAAMC,YACxB,MAAMyB,EAAuB4G,EAAUjI,kBAAkB,YACzD,MAAMsB,EAAeD,EAAqBE,YAAY,iBAAmB,GACzE,MAAMiC,EAAcyE,EAAU/E,SAAS,YAAY3B,YAAY,8BAC/D,MAAM2G,EAAU,CACdxG,GAAIL,IAAyB,MAAQA,SAA8B,OAAS,EAAIA,EAAqBE,YAAY,UACjH/C,KAAM6C,IAAyB,MAAQA,SAA8B,OAAS,EAAIA,EAAqBE,YAAY,oBAErH,KAAMD,EAAaE,UAAUC,GAAQA,EAAKC,KAAOwG,EAAQxG,KAAO,GAAKwG,EAAQxG,KAAOwG,EAAQ1J,MAAQ0J,EAAQxG,KAAO,IAAK,CACtHwG,EAAQ1J,KAAO0J,EAAQ1J,MAAQ0J,EAAQxG,GACvCwG,EAAQ/D,SAAW1I,EAAmB2I,eAAe8D,EAAQ1J,MAC7D0J,EAAQ3D,MAAQ9I,EAAmB+I,aAAa0D,EAAQxG,GAAI8B,EAAalC,GACzE4G,EAAQC,UAAY,KACpBD,EAAQvF,OAASrH,EAAWyF,cAC5BO,EAAa8G,QAAQF,GACrB7G,EAAqBoD,YAAY,eAAgBnD,GACjDD,EAAqBoD,YAAY,SAAU,IAC3CpD,EAAqBoD,YAAY,kBAAmB,GACtD,CACF,EAaAK,EAAOgC,WAAa,SAASA,EAAWnH,GACtC,IAAI0I,EACJ,MAAMC,EAAO3I,EAAMC,YACnB,MAAMyB,EAAuBiH,IAAS,MAAQA,SAAc,OAAS,EAAIA,EAAKtI,kBAAkB,gBAChG,MAAMuI,EAAeD,IAAS,MAAQA,SAAc,OAAS,GAAKD,EAAwBC,EAAKtI,kBAAkB,eAAiB,MAAQqI,SAA+B,OAAS,EAAIA,EAAsB9G,YAAY,MACxN,IAAID,EAAeD,IAAyB,MAAQA,SAA8B,OAAS,EAAIA,EAAqBE,YAAY,8BAChID,EAAeA,EAAakH,OAAO/G,GAAQA,EAAKC,KAAO6G,GACvDlH,IAAyB,MAAQA,SAA8B,OAAS,EAAIA,EAAqBoD,YAAY,6BAA8BnD,EAC7I,EAaAwD,EAAOhC,kBAAoB,SAASA,EAAkBb,GACpD,IAAIwG,EACJ,MAAMC,GAAcD,EAAwBpJ,KAAKuF,cAAc+D,aAAaC,WAAWC,YAAYC,MAAQ,MAAQL,SAA+B,OAAS,EAAIA,EAAsBM,WACrL,IAAIC,EAAiB,GACrB,MAAM1D,EAAQoD,IAAe,MAAQA,SAAoB,OAAS,EAAIA,EAAWhP,MACjF,GAAI4L,EAAO,CACT0D,EAAiBhO,EAA2BsK,EAAM2D,OAAShH,EAAeV,YAAY+D,EAAM2D,MAAM/C,MAAQZ,EAAM2D,KAClH,CACA,OAAOD,IAAmBN,IAAe,MAAQA,SAAoB,OAAS,EAAIA,EAAWQ,WAAa,EAC5G,EAOApE,EAAOyC,qBAAuB,SAASA,IAErC,MAAM4B,EAAa9J,KAAKuF,cAAcwE,gBAAgBP,YAAYQ,OAAOC,UAAUC,YAAY1G,WAE/F,MAAM2G,EAASnK,KAAKuF,cAAc6E,iBAAiBC,YAAYP,GAE/D,MAAMQ,EAAiBH,EAAOrG,WAAWY,KAAK6F,GAASA,EAAMpL,OAASH,IACtE,MAAO,CACLG,KAAM,4CACNqL,QAAS,CACPC,aAAc,IAAIH,EAAejL,QAAQJ,KACzCyL,WAAY,CAAC,EACbC,mBAAoB,GACpBC,wBAAyB,MAG/B,EAOAnF,EAAOS,mCAAqC,SAASA,IACnD,IAAI2E,EAAwBC,EAC5B,MAAMzB,GAAcwB,EAAyB7K,KAAKuF,cAAc6E,iBAAiBZ,YAAYC,MAAQ,MAAQoB,SAAgC,OAAS,EAAIA,EAAuBnB,WACjL,MAAMzD,EAAQrK,EAA4ByN,IAAe,MAAQA,SAAoB,OAAS,GAAKyB,EAAoBzB,EAAWhP,SAAW,MAAQyQ,SAA2B,OAAS,EAAIA,EAAkBlB,MAAO,GAAI,IAC1N,MAAMmB,EAAS,CAAC,yCAA0CjP,EAASuN,IAAe,MAAQA,SAAoB,OAAS,EAAIA,EAAWQ,UAAW5D,GACjJ,MAAM+E,EAAkBnP,EAAakP,EAAQ5R,EAAuB8R,kBACpE,OAAOlP,EAAkBiP,EAC3B,EAWAvF,EAAOyF,gBAAkB,SAASA,IAChC,IAAIC,EAAwBC,EAAwBC,EACpD,IAAKF,EAAyBnL,KAAKuF,cAAcwE,mBAAqB,MAAQoB,SAAgC,IAAMC,EAAyBD,EAAuB3B,YAAYQ,UAAY,MAAQoB,SAAgC,IAAMC,EAAyBD,EAAuBnB,aAAe,MAAQoB,SAAgC,GAAKA,EAAuBnB,YAAa,CACxX,OAAOnP,EAAKnB,EAAM,CAChB8N,QAAS,mBACT4D,WAAY,SACZC,eAAgB,QAChB1F,SAAU9K,EAAKxB,EAAQ,CACrB6N,gBAAiB,WACjBoE,IAAK,0BACL1F,YAAa,KACbM,MAAOpG,KAAKa,uBAGlB,KAAO,CACL,OAAO9F,EAAKnB,EAAM,CAAC,EACrB,CACF,EAQA6L,EAAOgG,WAAa,SAASA,EAAW7H,GACtC5D,KAAKkB,eAAiB0C,EACtB,GAAIvK,EAAYqS,8BAA8B1L,KAAKwF,YAAY3B,YAAa,CAC1E,OAAO7I,EAAMC,EAAW,CACtB4K,SAAU,CAAC9K,EAAKnB,EAAM,CACpBkN,MAAO,CACLD,KAAM,uCAERlB,MAAO,uBACP+B,QAAS,iEACT4D,WAAY,SACZC,eAAgB,QAChB1F,SAAU9K,EAAKxB,EAAQ,CACrBuL,SAAU,sBACVgB,YAAa,KACbsB,gBAAiB,yBACjBhB,MAAOpG,KAAKC,iCAEZD,KAAKkL,oBAEb,CACF,EACA,OAAOhM,CACT,CA5gB0C,CA4gBxClG,GAAwBuC,EAAc4C,GAA0B7C,EAAQoC,UAAW,cAAe,CAACvC,GAAQ,CAC3G4B,aAAc,KACdD,WAAY,KACZE,SAAU,KACVE,YAAa,OACX1B,EAAe2C,GAA0B7C,EAAQoC,UAAW,KAAM,CAACtC,GAAQ,CAC7E2B,aAAc,KACdD,WAAY,KACZE,SAAU,KACVE,YAAa,OACV5B,KAAaD,GAClBI,EAAWyD,GACX,OAAOzD,CACT,EAAG","sourceRoot":"ObjectPage/components"}},{"offset":{"line":5913,"column":0},"map":{"version":3,"names":["DraftHandlerButtonBlock","defineBuildingBlock","name","namespace","blockAttribute","type","defineReference","props","SWITCH_TO_DRAFT_KEY","SWITCH_TO_ACTIVE_KEY","initialSelectedKey","handleSelectedItemChange","event","selectedItemKey","getParameter","getProperty","_containingView","getController","editFlow","toggleDraftActive","getBindingContext","popover","close","destroy","openSwitchActivePopover","sourceControl","getSource","containingView","CommonUtils","getTargetView","context","isActiveEntity","getObject","IsActiveEntity","createPopover","addDependent","openBy","attachEventOnce","switchToDraftRef","current","focus","switchToActiveRef","getContent","textValue","ifElse","and","not","UI","IsEditable","IsCreateMode","Entity","HasDraft","pathInModel","visible","getSwitchDraftAndActiveVisibility","contextPath","RuntimeBuildingBlock"],"sourceRoot":"ObjectPage/components","sources":["DraftHandlerButton.block.tsx"],"sourcesContent":["import { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/BuildingBlockSupport\";\nimport RuntimeBuildingBlock from \"sap/fe/core/buildingBlocks/RuntimeBuildingBlock\";\nimport CommonUtils from \"sap/fe/core/CommonUtils\";\nimport { Entity, UI } from \"sap/fe/core/converters/helpers/BindingHelper\";\nimport { and, ifElse, not, pathInModel } from \"sap/fe/core/helpers/BindingToolkit\";\nimport { defineReference, PropertiesOf } from \"sap/fe/core/helpers/ClassSupport\";\nimport { Ref } from \"sap/fe/core/jsx-runtime/jsx\";\nimport PageController from \"sap/fe/core/PageController\";\nimport { getSwitchDraftAndActiveVisibility } from \"sap/fe/templates/ObjectPage/ObjectPageTemplating\";\nimport Button from \"sap/m/Button\";\nimport ResponsivePopover from \"sap/m/ResponsivePopover\";\nimport SelectList from \"sap/m/SelectList\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport Item from \"sap/ui/core/Item\";\nimport View from \"sap/ui/core/mvc/View\";\nimport Context from \"sap/ui/model/odata/v4/Context\";\n\n@defineBuildingBlock({ name: \"DraftHandlerButton\", namespace: \"sap.fe.templates.ObjectPage.components\" })\nexport default class DraftHandlerButtonBlock extends RuntimeBuildingBlock {\n\tprivate _containingView!: View;\n\n\tprivate popover?: ResponsivePopover;\n\n\tprivate readonly SWITCH_TO_DRAFT_KEY = \"switchToDraft\";\n\n\tprivate readonly SWITCH_TO_ACTIVE_KEY = \"switchToActive\";\n\n\tconstructor(props: PropertiesOf<DraftHandlerButtonBlock>) {\n\t\tsuper(props);\n\t}\n\n\t@blockAttribute({ type: \"string\" })\n\tpublic id?: string;\n\n\t@blockAttribute({ type: \"sap.ui.model.Context\" })\n\tpublic contextPath?: Context;\n\n\t@defineReference()\n\tpublic switchToActiveRef!: Ref<Item>;\n\n\t@defineReference()\n\tpublic switchToDraftRef!: Ref<Item>;\n\n\tprivate initialSelectedKey: string = this.SWITCH_TO_ACTIVE_KEY;\n\n\thandleSelectedItemChange = (event: Event) => {\n\t\tconst selectedItemKey = event.getParameter(\"item\").getProperty(\"key\");\n\t\tif (selectedItemKey !== this.initialSelectedKey) {\n\t\t\t(this._containingView.getController() as PageController).editFlow.toggleDraftActive(\n\t\t\t\tthis._containingView.getBindingContext() as Context\n\t\t\t);\n\t\t}\n\t\tif (this.popover) {\n\t\t\tthis.popover.close();\n\t\t\tthis.popover.destroy();\n\t\t\tdelete this.popover;\n\t\t}\n\t};\n\n\topenSwitchActivePopover = (event: Event) => {\n\t\tconst sourceControl = event.getSource() as Control;\n\t\tconst containingView = CommonUtils.getTargetView(sourceControl);\n\n\t\tconst context: Context = containingView.getBindingContext() as Context;\n\t\tconst isActiveEntity = context.getObject().IsActiveEntity;\n\t\tthis.initialSelectedKey = isActiveEntity ? this.SWITCH_TO_ACTIVE_KEY : this.SWITCH_TO_DRAFT_KEY;\n\t\tthis.popover = this.createPopover();\n\n\t\tthis._containingView = containingView;\n\t\tcontainingView.addDependent(this.popover);\n\t\tthis.popover.openBy(sourceControl);\n\t\tthis.popover.attachEventOnce(\"afterOpen\", () => {\n\t\t\tif (isActiveEntity) {\n\t\t\t\tthis.switchToDraftRef.current?.focus();\n\t\t\t} else {\n\t\t\t\tthis.switchToActiveRef.current?.focus();\n\t\t\t}\n\t\t});\n\t\treturn this.popover;\n\t};\n\n\tcreatePopover(): ResponsivePopover {\n\t\treturn (\n\t\t\t<ResponsivePopover\n\t\t\t\tshowHeader={false}\n\t\t\t\tcontentWidth={\"15.625rem\"}\n\t\t\t\tverticalScrolling={false}\n\t\t\t\tclass={\"sapUiNoContentPadding\"}\n\t\t\t\tplacement={\"Bottom\"}\n\t\t\t>\n\t\t\t\t<SelectList selectedKey={this.initialSelectedKey} itemPress={this.handleSelectedItemChange}>\n\t\t\t\t\t<Item\n\t\t\t\t\t\ttext={\"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISPLAY_DRAFT_MIT}\"}\n\t\t\t\t\t\tkey={this.SWITCH_TO_DRAFT_KEY}\n\t\t\t\t\t\tref={this.switchToDraftRef}\n\t\t\t\t\t/>\n\t\t\t\t\t<Item\n\t\t\t\t\t\ttext={\"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISPLAY_SAVED_VERSION_MIT}\"}\n\t\t\t\t\t\tkey={this.SWITCH_TO_ACTIVE_KEY}\n\t\t\t\t\t\tref={this.switchToActiveRef}\n\t\t\t\t\t/>\n\t\t\t\t</SelectList>\n\t\t\t</ResponsivePopover>\n\t\t);\n\t}\n\n\tgetContent() {\n\t\tconst textValue = ifElse(\n\t\t\tand(not(UI.IsEditable), not(UI.IsCreateMode), Entity.HasDraft),\n\t\t\tpathInModel(\"C_COMMON_OBJECT_PAGE_SAVED_VERSION_BUT\", \"sap.fe.i18n\"),\n\t\t\tpathInModel(\"C_COMMON_OBJECT_PAGE_DRAFT_BUT\", \"sap.fe.i18n\")\n\t\t);\n\t\tconst visible = getSwitchDraftAndActiveVisibility(this.contextPath!.getObject(\"@\"));\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\tid=\"fe::StandardAction::SwitchDraftAndActiveObject\"\n\t\t\t\t\ttext={textValue}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\ticon=\"sap-icon://navigation-down-arrow\"\n\t\t\t\t\ticonFirst={false}\n\t\t\t\t\ttype=\"Transparent\"\n\t\t\t\t\tpress={this.openSwitchActivePopover}\n\t\t\t\t\tariaDescribedBy={[\"fe::StandardAction::SwitchDraftAndActiveObject::AriaTextDraftSwitcher\"]}\n\t\t\t\t></Button>\n\t\t\t\t<InvisibleText\n\t\t\t\t\ttext=\"{sap.fe.i18n>T_HEADER_DATAPOINT_TITLE_DRAFT_SWITCHER_ARIA_BUTTON}\"\n\t\t\t\t\tid=\"fe::StandardAction::SwitchDraftAndActiveObject::AriaTextDraftSwitcher\"\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n}\n"],"mappings":"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"}},{"offset":{"line":6057,"column":0},"map":{"version":3,"names":["sap","ui","define","BuildingBlockSupport","RuntimeBuildingBlock","CommonUtils","BindingHelper","BindingToolkit","ClassSupport","ObjectPageTemplating","Button","ResponsivePopover","SelectList","InvisibleText","Item","_jsx","_jsxs","_Fragment","_dec","_dec2","_dec3","_dec4","_dec5","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_exports","getSwitchDraftAndActiveVisibility","defineReference","pathInModel","not","ifElse","and","UI","Entity","defineBuildingBlock","blockAttribute","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","DraftHandlerButtonBlock","name","namespace","type","_RuntimeBuildingBlock","props","_this","this","SWITCH_TO_DRAFT_KEY","SWITCH_TO_ACTIVE_KEY","initialSelectedKey","handleSelectedItemChange","event","selectedItemKey","getParameter","getProperty","_containingView","getController","editFlow","toggleDraftActive","getBindingContext","popover","close","destroy","openSwitchActivePopover","sourceControl","getSource","containingView","getTargetView","isActiveEntity","getObject","IsActiveEntity","createPopover","addDependent","openBy","attachEventOnce","_this$switchToDraftRe","switchToDraftRef","current","focus","_this$switchToActiveR","switchToActiveRef","_proto","showHeader","contentWidth","verticalScrolling","class","placement","children","selectedKey","itemPress","text","ref","getContent","textValue","IsEditable","IsCreateMode","HasDraft","visible","contextPath","id","icon","iconFirst","press","ariaDescribedBy"],"sources":["DraftHandlerButton.block-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage/components"}},{"offset":{"line":6062,"column":0},"map":{"version":3,"names":["StashableHBox","defineUI5Class","designtime","property","type","setTitle","sTitle","oControl","getTitleControl","setText","title","getTitle","fallbackTitle","onAfterRendering","getText","aItems","content","i","getItems","getMicroChartTitle","length","isA","getContent","HBox","StashedControlSupport","mixInto"],"sourceRoot":"ObjectPage/controls","sources":["StashableHBox.ts"],"sourcesContent":["import { defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport HBox from \"sap/m/HBox\";\nimport StashedControlSupport from \"sap/ui/core/StashedControlSupport\";\n@defineUI5Class(\"sap.fe.templates.ObjectPage.controls.StashableHBox\", {\n\tdesigntime: \"sap/fe/templates/ObjectPage/designtime/StashableHBox.designtime\"\n})\nclass StashableHBox extends HBox {\n\t/*\n\t * Title of the Header Facet. Not visible on the UI. Visible on the UI is the Title or Link control inside the items aggregation of the Header Facet.\n\t * Must always be in sync with the visible Title or Link control.\n\t */\n\t@property({ type: \"string\" })\n\ttitle!: string;\n\n\t/*\n\t * Fallback title to be displayed if no title is available (only needed for displaying stashed header facets in Flex dialog)\n\t */\n\t@property({ type: \"string\" })\n\tfallbackTitle!: string;\n\n\t/*\n\t * Set title of visible Title/Link control and own title property.\n\t */\n\tsetTitle(sTitle: any) {\n\t\tconst oControl = this.getTitleControl();\n\t\tif (oControl) {\n\t\t\toControl.setText(sTitle);\n\t\t}\n\t\tthis.title = sTitle;\n\n\t\treturn this;\n\t}\n\n\t/*\n\t * Return the title property.\n\t */\n\tgetTitle() {\n\t\treturn this.title || this.fallbackTitle;\n\t}\n\n\t/*\n\t * In case of UI changes, Title/Link text needs to be set to new value after Header Facet control and inner controls are rendered.\n\t * Else: title property needs to be initialized.\n\t */\n\tonAfterRendering() {\n\t\tif (this.title) {\n\t\t\tthis.setTitle(this.title);\n\t\t} else {\n\t\t\tconst oControl = this.getTitleControl();\n\t\t\tif (oControl) {\n\t\t\t\tthis.title = oControl.getText();\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Retrieves Title/Link control from items aggregation.\n\t */\n\tgetTitleControl() {\n\t\tlet aItems = [],\n\t\t\tcontent,\n\t\t\ti;\n\t\tif (this.getItems && this.getItems()[0] && (this.getItems()[0] as any).getItems) {\n\t\t\taItems = (this.getItems()[0] as any).getItems();\n\t\t} else if (this.getItems && this.getItems()[0] && (this.getItems()[0] as any).getMicroChartTitle) {\n\t\t\taItems = (this.getItems()[0] as any).getMicroChartTitle();\n\t\t}\n\t\tfor (i = 0; i < aItems.length; i++) {\n\t\t\tif (aItems[i].isA(\"sap.m.Title\") || aItems[i].isA(\"sap.m.Link\")) {\n\t\t\t\tif (aItems[i].isA(\"sap.m.Title\")) {\n\t\t\t\t\t// If a title was found, check if there is a link in the content aggregation\n\t\t\t\t\tcontent = aItems[i].getContent();\n\t\t\t\t\tif (content && content.isA(\"sap.m.Link\")) {\n\t\t\t\t\t\treturn content;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn aItems[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\nStashedControlSupport.mixInto(StashableHBox);\n\nexport default StashableHBox;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;MAMMA,aAAa,WAHlBC,cAAc,CAAC,oDAAoD,EAAE;IACrEC,UAAU,EAAE;EACb,CAAC,CAAC,UAMAC,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC,UAM5BD,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAS,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;IAG7B;AACD;AACA;IAFC,OAGAC,QAAQ,GAAR,kBAASC,MAAW,EAAE;MACrB,MAAMC,QAAQ,GAAG,IAAI,CAACC,eAAe,EAAE;MACvC,IAAID,QAAQ,EAAE;QACbA,QAAQ,CAACE,OAAO,CAACH,MAAM,CAAC;MACzB;MACA,IAAI,CAACI,KAAK,GAAGJ,MAAM;MAEnB,OAAO,IAAI;IACZ;;IAEA;AACD;AACA,OAFC;IAAA,OAGAK,QAAQ,GAAR,oBAAW;MACV,OAAO,IAAI,CAACD,KAAK,IAAI,IAAI,CAACE,aAAa;IACxC;;IAEA;AACD;AACA;AACA,OAHC;IAAA,OAIAC,gBAAgB,GAAhB,4BAAmB;MAClB,IAAI,IAAI,CAACH,KAAK,EAAE;QACf,IAAI,CAACL,QAAQ,CAAC,IAAI,CAACK,KAAK,CAAC;MAC1B,CAAC,MAAM;QACN,MAAMH,QAAQ,GAAG,IAAI,CAACC,eAAe,EAAE;QACvC,IAAID,QAAQ,EAAE;UACb,IAAI,CAACG,KAAK,GAAGH,QAAQ,CAACO,OAAO,EAAE;QAChC;MACD;IACD;;IAEA;AACD;AACA,OAFC;IAAA,OAGAN,eAAe,GAAf,2BAAkB;MACjB,IAAIO,MAAM,GAAG,EAAE;QACdC,OAAO;QACPC,CAAC;MACF,IAAI,IAAI,CAACC,QAAQ,IAAI,IAAI,CAACA,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAK,IAAI,CAACA,QAAQ,EAAE,CAAC,CAAC,CAAC,CAASA,QAAQ,EAAE;QAChFH,MAAM,GAAI,IAAI,CAACG,QAAQ,EAAE,CAAC,CAAC,CAAC,CAASA,QAAQ,EAAE;MAChD,CAAC,MAAM,IAAI,IAAI,CAACA,QAAQ,IAAI,IAAI,CAACA,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAK,IAAI,CAACA,QAAQ,EAAE,CAAC,CAAC,CAAC,CAASC,kBAAkB,EAAE;QACjGJ,MAAM,GAAI,IAAI,CAACG,QAAQ,EAAE,CAAC,CAAC,CAAC,CAASC,kBAAkB,EAAE;MAC1D;MACA,KAAKF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACK,MAAM,EAAEH,CAAC,EAAE,EAAE;QACnC,IAAIF,MAAM,CAACE,CAAC,CAAC,CAACI,GAAG,CAAC,aAAa,CAAC,IAAIN,MAAM,CAACE,CAAC,CAAC,CAACI,GAAG,CAAC,YAAY,CAAC,EAAE;UAChE,IAAIN,MAAM,CAACE,CAAC,CAAC,CAACI,GAAG,CAAC,aAAa,CAAC,EAAE;YACjC;YACAL,OAAO,GAAGD,MAAM,CAACE,CAAC,CAAC,CAACK,UAAU,EAAE;YAChC,IAAIN,OAAO,IAAIA,OAAO,CAACK,GAAG,CAAC,YAAY,CAAC,EAAE;cACzC,OAAOL,OAAO;YACf;UACD;UACA,OAAOD,MAAM,CAACE,CAAC,CAAC;QACjB;MACD;MACA,OAAO,IAAI;IACZ,CAAC;IAAA;EAAA,EA1E0BM,IAAI;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EA4EhCC,qBAAqB,CAACC,OAAO,CAACzB,aAAa,CAAC;EAAC,OAE9BA,aAAa;AAAA"}},{"offset":{"line":6172,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","HBox","StashedControlSupport","_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","property","defineUI5Class","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","StashableHBox","designtime","type","_HBox","_this","_len","arguments","length","args","Array","_key","this","_proto","setTitle","sTitle","oControl","getTitleControl","setText","title","getTitle","fallbackTitle","onAfterRendering","getText","aItems","content","i","getItems","getMicroChartTitle","isA","getContent","mixInto"],"sources":["StashableHBox-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage/controls"}},{"offset":{"line":6177,"column":0},"map":{"version":3,"names":["StashableVBox","defineUI5Class","designtime","VBox","StashedControlSupport","mixInto"],"sourceRoot":"ObjectPage/controls","sources":["StashableVBox.ts"],"sourcesContent":["import { defineUI5Class } from \"sap/fe/core/helpers/ClassSupport\";\nimport VBox from \"sap/m/VBox\";\nimport StashedControlSupport from \"sap/ui/core/StashedControlSupport\";\n@defineUI5Class(\"sap.fe.templates.ObjectPage.controls.StashableVBox\", {\n\tdesigntime: \"sap/fe/templates/ObjectPage/designtime/StashableVBox.designtime\"\n})\nclass StashableVBox extends VBox {}\nStashedControlSupport.mixInto(StashableVBox);\n\nexport default StashableVBox;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;MAMMA,aAAa,WAHlBC,cAAc,CAAC,oDAAoD,EAAE;IACrEC,UAAU,EAAE;EACb,CAAC,CAAC;IAAA;IAAA;MAAA;IAAA;IAAA;EAAA,EAC0BC,IAAI;EAChCC,qBAAqB,CAACC,OAAO,CAACL,aAAa,CAAC;EAAC,OAE9BA,aAAa;AAAA"}},{"offset":{"line":6200,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","VBox","StashedControlSupport","_dec","_class","defineUI5Class","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","StashableVBox","designtime","_VBox","apply","this","arguments","mixInto"],"sources":["StashableVBox-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,gEAAO,CAAC,mCAAoC,aAAc,qCAAsC,SAAUC,EAAcC,EAAMC,GACnI,aAEA,IAAIC,EAAMC,EACV,IAAIC,EAAiBL,EAAaK,eAClC,SAASC,EAAeC,EAAUC,GAAcD,EAASE,UAAYC,OAAOC,OAAOH,EAAWC,WAAYF,EAASE,UAAUG,YAAcL,EAAUM,EAAgBN,EAAUC,EAAa,CAC5L,SAASK,EAAgBC,EAAGC,GAAKF,EAAkBH,OAAOM,eAAiBN,OAAOM,eAAeC,OAAS,SAASJ,EAAgBC,EAAGC,GAAKD,EAAEI,UAAYH,EAAG,OAAOD,CAAG,EAAG,OAAOD,EAAgBC,EAAGC,EAAI,CACvM,IAAII,GAAiBhB,EAAOE,EAAe,qDAAsD,CAC/Fe,WAAY,oEACVjB,EAAKC,EAAsB,SAAUiB,GACvCf,EAAea,EAAeE,GAC9B,SAASF,IACP,OAAOE,EAAMC,MAAMC,KAAMC,YAAcD,IACzC,CACA,OAAOJ,CACT,CAN+B,CAM7BlB,KAAUG,GACZF,EAAsBuB,QAAQN,GAC9B,OAAOA,CACT,EAAG","sourceRoot":"ObjectPage/controls"}},{"offset":{"line":6205,"column":0},"map":{"version":3,"names":["BlockBaseFormAdjustment","uxapLib","SubSectionBlock","defineUI5Class","property","type","group","defaultValue","aggregation","multiple","init","_bConnected","_applyFormAdjustment","sFormAdjustment","getFormAdjustment","oView","_getSelectedViewContent","oParent","_oParentObjectPageSubSection","oFormAdjustmentFields","None","_computeFormAdjustmentFields","_oLayoutConfig","_adjustForm","setMode","sMode","setProperty","connectToModels","getAggregation","BlockBase"],"sourceRoot":"ObjectPage/controls","sources":["SubSectionBlock.ts"],"sourcesContent":["import { aggregation, defineUI5Class, property } from \"sap/fe/core/helpers/ClassSupport\";\nimport type Control from \"sap/ui/core/Control\";\nimport BlockBase from \"sap/uxap/BlockBase\";\nimport type { BlockBaseColumnLayout } from \"sap/uxap/library\";\nimport uxapLib from \"sap/uxap/library\";\nconst BlockBaseFormAdjustment = uxapLib.BlockBaseFormAdjustment;\n@defineUI5Class(\"sap.fe.templates.ObjectPage.controls.SubSectionBlock\")\nclass SubSectionBlock extends BlockBase {\n\t@property({ type: \"sap.uxap.BlockBaseColumnLayout\", group: \"Behavior\", defaultValue: 4 })\n\tcolumnLayout!: BlockBaseColumnLayout;\n\n\t@aggregation({ type: \"sap.ui.core.Control\", multiple: false })\n\tcontent!: Control;\n\n\tprivate _oParentObjectPageSubSection!: any;\n\n\tinit() {\n\t\tsuper.init();\n\t\t(this as any)._bConnected = true;\n\t}\n\n\t_applyFormAdjustment() {\n\t\tconst sFormAdjustment = this.getFormAdjustment(),\n\t\t\toView = this._getSelectedViewContent(),\n\t\t\toParent = this._oParentObjectPageSubSection;\n\t\tlet oFormAdjustmentFields;\n\n\t\tif (sFormAdjustment !== BlockBaseFormAdjustment.None && oView && oParent) {\n\t\t\toFormAdjustmentFields = this._computeFormAdjustmentFields(sFormAdjustment, oParent._oLayoutConfig);\n\n\t\t\tthis._adjustForm(oView, oFormAdjustmentFields);\n\t\t}\n\t}\n\n\tsetMode(sMode: any) {\n\t\tthis.setProperty(\"mode\", sMode);\n\t\t// OPTIONAL: this.internalModel.setProperty(\"/mode\", sMode);\n\t}\n\n\tconnectToModels() {\n\t\t// View is already connected to the UI5 model tree, hence no extra logic required here\n\t}\n\n\t/// SubSectionBlock use aggregation instead of a view, i.e. return that as the view content\n\t_getSelectedViewContent() {\n\t\treturn this.getAggregation(\"content\");\n\t}\n}\n\ninterface SubSectionBlock {\n\t_adjustForm(view: any, formFields: any): void;\n\t_computeFormAdjustmentFields(sFormAdjustment: any, _oLayoutConfig: any): any;\n}\n\nexport default SubSectionBlock;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;EAKA,MAAMA,uBAAuB,GAAGC,OAAO,CAACD,uBAAuB;EAAC,IAE1DE,eAAe,WADpBC,cAAc,CAAC,sDAAsD,CAAC,UAErEC,QAAQ,CAAC;IAAEC,IAAI,EAAE,gCAAgC;IAAEC,KAAK,EAAE,UAAU;IAAEC,YAAY,EAAE;EAAE,CAAC,CAAC,UAGxFC,WAAW,CAAC;IAAEH,IAAI,EAAE,qBAAqB;IAAEI,QAAQ,EAAE;EAAM,CAAC,CAAC;IAAA;IAAA;MAAA;MAAA;QAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;IAAA,OAK9DC,IAAI,GAAJ,gBAAO;MACN,qBAAMA,IAAI;MACT,IAAI,CAASC,WAAW,GAAG,IAAI;IACjC,CAAC;IAAA,OAEDC,oBAAoB,GAApB,gCAAuB;MACtB,MAAMC,eAAe,GAAG,IAAI,CAACC,iBAAiB,EAAE;QAC/CC,KAAK,GAAG,IAAI,CAACC,uBAAuB,EAAE;QACtCC,OAAO,GAAG,IAAI,CAACC,4BAA4B;MAC5C,IAAIC,qBAAqB;MAEzB,IAAIN,eAAe,KAAKb,uBAAuB,CAACoB,IAAI,IAAIL,KAAK,IAAIE,OAAO,EAAE;QACzEE,qBAAqB,GAAG,IAAI,CAACE,4BAA4B,CAACR,eAAe,EAAEI,OAAO,CAACK,cAAc,CAAC;QAElG,IAAI,CAACC,WAAW,CAACR,KAAK,EAAEI,qBAAqB,CAAC;MAC/C;IACD,CAAC;IAAA,OAEDK,OAAO,GAAP,iBAAQC,KAAU,EAAE;MACnB,IAAI,CAACC,WAAW,CAAC,MAAM,EAAED,KAAK,CAAC;MAC/B;IACD,CAAC;IAAA,OAEDE,eAAe,GAAf,2BAAkB;MACjB;IAAA;;IAGD;IAAA;IAAA,OACAX,uBAAuB,GAAvB,mCAA0B;MACzB,OAAO,IAAI,CAACY,cAAc,CAAC,SAAS,CAAC;IACtC,CAAC;IAAA;EAAA,EAvC4BC,SAAS;IAAA;IAAA;IAAA;IAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA,OA+CxB3B,eAAe;AAAA"}},{"offset":{"line":6284,"column":0},"map":{"version":3,"names":["sap","ui","define","ClassSupport","BlockBase","uxapLib","_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","property","defineUI5Class","aggregation","_initializerDefineProperty","target","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","BlockBaseFormAdjustment","SubSectionBlock","type","group","defaultValue","multiple","_BlockBase","_this","_len","arguments","length","args","Array","_key","this","_proto","init","_bConnected","_applyFormAdjustment","sFormAdjustment","getFormAdjustment","oView","_getSelectedViewContent","oParent","_oParentObjectPageSubSection","oFormAdjustmentFields","None","_computeFormAdjustmentFields","_oLayoutConfig","_adjustForm","setMode","sMode","setProperty","connectToModels","getAggregation"],"sources":["SubSectionBlock-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage/controls"}},{"offset":{"line":6289,"column":0},"map":{"version":3,"names":["ScrollableHeaderContainerFlexibility","moveControls","changeHandler","applyChange","change","control","propertyBag","MoveControls","sourceAggregation","targetAggregation","revertChange","completeChangeContent"],"sourceRoot":"ObjectPage/flexibility","sources":["ScrollableHeaderContainer.flexibility.ts"],"sourcesContent":["import type Control from \"sap/ui/core/Control\";\nimport type Change from \"sap/ui/fl/Change\";\nimport MoveControls from \"sap/ui/fl/changeHandler/MoveControls\";\n\nconst ScrollableHeaderContainerFlexibility = {\n\tmoveControls: {\n\t\tchangeHandler: {\n\t\t\tapplyChange: function (change: Change, control: Control, propertyBag: object) {\n\t\t\t\treturn MoveControls.applyChange(change, control, {\n\t\t\t\t\t...propertyBag,\n\t\t\t\t\tsourceAggregation: \"content\",\n\t\t\t\t\ttargetAggregation: \"content\"\n\t\t\t\t});\n\t\t\t},\n\t\t\t// all 3 changeHandlers have to be implemented\n\t\t\t// if variant managemant should be relevant for the object page header in future,\n\t\t\t// it might be necessary to override also the revertChange handler\n\t\t\trevertChange: MoveControls.revertChange,\n\t\t\tcompleteChangeContent: MoveControls.completeChangeContent\n\t\t}\n\t}\n};\nexport default ScrollableHeaderContainerFlexibility;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAIA,MAAMA,oCAAoC,GAAG;IAC5CC,YAAY,EAAE;MACbC,aAAa,EAAE;QACdC,WAAW,EAAE,UAAUC,MAAc,EAAEC,OAAgB,EAAEC,WAAmB,EAAE;UAC7E,OAAOC,YAAY,CAACJ,WAAW,CAACC,MAAM,EAAEC,OAAO,EAAE;YAChD,GAAGC,WAAW;YACdE,iBAAiB,EAAE,SAAS;YAC5BC,iBAAiB,EAAE;UACpB,CAAC,CAAC;QACH,CAAC;QACD;QACA;QACA;QACAC,YAAY,EAAEH,YAAY,CAACG,YAAY;QACvCC,qBAAqB,EAAEJ,YAAY,CAACI;MACrC;IACD;EACD,CAAC;EAAC,OACaX,oCAAoC;AAAA"}},{"offset":{"line":6316,"column":0},"map":{"version":3,"names":["sap","ui","define","MoveControls","ScrollableHeaderContainerFlexibility","moveControls","changeHandler","applyChange","change","control","propertyBag","sourceAggregation","targetAggregation","revertChange","completeChangeContent"],"sources":["ScrollableHeaderContainer.flexibility-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,2FAAO,CAAC,wCAAyC,SAAUC,GAChE,aAEA,MAAMC,EAAuC,CAC3CC,aAAc,CACZC,cAAe,CACbC,YAAa,SAAUC,EAAQC,EAASC,GACtC,OAAOP,EAAaI,YAAYC,EAAQC,EAAS,IAC5CC,EACHC,kBAAmB,UACnBC,kBAAmB,WAEvB,EAIAC,aAAcV,EAAaU,aAC3BC,sBAAuBX,EAAaW,yBAI1C,OAAOV,CACT,EAAG","sourceRoot":"ObjectPage/flexibility"}},{"offset":{"line":6321,"column":0},"map":{"version":3,"names":["StashableHBoxFlexibility","stashControl","unstashControl","renameHeaderFacet","BaseRename","createRenameChangeHandler","propertyName","translationTextType","changePropertyName"],"sourceRoot":"ObjectPage/flexibility","sources":["StashableHBox.flexibility.ts"],"sourcesContent":["import BaseRename from \"sap/ui/fl/changeHandler/BaseRename\";\n\nconst StashableHBoxFlexibility = {\n\tstashControl: \"default\",\n\tunstashControl: \"default\",\n\trenameHeaderFacet: BaseRename.createRenameChangeHandler({\n\t\tpropertyName: \"title\",\n\t\ttranslationTextType: \"XFLD\",\n\t\tchangePropertyName: \"headerFacetTitle\"\n\t})\n};\n\nexport default StashableHBoxFlexibility;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAEA,MAAMA,wBAAwB,GAAG;IAChCC,YAAY,EAAE,SAAS;IACvBC,cAAc,EAAE,SAAS;IACzBC,iBAAiB,EAAEC,UAAU,CAACC,yBAAyB,CAAC;MACvDC,YAAY,EAAE,OAAO;MACrBC,mBAAmB,EAAE,MAAM;MAC3BC,kBAAkB,EAAE;IACrB,CAAC;EACF,CAAC;EAAC,OAEaR,wBAAwB;AAAA"}},{"offset":{"line":6339,"column":0},"map":{"version":3,"names":["sap","ui","define","BaseRename","StashableHBoxFlexibility","stashControl","unstashControl","renameHeaderFacet","createRenameChangeHandler","propertyName","translationTextType","changePropertyName"],"sources":["StashableHBox.flexibility-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,+EAAO,CAAC,sCAAuC,SAAUC,GAC9D,aAEA,MAAMC,EAA2B,CAC/BC,aAAc,UACdC,eAAgB,UAChBC,kBAAmBJ,EAAWK,0BAA0B,CACtDC,aAAc,QACdC,oBAAqB,OACrBC,mBAAoB,sBAGxB,OAAOP,CACT,EAAG","sourceRoot":"ObjectPage/flexibility"}},{"offset":{"line":6344,"column":0},"map":{"version":3,"names":["StashableVBoxFlexibility","stashControl","unstashControl","moveControls"],"sourceRoot":"ObjectPage/flexibility","sources":["StashableVBox.flexibility.ts"],"sourcesContent":["const StashableVBoxFlexibility = {\n\tstashControl: \"default\",\n\tunstashControl: \"default\",\n\tmoveControls: \"default\"\n};\n\nexport default StashableVBoxFlexibility;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAAA,MAAMA,wBAAwB,GAAG;IAChCC,YAAY,EAAE,SAAS;IACvBC,cAAc,EAAE,SAAS;IACzBC,YAAY,EAAE;EACf,CAAC;EAAC,OAEaH,wBAAwB;AAAA"}},{"offset":{"line":6358,"column":0},"map":{"version":3,"names":["sap","ui","define","StashableVBoxFlexibility","stashControl","unstashControl","moveControls"],"sources":["StashableVBox.flexibility-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,+EAAO,GAAI,WAChB,aAEA,MAAMC,EAA2B,CAC/BC,aAAc,UACdC,eAAgB,UAChBC,aAAc,WAEhB,OAAOH,CACT,EAAG","sourceRoot":"ObjectPage/flexibility"}},{"offset":{"line":6363,"column":0},"map":{"version":3,"names":["IntentBasedNavigationOverride","adaptNavigationContext","oSelectionVariant","oTargetInfo","oView","getView","oController","getController","sMergeContext","intentBasedNavigation","adaptContextPreparationStrategy","oInternalModelContext","getBindingContext","oExternalNavigationContext","getProperty","oAppComponent","CommonUtils","getAppComponent","oMetaModel","getModel","getMetaModel","page","oPageContext","sMetaPath","getMetaPath","getPath","oPageContextData","_intentBasedNavigation","removeSensitiveData","getObject","oPageData","prepareContextForExternalNavigation","oPagePropertiesWithoutConflict","propertiesWithoutConflict","oPageSV","addPageContextToSelectionVariant","SelectionVariant","semanticAttributes","oPropertiesWithoutConflict","aSelectOptionPropertyNames","getSelectOptionsPropertyNames","forEach","sPropertyName","getSelectOption","massAddSelectOption","setProperty"],"sourceRoot":"ObjectPage/overrides","sources":["IntentBasedNavigation.ts"],"sourcesContent":["import CommonUtils from \"sap/fe/core/CommonUtils\";\nimport type IntentBasedNavigation from \"sap/fe/core/controllerextensions/IntentBasedNavigation\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport type PageController from \"sap/fe/core/PageController\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport type Context from \"sap/ui/model/Context\";\nimport type ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\n\nconst IntentBasedNavigationOverride = {\n\tadaptNavigationContext: function (this: IntentBasedNavigation, oSelectionVariant: any, oTargetInfo: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController() as PageController,\n\t\t\tsMergeContext: String = oController.intentBasedNavigation.adaptContextPreparationStrategy(oTargetInfo),\n\t\t\toInternalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext,\n\t\t\toExternalNavigationContext = oInternalModelContext.getProperty(\"externalNavigationContext\");\n\t\tconst oAppComponent = CommonUtils.getAppComponent(oView);\n\t\tconst oMetaModel = oAppComponent.getModel().getMetaModel() as ODataMetaModel;\n\t\tif (oExternalNavigationContext.page && sMergeContext === \"default\") {\n\t\t\tconst oPageContext = oView.getBindingContext() as Context,\n\t\t\t\tsMetaPath = oMetaModel.getMetaPath(oPageContext.getPath());\n\t\t\tconst oPageContextData = oController._intentBasedNavigation.removeSensitiveData(oPageContext.getObject(), sMetaPath),\n\t\t\t\toPageData = oController._intentBasedNavigation.prepareContextForExternalNavigation(oPageContextData, oPageContext),\n\t\t\t\toPagePropertiesWithoutConflict = oPageData.propertiesWithoutConflict,\n\t\t\t\t// TODO: move this also into the intent based navigation controller extension\n\t\t\t\toPageSV: any = CommonUtils.addPageContextToSelectionVariant(new SelectionVariant(), oPageData.semanticAttributes, oView),\n\t\t\t\toPropertiesWithoutConflict = oTargetInfo.propertiesWithoutConflict;\n\t\t\tconst aSelectOptionPropertyNames = oPageSV.getSelectOptionsPropertyNames();\n\t\t\taSelectOptionPropertyNames.forEach(function (sPropertyName: any) {\n\t\t\t\tif (!oSelectionVariant.getSelectOption(sPropertyName)) {\n\t\t\t\t\toSelectionVariant.massAddSelectOption(sPropertyName, oPageSV.getSelectOption(sPropertyName));\n\t\t\t\t} else {\n\t\t\t\t\t// Only when there is no conflict do we need to add something\n\t\t\t\t\t// in all other case the conflicted paths are already added in prepareContextForExternalNavigation\n\t\t\t\t\t// if property was without conflict in incoming context then add path from incoming context to SV\n\t\t\t\t\t// TO-DO. Remove the check for oPropertiesWithoutConflict once semantic links functionality is covered\n\t\t\t\t\tif (oPropertiesWithoutConflict && sPropertyName in oPropertiesWithoutConflict) {\n\t\t\t\t\t\toSelectionVariant.massAddSelectOption(\n\t\t\t\t\t\t\toPropertiesWithoutConflict[sPropertyName],\n\t\t\t\t\t\t\toSelectionVariant.getSelectOption(sPropertyName)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t// if property was without conflict in page context then add path from page context to SV\n\t\t\t\t\tif (sPropertyName in oPagePropertiesWithoutConflict) {\n\t\t\t\t\t\toSelectionVariant.massAddSelectOption(\n\t\t\t\t\t\t\toPagePropertiesWithoutConflict[sPropertyName],\n\t\t\t\t\t\t\toPageSV.getSelectOption(sPropertyName)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t// remove non public properties from targetInfo\n\t\t\tdelete oTargetInfo.propertiesWithoutConflict;\n\t\t}\n\t\toInternalModelContext.setProperty(\"externalNavigationContext\", { page: true });\n\t}\n};\n\nexport default IntentBasedNavigationOverride;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAQA,MAAMA,6BAA6B,GAAG;IACrCC,sBAAsB,EAAE,UAAuCC,iBAAsB,EAAEC,WAAgB,EAAE;MACxG,MAAMC,KAAK,GAAG,IAAI,CAACC,OAAO,EAAE;QAC3BC,WAAW,GAAGF,KAAK,CAACG,aAAa,EAAoB;QACrDC,aAAqB,GAAGF,WAAW,CAACG,qBAAqB,CAACC,+BAA+B,CAACP,WAAW,CAAC;QACtGQ,qBAAqB,GAAG,IAAI,CAACN,OAAO,EAAE,CAACO,iBAAiB,CAAC,UAAU,CAAyB;QAC5FC,0BAA0B,GAAGF,qBAAqB,CAACG,WAAW,CAAC,2BAA2B,CAAC;MAC5F,MAAMC,aAAa,GAAGC,WAAW,CAACC,eAAe,CAACb,KAAK,CAAC;MACxD,MAAMc,UAAU,GAAGH,aAAa,CAACI,QAAQ,EAAE,CAACC,YAAY,EAAoB;MAC5E,IAAIP,0BAA0B,CAACQ,IAAI,IAAIb,aAAa,KAAK,SAAS,EAAE;QACnE,MAAMc,YAAY,GAAGlB,KAAK,CAACQ,iBAAiB,EAAa;UACxDW,SAAS,GAAGL,UAAU,CAACM,WAAW,CAACF,YAAY,CAACG,OAAO,EAAE,CAAC;QAC3D,MAAMC,gBAAgB,GAAGpB,WAAW,CAACqB,sBAAsB,CAACC,mBAAmB,CAACN,YAAY,CAACO,SAAS,EAAE,EAAEN,SAAS,CAAC;UACnHO,SAAS,GAAGxB,WAAW,CAACqB,sBAAsB,CAACI,mCAAmC,CAACL,gBAAgB,EAAEJ,YAAY,CAAC;UAClHU,8BAA8B,GAAGF,SAAS,CAACG,yBAAyB;UACpE;UACAC,OAAY,GAAGlB,WAAW,CAACmB,gCAAgC,CAAC,IAAIC,gBAAgB,EAAE,EAAEN,SAAS,CAACO,kBAAkB,EAAEjC,KAAK,CAAC;UACxHkC,0BAA0B,GAAGnC,WAAW,CAAC8B,yBAAyB;QACnE,MAAMM,0BAA0B,GAAGL,OAAO,CAACM,6BAA6B,EAAE;QAC1ED,0BAA0B,CAACE,OAAO,CAAC,UAAUC,aAAkB,EAAE;UAChE,IAAI,CAACxC,iBAAiB,CAACyC,eAAe,CAACD,aAAa,CAAC,EAAE;YACtDxC,iBAAiB,CAAC0C,mBAAmB,CAACF,aAAa,EAAER,OAAO,CAACS,eAAe,CAACD,aAAa,CAAC,CAAC;UAC7F,CAAC,MAAM;YACN;YACA;YACA;YACA;YACA,IAAIJ,0BAA0B,IAAII,aAAa,IAAIJ,0BAA0B,EAAE;cAC9EpC,iBAAiB,CAAC0C,mBAAmB,CACpCN,0BAA0B,CAACI,aAAa,CAAC,EACzCxC,iBAAiB,CAACyC,eAAe,CAACD,aAAa,CAAC,CAChD;YACF;YACA;YACA,IAAIA,aAAa,IAAIV,8BAA8B,EAAE;cACpD9B,iBAAiB,CAAC0C,mBAAmB,CACpCZ,8BAA8B,CAACU,aAAa,CAAC,EAC7CR,OAAO,CAACS,eAAe,CAACD,aAAa,CAAC,CACtC;YACF;UACD;QACD,CAAC,CAAC;QACF;QACA,OAAOvC,WAAW,CAAC8B,yBAAyB;MAC7C;MACAtB,qBAAqB,CAACkC,WAAW,CAAC,2BAA2B,EAAE;QAAExB,IAAI,EAAE;MAAK,CAAC,CAAC;IAC/E;EACD,CAAC;EAAC,OAEarB,6BAA6B;AAAA"}},{"offset":{"line":6416,"column":0},"map":{"version":3,"names":["sap","ui","define","CommonUtils","SelectionVariant","IntentBasedNavigationOverride","adaptNavigationContext","oSelectionVariant","oTargetInfo","oView","this","getView","oController","getController","sMergeContext","intentBasedNavigation","adaptContextPreparationStrategy","oInternalModelContext","getBindingContext","oExternalNavigationContext","getProperty","oAppComponent","getAppComponent","oMetaModel","getModel","getMetaModel","page","oPageContext","sMetaPath","getMetaPath","getPath","oPageContextData","_intentBasedNavigation","removeSensitiveData","getObject","oPageData","prepareContextForExternalNavigation","oPagePropertiesWithoutConflict","propertiesWithoutConflict","oPageSV","addPageContextToSelectionVariant","semanticAttributes","oPropertiesWithoutConflict","aSelectOptionPropertyNames","getSelectOptionsPropertyNames","forEach","sPropertyName","getSelectOption","massAddSelectOption","setProperty"],"sources":["IntentBasedNavigation-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,yEAAO,CAAC,0BAA2B,sCAAuC,SAAUC,EAAaC,GACtG,aAEA,MAAMC,EAAgC,CACpCC,uBAAwB,SAAUC,EAAmBC,GACnD,MAAMC,EAAQC,KAAKC,UACjBC,EAAcH,EAAMI,gBACpBC,EAAgBF,EAAYG,sBAAsBC,gCAAgCR,GAClFS,EAAwBP,KAAKC,UAAUO,kBAAkB,YACzDC,EAA6BF,EAAsBG,YAAY,6BACjE,MAAMC,EAAgBlB,EAAYmB,gBAAgBb,GAClD,MAAMc,EAAaF,EAAcG,WAAWC,eAC5C,GAAIN,EAA2BO,MAAQZ,IAAkB,UAAW,CAClE,MAAMa,EAAelB,EAAMS,oBACzBU,EAAYL,EAAWM,YAAYF,EAAaG,WAClD,MAAMC,EAAmBnB,EAAYoB,uBAAuBC,oBAAoBN,EAAaO,YAAaN,GACxGO,EAAYvB,EAAYoB,uBAAuBI,oCAAoCL,EAAkBJ,GACrGU,EAAiCF,EAAUG,0BAE3CC,EAAUpC,EAAYqC,iCAAiC,IAAIpC,EAAoB+B,EAAUM,mBAAoBhC,GAC7GiC,EAA6BlC,EAAY8B,0BAC3C,MAAMK,EAA6BJ,EAAQK,gCAC3CD,EAA2BE,QAAQ,SAAUC,GAC3C,IAAKvC,EAAkBwC,gBAAgBD,GAAgB,CACrDvC,EAAkByC,oBAAoBF,EAAeP,EAAQQ,gBAAgBD,GAC/E,KAAO,CAKL,GAAIJ,GAA8BI,KAAiBJ,EAA4B,CAC7EnC,EAAkByC,oBAAoBN,EAA2BI,GAAgBvC,EAAkBwC,gBAAgBD,GACrH,CAEA,GAAIA,KAAiBT,EAAgC,CACnD9B,EAAkByC,oBAAoBX,EAA+BS,GAAgBP,EAAQQ,gBAAgBD,GAC/G,CACF,CACF,UAEOtC,EAAY8B,yBACrB,CACArB,EAAsBgC,YAAY,4BAA6B,CAC7DvB,KAAM,MAEV,GAEF,OAAOrB,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":6421,"column":0},"map":{"version":3,"names":["InternalRoutingExtension","onBeforeBinding","oContext","mParameters","getView","getController","_onBeforeBinding","onAfterBinding","_onAfterBinding","closeColumn","internalModelContext","getBindingContext","setProperty","context","path","getPath","metaModel","getModel","getMetaModel","metaPath","getMetaPath","technicalKeys","getObject","entry","technicalKeysObject","key","objKey"],"sourceRoot":"ObjectPage/overrides","sources":["InternalRouting.ts"],"sourcesContent":["import type InternalRouting from \"sap/fe/core/controllerextensions/InternalRouting\";\nimport { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\nimport type ObjectPageController from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport Context from \"sap/ui/model/odata/v4/Context\";\n\nconst InternalRoutingExtension = {\n\tonBeforeBinding: function (this: InternalRouting, oContext: any, mParameters: any) {\n\t\t(this.getView().getController() as ObjectPageController)._onBeforeBinding(oContext, mParameters);\n\t},\n\tonAfterBinding: function (this: InternalRouting, oContext: any, mParameters: any) {\n\t\t(this.getView().getController() as ObjectPageController)._onAfterBinding(oContext, mParameters);\n\t},\n\tcloseColumn: function (this: InternalRouting) {\n\t\tconst internalModelContext = this.getView().getBindingContext(\"internal\") as InternalModelContext;\n\t\tinternalModelContext.setProperty(\"fclColumnClosed\", true);\n\t\tconst context = this.getView().getBindingContext() as Context;\n\t\tconst path = (context && context.getPath()) || \"\";\n\t\tconst metaModel = context.getModel().getMetaModel();\n\t\tconst metaPath = metaModel.getMetaPath(path);\n\n\t\tconst technicalKeys = metaModel.getObject(`${metaPath}/$Type/$Key`);\n\t\tconst entry = context?.getObject();\n\t\tconst technicalKeysObject: Record<string, unknown> = {};\n\t\tfor (const key in technicalKeys) {\n\t\t\tconst objKey = technicalKeys[key];\n\t\t\tif (!technicalKeysObject[objKey]) {\n\t\t\t\ttechnicalKeysObject[objKey] = entry[objKey];\n\t\t\t}\n\t\t}\n\t\tinternalModelContext.setProperty(\"technicalKeysOfLastSeenRecord\", technicalKeysObject);\n\t}\n};\n\nexport default InternalRoutingExtension;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAKA,MAAMA,wBAAwB,GAAG;IAChCC,eAAe,EAAE,UAAiCC,QAAa,EAAEC,WAAgB,EAAE;MACjF,IAAI,CAACC,OAAO,EAAE,CAACC,aAAa,EAAE,CAA0BC,gBAAgB,CAACJ,QAAQ,EAAEC,WAAW,CAAC;IACjG,CAAC;IACDI,cAAc,EAAE,UAAiCL,QAAa,EAAEC,WAAgB,EAAE;MAChF,IAAI,CAACC,OAAO,EAAE,CAACC,aAAa,EAAE,CAA0BG,eAAe,CAACN,QAAQ,EAAEC,WAAW,CAAC;IAChG,CAAC;IACDM,WAAW,EAAE,YAAiC;MAC7C,MAAMC,oBAAoB,GAAG,IAAI,CAACN,OAAO,EAAE,CAACO,iBAAiB,CAAC,UAAU,CAAyB;MACjGD,oBAAoB,CAACE,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC;MACzD,MAAMC,OAAO,GAAG,IAAI,CAACT,OAAO,EAAE,CAACO,iBAAiB,EAAa;MAC7D,MAAMG,IAAI,GAAID,OAAO,IAAIA,OAAO,CAACE,OAAO,EAAE,IAAK,EAAE;MACjD,MAAMC,SAAS,GAAGH,OAAO,CAACI,QAAQ,EAAE,CAACC,YAAY,EAAE;MACnD,MAAMC,QAAQ,GAAGH,SAAS,CAACI,WAAW,CAACN,IAAI,CAAC;MAE5C,MAAMO,aAAa,GAAGL,SAAS,CAACM,SAAS,CAAE,GAAEH,QAAS,aAAY,CAAC;MACnE,MAAMI,KAAK,GAAGV,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAES,SAAS,EAAE;MAClC,MAAME,mBAA4C,GAAG,CAAC,CAAC;MACvD,KAAK,MAAMC,GAAG,IAAIJ,aAAa,EAAE;QAChC,MAAMK,MAAM,GAAGL,aAAa,CAACI,GAAG,CAAC;QACjC,IAAI,CAACD,mBAAmB,CAACE,MAAM,CAAC,EAAE;UACjCF,mBAAmB,CAACE,MAAM,CAAC,GAAGH,KAAK,CAACG,MAAM,CAAC;QAC5C;MACD;MACAhB,oBAAoB,CAACE,WAAW,CAAC,+BAA+B,EAAEY,mBAAmB,CAAC;IACvF;EACD,CAAC;EAAC,OAEaxB,wBAAwB;AAAA"}},{"offset":{"line":6456,"column":0},"map":{"version":3,"names":["sap","ui","define","InternalRoutingExtension","onBeforeBinding","oContext","mParameters","this","getView","getController","_onBeforeBinding","onAfterBinding","_onAfterBinding","closeColumn","internalModelContext","getBindingContext","setProperty","context","path","getPath","metaModel","getModel","getMetaModel","metaPath","getMetaPath","technicalKeys","getObject","entry","technicalKeysObject","key","objKey"],"sources":["InternalRouting-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,mEAAO,GAAI,WAChB,aAEA,MAAMC,EAA2B,CAC/BC,gBAAiB,SAAUC,EAAUC,GACnCC,KAAKC,UAAUC,gBAAgBC,iBAAiBL,EAAUC,EAC5D,EACAK,eAAgB,SAAUN,EAAUC,GAClCC,KAAKC,UAAUC,gBAAgBG,gBAAgBP,EAAUC,EAC3D,EACAO,YAAa,WACX,MAAMC,EAAuBP,KAAKC,UAAUO,kBAAkB,YAC9DD,EAAqBE,YAAY,kBAAmB,MACpD,MAAMC,EAAUV,KAAKC,UAAUO,oBAC/B,MAAMG,EAAOD,GAAWA,EAAQE,WAAa,GAC7C,MAAMC,EAAYH,EAAQI,WAAWC,eACrC,MAAMC,EAAWH,EAAUI,YAAYN,GACvC,MAAMO,EAAgBL,EAAUM,UAAU,GAAGH,gBAC7C,MAAMI,EAAQV,IAAY,MAAQA,SAAiB,OAAS,EAAIA,EAAQS,YACxE,MAAME,EAAsB,CAAC,EAC7B,IAAK,MAAMC,KAAOJ,EAAe,CAC/B,MAAMK,EAASL,EAAcI,GAC7B,IAAKD,EAAoBE,GAAS,CAChCF,EAAoBE,GAAUH,EAAMG,EACtC,CACF,CACAhB,EAAqBE,YAAY,gCAAiCY,EACpE,GAEF,OAAOzB,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":6461,"column":0},"map":{"version":3,"names":["MessageHandlerExtension","getShowBoundMessagesInMessageDialog","base","getModel","getProperty","getView","getBindingContext"],"sourceRoot":"ObjectPage/overrides","sources":["MessageHandler.ts"],"sourcesContent":["import type MessageHandler from \"sap/fe/core/controllerextensions/MessageHandler\";\nimport type { InternalModelContext } from \"sap/fe/core/helpers/ModelHelper\";\n\nconst MessageHandlerExtension = {\n\tgetShowBoundMessagesInMessageDialog: function (this: MessageHandler) {\n\t\t// in case of edit mode we show the messages in the message popover\n\t\treturn (\n\t\t\t!this.base.getModel(\"ui\").getProperty(\"/isEditable\") ||\n\t\t\t(this.base.getView().getBindingContext(\"internal\") as InternalModelContext).getProperty(\"isActionParameterDialogOpen\") ||\n\t\t\t(this.base.getView().getBindingContext(\"internal\") as InternalModelContext).getProperty(\"getBoundMessagesForMassEdit\")\n\t\t);\n\t}\n};\n\nexport default MessageHandlerExtension;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAGA,MAAMA,uBAAuB,GAAG;IAC/BC,mCAAmC,EAAE,YAAgC;MACpE;MACA,OACC,CAAC,IAAI,CAACC,IAAI,CAACC,QAAQ,CAAC,IAAI,CAAC,CAACC,WAAW,CAAC,aAAa,CAAC,IACnD,IAAI,CAACF,IAAI,CAACG,OAAO,EAAE,CAACC,iBAAiB,CAAC,UAAU,CAAC,CAA0BF,WAAW,CAAC,6BAA6B,CAAC,IACrH,IAAI,CAACF,IAAI,CAACG,OAAO,EAAE,CAACC,iBAAiB,CAAC,UAAU,CAAC,CAA0BF,WAAW,CAAC,6BAA6B,CAAC;IAExH;EACD,CAAC;EAAC,OAEaJ,uBAAuB;AAAA"}},{"offset":{"line":6476,"column":0},"map":{"version":3,"names":["sap","ui","define","MessageHandlerExtension","getShowBoundMessagesInMessageDialog","this","base","getModel","getProperty","getView","getBindingContext"],"sources":["MessageHandler-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,kEAAO,GAAI,WAChB,aAEA,MAAMC,EAA0B,CAC9BC,oCAAqC,WAEnC,OAAQC,KAAKC,KAAKC,SAAS,MAAMC,YAAY,gBAAkBH,KAAKC,KAAKG,UAAUC,kBAAkB,YAAYF,YAAY,gCAAkCH,KAAKC,KAAKG,UAAUC,kBAAkB,YAAYF,YAAY,8BAC/N,GAEF,OAAOL,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":6481,"column":0},"map":{"version":3,"names":["PaginatorExtensionOverride","onBeforeContextUpdate","oListBinding","iCurrentContextIndex","oCurrentView","getView","oControlContext","getBindingContext","aCurrentContexts","getCurrentContexts","oPaginatorCurrentContext","getPath","onContextUpdate","oContext","base","_routing","navigateToContext","callExtension"],"sourceRoot":"ObjectPage/overrides","sources":["Paginator.ts"],"sourcesContent":["import type Paginator from \"sap/fe/core/controllerextensions/Paginator\";\n\nconst PaginatorExtensionOverride = {\n\tonBeforeContextUpdate: function (this: Paginator, oListBinding: any, iCurrentContextIndex: any) {\n\t\tconst oCurrentView = this.getView(),\n\t\t\toControlContext = oCurrentView && oCurrentView.getBindingContext(),\n\t\t\taCurrentContexts = oListBinding && oListBinding.getCurrentContexts(),\n\t\t\toPaginatorCurrentContext = aCurrentContexts[iCurrentContextIndex];\n\n\t\tif (oPaginatorCurrentContext && oControlContext && oPaginatorCurrentContext.getPath() !== oControlContext.getPath()) {\n\t\t\t// Prevent default update of context index in Object Page Paginator when view context is different from the paginator context.\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tonContextUpdate: function (this: Paginator, oContext: any) {\n\t\tthis.base._routing.navigateToContext(oContext, { callExtension: true });\n\t}\n};\n\nexport default PaginatorExtensionOverride;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAEA,MAAMA,0BAA0B,GAAG;IAClCC,qBAAqB,EAAE,UAA2BC,YAAiB,EAAEC,oBAAyB,EAAE;MAC/F,MAAMC,YAAY,GAAG,IAAI,CAACC,OAAO,EAAE;QAClCC,eAAe,GAAGF,YAAY,IAAIA,YAAY,CAACG,iBAAiB,EAAE;QAClEC,gBAAgB,GAAGN,YAAY,IAAIA,YAAY,CAACO,kBAAkB,EAAE;QACpEC,wBAAwB,GAAGF,gBAAgB,CAACL,oBAAoB,CAAC;MAElE,IAAIO,wBAAwB,IAAIJ,eAAe,IAAII,wBAAwB,CAACC,OAAO,EAAE,KAAKL,eAAe,CAACK,OAAO,EAAE,EAAE;QACpH;QACA,OAAO,IAAI;MACZ;IACD,CAAC;IAEDC,eAAe,EAAE,UAA2BC,QAAa,EAAE;MAC1D,IAAI,CAACC,IAAI,CAACC,QAAQ,CAACC,iBAAiB,CAACH,QAAQ,EAAE;QAAEI,aAAa,EAAE;MAAK,CAAC,CAAC;IACxE;EACD,CAAC;EAAC,OAEajB,0BAA0B;AAAA"}},{"offset":{"line":6507,"column":0},"map":{"version":3,"names":["sap","ui","define","PaginatorExtensionOverride","onBeforeContextUpdate","oListBinding","iCurrentContextIndex","oCurrentView","this","getView","oControlContext","getBindingContext","aCurrentContexts","getCurrentContexts","oPaginatorCurrentContext","getPath","onContextUpdate","oContext","base","_routing","navigateToContext","callExtension"],"sources":["Paginator-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,6DAAO,GAAI,WAChB,aAEA,MAAMC,EAA6B,CACjCC,sBAAuB,SAAUC,EAAcC,GAC7C,MAAMC,EAAeC,KAAKC,UACxBC,EAAkBH,GAAgBA,EAAaI,oBAC/CC,EAAmBP,GAAgBA,EAAaQ,qBAChDC,EAA2BF,EAAiBN,GAC9C,GAAIQ,GAA4BJ,GAAmBI,EAAyBC,YAAcL,EAAgBK,UAAW,CAEnH,OAAO,IACT,CACF,EACAC,gBAAiB,SAAUC,GACzBT,KAAKU,KAAKC,SAASC,kBAAkBH,EAAU,CAC7CI,cAAe,MAEnB,GAEF,OAAOlB,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":6512,"column":0},"map":{"version":3,"names":["bGlobalIsStickySupported","createFilterToFetchActiveContext","mKeyValues","bIsActiveEntityDefined","aKeys","Object","keys","aFilters","filter","sKey","sValue","undefined","map","Filter","FilterOperator","EQ","oActiveFilter","filters","and","push","getActiveContextPath","oController","sPageEntityName","oFilter","oListBinding","getView","getBindingContext","getModel","bindList","$$groupId","requestContexts","then","oContexts","length","getPath","getActiveContextInstances","oContext","oEntitySet","aActiveContextpromises","aPages","sMetaPath","getMetaModel","getMetaPath","indexOf","substring","aMetaPathArray","split","sCurrentHashNoParams","HashChanger","getInstance","getHash","aCurrentHashArray","oPageMap","aPageHashArray","forEach","sPageHash","aKeyValues","sPageHashName","i","sKeyAssignment","aParts","sKeyValue","oMetaModel","aTechnicalKeys","getObject","join","lastIndexOf","decodeURIComponent","oPageEntitySet","sNavigationPath","oPageInfo","sPageEntitySetName","$NavigationPropertyBinding","pageEntityName","getActiveContextPaths","sRootEntityName","substr","oPageContext","Promise","all","aData","aActiveContextPaths","sActiveContextPath","sNavigatioProperty","sEntitySetName","values","replace","catch","oError","Log","info","resolve","fetchActiveContextPaths","oPromise","aSemanticKeys","oModel","ModelHelper","isStickySessionSupported","SemanticKeyHelper","getSemanticKeys","oViewData","getViewData","viewLevel","getShareUrl","bIsEditable","bIsStickySupported","sShareUrl","sHash","sBasePath","hrefForAppSpecificHash","window","location","hash","origin","pathname","search","getShareEmailUrl","oUShellContainer","sap","ushell","Container","getFLPUrlAsync","sFLPUrl","sError","error","document","URL","getJamUrl","bIsEditMode","sJamUrl","runningInIframe","getFLPUrl","sUrl","ShareExtensionOverride","adaptShareMetadata","oShareMetadata","base","oUIModel","getProperty","manifest","getAppComponent","getManifest","appId","id","appTitle","title","getController","oPageTitleInfo","_getPageTitleInformation","oData","sTitle","sObjectSubtitle","subtitle","toString","tile","email","jam","url","collaborationInfoModel","setProperty"],"sourceRoot":"ObjectPage/overrides","sources":["Share.ts"],"sourcesContent":["import Log from \"sap/base/Log\";\nimport type Share from \"sap/fe/core/controllerextensions/Share\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport SemanticKeyHelper from \"sap/fe/core/helpers/SemanticKeyHelper\";\nimport type ObjectPageController from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport HashChanger from \"sap/ui/core/routing/HashChanger\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\n\nlet bGlobalIsStickySupported: boolean;\n\nfunction createFilterToFetchActiveContext(mKeyValues: any, bIsActiveEntityDefined: any) {\n\tconst aKeys = Object.keys(mKeyValues);\n\n\tconst aFilters = aKeys\n\t\t.filter(function (sKey: string) {\n\t\t\tconst sValue = mKeyValues[sKey];\n\t\t\treturn sValue !== undefined;\n\t\t})\n\t\t.map(function (sKey: string) {\n\t\t\tconst sValue = mKeyValues[sKey];\n\t\t\treturn new Filter(sKey, FilterOperator.EQ, sValue);\n\t\t});\n\n\tif (bIsActiveEntityDefined) {\n\t\tconst oActiveFilter = new Filter({\n\t\t\tfilters: [new Filter(\"SiblingEntity/IsActiveEntity\", FilterOperator.EQ, true)],\n\t\t\tand: false\n\t\t});\n\n\t\taFilters.push(oActiveFilter);\n\t}\n\n\treturn new Filter(aFilters, true);\n}\nfunction getActiveContextPath(oController: any, sPageEntityName: any, oFilter: any) {\n\tconst oListBinding = oController\n\t\t.getView()\n\t\t.getBindingContext()\n\t\t.getModel()\n\t\t.bindList(`/${sPageEntityName}`, undefined, undefined, oFilter, { $$groupId: \"$auto.Heroes\" });\n\treturn oListBinding.requestContexts(0, 2).then(function (oContexts: any) {\n\t\tif (oContexts && oContexts.length) {\n\t\t\treturn oContexts[0].getPath();\n\t\t}\n\t});\n}\nfunction getActiveContextInstances(oContext: any, oController: any, oEntitySet: any) {\n\tconst aActiveContextpromises: any[] = [];\n\tconst aPages: any[] = [];\n\tlet sMetaPath = oContext.getModel().getMetaModel().getMetaPath(oContext.getPath());\n\tif (sMetaPath.indexOf(\"/\") === 0) {\n\t\tsMetaPath = sMetaPath.substring(1);\n\t}\n\tconst aMetaPathArray = sMetaPath.split(\"/\");\n\tconst sCurrentHashNoParams = HashChanger.getInstance().getHash().split(\"?\")[0];\n\tconst aCurrentHashArray = sCurrentHashNoParams.split(\"/\");\n\n\t// oPageMap - creating an object that contains map of metapath name and it's technical details\n\t// which is required to create a filter to fetch the relavant/correct active context\n\t// Example: {SalesOrderManage:{technicalID:technicalIDValue}, _Item:{technicalID:technicalIDValue}} etc.,\n\tconst oPageMap: any = {};\n\tconst aPageHashArray: any[] = [];\n\taCurrentHashArray.forEach(function (sPageHash: any) {\n\t\tconst aKeyValues = sPageHash.substring(sPageHash.indexOf(\"(\") + 1, sPageHash.length - 1).split(\",\");\n\t\tconst mKeyValues: any = {};\n\t\tconst sPageHashName = sPageHash.split(\"(\")[0];\n\t\toPageMap[sPageHashName] = {};\n\t\taPageHashArray.push(sPageHashName);\n\t\toPageMap[sPageHashName][\"bIsActiveEntityDefined\"] = true;\n\t\tfor (let i = 0; i < aKeyValues.length; i++) {\n\t\t\tconst sKeyAssignment = aKeyValues[i];\n\t\t\tconst aParts = sKeyAssignment.split(\"=\");\n\t\t\tlet sKeyValue = aParts[1];\n\t\t\tlet sKey = aParts[0];\n\t\t\t// In case if only one technical key is defined then the url just contains the technicalIDValue but not the technicalID\n\t\t\t// Example: SalesOrderManage(ID=11111129-aaaa-bbbb-cccc-ddddeeeeffff,IsActiveEntity=false)/_Item(11111129-aaaa-bbbb-cccc-ddddeeeeffff)\n\t\t\t// In above example SalesOrderItem has only one technical key defined, hence technicalID info is not present in the url\n\t\t\t// Hence in such cases we get technical key and use them to fetch active context\n\t\t\tif (sKeyAssignment.indexOf(\"=\") === -1) {\n\t\t\t\tconst oMetaModel = oContext.getModel().getMetaModel();\n\t\t\t\tconst aTechnicalKeys = oMetaModel.getObject(`/${aPageHashArray.join(\"/\")}/$Type/$Key`);\n\t\t\t\tsKeyValue = aParts[0];\n\t\t\t\tsKey = aTechnicalKeys[0];\n\t\t\t\toPageMap[sPageHash.split(\"(\")[0]][\"bIsActiveEntityDefined\"] = false;\n\t\t\t}\n\n\t\t\tif (sKey !== \"IsActiveEntity\") {\n\t\t\t\tif (sKeyValue.indexOf(\"'\") === 0 && sKeyValue.lastIndexOf(\"'\") === sKeyValue.length - 1) {\n\t\t\t\t\t// Remove the quotes from the value and decode special chars\n\t\t\t\t\tsKeyValue = decodeURIComponent(sKeyValue.substring(1, sKeyValue.length - 1));\n\t\t\t\t}\n\t\t\t\tmKeyValues[sKey] = sKeyValue;\n\t\t\t}\n\t\t}\n\t\toPageMap[sPageHashName].mKeyValues = mKeyValues;\n\t});\n\n\tlet oPageEntitySet = oEntitySet;\n\taMetaPathArray.forEach(function (sNavigationPath: any) {\n\t\tconst oPageInfo: any = {};\n\t\tconst sPageEntitySetName = oPageEntitySet.$NavigationPropertyBinding && oPageEntitySet.$NavigationPropertyBinding[sNavigationPath];\n\t\tif (sPageEntitySetName) {\n\t\t\toPageInfo.pageEntityName = oPageEntitySet.$NavigationPropertyBinding[sNavigationPath];\n\t\t\toPageEntitySet = oContext.getModel().getMetaModel().getObject(`/${sPageEntitySetName}`) || oEntitySet;\n\t\t} else {\n\t\t\toPageInfo.pageEntityName = sNavigationPath;\n\t\t}\n\t\toPageInfo.mKeyValues = oPageMap[sNavigationPath].mKeyValues;\n\t\toPageInfo.bIsActiveEntityDefined = oPageMap[sNavigationPath].bIsActiveEntityDefined;\n\t\taPages.push(oPageInfo);\n\t});\n\n\taPages.forEach(function (oPageInfo: any) {\n\t\tconst oFilter = createFilterToFetchActiveContext(oPageInfo.mKeyValues, oPageInfo.bIsActiveEntityDefined);\n\t\taActiveContextpromises.push(getActiveContextPath(oController, oPageInfo.pageEntityName, oFilter));\n\t});\n\n\treturn aActiveContextpromises;\n}\n\n/**\n * Method to fetch active context path's.\n *\n * @param oContext The Page Context\n * @param oController\n * @returns Promise which is resolved once the active context's are fetched\n */\nfunction getActiveContextPaths(oContext: any, oController: any) {\n\tconst sCurrentHashNoParams = HashChanger.getInstance().getHash().split(\"?\")[0];\n\tlet sRootEntityName = sCurrentHashNoParams && sCurrentHashNoParams.substr(0, sCurrentHashNoParams.indexOf(\"(\"));\n\tif (sRootEntityName.indexOf(\"/\") === 0) {\n\t\tsRootEntityName = sRootEntityName.substring(1);\n\t}\n\tconst oEntitySet = oContext.getModel().getMetaModel().getObject(`/${sRootEntityName}`);\n\tconst oPageContext = oContext;\n\tconst aActiveContextpromises = getActiveContextInstances(oContext, oController, oEntitySet);\n\tif (aActiveContextpromises.length > 0) {\n\t\treturn Promise.all(aActiveContextpromises)\n\t\t\t.then(function (aData: any[]) {\n\t\t\t\tconst aActiveContextPaths = [];\n\t\t\t\tlet oPageEntitySet = oEntitySet;\n\t\t\t\tif (aData[0].indexOf(\"/\") === 0) {\n\t\t\t\t\taActiveContextPaths.push(aData[0].substring(1));\n\t\t\t\t} else {\n\t\t\t\t\taActiveContextPaths.push(aData[0]);\n\t\t\t\t}\n\t\t\t\t// In the active context paths identify and replace the entitySet Name with corresponding navigation property name\n\t\t\t\t// Required to form the url pointing to active context\n\t\t\t\t// Example : SalesOrderItem --> _Item, MaterialDetails --> _MaterialDetails etc.,\n\t\t\t\tfor (let i = 1; i < aData.length; i++) {\n\t\t\t\t\tlet sActiveContextPath = aData[i];\n\t\t\t\t\tlet sNavigatioProperty = \"\";\n\t\t\t\t\tlet sEntitySetName = sActiveContextPath && sActiveContextPath.substr(0, sActiveContextPath.indexOf(\"(\"));\n\t\t\t\t\tif (sEntitySetName.indexOf(\"/\") === 0) {\n\t\t\t\t\t\tsEntitySetName = sEntitySetName.substring(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (sActiveContextPath.indexOf(\"/\") === 0) {\n\t\t\t\t\t\tsActiveContextPath = sActiveContextPath.substring(1);\n\t\t\t\t\t}\n\t\t\t\t\tsNavigatioProperty = Object.keys(oPageEntitySet.$NavigationPropertyBinding)[\n\t\t\t\t\t\tObject.values(oPageEntitySet.$NavigationPropertyBinding).indexOf(sEntitySetName)\n\t\t\t\t\t];\n\t\t\t\t\tif (sNavigatioProperty) {\n\t\t\t\t\t\taActiveContextPaths.push(sActiveContextPath.replace(sEntitySetName, sNavigatioProperty));\n\t\t\t\t\t\toPageEntitySet = oPageContext.getModel().getMetaModel().getObject(`/${sEntitySetName}`) || oEntitySet;\n\t\t\t\t\t} else {\n\t\t\t\t\t\taActiveContextPaths.push(sActiveContextPath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn aActiveContextPaths;\n\t\t\t})\n\t\t\t.catch(function (oError: any) {\n\t\t\t\tLog.info(\"Failed to retrieve one or more active context path's\", oError);\n\t\t\t});\n\t} else {\n\t\treturn Promise.resolve();\n\t}\n}\nfunction fetchActiveContextPaths(oContext: any, oController: any) {\n\tlet oPromise, aSemanticKeys;\n\tconst sCurrentHashNoParams = HashChanger.getInstance().getHash().split(\"?\")[0];\n\tif (oContext) {\n\t\tconst oModel = oContext.getModel();\n\t\tconst oMetaModel = oModel.getMetaModel();\n\t\tbGlobalIsStickySupported = ModelHelper.isStickySessionSupported(oMetaModel);\n\t\tlet sRootEntityName = sCurrentHashNoParams && sCurrentHashNoParams.substr(0, sCurrentHashNoParams.indexOf(\"(\"));\n\t\tif (sRootEntityName.indexOf(\"/\") === 0) {\n\t\t\tsRootEntityName = sRootEntityName.substring(1);\n\t\t}\n\t\taSemanticKeys = SemanticKeyHelper.getSemanticKeys(oMetaModel, sRootEntityName);\n\t}\n\t// Fetch active context details incase of below scenario's(where page is not sticky supported(we do not have draft instance))\n\t// 1. In case of draft enabled Object page where semantic key based URL is not possible(like semantic keys are not modeled in the entity set)\n\t// 2. In case of draft enabled Sub Object Pages (where semantic bookmarking is not supported)\n\tconst oViewData = oController.getView().getViewData();\n\tif (oContext && !bGlobalIsStickySupported && ((oViewData.viewLevel === 1 && !aSemanticKeys) || oViewData.viewLevel >= 2)) {\n\t\toPromise = getActiveContextPaths(oContext, oController);\n\t\treturn oPromise;\n\t} else {\n\t\treturn Promise.resolve();\n\t}\n}\n\n// /**\n//  * Get share URL.\n//  * @param bIsEditable\n//  * @param bIsStickySupported\n//  * @param aActiveContextPaths\n//  * @returns {string} The share URL\n//  * @protected\n//  * @static\n//  */\nfunction getShareUrl(bIsEditable: any, bIsStickySupported: any, aActiveContextPaths: any) {\n\tlet sShareUrl;\n\tconst sHash = HashChanger.getInstance().getHash();\n\tconst sBasePath = (HashChanger.getInstance() as any).hrefForAppSpecificHash\n\t\t? (HashChanger.getInstance() as any).hrefForAppSpecificHash(\"\")\n\t\t: \"\";\n\tif (bIsEditable && !bIsStickySupported && aActiveContextPaths) {\n\t\tsShareUrl = sBasePath + aActiveContextPaths.join(\"/\");\n\t} else {\n\t\tsShareUrl = sHash ? sBasePath + sHash : window.location.hash;\n\t}\n\treturn window.location.origin + window.location.pathname + window.location.search + sShareUrl;\n}\nfunction getShareEmailUrl() {\n\tconst oUShellContainer = sap.ushell && sap.ushell.Container;\n\tif (oUShellContainer) {\n\t\treturn oUShellContainer\n\t\t\t.getFLPUrlAsync(true)\n\t\t\t.then(function (sFLPUrl: any) {\n\t\t\t\treturn sFLPUrl;\n\t\t\t})\n\t\t\t.catch(function (sError: any) {\n\t\t\t\tLog.error(\"Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)\", sError);\n\t\t\t});\n\t} else {\n\t\treturn Promise.resolve(document.URL);\n\t}\n}\n\nfunction getJamUrl(bIsEditMode: boolean, bIsStickySupported: any, aActiveContextPaths: any) {\n\tlet sJamUrl: string;\n\tconst sHash = HashChanger.getInstance().getHash();\n\tconst sBasePath = (HashChanger.getInstance() as any).hrefForAppSpecificHash\n\t\t? (HashChanger.getInstance() as any).hrefForAppSpecificHash(\"\")\n\t\t: \"\";\n\tif (bIsEditMode && !bIsStickySupported && aActiveContextPaths) {\n\t\tsJamUrl = sBasePath + aActiveContextPaths.join(\"/\");\n\t} else {\n\t\tsJamUrl = sHash ? sBasePath + sHash : window.location.hash;\n\t}\n\t// in case we are in cFLP scenario, the application is running\n\t// inside an iframe, and there for we need to get the cFLP URL\n\t// and not 'document.URL' that represents the iframe URL\n\tif (sap.ushell && sap.ushell.Container && sap.ushell.Container.runningInIframe && sap.ushell.Container.runningInIframe()) {\n\t\tsap.ushell.Container.getFLPUrl(true)\n\t\t\t.then(function (sUrl: any) {\n\t\t\t\treturn sUrl.substr(0, sUrl.indexOf(\"#\")) + sJamUrl;\n\t\t\t})\n\t\t\t.catch(function (sError: any) {\n\t\t\t\tLog.error(\"Could not retrieve cFLP URL for the sharing dialog (dialog will not be opened)\", sError);\n\t\t\t});\n\t} else {\n\t\treturn Promise.resolve(window.location.origin + window.location.pathname + sJamUrl);\n\t}\n}\n\nconst ShareExtensionOverride = {\n\tadaptShareMetadata: async function (this: Share, oShareMetadata: any) {\n\t\tconst oContext = this.base.getView().getBindingContext();\n\t\tconst oUIModel = this.base.getView().getModel(\"ui\");\n\t\tconst bIsEditable = oUIModel.getProperty(\"/isEditable\");\n\n\t\ttry {\n\t\t\tconst manifest = this.base.getAppComponent().getManifest();\n\t\t\tconst appId = manifest?.[\"sap.app\"]?.id;\n\t\t\tconst appTitle = manifest?.[\"sap.app\"]?.title;\n\t\t\tconst aActiveContextPaths = await fetchActiveContextPaths(oContext, this.base.getView().getController());\n\t\t\tconst oPageTitleInfo = (this.base.getView().getController() as ObjectPageController)._getPageTitleInformation();\n\t\t\tconst oData = await Promise.all([\n\t\t\t\tgetJamUrl(bIsEditable, bGlobalIsStickySupported, aActiveContextPaths),\n\t\t\t\tgetShareUrl(bIsEditable, bGlobalIsStickySupported, aActiveContextPaths),\n\t\t\t\tgetShareEmailUrl()\n\t\t\t]);\n\n\t\t\tlet sTitle = oPageTitleInfo.title;\n\t\t\tconst sObjectSubtitle = oPageTitleInfo.subtitle ? oPageTitleInfo.subtitle.toString() : \"\";\n\t\t\tif (sObjectSubtitle) {\n\t\t\t\tsTitle = `${sTitle} - ${sObjectSubtitle}`;\n\t\t\t}\n\t\t\toShareMetadata.tile = {\n\t\t\t\ttitle: oPageTitleInfo.title,\n\t\t\t\tsubtitle: sObjectSubtitle\n\t\t\t};\n\t\t\toShareMetadata.email.title = sTitle;\n\t\t\toShareMetadata.title = sTitle;\n\t\t\toShareMetadata.jam.url = oData[0];\n\t\t\toShareMetadata.url = oData[1];\n\t\t\toShareMetadata.email.url = oData[2];\n\t\t\t// MS Teams collaboration does not want to allow further changes to the URL\n\t\t\t// so update colloborationInfo model at LR override to ignore further extension changes at multiple levels\n\t\t\tconst collaborationInfoModel: JSONModel = this.base.getView().getModel(\"collaborationInfo\") as JSONModel;\n\t\t\tcollaborationInfoModel.setProperty(\"/url\", oShareMetadata.url);\n\t\t\tcollaborationInfoModel.setProperty(\"/appTitle\", appTitle);\n\t\t\tcollaborationInfoModel.setProperty(\"/subTitle\", sObjectSubtitle);\n\t\t\tcollaborationInfoModel.setProperty(\"/appId\", appId);\n\t\t} catch (error: any) {\n\t\t\tLog.error(error);\n\t\t}\n\n\t\treturn oShareMetadata;\n\t}\n};\n\nexport default ShareExtensionOverride;\n"],"mappings":"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"}},{"offset":{"line":6793,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","ModelHelper","SemanticKeyHelper","HashChanger","Filter","FilterOperator","bGlobalIsStickySupported","createFilterToFetchActiveContext","mKeyValues","bIsActiveEntityDefined","aKeys","Object","keys","aFilters","filter","sKey","sValue","undefined","map","EQ","oActiveFilter","filters","and","push","getActiveContextPath","oController","sPageEntityName","oFilter","oListBinding","getView","getBindingContext","getModel","bindList","$$groupId","requestContexts","then","oContexts","length","getPath","getActiveContextInstances","oContext","oEntitySet","aActiveContextpromises","aPages","sMetaPath","getMetaModel","getMetaPath","indexOf","substring","aMetaPathArray","split","sCurrentHashNoParams","getInstance","getHash","aCurrentHashArray","oPageMap","aPageHashArray","forEach","sPageHash","aKeyValues","sPageHashName","i","sKeyAssignment","aParts","sKeyValue","oMetaModel","aTechnicalKeys","getObject","join","lastIndexOf","decodeURIComponent","oPageEntitySet","sNavigationPath","oPageInfo","sPageEntitySetName","$NavigationPropertyBinding","pageEntityName","getActiveContextPaths","sRootEntityName","substr","oPageContext","Promise","all","aData","aActiveContextPaths","sActiveContextPath","sNavigatioProperty","sEntitySetName","values","replace","catch","oError","info","resolve","fetchActiveContextPaths","oPromise","aSemanticKeys","oModel","isStickySessionSupported","getSemanticKeys","oViewData","getViewData","viewLevel","getShareUrl","bIsEditable","bIsStickySupported","sShareUrl","sHash","sBasePath","hrefForAppSpecificHash","window","location","hash","origin","pathname","search","getShareEmailUrl","oUShellContainer","ushell","Container","getFLPUrlAsync","sFLPUrl","sError","error","document","URL","getJamUrl","bIsEditMode","sJamUrl","runningInIframe","getFLPUrl","sUrl","ShareExtensionOverride","adaptShareMetadata","async","oShareMetadata","this","base","oUIModel","getProperty","_manifest$sapApp","_manifest$sapApp2","manifest","getAppComponent","getManifest","appId","id","appTitle","title","getController","oPageTitleInfo","_getPageTitleInformation","oData","sTitle","sObjectSubtitle","subtitle","toString","tile","email","jam","url","collaborationInfoModel","setProperty"],"sources":["Share-dbg.js"],"mappings":"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","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":6798,"column":0},"map":{"version":3,"names":["VariantManagement","CoreLibrary","ViewStateExtensionOverride","applyInitialStateOnly","adaptStateControls","aStateControls","oView","getView","oController","getController","oViewData","getViewData","bControlVM","variantManagement","Control","Page","None","Error","getVariantManagement","_findTables","forEach","oTable","oQuickFilter","getQuickFilter","push","getVariant","_findCharts","oChart","byId","adaptBindingRefreshControls","aControls","base","sRefreshStrategy","KeepAliveHelper","getViewRefreshInfo","aControlsToRefresh","oObjectPageControl","_getObjectPageLayoutControl","aViewControls","concat","getControlsForRefresh","reduce","aPrevControls","oControl","indexOf"],"sourceRoot":"ObjectPage/overrides","sources":["ViewState.ts"],"sourcesContent":["import type ViewState from \"sap/fe/core/controllerextensions/ViewState\";\nimport KeepAliveHelper from \"sap/fe/core/helpers/KeepAliveHelper\";\nimport CoreLibrary from \"sap/fe/core/library\";\nimport type ObjectPageController from \"sap/fe/templates/ObjectPage/ObjectPageController.controller\";\nimport type Control from \"sap/ui/core/Control\";\n\nconst VariantManagement = CoreLibrary.VariantManagement;\n\nconst ViewStateExtensionOverride = {\n\tapplyInitialStateOnly: function () {\n\t\treturn false;\n\t},\n\tadaptStateControls: function (this: ViewState, aStateControls: any) {\n\t\tconst oView = this.getView(),\n\t\t\toController = oView.getController(),\n\t\t\toViewData = oView.getViewData() as any;\n\t\tlet bControlVM = false;\n\n\t\tswitch (oViewData.variantManagement) {\n\t\t\tcase VariantManagement.Control:\n\t\t\t\tbControlVM = true;\n\t\t\t\tbreak;\n\t\t\tcase VariantManagement.Page:\n\t\t\tcase VariantManagement.None:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`unhandled variant setting: ${oViewData.getVariantManagement()}`);\n\t\t}\n\n\t\t(oController as ObjectPageController)._findTables().forEach(function (oTable: any) {\n\t\t\tconst oQuickFilter = oTable.getQuickFilter();\n\t\t\tif (oQuickFilter) {\n\t\t\t\taStateControls.push(oQuickFilter);\n\t\t\t}\n\t\t\tif (bControlVM) {\n\t\t\t\taStateControls.push(oTable.getVariant());\n\t\t\t}\n\t\t\taStateControls.push(oTable);\n\t\t});\n\n\t\t(oController as ObjectPageController)._findCharts().forEach(function (oChart: any) {\n\t\t\tif (bControlVM) {\n\t\t\t\taStateControls.push(oChart.getVariant());\n\t\t\t}\n\t\t\taStateControls.push(oChart);\n\t\t});\n\n\t\taStateControls.push(oView.byId(\"fe::ObjectPage\"));\n\t},\n\tadaptBindingRefreshControls: function (this: ViewState, aControls: any) {\n\t\tconst oView = this.base.getView(),\n\t\t\tsRefreshStrategy = KeepAliveHelper.getViewRefreshInfo(oView),\n\t\t\toController = oView.getController();\n\t\tlet aControlsToRefresh: Control[] = [];\n\n\t\tif (sRefreshStrategy) {\n\t\t\tconst oObjectPageControl = (oController as ObjectPageController)._getObjectPageLayoutControl();\n\t\t\taControlsToRefresh.push(oObjectPageControl);\n\t\t}\n\t\tif (sRefreshStrategy !== \"includingDependents\") {\n\t\t\tconst aViewControls = (oController as ObjectPageController)._findTables();\n\t\t\taControlsToRefresh = aControlsToRefresh.concat(KeepAliveHelper.getControlsForRefresh(oView, aViewControls) || []);\n\t\t}\n\t\treturn aControlsToRefresh.reduce(function (aPrevControls: any, oControl: any) {\n\t\t\tif (aPrevControls.indexOf(oControl) === -1) {\n\t\t\t\taPrevControls.push(oControl);\n\t\t\t}\n\t\t\treturn aPrevControls;\n\t\t}, aControls);\n\t}\n};\n\nexport default ViewStateExtensionOverride;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAMA,MAAMA,iBAAiB,GAAGC,WAAW,CAACD,iBAAiB;EAEvD,MAAME,0BAA0B,GAAG;IAClCC,qBAAqB,EAAE,YAAY;MAClC,OAAO,KAAK;IACb,CAAC;IACDC,kBAAkB,EAAE,UAA2BC,cAAmB,EAAE;MACnE,MAAMC,KAAK,GAAG,IAAI,CAACC,OAAO,EAAE;QAC3BC,WAAW,GAAGF,KAAK,CAACG,aAAa,EAAE;QACnCC,SAAS,GAAGJ,KAAK,CAACK,WAAW,EAAS;MACvC,IAAIC,UAAU,GAAG,KAAK;MAEtB,QAAQF,SAAS,CAACG,iBAAiB;QAClC,KAAKb,iBAAiB,CAACc,OAAO;UAC7BF,UAAU,GAAG,IAAI;UACjB;QACD,KAAKZ,iBAAiB,CAACe,IAAI;QAC3B,KAAKf,iBAAiB,CAACgB,IAAI;UAC1B;QACD;UACC,MAAM,IAAIC,KAAK,CAAE,8BAA6BP,SAAS,CAACQ,oBAAoB,EAAG,EAAC,CAAC;MAAC;MAGnFV,WAAW,CAA0BW,WAAW,EAAE,CAACC,OAAO,CAAC,UAAUC,MAAW,EAAE;QAClF,MAAMC,YAAY,GAAGD,MAAM,CAACE,cAAc,EAAE;QAC5C,IAAID,YAAY,EAAE;UACjBjB,cAAc,CAACmB,IAAI,CAACF,YAAY,CAAC;QAClC;QACA,IAAIV,UAAU,EAAE;UACfP,cAAc,CAACmB,IAAI,CAACH,MAAM,CAACI,UAAU,EAAE,CAAC;QACzC;QACApB,cAAc,CAACmB,IAAI,CAACH,MAAM,CAAC;MAC5B,CAAC,CAAC;MAEDb,WAAW,CAA0BkB,WAAW,EAAE,CAACN,OAAO,CAAC,UAAUO,MAAW,EAAE;QAClF,IAAIf,UAAU,EAAE;UACfP,cAAc,CAACmB,IAAI,CAACG,MAAM,CAACF,UAAU,EAAE,CAAC;QACzC;QACApB,cAAc,CAACmB,IAAI,CAACG,MAAM,CAAC;MAC5B,CAAC,CAAC;MAEFtB,cAAc,CAACmB,IAAI,CAAClB,KAAK,CAACsB,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAClD,CAAC;IACDC,2BAA2B,EAAE,UAA2BC,SAAc,EAAE;MACvE,MAAMxB,KAAK,GAAG,IAAI,CAACyB,IAAI,CAACxB,OAAO,EAAE;QAChCyB,gBAAgB,GAAGC,eAAe,CAACC,kBAAkB,CAAC5B,KAAK,CAAC;QAC5DE,WAAW,GAAGF,KAAK,CAACG,aAAa,EAAE;MACpC,IAAI0B,kBAA6B,GAAG,EAAE;MAEtC,IAAIH,gBAAgB,EAAE;QACrB,MAAMI,kBAAkB,GAAI5B,WAAW,CAA0B6B,2BAA2B,EAAE;QAC9FF,kBAAkB,CAACX,IAAI,CAACY,kBAAkB,CAAC;MAC5C;MACA,IAAIJ,gBAAgB,KAAK,qBAAqB,EAAE;QAC/C,MAAMM,aAAa,GAAI9B,WAAW,CAA0BW,WAAW,EAAE;QACzEgB,kBAAkB,GAAGA,kBAAkB,CAACI,MAAM,CAACN,eAAe,CAACO,qBAAqB,CAAClC,KAAK,EAAEgC,aAAa,CAAC,IAAI,EAAE,CAAC;MAClH;MACA,OAAOH,kBAAkB,CAACM,MAAM,CAAC,UAAUC,aAAkB,EAAEC,QAAa,EAAE;QAC7E,IAAID,aAAa,CAACE,OAAO,CAACD,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;UAC3CD,aAAa,CAAClB,IAAI,CAACmB,QAAQ,CAAC;QAC7B;QACA,OAAOD,aAAa;MACrB,CAAC,EAAEZ,SAAS,CAAC;IACd;EACD,CAAC;EAAC,OAEa5B,0BAA0B;AAAA"}},{"offset":{"line":6866,"column":0},"map":{"version":3,"names":["sap","ui","define","KeepAliveHelper","CoreLibrary","VariantManagement","ViewStateExtensionOverride","applyInitialStateOnly","adaptStateControls","aStateControls","oView","this","getView","oController","getController","oViewData","getViewData","bControlVM","variantManagement","Control","Page","None","Error","getVariantManagement","_findTables","forEach","oTable","oQuickFilter","getQuickFilter","push","getVariant","_findCharts","oChart","byId","adaptBindingRefreshControls","aControls","base","sRefreshStrategy","getViewRefreshInfo","aControlsToRefresh","oObjectPageControl","_getObjectPageLayoutControl","aViewControls","concat","getControlsForRefresh","reduce","aPrevControls","oControl","indexOf"],"sources":["ViewState-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,6DAAO,CAAC,sCAAuC,uBAAwB,SAAUC,EAAiBC,GACvG,aAEA,MAAMC,EAAoBD,EAAYC,kBACtC,MAAMC,EAA6B,CACjCC,sBAAuB,WACrB,OAAO,KACT,EACAC,mBAAoB,SAAUC,GAC5B,MAAMC,EAAQC,KAAKC,UACjBC,EAAcH,EAAMI,gBACpBC,EAAYL,EAAMM,cACpB,IAAIC,EAAa,MACjB,OAAQF,EAAUG,mBAChB,KAAKb,EAAkBc,QACrBF,EAAa,KACb,MACF,KAAKZ,EAAkBe,KACvB,KAAKf,EAAkBgB,KACrB,MACF,QACE,MAAM,IAAIC,MAAM,8BAA8BP,EAAUQ,0BAE5DV,EAAYW,cAAcC,QAAQ,SAAUC,GAC1C,MAAMC,EAAeD,EAAOE,iBAC5B,GAAID,EAAc,CAChBlB,EAAeoB,KAAKF,EACtB,CACA,GAAIV,EAAY,CACdR,EAAeoB,KAAKH,EAAOI,aAC7B,CACArB,EAAeoB,KAAKH,EACtB,GACAb,EAAYkB,cAAcN,QAAQ,SAAUO,GAC1C,GAAIf,EAAY,CACdR,EAAeoB,KAAKG,EAAOF,aAC7B,CACArB,EAAeoB,KAAKG,EACtB,GACAvB,EAAeoB,KAAKnB,EAAMuB,KAAK,kBACjC,EACAC,4BAA6B,SAAUC,GACrC,MAAMzB,EAAQC,KAAKyB,KAAKxB,UACtByB,EAAmBlC,EAAgBmC,mBAAmB5B,GACtDG,EAAcH,EAAMI,gBACtB,IAAIyB,EAAqB,GACzB,GAAIF,EAAkB,CACpB,MAAMG,EAAqB3B,EAAY4B,8BACvCF,EAAmBV,KAAKW,EAC1B,CACA,GAAIH,IAAqB,sBAAuB,CAC9C,MAAMK,EAAgB7B,EAAYW,cAClCe,EAAqBA,EAAmBI,OAAOxC,EAAgByC,sBAAsBlC,EAAOgC,IAAkB,GAChH,CACA,OAAOH,EAAmBM,OAAO,SAAUC,EAAeC,GACxD,GAAID,EAAcE,QAAQD,MAAe,EAAG,CAC1CD,EAAcjB,KAAKkB,EACrB,CACA,OAAOD,CACT,EAAGX,EACL,GAEF,OAAO7B,CACT,EAAG","sourceRoot":"ObjectPage/overrides"}},{"offset":{"line":6871,"column":0},"map":{"version":3,"names":["FooterContentBlock","defineBuildingBlock","name","namespace","blockAttribute","type","required","props","others","isDraftValidation","oDataMetaModel","contextPath","getModel","dataViewModelPath","getInvolvedDataModelObjects","startingEntitySet","ModelHelper","getDraftRoot","PreparationAction","entityType","annotations","Common","Messages","getActionModelPath","action","annotationPath","actionContext","getContext","undefined","getVisibility","_generateBindingsForActions","actions","length","map","resolveBindingString","visible","constant","determiningActions","filter","ActionType","DataFieldForAction","manifestActionBindings","ObjectPageTemplating","isManifestAction","deterMiningActionBindings","isNotHiddenDeterminingAction","find","actionContextModelPath","targetObject","UI","Hidden","or","and","IsEditable","not","pathInModel","getDraftIndicator","entitySet","targetEntitySet","commonAnnotation","DraftRoot","DraftNode","getApplyButton","view","emphasizedExpression","controller","getController","viewData","getViewData","isDesktop","fclEnabled","_applyDocument","getBindingContext","_validateDocument","createId","getPrimary","getTextSaveButton","saveButtonText","getTranslatedText","createButtonText","ifElse","Session","StickySessionSupported","IsCreateMode","Draft","IsNewObject","getCancelButton","isDraftRoot","compileExpression","getDataFieldForActionButton","generate","id","getManifestButton","getActionControls","emphasizedButtonExpression","buildEmphasizedButtonExpression","DefaultApply","Primary","Secondary","getContent","_getFooterVisibility","RuntimeBuildingBlock"],"sourceRoot":"ObjectPage/view/fragments","sources":["FooterContent.block.tsx"],"sourcesContent":["import type { EntitySet } from \"@sap-ux/vocabularies-types\";\nimport type { DataFieldForAction } from \"@sap-ux/vocabularies-types/vocabularies/UI\";\nimport { blockAttribute, defineBuildingBlock } from \"sap/fe/core/buildingBlocks/BuildingBlockSupport\";\nimport RuntimeBuildingBlock from \"sap/fe/core/buildingBlocks/RuntimeBuildingBlock\";\nimport { BaseAction } from \"sap/fe/core/converters/controls/Common/Action\";\nimport { Draft, UI } from \"sap/fe/core/converters/helpers/BindingHelper\";\nimport type { BaseManifestSettings } from \"sap/fe/core/converters/ManifestSettings\";\nimport { ActionType } from \"sap/fe/core/converters/ManifestSettings\";\nimport { getInvolvedDataModelObjects } from \"sap/fe/core/converters/MetaModelConverter\";\nimport {\n\tand,\n\tBindingToolkitExpression,\n\tcompileExpression,\n\tconstant,\n\tifElse,\n\tnot,\n\tor,\n\tpathInModel,\n\tresolveBindingString\n} from \"sap/fe/core/helpers/BindingToolkit\";\nimport { PropertiesOf } from \"sap/fe/core/helpers/ClassSupport\";\nimport ModelHelper from \"sap/fe/core/helpers/ModelHelper\";\nimport { generate } from \"sap/fe/core/helpers/StableIdHelper\";\nimport { DataModelObjectPath } from \"sap/fe/core/templating/DataModelPathHelper\";\nimport CustomActionBlock from \"sap/fe/macros/actions/CustomAction.block\";\nimport DataFieldForActionBlock from \"sap/fe/macros/actions/DataFieldForAction.block\";\nimport MessageButton from \"sap/fe/macros/messages/MessageButton\";\nimport Button from \"sap/m/Button\";\nimport DraftIndicator from \"sap/m/DraftIndicator\";\nimport Menu from \"sap/m/Menu\";\nimport MenuButton from \"sap/m/MenuButton\";\nimport MenuItem from \"sap/m/MenuItem\";\nimport OverflowToolbar from \"sap/m/OverflowToolbar\";\nimport OverflowToolbarLayoutData from \"sap/m/OverflowToolbarLayoutData\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport { PropertyBindingInfo } from \"sap/ui/base/ManagedObject\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport type View from \"sap/ui/core/mvc/View\";\nimport Context from \"sap/ui/model/Context\";\nimport v4Context from \"sap/ui/model/odata/v4/Context\";\nimport ODataMetaModel from \"sap/ui/model/odata/v4/ODataMetaModel\";\nimport type ObjectPageController from \"../../ObjectPageController.controller\";\nimport * as ObjectPageTemplating from \"../../ObjectPageTemplating\";\n\n@defineBuildingBlock({ name: \"FooterContent\", namespace: \"sap.fe.templates.ObjectPage.view.fragments\" })\nexport default class FooterContentBlock extends RuntimeBuildingBlock {\n\t@blockAttribute({\n\t\ttype: \"string\",\n\t\trequired: true\n\t})\n\tid!: string;\n\n\t@blockAttribute({ type: \"array\", required: true })\n\tactions!: BaseAction[];\n\n\t@blockAttribute({ type: \"sap.ui.model.Context\" })\n\tcontextPath?: Context;\n\n\toDataMetaModel!: ODataMetaModel;\n\tdataViewModelPath!: DataModelObjectPath;\n\tisDraftValidation: boolean = false;\n\n\tconstructor(props: PropertiesOf<FooterContentBlock>, ...others: any[]) {\n\t\tsuper(props, ...others);\n\t\tthis.oDataMetaModel = this.contextPath!.getModel() as unknown as ODataMetaModel;\n\t\tthis.dataViewModelPath = getInvolvedDataModelObjects(this.contextPath!);\n\t\tconst startingEntitySet = this.dataViewModelPath.startingEntitySet;\n\t\tthis.isDraftValidation = !!(\n\t\t\tModelHelper.getDraftRoot(startingEntitySet)?.PreparationAction && startingEntitySet?.entityType.annotations.Common?.Messages\n\t\t);\n\t}\n\n\tprivate getActionModelPath(action: BaseAction) {\n\t\tconst annotationPath = action.annotationPath;\n\t\tif (annotationPath) {\n\t\t\tconst actionContext = this.oDataMetaModel.getContext(annotationPath);\n\t\t\treturn getInvolvedDataModelObjects(actionContext);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Get the visibility of the ObjectPage footer content.\n\t *\n\t * @function\n\t * @name getVisibility\n\t * @returns The binding expression\n\t */\n\tgetVisibility() {\n\t\tconst _generateBindingsForActions = (actions: BaseAction[]) => {\n\t\t\tif (actions.length) {\n\t\t\t\treturn actions.map((action) =>\n\t\t\t\t\tresolveBindingString(action.visible ?? true, \"boolean\")\n\t\t\t\t) as BindingToolkitExpression<boolean>[];\n\t\t\t}\n\t\t\treturn [constant(false)];\n\t\t};\n\t\t// Actions are coming from the converter so only determining actions and not statically hidden are listed\n\t\tconst determiningActions = this.actions.filter((action) => action.type === ActionType.DataFieldForAction);\n\t\tconst manifestActionBindings = _generateBindingsForActions(\n\t\t\tthis.actions.filter((action) => ObjectPageTemplating.isManifestAction(action))\n\t\t);\n\t\tconst deterMiningActionBindings = _generateBindingsForActions(determiningActions);\n\n\t\tconst isNotHiddenDeterminingAction = !!determiningActions.find((action) => {\n\t\t\tconst actionContextModelPath = this.getActionModelPath(action);\n\t\t\treturn !(actionContextModelPath?.targetObject as DataFieldForAction | undefined)?.annotations?.UI?.Hidden;\n\t\t});\n\n\t\treturn or(\n\t\t\tisNotHiddenDeterminingAction,\n\t\t\tor(...manifestActionBindings),\n\t\t\tand(or(UI.IsEditable, or(...deterMiningActionBindings)), not(pathInModel(\"isCreateDialogOpen\", \"internal\")))\n\t\t);\n\t}\n\n\tgetDraftIndicator() {\n\t\tconst entitySet = (this.dataViewModelPath.targetEntitySet || this.dataViewModelPath.startingEntitySet) as EntitySet; // startingEntitySet is used on containment scenario\n\t\tconst commonAnnotation = entitySet.annotations?.Common;\n\t\tif (commonAnnotation?.DraftRoot || commonAnnotation?.DraftNode) {\n\t\t\treturn <DraftIndicator state=\"{ui>/draftStatus}\" visible=\"{ui>/isEditable}\" />;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate getApplyButton(view: View, emphasizedExpression: PropertyBindingInfo): Button | MenuButton {\n\t\tconst controller = view.getController() as ObjectPageController;\n\t\tconst viewData = view.getViewData() as BaseManifestSettings;\n\t\tif (this.isDraftValidation && !viewData.isDesktop && !viewData.fclEnabled) {\n\t\t\treturn (\n\t\t\t\t<MenuButton\n\t\t\t\t\ttext=\"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_APPLY_DRAFT}\"\n\t\t\t\t\tdefaultAction={() => controller._applyDocument(view.getBindingContext() as v4Context)}\n\t\t\t\t\tuseDefaultActionOnly=\"true\"\n\t\t\t\t\tbuttonMode=\"Split\"\n\t\t\t\t\ttype={emphasizedExpression}\n\t\t\t\t\tvisible={UI.IsEditable}\n\t\t\t\t>\n\t\t\t\t\t<Menu>\n\t\t\t\t\t\t<MenuItem text=\"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_VALIDATE_DRAFT}\" press={() => controller._validateDocument()} />\n\t\t\t\t\t</Menu>\n\t\t\t\t</MenuButton>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tid={this.createId(\"StandardAction::Apply\")}\n\t\t\t\ttext=\"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_APPLY_DRAFT}\"\n\t\t\t\ttype={emphasizedExpression}\n\t\t\t\tenabled={true}\n\t\t\t\tpress={() => controller._applyDocument(view.getBindingContext() as v4Context)}\n\t\t\t\tvisible=\"{ui>/isEditable}\"\n\t\t\t/>\n\t\t);\n\t}\n\n\tprivate getPrimary(view: View, emphasizedExpression: PropertyBindingInfo): Button | MenuButton {\n\t\tconst viewData = view.getViewData() as BaseManifestSettings;\n\t\tconst controller = view.getController() as ObjectPageController;\n\t\tif (this.isDraftValidation && !viewData.isDesktop) {\n\t\t\treturn (\n\t\t\t\t<MenuButton\n\t\t\t\t\ttext={this.getTextSaveButton()}\n\t\t\t\t\tjsx:command=\"cmd:Save|defaultAction\"\n\t\t\t\t\tuseDefaultActionOnly=\"true\"\n\t\t\t\t\tbuttonMode=\"Split\"\n\t\t\t\t\ttype={emphasizedExpression}\n\t\t\t\t\tvisible={UI.IsEditable}\n\t\t\t\t>\n\t\t\t\t\t<Menu>\n\t\t\t\t\t\t<MenuItem text=\"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_VALIDATE_DRAFT}\" press={() => controller._validateDocument()} />\n\t\t\t\t\t</Menu>\n\t\t\t\t</MenuButton>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tid={this.createId(\"StandardAction::Save\")}\n\t\t\t\ttext={this.getTextSaveButton()}\n\t\t\t\ttype={emphasizedExpression}\n\t\t\t\tvisible={UI.IsEditable}\n\t\t\t\tenabled={true}\n\t\t\t\tjsx:command=\"cmd:Save|press\"\n\t\t\t/>\n\t\t);\n\t}\n\n\tprivate getTextSaveButton() {\n\t\tconst saveButtonText = this.getTranslatedText(\"T_OP_OBJECT_PAGE_SAVE\");\n\t\tconst createButtonText = this.getTranslatedText(\"T_OP_OBJECT_PAGE_CREATE\");\n\t\t// If we're in sticky mode  -> the ui is in create mode, show Create, else show Save\n\t\t// If not -> we're in draft AND the draft is a new object (!IsActiveEntity && !HasActiveEntity), show create, else show save\n\t\treturn ifElse(\n\t\t\tifElse(\n\t\t\t\t(this.dataViewModelPath.startingEntitySet as EntitySet).annotations.Session?.StickySessionSupported !== undefined,\n\t\t\t\tUI.IsCreateMode,\n\t\t\t\tDraft.IsNewObject\n\t\t\t),\n\t\t\tcreateButtonText,\n\t\t\tsaveButtonText\n\t\t);\n\t}\n\n\tprivate getCancelButton(): Button {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tid={this.createId(\"StandardAction::Cancel\")}\n\t\t\t\ttext={\n\t\t\t\t\tModelHelper.isDraftRoot(this.dataViewModelPath.targetEntitySet)\n\t\t\t\t\t\t? \"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_DISCARD_DRAFT}\"\n\t\t\t\t\t\t: \"{sap.fe.i18n>C_COMMON_OBJECT_PAGE_CANCEL}\"\n\t\t\t\t}\n\t\t\t\tjsx:command=\"cmd:Cancel|press\"\n\t\t\t\tvisible={UI.IsEditable}\n\t\t\t\tariaHasPopup={compileExpression(ifElse(pathInModel(\"/isDocumentModified\", \"ui\"), constant(\"Dialog\"), constant(\"None\")))}\n\t\t\t\tenabled={true}\n\t\t\t\tlayoutData={<OverflowToolbarLayoutData priority=\"NeverOverflow\" />}\n\t\t\t/>\n\t\t);\n\t}\n\n\tprivate getDataFieldForActionButton(action: BaseAction): Button | undefined {\n\t\tif (action.annotationPath) {\n\t\t\treturn (\n\t\t\t\t<DataFieldForActionBlock\n\t\t\t\t\tid={generate([this.id, this.getActionModelPath(action)])}\n\t\t\t\t\taction={action}\n\t\t\t\t\tcontextPath={this.contextPath}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate getManifestButton(action: BaseAction): Button | undefined {\n\t\tif (ObjectPageTemplating.isManifestAction(action)) {\n\t\t\treturn <CustomActionBlock id={generate([\"fe\", \"FooterBar\", action.id])} action={action} />;\n\t\t}\n\t}\n\n\tgetActionControls(view: View) {\n\t\tconst emphasizedButtonExpression = ObjectPageTemplating.buildEmphasizedButtonExpression(this.dataViewModelPath);\n\t\treturn this.actions\n\t\t\t.map((action) => {\n\t\t\t\tswitch (action.type) {\n\t\t\t\t\tcase ActionType.DefaultApply:\n\t\t\t\t\t\treturn this.getApplyButton(view, emphasizedButtonExpression);\n\t\t\t\t\tcase ActionType.DataFieldForAction:\n\t\t\t\t\t\treturn this.getDataFieldForActionButton(action);\n\t\t\t\t\tcase ActionType.Primary:\n\t\t\t\t\t\treturn this.getPrimary(view, emphasizedButtonExpression);\n\t\t\t\t\tcase ActionType.Secondary:\n\t\t\t\t\t\treturn this.getCancelButton();\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn this.getManifestButton(action);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter((action): action is Button => !!action);\n\t}\n\n\tgetContent(view: View) {\n\t\tconst controller = view.getController() as ObjectPageController;\n\t\treturn (\n\t\t\t<OverflowToolbar id={this.id} asyncMode={true} visible={this.getVisibility()}>\n\t\t\t\t<InvisibleText\n\t\t\t\t\tid={this.createId(\"MessageButton::AriaText\")}\n\t\t\t\t\ttext=\"{sap.fe.i18n>C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_BUTTON_ARIA_TEXT}\"\n\t\t\t\t/>\n\t\t\t\t<MessageButton\n\t\t\t\t\tid={this.createId(\"MessageButton\")}\n\t\t\t\t\tmessageChange={() => controller._getFooterVisibility()}\n\t\t\t\t\tariaLabelledBy={[this.createId(\"MessageButton::AriaText\") as string]}\n\t\t\t\t\ttype=\"Emphasized\"\n\t\t\t\t\tariaHasPopup=\"Dialog\"\n\t\t\t\t/>\n\t\t\t\t<ToolbarSpacer />\n\t\t\t\t{this.getDraftIndicator()}\n\t\t\t\t{this.getActionControls(view)}\n\t\t\t</OverflowToolbar>\n\t\t);\n\t}\n}\n"],"mappings":"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"}},{"offset":{"line":7128,"column":0},"map":{"version":3,"names":["sap","ui","define","BuildingBlockSupport","RuntimeBuildingBlock","BindingHelper","ManifestSettings","MetaModelConverter","BindingToolkit","ModelHelper","StableIdHelper","CustomActionBlock","DataFieldForActionBlock","MessageButton","Button","DraftIndicator","Menu","MenuButton","MenuItem","OverflowToolbar","OverflowToolbarLayoutData","ToolbarSpacer","InvisibleText","ObjectPageTemplating","_jsx","_jsxs","_dec","_dec2","_dec3","_dec4","_class","_class2","_descriptor","_descriptor2","_descriptor3","_exports","generate","resolveBindingString","pathInModel","or","not","ifElse","constant","compileExpression","and","getInvolvedDataModelObjects","ActionType","UI","Draft","defineBuildingBlock","blockAttribute","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_applyDecoratedDescriptor","decorators","desc","keys","forEach","key","slice","reverse","reduce","decorator","undefined","_initializerWarningHelper","Error","FooterContentBlock","name","namespace","type","required","_RuntimeBuildingBlock","props","_ModelHelper$getDraft","_startingEntitySet$en","_this","_len","arguments","length","others","Array","_key","this","isDraftValidation","oDataMetaModel","contextPath","getModel","dataViewModelPath","startingEntitySet","getDraftRoot","PreparationAction","entityType","annotations","Common","Messages","_proto","getActionModelPath","action","annotationPath","actionContext","getContext","getVisibility","_generateBindingsForActions","actions","map","visible","determiningActions","filter","DataFieldForAction","manifestActionBindings","isManifestAction","deterMiningActionBindings","isNotHiddenDeterminingAction","find","_actionContextModelPa","_actionContextModelPa2","_actionContextModelPa3","actionContextModelPath","targetObject","Hidden","IsEditable","getDraftIndicator","_entitySet$annotation","entitySet","targetEntitySet","commonAnnotation","DraftRoot","DraftNode","state","getApplyButton","view","emphasizedExpression","controller","getController","viewData","getViewData","isDesktop","fclEnabled","text","defaultAction","_applyDocument","getBindingContext","useDefaultActionOnly","buttonMode","children","press","_validateDocument","id","createId","enabled","getPrimary","getTextSaveButton","_annotations$Session","saveButtonText","getTranslatedText","createButtonText","Session","StickySessionSupported","IsCreateMode","IsNewObject","getCancelButton","isDraftRoot","ariaHasPopup","layoutData","priority","getDataFieldForActionButton","getManifestButton","getActionControls","emphasizedButtonExpression","buildEmphasizedButtonExpression","DefaultApply","Primary","Secondary","getContent","asyncMode","messageChange","_getFooterVisibility","ariaLabelledBy"],"sources":["FooterContent.block-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,4EAAO,CAAC,kDAAmD,kDAAmD,+CAAgD,0CAA2C,4CAA6C,qCAAsC,kCAAmC,qCAAsC,2CAA4C,iDAAkD,uCAAwC,eAAgB,uBAAwB,aAAc,mBAAoB,iBAAkB,wBAAyB,kCAAmC,sBAAuB,4BAA6B,6BAA8B,8BAA+B,gCAAiC,SAAUC,EAAsBC,EAAsBC,EAAeC,EAAkBC,EAAoBC,EAAgBC,EAAaC,EAAgBC,EAAmBC,EAAyBC,EAAeC,EAAQC,EAAgBC,EAAMC,EAAYC,EAAUC,EAAiBC,EAA2BC,EAAeC,EAAeC,EAAsBC,EAAMC,GACvoC,aAEA,IAAIC,EAAMC,EAAOC,EAAOC,EAAOC,EAAQC,EAASC,EAAaC,EAAcC,EAC3E,IAAIC,EAAW,CAAC,EAChB,IAAIC,EAAW1B,EAAe0B,SAC9B,IAAIC,EAAuB7B,EAAe6B,qBAC1C,IAAIC,EAAc9B,EAAe8B,YACjC,IAAIC,EAAK/B,EAAe+B,GACxB,IAAIC,EAAMhC,EAAegC,IACzB,IAAIC,EAASjC,EAAeiC,OAC5B,IAAIC,EAAWlC,EAAekC,SAC9B,IAAIC,EAAoBnC,EAAemC,kBACvC,IAAIC,EAAMpC,EAAeoC,IACzB,IAAIC,EAA8BtC,EAAmBsC,4BACrD,IAAIC,EAAaxC,EAAiBwC,WAClC,IAAIC,EAAK1C,EAAc0C,GACvB,IAAIC,EAAQ3C,EAAc2C,MAC1B,IAAIC,EAAsB9C,EAAqB8C,oBAC/C,IAAIC,EAAiB/C,EAAqB+C,eAC1C,SAASC,EAA2BC,EAAQC,EAAUC,EAAYC,GAAW,IAAKD,EAAY,OAAQE,OAAOC,eAAeL,EAAQC,EAAU,CAAEK,WAAYJ,EAAWI,WAAYC,aAAcL,EAAWK,aAAcC,SAAUN,EAAWM,SAAUC,MAAOP,EAAWQ,YAAcR,EAAWQ,YAAYC,KAAKR,QAAgB,GAAM,CAC3U,SAASS,EAAuBC,GAAQ,GAAIA,SAAc,EAAG,CAAE,MAAM,IAAIC,eAAe,4DAA8D,CAAE,OAAOD,CAAM,CACrK,SAASE,EAAeC,EAAUC,GAAcD,EAASE,UAAYd,OAAOe,OAAOF,EAAWC,WAAYF,EAASE,UAAUE,YAAcJ,EAAUK,EAAgBL,EAAUC,EAAa,CAC5L,SAASI,EAAgBC,EAAGC,GAAKF,EAAkBjB,OAAOoB,eAAiBpB,OAAOoB,eAAeC,OAAS,SAASJ,EAAgBC,EAAGC,GAAKD,EAAEI,UAAYH,EAAG,OAAOD,CAAG,EAAG,OAAOD,EAAgBC,EAAGC,EAAI,CACvM,SAASI,EAA0B3B,EAAQC,EAAU2B,EAAY1B,EAAYC,GAAW,IAAI0B,EAAO,CAAC,EAAGzB,OAAO0B,KAAK5B,GAAY6B,QAAQ,SAAUC,GAAOH,EAAKG,GAAO9B,EAAW8B,EAAM,GAAIH,EAAKvB,aAAeuB,EAAKvB,WAAYuB,EAAKtB,eAAiBsB,EAAKtB,aAAc,GAAI,UAAWsB,GAAQA,EAAKnB,YAAa,CAAEmB,EAAKrB,SAAW,IAAM,CAAEqB,EAAOD,EAAWK,QAAQC,UAAUC,OAAO,SAAUN,EAAMO,GAAa,OAAOA,EAAUpC,EAAQC,EAAU4B,IAASA,CAAM,EAAGA,GAAO,GAAI1B,GAAW0B,EAAKnB,mBAAqB,EAAG,CAAEmB,EAAKpB,MAAQoB,EAAKnB,YAAcmB,EAAKnB,YAAYC,KAAKR,QAAgB,EAAG0B,EAAKnB,YAAc2B,SAAW,CAAE,GAAIR,EAAKnB,mBAAqB,EAAG,CAAEN,OAAOC,eAAeL,EAAQC,EAAU4B,GAAOA,EAAO,IAAM,CAAE,OAAOA,CAAM,CACntB,SAASS,EAA0BpC,EAAYC,GAAW,MAAM,IAAIoC,MAAM,wDAA0D,gFAAkF,CACtN,IAAIC,IAAsBlE,EAAOuB,EAAoB,CACnD4C,KAAM,gBACNC,UAAW,+CACTnE,EAAQuB,EAAe,CACzB6C,KAAM,SACNC,SAAU,OACRpE,EAAQsB,EAAe,CACzB6C,KAAM,QACNC,SAAU,OACRnE,EAAQqB,EAAe,CACzB6C,KAAM,yBACJrE,EAAKI,GAAUC,EAAuB,SAAUkE,GAClD9B,EAAeyB,EAAoBK,GACnC,SAASL,EAAmBM,GAC1B,IAAIC,EAAuBC,EAC3B,IAAIC,EACJ,IAAK,IAAIC,EAAOC,UAAUC,OAAQC,EAAS,IAAIC,MAAMJ,EAAO,EAAIA,EAAO,EAAI,GAAIK,EAAO,EAAGA,EAAOL,EAAMK,IAAQ,CAC5GF,EAAOE,EAAO,GAAKJ,UAAUI,EAC/B,CACAN,EAAQJ,EAAsBlC,KAAK6C,KAAMV,KAAUO,IAAWG,KAC9DzD,EAA2BkD,EAAO,KAAMrE,EAAagC,EAAuBqC,IAC5ElD,EAA2BkD,EAAO,UAAWpE,EAAc+B,EAAuBqC,IAClFlD,EAA2BkD,EAAO,cAAenE,EAAc8B,EAAuBqC,IACtFA,EAAMQ,kBAAoB,MAC1BR,EAAMS,eAAiBT,EAAMU,YAAYC,WACzCX,EAAMY,kBAAoBpE,EAA4BwD,EAAMU,aAC5D,MAAMG,EAAoBb,EAAMY,kBAAkBC,kBAClDb,EAAMQ,sBAAwBV,EAAwB1F,EAAY0G,aAAaD,MAAwB,MAAQf,SAA+B,GAAKA,EAAsBiB,mBAAqBF,IAAsB,MAAQA,SAA2B,IAAMd,EAAwBc,EAAkBG,WAAWC,YAAYC,UAAY,MAAQnB,SAA+B,GAAKA,EAAsBoB,UAC5Y,OAAOnB,CACT,CACAlE,EAAWyD,EACX,IAAI6B,EAAS7B,EAAmBtB,UAChCmD,EAAOC,mBAAqB,SAASA,EAAmBC,GACtD,MAAMC,EAAiBD,EAAOC,eAC9B,GAAIA,EAAgB,CAClB,MAAMC,EAAgBjB,KAAKE,eAAegB,WAAWF,GACrD,OAAO/E,EAA4BgF,EACrC,CACA,OAAOpC,SACT,EASAgC,EAAOM,cAAgB,SAASA,IAC9B,MAAMC,EAA8BC,IAClC,GAAIA,EAAQzB,OAAQ,CAClB,OAAOyB,EAAQC,IAAIP,GAAUtF,EAAqBsF,EAAOQ,SAAW,KAAM,WAC5E,CACA,MAAO,CAACzF,EAAS,OAAO,EAG1B,MAAM0F,EAAqBxB,KAAKqB,QAAQI,OAAOV,GAAUA,EAAO5B,OAASjD,EAAWwF,oBACpF,MAAMC,EAAyBP,EAA4BpB,KAAKqB,QAAQI,OAAOV,GAAUpG,EAAqBiH,iBAAiBb,KAC/H,MAAMc,EAA4BT,EAA4BI,GAC9D,MAAMM,IAAiCN,EAAmBO,KAAKhB,IAC7D,IAAIiB,EAAuBC,EAAwBC,EACnD,MAAMC,EAAyBnC,KAAKc,mBAAmBC,GACvD,QAASoB,IAA2B,MAAQA,SAAgC,IAAMH,EAAwBG,EAAuBC,gBAAkB,MAAQJ,SAA+B,IAAMC,EAAyBD,EAAsBtB,eAAiB,MAAQuB,SAAgC,IAAMC,EAAyBD,EAAuB9F,MAAQ,MAAQ+F,SAAgC,GAAKA,EAAuBG,OAAO,GAEnb,OAAO1G,EAAGmG,EAA8BnG,KAAMgG,GAAyB3F,EAAIL,EAAGQ,EAAGmG,WAAY3G,KAAMkG,IAA6BjG,EAAIF,EAAY,qBAAsB,cACxK,EACAmF,EAAO0B,kBAAoB,SAASA,IAClC,IAAIC,EACJ,MAAMC,EAAYzC,KAAKK,kBAAkBqC,iBAAmB1C,KAAKK,kBAAkBC,kBACnF,MAAMqC,GAAoBH,EAAwBC,EAAU/B,eAAiB,MAAQ8B,SAA+B,OAAS,EAAIA,EAAsB7B,OACvJ,GAAIgC,IAAqB,MAAQA,SAA0B,GAAKA,EAAiBC,WAAaD,IAAqB,MAAQA,SAA0B,GAAKA,EAAiBE,UAAW,CACpL,OAAOjI,EAAKT,EAAgB,CAC1B2I,MAAO,oBACPvB,QAAS,oBAEb,CACA,OAAO1C,SACT,EACAgC,EAAOkC,eAAiB,SAASA,EAAeC,EAAMC,GACpD,MAAMC,EAAaF,EAAKG,gBACxB,MAAMC,EAAWJ,EAAKK,cACtB,GAAIrD,KAAKC,oBAAsBmD,EAASE,YAAcF,EAASG,WAAY,CACzE,OAAO3I,EAAKP,EAAY,CACtBmJ,KAAM,iDACNC,cAAe,IAAMP,EAAWQ,eAAeV,EAAKW,qBACpDC,qBAAsB,OACtBC,WAAY,QACZ1E,KAAM8D,EACN1B,QAASpF,EAAGmG,WACZwB,SAAUlJ,EAAKR,EAAM,CACnB0J,SAAUlJ,EAAKN,EAAU,CACvBkJ,KAAM,oDACNO,MAAO,IAAMb,EAAWc,yBAIhC,CACA,OAAOpJ,EAAKV,EAAQ,CAClB+J,GAAIjE,KAAKkE,SAAS,yBAClBV,KAAM,iDACNrE,KAAM8D,EACNkB,QAAS,KACTJ,MAAO,IAAMb,EAAWQ,eAAeV,EAAKW,qBAC5CpC,QAAS,oBAEb,EACAV,EAAOuD,WAAa,SAASA,EAAWpB,EAAMC,GAC5C,MAAMG,EAAWJ,EAAKK,cACtB,MAAMH,EAAaF,EAAKG,gBACxB,GAAInD,KAAKC,oBAAsBmD,EAASE,UAAW,CACjD,OAAO1I,EAAKP,EAAY,CACtBmJ,KAAMxD,KAAKqE,oBACX,cAAe,yBACfT,qBAAsB,OACtBC,WAAY,QACZ1E,KAAM8D,EACN1B,QAASpF,EAAGmG,WACZwB,SAAUlJ,EAAKR,EAAM,CACnB0J,SAAUlJ,EAAKN,EAAU,CACvBkJ,KAAM,oDACNO,MAAO,IAAMb,EAAWc,yBAIhC,CACA,OAAOpJ,EAAKV,EAAQ,CAClB+J,GAAIjE,KAAKkE,SAAS,wBAClBV,KAAMxD,KAAKqE,oBACXlF,KAAM8D,EACN1B,QAASpF,EAAGmG,WACZ6B,QAAS,KACT,cAAe,kBAEnB,EACAtD,EAAOwD,kBAAoB,SAASA,IAClC,IAAIC,EACJ,MAAMC,EAAiBvE,KAAKwE,kBAAkB,yBAC9C,MAAMC,EAAmBzE,KAAKwE,kBAAkB,2BAGhD,OAAO3I,EAAOA,IAASyI,EAAuBtE,KAAKK,kBAAkBC,kBAAkBI,YAAYgE,WAAa,MAAQJ,SAA8B,OAAS,EAAIA,EAAqBK,0BAA4B9F,UAAW1C,EAAGyI,aAAcxI,EAAMyI,aAAcJ,EAAkBF,EACxR,EACA1D,EAAOiE,gBAAkB,SAASA,IAChC,OAAOlK,EAAKV,EAAQ,CAClB+J,GAAIjE,KAAKkE,SAAS,0BAClBV,KAAM3J,EAAYkL,YAAY/E,KAAKK,kBAAkBqC,iBAAmB,mDAAqD,4CAC7H,cAAe,mBACfnB,QAASpF,EAAGmG,WACZ0C,aAAcjJ,EAAkBF,EAAOH,EAAY,sBAAuB,MAAOI,EAAS,UAAWA,EAAS,UAC9GqI,QAAS,KACTc,WAAYrK,EAAKJ,EAA2B,CAC1C0K,SAAU,mBAGhB,EACArE,EAAOsE,4BAA8B,SAASA,EAA4BpE,GACxE,GAAIA,EAAOC,eAAgB,CACzB,OAAOpG,EAAKZ,EAAyB,CACnCiK,GAAIzI,EAAS,CAACwE,KAAKiE,GAAIjE,KAAKc,mBAAmBC,KAC/CA,OAAQA,EACRZ,YAAaH,KAAKG,aAEtB,CACF,EACAU,EAAOuE,kBAAoB,SAASA,EAAkBrE,GACpD,GAAIpG,EAAqBiH,iBAAiBb,GAAS,CACjD,OAAOnG,EAAKb,EAAmB,CAC7BkK,GAAIzI,EAAS,CAAC,KAAM,YAAauF,EAAOkD,KACxClD,OAAQA,GAEZ,CACF,EACAF,EAAOwE,kBAAoB,SAASA,EAAkBrC,GACpD,MAAMsC,EAA6B3K,EAAqB4K,gCAAgCvF,KAAKK,mBAC7F,OAAOL,KAAKqB,QAAQC,IAAIP,IACtB,OAAQA,EAAO5B,MACb,KAAKjD,EAAWsJ,aACd,OAAOxF,KAAK+C,eAAeC,EAAMsC,GACnC,KAAKpJ,EAAWwF,mBACd,OAAO1B,KAAKmF,4BAA4BpE,GAC1C,KAAK7E,EAAWuJ,QACd,OAAOzF,KAAKoE,WAAWpB,EAAMsC,GAC/B,KAAKpJ,EAAWwJ,UACd,OAAO1F,KAAK8E,kBACd,QACE,OAAO9E,KAAKoF,kBAAkBrE,GAClC,GACCU,OAAOV,KAAYA,EACxB,EACAF,EAAO8E,WAAa,SAASA,EAAW3C,GACtC,MAAME,EAAaF,EAAKG,gBACxB,OAAOtI,EAAMN,EAAiB,CAC5B0J,GAAIjE,KAAKiE,GACT2B,UAAW,KACXrE,QAASvB,KAAKmB,gBACd2C,SAAU,CAAClJ,EAAKF,EAAe,CAC7BuJ,GAAIjE,KAAKkE,SAAS,2BAClBV,KAAM,sEACJ5I,EAAKX,EAAe,CACtBgK,GAAIjE,KAAKkE,SAAS,iBAClB2B,cAAe,IAAM3C,EAAW4C,uBAChCC,eAAgB,CAAC/F,KAAKkE,SAAS,4BAC/B/E,KAAM,aACN6F,aAAc,WACZpK,EAAKH,EAAe,CAAC,GAAIuF,KAAKuC,oBAAqBvC,KAAKqF,kBAAkBrC,KAElF,EACA,OAAOhE,CACT,CArM0C,CAqMxCxF,GAAwB4B,EAAc+C,EAA0BhD,EAAQuC,UAAW,KAAM,CAAC3C,GAAQ,CAClGgC,aAAc,KACdD,WAAY,KACZE,SAAU,KACVE,YAAa,OACX7B,EAAe8C,EAA0BhD,EAAQuC,UAAW,UAAW,CAAC1C,GAAQ,CAClF+B,aAAc,KACdD,WAAY,KACZE,SAAU,KACVE,YAAa,OACX5B,EAAe6C,EAA0BhD,EAAQuC,UAAW,cAAe,CAACzC,GAAQ,CACtF8B,aAAc,KACdD,WAAY,KACZE,SAAU,KACVE,YAAa,OACV/B,KAAaD,GAClBK,EAAWyD,GACX,OAAOzD,CACT,EAAG","sourceRoot":"ObjectPage/view/fragments"}},{"offset":{"line":7133,"column":0},"map":{"version":3,"names":["TableScroller","scrollTableToRow","oTable","sRowPath","oTableRowBinding","getRowBinding","getTableContexts","data","getContexts","getCurrentContexts","findAndScroll","oTableRow","find","item","getPath","getIndex","undefined","scrollToIndex","getGroupConditions","groupLevels","length","oTableRowBindingContexts","getLength","some","context","attachEventOnce"],"sourceRoot":"","sources":["TableScroller.ts"],"sourcesContent":["import type MdcTable from \"sap/ui/mdc/Table\";\nimport type ODataListBinding from \"sap/ui/model/odata/v4/ODataListBinding\";\nconst TableScroller = {\n\t/**\n\t * Scrolls an MDCTable to a given row, identified by its context path.\n\t * If the row with the path can't be found, the table stays unchanged.\n\t *\n\t * @param oTable The table that is being scrolled through\n\t * @param sRowPath The path identifying the row to scroll to\n\t */\n\tscrollTableToRow: function (oTable: MdcTable, sRowPath: string) {\n\t\tconst oTableRowBinding = oTable.getRowBinding() as ODataListBinding;\n\n\t\tconst getTableContexts = function () {\n\t\t\tif (oTable.data(\"tableType\") === \"GridTable\") {\n\t\t\t\treturn oTableRowBinding.getContexts(0);\n\t\t\t} else {\n\t\t\t\treturn oTableRowBinding.getCurrentContexts();\n\t\t\t}\n\t\t};\n\n\t\tconst findAndScroll = function () {\n\t\t\tconst oTableRow = getTableContexts().find(function (item) {\n\t\t\t\treturn item && item.getPath() === sRowPath;\n\t\t\t});\n\t\t\tif (oTableRow && oTableRow.getIndex() !== undefined) {\n\t\t\t\toTable.scrollToIndex(oTableRow.getIndex() as number);\n\t\t\t}\n\t\t};\n\n\t\tif (\n\t\t\t(oTable.getGroupConditions() === undefined ||\n\t\t\t\t(oTable.getGroupConditions() as { groupLevels?: object[] })?.groupLevels?.length === 0) &&\n\t\t\toTableRowBinding\n\t\t) {\n\t\t\t// we only scroll if there are no grouping otherwise scrollToIndex doesn't behave as expected\n\t\t\tconst oTableRowBindingContexts = getTableContexts();\n\n\t\t\tif (\n\t\t\t\t(oTableRowBindingContexts.length === 0 && oTableRowBinding.getLength() > 0) ||\n\t\t\t\toTableRowBindingContexts.some(function (context) {\n\t\t\t\t\treturn context === undefined;\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\t// The contexts are not loaded yet --> wait for a change event before scrolling\n\t\t\t\toTableRowBinding.attachEventOnce(\"dataReceived\", findAndScroll);\n\t\t\t} else {\n\t\t\t\t// Contexts are already loaded --> we can try to scroll immediately\n\t\t\t\tfindAndScroll();\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport default TableScroller;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;EAEA,MAAMA,aAAa,GAAG;IACrB;AACD;AACA;AACA;AACA;AACA;AACA;IACCC,gBAAgB,EAAE,UAAUC,MAAgB,EAAEC,QAAgB,EAAE;MAAA;MAC/D,MAAMC,gBAAgB,GAAGF,MAAM,CAACG,aAAa,EAAsB;MAEnE,MAAMC,gBAAgB,GAAG,YAAY;QACpC,IAAIJ,MAAM,CAACK,IAAI,CAAC,WAAW,CAAC,KAAK,WAAW,EAAE;UAC7C,OAAOH,gBAAgB,CAACI,WAAW,CAAC,CAAC,CAAC;QACvC,CAAC,MAAM;UACN,OAAOJ,gBAAgB,CAACK,kBAAkB,EAAE;QAC7C;MACD,CAAC;MAED,MAAMC,aAAa,GAAG,YAAY;QACjC,MAAMC,SAAS,GAAGL,gBAAgB,EAAE,CAACM,IAAI,CAAC,UAAUC,IAAI,EAAE;UACzD,OAAOA,IAAI,IAAIA,IAAI,CAACC,OAAO,EAAE,KAAKX,QAAQ;QAC3C,CAAC,CAAC;QACF,IAAIQ,SAAS,IAAIA,SAAS,CAACI,QAAQ,EAAE,KAAKC,SAAS,EAAE;UACpDd,MAAM,CAACe,aAAa,CAACN,SAAS,CAACI,QAAQ,EAAE,CAAW;QACrD;MACD,CAAC;MAED,IACC,CAACb,MAAM,CAACgB,kBAAkB,EAAE,KAAKF,SAAS,IACzC,0BAACd,MAAM,CAACgB,kBAAkB,EAAE,oFAA5B,sBAA6DC,WAAW,2DAAxE,uBAA0EC,MAAM,MAAK,CAAC,KACvFhB,gBAAgB,EACf;QACD;QACA,MAAMiB,wBAAwB,GAAGf,gBAAgB,EAAE;QAEnD,IACEe,wBAAwB,CAACD,MAAM,KAAK,CAAC,IAAIhB,gBAAgB,CAACkB,SAAS,EAAE,GAAG,CAAC,IAC1ED,wBAAwB,CAACE,IAAI,CAAC,UAAUC,OAAO,EAAE;UAChD,OAAOA,OAAO,KAAKR,SAAS;QAC7B,CAAC,CAAC,EACD;UACD;UACAZ,gBAAgB,CAACqB,eAAe,CAAC,cAAc,EAAEf,aAAa,CAAC;QAChE,CAAC,MAAM;UACN;UACAA,aAAa,EAAE;QAChB;MACD;IACD;EACD,CAAC;EAAC,OAEaV,aAAa;AAAA"}},{"offset":{"line":7183,"column":0},"map":{"version":3,"names":["sap","ui","define","TableScroller","scrollTableToRow","oTable","sRowPath","_oTable$getGroupCondi","_oTable$getGroupCondi2","oTableRowBinding","getRowBinding","getTableContexts","data","getContexts","getCurrentContexts","findAndScroll","oTableRow","find","item","getPath","getIndex","undefined","scrollToIndex","getGroupConditions","groupLevels","length","oTableRowBindingContexts","getLength","some","context","attachEventOnce"],"sources":["TableScroller-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,4CAAO,GAAI,WAChB,aAEA,MAAMC,EAAgB,CAQpBC,iBAAkB,SAAUC,EAAQC,GAClC,IAAIC,EAAuBC,EAC3B,MAAMC,EAAmBJ,EAAOK,gBAChC,MAAMC,EAAmB,WACvB,GAAIN,EAAOO,KAAK,eAAiB,YAAa,CAC5C,OAAOH,EAAiBI,YAAY,EACtC,KAAO,CACL,OAAOJ,EAAiBK,oBAC1B,CACF,EACA,MAAMC,EAAgB,WACpB,MAAMC,EAAYL,IAAmBM,KAAK,SAAUC,GAClD,OAAOA,GAAQA,EAAKC,YAAcb,CACpC,GACA,GAAIU,GAAaA,EAAUI,aAAeC,UAAW,CACnDhB,EAAOiB,cAAcN,EAAUI,WACjC,CACF,EACA,IAAKf,EAAOkB,uBAAyBF,aAAed,EAAwBF,EAAOkB,wBAA0B,MAAQhB,SAA+B,OAAS,GAAKC,EAAyBD,EAAsBiB,eAAiB,MAAQhB,SAAgC,OAAS,EAAIA,EAAuBiB,UAAY,IAAMhB,EAAkB,CAEhV,MAAMiB,EAA2Bf,IACjC,GAAIe,EAAyBD,SAAW,GAAKhB,EAAiBkB,YAAc,GAAKD,EAAyBE,KAAK,SAAUC,GACvH,OAAOA,IAAYR,SACrB,GAAI,CAEFZ,EAAiBqB,gBAAgB,eAAgBf,EACnD,KAAO,CAELA,GACF,CACF,CACF,GAEF,OAAOZ,CACT,EAAG","sourceRoot":""}},{"offset":{"line":7188,"column":0},"map":{"version":3,"names":["templatesNamespace","templatesLRNamespace","templatesOPNamespace","thisLib","Core","initLibrary","name","dependencies","types","interfaces","controls","elements","version","noLibraryCSS","ObjectPage","SectionLayout","Page","Tabs","MultipleModeBlock","register","DraftHandlerButtonBlock","FooterContentBlock","CollaborationDraft"],"sourceRoot":"","sources":["library.ts"],"sourcesContent":["import \"sap/f/library\";\nimport \"sap/fe/core/library\";\nimport \"sap/fe/macros/library\";\nimport MultipleModeBlock from \"sap/fe/templates/ListReport/view/fragments/MultipleMode.block\";\nimport CollaborationDraft from \"sap/fe/templates/ObjectPage/components/CollaborationDraft.block\";\nimport DraftHandlerButtonBlock from \"sap/fe/templates/ObjectPage/components/DraftHandlerButton.block\";\nimport FooterContentBlock from \"sap/fe/templates/ObjectPage/view/fragments/FooterContent.block\";\nimport Core from \"sap/ui/core/Core\";\nimport \"sap/ui/core/library\";\n/**\n * Library providing the official templates supported by SAP Fiori elements.\n *\n * @namespace\n * @name sap.fe.templates\n * @public\n */\nexport const templatesNamespace = \"sap.fe.templates\";\n\n/**\n * @namespace\n * @name sap.fe.templates.ListReport\n * @public\n */\nexport const templatesLRNamespace = \"sap.fe.templates.ListReport\";\n\n/**\n * @namespace\n * @name sap.fe.templates.ObjectPage\n * @public\n */\nexport const templatesOPNamespace = \"sap.fe.templates.ObjectPage\";\n\nconst thisLib = Core.initLibrary({\n\tname: \"sap.fe.templates\",\n\tdependencies: [\"sap.ui.core\", \"sap.fe.core\", \"sap.fe.macros\", \"sap.f\"],\n\ttypes: [\"sap.fe.templates.ObjectPage.SectionLayout\"],\n\tinterfaces: [],\n\tcontrols: [],\n\telements: [],\n\t// eslint-disable-next-line no-template-curly-in-string\n\tversion: \"${version}\",\n\tnoLibraryCSS: true\n}) as any;\n\nif (!thisLib.ObjectPage) {\n\tthisLib.ObjectPage = {};\n}\nthisLib.ObjectPage.SectionLayout = {\n\t/**\n\t * All sections are shown in one page\n\t *\n\t * @public\n\t */\n\tPage: \"Page\",\n\n\t/**\n\t * All top-level sections are shown in an own tab\n\t *\n\t * @public\n\t */\n\tTabs: \"Tabs\"\n};\n\nMultipleModeBlock.register();\nDraftHandlerButtonBlock.register();\nFooterContentBlock.register();\nCollaborationDraft.register();\n\nexport default thisLib;\n"],"mappings":"AAAA;AAAA;AAAA;AAAA;;;;;EASA;AACA;AACA;AACA;AACA;AACA;AACA;EACO,MAAMA,kBAAkB,GAAG,kBAAkB;;EAEpD;AACA;AACA;AACA;AACA;EAJA;EAKO,MAAMC,oBAAoB,GAAG,6BAA6B;;EAEjE;AACA;AACA;AACA;AACA;EAJA;EAKO,MAAMC,oBAAoB,GAAG,6BAA6B;EAAC;EAElE,MAAMC,OAAO,GAAGC,IAAI,CAACC,WAAW,CAAC;IAChCC,IAAI,EAAE,kBAAkB;IACxBC,YAAY,EAAE,CAAC,aAAa,EAAE,aAAa,EAAE,eAAe,EAAE,OAAO,CAAC;IACtEC,KAAK,EAAE,CAAC,2CAA2C,CAAC;IACpDC,UAAU,EAAE,EAAE;IACdC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZ;IACAC,OAAO,EAAE,YAAY;IACrBC,YAAY,EAAE;EACf,CAAC,CAAQ;EAET,IAAI,CAACV,OAAO,CAACW,UAAU,EAAE;IACxBX,OAAO,CAACW,UAAU,GAAG,CAAC,CAAC;EACxB;EACAX,OAAO,CAACW,UAAU,CAACC,aAAa,GAAG;IAClC;AACD;AACA;AACA;AACA;IACCC,IAAI,EAAE,MAAM;IAEZ;AACD;AACA;AACA;AACA;IACCC,IAAI,EAAE;EACP,CAAC;EAEDC,iBAAiB,CAACC,QAAQ,EAAE;EAC5BC,uBAAuB,CAACD,QAAQ,EAAE;EAClCE,kBAAkB,CAACF,QAAQ,EAAE;EAC7BG,kBAAkB,CAACH,QAAQ,EAAE;EAAC,OAEfhB,OAAO;AAAA"}},{"offset":{"line":7255,"column":0},"map":{"version":3,"names":["sap","ui","define","_library","_library2","_library3","MultipleModeBlock","CollaborationDraft","DraftHandlerButtonBlock","FooterContentBlock","Core","_library4","_exports","templatesNamespace","templatesLRNamespace","templatesOPNamespace","thisLib","initLibrary","name","dependencies","types","interfaces","controls","elements","version","noLibraryCSS","ObjectPage","SectionLayout","Page","Tabs","register"],"sources":["library-dbg.js"],"mappings":"AAAA;;;;AAIAA,IAAIC,GAAGC,sCAAO,CAAC,gBAAiB,sBAAuB,wBAAyB,gEAAiE,kEAAmE,kEAAmE,iEAAkE,mBAAoB,uBAAwB,SAAUC,EAAUC,EAAWC,EAAWC,EAAmBC,EAAoBC,EAAyBC,EAAoBC,EAAMC,GACvgB,aAEA,IAAIC,EAAW,CAAC,EAQhB,MAAMC,EAAqB,mBAO3BD,EAASC,mBAAqBA,EAC9B,MAAMC,EAAuB,8BAO7BF,EAASE,qBAAuBA,EAChC,MAAMC,EAAuB,8BAC7BH,EAASG,qBAAuBA,EAChC,MAAMC,EAAUN,EAAKO,YAAY,CAC/BC,KAAM,mBACNC,aAAc,CAAC,cAAe,cAAe,gBAAiB,SAC9DC,MAAO,CAAC,6CACRC,WAAY,GACZC,SAAU,GACVC,SAAU,GAEVC,QAAS,aACTC,aAAc,OAEhB,IAAKT,EAAQU,WAAY,CACvBV,EAAQU,WAAa,CAAC,CACxB,CACAV,EAAQU,WAAWC,cAAgB,CAMjCC,KAAM,OAMNC,KAAM,QAERvB,EAAkBwB,WAClBtB,EAAwBsB,WACxBrB,EAAmBqB,WACnBvB,EAAmBuB,WACnB,OAAOd,CACT,EAAG","sourceRoot":""}},{"offset":{"line":7260,"column":0},"map":{"version":3,"sources":["library-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}}]}