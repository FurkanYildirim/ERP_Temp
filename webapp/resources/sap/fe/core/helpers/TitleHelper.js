/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataFieldFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(e,t,n,o,a,r,i){"use strict";var l={};var s=r.getRelativePaths;var c=r.getContextRelativeTargetObjectPath;var v=r.enhanceDataModelPath;var d=a.getLabelForConnectedFields;var u=o.isPropertyPathExpression;var f=o.isPathAnnotationExpression;var p=n.transformRecursively;var T=n.resolveBindingString;var m=n.pathInModel;var E=n.or;var g=n.not;var _=n.isEmpty;var y=n.ifElse;var I=n.getExpressionFromAnnotation;var h=n.formatWithTypeInformation;var A=n.formatResult;var O=n.constant;var D=n.concat;var C=n.compileExpression;var N=e.UI;var b=e.Draft;const F=function(e,t){return p(e,"PathInModel",e=>{let n=e;if(e.modelName===undefined){const o=v(t,e.path);n=h(o.targetObject,e)}return n})};l.formatValueRecursively=F;const x=e=>{const t=e.targetObject;return u(t)?t.$target:t};const P=e=>{var t,n,o,a,r,i;const l=(t=e.targetEntitySet)===null||t===void 0?void 0:(n=t.annotations)===null||n===void 0?void 0:(o=n.Common)===null||o===void 0?void 0:o.DraftRoot;const s=(a=e.targetEntitySet)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(i=r.Common)===null||i===void 0?void 0:i.DraftNode;if(!!l||!!s){return g(b.IsNewObject)}return false};const M=e=>e._type==="Constant"?O(!e.value):_(e);const R=function(e,t,n,o){var a,r,l,c,v,d;const u=n===null||n===void 0?void 0:n.displayMode;const f=x(e);const p=u||i.getDisplayMode(e);const T=(a=f.annotations.Common)===null||a===void 0?void 0:a.Text;const m=s(e);const E=o??!!((r=e.targetObject)!==null&&r!==void 0&&(l=r.annotations)!==null&&l!==void 0&&(c=l.Common)!==null&&c!==void 0&&c.SemanticObject);t=h(f,t);let g=[t];if(p!=="Value"&&T){switch(p){case"Description":g=[I(T,m)];break;case"DescriptionValue":g=[I(T,m),y(!!((v=T.annotations)!==null&&v!==void 0&&(d=v.UI)!==null&&d!==void 0&&d.TextArrangement),t,y(E,t,O("")))];break;case"ValueDescription":g=[t,I(T,m)];break}}return g};const U=function(e,t){return p(e,"PathInModel",e=>{if(e.modelName!==undefined)return e;const n=v(t,e.path);return R(n,e)})};const B=function(e,n){let{TypeName:o}=n;const a=m("T_NEW_OBJECT","sap.fe.i18n");let r=a;if(e.resourceModel.getText("T_NEW_OBJECT",undefined,e.entitySet)===e.resourceModel.getText("T_NEW_OBJECT_DEFAULT",undefined,e.entitySet)){const t=e.resourceModel.getText("T_ANNOTATION_HELPER_DEFAULT_OBJECT_PAGE_HEADER_TITLE",undefined,e.entitySet);r=o?D(t,": ",T(o.toString())):a}return A([r],t.formatTitle)};const $=e=>{var t,n;const o=x(e);if(o&&(t=o.annotations)!==null&&t!==void 0&&(n=t.Core)!==null&&n!==void 0&&n.Computed){return N.IsInactive}else{return O(false)}};const j=function(e,t,n){let o;if(t.$Type==="com.sap.vocabularies.UI.v1.DataField"){var a,r,i,l,s,c;o=I(t.Value);if((a=t.Value)!==null&&a!==void 0&&(r=a.$target)!==null&&r!==void 0&&(i=r.annotations.Common)!==null&&i!==void 0&&(l=i.Text)!==null&&l!==void 0&&(s=l.annotations)!==null&&s!==void 0&&(c=s.UI)!==null&&c!==void 0&&c.TextArrangement){o=U(o,e)}o=F(o,e)}if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&t.Target.$target.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const t=v(e,"$Type/@UI.HeaderInfo/Title/Target/$AnnotationPath");o=d(t,n,false)}return o};const H=function(e,n,o,a,r,i){var l;let s=m("T_NEW_OBJECT","sap.fe.i18n");let d;if(a!==null&&a!==void 0&&(l=a.Title)!==null&&l!==void 0&&l.$Type&&r){d=j(e,a.Title,n);s=B(r,a)}if(f(e.targetObject)){e=v(e,e.targetObject.path)}const u=m(c(e));let p;if(d){p=Array.isArray(d)?d:[d]}else{p=R(e,u,o,i)}const T=M(p[0]);const _=$(e);const I=A(p,t.formatTitle);d=y(T,y(_,"",y(E(N.IsCreateMode,g(P(e))),s,m("T_ANNOTATION_HELPER_DEFAULT_HEADER_TITLE_NO_HEADER_INFO","sap.fe.i18n"))),I);return C(d)};l.getTitleBindingExpression=H;return l},false);
//# sourceMappingURL=TitleHelper.js.map