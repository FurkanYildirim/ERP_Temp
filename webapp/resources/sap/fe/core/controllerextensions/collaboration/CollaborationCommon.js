/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/core/Component","sap/ui/core/Core"],function(e,t){"use strict";var n={};let r;(function(e){e[e["NotYetInvited"]=0]="NotYetInvited";e[e["NoChangesMade"]=1]="NoChangesMade";e[e["ChangesMade"]=2]="ChangesMade";e[e["CurrentlyEditing"]=3]="CurrentlyEditing"})(r||(r={}));n.UserStatus=r;let o;(function(e){e["NoChanges"]="N";e["InProgress"]="P"})(o||(o={}));n.UserEditingState=o;let i;(function(e){e["Join"]="JOIN";e["JoinEcho"]="JOINECHO";e["Leave"]="LEAVE";e["Change"]="CHANGE";e["Create"]="CREATE";e["Delete"]="DELETE";e["Action"]="ACTION";e["LiveChange"]="LIVECHANGE";e["Activate"]="ACTIVATE";e["Discard"]="DISCARD";e["Undo"]="UNDO"})(i||(i={}));n.Activity=i;function s(e){const t=["Dr.","Prof.","Prof. Dr.","B.A.","MBA","Ph.D."];t.forEach(function(t){e=e.replace(t,"")});let n;const r=e.trimStart().split(" ");if(r.length>1){var o,i;n=((r===null||r===void 0?void 0:(o=r.shift())===null||o===void 0?void 0:o.charAt(0))||"")+((i=r.pop())===null||i===void 0?void 0:i.charAt(0))}else{n=e.substring(0,2)}return n.toUpperCase()}function a(e,t,n){const r=t.find(t=>t.id===e);if(r){return r.color}else{for(let e=1;e<=10;e++){if(t.findIndex(t=>t.color===e)===-1&&n.findIndex(t=>t.color===e)===-1){return e}}return 10}}function l(t){if(t.isA("sap.fe.core.AppComponent")){return t}const n=e.getOwnerComponentFor(t);if(!n){return t}else{return l(n)}}function c(e){const t=l(e).getShellServices();if(!t||!t.hasUShell()){throw"No Shell... No User"}return{initials:t.getUser().getInitials(),id:t.getUser().getId(),name:`${t.getUser().getFullName()} (${u("C_COLLABORATIONDRAFT_YOU")})`,initialName:t.getUser().getFullName(),color:6,me:true,status:r.CurrentlyEditing}}function u(e){const n=t.getLibraryResourceBundle("sap.fe.core");for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++){o[i-1]=arguments[i]}return n.getText(e,o)}n.getText=u;const g={formatInitials:s,getUserColor:a,getMe:c,getAppComponent:l,getText:u};n.CollaborationUtils=g;function f(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const n=e.getModel();const r=n.getMetaModel();const o=r.getMetaPath(e);const i=r.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`);const s=n.bindContext(`${i}(...)`,e);s.setParameter("Users",t);s.setParameter("ShareAll",true);return s.execute()}n.shareObject=f;function d(e){return e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(")"))}n.getActivityKeyFromPath=d;return n},false);
//# sourceMappingURL=CollaborationCommon.js.map