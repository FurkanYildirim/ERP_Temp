/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["../ManifestSettings"], function (ManifestSettings) {
  "use strict";

  var _exports = {};
  var TemplateType = ManifestSettings.TemplateType;
  /**
   * Gets the boolean value for the 'visible' property of the 'AddCardToInsights' action.
   *
   * @param cardType
   * @param converterContext
   * @param visualizationPath
   * @param standardActionsContext
   * @returns Boolean value for the 'visible' property of the 'AddCardToInsights' action.
   */
  function getInsightsVisibility(cardType, converterContext, visualizationPath, standardActionsContext) {
    var _vizPathConfiguration;
    let tableManifestConfig, isResponsiveTable;
    const isMultiEntity = converterContext.getManifestWrapper().hasMultipleEntitySets();
    const isMultipleVisualizations = converterContext.getManifestWrapper().hasMultipleVisualizations();
    const viewConfig = converterContext.getManifestWrapper().getViewConfiguration();
    const isMultiTabs = viewConfig !== undefined && viewConfig.paths.length > 1 ? true : false;
    const templateBindingExpression = converterContext.getTemplateType() === TemplateType.ListReport;
    const vizPathConfiguration = converterContext.getManifestControlConfiguration(visualizationPath);
    const enableAddCardToInsights = cardType === "Analytical" ? (vizPathConfiguration === null || vizPathConfiguration === void 0 ? void 0 : vizPathConfiguration.enableAddCardToInsights) ?? true : (vizPathConfiguration === null || vizPathConfiguration === void 0 ? void 0 : (_vizPathConfiguration = vizPathConfiguration.tableSettings) === null || _vizPathConfiguration === void 0 ? void 0 : _vizPathConfiguration.enableAddCardToInsights) ?? true;
    if (cardType === "Table") {
      var _tableManifestConfig;
      tableManifestConfig = standardActionsContext === null || standardActionsContext === void 0 ? void 0 : standardActionsContext.tableManifestConfiguration;
      isResponsiveTable = ((_tableManifestConfig = tableManifestConfig) === null || _tableManifestConfig === void 0 ? void 0 : _tableManifestConfig.type) === "ResponsiveTable";
    }
    return enableAddCardToInsights && templateBindingExpression && !isMultiEntity && !isMultiTabs && (cardType === "Table" ? (isResponsiveTable ?? false) && !isMultipleVisualizations : true);
  }
  _exports.getInsightsVisibility = getInsightsVisibility;
  return _exports;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRJbnNpZ2h0c1Zpc2liaWxpdHkiLCJjYXJkVHlwZSIsImNvbnZlcnRlckNvbnRleHQiLCJ2aXN1YWxpemF0aW9uUGF0aCIsInN0YW5kYXJkQWN0aW9uc0NvbnRleHQiLCJ0YWJsZU1hbmlmZXN0Q29uZmlnIiwiaXNSZXNwb25zaXZlVGFibGUiLCJpc011bHRpRW50aXR5IiwiZ2V0TWFuaWZlc3RXcmFwcGVyIiwiaGFzTXVsdGlwbGVFbnRpdHlTZXRzIiwiaXNNdWx0aXBsZVZpc3VhbGl6YXRpb25zIiwiaGFzTXVsdGlwbGVWaXN1YWxpemF0aW9ucyIsInZpZXdDb25maWciLCJnZXRWaWV3Q29uZmlndXJhdGlvbiIsImlzTXVsdGlUYWJzIiwidW5kZWZpbmVkIiwicGF0aHMiLCJsZW5ndGgiLCJ0ZW1wbGF0ZUJpbmRpbmdFeHByZXNzaW9uIiwiZ2V0VGVtcGxhdGVUeXBlIiwiVGVtcGxhdGVUeXBlIiwiTGlzdFJlcG9ydCIsInZpelBhdGhDb25maWd1cmF0aW9uIiwiZ2V0TWFuaWZlc3RDb250cm9sQ29uZmlndXJhdGlvbiIsImVuYWJsZUFkZENhcmRUb0luc2lnaHRzIiwidGFibGVTZXR0aW5ncyIsInRhYmxlTWFuaWZlc3RDb25maWd1cmF0aW9uIiwidHlwZSJdLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiSW5zaWdodHNIZWxwZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0YW5kYXJkQWN0aW9uc0NvbnRleHQgfSBmcm9tIFwiLi4vY29udHJvbHMvQ29tbW9uL3RhYmxlL1N0YW5kYXJkQWN0aW9uc1wiO1xuaW1wb3J0IENvbnZlcnRlckNvbnRleHQgZnJvbSBcIi4uL0NvbnZlcnRlckNvbnRleHRcIjtcbmltcG9ydCB7IFRlbXBsYXRlVHlwZSB9IGZyb20gXCIuLi9NYW5pZmVzdFNldHRpbmdzXCI7XG5cbi8qKlxuICogR2V0cyB0aGUgYm9vbGVhbiB2YWx1ZSBmb3IgdGhlICd2aXNpYmxlJyBwcm9wZXJ0eSBvZiB0aGUgJ0FkZENhcmRUb0luc2lnaHRzJyBhY3Rpb24uXG4gKlxuICogQHBhcmFtIGNhcmRUeXBlXG4gKiBAcGFyYW0gY29udmVydGVyQ29udGV4dFxuICogQHBhcmFtIHZpc3VhbGl6YXRpb25QYXRoXG4gKiBAcGFyYW0gc3RhbmRhcmRBY3Rpb25zQ29udGV4dFxuICogQHJldHVybnMgQm9vbGVhbiB2YWx1ZSBmb3IgdGhlICd2aXNpYmxlJyBwcm9wZXJ0eSBvZiB0aGUgJ0FkZENhcmRUb0luc2lnaHRzJyBhY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnNpZ2h0c1Zpc2liaWxpdHkoXG5cdGNhcmRUeXBlOiBcIkFuYWx5dGljYWxcIiB8IFwiVGFibGVcIixcblx0Y29udmVydGVyQ29udGV4dDogQ29udmVydGVyQ29udGV4dCxcblx0dmlzdWFsaXphdGlvblBhdGg6IHN0cmluZyxcblx0c3RhbmRhcmRBY3Rpb25zQ29udGV4dD86IFN0YW5kYXJkQWN0aW9uc0NvbnRleHRcbik6IGJvb2xlYW4ge1xuXHRsZXQgdGFibGVNYW5pZmVzdENvbmZpZywgaXNSZXNwb25zaXZlVGFibGU7XG5cblx0Y29uc3QgaXNNdWx0aUVudGl0eSA9IGNvbnZlcnRlckNvbnRleHQuZ2V0TWFuaWZlc3RXcmFwcGVyKCkuaGFzTXVsdGlwbGVFbnRpdHlTZXRzKCk7XG5cdGNvbnN0IGlzTXVsdGlwbGVWaXN1YWxpemF0aW9ucyA9IGNvbnZlcnRlckNvbnRleHQuZ2V0TWFuaWZlc3RXcmFwcGVyKCkuaGFzTXVsdGlwbGVWaXN1YWxpemF0aW9ucygpO1xuXHRjb25zdCB2aWV3Q29uZmlnID0gY29udmVydGVyQ29udGV4dC5nZXRNYW5pZmVzdFdyYXBwZXIoKS5nZXRWaWV3Q29uZmlndXJhdGlvbigpO1xuXHRjb25zdCBpc011bHRpVGFicyA9IHZpZXdDb25maWcgIT09IHVuZGVmaW5lZCAmJiB2aWV3Q29uZmlnLnBhdGhzLmxlbmd0aCA+IDEgPyB0cnVlIDogZmFsc2U7XG5cdGNvbnN0IHRlbXBsYXRlQmluZGluZ0V4cHJlc3Npb24gPSBjb252ZXJ0ZXJDb250ZXh0LmdldFRlbXBsYXRlVHlwZSgpID09PSBUZW1wbGF0ZVR5cGUuTGlzdFJlcG9ydDtcblx0Y29uc3Qgdml6UGF0aENvbmZpZ3VyYXRpb24gPSBjb252ZXJ0ZXJDb250ZXh0LmdldE1hbmlmZXN0Q29udHJvbENvbmZpZ3VyYXRpb24odmlzdWFsaXphdGlvblBhdGgpO1xuXHRjb25zdCBlbmFibGVBZGRDYXJkVG9JbnNpZ2h0cyA9XG5cdFx0Y2FyZFR5cGUgPT09IFwiQW5hbHl0aWNhbFwiXG5cdFx0XHQ/IHZpelBhdGhDb25maWd1cmF0aW9uPy5lbmFibGVBZGRDYXJkVG9JbnNpZ2h0cyA/PyB0cnVlXG5cdFx0XHQ6IHZpelBhdGhDb25maWd1cmF0aW9uPy50YWJsZVNldHRpbmdzPy5lbmFibGVBZGRDYXJkVG9JbnNpZ2h0cyA/PyB0cnVlO1xuXG5cdGlmIChjYXJkVHlwZSA9PT0gXCJUYWJsZVwiKSB7XG5cdFx0dGFibGVNYW5pZmVzdENvbmZpZyA9IHN0YW5kYXJkQWN0aW9uc0NvbnRleHQ/LnRhYmxlTWFuaWZlc3RDb25maWd1cmF0aW9uO1xuXHRcdGlzUmVzcG9uc2l2ZVRhYmxlID0gdGFibGVNYW5pZmVzdENvbmZpZz8udHlwZSA9PT0gXCJSZXNwb25zaXZlVGFibGVcIjtcblx0fVxuXG5cdHJldHVybiAoXG5cdFx0ZW5hYmxlQWRkQ2FyZFRvSW5zaWdodHMgJiZcblx0XHR0ZW1wbGF0ZUJpbmRpbmdFeHByZXNzaW9uICYmXG5cdFx0IWlzTXVsdGlFbnRpdHkgJiZcblx0XHQhaXNNdWx0aVRhYnMgJiZcblx0XHQoY2FyZFR5cGUgPT09IFwiVGFibGVcIiA/IChpc1Jlc3BvbnNpdmVUYWJsZSA/PyBmYWxzZSkgJiYgIWlzTXVsdGlwbGVWaXN1YWxpemF0aW9ucyA6IHRydWUpXG5cdCk7XG59XG4iXSwibWFwcGluZ3MiOiI7QUFBQTtBQUFBO0FBQUE7Ozs7OztFQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNPLFNBQVNBLHFCQUFxQixDQUNwQ0MsUUFBZ0MsRUFDaENDLGdCQUFrQyxFQUNsQ0MsaUJBQXlCLEVBQ3pCQyxzQkFBK0MsRUFDckM7SUFBQTtJQUNWLElBQUlDLG1CQUFtQixFQUFFQyxpQkFBaUI7SUFFMUMsTUFBTUMsYUFBYSxHQUFHTCxnQkFBZ0IsQ0FBQ00sa0JBQWtCLEVBQUUsQ0FBQ0MscUJBQXFCLEVBQUU7SUFDbkYsTUFBTUMsd0JBQXdCLEdBQUdSLGdCQUFnQixDQUFDTSxrQkFBa0IsRUFBRSxDQUFDRyx5QkFBeUIsRUFBRTtJQUNsRyxNQUFNQyxVQUFVLEdBQUdWLGdCQUFnQixDQUFDTSxrQkFBa0IsRUFBRSxDQUFDSyxvQkFBb0IsRUFBRTtJQUMvRSxNQUFNQyxXQUFXLEdBQUdGLFVBQVUsS0FBS0csU0FBUyxJQUFJSCxVQUFVLENBQUNJLEtBQUssQ0FBQ0MsTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsS0FBSztJQUMxRixNQUFNQyx5QkFBeUIsR0FBR2hCLGdCQUFnQixDQUFDaUIsZUFBZSxFQUFFLEtBQUtDLFlBQVksQ0FBQ0MsVUFBVTtJQUNoRyxNQUFNQyxvQkFBb0IsR0FBR3BCLGdCQUFnQixDQUFDcUIsK0JBQStCLENBQUNwQixpQkFBaUIsQ0FBQztJQUNoRyxNQUFNcUIsdUJBQXVCLEdBQzVCdkIsUUFBUSxLQUFLLFlBQVksR0FDdEIsQ0FBQXFCLG9CQUFvQixhQUFwQkEsb0JBQW9CLHVCQUFwQkEsb0JBQW9CLENBQUVFLHVCQUF1QixLQUFJLElBQUksR0FDckQsQ0FBQUYsb0JBQW9CLGFBQXBCQSxvQkFBb0IsZ0RBQXBCQSxvQkFBb0IsQ0FBRUcsYUFBYSwwREFBbkMsc0JBQXFDRCx1QkFBdUIsS0FBSSxJQUFJO0lBRXhFLElBQUl2QixRQUFRLEtBQUssT0FBTyxFQUFFO01BQUE7TUFDekJJLG1CQUFtQixHQUFHRCxzQkFBc0IsYUFBdEJBLHNCQUFzQix1QkFBdEJBLHNCQUFzQixDQUFFc0IsMEJBQTBCO01BQ3hFcEIsaUJBQWlCLEdBQUcseUJBQUFELG1CQUFtQix5REFBbkIscUJBQXFCc0IsSUFBSSxNQUFLLGlCQUFpQjtJQUNwRTtJQUVBLE9BQ0NILHVCQUF1QixJQUN2Qk4seUJBQXlCLElBQ3pCLENBQUNYLGFBQWEsSUFDZCxDQUFDTyxXQUFXLEtBQ1hiLFFBQVEsS0FBSyxPQUFPLEdBQUcsQ0FBQ0ssaUJBQWlCLElBQUksS0FBSyxLQUFLLENBQUNJLHdCQUF3QixHQUFHLElBQUksQ0FBQztFQUUzRjtFQUFDO0VBQUE7QUFBQSJ9