/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(t,e,n,o){"use strict";var r={};var a=o.getConverterContext;var c=n.enhanceDataModelPath;var i=e.constant;var s=e.concat;var l=e.compileExpression;var p=t.getInvolvedDataModelObjects;const d=function(t,e){const n=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${n}`)}let o=false;if(typeof t==="object"&&(t.hasOwnProperty("$Path")||t.hasOwnProperty("$AnnotationPath"))){o=true}else if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a DataField object but to a ${t.$kind}`)}let r=a(t,e);if(o){r=r.$target}return r};r.getDataField=d;const f=function(t,e){const n=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${n}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let o=p(e.context);if(o.targetObject&&o.targetObject.type==="Path"){o=c(o,o.targetObject.path)}if(o.targetObject&&o.targetObject.type==="AnnotationPath"){o=c(o,o.targetObject)}if(n.endsWith("$Path")||n.endsWith("$AnnotationPath")){o=c(o,t)}return o};r.getDataFieldObjectPath=f;const h=function(t,e){const n=d(t,e);return n.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"};r.isSemanticallyConnectedFields=h;const u=/(?:({[^}]+})[^{]*)/g;const g=/{([^}]+)}(.*)/;const b=function(t,e){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const o=t.targetObject;const r=o.Template.toString().match(u);if(!r){return""}const a=r.reduce((n,r)=>{const a=r.match(g);if(a&&a.length>1){const r=a[1];const s=o.Data[r];if(s){const o=c(t,s.fullyQualifiedName.replace(t.targetEntityType.fullyQualifiedName,""));o.targetObject=o.targetObject.Value;n.push(e(o,{}));if(a.length>2){n.push(i(a[2]))}}}return n},[]);return n?l(s(...a)):s(...a)};r.getLabelForConnectedFields=b;return r},false);
//# sourceMappingURL=DataFieldFormatters.js.map