/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/converters/MetaModelConverter", "sap/fe/core/helpers/BindingToolkit", "sap/fe/core/templating/DataModelPathHelper", "sap/fe/core/templating/UIFormatters"], function (MetaModelConverter, BindingToolkit, DataModelPathHelper, UIFormatters) {
  "use strict";

  var _exports = {};
  var getConverterContext = UIFormatters.getConverterContext;
  var enhanceDataModelPath = DataModelPathHelper.enhanceDataModelPath;
  var constant = BindingToolkit.constant;
  var concat = BindingToolkit.concat;
  var compileExpression = BindingToolkit.compileExpression;
  var getInvolvedDataModelObjects = MetaModelConverter.getInvolvedDataModelObjects;
  const getDataField = function (oContext, oInterface) {
    const sPath = oInterface.context.getPath();
    if (!oContext) {
      throw new Error(`Unresolved context path ${sPath}`);
    }
    let isPath = false;
    if (typeof oContext === "object" && (oContext.hasOwnProperty("$Path") || oContext.hasOwnProperty("$AnnotationPath"))) {
      isPath = true;
    } else if (typeof oContext === "object" && oContext.hasOwnProperty("$kind") && oContext.$kind !== "Property") {
      throw new Error(`Context does not resolve to a DataField object but to a ${oContext.$kind}`);
    }
    let oConverterContext = getConverterContext(oContext, oInterface);
    if (isPath) {
      oConverterContext = oConverterContext.$target;
    }
    return oConverterContext;
  };
  _exports.getDataField = getDataField;
  const getDataFieldObjectPath = function (oContext, oInterface) {
    const sPath = oInterface.context.getPath();
    if (!oContext) {
      throw new Error(`Unresolved context path ${sPath}`);
    }
    if (typeof oContext === "object" && oContext.hasOwnProperty("$kind") && oContext.$kind !== "Property") {
      throw new Error(`Context does not resolve to a Property object but to a ${oContext.$kind}`);
    }
    let involvedDataModelObjects = getInvolvedDataModelObjects(oInterface.context);
    if (involvedDataModelObjects.targetObject && involvedDataModelObjects.targetObject.type === "Path") {
      involvedDataModelObjects = enhanceDataModelPath(involvedDataModelObjects, involvedDataModelObjects.targetObject.path);
    }
    if (involvedDataModelObjects.targetObject && involvedDataModelObjects.targetObject.type === "AnnotationPath") {
      involvedDataModelObjects = enhanceDataModelPath(involvedDataModelObjects, involvedDataModelObjects.targetObject);
    }
    if (sPath.endsWith("$Path") || sPath.endsWith("$AnnotationPath")) {
      involvedDataModelObjects = enhanceDataModelPath(involvedDataModelObjects, oContext);
    }
    return involvedDataModelObjects;
  };
  _exports.getDataFieldObjectPath = getDataFieldObjectPath;
  const isSemanticallyConnectedFields = function (oContext, oInterface) {
    const oDataField = getDataField(oContext, oInterface);
    return oDataField.$Type === "com.sap.vocabularies.UI.v1.ConnectedFieldsType";
  };
  _exports.isSemanticallyConnectedFields = isSemanticallyConnectedFields;
  const connectedFieldsTemplateRegex = /(?:({[^}]+})[^{]*)/g;
  const connectedFieldsTemplateSubRegex = /{([^}]+)}(.*)/;
  const getLabelForConnectedFields = function (connectedFieldsPath, getTextBindingExpression) {
    let compileBindingExpression = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
    const connectedFields = connectedFieldsPath.targetObject;
    // First we separate each group of `{TemplatePart} xxx`
    const templateMatches = connectedFields.Template.toString().match(connectedFieldsTemplateRegex);
    if (!templateMatches) {
      return "";
    }
    const partsToConcat = templateMatches.reduce((subPartsToConcat, match) => {
      // Then for each sub-group, we retrieve the name of the data object and the remaining text, if it exists
      const subMatch = match.match(connectedFieldsTemplateSubRegex);
      if (subMatch && subMatch.length > 1) {
        const targetValue = subMatch[1];
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const targetData = connectedFields.Data[targetValue];
        if (targetData) {
          const dataFieldPath = enhanceDataModelPath(connectedFieldsPath,
          // TODO Better type for the Edm.Dictionary
          targetData.fullyQualifiedName.replace(connectedFieldsPath.targetEntityType.fullyQualifiedName, ""));
          dataFieldPath.targetObject = dataFieldPath.targetObject.Value;
          subPartsToConcat.push(getTextBindingExpression(dataFieldPath, {}));
          if (subMatch.length > 2) {
            subPartsToConcat.push(constant(subMatch[2]));
          }
        }
      }
      return subPartsToConcat;
    }, []);
    return compileBindingExpression ? compileExpression(concat(...partsToConcat)) : concat(...partsToConcat);
  };
  _exports.getLabelForConnectedFields = getLabelForConnectedFields;
  return _exports;
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXREYXRhRmllbGQiLCJvQ29udGV4dCIsIm9JbnRlcmZhY2UiLCJzUGF0aCIsImNvbnRleHQiLCJnZXRQYXRoIiwiRXJyb3IiLCJpc1BhdGgiLCJoYXNPd25Qcm9wZXJ0eSIsIiRraW5kIiwib0NvbnZlcnRlckNvbnRleHQiLCJnZXRDb252ZXJ0ZXJDb250ZXh0IiwiJHRhcmdldCIsImdldERhdGFGaWVsZE9iamVjdFBhdGgiLCJpbnZvbHZlZERhdGFNb2RlbE9iamVjdHMiLCJnZXRJbnZvbHZlZERhdGFNb2RlbE9iamVjdHMiLCJ0YXJnZXRPYmplY3QiLCJ0eXBlIiwiZW5oYW5jZURhdGFNb2RlbFBhdGgiLCJwYXRoIiwiZW5kc1dpdGgiLCJpc1NlbWFudGljYWxseUNvbm5lY3RlZEZpZWxkcyIsIm9EYXRhRmllbGQiLCIkVHlwZSIsImNvbm5lY3RlZEZpZWxkc1RlbXBsYXRlUmVnZXgiLCJjb25uZWN0ZWRGaWVsZHNUZW1wbGF0ZVN1YlJlZ2V4IiwiZ2V0TGFiZWxGb3JDb25uZWN0ZWRGaWVsZHMiLCJjb25uZWN0ZWRGaWVsZHNQYXRoIiwiZ2V0VGV4dEJpbmRpbmdFeHByZXNzaW9uIiwiY29tcGlsZUJpbmRpbmdFeHByZXNzaW9uIiwiY29ubmVjdGVkRmllbGRzIiwidGVtcGxhdGVNYXRjaGVzIiwiVGVtcGxhdGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwicGFydHNUb0NvbmNhdCIsInJlZHVjZSIsInN1YlBhcnRzVG9Db25jYXQiLCJzdWJNYXRjaCIsImxlbmd0aCIsInRhcmdldFZhbHVlIiwidGFyZ2V0RGF0YSIsIkRhdGEiLCJkYXRhRmllbGRQYXRoIiwiZnVsbHlRdWFsaWZpZWROYW1lIiwicmVwbGFjZSIsInRhcmdldEVudGl0eVR5cGUiLCJWYWx1ZSIsInB1c2giLCJjb25zdGFudCIsImNvbXBpbGVFeHByZXNzaW9uIiwiY29uY2F0Il0sInNvdXJjZVJvb3QiOiIuIiwic291cmNlcyI6WyJEYXRhRmllbGRGb3JtYXR0ZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ29ubmVjdGVkRmllbGRzVHlwZVR5cGVzLCBEYXRhRmllbGRUeXBlcyB9IGZyb20gXCJAc2FwLXV4L3ZvY2FidWxhcmllcy10eXBlcy92b2NhYnVsYXJpZXMvVUlcIjtcbmltcG9ydCB7IFVJQW5ub3RhdGlvblR5cGVzIH0gZnJvbSBcIkBzYXAtdXgvdm9jYWJ1bGFyaWVzLXR5cGVzL3ZvY2FidWxhcmllcy9VSVwiO1xuaW1wb3J0IHsgZ2V0SW52b2x2ZWREYXRhTW9kZWxPYmplY3RzIH0gZnJvbSBcInNhcC9mZS9jb3JlL2NvbnZlcnRlcnMvTWV0YU1vZGVsQ29udmVydGVyXCI7XG5pbXBvcnQgdHlwZSB7IEJpbmRpbmdUb29sa2l0RXhwcmVzc2lvbiB9IGZyb20gXCJzYXAvZmUvY29yZS9oZWxwZXJzL0JpbmRpbmdUb29sa2l0XCI7XG5pbXBvcnQgeyBjb21waWxlRXhwcmVzc2lvbiwgY29uY2F0LCBjb25zdGFudCB9IGZyb20gXCJzYXAvZmUvY29yZS9oZWxwZXJzL0JpbmRpbmdUb29sa2l0XCI7XG5pbXBvcnQgdHlwZSB7IERhdGFNb2RlbE9iamVjdFBhdGggfSBmcm9tIFwic2FwL2ZlL2NvcmUvdGVtcGxhdGluZy9EYXRhTW9kZWxQYXRoSGVscGVyXCI7XG5pbXBvcnQgeyBlbmhhbmNlRGF0YU1vZGVsUGF0aCB9IGZyb20gXCJzYXAvZmUvY29yZS90ZW1wbGF0aW5nL0RhdGFNb2RlbFBhdGhIZWxwZXJcIjtcbmltcG9ydCB0eXBlIHsgQ29tcHV0ZWRBbm5vdGF0aW9uSW50ZXJmYWNlLCBNZXRhTW9kZWxDb250ZXh0IH0gZnJvbSBcInNhcC9mZS9jb3JlL3RlbXBsYXRpbmcvVUlGb3JtYXR0ZXJzXCI7XG5pbXBvcnQgeyBnZXRDb252ZXJ0ZXJDb250ZXh0IH0gZnJvbSBcInNhcC9mZS9jb3JlL3RlbXBsYXRpbmcvVUlGb3JtYXR0ZXJzXCI7XG5cbmV4cG9ydCBjb25zdCBnZXREYXRhRmllbGQgPSBmdW5jdGlvbiAoXG5cdG9Db250ZXh0OiBNZXRhTW9kZWxDb250ZXh0LFxuXHRvSW50ZXJmYWNlOiBDb21wdXRlZEFubm90YXRpb25JbnRlcmZhY2Vcbik6IERhdGFGaWVsZFR5cGVzIHwgQ29ubmVjdGVkRmllbGRzVHlwZVR5cGVzIHtcblx0Y29uc3Qgc1BhdGggPSBvSW50ZXJmYWNlLmNvbnRleHQuZ2V0UGF0aCgpO1xuXHRpZiAoIW9Db250ZXh0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBVbnJlc29sdmVkIGNvbnRleHQgcGF0aCAke3NQYXRofWApO1xuXHR9XG5cdGxldCBpc1BhdGggPSBmYWxzZTtcblx0aWYgKHR5cGVvZiBvQ29udGV4dCA9PT0gXCJvYmplY3RcIiAmJiAob0NvbnRleHQuaGFzT3duUHJvcGVydHkoXCIkUGF0aFwiKSB8fCBvQ29udGV4dC5oYXNPd25Qcm9wZXJ0eShcIiRBbm5vdGF0aW9uUGF0aFwiKSkpIHtcblx0XHRpc1BhdGggPSB0cnVlO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvQ29udGV4dCA9PT0gXCJvYmplY3RcIiAmJiBvQ29udGV4dC5oYXNPd25Qcm9wZXJ0eShcIiRraW5kXCIpICYmIG9Db250ZXh0LiRraW5kICE9PSBcIlByb3BlcnR5XCIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYENvbnRleHQgZG9lcyBub3QgcmVzb2x2ZSB0byBhIERhdGFGaWVsZCBvYmplY3QgYnV0IHRvIGEgJHtvQ29udGV4dC4ka2luZH1gKTtcblx0fVxuXHRsZXQgb0NvbnZlcnRlckNvbnRleHQgPSBnZXRDb252ZXJ0ZXJDb250ZXh0KG9Db250ZXh0LCBvSW50ZXJmYWNlKSBhcyBEYXRhRmllbGRUeXBlcztcblx0aWYgKGlzUGF0aCkge1xuXHRcdG9Db252ZXJ0ZXJDb250ZXh0ID0gKG9Db252ZXJ0ZXJDb250ZXh0IGFzIGFueSkuJHRhcmdldDtcblx0fVxuXHRyZXR1cm4gb0NvbnZlcnRlckNvbnRleHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0YUZpZWxkT2JqZWN0UGF0aCA9IGZ1bmN0aW9uIChcblx0b0NvbnRleHQ6IE1ldGFNb2RlbENvbnRleHQgfCBzdHJpbmcsXG5cdG9JbnRlcmZhY2U6IENvbXB1dGVkQW5ub3RhdGlvbkludGVyZmFjZVxuKTogRGF0YU1vZGVsT2JqZWN0UGF0aCB7XG5cdGNvbnN0IHNQYXRoID0gb0ludGVyZmFjZS5jb250ZXh0LmdldFBhdGgoKTtcblx0aWYgKCFvQ29udGV4dCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihgVW5yZXNvbHZlZCBjb250ZXh0IHBhdGggJHtzUGF0aH1gKTtcblx0fVxuXHRpZiAodHlwZW9mIG9Db250ZXh0ID09PSBcIm9iamVjdFwiICYmIG9Db250ZXh0Lmhhc093blByb3BlcnR5KFwiJGtpbmRcIikgJiYgb0NvbnRleHQuJGtpbmQgIT09IFwiUHJvcGVydHlcIikge1xuXHRcdHRocm93IG5ldyBFcnJvcihgQ29udGV4dCBkb2VzIG5vdCByZXNvbHZlIHRvIGEgUHJvcGVydHkgb2JqZWN0IGJ1dCB0byBhICR7b0NvbnRleHQuJGtpbmR9YCk7XG5cdH1cblx0bGV0IGludm9sdmVkRGF0YU1vZGVsT2JqZWN0cyA9IGdldEludm9sdmVkRGF0YU1vZGVsT2JqZWN0cyhvSW50ZXJmYWNlLmNvbnRleHQpO1xuXHRpZiAoaW52b2x2ZWREYXRhTW9kZWxPYmplY3RzLnRhcmdldE9iamVjdCAmJiBpbnZvbHZlZERhdGFNb2RlbE9iamVjdHMudGFyZ2V0T2JqZWN0LnR5cGUgPT09IFwiUGF0aFwiKSB7XG5cdFx0aW52b2x2ZWREYXRhTW9kZWxPYmplY3RzID0gZW5oYW5jZURhdGFNb2RlbFBhdGgoaW52b2x2ZWREYXRhTW9kZWxPYmplY3RzLCBpbnZvbHZlZERhdGFNb2RlbE9iamVjdHMudGFyZ2V0T2JqZWN0LnBhdGgpO1xuXHR9XG5cdGlmIChpbnZvbHZlZERhdGFNb2RlbE9iamVjdHMudGFyZ2V0T2JqZWN0ICYmIGludm9sdmVkRGF0YU1vZGVsT2JqZWN0cy50YXJnZXRPYmplY3QudHlwZSA9PT0gXCJBbm5vdGF0aW9uUGF0aFwiKSB7XG5cdFx0aW52b2x2ZWREYXRhTW9kZWxPYmplY3RzID0gZW5oYW5jZURhdGFNb2RlbFBhdGgoaW52b2x2ZWREYXRhTW9kZWxPYmplY3RzLCBpbnZvbHZlZERhdGFNb2RlbE9iamVjdHMudGFyZ2V0T2JqZWN0KTtcblx0fVxuXHRpZiAoc1BhdGguZW5kc1dpdGgoXCIkUGF0aFwiKSB8fCBzUGF0aC5lbmRzV2l0aChcIiRBbm5vdGF0aW9uUGF0aFwiKSkge1xuXHRcdGludm9sdmVkRGF0YU1vZGVsT2JqZWN0cyA9IGVuaGFuY2VEYXRhTW9kZWxQYXRoKGludm9sdmVkRGF0YU1vZGVsT2JqZWN0cywgb0NvbnRleHQgYXMgc3RyaW5nKTtcblx0fVxuXHRyZXR1cm4gaW52b2x2ZWREYXRhTW9kZWxPYmplY3RzO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2VtYW50aWNhbGx5Q29ubmVjdGVkRmllbGRzID0gZnVuY3Rpb24gKG9Db250ZXh0OiBNZXRhTW9kZWxDb250ZXh0LCBvSW50ZXJmYWNlOiBDb21wdXRlZEFubm90YXRpb25JbnRlcmZhY2UpOiBib29sZWFuIHtcblx0Y29uc3Qgb0RhdGFGaWVsZDogRGF0YUZpZWxkVHlwZXMgfCBDb25uZWN0ZWRGaWVsZHNUeXBlVHlwZXMgPSBnZXREYXRhRmllbGQob0NvbnRleHQsIG9JbnRlcmZhY2UpO1xuXHRyZXR1cm4gKG9EYXRhRmllbGQgYXMgQ29ubmVjdGVkRmllbGRzVHlwZVR5cGVzKS4kVHlwZSA9PT0gVUlBbm5vdGF0aW9uVHlwZXMuQ29ubmVjdGVkRmllbGRzVHlwZTtcbn07XG5cbmNvbnN0IGNvbm5lY3RlZEZpZWxkc1RlbXBsYXRlUmVnZXggPSAvKD86KHtbXn1dK30pW157XSopL2c7XG5jb25zdCBjb25uZWN0ZWRGaWVsZHNUZW1wbGF0ZVN1YlJlZ2V4ID0gL3soW159XSspfSguKikvO1xuZXhwb3J0IGNvbnN0IGdldExhYmVsRm9yQ29ubmVjdGVkRmllbGRzID0gZnVuY3Rpb24gKFxuXHRjb25uZWN0ZWRGaWVsZHNQYXRoOiBEYXRhTW9kZWxPYmplY3RQYXRoLFxuXHRnZXRUZXh0QmluZGluZ0V4cHJlc3Npb246IEZ1bmN0aW9uLFxuXHRjb21waWxlQmluZGluZ0V4cHJlc3Npb24gPSB0cnVlXG4pIHtcblx0Y29uc3QgY29ubmVjdGVkRmllbGRzOiBDb25uZWN0ZWRGaWVsZHNUeXBlVHlwZXMgPSBjb25uZWN0ZWRGaWVsZHNQYXRoLnRhcmdldE9iamVjdDtcblx0Ly8gRmlyc3Qgd2Ugc2VwYXJhdGUgZWFjaCBncm91cCBvZiBge1RlbXBsYXRlUGFydH0geHh4YFxuXHRjb25zdCB0ZW1wbGF0ZU1hdGNoZXMgPSBjb25uZWN0ZWRGaWVsZHMuVGVtcGxhdGUudG9TdHJpbmcoKS5tYXRjaChjb25uZWN0ZWRGaWVsZHNUZW1wbGF0ZVJlZ2V4KTtcblx0aWYgKCF0ZW1wbGF0ZU1hdGNoZXMpIHtcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXHRjb25zdCBwYXJ0c1RvQ29uY2F0ID0gdGVtcGxhdGVNYXRjaGVzLnJlZHVjZSgoc3ViUGFydHNUb0NvbmNhdDogQmluZGluZ1Rvb2xraXRFeHByZXNzaW9uPHN0cmluZz5bXSwgbWF0Y2gpID0+IHtcblx0XHQvLyBUaGVuIGZvciBlYWNoIHN1Yi1ncm91cCwgd2UgcmV0cmlldmUgdGhlIG5hbWUgb2YgdGhlIGRhdGEgb2JqZWN0IGFuZCB0aGUgcmVtYWluaW5nIHRleHQsIGlmIGl0IGV4aXN0c1xuXHRcdGNvbnN0IHN1Yk1hdGNoID0gbWF0Y2gubWF0Y2goY29ubmVjdGVkRmllbGRzVGVtcGxhdGVTdWJSZWdleCk7XG5cdFx0aWYgKHN1Yk1hdGNoICYmIHN1Yk1hdGNoLmxlbmd0aCA+IDEpIHtcblx0XHRcdGNvbnN0IHRhcmdldFZhbHVlID0gc3ViTWF0Y2hbMV07XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXHRcdFx0Y29uc3QgdGFyZ2V0RGF0YSA9IChjb25uZWN0ZWRGaWVsZHMuRGF0YSBhcyBhbnkpW3RhcmdldFZhbHVlXTtcblx0XHRcdGlmICh0YXJnZXREYXRhKSB7XG5cdFx0XHRcdGNvbnN0IGRhdGFGaWVsZFBhdGggPSBlbmhhbmNlRGF0YU1vZGVsUGF0aChcblx0XHRcdFx0XHRjb25uZWN0ZWRGaWVsZHNQYXRoLFxuXHRcdFx0XHRcdC8vIFRPRE8gQmV0dGVyIHR5cGUgZm9yIHRoZSBFZG0uRGljdGlvbmFyeVxuXHRcdFx0XHRcdHRhcmdldERhdGEuZnVsbHlRdWFsaWZpZWROYW1lLnJlcGxhY2UoY29ubmVjdGVkRmllbGRzUGF0aC50YXJnZXRFbnRpdHlUeXBlLmZ1bGx5UXVhbGlmaWVkTmFtZSwgXCJcIilcblx0XHRcdFx0KTtcblx0XHRcdFx0ZGF0YUZpZWxkUGF0aC50YXJnZXRPYmplY3QgPSBkYXRhRmllbGRQYXRoLnRhcmdldE9iamVjdC5WYWx1ZTtcblx0XHRcdFx0c3ViUGFydHNUb0NvbmNhdC5wdXNoKGdldFRleHRCaW5kaW5nRXhwcmVzc2lvbihkYXRhRmllbGRQYXRoLCB7fSkpO1xuXHRcdFx0XHRpZiAoc3ViTWF0Y2gubGVuZ3RoID4gMikge1xuXHRcdFx0XHRcdHN1YlBhcnRzVG9Db25jYXQucHVzaChjb25zdGFudChzdWJNYXRjaFsyXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBzdWJQYXJ0c1RvQ29uY2F0O1xuXHR9LCBbXSk7XG5cdHJldHVybiBjb21waWxlQmluZGluZ0V4cHJlc3Npb24gPyBjb21waWxlRXhwcmVzc2lvbihjb25jYXQoLi4ucGFydHNUb0NvbmNhdCkpIDogY29uY2F0KC4uLnBhcnRzVG9Db25jYXQpO1xufTtcbiJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7RUFVTyxNQUFNQSxZQUFZLEdBQUcsVUFDM0JDLFFBQTBCLEVBQzFCQyxVQUF1QyxFQUNLO0lBQzVDLE1BQU1DLEtBQUssR0FBR0QsVUFBVSxDQUFDRSxPQUFPLENBQUNDLE9BQU8sRUFBRTtJQUMxQyxJQUFJLENBQUNKLFFBQVEsRUFBRTtNQUNkLE1BQU0sSUFBSUssS0FBSyxDQUFFLDJCQUEwQkgsS0FB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