/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/m/Dialog","sap/m/Button","sap/ui/model/json/JSONModel","sap/ui/core/mvc/ViewType","sap/ovp/app/resources","sap/base/util/merge","sap/ui/core/mvc/XMLView","sap/ui/core/Core"],function(e,t,o,i,a,n,s,l){"use strict";var r={dialogBox:undefined,oSaveButton:undefined,oResetButton:undefined,oOvpResourceBundle:l.getLibraryResourceBundle("sap.ovp"),getDialogBox:function(l){return new Promise(function(r,d){var u,g,p,c;if(!this.dialogBox){this.oSaveButton=new t({text:a&&a.getText("save"),type:"Emphasized"});var h=new t({text:a&&a.getText("cancelBtn")});this.oResetButton=new t({text:a&&a.getText("resetButton")});this.dialogBox=new e({title:a&&a.getText("settingsDialogTitle"),buttons:[this.oSaveButton,h,this.oResetButton],afterClose:function(e){this.dialogBox.destroyContent()}.bind(this)});this.dialogBox.addStyleClass("sapOvpSettingsDialogBox");this.dialogBox.setBusyIndicatorDelay(0);h.attachPress(function(e){this.dialogBox.close()}.bind(this))}if(l.getParent()){u=l.getParent().getModel("ui").getData();g=n({},u);var B=l.getModel(g.globalFilterModel),y=B.getMetaModel(),v=y.getODataEntityContainer().entitySet;g["allEntityTypes"]=[];for(var x=0;v&&x<v.length;x++){var f=v[x].entityType;g["allEntityTypes"].push({name:y.getODataEntityType(f).name})}if(g.globalFilterEntityType){g.showGlobalFilters=true}else{g.showGlobalFilters=false}if(!g.containerLayout){g.containerLayout="fixed"}c=new o(g);p=new s("appSettingsView",{viewName:"sap.ovp.cards.rta.AppSettingsDialog",type:i.XML});p.setModel(c);var w=this.oOvpResourceBundle?a.oResourceModel:null;p.setModel(w,"ovpResourceModel");this.dialogBox.addContent(p);p.loaded().then(function(e){r(this.dialogBox)}.bind(this))}}.bind(this))}};return r},true);
//# sourceMappingURL=AppSettingsUtils.js.map