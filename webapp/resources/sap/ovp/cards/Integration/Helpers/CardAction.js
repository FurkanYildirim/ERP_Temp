/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/ovp/app/NavigationHelper","sap/ovp/cards/CommonUtils","sap/ovp/cards/NavigationHelper"],function(e,a,t){"use strict";return{getCardActions:function(r,i){var n={header:{enabled:false,actions:[]},content:{enabled:false,actions:[]}};var s=false,o=false;var c=r.view;var m=c.getController();var l={};if(r.cardComponentName==="Analytical"){o=!t.checkHeaderNavigationDisabledForAnalyticalCard(m.getCardPropertiesModel())}s=e.bCheckNavigationForCard(m);if(!s){return n}l=e.getNavigationParameters(m,r);if(l===undefined){return n}if(r.cardComponentName==="List"||r.cardComponentName==="Table"){o=l["semanticObject"]&&l["action"]}var p={ibnTarget:{},ibnParams:{}};var u={type:"Navigation"};var v={type:"Navigation"};if(l&&l.type==="url"){p={type:"Navigation",parameters:{target:"_self"}};a.updatePropertyValueForObject(p.parameters,l.url,"url")}else{if(l.semanticObject||l.action||l.staticParams){p.ibnTarget={semanticObject:l.semanticObject,action:l.action};if(!i.configuration.parameters.state&&r.cardComponentName==="Analytical"){i.configuration.parameters.state={value:""}}var g=[];if(l.staticParams){if(l.staticParams.sNavPresentationVariant){p.ibnParams.presentationVariant=l.staticParams.sNavPresentationVariant}if(l.staticParams.sensitiveProperties){g=l.staticParams.sensitiveProperties}var f=l.staticParams.staticPropertyMap;var b=f&&Object.keys(f)||[];for(var d=0;d<b.length;d++){if(b[d]&&f[b[d]]&&!g.includes(b[d])){p.ibnParams[b[d]]=f[b[d]]}}}p.sensitiveProps=g}}n.content.enabled=true;n.content.actions.push(v);if(o){n.header.enabled=true;n.header.actions.push(u)}if(r.cardComponentName==="Analytical"){a.updatePropertyValueForObject(u,"{= extension.formatters.getNavigationContext(${parameters>/state/value})}","parameters");a.updatePropertyValueForObject(v,"{= extension.formatters.getNavigationContext(${parameters>/state/value}, ${})}","parameters");i.configuration.parameters.state.value=JSON.stringify(p)}else{if(p.ibnTarget["semanticObject"]&&p.ibnTarget["action"]){a.updatePropertyValueForObject(u,"{= extension.formatters.getNavigationContext(${parameters>/headerState/value})}","parameters");i.configuration.parameters.headerState={value:""};i.configuration.parameters.headerState.value=JSON.stringify(p);l["lineItemSemanticObject"]=l["lineItemSemanticObject"]||p.ibnTarget["semanticObject"];l["lineItemAction"]=l["lineItemAction"]||p.ibnTarget["action"]}if(l["lineItemSemanticObject"]&&l["lineItemAction"]){p.ibnTarget["semanticObject"]=l["lineItemSemanticObject"];p.ibnTarget["action"]=l["lineItemAction"];a.updatePropertyValueForObject(v,"{= extension.formatters.getNavigationContext(${parameters>/lineItemState/value}, ${})}","parameters");i.configuration.parameters.lineItemState={value:""};i.configuration.parameters.lineItemState.value=JSON.stringify(p)}}return n}}},true);
//# sourceMappingURL=CardAction.js.map