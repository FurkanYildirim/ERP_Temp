{"version":3,"file":"OVPVizDataHandler.js","names":["sap","ui","define","Control","JSONModel","Utils","AnnotationHelper","OvpResources","each","merge","extend","metadata","aggregations","data","type","aggregateData","content","multiple","properties","chartType","defaultValue","dependentDataReceived","scale","entitySet","renderer","oRM","oControl","openStart","openEnd","getContent","renderControl","close","mergeDatasets","binding","oDataClone","that","this","model","getModel","parameters","mParameters","bData","dataSet","selectedProperties","entitySetPath","getPath","substring","pos","indexOf","substr","metaModel","getMetaModel","entitySetName","getEntitySet","entityType","getData","finalMeasures","finalDimensions","key","includes","split","push","i","length","j","Number","__count","count","object","results","result","aggregateObject","aggregateSet","String","getText","$isOthers","splice","oCardModel","bEnableStableColors","getProperty","oColorPalette","oChartAnnotation","DimensionAttributes","getVizType","Object","colorPaletteDimension","Dimension","$PropertyPath","Array","aColorValues","map","value","color","aDuplicateColorValues","slice","oDuplicateColorValues","JSON","parse","stringify","oVizProps","getVizProperties","vizPropertiesObject","plotArea","dataPointStyle","rules","oEntityType","oDimension","$Type","sDimensionLabel","sDisplayProperty","getColorRule","k","colorObject","oResult","dataContext","displayName","dimensionValue","oRule","hasOwnProperty","callback","oContext","lastIndexOf","keys","setVizProperties","oModel","obj","l","setData","setModel","updateBindingContext","getBinding","aggrDataBinding","chartBinding","attachEvent","oEvent","checkIfDataExistInEvent","getSource","getCurrentContexts","context","getObject","getChartType","undefined","getDependentDataReceived","setDependentDataReceived","oMetadataMap","cacheODataMetadata","aTimeAxisProperties","oTimeAxisPropertiesAndSemantics","oEntitySet","aEntitySetPropKeys","property","semantics","dateProperty","year","month","quarter","monthFromQuarter","monthIndex","week","startOfWeekDay","parseInt","Date","UTC","sAnnotationType","sFiscalData","getFormattedFiscalData","prototype","apply","arguments","chartAggrBinding","getParameter"],"sources":["OVPVizDataHandler-dbg.js"],"mappings":"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"}