{"version":3,"file":"analyticalChart.controller.js","names":["sap","ui","define","CardController","VizAnnotationManager","FlattenedDataset","OVPCardAsAPIUtils","OvpResources","each","OVPLogger","Filterhelper","Utils","IntegrationCard","FilterUtils","Fragment","Core","Device","Rem","JSONModel","MessageBox","oLogger","extend","onInit","prototype","apply","this","arguments","that","eventhandler","channelid","event","aFilters","applyFiltersToV4AnalyticalCard","GloabalEventBus","getEventBus","oMainComponent","isMacroFilterBar","oGlobalFilter","subscribe","formatChartAxes","iPreviousRowSpan","oModel","error","getView","setModel","bdataLoadedToEnableAddToInsight","onBeforeRendering","bCardProcessed","validateCardConfiguration","vizFrame","byId","oCompData","getOwnerComponent","getComponentData","setHeight","getCardPropertiesModel","getProperty","appComponent","oDashboardLayoutUtil","getDashboardLayoutUtil","oCard","dashboardLayoutModel","getCardById","cardId","dashboardLayout","autoSpan","vbLayout","navigation","isVizPropSet","oDataSet","data","path","constants","ERROR_NO_CHART","getId","setBusy","getModel","undefined","getSelectedDataPoint","destroyDataset","binding","getParent","getBinding","_handleKPIHeader","getPath","attachDataReceived","onDataReceived","bind","attachDataRequested","onDataRequested","load","then","oControl","cardContainer","getCardContentContainer","removeAllItems","addItem","addEventDelegate","onmouseover","vizTooltip","_oOvpVizFrameTooltip","_oPopup","close","onAfterRendering","checkIfAPIIsUsed","sCardId","getCardDomId","element","document","getElementById","iHeaderHeight","getHeaderHeight","ovpWrapper","getElementsByClassName","style","height","rowSpan","ROW_HEIGHT_PX","CARD_BORDER_PX","showOnlyHeader","classList","add","vizCard","_calculateVizFrameHeight","_calculateWidth","oCardPropertiesModel","cardmanifestModel","getData","cards","sEntityType","getEntitySet","oContext","getMetaModel","getContext","selectionVaraintFilter","getSelectionVariantFilters","getEntityType","oCardComponentData","mainComponent","getGlobalFilter","getFilters","getMacroFilterBar","oEvent","checkIfDataExistInEvent","bubbleText","bubbleSizeText","getText","entityType","bindData","setDataset","handler","buildVizAttributes","feeds","getFeeds","i","v","getUid","setText","getValues","hideDateTimeAxis","colorPalette","getVizType","allDims","getDataset","getDimensions","vfFeed","vfFeedColorName","dim","m","length","n","getName","sorter","setSorter","vizData","getSource","getCurrentContexts","map","context","getObject","setChartUoMTitle","bFlag","setTimeout","checkNoData","system","phone","iRowSpan","Math","max","isDataSetEmpty","iVizFrameHeight","getParameters","getCardItemsBinding","resizeCard","newCardLayout","setProperty","colSpan","oCardLayout","setCardContentContainerHeight","getDomRef","querySelectorAll","iRowHeightPx","iCardBorderPx","setVisible","oOvpContent","remove","reprioritizeContent","oGenCardCtrl","getController","iDropDownHeight","getItemHeight","iBubbleTextHeight","sId","updatedVizHeight","_calculateVizLegendGroupHeight","oVizCard","setVizProperties","toPx","layoutHeight","donutHeight","legendGroup","layout","cardWidth","parseInt","width","chartType","updatedVizWidth","_calculateVizLegendGroupWidth","layoutWidth","maxWidth","refreshCard","rerender","onShowInsightCardPreview","oCardView","oCardController","checkIBNNavigationExistsForCard","showCard","entitySet","cardComponentName","cardComponentData","cardComponent","oCardComponent","view","oCardManifestConfiguration","saveGeneratedCardManifest"],"sources":["analyticalChart-dbg.controller.js"],"mappings":"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"}