{"version":3,"file":"OVPVizDataHandler.js","names":["sap","ui","define","Control","JSONModel","Utils","AnnotationHelper","OvpResources","each","merge","AnalyticalCardHelper","extend","metadata","aggregations","data","type","aggregateData","content","multiple","properties","chartType","defaultValue","dependentDataReceived","scale","entitySet","renderer","oRM","oControl","openStart","openEnd","getContent","renderControl","close","mergeDatasets","binding","oDataClone","that","this","model","getModel","parameters","mParameters","bData","dataSet","selectedProperties","select","split","entitySetPath","getPath","substring","pos","indexOf","substr","metaModel","getMetaModel","entitySetName","getEntitySet","getODataEntitySet","entityType","getODataEntityType","finalMeasures","finalDimensions","i","property","length","hasOwnProperty","name","push","results","j","Number","count","__count","object","result","aggregateObject","aggregateSet","String","getText","$isOthers","oCardModel","bEnableStableColors","getProperty","oColorPalette","oChartAnnotation","DimensionAttributes","getVizType","Object","colorPaletteDimension","Dimension","PropertyPath","Array","aColorValues","map","value","color","aDuplicateColorValues","slice","oDuplicateColorValues","JSON","parse","stringify","oVizProps","getVizProperties","vizPropertiesObject","plotArea","dataPointStyle","rules","oDimension","getODataProperty","sDimensionLabel","sDisplayProperty","getColorRule","k","colorObject","key","oResult","dataContext","displayName","dimensionValue","oRule","splice","isArray","callback","oContext","lastIndexOf","keys","setVizProperties","sKey","getId","oVizPropertiesCopy","setVizPropertyMap","oModel","setData","setModel","updateBindingContext","getBinding","aggrDataBinding","chartBinding","attachEvent","oEvent","getParameter","getChartType","undefined","getDependentDataReceived","setDependentDataReceived","oMetadataMap","cacheODataMetadata","oEntitySet","oSemanticDateInfo","getSemanticProperties","aTimeAxisProperties","oTimeAxisPropertiesAndSemantics","dateProperty","year","month","quarter","monthFromQuarter","monthIndex","week","startOfWeekDay","parseInt","Date","UTC","sAnnotationType","sFiscalData","getFormattedFiscalData","prototype","apply","arguments","chartAggrBinding"],"sources":["OVPVizDataHandler-dbg.js"],"mappings":"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"}