{"version":3,"file":"ManageCardsUtils.js","names":["sap","ui","define","BaseObject","JSONModel","ControlPersonalizationWriteAPI","Fragment","PersonalizationUtils","CommonUtils","extend","constructor","controller","Error","onManageCardsMenuButtonPress","this","aManageCardsDialogModelState","oMainController","getApp","that","oManageCardsFragmentController","onManageCardOkButtonPressed","oEvent","getParameters","reason","aP13nData","byId","getP13nData","aOrderedCards","getUIModel","getProperty","aVisibilityDeltaChanges","iDataLength","length","i","visible","push","changeType","content","cardId","id","visibility","isUserDependent","createOrDestroyCards","apply","setProperty","updateDashboardLayoutCards","updateLayoutWithOrderedCards","savePersonalization","getView","oCard","iCardIndex","aErrorCards","indexOf","splice","document","querySelector","focus","oSelectionPanelContainer","oDialogContainer","destroy","onManageCardResetButtonPressed","sLayoutName","getLayout","getMetadata","getName","oUiModel","aManifestOrderedCards","resetDashboardLayout","manageCardsDialog","getModel","aCardForDeletion","aCards","enhanceOrderedCardsForP13NDialog","oSelectionPanel","setP13nData","reset","selectors","finally","oManageCardsFragment","load","getId","name","then","oControl","oManageCardsDialogModel","Object","assign","getManageCardsDialogModelState","oModel","cards","setModel","addDependent","openManageCardsDialog","oPopup","open","aVisibleCardIds","forEach","card","aCardsModel","_getCardsModel","aVisibleCardsForLayout","_getCardArrayAsVariantFormatDashboard","find","oElement","label","settings","title","aContent","getContent","split","pop","getVisible","aCardArray","aCardsArray"],"sources":["ManageCardsUtils-dbg.js"],"mappings":"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"}