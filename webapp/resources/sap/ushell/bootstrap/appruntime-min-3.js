//@ui5-bundle sap/ushell/bootstrap/appruntime-min-3.js
window["sap-ui-optimized"] = true;
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/ChangePersistence", ["sap/base/util/restricted/_union","sap/base/util/includes","sap/base/util/merge","sap/base/util/UriParameters","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Component","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/condenser/Condenser","sap/ui/fl/write/_internal/Storage","sap/ui/fl/write/api/Version","sap/ui/fl/Cache","sap/ui/fl/LayerUtils","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement"],function(e,t,n,a,r,i,s,o,h,l,c,g,f,p,u,d,C,m,y,v,_,S,D,b,L,E){"use strict";var I=function(e){this._mComponent=e;this._mChanges=f.createEmptyDependencyMap();this._bChangesMapCreated=false;this._mChangesInitial=n({},this._mChanges);if(!this._mComponent||!this._mComponent.name){r.error("The Control does not belong to an SAPUI5 component. Personalization and changes for this control might not work as expected.");throw new Error("Missing component name.")}this._aDirtyChanges=[];this._oMessagebundle=undefined;this._mChangesEntries={};this._bHasChangesOverMaxLayer=false;this.HIGHER_LAYER_CHANGES_EXIST="higher_layer_changes_exist"};function F(e,t){var n;if(t instanceof l){n=t;this._mChangesEntries[n.getId()]=n}else{if(!this._mChangesEntries[t.fileName]){this._mChangesEntries[t.fileName]=c.createFromFileContent(t)}n=this._mChangesEntries[t.fileName];n.setState(g.LifecycleState.PERSISTED)}return n}I.prototype.getComponentName=function(){return this._mComponent.name};I.prototype.getCacheKey=function(e){return _.getCacheKey(this._mComponent,e)};function O(e){var t;var n;var a;var r;if(e instanceof l){var i=e;t=i.getFileType();a=i.getVariantReference();r=i.getSelector()&&i.getSelector().id}else{var s=e;t=s.fileType;n=s.variantManagementReference;a=s.variantReference;r=s.selector&&s.selector.id}var o=false;if(t==="ctrl_variant"||t==="ctrl_variant_change"||t==="ctrl_variant_management_change"){o=n||a||r}return t==="change"||o}I.prototype.getChangesForComponent=function(e,t){return b.getUShellService("URLParsing").then(function(n){this._oUShellURLParsingService=n;return _.getChangesFillingCache(this._mComponent,e,t)}.bind(this)).then(function(e,t){var a=n({},t);var r=e&&e.component&&b.getAppComponentForControl(e.component);var i=d.isStorageResponseFilled(a.changes);if(!i){return[]}var s=a.changes.changes;if(!this._oMessagebundle&&a.messagebundle&&r){if(!r.getModel("i18nFlexVendor")){if(s.some(function(e){return e.layer===D.VENDOR})){this._oMessagebundle=a.messagebundle;var o=new L(this._oMessagebundle);r.setModel(o,"i18nFlexVendor")}}}var h=e&&e.currentLayer;var l=!(e&&e.ignoreMaxLayerParameter);var c=function(){return true};if(h){s=S.filterChangeOrChangeDefinitionsByCurrentLayer(s,h)}else if(S.isLayerFilteringRequired(this._oUShellURLParsingService)&&l){c=M.bind(this);s=s.filter(c)}else if(this._bHasChangesOverMaxLayer&&!l){this._bHasChangesOverMaxLayer=false;return this.HIGHER_LAYER_CHANGES_EXIST}var g=a.changes&&e&&e.includeCtrlVariants;var f=this._getAllCtrlVariantChanges(a,g,c);s=s.concat(f);return this._checkAndGetChangeInstances(s,a)}.bind(this,e))};I.prototype._checkAndGetChangeInstances=function(e,t){return e.filter(O).map(F.bind(this,t))};function M(e){if(S.isOverMaxLayer(x(e),this._oUShellURLParsingService)){if(!this._bHasChangesOverMaxLayer){this._bHasChangesOverMaxLayer=true}return false}return true}function x(e){var t;if(typeof e.isA==="function"&&(e.isA("sap.ui.fl.apply._internal.flexObjects.FlVariant")||e.isA("sap.ui.fl.apply._internal.flexObjects.UIChange"))){t=e.getLayer()}else{t=e.layer}return t}I.prototype._getAllCtrlVariantChanges=function(e,t,n){if(!t){return p.getInitialChanges({reference:this._mComponent.name})}return["variants","variantChanges","variantDependentControlChanges","variantManagementChanges"].reduce(function(t,n){if(e.changes[n]){return t.concat(e.changes[n])}return t},[]).filter(n)};I.prototype.loadChangesMapForComponent=function(e){return this.getChangesForComponent({component:e}).then(t.bind(this));function t(t){E.start("fl.createDependencyMap","Measurement of creating initial dependency map");this._mChanges=f.createEmptyDependencyMap();t.forEach(this.addChangeAndUpdateDependencies.bind(this,e));this._mChangesInitial=n({},this._mChanges);E.end("fl.createDependencyMap","Measurement of creating initial dependency map");this._bChangesMapCreated=true;return this.getChangesMapForComponent.bind(this)}};I.prototype.getOpenDependentChangesForControl=function(e,t){return f.getOpenDependentChangesForControl(this._mChanges,i.getControlIdBySelector(e,t),t)};function A(e){var t=n({},this._mChangesInitial.mDependencies);return t[e.getId()]}function U(e,n,a,r){var s;var o=[];e.controlsDependencies.forEach(function(e){if(!i.bySelector(e,a)){s=i.getControlIdBySelector(e,a);o.push(e);this._mChanges.mControlsWithDependencies[s]=this._mChanges.mControlsWithDependencies[s]||[];if(!t(this._mChanges.mControlsWithDependencies[s],r.getId())){this._mChanges.mControlsWithDependencies[s].push(r.getId())}}}.bind(this));e.dependencies=n;e.controlsDependencies=o;if(n.length||o.length){this._mChanges.mDependencies[r.getId()]=e}}I.prototype.copyDependenciesFromInitialChangesMap=function(e,t,n){var a=A.call(this,e);if(a){var r=[];a.dependencies.forEach(function(n){if(t(n)){this._mChanges.mDependentChangesOnMe[n]=this._mChanges.mDependentChangesOnMe[n]||[];this._mChanges.mDependentChangesOnMe[n].push(e.getId());r.push(n)}}.bind(this));U.call(this,a,r,n,e)}return this._mChanges};I.prototype.addChangeAndUpdateDependencies=function(e,t,n){t.setInitialApplyState();if(n){f.insertChange(t,this._mChanges,n)}f.addChangeAndUpdateDependencies(t,e,this._mChanges)};I.prototype._addRunTimeCreatedChangeAndUpdateDependencies=function(e,t){f.addRuntimeChangeAndUpdateDependencies(t,e,this._mChanges,this._mChangesInitial)};I.prototype.getChangesMapForComponent=function(){return this._mChanges};I.prototype.getAllUIChanges=function(t){var n=e(this.getChangesMapForComponent().aChanges,t.includeDirtyChanges&&this.getDirtyChanges()).filter(function(e){return Boolean(e)&&e.getFileType()==="change"&&S.compareAgainstCurrentLayer(e.getLayer(),t.layer)===0});return n};I.prototype.isChangeMapCreated=function(){return this._bChangesMapCreated};I.prototype.getChangesForView=function(e){return this.getChangesForComponent(e).then(function(t){return t.filter(h.filterChangeByView.bind(undefined,e))})};I.prototype.addChange=function(e,t){var n=this.addDirtyChange(e);this._addRunTimeCreatedChangeAndUpdateDependencies(t,n);this._mChangesEntries[n.getId()]=n;this._addPropagationListener(t);return n};I.prototype.addDirtyChange=function(e){var t;if(typeof e.isA==="function"&&e.isA("sap.ui.fl.apply._internal.flexObjects.FlexObject")){t=e}else{t=c.createFromFileContent(e)}if(this._aDirtyChanges.indexOf(t)===-1){this._aDirtyChanges.push(t);u.addDirtyFlexObject(this._mComponent.name,t)}return t};I.prototype._addPropagationListener=function(e){var t=b.getAppComponentForControl(e);if(t instanceof s){var n=function(e){return!e._bIsSapUiFlFlexControllerApplyChangesOnControl};var a=t.getPropagationListeners().every(n);if(a){var r=sap.ui.require("sap/ui/fl/FlexControllerFactory");var i=r.create(this.getComponentName());var h=o.applyAllChangesForControl.bind(o,this.getChangesMapForComponent.bind(this),t,i);h._bIsSapUiFlFlexControllerApplyChangesOnControl=true;t.addPropagationListener(h)}}};I.prototype._deleteNotSavedChanges=function(e,t,n){e.filter(function(e){return!t.some(function(t){return e.getId()===t.getId()})}).forEach(function(e){if(n){this.removeChange(e);_.deleteChange(this._mComponent,e.convertToFileContent())}else{this.deleteChange(e)}}.bind(this))};function R(e,t){var n=e.map(function(e){return e[t]()});var a=n.filter(function(e,t,n){return n.indexOf(e)===t});return a.length===1}function T(e,t,n){var r=false;if(!e||t.length<2||!R(t,"getLayer")){return false}if(n){r=true}else{var i=t[0].getLayer();if([D.CUSTOMER,D.USER].includes(i)){r=true}}var s=a.fromURL(window.location.href);if(s.has("sap-ui-xx-condense-changes")){r=s.get("sap-ui-xx-condense-changes")==="true"}return r}function P(e){var t=C.getInstanceOrUndef()&&C.getInstanceOrUndef().isCondensingEnabled();if(t&&!R(e,"getNamespace")){t=false}return t}function N(e,t,n,a){this._massUpdateCacheAndDirtyState(t,n);this._deleteNotSavedChanges(e,t,a)}function V(e,t,n,a){if(!e.length&&!n){return[]}var r=this._mChanges.aChanges.filter(function(e){if(a===D.CUSTOMER&&t){return e.getState()===g.LifecycleState.PERSISTED&&t.includes(e.getId())}return e.getState()===g.LifecycleState.PERSISTED&&S.compareAgainstCurrentLayer(e.getLayer(),a)===0});return r.concat(e)}function j(e){if(e.length){var t=q(e);var n=true;if(C.getInstanceOrUndef()&&C.getInstanceOrUndef().hasPersoConnector()){var a=B(e);n=a.length===1}return t.length===1&&n}return true}function w(e,t,n,a,r,i){var s=[];var o=Promise.resolve();var h=i.filter(function(e){if(e.getState()===g.LifecycleState.DELETED){s.push(e);return false}return true});if(s.length){o=this.saveSequenceOfDirtyChanges(s,a,n)}return o.then(function(){if(h.length){return y.write({layer:e,flexObjects:k(h),transport:t,isLegacyVariant:false,parentVersion:n}).then(function(e){N.call(this,r,h,a);return e}.bind(this))}return this._deleteNotSavedChanges(r,i)}.bind(this))}I.prototype.saveDirtyChanges=function(e,t,n,a,r,i,s){var o=n||this._aDirtyChanges;var h=o.length&&o[0].getLayer()||s;var l=V.call(this,o,r,i,h);var c=P(l)&&T(e,l,i);var g=c?l:o;var f=g.slice(0);var p=q(o);if(j(o)){var u=Promise.resolve(f);if(T(e,f,i)){u=m.condense(e,f)}return u.then(function(e){var n=p[0];if(c){return y.condense({allChanges:g,condensedChanges:e,layer:h,transport:n,isLegacyVariant:false,parentVersion:a}).then(function(n){N.call(this,g,e,t,true);return n}.bind(this))}return w.call(this,h,n,a,t,g,e)}.bind(this))}return this.saveSequenceOfDirtyChanges(o,t,a)};I.prototype.saveSequenceOfDirtyChanges=function(e,t,n){var a;if(n){var r=e.filter(function(e){return e.getState()===g.LifecycleState.NEW});a=[].concat(r).shift()}return e.reduce(function(e,r){return e.then(H.bind(undefined,r,a,n)).then(this._updateCacheAndDirtyState.bind(this,r,t))}.bind(this),Promise.resolve())};function H(e,t,n){switch(e.getState()){case g.LifecycleState.NEW:if(n!==undefined){n=e===t?n:v.Number.Draft}return y.write({layer:e.getLayer(),flexObjects:[e.convertToFileContent()],transport:e.getRequest(),parentVersion:n});case g.LifecycleState.DELETED:return y.remove({flexObject:e.convertToFileContent(),layer:e.getLayer(),transport:e.getRequest(),parentVersion:n});default:return Promise.resolve()}}I.prototype._updateCacheAndDirtyState=function(e,t){this._aDirtyChanges=this._aDirtyChanges.filter(function(t){return e.getId()!==t.getId()});if(!t){switch(e.getState()){case g.LifecycleState.NEW:e.setState(g.LifecycleState.PERSISTED);_.addChange(this._mComponent,e.convertToFileContent());break;case g.LifecycleState.DELETED:_.deleteChange(this._mComponent,e.convertToFileContent());break;case g.LifecycleState.DIRTY:e.setState(g.LifecycleState.PERSISTED);_.updateChange(this._mComponent,e.convertToFileContent());break;default:}}};I.prototype._massUpdateCacheAndDirtyState=function(e,t){e.forEach(function(e){this._updateCacheAndDirtyState(e,t)},this)};function q(e){var t=[];e.forEach(function(e){var n=e.getRequest();if(t.indexOf(n)===-1){t.push(n)}});return t}function B(e){var t=[];e.forEach(function(e){var n=e.getLayer();if(t.indexOf(n)===-1){t.push(n)}});return t}function k(e){var t=[];e.forEach(function(e){t.push(e.convertToFileContent())});return t}I.prototype.getDirtyChanges=function(){return this._aDirtyChanges};I.prototype.deleteChange=function(e,t){var n=this._aDirtyChanges.indexOf(e);if(n>-1){if(e.getState()===g.LifecycleState.DELETED){return}this._aDirtyChanges.splice(n,1);u.removeDirtyFlexObject(this._mComponent.name,e);this._deleteChangeInMap(e,t);return}e.markForDeletion();this.addDirtyChange(e);this._deleteChangeInMap(e,t)};I.prototype.removeChange=function(e){var t=this._aDirtyChanges.indexOf(e);if(t>-1){this._aDirtyChanges.splice(t,1);u.removeDirtyFlexObject(this._mComponent.name,e)}this._deleteChangeInMap(e)};I.prototype._deleteChangeInMap=function(e,t){var n=e.getId();f.removeChangeFromMap(this._mChanges,n);f.removeChangeFromDependencies(t?this._mChangesInitial:this._mChanges,n)};function W(e,t){return(t.getRequest()==="$TMP"||t.getRequest()==="")&&t.getLayer()===e}function G(e,t){return t.getState()===g.LifecycleState.PERSISTED&&t.getLayer()===e}function Y(){var e=[];var t=u.getCompVariantsMap(this.getComponentName());for(var n in t){for(var a in t[n].byId){e.push(t[n].byId[a])}}return e}I.prototype.transportAllUIChanges=function(e,t,n,a){return this.getChangesForComponent({currentLayer:n,includeCtrlVariants:true}).then(function(r){var i=Y.call(this);r=r.concat(i.filter(W.bind(this,n)));return y.publish({transportDialogSettings:{rootControl:e,styleClass:t},layer:n,reference:this.getComponentName(),localChanges:r,appVariantDescriptors:a})}.bind(this))};I.prototype._getChangesFromMapByNames=function(e){return this._mChanges.aChanges.filter(function(t){return e.indexOf(t.getId())!==-1})};I.prototype.removeDirtyChanges=function(e,t,n,a,r){var s=[].concat(e||[]);var o=this._aDirtyChanges;var h=o.filter(function(e){var o=true;if(s.length&&!s.includes(e.getLayer())){return false}if(a&&e.getSupportInformation().generator!==a){return false}if(n){var h=e.getSelector();o=n.getId()===i.getControlIdBySelector(h,t)}if(r){o=o&&r.indexOf(e.getChangeType())!==-1}return o});h.forEach(function(e){var t=o.indexOf(e);o.splice(t,1);u.removeDirtyFlexObject(this._mComponent.name,e)}.bind(this));return Promise.resolve(h)};I.prototype.resetChanges=function(e,t,n,a){var r=n&&n.length>0;var i=a&&a.length>0;var s=C.getInstanceOrUndef()&&C.getInstanceOrUndef().isPublicLayerAvailable();var o=t===undefined&&n===undefined&&a===undefined;var h=[];if(s&&o){h=Y.call(this).filter(G.bind(this,e))}return this.getChangesForComponent({currentLayer:e,includeCtrlVariants:true}).then(function(s){s=s.concat(h);var o={reference:this.getComponentName(),layer:e,changes:s};if(t){o.generator=t}if(r){o.selectorIds=n}if(i){o.changeTypes=a}return y.reset(o)}.bind(this)).then(function(e){var t=[];if(n||a){var r=[];if(e&&e.response&&e.response.length>0){e.response.forEach(function(e){r.push(e.fileName)})}_.removeChanges(this._mComponent,r);t=this._getChangesFromMapByNames(r)}return t}.bind(this))};return I});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/ChangePersistenceFactory", ["sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/ChangePersistence"],function(e,n){"use strict";var t={};t._instanceCache={};t.getChangePersistenceForComponent=function(e){var r=t._instanceCache[e];if(!r){var a={name:e};r=new n(a);t._instanceCache[e]=r}return r};t.getChangePersistenceForControl=function(n){var r;r=e.getFlexReferenceForControl(n);return t.getChangePersistenceForComponent(r)};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/FlexController", ["sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/Utils","sap/ui/fl/Layer","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/write/_internal/Versions","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/changes/Reverter","sap/ui/fl/apply/_internal/controlVariants/URLHandler","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/util/reflection/XmlTreeModifier","sap/ui/core/Component","sap/base/Log"],function(e,t,n,r,o,i,a,s,p,h,c,l,u,f,g){"use strict";function C(e,t,n){return Promise.resolve().then(function(){if(n.length!==0){n.reverse();return a.revertMultipleChanges(n,{appComponent:e,modifier:l,flexController:this})}}.bind(this)).then(function(){if(e){var r=e.getModel(c.getVariantModelName());if(r){if(!t){s.update({parameters:[],updateURL:true,updateHashEntry:true,model:r})}}}return n})}var d=function(e){this._oChangePersistence=undefined;this._sComponentName=e||"";if(this._sComponentName){this._oChangePersistence=r.getChangePersistenceForComponent(this.getComponentName())}};d.prototype.getComponentName=function(){return this._sComponentName};d.prototype.setVariantSwitchPromise=function(e){this._oVariantSwitchPromise=e};d.prototype.waitForVariantSwitch=function(){if(!this._oVariantSwitchPromise){this._oVariantSwitchPromise=Promise.resolve()}return this._oVariantSwitchPromise};d.prototype.createBaseChange=function(e,t){if(!t){throw new Error("No application component found. To offer flexibility a valid relation to its owning component must be present.")}e.reference=this.getComponentName();e.packageName="$TMP";var n=p.createUIChange(e);if(e.variantReference){n.setVariantReference(e.variantReference)}return n};d.prototype._createChange=function(n,r,o){var i=o&&(o.controlType||t.getControlType(o));var a=this.createBaseChange(n,r);return e.getChangeHandler(a.getChangeType(),i,o,l,a.getLayer()).then(function(e){if(e){return e.completeChangeContent(a,n,{modifier:l,appComponent:r,view:t.getViewForControl(o)})}throw new Error("Change handler could not be retrieved for change "+JSON.stringify(n)+".")}).then(function(){a.setState(h.LifecycleState.NEW);return a}).catch(function(e){return Promise.reject(e)})};d.prototype.createChangeWithExtensionPointSelector=function(e,n){return Promise.resolve().then(function(){if(!n){throw new Error("A flexibility change on extension point cannot be created without a valid extension point reference.")}var r=n.view;var o=t.getAppComponentForControl(r);e.selector={name:n.name,viewSelector:l.getSelector(r.getId(),o)};return o}).then(function(t){return this._createChange(e,t)}.bind(this))};d.prototype.createChangeWithControlSelector=function(e,n){var r;return(new t.FakePromise).then(function(){if(!n){throw new Error("A flexibility change cannot be created without a targeted control.")}var o=n.id||n.getId();if(!e.selector){e.selector={}}r=n.appComponent||t.getAppComponentForControl(n);if(!r){throw new Error("No application component found. To offer flexibility, the control with the ID '"+o+"' has to have a valid relation to its owning application component.")}Object.assign(e.selector,l.getSelector(o,r));return r}).then(function(t){return this._createChange(e,t,n)}.bind(this))};d.prototype.addChange=function(e,n){return this.createChangeWithControlSelector(e,n).then(function(e){var r=t.getAppComponentForControl(n);e._ignoreOnce=true;this.addPreparedChange(e,r);e.setQueuedForApply();return e}.bind(this))};d.prototype.addPreparedChange=function(e,t){this._oChangePersistence.addChange(e,t);return e};d.prototype.deleteChange=function(e){this._oChangePersistence.deleteChange(e)};d.prototype.applyChange=function(e,n){var r={modifier:l,appComponent:t.getAppComponentForControl(n),view:t.getViewForControl(n)};return i.applyChangeOnControl(e,n,r).then(function(t){if(!t.success){var n=t.error||new Error("The change could not be applied.");this._oChangePersistence.deleteChange(e,true);throw n}return e}.bind(this))};function m(e,n,r,o,i){var a=y(e,o);if(!a){return[]}i.push(e);var s=e.getId();var p=n[s]&&n[s].dependencies||[];for(var h=0,c=p.length;h<c;h++){var l=t.getChangeFromChangesMap(r,p[h]);a=m(l,n,r,o,i);if(a.length===0){i=[];break}delete n[s]}return i}function y(e,t){var n=e.getDependentControlSelectorList();n.push(e.getSelector());return!n.some(function(e){return!l.bySelector(e,t)})}d.prototype.waitForChangesToBeApplied=function(e){var t=e.map(function(e){return this._waitForChangesToBeApplied(e)}.bind(this));return Promise.all(t).then(function(){return undefined})};d.prototype._waitForChangesToBeApplied=function(e){function n(t){return!t.isCurrentProcessFinished()&&(e.changeTypes.length===0||e.changeTypes.includes(t.getChangeType()))}e.changeTypes=e.changeTypes||[];var r=e.selector.id&&sap.ui.getCore().byId(e.selector.id)||e.selector;var o=this._oChangePersistence.getChangesMapForComponent();var i=[];var a=Object.assign({},o.mDependencies);var s=o.mChanges;var p=s[r.getId()]||[];var h=p.filter(n);var c=e.selector.appComponent||t.getAppComponentForControl(r);var l=[];h.forEach(function(e){var t=m(e,a,o.mChanges,c,[]);t.forEach(function(e){if(l.indexOf(e)===-1){l.push(e)}})});l.forEach(function(e){i=i.concat(e.addChangeProcessingPromises())},this);i.push(this.waitForVariantSwitch());return Promise.all(i)};d.prototype._removeOtherLayerChanges=function(e,t,r){if(r&&t){var o=Object.values(n).filter(function(e){return e!==t});return this.removeDirtyChanges(o,e,undefined,undefined,undefined,true)}return Promise.resolve()};d.prototype.saveAll=function(e,t,r,i,a,s){var p;var h;if(r){var c=o.getVersionsModel({reference:this._sComponentName,layer:n.CUSTOMER});p=c.getProperty("/persistedVersion");h=c.getProperty("/draftFilenames")}return this._removeOtherLayerChanges(e,i,a).then(this._oChangePersistence.saveDirtyChanges.bind(this._oChangePersistence,e,t,undefined,p,h,s,i)).then(function(e){if(r&&e&&e.response){var t=e.response;var n=[];if(Array.isArray(t)){t.forEach(function(e){n.push(e.fileName)});t=t[0]}o.onAllChangesSaved({reference:t.reference,layer:t.layer,draftFilenames:n})}return e})};d.prototype.processXmlView=function(e,n){var r=f.get(n.componentId);var o=t.getAppComponentForControl(r);n.appComponent=o;n.modifier=u;n.view=e;return this._oChangePersistence.getChangesForView(n).then(i.applyAllChangesForXMLView.bind(i,n)).catch(v.bind(this,n.view))};function v(e,t){g.error("Error processing view "+t+".");return e}d.prototype.getComponentChanges=function(e,t){return this._oChangePersistence.getChangesForComponent(e,t)};d.prototype.getOpenDependentChangesForControl=function(e,t){return this._oChangePersistence.getOpenDependentChangesForControl(e,t)};d.prototype.resetChanges=function(e,t,n,r,o){return this._oChangePersistence.resetChanges(e,t,r,o).then(C.bind(this,n,undefined))};d.prototype.removeDirtyChanges=function(e,t,n,r,o,i){return this._oChangePersistence.removeDirtyChanges(e,t,n,r,o).then(C.bind(this,t,i))};d.prototype.applyVariantChanges=function(e,n){var r;return e.reduce(function(e,t){return e.then(function(){var e={modifier:l,appComponent:n};this._oChangePersistence._addRunTimeCreatedChangeAndUpdateDependencies(n,t);r=e.modifier.bySelector(t.getSelector(),n);if(r){return i.applyChangeOnControl(t,r,e)}g.error("A flexibility change tries to change a nonexistent control.")}.bind(this))}.bind(this),new t.FakePromise)};d.prototype.saveSequenceOfDirtyChanges=function(e,t){return this._oChangePersistence.saveDirtyChanges(t,false,e)};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/FlexControllerFactory", ["sap/base/Log","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/FlexController","sap/ui/fl/Utils"],function(e,r,t,n){"use strict";var a={};a._instanceCache={};a.create=function(e){var r=a._instanceCache[e];if(!r){r=new t(e);a._instanceCache[e]=r}return r};a.createForControl=function(t){try{var o=n.getAppComponentForControl(t);var i=r.getFlexReferenceForControl(o||t);return a.create(i)}catch(r){e.error(r.message,undefined,"sap.ui.fl.FlexControllerFactory")}};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Layer", [],function(){"use strict";return{USER:"USER",PUBLIC:"PUBLIC",CUSTOMER:"CUSTOMER",CUSTOMER_BASE:"CUSTOMER_BASE",PARTNER:"PARTNER",VENDOR:"VENDOR",BASE:"BASE"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/LayerUtils", ["sap/base/util/UriParameters","sap/ui/thirdparty/hasher","sap/ui/fl/Layer"],function(e,r,t){"use strict";var n=[t.BASE,t.VENDOR,t.PARTNER,t.CUSTOMER_BASE,t.CUSTOMER,t.PUBLIC,t.USER];var a={};n.forEach(function(e,r){a[e]=r});function i(r){return e.fromQuery(window.location.search).get(r)}var u={_mLayersIndex:a,_sTopLayer:n[n.length-1],FL_MAX_LAYER_PARAM:"sap-ui-fl-max-layer",isValidLayer:function(e){return Object.keys(t).some(function(r){return r===e})},isVendorLayer:function(){return this.getCurrentLayer()===t.VENDOR},isCustomerDependentLayer:function(e){return[t.PUBLIC,t.CUSTOMER,t.CUSTOMER_BASE].indexOf(e)>-1},isDeveloperLayer:function(e){return u.compareAgainstCurrentLayer(e,t.CUSTOMER)===-1},doesCurrentLayerRequirePackage:function(){var e=this.getCurrentLayer();return e===t.VENDOR||e===t.PARTNER||e===t.CUSTOMER_BASE},getMaxLayer:function(e){var t=u.getMaxLayerTechnicalParameter(r.getHash(),e);return t||i(this.FL_MAX_LAYER_PARAM)||u._sTopLayer},getLayerIndex:function(e){return this._mLayersIndex[e]},isOverMaxLayer:function(e,r){return this.isOverLayer(e,this.getMaxLayer(r))},isOverLayer:function(e,r){return this.getLayerIndex(e)>this.getLayerIndex(r)},compareAgainstCurrentLayer:function(e,r){var t=r||u.getCurrentLayer();if(this.getLayerIndex(t)>this.getLayerIndex(e)||!e){return-1}else if(this.getLayerIndex(t)===this.getLayerIndex(e)){return 0}return 1},isLayerFilteringRequired:function(e){return this._sTopLayer!==this.getMaxLayer(e)},isSapUiLayerParameterProvided:function(){return!!i("sap-ui-layer")},getCurrentLayer:function(){var e=i("sap-ui-layer")||"";return e.toUpperCase()||t.CUSTOMER},filterChangeDefinitionsByMaxLayer:function(e,r){return e.filter(function(e){return!e.layer||!u.isOverMaxLayer(e.layer,r)})},filterChangeOrChangeDefinitionsByCurrentLayer:function(e,r){if(!r){return e}return e.filter(function(e){var t=e.getLayer&&e.getLayer()||e.layer;return r===t})},getMaxLayerTechnicalParameter:function(e,r){if(r){var t=r.parseShellHash(e)||{};if(t.params&&t.params.hasOwnProperty(this.FL_MAX_LAYER_PARAM)){return t.params[this.FL_MAX_LAYER_PARAM][0]}}return undefined}};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Scenario", [],function(){"use strict";return{AppVariant:"APP_VARIANT",VersionedAppVariant:"VERSIONED_APP_VARIANT",AdaptationProject:"ADAPTATION_PROJECT",FioriElementsFromScratch:"FE_FROM_SCRATCH",UiAdaptation:"UI_ADAPTATION"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Utils", ["sap/base/strings/formatMessage","sap/base/util/ObjectPath","sap/base/util/isPlainObject","sap/base/util/uid","sap/base/util/UriParameters","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/base/ManagedObject","sap/ui/core/util/reflection/BaseTreeModifier","sap/ui/core/Component","sap/ui/fl/Scenario","sap/ui/thirdparty/hasher","sap/ui/core/mvc/View","sap/ui/core/Configuration"],function(e,t,r,n,a,i,o,s,u,f,p,c,g,l){"use strict";function m(e){if(e&&e.getEntry){return e.getEntry("sap.app")&&e.getEntry("sap.app").type}return e&&e["sap.app"]&&e["sap.app"].type}function h(e,t){if(e&&e.startupParameters&&t){if(Array.isArray(e.startupParameters[t])){return e.startupParameters[t][0]}}}var d={formatAndLogMessage:function(t,r,n,a){var o=r.join(" ");o=e(o,n);i[t](o,a||"")},isVariantByStartupParameter:function(e){if(e){var t=this.getAppComponentForControl(e);if(t&&t.getComponentData){return!!h(t.getComponentData(),"sap-app-id")}}return false},getAppDescriptor:function(e){if(e){var t=this.getAppComponentForControl(e);if(t&&t.getMetadata){var r=t.getMetadata();if(r&&r.getManifestObject){return r.getManifestObject().getJson()}}}},getSiteIdByComponentData:function(e){return h(e,"hcpApplicationId")},isBinding:function(e){return typeof e==="string"&&!!s.bindingParser(e)||r(e)&&((e.hasOwnProperty("path")||e.hasOwnProperty("parts"))&&!e.hasOwnProperty("ui5object"))},isChangeRelatedToVariants:function(e){return e.getFileType()==="ctrl_variant_change"||e.getFileType()==="ctrl_variant_management_change"||e.getFileType()==="ctrl_variant"||e.getVariantReference()},getComponentForControl:function(e){function t(e){var r=f.getOwnerIdFor(e);if(!r){if(e&&typeof e.getParent==="function"){var n=e.getParent();if(n){return t(n)}}}return r||""}if(e){var r=t(e);if(r){return f.get(r)}}},getAppComponentForControl:function(e){var t=e instanceof f?e:d.getComponentForControl(e);if(t&&t.getAppComponent&&t.getAppComponent()instanceof f){return t.getAppComponent()}if(t&&t.oComponentData&&t.oComponentData.appComponent){return t.oComponentData.appComponent}if(t&&t.getManifestEntry){var r=t.getManifestEntry("sap.app");if(r&&r.type&&r.type!=="application"){if(t instanceof f){t=d.getComponentForControl(t)}return this.getAppComponentForControl(t)}}return t},getViewForControl:function(e){if(e instanceof g){return e}if(e&&typeof e.getParent==="function"){e=e.getParent();return d.getViewForControl(e)}},getClient:function(){var e;var t;e=a.fromQuery(window.location.search);t=e.get("sap-client");return t||undefined},getLrepUrl:function(){var e=l.getFlexibilityServices();var t=e.find(function(e){return e.connector==="LrepConnector"});return t?t.url:""},getCurrentLanguage:function(){var e=l.getLanguage();return d.convertBrowserLanguageToISO639_1(e)},convertBrowserLanguageToISO639_1:function(e){if(!e||typeof e!=="string"){return""}var t=e.indexOf("-");if(t<0&&e.length<=2){return e.toUpperCase()}if(t>0&&t<=2){return e.substring(0,t).toUpperCase()}return""},getControlType:function(e){var t;if(e&&typeof e.getMetadata==="function"){t=e.getMetadata();if(t&&typeof t.getElementName==="function"){return t.getElementName()}}},checkControlId:function(e,t){if(!t){e=e instanceof s?e:sap.ui.getCore().byId(e);t=d.getAppComponentForControl(e)}return u.checkControlId(e,t)},hasLocalIdSuffix:u.hasLocalIdSuffix,getParsedURLHash:function(e){if(e){return e.parseShellHash(c.getHash())||{}}return{}},getUrlParameter:function(e){return a.fromQuery(window.location.search).get(e)},getUshellContainer:function(){return t.get("sap.ushell.Container")},createDefaultFileName:function(e){var t=n().replace(/-/g,"_");if(e){t+="_"+e}return t},createNamespace:function(e,t){var r="changes";if(t==="ctrl_variant"){r="variants"}var n=e.reference.replace(".Component","");var a="apps/"+n+"/"+r+"/";return a},buildLrepRootNamespace:function(e,t,r){var n="apps/";var a=new Error("Error in sap.ui.fl.Utils#buildLrepRootNamespace: ");if(!e){a.message+="for every scenario you need a base ID";throw a}switch(t){case p.VersionedAppVariant:if(!r){a.message+="in a versioned app variant scenario you additionally need a project ID";throw a}n+=e+"/appVariants/"+r+"/";break;case p.AppVariant:if(!r){a.message+="in an app variant scenario you additionally need a project ID";throw a}n+=e+"/appVariants/"+r+"/";break;case p.AdaptationProject:if(!r){a.message+="in a adaptation project scenario you additionally need a project ID";throw a}n+=e+"/adapt/"+r+"/";break;case p.FioriElementsFromScratch:case p.UiAdaptation:default:n+=e+"/"}return n},isApplication:function(e){var t=m(e);return t==="application"},isApplicationComponent:function(e){return e instanceof f&&d.isApplication(e.getManifestObject())},isEmbeddedComponent:function(e){return e instanceof f&&m(e.getManifestObject())==="component"},indexOfObject:function(e,t){var r=-1;e.some(function(e,n){var a;var i;if(!e){a=[]}else{a=Object.keys(e)}if(!t){i=[]}else{i=Object.keys(t)}var o=a.length===i.length;var s=o&&!a.some(function(r){return e[r]!==t[r]});if(s){r=n}return s});return r},execPromiseQueueSequentially:function(e,t,r){if(e.length===0){if(r){return Promise.resolve()}return new d.FakePromise}var n=e.shift();if(typeof n==="function"){var a;try{a=n()}catch(e){a=Promise.reject(e)}return a.then(function(){if(!r&&a instanceof Promise){r=true}}).catch(function(e){var r="Error during execPromiseQueueSequentially processing occurred";r+=e?": "+e.message:"";i.error(r,e);if(t){throw new Error(r)}}).then(function(){return this.execPromiseQueueSequentially(e,t,r)}.bind(this))}i.error("Changes could not be applied, promise not wrapped inside function.");return this.execPromiseQueueSequentially(e,t,r)},FakePromise:function(e,t,r){d.FakePromise.fakePromiseIdentifier="sap.ui.fl.Utils.FakePromise";this.vValue=e;this.vError=t;this.bContinueWithFakePromise=arguments.length<3||r===d.FakePromise.fakePromiseIdentifier;var n=function(e,t){try{var r=t(e,d.FakePromise.fakePromiseIdentifier);if(o.isThenable(r)){return r}return new d.FakePromise(r)}catch(e){var n=e;return new d.FakePromise(undefined,n)}};d.FakePromise.prototype.then=function(e,t){if(!this.bContinueWithFakePromise){return Promise.resolve(e(this.vValue))}if(!this.vError){return n(this.vValue,e)}else if(t){return n(this.vError,t)}return this};d.FakePromise.prototype.catch=function(e){if(!this.bContinueWithFakePromise){return Promise.reject(e(this.vError))}if(this.vError){return n(this.vError,e)}return this};if(this.vValue instanceof Promise||this.vValue instanceof d.FakePromise){return this.vValue}},getChangeFromChangesMap:function(e,t){var r;Object.keys(e).forEach(function(n){e[n].some(function(e){if(e.getId()===t){r=e;return true}})});return r},handleUrlParameters:function(e,t,r,n){if(this.hasParameterAndValue(t,r,n)){if(e.startsWith("?")){e=e.substr(1,e.length)}var a=e.split("&").filter(function(e){return e!==t+"="+r});e="";if(a.length>0){e="?"+a.join("&")}}else{e+=(e.length>0?"&":"?")+t+"="+r}return e},hasParameterAndValue:function(e,t,r){return this.getParameter(e,r)===t},getParameter:function(e,t){if(t){var r=d.getParsedURLHash(t);return r.params&&r.params[e]&&r.params[e][0]}return d.getUrlParameter(e)},findAggregation:function(e,t){if(e){if(e.getMetadata){var r=e.getMetadata();var n=r.getAllAggregations();if(n){return n[t]}}}return undefined},getAggregation:function(e,t){var r=d.findAggregation(e,t);if(r){return e[r._sGetter]()}return undefined},getProperty:function(e,t){var r=e.getMetadata().getPropertyLikeSetting(t);if(r){var n=r._sGetter;return e[n]()}return undefined},getUShellService:function(e){if(e){var t=this.getUshellContainer();if(t){return t.getServiceAsync(e)}}return Promise.resolve()},getUShellServices:function(e){var t=e.map(function(e){return this.getUShellService(e)}.bind(this));return Promise.all(t).then(function(t){return e.reduce(function(e,r,n){e[r]=t&&t[n];return e},{})})}};return d},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/ChangesController", ["sap/ui/fl/FlexControllerFactory","sap/ui/fl/Utils"],function(t,e){"use strict";var r={getFlexControllerInstance:function(e){if(typeof e==="string"){return t.create(e)}if(typeof e.appId==="string"){return t.create(e.appId)}var r=e.appComponent||e;return t.createForControl(r)},getAppComponentForSelector:function(t){if(typeof t.appId==="string"){return t}return t.appComponent||e.getAppComponentForControl(t)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/DelegateMediator", ["sap/base/Log","sap/base/util/merge","sap/base/util/restricted/_pick","sap/ui/fl/requireAsync","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,t,r,n,a){"use strict";var i={};i._mDefaultDelegateItems={};i.types={READONLY:"readonly",WRITEONLY:"writeonly",COMPLETE:"complete"};function o(e,t){if(t){return t}if(e.getModel){var r=e.getModel();if(!r){return undefined}return r.getMetadata().getName()}}function u(e,t){t=o(e,t);var r=i._mDefaultDelegateItems[t];return(r||[]).map(function(e){e.payload={};return e})}function l(t,r,a){if(!a.length){return Promise.resolve([])}var i=[];a.forEach(function(a){i.push(function(i){return n(a.name).then(function(e){a.instance=e||{};i.push(a);return i}).catch(function(n){e.error("Failed to load the delegate for the control "+t.getId(r)+"\n"+n.message);return i})})});return i.reduce(function(e,t){return e.then(t)},Promise.resolve([]))}function s(e){return e&&typeof e==="function"}function f(e){return e.delegateType===i.types.COMPLETE||s(e.instance.getPropertyInfo)&&(s(e.instance.createLabel)||s(e.instance.createLayout))}function c(e){return e.delegateType===i.types.READONLY||s(e.instance.getPropertyInfo)}function d(e){return e.delegateType===i.types.WRITEONLY||s(e.instance.createLabel)||s(e.instance.createLayout)}function p(e,t){e.names.push(t.name);if(t.requiredLibraries){e.requiredLibraries=Object.assign(e.requiredLibraries||{},t.requiredLibraries)}if(t.payload&&!e.payload){e.payload=t.payload}return e}function g(e,n){e=p(e,n);return t(e,{instance:r(n.instance,["getPropertyInfo","getRepresentedProperties"])})}function m(e,n){e=p(e,n);return t(e,{instance:r(n.instance,["createLabel","createControlForProperty","createLayout"])})}function y(e,n){e=p(e,n);return t(e,r(n,"instance"))}function T(e){var t={names:[],instance:{},modelType:e.length&&e[0].modelType};var r=true;var n=true;for(var a=e.length-1;a>=0;a--){var i=e[a];if(f(i)){if(r&&n){t=y(t,i)}else if(r){t=g(t,i)}else if(n){t=m(t,i)}break}else if(c(i)&&r){t=g(t,i);r=false}else if(d(i)&&n){t=m(t,i);n=false}}return e.length?t:undefined}function h(e,t){return new Promise(function(r,n){if(!e){n(new Error("The control parameter is missing"))}if(!t){n(new Error("The modifier parameter is missing"))}if(!e){n(new Error("The input control should be available"))}if(t===a&&(!e.isA||!e.isA("sap.ui.base.ManagedObject"))){n(new Error("The input control should be a managed object"))}r()})}function D(e){return Object.values(i.types).some(function(t){return t===e.delegateType})}function b(e){var t=i._mDefaultDelegateItems[e.modelType]||[];var r=t.map(function(e){return e.delegateType});return r.indexOf(i.types.COMPLETE)>-1||r.indexOf(e.delegateType)>-1||e.delegateType===i.types.COMPLETE&&r.length}i.getKnownDefaultDelegateLibraries=function(){return["sap.ui.comp"]};i.getRequiredLibrariesForDefaultDelegate=function(e,t,r){r=o(t,r);var n=i._mDefaultDelegateItems[r]||[];return n.reduce(function(t,r){var n=e.indexOf(r.name)>-1;return t.concat(Object.keys(n&&r.requiredLibraries||{}))},[])};i.isDelegateRegistered=function(e){return!!i._mDefaultDelegateItems[e]};i.registerDefaultDelegate=function(e){if(!(e.modelType&&e.delegate)){throw new Error("'modelType' and 'delegate' properties are required for registration!")}e.delegateType=e.delegateType||i.types.COMPLETE;if(e.delegateType&&!D(e)){throw new Error("default 'delegateType': "+e.delegateType+" is invalid!")}if(b(e)){throw new Error("modelType "+e.modelType+"is already defined!")}if(!i._mDefaultDelegateItems[e.modelType]){i._mDefaultDelegateItems[e.modelType]=[]}i._mDefaultDelegateItems[e.modelType].push({name:e.delegate,requiredLibraries:e.requiredLibraries,delegateType:e.delegateType,modelType:e.modelType})};i.getDelegateForControl=function(e,t,r,n){return h(e,t).then(function(){return t.getFlexDelegate(e)}).then(function(a){var i=n&&u(e,r)||[];if(a){i.push(a)}return l(t,e,i)}).then(T.bind(this))};i.clear=function(){i._mDefaultDelegateItems={}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Applier", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/Utils"],function(e,n,r,t,o,a,i){"use strict";var s=new i.FakePromise;function l(e,n){var r=e.getSelector&&e.getSelector();if(!r||!r.id&&!r.name){return Promise.reject(Error("No selector in change found or no selector ID."))}function t(e){if(i.indexOfObject(n.failedSelectors,e)>-1){throw Error("A change depending on that control already failed, so the current change is skipped")}}return n.modifier.bySelectorTypeIndependent(r,n.appComponent,n.view).then(function(o){if(!o){throw Error("A flexibility change tries to change a nonexistent control.")}t(r);var a=e.getDependentControlSelectorList();a.forEach(function(e){var r=n.modifier.bySelector(e,n.appComponent,n.view);if(!r){throw new Error("A dependent selector control of the flexibility change is not available.")}t(e)});return o})}function c(e){return e.modifier.targets==="xmlTree"}function f(e,n,r,a,i){var s=o.getControlIfTemplateAffected(n,e,i);var l=i.modifier;var f=!!t.getAppliedCustomDataValue(s.control,n,l);var u=t.hasChangeApplyFinishedCustomData(s.control,n,l);var d=n.isApplyProcessFinished();var g=i.appComponent;if(d&&!u){if(!c(i)){var p=o.checkIfDependencyIsStillValid.bind(null,g,l,r);a._oChangePersistence.copyDependenciesFromInitialChangesMap(n,p,g)}n.setInitialApplyState()}else if(!d&&u){if(f){n.setRevertData(t.getParsedRevertDataFromCustomData(s.control,n,l));n.markSuccessful()}else{n.markFailed()}}else if(d&&u){n.markSuccessful()}}function u(e,n){var r;if(c(n)&&e.getJsOnly()){r="Change cannot be applied in XML. Retrying in JS."}if(r){e.setInitialApplyState();throw Error(r)}}function d(e,r,o,a){return Promise.resolve().then(function(){if(o instanceof n){r.control=o}if(r.control){return a.modifier.updateAggregation(r.originalControl,e.getContent().boundAggregation)}return undefined}).then(function(){return t.addAppliedCustomData(r.control,e,a,c(a))}).then(function(){var n={success:true};e.markSuccessful(n);return n})}function g(e,n,r,o){var a=c(o);var s={success:false,error:e};var l=n.getId();var f="Change ''{0}'' could not be applied.";var u=e instanceof Error;var d=t.getCustomDataIdentifier(false,u,a);switch(d){case t.notApplicableChangesCustomDataKey:i.formatAndLogMessage("info",[f,e.message],[l]);break;case t.failedChangesCustomDataKeyXml:i.formatAndLogMessage("warning",[f,"Merge error detected while processing the XML tree."],[l],e.stack);break;case t.failedChangesCustomDataKeyJs:i.formatAndLogMessage("error",[f,"Merge error detected while processing the JS control tree."],[l],e.stack);break}return t.addFailedCustomData(r.control,n,o,d).then(function(){if(a){n.setInitialApplyState()}else{n.markFailed(s)}return s})}function p(n,r){var t=r.getChangeType();var o=r.getSelector().id;var a=r.getNamespace()+r.getId()+"."+r.getFileType();var i="A flexibility change could not be applied.";i+="\nThe displayed UI might not be displayed as intedend.";if(n.message){i+="\n   occurred error message: '"+n.message+"'"}i+="\n   type of change: '"+t+"'";i+="\n   LRep location of the change: "+a;i+="\n   id of targeted control: '"+o+"'.";e.warning(i,undefined,"sap.ui.fl.apply._internal.changes.Applier")}function h(e,n,t){var o={appComponent:t,modifier:r};var a=r.bySelector(e.originalSelectorToBeAdjusted,t);var i=n.getBindingInfo(e.getContent().boundAggregation).template;if(a.getParent()){var s=[];var l=a;do{s.push({aggregation:l.sParentAggregationName,index:l.getParent().getAggregation(l.sParentAggregationName).indexOf(l)});l=l.getParent()}while(l.getParent());s.reverse();s.forEach(function(e){i=i.getAggregation(e.aggregation)[e.index]})}e.addDependentControl(i,"originalSelector",o)}function m(e,n,r){var t=e.findIndex(function(e){return e.handler===n});if(t<0){t=e.length;e.push({handler:n,controls:[]})}if(!e[t].controls.includes(r)){e[t].controls.push(r)}}var v={addPreConditionForInitialChangeApplying:function(e){s=s.then(function(){return e})},applyChangeOnControl:function(e,n,r){var t=o.getControlIfTemplateAffected(e,n,r);var a=r.changeHandler?Promise.resolve(r.changeHandler):o.getChangeHandler(e,t,r);return a.then(function(n){u(e,r);return n}).then(function(n){if(e.hasApplyProcessStarted()){return e.addPromiseForApplyProcessing().then(function(n){e.markSuccessful();return n})}else if(!e.isApplyProcessFinished()){return(new i.FakePromise).then(function(){e.startApplying();return n.applyChange(e,t.control,r)}).then(function(n){return d(e,t,n,r)}).catch(function(n){return g(n,e,t,r)})}var o={success:true};e.markSuccessful(o);return o}).catch(function(e){return{success:false,error:e}})},applyAllChangesForControl:function(e,n,t,o){var l=e();var c=o.getId();var u=l.mChanges[c]||[];var d={modifier:r,appComponent:n,view:i.getViewForControl(o)};u.forEach(function(e){f(o,e,l,t,d);if(!e.isApplyProcessFinished()&&!e._ignoreOnce){e.setQueuedForApply()}});s=s.then(function(e,r){var t=[];var o=e.getId();var s=l.mChanges[o]||[];var c;if(l.mControlsWithDependencies[o]){a.removeControlsDependencies(l,o);c=true}s.forEach(function(i){if(i.originalSelectorToBeAdjusted){h(i,e,n);delete i.originalSelectorToBeAdjusted}if(i._ignoreOnce){delete i._ignoreOnce}else if(i.isApplyProcessFinished()){a.resolveDependenciesForChange(l,i.getId(),o)}else if(!l.mDependencies[i.getId()]){t.push(function(){return v.applyChangeOnControl(i,e,r).then(function(){a.resolveDependenciesForChange(l,i.getId(),o)})})}else{var s=v.applyChangeOnControl.bind(v,i,e,r);a.addChangeApplyCallbackToDependency(l,i.getId(),s)}});if(s.length||c){return i.execPromiseQueueSequentially(t).then(function(){return a.processDependentQueue(l,n,o)})}return undefined}.bind(null,o,d));return s},applyAllChangesForXMLView:function(n,r){if(!Array.isArray(r)){var t="No list of changes was passed for processing the flexibility on view: "+n.view+".";e.error(t,undefined,"sap.ui.fl.apply._internal.changes.Applier");r=[]}var a=[];n.failedSelectors=[];return r.reduce(function(e,r){var t;return e.then(l.bind(null,r,n)).then(function(e){t=e;var a=o.getControlIfTemplateAffected(r,t,n);return o.getChangeHandler(r,a,n)}).then(function(e){n.changeHandler=e;r.setQueuedForApply();f(t,r,undefined,undefined,n);if(!r.isApplyProcessFinished()){if(typeof n.changeHandler.onAfterXMLChangeProcessing==="function"){m(a,n.changeHandler,t)}return v.applyChangeOnControl(r,t,n)}return{success:true}}).then(function(e){if(!e.success){throw Error(e.error)}}).catch(function(e){r.getDependentSelectorList().forEach(function(e){if(i.indexOfObject(n.failedSelectors,e)===-1){n.failedSelectors.push(e)}});p(e,r)})},new i.FakePromise).then(function(){delete n.failedSelectors;a.forEach(function(r){r.controls.forEach(function(t){try{r.handler.onAfterXMLChangeProcessing(t,n)}catch(n){e.error("Error during onAfterXMLChangeProcessing",n)}})});return n.view})}};return v});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/FlexCustomData", ["sap/ui/fl/Utils","sap/base/Log","sap/ui/core/CustomData"],function(a,t){"use strict";var e={};e.appliedChangesCustomDataKey="sap.ui.fl.appliedChanges";e.failedChangesCustomDataKeyJs="sap.ui.fl.failedChanges.js";e.failedChangesCustomDataKeyXml="sap.ui.fl.failedChanges.xml";e.notApplicableChangesCustomDataKey="sap.ui.fl.notApplicableChanges";function u(a,t,e,u){var s=u.modifier.getCustomDataInfo(a,t);if(!s.customData){return u.modifier.createAndAddCustomData(a,t,e,u.appComponent)}return Promise.resolve(u.modifier.setProperty(s.customData,"value",e))}function s(a,t){var e=t.getRevertData();if(a&&e!==undefined){return JSON.stringify(e)}return"true"}e.getAppliedCustomDataValue=function(a,t,u){var s=u.getCustomDataInfo(a,e._getCustomDataKey(t,e.appliedChangesCustomDataKey));return s.customDataValue};e.getParsedRevertDataFromCustomData=function(a,u,s){var o=e.getAppliedCustomDataValue(a,u,s);try{return o&&JSON.parse(o)}catch(a){t.error("Could not parse revert data from custom data",o);return undefined}};e.hasChangeApplyFinishedCustomData=function(a,t,u){var s=u.getCustomDataInfo(a,e._getCustomDataKey(t,e.appliedChangesCustomDataKey));if(s.customData){return true}var o=u.getCustomDataInfo(a,e._getCustomDataKey(t,e.failedChangesCustomDataKeyJs));if(o.customData){return true}var r=u.getCustomDataInfo(a,e._getCustomDataKey(t,e.notApplicableChangesCustomDataKey));if(r.customData){return true}return false};e.addAppliedCustomData=function(a,t,o,r){var n=s(r,t);var i=e._getCustomDataKey(t,e.appliedChangesCustomDataKey);return u(a,i,n,o)};e.addFailedCustomData=function(a,t,s,o){var r=e._getCustomDataKey(t,o);return u(a,r,"true",s)};e.destroyAppliedCustomData=function(a,t,u){var s=e._getCustomDataKey(t,e.appliedChangesCustomDataKey);var o=u.getCustomDataInfo(a,s);if(o.customData){u.destroy(o.customData)}};e.getCustomDataIdentifier=function(a,t,u){if(a){return e.appliedChangesCustomDataKey}if(!t){return e.notApplicableChangesCustomDataKey}if(u){return e.failedChangesCustomDataKeyXml}return e.failedChangesCustomDataKeyJs};e._getCustomDataKey=function(a,t){return t+"."+a.getId()};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Reverter", ["sap/base/Log","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/Utils"],function(e,r,n,t){"use strict";var o={};function i(e){if(!e.isApplyProcessFinished()&&e.hasApplyProcessStarted()){return e.addPromiseForApplyProcessing().then(function(r){if(r&&r.error){e.markRevertFinished(r.error);throw Error(r.error)}})}return Promise.resolve()}function a(e,n,t,i){return o.revertChangeOnControl(e,n,t).then(function(t){r.destroyAppliedCustomData(t||n,e,i.modifier);if(t){i.flexController._oChangePersistence._deleteChangeInMap(e)}})}o.revertChangeOnControl=function(r,t,o){var a=n.getControlIfTemplateAffected(r,t,o);var l;return n.getChangeHandler(r,a,o).then(function(e){l=e}).then(i.bind(null,r)).then(function(){if(r.isSuccessfullyApplied()){r.startReverting();return l.revertChange(r,a.control,o)}throw Error("Change was never applied")}).then(function(){a.control=o.modifier.bySelector(r.getSelector(),o.appComponent,o.view);if(a.bTemplateAffected){return o.modifier.updateAggregation(a.control,r.getContent().boundAggregation)}return undefined}).then(function(){r.markRevertFinished();return a.control}).catch(function(n){var t="Change could not be reverted: "+n.message;e.error(t);r.markRevertFinished(t);return false})};o.revertMultipleChanges=function(r,n){var o=[];r.forEach(function(r){r.setQueuedForRevert();o.push(function(){var o=r.getSelector&&r.getSelector();var i=n.modifier.bySelector(o,n.appComponent);if(!i){e.warning("A flexibility change tries to revert changes on a nonexistent control with id "+o.id);return new t.FakePromise}var l={modifier:n.modifier,appComponent:n.appComponent,view:t.getViewForControl(i)};return a(r,i,l,n)})});return t.execPromiseQueueSequentially(o)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Utils", ["sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/requireAsync","sap/ui/fl/Utils"],function(e,r,t,n){"use strict";function a(e,r){if(r||e.hasApplyProcessStarted()){return false}return true}var i={getControlIfTemplateAffected:function(e,r,t){var n=t.modifier;var a={originalControl:r};var i=e.getOriginalSelector();if(e.getContent().boundAggregation&&i){a.control=n.bySelector(i,t.appComponent,t.view);a.controlType=n.getControlType(a.control);a.bTemplateAffected=true}else{a.control=r;a.controlType=n.getControlType(r);a.bTemplateAffected=false}return a},getChangeHandler:function(e,n,a){var i=a.modifier.getLibraryName(n.control);return Promise.all([t("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration"),i]).then(function(e){return e[0].waitForChangeHandlerRegistration(e[1])}).then(function(){var t=e.getChangeType();var i=e.getLayer();return r.getChangeHandler(t,n.controlType,n.control,a.modifier,i)})},checkIfDependencyIsStillValid:function(r,t,i,o){var l=n.getChangeFromChangesMap(i.mChanges,o);if(!l){return false}var f=t.bySelector(l.getSelector(),r);var c=e.hasChangeApplyFinishedCustomData(f,l,t);return a(l,c)},filterChangeByView:function(e,r){var t=e.modifier;var n=e.appComponent;var a=r.getSelector();if(!a){return false}if(a.viewSelector){var i=t.getControlIdBySelector(a.viewSelector,n);return i===e.viewId}var o=a.id;if(o){var l;if(r.getSelector().idIsLocal){if(n){l=n.getLocalId(e.viewId)}}else{l=e.viewId}var f=0;var c;do{f=o.indexOf("--",f);c=o.slice(0,f);f++}while(c!==l&&f>0);return c===l}return false}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/Applier", ["sap/base/util/isEmptyObject","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory"],function(e,t){"use strict";var n="$sap.ui.fl.changes";function r(e){var r=e&&e.getEntry&&e.getEntry(n)&&e.getEntry(n).descriptor||[];return r.map(function(e){return t.createAppDescriptorChange(e)})}var a={applyChanges:function(t,n,r){return r.registry().then(function(e){var t=n.map(function(t){return e[t.getChangeType()]&&e[t.getChangeType()]()});return Promise.all(t)}).then(function(a){a.forEach(function(a,s){try{var i=n[s];t=a.applyChange(t,i);if(!a.skipPostprocessing&&!e(i.getTexts())){t=r.processTexts(t,i.getTexts())}}catch(e){r.handleError(e)}});return t})},applyChangesIncludedInManifest:function(e,t){var a=r(e);var s=e.getJson();delete s[n];if(a.length>0){return this.applyChanges(s,a,t).then(function(){return})}return Promise.resolve()}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory", ["sap/ui/fl/requireAsync","sap/base/Log"],function(e,r){"use strict";var n={registry:function(){return e("sap/ui/fl/apply/_internal/changes/descriptor/Registration")},handleError:function(e){r.error(e)},processTexts:function(e,n){var t=JSON.stringify(e);Object.keys(n).forEach(function(e){if(n[e].value[""]){t=t.replace("{{"+e+"}}",n[e].value[""])}else{r.error("Text change has to contain default language")}});return JSON.parse(t)}};var t={getRuntimeStrategy:function(){return n}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/Preprocessor", ["sap/ui/fl/apply/_internal/changes/descriptor/Applier","sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/performance/Measurement","sap/ui/fl/Utils"],function(e,t,n,a,i,r){"use strict";var s={preprocessManifest:function(s,p){if(!r.isApplication(s,true)||!p.id){return Promise.resolve(s)}i.start("flexStateInitialize","Initialization of flex state",["sap.ui.fl"]);var l=p.componentData||{};var f=a.getFlexReference({manifest:s,componentData:l});if(!a.getChangeManifestFromAsyncHints(p.asyncHints)){n.initialize({componentData:l,asyncHints:p.asyncHints,rawManifest:s,componentId:p.id,reference:f,partialFlexState:true}).then(i.end.bind(undefined,"flexStateInitialize"));return Promise.resolve(s)}return n.initialize({componentData:l,asyncHints:p.asyncHints,rawManifest:s,componentId:p.id,reference:f,partialFlexState:true}).then(function(){i.end("flexStateInitialize");i.start("flexAppDescriptorMerger","Client side app descriptor merger",["sap.ui.fl"]);var a=Object.assign({},s);var r=n.getAppDescriptorChanges(f);return e.applyChanges(a,r,t.getRuntimeStrategy())}).then(function(e){i.end("flexAppDescriptorMerger");return e})}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/controlVariants/URLHandler", ["sap/ui/core/Component","sap/base/Log","sap/base/util/deepEqual","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/ui/base/ManagedObjectObserver","sap/ui/thirdparty/hasher","sap/base/util/includes","sap/ui/fl/apply/_internal/controlVariants/Utils"],function(e,a,r,t,n,o,i,s,l,p){"use strict";var m={};var c={};function d(e,a){var r=[];return e.reduce(function(e,t){var n=a.getVariantManagementReference(t).variantManagementReference;if(n){if(l(r,n)){e.updateRequired=true;return e}r.push(n)}if(n&&a.oData[n].currentVariant!==t){e.updateRequired=true;if(a.oData[n].currentVariant!==a.oData[n].defaultVariant){e.parameters.push(a.oData[n].currentVariant)}}else{e.parameters.push(t)}return e},{updateRequired:false,parameters:[]})}function u(e,a){var r=n.get(["params",p.VARIANT_TECHNICAL_PARAMETER],e);if(r){var t=d(r,a);if(t.updateRequired){c.update({updateURL:!a._bDesignTimeMode,parameters:t.parameters,updateHashEntry:true,model:a})}}}function f(e,r){try{var t=e.getUShellService("URLParsing");if(t){var n=t.parseShellHash(r);u(n,e)}}catch(e){a.error(e.message)}var o=e.getUShellService("ShellNavigation");return o&&o.NavigationFilterStatus.Continue}function v(e){var a=e.getUShellService("ShellNavigation");if(!m[e.sFlexReference]){m[e.sFlexReference]=f.bind(null,e);if(a){a.registerNavigationFilter(m[e.sFlexReference])}}}function A(e){var a=e.getUShellService("ShellNavigation");if(a){a.unregisterNavigationFilter(m[e.sFlexReference]);delete m[e.sFlexReference]}}function h(e){var t=e.model;var n=t.getUShellService("URLParsing");var o=t.getUShellService("CrossApplicationNavigation");var i=n&&n.parseShellHash(s.getHash());if(i&&i.params){var l=Object.assign({},i.params);var m=t.oAppComponent&&t.oAppComponent.getComponentData&&t.oAppComponent.getComponentData()&&t.oAppComponent.getComponentData().technicalParameters;if(!m){a.warning("Component instance not provided, so technical parameters in component data and browser history remain unchanged")}if(e.parameters.length===0){delete i.params[p.VARIANT_TECHNICAL_PARAMETER];m&&delete m[p.VARIANT_TECHNICAL_PARAMETER]}else{i.params[p.VARIANT_TECHNICAL_PARAMETER]=e.parameters;m&&(m[p.VARIANT_TECHNICAL_PARAMETER]=e.parameters)}if(e.silent){s.changed.active=false;s.replaceHash(n.constructShellHash(i));s.changed.active=true}else if(!r(l,i.params)){o.toExternal({target:{semanticObject:i.semanticObject,action:i.action,context:i.contextRaw},params:i.params,appSpecificRoute:i.appSpecificRoute,writeHistory:false})}}}function R(e){var a={index:-1};var r=e.model;var n=r.getUShellService("URLParsing");var o=n&&n.parseShellHash(s.getHash()).params;if(o){a.parameters=[];if(r._bDesignTimeMode){o[p.VARIANT_TECHNICAL_PARAMETER]=c.getStoredHashParams(e)}if(Array.isArray(o[p.VARIANT_TECHNICAL_PARAMETER])){o[p.VARIANT_TECHNICAL_PARAMETER]=o[p.VARIANT_TECHNICAL_PARAMETER].map(decodeURIComponent);o[p.VARIANT_TECHNICAL_PARAMETER].some(function(t,n){if(r.getVariant(t,e.vmReference)){a.index=n;return true}return false})}}return t(a,o&&o[p.VARIANT_TECHNICAL_PARAMETER]&&{parameters:o[p.VARIANT_TECHNICAL_PARAMETER]})}function g(e){var a=e.getUShellService("URLParsing");var r=a&&a.parseShellHash(s.getHash());return r&&r.params&&r.params[p.VARIANT_TECHNICAL_PARAMETER]}c.variantTechnicalParameterName="sap-ui-fl-control-variant-id";c.initialize=function(e){var a=e.model;var r=a.getUShellService("URLParsing");var t=r&&r.parseShellHash(s.getHash());var n=t&&t.params&&t.params[p.VARIANT_TECHNICAL_PARAMETER];c.attachHandlers(e);c.update({model:a,parameters:n,updateHashEntry:Array.isArray(n)&&n.length>0});u(t,a)};c.updateVariantInURL=function(e){var a=c.removeURLParameterForVariantManagement(e);if(!a.parameters){return}var r=a.parameters||[];var t=a.index;var n=e.newVReference===e.model.oData[e.vmReference].defaultVariant;if(!n){if(t===-1){r=r.concat([e.newVReference])}else{r=r.slice(0,t).concat([e.newVReference],r.slice(t))}}if(!n||t>-1){c.update({parameters:r,updateURL:!e.model._bDesignTimeMode,updateHashEntry:true,model:e.model})}};c.removeURLParameterForVariantManagement=function(e){var a=R(e);if(a.index>-1){a.parameters.splice(a.index,1)}return a};c.attachHandlers=function(a){function r(){return a.model._oVariantSwitchPromise.then(function(){a.model._oHashData.controlPropertyObservers.forEach(function(e){e.destroy()});A(a.model);a.model.destroy();a.model.oComponentDestroyObserver.unobserve(a.model.oAppComponent,{destroy:true});a.model.oComponentDestroyObserver.destroy()})}v(a.model);if(!a.model.oComponentDestroyObserver&&a.model.oAppComponent instanceof e){a.model.oComponentDestroyObserver=new i(r.bind(null));a.model.oComponentDestroyObserver.observe(a.model.oAppComponent,{destroy:true})}};c.registerControl=function(e){if(e.updateURL){e.model._oHashData.variantControlIds.push(e.vmReference)}};c.update=function(e){if(!e.model._oHashData){e.model._oHashData={hashParams:[],controlPropertyObservers:[],variantControlIds:[]}}if(!e||!Array.isArray(e.parameters)){a.info("Variant URL parameters could not be updated since invalid parameters were received");return}if(e.updateURL){h(e)}if(e.updateHashEntry&&!o(e.model)){e.model._oHashData.hashParams=e.parameters}};c.getStoredHashParams=function(e){return Array.prototype.slice.call(e.model._oHashData.hashParams)};c.handleModelContextChange=function(e){var a="modelContextChange";function r(a,r){var t=r.model.getVariantManagementReferenceForControl(a.getSource());var n=r.model._oHashData.variantControlIds;var o=n.indexOf(t);if(o>-1){n.slice(o).forEach(function(a){if(R({vmReference:a,model:e.model}).index===-1){r.model.switchToDefaultForVariantManagement(a)}})}}var t=new i(function(t){if(t.current===true&&t.old===false){t.object.attachEvent(a,{model:e.model},r)}else if(t.current===false&&t.old===true){t.object.detachEvent(a,r)}});t.observe(e.vmControl,{properties:["resetOnContextChange"]});e.model._oHashData.controlPropertyObservers.push(t);if(e.vmControl.getResetOnContextChange()!==false){e.vmControl.attachEvent(a,{model:e.model},r)}};c.clearAllVariantURLParameters=function(e){if(g(e.model)){c.update({updateURL:true,parameters:[],updateHashEntry:false,model:e.model})}};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/controlVariants/Utils", ["sap/ui/core/Core","sap/ui/fl/Utils"],function(e,t){"use strict";function r(e,t){if(!t){return undefined}if(e.indexOf(t.getId())>-1){return t.getId()}return r(e,t.getParent())}function n(r,n){var a=t.getAppComponentForControl(r);var o=a.getRootControl();var i=[];if(!n&&o.getDomRef()){i=Array.from(o.getDomRef().querySelectorAll(".sapUiFlVarMngmt"))}if(n||i.length===0){i=Array.from(e.getStaticAreaRef().querySelectorAll(".sapUiFlVarMngmt"))}return i.map(function(e){return e.id})}var a={DEFAULT_AUTHOR:"SAP",VARIANT_TECHNICAL_PARAMETER:"sap-ui-fl-control-variant-id",compareVariants:function(e,t){if(e.getName().toLowerCase()<t.getName().toLowerCase()){return-1}else if(e.getName().toLowerCase()>t.getName().toLowerCase()){return 1}return 0},getIndexToSortVariant:function(e,t){var r=e.length;e.some(function(e,n){if(a.compareVariants(t.instance,e.instance)<0){r=n;return true}});return r},getRelevantVariantManagementControlId:function(t,a,o){var i={};if(!a||!a.length){a=n(t,o)}var u=a.reduce(function(t,r){var n=e.byId(r);if(n){var a=n.getFor();a.forEach(function(e){i[e]=r});t=t.concat(a)}return t},[]);var f=r(u,t);return i[f]},belongsToVariantManagement:function(e){var t=n(e);return!!a.getRelevantVariantManagementControlId(e,t)},getAllVariantManagementControlIds:function(e){return n(e)}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/AppDescriptorChange", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.AppDescriptorChange",{metadata:{properties:{appDescriptorChange:{type:"boolean",defaultValue:true}}}});t.getMappingInfo=function(){return Object.assign(e.getMappingInfo(),{appDescriptorChange:"appDescriptorChange"})};t.prototype.getMappingInfo=function(){return t.getMappingInfo()};t.prototype.getSelector=function(){return{}};t.prototype.isValidForDependencyMap=function(){return false};t.prototype.getVariantReference=function(){return undefined};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/CompVariant", ["sap/base/util/restricted/_pick","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/Variant","sap/ui/fl/LayerUtils","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(t,e,r,n,i,a,s){"use strict";var o=r.extend("sap.ui.fl.apply._internal.flexObjects.CompVariant",{metadata:{properties:{persisted:{type:"boolean",defaultValue:true},persistencyKey:{type:"string"}},aggregations:{revertData:{type:"sap.ui.base.ManagedObject",multiple:true,singularName:"revertData"},changes:{type:"sap.ui.base.ManagedObject",multiple:true}}},constructor:function(t){r.apply(this,arguments);this.setFileType("variant");if(t.favorite!==undefined){this.setFavorite(!!t.favorite)}else if(t.layer===i.VENDOR||t.layer===i.CUSTOMER_BASE){this.setFavorite(true)}}});o.STANDARD_VARIANT_ID="*standard*";o.getMappingInfo=function(){return Object.assign(r.getMappingInfo(),{persistencyKey:"selector.persistencyKey",variantId:"variantId"})};o.prototype.getMappingInfo=function(){return o.getMappingInfo()};function p(t){var e=a.getInstanceOrUndef();var r=e&&e.getUserId();return!r||!t||r.toUpperCase()===t.toUpperCase()}function u(t,e,r){if(e){return t===e}else if(t===i.USER){return true}var s=a.getInstanceOrUndef();if(n.isSapUiLayerParameterProvided()){e=n.getCurrentLayer()}else if(!e){e=s.isPublicLayerAvailable()?i.PUBLIC:i.CUSTOMER}var o=t===e;var u=s.isKeyUser()||p(r);return o&&u}function f(t){return!t||s.getCurrentLanguage()===t}function c(t,e){var r=a.getInstanceOrUndef();if(!r){return true}if(!t||!e){return true}var n=r.getSystem();var i=r.getClient();return n===t&&e===i}o.prototype.getPackage=function(){return this.getFlexObjectMetadata().packageName};o.prototype.isVariant=function(){return true};o.prototype.isRenameEnabled=function(t){return!this.getStandardVariant()&&this.isEditEnabled(t)&&f(this.getSupportInformation().originalLanguage)};o.prototype.isEditEnabled=function(t){var e=t&&n.isDeveloperLayer(t);var r=c(this.getSupportInformation().sourceSystem,this.getSupportInformation().sourceClient);var i=u(this.getLayer(),t,this.getOwnerId());return e||r&&i};o.prototype.isDeleteEnabled=function(t){var e=c(this.getSupportInformation().sourceSystem,this.getSupportInformation().sourceClient);return e&&u(this.getLayer(),t,this.getOwnerId())&&!this.getStandardVariant()};o.prototype.storeFavorite=function(t){if(t!==this.getFavorite()){this.setState(e.LifecycleState.DIRTY);this.setFavorite(t)}};o.prototype.getOwnerId=function(){return this.getSupportInformation().user||""};o.prototype.storeContent=function(t){this.setContent(t)};o.prototype.storeExecuteOnSelection=function(t){if(t!==this.getExecuteOnSelection()){this.setState(e.LifecycleState.DIRTY);this.setExecuteOnSelection(t)}};o.prototype.storeName=function(t){this.setName(t)};o.prototype.storeContexts=function(t){this.setContexts(t);this.setState(e.LifecycleState.DIRTY)};o.prototype.cloneFileContentWithNewId=function(){var t=r.prototype.cloneFileContentWithNewId.apply(this,arguments);t.variantId=t.fileName;return t};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/CompVariantRevertData", ["sap/ui/fl/apply/_internal/flexObjects/RevertData"],function(e){"use strict";return e.extend("sap.ui.fl.apply._internal.flexObjects.CompVariantRevertData",{metadata:{properties:{change:{type:"object"}}}})});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/ControllerExtensionChange", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.ControllerExtensionChange",{metadata:{properties:{controllerName:{type:"string"}}}});t.getMappingInfo=function(){return Object.assign(e.getMappingInfo(),{controllerName:"selector.controllerName"})};t.prototype.getMappingInfo=function(){return t.getMappingInfo()};t.prototype.getSelector=function(){return{controllerName:this.getControllerName()}};t.prototype.getVariantReference=function(){return undefined};t.prototype.isValidForDependencyMap=function(){return false};t.prototype.setInitialApplyState=function(){};t.prototype.getModuleName=function(){return this.getFlexObjectMetadata().moduleName};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlVariant", ["sap/ui/core/Core","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/Variant"],function(e,t,n){"use strict";var a=n.extend("sap.ui.fl.apply._internal.flexObjects.FlVariant",{metadata:{properties:{variantReference:{type:"string"},variantManagementReference:{type:"string"},visible:{type:"boolean",defaultValue:true}}},constructor:function(a,i){if(typeof a!=="string"&&a!==undefined){i=a;a=i&&i.id}i.fileType="ctrl_variant";if(i.favorite===undefined){i.favorite=true}n.apply(this,arguments);if(!this.getName()&&i.content&&i.content.title){this.setName(i.content.title)}var r=this.getName().match(/.i18n>(\w+)./);if(r){this.setName(e.getLibraryResourceBundle("sap.ui.fl").getText(r[1]))}var o=this.getSupportInformation();if(this.getId()===this.getVariantManagementReference()){this.setStandardVariant(true);if(!o.user){o.user=t.DEFAULT_AUTHOR;this.setSupportInformation(o)}}}});a.getMappingInfo=function(){return Object.assign(n.getMappingInfo(),{variantReference:"variantReference",variantManagementReference:"variantManagementReference"})};a.prototype.getMappingInfo=function(){return a.getMappingInfo()};a.prototype.cloneFileContentWithNewId=function(){var e=n.prototype.cloneFileContentWithNewId.apply(this,arguments);e.variantReference=e.fileName;return e};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlexObject", ["sap/base/util/deepClone","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/restricted/_omit","sap/ui/base/ManagedObject","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(t,e,a,n,r,i,o,s,p,u){"use strict";var c=i.extend("sap.ui.fl.apply._internal.flexObjects.FlexObject",{metadata:{properties:{adaptationId:{type:"string"},state:{type:"string",defaultValue:o.LifecycleState.NEW},fileType:{type:"string",defaultValue:"change"},layer:{type:"string"},flexObjectMetadata:{type:"object",defaultValue:{}},supportInformation:{type:"object",defaultValue:{}},content:{type:"any",defaultValue:{}},texts:{type:"object",defaultValue:{}}}},constructor:function(){i.apply(this,arguments);var t=this.getFlexObjectMetadata();var e=t.reference;if(e){t.namespace=t.namespace||u.createNamespace({reference:e},this.getFileType());t.projectId=t.projectId||e}this.setFlexObjectMetadata(t);var a=this.getSupportInformation();a.originalLanguage=a.originalLanguage||u.getCurrentLanguage();this.setSupportInformation(a)}});c.getMappingInfo=function(){return Object.assign({},{"flexObjectMetadata.changeType":"changeType","flexObjectMetadata.reference":"reference","flexObjectMetadata.namespace":"namespace","flexObjectMetadata.creation":"creation","flexObjectMetadata.projectId":"projectId","flexObjectMetadata.packageName":"packageName","flexObjectMetadata.moduleName":"moduleName","supportInformation.generator":"support.generator","supportInformation.service":"support.service","supportInformation.sourceSystem":"sourceSystem","supportInformation.sourceClient":"sourceClient","supportInformation.user":"support.user","supportInformation.sapui5Version":"support.sapui5Version","supportInformation.sourceChangeFileName":"support.sourceChangeFileName","supportInformation.compositeCommand":"support.compositeCommand","supportInformation.command":"support.command","supportInformation.oDataInformation":"oDataInformation","supportInformation.originalLanguage":"originalLanguage",adaptationId:"adaptationId",layer:"layer",fileType:"fileType",id:"fileName",content:"content",texts:"texts"})};c.prototype.getMappingInfo=function(){return c.getMappingInfo()};c.prototype.setContent=function(t,e){this.setProperty("content",t);if(!e){this.setState(o.LifecycleState.DIRTY)}return this};c.prototype.getFlexObjectMetadata=function(){return Object.assign({},this.getProperty("flexObjectMetadata"))};c.prototype.getSupportInformation=function(){return Object.assign({},this.getProperty("supportInformation"))};function f(t,e){if(!Object.values(o.LifecycleState).includes(t)){return false}if(e===o.LifecycleState.NEW&&t===o.LifecycleState.DIRTY){return false}return true}c.prototype.setState=function(t){var e=this.getState();if(e!==t&&f(t,e)){this._sPreviousState=e;this.setProperty("state",t)}return this};c.prototype.isPersisted=function(){return this.getState()===o.LifecycleState.PERSISTED};c.prototype.markForDeletion=function(){this.setState(o.LifecycleState.DELETED)};c.prototype.restorePreviousState=function(){if(this._sPreviousState){this.setState(this._sPreviousState);delete this._sPreviousState}};c.prototype.isChangeFromOtherSystem=function(){var t=this.getSupportInformation().sourceSystem;var e=this.getSupportInformation().sourceClient;if(!t||!e){return false}var a=p.getInstanceOrUndef();if(!a){return true}var n=a.getSystem();var r=a.getClient();if(!n||!r){return false}return t!==n||e!==r};c.prototype.getNamespace=function(){return this.getFlexObjectMetadata().namespace};c.prototype.getChangeType=function(){return this.getFlexObjectMetadata().changeType};c.prototype.isUserDependent=function(){return this.getLayer()===s.USER};c.prototype.getText=function(t){var e=this.getTexts()[t]||{};return e.value||""};c.prototype.setText=function(t,e,a,n){var r=Object.assign({},this.getTexts());var i={value:e};if(a){i.type=a}r[t]=Object.assign({},r[t],i);this.setTexts(r);if(!n){this.setState(o.LifecycleState.DIRTY)}return this};c.prototype.setRequest=function(t){this._sRequest=t};c.prototype.getRequest=function(){return this._sRequest||""};c.prototype.getDefinition=function(){return this.convertToFileContent()};c.prototype.getCreation=function(){return this.getFlexObjectMetadata().creation};c.prototype.setCreation=function(t){var e=this.getFlexObjectMetadata();e.creation=t;this.setFlexObjectMetadata(e)};function l(t){return t.length?t.charAt(0).toUpperCase()+t.slice(1):t}function g(t){return typeof this[t]==="function"?this[t].bind(this):function(){throw new Error(t+" is not a valid mutator")}}function h(e){var a=e.split(".");a[0]=l(a[0]);var r=a.shift();var i=g.call(this,"get"+r);var o=g.call(this,"set"+r);return{getValue:function(){var e=t(i());if(a.length>0){return n.get(a,e)}return e},setValue:function(e){var r=t(i());if(a.length>0){n.set(a,e,r)}else{r=e}o(r);return this}.bind(this)}}c.prototype.convertToFileContent=function(){var t={};Object.entries(this.getMappingInfo()).forEach(function(e){var a=h.call(this,e[0]).getValue();if(a!==undefined){n.set(e[1],a,t)}}.bind(this));return t};function y(t,e){var a=h.call(this,t);var n=a.getValue();if(n!==e){a.setValue(e)}}c.mapFileContent=function(e,n){var r=Object.values(n);var i={};var o=function(t,e,s){var p=s?s+"."+t:t;var u=r.indexOf(p);if(u>=0){var c=Object.keys(n)[u];i[c]=e}else if(a(e)){Object.entries(e).forEach(function(t){o(t[0],t[1],p)})}};Object.entries(t(e,15)).forEach(function(t){o(t[0],t[1])});return i};c.prototype.update=function(t){var e=r(t,["fileName"]);var a=c.mapFileContent(e,this.getMappingInfo());Object.entries(a).forEach(function(t){y.call(this,t[0],t[1])}.bind(this))};c.prototype.setResponse=function(t){if(!t||e(t)){return}this.update(t);this.setState(o.LifecycleState.PERSISTED)};c.prototype.cloneFileContentWithNewId=function(){var t=this.convertToFileContent();t.fileName=u.createDefaultFileName(t.fileName.split("_").pop());return t};return c});
/* !
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory", ["sap/base/util/restricted/_pick","sap/base/util/ObjectPath","sap/ui/core/Core","sap/ui/fl/apply/_internal/flexObjects/AppDescriptorChange","sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/ControllerExtensionChange","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/FlVariant","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/UIChange","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/ui/fl/Utils"],function(e,t,n,r,a,i,o,c,s,l,p,u,f){"use strict";var g={BASE_FLEX_OBJECT:o,COMP_VARIANT_OBJECT:a,FL_VARIANT_OBJECT:c,CONTROLLER_EXTENSION:i,APP_DESCRIPTOR_CHANGE:r,UI_CHANGE:l};function m(e){if(e.fileType==="variant"){return g.COMP_VARIANT_OBJECT}else if(e.fileType==="ctrl_variant"){return g.FL_VARIANT_OBJECT}else if(e.changeType==="codeExt"){return g.CONTROLLER_EXTENSION}else if(e.appDescriptorChange){return g.APP_DESCRIPTOR_CHANGE}return g.UI_CHANGE}function C(e){var t=e.type||e.changeType;var r=e.fileName||e.id||f.createDefaultFileName(t);return{id:r,adaptationId:e.adaptationId,layer:e.layer,content:e.content,texts:e.texts,supportInformation:{service:e.ODataService,oDataInformation:e.oDataInformation,command:e.command,compositeCommand:e.compositeCommand,generator:e.generator,sapui5Version:n.getConfiguration().getVersion().toString(),sourceChangeFileName:e.support&&e.support.sourceChangeFileName,sourceSystem:e.sourceSystem,sourceClient:e.sourceClient,originalLanguage:e.originalLanguage,user:e.user},flexObjectMetadata:{changeType:t,reference:e.reference,packageName:e.packageName,projectId:e.projectId}}}var O={};O.createFromFileContent=function(e,r,a){var i=Object.assign({},e);var c=r||m(i);if(!c){throw new Error("Unknown file type")}i.support=Object.assign({generator:"FlexObjectFactory.createFromFileContent",sapui5Version:n.getConfiguration().getVersion().toString()},i.support||{});var l=c.getMappingInfo();var p=o.mapFileContent(i,l);var u=Object.entries(p).reduce(function(e,n){t.set(n[0].split("."),n[1],e);return e},{});var f=new c(u);if(a){f.setProperty("state",s.LifecycleState.PERSISTED)}return f};O.createUIChange=function(e){var t=C(e);if(!t.layer){t.layer=e.isUserDependent?p.USER:u.getCurrentLayer()}t.selector=e.selector;t.jsOnly=e.jsOnly;t.variantReference=e.variantReference;t.fileType=e.fileType||"change";return new l(t)};O.createAppDescriptorChange=function(e){e.compositeCommand=e.compositeCommand||e.support&&e.support.compositeCommand;var t=C(e);return new r(t)};O.createControllerExtensionChange=function(e){e.generator=e.generator||"FlexObjectFactory.createControllerExtensionChange";e.changeType="codeExt";e.content={codeRef:e.codeRef};var t=C(e);t.flexObjectMetadata.moduleName=e.moduleName;t.controllerName=e.controllerName;return new i(t)};O.createFlVariant=function(e){e.generator=e.generator||"FlexObjectFactory.createFlVariant";var t=C(e);t.variantManagementReference=e.variantManagementReference;t.variantReference=e.variantReference;t.contexts=e.contexts;t.texts={variantName:{value:e.variantName,type:"XFLD"}};return new c(t)};O.createCompVariant=function(e){e.generator=e.generator||"FlexObjectFactory.createCompVariant";e.user=t.get("support.user",e);var n=C(e);n.variantId=e.variantId||n.id;n.contexts=e.contexts;n.favorite=e.favorite;n.persisted=e.persisted;n.persistencyKey=e.persistencyKey||t.get("selector.persistencyKey",e);if(e.layer===p.VENDOR||e.layer===p.CUSTOMER_BASE){n.favorite=true}if(e.executeOnSelection!==undefined){n.executeOnSelection=e.executeOnSelection}else{n.executeOnSelection=n.content&&(n.content.executeOnSelect||n.content.executeOnSelection)}return new a(n)};return O});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/RevertData", ["sap/ui/base/ManagedObject"],function(e){"use strict";return e.extend("sap.ui.fl.apply._internal.flexObjects.RevertData",{metadata:{properties:{type:{type:"string"},content:{type:"object"}}}})});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/States", [],function(){"use strict";return{LifecycleState:{NEW:"NEW",PERSISTED:"NONE",DELETED:"DELETE",DIRTY:"UPDATE"},ApplyState:{INITIAL:"initial",APPLYING:"applying",REVERTING:"reverting",REVERT_FINISHED:"revert finished",APPLY_SUCCESSFUL:"apply successful",APPLY_FAILED:"apply failed"},Operations:{APPLY:"apply",REVERT:"revert"}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/UIChange", ["sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/Utils"],function(e,t,s,r,o){"use strict";var n=s.extend("sap.ui.fl.apply._internal.flexObjects.UIChange",{metadata:{properties:{selector:{type:"object",defaultValue:{}},dependentSelectors:{type:"object",defaultValue:{}},applyState:{type:"string",defaultValue:r.ApplyState.NEW},jsOnly:{type:"boolean"},variantReference:{type:"string"},savedToVariant:{type:"boolean"},revertData:{type:"any",defaultValue:null}},aggregations:{},associations:{},events:{}},constructor:function(){s.apply(this,arguments);this._oChangeProcessingPromises={};this.setInitialApplyState()}});n.getMappingInfo=function(){return Object.assign(s.getMappingInfo(),{selector:"selector",dependentSelectors:"dependentSelector",jsOnly:"jsOnly",variantReference:"variantReference"})};n.prototype.getMappingInfo=function(){return n.getMappingInfo()};n.prototype.setQueuedForRevert=function(){if(this._aQueuedProcesses[this._aQueuedProcesses.length-1]!==r.Operations.REVERT){this._aQueuedProcesses.unshift(r.Operations.REVERT)}};n.prototype.isQueuedForRevert=function(){return this._aQueuedProcesses.indexOf(r.Operations.REVERT)>-1};n.prototype.setQueuedForApply=function(){if(this._aQueuedProcesses[this._aQueuedProcesses.length-1]!==r.Operations.APPLY){this._aQueuedProcesses.unshift(r.Operations.APPLY)}};n.prototype.isQueuedForApply=function(){return this._aQueuedProcesses.indexOf(r.Operations.APPLY)>-1};n.prototype.setInitialApplyState=function(){this._aQueuedProcesses=[];delete this._ignoreOnce;this.setApplyState(r.ApplyState.INITIAL);this._oChangeProcessedPromise={};this._oChangeProcessedPromise.promise=new Promise(function(e){this._oChangeProcessedPromise.resolveFunction={resolve:e}}.bind(this))};n.prototype.isInInitialState=function(){return this._aQueuedProcesses.length===0&&this.getApplyState()===r.ApplyState.INITIAL};n.prototype.isValidForDependencyMap=function(){return!!this.getSelector().id};n.prototype.startApplying=function(){this.setApplyState(r.ApplyState.APPLYING)};n.prototype.markFinished=function(e,t){this._aQueuedProcesses.pop();this._resolveChangeProcessingPromiseWithError(r.Operations.APPLY,e);var s=t!==false?r.ApplyState.APPLY_SUCCESSFUL:r.ApplyState.APPLY_FAILED;this.setApplyState(s)};n.prototype.markSuccessful=function(e){this.markFinished(e,true)};n.prototype.markFailed=function(e){this.markFinished(e,false)};n.prototype.startReverting=function(){this.setApplyState(r.ApplyState.REVERTING)};n.prototype.markRevertFinished=function(e){this._aQueuedProcesses.pop();this._resolveChangeProcessingPromiseWithError(r.Operations.REVERT,e);this.setApplyState(r.ApplyState.REVERT_FINISHED)};n.prototype.hasApplyProcessStarted=function(){return this.getApplyState()===r.ApplyState.APPLYING};n.prototype.isSuccessfullyApplied=function(){return this.getApplyState()===r.ApplyState.APPLY_SUCCESSFUL};n.prototype.hasApplyProcessFailed=function(){return this.getApplyState()===r.ApplyState.APPLY_FAILED};n.prototype.isApplyProcessFinished=function(){return this.isSuccessfullyApplied()||this.hasApplyProcessFailed()};n.prototype.hasRevertProcessStarted=function(){return this.getApplyState()===r.ApplyState.REVERTING};n.prototype.isRevertProcessFinished=function(){return this.getApplyState()===r.ApplyState.REVERT_FINISHED};n.prototype.isCurrentProcessFinished=function(){return this._aQueuedProcesses.length===0&&this.getApplyState()!==r.ApplyState.INITIAL};n.prototype.addChangeProcessingPromise=function(e){if(!this._oChangeProcessingPromises[e]){this._oChangeProcessingPromises[e]={};this._oChangeProcessingPromises[e].promise=new Promise(function(t){this._oChangeProcessingPromises[e].resolveFunction={resolve:t}}.bind(this))}return this._oChangeProcessingPromises[e].promise};n.prototype.addChangeProcessingPromises=function(){var e=[];if(this.getApplyState()===r.ApplyState.INITIAL&&this._oChangeProcessedPromise){e.push(this._oChangeProcessedPromise.promise)}this._aQueuedProcesses.forEach(function(t){e.push(this.addChangeProcessingPromise(t))},this);return e};n.prototype.addPromiseForApplyProcessing=function(){return this.addChangeProcessingPromise(r.Operations.APPLY)};n.prototype._resolveChangeProcessingPromiseWithError=function(e,t){if(this._oChangeProcessingPromises[e]){this._oChangeProcessingPromises[e].resolveFunction.resolve(t);delete this._oChangeProcessingPromises[e]}if(this._oChangeProcessedPromise){this._oChangeProcessedPromise.resolveFunction.resolve(t);this._oChangeProcessedPromise=null}};n.prototype.hasRevertData=function(){return this.getRevertData()!==null};n.prototype.resetRevertData=function(){this.setRevertData(null)};n.prototype.setDependentSelectors=function(e){this.setProperty("dependentSelectors",e);delete this._aDependentSelectorList};n.prototype.addDependentControl=function(t,s,r,o){if(!t){throw new Error("Parameter vControl is mandatory")}if(!s){throw new Error("Parameter sAlias is mandatory")}if(!r||e(r)){throw new Error("Parameter mPropertyBag is mandatory")}var n=Object.assign({},this.getDependentSelectors());if(n[s]){throw new Error("Alias '"+s+"' already exists in the change.")}var i=r.modifier;var a=r.appComponent;if(Array.isArray(t)){var p=[];t.forEach(function(e){p.push(i.getSelector(e,a,o))});n[s]=p}else{n[s]=i.getSelector(t,a,o)}this.setDependentSelectors(n);delete this._aDependentSelectorList};n.prototype.getDependentControl=function(e,t){var s=[];if(!e){throw new Error("Parameter sAlias is mandatory")}if(!t){throw new Error("Parameter mPropertyBag is mandatory")}var r=t.modifier;var o=t.appComponent;var n=this.getDependentSelectors()[e];if(Array.isArray(n)){n.forEach(function(e){s.push(r.bySelector(e,o,t.view))});return s}return r.bySelector(n,o,t.view)};n.prototype.getDependentSelectorList=function(){var e=[this.getSelector()];if(!this._aDependentSelectorList){if(!this.getOriginalSelector()){Object.entries(this.getDependentSelectors()).some(function(t){var s=t[1];if(!Array.isArray(s)){s=[s]}s.forEach(function(t){if(t&&o.indexOfObject(e,t)===-1){e.push(t)}})})}this._aDependentSelectorList=e}return this._aDependentSelectorList};n.prototype.getDependentControlSelectorList=function(){var e=this.getDependentSelectorList().concat();if(e.length>0){var t=this.getSelector();var s=o.indexOfObject(e,t);if(s>-1){e.splice(s,1)}}return e};n.prototype.getOriginalSelector=function(){return this.getDependentSelectors().originalSelector};n.prototype.setExtensionPointInfo=function(e){this._oExtensionPointInfo=e};n.prototype.getExtensionPointInfo=function(){if(t(this._oExtensionPointInfo)){return Object.assign({},this._oExtensionPointInfo)}return this._oExtensionPointInfo};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/UpdatableChange", ["sap/ui/fl/apply/_internal/flexObjects/UIChange"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.UpdatableChange",{metadata:{aggregations:{revertInfo:{type:"sap.ui.base.ManagedObject",multiple:true,singularName:"revertInfo"}}}});t.getMappingInfo=function(){return Object.assign(e.getMappingInfo(),{})};t.prototype.popLatestRevertInfo=function(){var e=this.getRevertInfo().pop();this.removeRevertInfo(e);return e};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/Variant", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(t){"use strict";var e=t.extend("sap.ui.fl.apply._internal.flexObjects.Variant",{metadata:{properties:{favorite:{type:"boolean",defaultValue:false},executeOnSelection:{type:"boolean",defaultValue:false},standardVariant:{type:"boolean",defaultValue:false},contexts:{type:"object",defaultValue:{}},variantId:{type:"string"}}},constructor:function(){t.apply(this,arguments);if(!this.getVariantId()){this.setVariantId(this.getId())}}});e.getMappingInfo=function(){return Object.assign(t.getMappingInfo(),{favorite:"favorite",executeOnSelection:"executeOnSelection",standardVariant:"standardVariant",contexts:"contexts"})};e.prototype.getMappingInfo=function(){return e.getMappingInfo()};e.prototype.getName=function(){return this.getText("variantName")};e.prototype.setName=function(t,e){this.setText("variantName",t,"XFLD",e)};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/DataSelector", ["sap/ui/base/ManagedObject"],function(t){"use strict";var e=t.extend("sap.ui.fl.apply._internal.flexState.DataSelector",{metadata:{properties:{parentDataSelector:{type:"object"},cachedResult:{type:"any"},parameterKey:{type:"string"},initFunction:{type:"function"},executeFunction:{type:"function"},updateListeners:{type:"function[]",defaultValue:[]},checkInvalidation:{type:"function",defaultValue:function(){return true}}}},constructor:function(){t.apply(this,arguments);this._mInitialized={};if(this.getParameterKey()){this.setCachedResult({})}var e=this.getParentDataSelector();if(e){this.onParentSelectorUpdate=this.checkUpdate.bind(this);e.addUpdateListener(this.onParentSelectorUpdate)}}});e.prototype.addUpdateListener=function(t){var e=this.getUpdateListeners();if(!e.includes(t)){this.setUpdateListeners([].concat(e,t))}};e.prototype.removeUpdateListener=function(t){var e=this.getUpdateListeners();this.setUpdateListeners(e.filter(function(e){return e!==t}))};e.prototype.exit=function(){var t=this.getParentDataSelector();if(t){t.removeUpdateListener(this.onParentSelectorUpdate)}};e.prototype._getParameterizedCachedResult=function(t){var e=this.getParameterKey();if(e){var a=t[e];return this.getCachedResult()[a]}return this.getCachedResult()};e.prototype._clearCache=function(t){if(t){this._setParameterizedCachedResult(t,null)}else{var e=!!this.getParameterKey();this.setCachedResult(e?{}:null)}};e.prototype.clearCachedResult=function(t){this._clearCache(t);this.getUpdateListeners().forEach(function(t){t()})};e.prototype._setParameterizedCachedResult=function(t,e){var a=this.getParameterKey();if(a&&t){var i={};var r=t[a];i[r]=e;return this.setCachedResult(Object.assign({},this.getCachedResult(),i))}return this.setCachedResult(e)};e.prototype.get=function(t){var e=this.getParameterKey();if(e&&!(t||{})[e]){throw new Error("Parameter '"+e+"' is missing")}var a=this._getParameterizedCachedResult(t);if(a!==null&&a!==undefined){return a}var i=this.getParentDataSelector();var r=i&&i.get(t);var n=(t||{})[e];if(!this._mInitialized[n]&&this.getInitFunction()){this.getInitFunction()(r,n);this._mInitialized[n]=true}var s=this.getExecuteFunction()(r,n);this._setParameterizedCachedResult(t,s);return s};e.prototype.checkUpdate=function(t){if(this.getCheckInvalidation()(t)===true){this._clearCache(t);this.getUpdateListeners().forEach(function(t){t()})}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/FlexState", ["sap/base/util/restricted/_omit","sap/base/util/each","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/Component","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexState/appDescriptorChanges/prepareAppDescriptorMap","sap/ui/fl/apply/_internal/flexState/changes/prepareChangesMap","sap/ui/fl/apply/_internal/flexState/compVariants/prepareCompVariantsMap","sap/ui/fl/apply/_internal/flexState/DataSelector","sap/ui/fl/apply/_internal/flexState/InitialPrepareFunctions","sap/ui/fl/apply/_internal/flexState/Loader","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/FlexInfoSession","sap/ui/fl/LayerUtils","sap/ui/fl/requireAsync","sap/ui/fl/Utils"],function(e,n,t,r,a,i,o,c,s,f,l,p,u,g,d,m,h,v){"use strict";var x={};var F={};var S={};var b={};var R;var O;var D;var C={appDescriptorChanges:{prepareFunction:c,pathInResponse:[]},changes:{initialPreparationFunctionName:"uiChanges",prepareFunction:s,pathInResponse:["changes"]},variants:{initialPreparationFunctionName:"variants",pathInResponse:["variants","variantChanges","variantDependentControlChanges","variantManagementChanges"]},compVariants:{prepareFunction:f,pathInResponse:["comp.variants","comp.standardVariants","comp.defaultVariants","comp.changes"]}};var j={compVariants:{},flexObjects:{}};function y(e){var n=i.get(e.componentId);e.componentData=e.componentData||n.getComponentData()||{};e.manifest=e.manifest||e.rawManifest||n.getManifestObject();e.reference=e.reference||g.getFlexReference(e)}function I(e){var t=[];n(e.changes,function(e,r){if(Array.isArray(r)){r.forEach(function(e){t.push(o.createFromFileContent(e,null,true))})}else if(e==="comp"){n(r,function(e,n){n.forEach(function(e){t.push(o.createFromFileContent(e,null,true))})})}});return t}function P(e,n){var t=C[e].initialPreparationFunctionName;var r=p[t];if(r){return r(n)}return undefined}function V(e,n,t){var r=P(e,n);if(r){N(t,r)}}var U=new l({id:"flexObjects",parameterKey:"reference",executeFunction:function(e,n){if(!F[n]){return[]}var t=F[n].runtimePersistence;return t.flexObjects.concat(t.runtimeOnlyData.flexObjects||[],j.flexObjects[n][F[n].componentId]||[])}});function M(e,n){if(!F[e]){throw new Error("State is not yet initialized")}if(!F[e].preparedMaps[n]){var t={unfilteredStorageResponse:F[e].unfilteredStorageResponse,storageResponse:F[e].storageResponse,componentId:F[e].componentId,componentData:F[e].componentData,reference:e,runtimePersistence:F[e].runtimePersistence};F[e].preparedMaps[n]=x.callPrepareFunction(n,t);V(n,t,e)}return F[e].preparedMaps[n]}function N(e,n){F[e]=t(F[e],n);U.checkUpdate({reference:e})}function z(e){return M(e,"appDescriptorChanges")}function L(e){return M(e,"changes")}function _(e){return M(e,"compVariants")}function k(e,n){var r={flexObjects:I(e),runtimeOnlyData:{flexObjects:[]}};Object.keys(C).forEach(function(a){var i=P(a,{storageResponse:e,externalData:n});if(i){r=t(r,i)}});return r}function E(e){var n=e.reference;var t=false;if(!F[n].componentData){var a=i.get(e.componentId);F[n].componentData=a?a.getComponentData():e.componentData;t=true}if(!F[n].storageResponse){F[n].storageResponse=w(F[n].unfilteredStorageResponse);delete F[n].runtimePersistence;t=true}if(!r.get(["flexObjects",n,e.componentId],j)){r.set(["flexObjects",n,e.componentId],[],j)}if(!F[n].runtimePersistence){F[n].runtimePersistence=k(F[n].storageResponse,j.flexObjects[n][e.componentId]||[]);t=true}if(t){U.checkUpdate({reference:n})}}function w(e){var a=t({},e);var i=a.changes;var o=Q("URLParsing");if(m.isLayerFilteringRequired(o)){n(C,function(e,n){n.pathInResponse.forEach(function(e){r.set(e,m.filterChangeDefinitionsByMaxLayer(r.get(e,i),o),i)})})}return a}function A(e){b[e.reference]=u.loadFlexData(e).then(function(n){F[e.reference]=t({},{unfilteredStorageResponse:n,preparedMaps:{},componentId:e.componentId,componentData:e.componentData,partialFlexState:e.partialFlexState});T(e.reference);B(e.reference,n);Object.freeze(F[e.reference].storageResponse);Object.freeze(F[e.reference].unfilteredStorageResponse);return n});return b[e.reference]}function B(e,n){var t=n&&n.changes||{};var r=d.getByReference(e);if(r===null){r={}}if(t.info!==undefined){r=Object.assign(r,t.info)}d.setByReference(r,e)}function T(e){var n=Q("ShellNavigation");if(n&&!S[e]){S[e]=K.bind(null,e);n.registerNavigationFilter(S[e])}}function q(e){var n=Q("ShellNavigation");if(n){if(S[e]){n.unregisterNavigationFilter(S[e]);delete S[e]}}}function K(e,n,t){var r=Q("ShellNavigation");if(r){try{var i=m.getMaxLayerTechnicalParameter(n,Q("URLParsing"));var o=m.getMaxLayerTechnicalParameter(t,Q("URLParsing"));if(i!==o){x.rebuildFilteredResponse(e)}}catch(e){a.error(e.message)}return r.NavigationFilterStatus.Continue}return undefined}function G(e){var n=F[e.reference];if(n.partialFlexState===true&&e.partialFlexState!==true){n.partialFlexState=false;e.partialFlexData=t({},n.unfilteredStorageResponse.changes);e.reInitialize=true}return e}function H(e){var n=F[e.reference].componentId;if(!e.reInitialize&&n!==e.componentId){e.reInitialize=true}return e}function J(){return Promise.all([v.getUShellService("ShellNavigation"),v.getUShellService("URLParsing")]).then(function(e){R=e[0];O=e[1]}).catch(function(e){a.error("Error getting service from Unified Shell: "+e.message)})}function Q(e){if(v.getUshellContainer()){if(e==="ShellNavigation"){return R}else if(e==="URLParsing"){return O}}return undefined}function W(){return h("sap/ui/fl/ChangePersistenceFactory").then(function(e){D=e}).catch(function(e){a.error("Error loading modules: "+e.message)})}x.initialize=function(e){return Promise.all([J(),W()]).then(function(){y(e);var n=e.reference;if(b[n]){return b[n].then(G.bind(null,e)).then(H).then(function(e){return e.reInitialize?A(e):F[n].unfilteredStorageResponse})}return A(e)}).then(function(e){E(e)}.bind(null,e))};x.isInitialized=function(e){var n=e.reference?e.reference:g.getFlexReferenceForControl(e.control);return!!F[n]};x.clearAndInitialize=function(e){y(e);x.clearState(e.reference);return x.initialize(e)};x.clearState=function(e){if(e){q(e);delete F[e];delete b[e];U.clearCachedResult({reference:e});if(D&&(D._instanceCache||{}).hasOwnProperty(e)){D._instanceCache[e].removeDirtyChanges()}}else{Object.keys(F).forEach(function(e){q(e)});F={};b={};U.clearCachedResult()}};x.setInitialNonFlCompVariantData=function(e,n,t,r,a){j.compVariants[e]=j.compVariants[e]||{};j.compVariants[e][n]={};j.compVariants[e][n].standardVariant=t;j.compVariants[e][n].variants=r;j.compVariants[e][n].controlId=a};x.getInitialNonFlCompVariantData=function(e){return j.compVariants[e]};x.resetInitialNonFlCompVariantData=function(e){delete j.compVariants[e]};x.addFakeStandardVariantToExternalData=function(e,n,t){if(!j.flexObjects[e]){j.flexObjects[e]={}}if(!j.flexObjects[e][n]){j.flexObjects[e][n]=[]}j.flexObjects[e][n].push(t);U.checkUpdate({reference:e})};x.resetFakeStandardVariants=function(e,n){if(j.flexObjects[e]){delete j.flexObjects[e][n];U.clearCachedResult({reference:e})}};x.rebuildFilteredResponse=function(e){if(F[e]){F[e].preparedMaps={};F[e].storageResponse=w(F[e].unfilteredStorageResponse);F[e].runtimePersistence=k(F[e].storageResponse,j.flexObjects[e][F[e].componentId]||[]);U.checkUpdate({reference:e})}};x.addDirtyFlexObject=function(e,n){if(F[e]){F[e].runtimePersistence.flexObjects.push(n);U.checkUpdate({reference:e})}};x.removeDirtyFlexObject=function(e,n){if(F[e]){var t=F[e].runtimePersistence.flexObjects;var r=t.indexOf(n);t.splice(r,1);U.checkUpdate({reference:e})}};x.getFlexObjectsDataSelector=function(){return U};x.getUIChanges=function(e){return L(e).changes};x.getAppDescriptorChanges=function(e){return z(e).appDescriptorChanges};x.getUI2Personalization=function(e){return F[e].unfilteredStorageResponse.changes.ui2personalization};x.getCompVariantsMap=function(e){return _(e)};x.callPrepareFunction=function(e,n){return C[e].prepareFunction(n)};x.getStorageResponse=function(e){if(b[e]){return b[e].then(function(){return F[e].unfilteredStorageResponse})}return Promise.resolve()};x.getFlexObjectsFromStorageResponse=function(e){return F[e]&&F[e].unfilteredStorageResponse.changes};x.getComponentData=function(e){return F[e]&&F[e].componentData};return x});
/*
 * ! OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/InitialPrepareFunctions", ["sap/base/util/includes","sap/ui/core/Core","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/Layer"],function(e,a,n,t,r){"use strict";var i={};i.variants=function(i){var s=(i.storageResponse.changes.variants||[]).map(function(e){return e.fileName}).concat(i.externalData.filter(function(e){return e.getFileType()==="ctrl_variant"}).map(function(e){return e.getId()}));var c={runtimeOnlyData:{flexObjects:[]}};var l=[].concat(i.storageResponse.changes.variants||[]).concat(i.storageResponse.changes.variantDependentControlChanges||[]).concat(i.storageResponse.changes.variantChanges||[]);l.forEach(function(i){var l=i.fileType==="ctrl_variant_change"?i.selector.id:i.variantReference;if(l&&!e(s,l)){var o=a.getLibraryResourceBundle("sap.ui.fl");var u=t.createFlVariant({id:l,variantManagementReference:l,variantName:o.getText("STANDARD_VARIANT_TITLE"),layer:r.BASE,user:n.DEFAULT_AUTHOR,reference:i.reference});c.runtimeOnlyData.flexObjects.push(u);s.push(l)}});return c};i.uiChanges=function(){};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/Loader", ["sap/ui/base/ManagedObject","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/initial/_internal/Storage","sap/ui/fl/Utils"],function(e,n,t,a){"use strict";function r(e){if(typeof e==="string"){e={id:e}}e.idIsLocal=true;return e}function i(e,n){if(e){[n.changes,n.variantChanges,n.variantDependentControlChanges,n.variantManagementChanges].forEach(function(e){e.forEach(function(e){if(!e.selector.idIsLocal){e.selector=r(e.selector);if(e.dependentSelector){Object.keys(e.dependentSelector).forEach(function(n){if(Array.isArray(e.dependentSelector[n])){e.dependentSelector[n]=e.dependentSelector[n].map(r)}else{e.dependentSelector[n]=r(e.dependentSelector[n])}})}}})})}return n}function o(n){["changes","variantChanges","variantDependentControlChanges","variantManagementChanges"].forEach(function(t){n[t]=n[t].filter(function(n){try{var t=new e(n.fileName)}catch(e){return false}t.destroy();return true})});return n}function c(e){return e&&!!n.getOvpEntry(e)}function s(e){return{changes:e,cacheKey:e.cacheKey}}return{loadFlexData:function(e){var r=n.getBaseComponentNameFromManifest(e.manifest);if(e.partialFlexData){return t.completeFlexData({reference:e.reference,componentName:r,partialFlexData:e.partialFlexData}).then(s)}var f=e.reInitialize?undefined:n.getCacheKeyFromAsyncHints(e.reference,e.asyncHints);return t.loadFlexData({preview:n.getPreviewSectionFromAsyncHints(e.asyncHints),reference:e.reference,componentName:r,cacheKey:f,siteId:a.getSiteIdByComponentData(e.componentData),appDescriptor:e.manifest.getRawJson?e.manifest.getRawJson():e.manifest,version:e.version,allContexts:e.allContexts,adaptationId:e.adaptationId}).then(o.bind()).then(i.bind(undefined,c(e.manifest))).then(s)}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/ManifestUtils", ["sap/ui/fl/Utils"],function(e){"use strict";function t(e,t){if(e&&e.requests&&Array.isArray(e.requests)){return e.requests.find(function(e){return e.name==="sap.ui.fl.changes"&&(!t||e.reference===t)})}}function n(e){var t=e.manifest;var n=e.componentData||{};if(n.startupParameters){if(Array.isArray(n.startupParameters["sap-app-id"])){return n.startupParameters["sap-app-id"][0]}}var a=t.getEntry?t.getEntry("sap.ui5"):t["sap.ui5"];if(a){if(a.appVariantId){return a.appVariantId}if(a.componentName){return a.componentName}}return r(t)}function r(e){if(e){var t="${pro"+"ject.art"+"ifactId}";var n=e.getEntry?e.getEntry("sap.app"):e["sap.app"];var r=n&&n.id;if(r===t){if(e.getComponentName){return e.getComponentName()}if(e.name){return e.name}}return r}throw new Error("No Manifest received, descriptor changes are not possible")}var a={getAppIdFromManifest:r,getFlexReference:n,getFlexReferenceForControl:function(t){var r=e.getAppComponentForControl(t);return r&&n({manifest:r.getManifestObject(),componentData:r.getComponentData()})},getOvpEntry:function(e){return e.getEntry?e.getEntry("sap.ovp"):e["sap.ovp"]},getCacheKeyFromAsyncHints:function(e,n){var r=t(n,e);if(r){return r.cachebusterToken||"<NO CHANGES>"}},getPreviewSectionFromAsyncHints:function(e){var n=t(e);if(n){return n.preview}},getChangeManifestFromAsyncHints:function(e){var n=t(e);if(n){return false}return true},getBaseComponentNameFromManifest:function(e){var t=e.getEntry?e.getEntry("sap.ui5"):e["sap.ui5"];return t&&t.componentName||r(e)},isFlexExtensionPointHandlingEnabled:function(t){var n=e.getAppComponentForControl(t);return!!(n&&n.getManifestEntry("sap.ui5")&&n.getManifestEntry("sap.ui5").flexExtensionPointEnabled)}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/appDescriptorChanges/prepareAppDescriptorMap", ["sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory"],function(e){"use strict";return function(n){var r=n.storageResponse.changes.appDescriptorChanges||[];var t=r.map(function(n){return e.createFromFileContent(n)});return{appDescriptorChanges:t}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler", ["sap/base/util/includes","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/Utils"],function(e,n,t){"use strict";var d="sap.ui.fl:PendingChange";var i={};function c(e,t){return n.getControlIdBySelector(e,t)}function s(e){return{changeObject:e,dependencies:[],controlsDependencies:[],dependentIds:[]}}function a(e,n,t){r(t,n,e);o(t,n)}function o(n,t){if(!e(n.aChanges,t)){n.aChanges.push(t)}}function r(n,t,d){if(!n.mChanges[d]){n.mChanges[d]=[]}if(!e(n.mChanges[d],t)){n.mChanges[d].push(t)}}function p(e,n,t){var d=e.getSelector();if(d){if(d.id){a(c(d,n),e,t)}else{o(t,e)}}return t.aChanges}function f(e,n){return e.some(function(e){return e.id===n.id&&e.idIsLocal===n.idIsLocal})}function u(e,n,t,d,i,s,a){var o=t.getDependentSelectorList();n.some(function(n){if(f(o,n)){var r=c(n,i);var p=d&&s.indexOf(e)<s.indexOf(t);if(p){l(t,e,r,a,true)}else{l(e,t,r,a)}return true}})}function h(e,n,t,d){if(e.isValidForDependencyMap()){var i=e.getDependentSelectorList();g(e,i,n,d);var c=t.indexOf(e);var s=c<t.length-1;var a=t.slice();a.splice(c,1);a.reverse().forEach(function(c){if(c.isValidForDependencyMap()){u(e,i,c,s,n,t,d)}})}}function g(e,n,t,d){if(n.length){var i=n.map(function(e){return c(e,t)});if(!d.mDependencies[e.getId()]){d.mDependencies[e.getId()]=s(e)}d.mDependencies[e.getId()].controlsDependencies=i;i.forEach(function(n){d.mControlsWithDependencies[n]=d.mControlsWithDependencies[n]||[];d.mControlsWithDependencies[n].push(e.getId())})}}function l(n,t,d,i,c){if(m(n,t,d,i,c)){i.mDependencies[n.getId()].dependencies.push(t.getId());if(!e(i.mDependencies[n.getId()].dependentIds,d)){i.mDependencies[n.getId()].dependentIds.push(d)}if(!i.mDependentChangesOnMe[t.getId()]){i.mDependentChangesOnMe[t.getId()]=[]}i.mDependentChangesOnMe[t.getId()].push(n.getId())}}function m(n,t,d,i,c){var s=!c&&e(i.mDependencies[n.getId()].dependentIds,d);var a=false;if(i.mDependentChangesOnMe[t.getId()]){i.mDependentChangesOnMe[t.getId()].some(function(t){a=e(i.mDependencies[n.getId()].dependencies,t);return a})}return!s&&!a}function D(e,n){var c=[];var s=[];var a=[];if(e.dependencyRemovedInLastBatch[n]){e.dependencyRemovedInLastBatch[n].forEach(function(n){var t=e.mDependencies[n];if(t&&t.dependencies.length===0&&!(t.controlsDependencies&&t.controlsDependencies.length)){s.push(n);c.push(t.changeObject.getId());if(t[d]){a.push(function(){return t[d]()})}}})}return t.execPromiseQueueSequentially(a).then(function(n,t,d){delete e.dependencyRemovedInLastBatch[d];t.forEach(function(n){delete e.mDependencies[n]});n.forEach(function(n){i.resolveDependenciesForChange(e,n,d)});return!!n.length}.bind(undefined,c,s,n))}i.createEmptyDependencyMap=function(){return{aChanges:[],mChanges:{},mDependencies:{},mDependentChangesOnMe:{},mControlsWithDependencies:{},dependencyRemovedInLastBatch:{}}};i.addChangeAndUpdateDependencies=function(e,n,t){var d=p(e,n,t);h(e,n,d,t)};i.insertChange=function(e,n,t){var d=n&&n.aChanges&&n.aChanges.indexOf(t);if(d>-1){n.aChanges.splice(d+1,0,e)}};i.addRuntimeChangeAndUpdateDependencies=function(e,n,t,d){var i=p(e,n,t);h(e,n,i,d)};i.processDependentQueue=function(e,n,t){return D(e,t).then(function(t,d){if(d){return i.processDependentQueue(e,n,t)}}.bind(undefined,t))};i.addChangeApplyCallbackToDependency=function(e,n,t){e.mDependencies[n][d]=t};i.removeControlsDependencies=function(n,t){var d=n.mControlsWithDependencies[t];if(d){d.forEach(function(d){var i=n.mDependencies[d];if(i&&i.controlsDependencies&&i.controlsDependencies.length){var c=i.controlsDependencies.indexOf(t);if(c>-1){i.controlsDependencies.splice(c,1);delete n.mControlsWithDependencies[t];n.dependencyRemovedInLastBatch[t]=n.dependencyRemovedInLastBatch[t]||[];if(!e(n.dependencyRemovedInLastBatch[t],d)){n.dependencyRemovedInLastBatch[t].push(d)}}}});delete n.mControlsWithDependencies[t]}};i.resolveDependenciesForChange=function(n,t,d){var i=n.mDependentChangesOnMe[t];if(i){i.forEach(function(i){var c=n.mDependencies[i];var s=c?c.dependencies.indexOf(t):-1;if(s>-1){c.dependencies.splice(s,1);n.dependencyRemovedInLastBatch[d]=n.dependencyRemovedInLastBatch[d]||[];if(!e(n.dependencyRemovedInLastBatch[d],i)){n.dependencyRemovedInLastBatch[d].push(i)}}});delete n.mDependentChangesOnMe[t]}};i.removeChangeFromMap=function(e,n){Object.keys(e.mChanges).some(function(t){var d=e.mChanges[t];var i=d.map(function(e){return e.getId()}).indexOf(n);if(i!==-1){d.splice(i,1);return true}});var t=e.aChanges.map(function(e){return e.getId()}).indexOf(n);if(t!==-1){e.aChanges.splice(t,1)}};i.removeChangeFromDependencies=function(e,n,t){i.resolveDependenciesForChange(e,n,t);delete e.mDependencies[n]};i.getOpenDependentChangesForControl=function(e,t,d){var i=[];Object.keys(e.mDependencies).forEach(function(c){e.mDependencies[c].changeObject.getDependentSelectorList().forEach(function(s){if(n.getControlIdBySelector(s,d)===t){i.push(e.mDependencies[c].changeObject)}})});return i};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/changes/prepareChangesMap", [],function(){"use strict";return function(){}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger", ["sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/base/Log"],function(e,t,n){"use strict";var a={addFavorite:function(e){e.setFavorite(true)},removeFavorite:function(e){e.setFavorite(false)},updateVariant:function(e,t){var n=t.getContent();if(n.executeOnSelection!==undefined){e.setExecuteOnSelection(n.executeOnSelection)}if(n.favorite!==undefined){e.setFavorite(n.favorite)}if(n.contexts){e.setContexts(n.contexts)}if(n.variantContent){e.setContent(n.variantContent,true)}var a=t.getText("variantName");if(a){e.setName(a,true)}},standardVariant:function(e,t){e.setExecuteOnSelection(t.getContent().executeOnSelect)}};function i(e){var t={};e.changes.forEach(function(e){var n=e.getSelector().variantId||e.getContent().key;if(!t[n]){t[n]=[]}t[n].push(e)});return t}function r(e,t){n.error("No change handler for change with the ID '"+t.getId()+"' and type '"+t.getChangeType()+"' defined.\n"+"The variant '"+e.getId()+"'was not modified'")}function o(n,a){var i={fileName:a.fileName,variantId:a.id||e.STANDARD_VARIANT_ID,persisted:a.persisted,content:a.content||{},texts:{variantName:{value:a.name||""}},selector:{persistencyKey:n}};if(a.favorite!==undefined){i.favorite=a.favorite}if(a.executeOnSelection!==undefined){i.executeOnSelection=a.executeOnSelection}if(a.adaptationId!==undefined){i.adaptationId=a.adaptationId}return t.createCompVariant(i)}function d(e,t){var n=a[t.getChangeType()]||r;n(e,t);e.addChange(t)}function f(e,t){var n=t.getVariantId();if(e[n]){e[n].forEach(function(e){d(t,e)})}}return{merge:function(e,t,n){var a=t.nonPersistedVariants.concat(t.variants);var r=i(t);var d;a.forEach(function(e){if(e.getContent()&&e.getContent().standardvariant){d=e}});if(!d){d=o(e,n)}else{a=a.filter(function(e){return!e.getContent()||!e.getContent().standardvariant})}a.forEach(f.bind(undefined,r));d.setFavorite(true);d.setStandardVariant(true);t.byId[d.getVariantId()]=d;var c=t.standardVariantChange;if(c){r[d.getVariantId()]=r[d.getVariantId()]||[];r[d.getVariantId()].push(c);r[d.getVariantId()].sort(function(e,t){if(e.getCreation()<t.getCreation()){return-1}if(e.getCreation()>t.getCreation()){return 1}return 0})}f(r,d);t.standardVariant=d;return{standardVariant:d,variants:a}},createVariant:function(e,t){return o(e,t)},applyChangeOnVariant:d}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/prepareCompVariantsMap", ["sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/UpdatableChange","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger"],function(e,a,n,t){"use strict";function r(e,a){e[a]=e[a]||{byId:{},variants:[],nonPersistedVariants:[],changes:[],defaultVariants:[],standardVariantChange:undefined,standardVariant:undefined};return e[a]}function i(e,a,n,i){n=n||[];var s=r(e,a);s.controlId=i;s.nonPersistedVariants.forEach(function(e){delete s.byId[e.getId()]});s.nonPersistedVariants=n.map(function(e){var n=Object.assign({id:e.id,persisted:false},e);n=t.createVariant(a,n);s.byId[e.id]=n;return n});return s}function s(t,i,s){var d=t[i].map(function(t){var r;if(i==="variants"){r=e.createCompVariant(t)}else{r=e.createFromFileContent(t,n)}r.setState(a.LifecycleState.PERSISTED);return r});d.forEach(function(e){var a=e.getPersistencyKey?e.getPersistencyKey():e.getSelector().persistencyKey;r(s,a).byId[e.getId()]=e;switch(i){case"standardVariants":r(s,a).standardVariantChange=e;break;default:r(s,a)[i].push(e)}})}return function(e){var a={};a._getOrCreate=r.bind(undefined,a);a._initialize=i.bind(undefined,a);if(e.storageResponse.changes.comp){["variants","changes","defaultVariants","standardVariants"].forEach(function(n){s(e.storageResponse.changes.comp,n,a)})}return a}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/Switcher", ["sap/base/util/restricted/_pick","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/changes/Reverter"],function(e,n,r){"use strict";function t(r){var t=n.getControlChangesForVariant(Object.assign(e(r,["vmReference","variantsMap","reference"]),{vReference:r.currentVReference}));var a=n.getControlChangesForVariant(Object.assign(e(r,["vmReference","variantsMap","reference"]),{vReference:r.newVReference}));var i=Object.keys(r.changesMap).reduce(function(e,n){return e.concat(r.changesMap[n])},[]);var s=i.map(function(e){return e.getId()});var c=t.reduce(function(e,n){var r=s.indexOf(n.getId());if(r>-1){e=e.concat(i[r])}return e},[]);var o=[];if(a.length>0){o=c.slice();c.some(function(e){if(a[0]&&e.getId()===a[0].getId()){a.shift();o.shift()}else{return true}})}else{o=c}var l={changesToBeReverted:o.reverse(),changesToBeApplied:a};return l}var a={switchVariant:function(e){return Promise.resolve().then(function(){e.changesMap=e.flexController._oChangePersistence.getChangesMapForComponent().mChanges;var a=t(e);return r.revertMultipleChanges(a.changesToBeReverted,e).then(e.flexController.applyVariantChanges.bind(e.flexController,a.changesToBeApplied,e.appComponent)).then(n.setCurrentVariant.bind(null,e))})}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState", ["sap/base/util/restricted/_omit","sap/base/util/restricted/_pick","sap/base/util/ObjectPath","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexState/DataSelector","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/LayerUtils","sap/ui/fl/Utils"],function(e,t,n,r,a,i,c,f,u,o){"use strict";var s={};var l={};function g(e,t,r){var i=f.getComponentData(e);var c=n.get(["technicalParameters",a.VARIANT_TECHNICAL_PARAMETER],i)||[];var u=r.map(function(e){return e.getId()});var o=u.find(function(e){return c.includes(e)});if(o){return o}return t.reverse().map(function(e){return e.getContent().defaultVariant}).find(function(e){return u.includes(e)})}function v(e,t,r,a){var i=(l[r]||{})[a];var c=t.filter(function(e){return a===e.getVariantManagementReference()});if(!i||!c.find(function(e){return e.getId()===i})){var f=e.filter(function(e){return e.getFileType()==="ctrl_variant_management_change"&&a===e.getSelector().id});i=g(r,f,c)||a;n.set([r,a],i,l)}return{defaultVariant:a,currentVariant:i,variants:[],variantManagementChanges:e.filter(function(e){return e.getFileType()==="ctrl_variant_management_change"&&e.getSelector().id===a})}}function d(e,t){return{instance:t,variantChanges:e.filter(function(e){return e.getFileType()==="ctrl_variant_change"&&e.getSelector().id===t.getId()}),controlChanges:e.filter(function(e){var n=e.isA("sap.ui.fl.apply._internal.flexObjects.UIChange");if(!n){return false}var r=e.getVariantReference()===t.getId();var a=e.getVariantReference()===t.getVariantReference();var i=u.compareAgainstCurrentLayer(e.getLayer(),t.getLayer())===-1;return r||a&&i}),key:t.getId(),title:t.getName(),layer:t.getLayer(),favorite:t.getFavorite(),executeOnSelect:t.getExecuteOnSelection(),visible:t.getVisible(),author:t.getSupportInformation().user,contexts:t.getContexts(),isStandardVariant:t.getStandardVariant()}}function p(e,t,n,r){switch(t.getChangeType()){case"setTitle":e.title=t.getText("title");break;case"setFavorite":e.favorite=t.getContent().favorite;break;case"setExecuteOnSelect":e.executeOnSelect=t.getContent().executeOnSelect;break;case"setVisible":e.visible=t.getContent().visible;var a=e.instance.getVariantManagementReference();if(l[n][a]===e.key&&!e.visible){l[n][a]=a;r[a].currentVariant=a}break;case"setContexts":e.contexts=t.getContent().contexts;break;default:throw Error("Unknown ctrl_variant_change type")}}function m(e,t){var n=t.getContent().defaultVariant;if(e.variants.some(function(e){return e.key===n})){e.defaultVariant=n}}function V(e,t){var n=e.filter(function(e){return e.getFileType()==="ctrl_variant"});var r={};n.forEach(function(a){var i=a.getVariantManagementReference();if(!r[i]){r[i]=v(e,n,t,i)}r[i].variants.push(d(e,a))});e.filter(function(e){return e.getFileType()==="ctrl_variant_change"}).forEach(function(e){var n=C(r,e);p(n,e,t,r)});e.filter(function(e){return e.getFileType()==="ctrl_variant_management_change"}).forEach(function(e){var t=r[e.getSelector().id];if(t){m(t,e)}});Object.values(r).forEach(function(e){e.variants.sort(function(e,t){if(e.isStandardVariant){return-1}if(t.isStandardVariant){return 1}return e.title.toLowerCase()<t.title.toLowerCase()?-1:1});var t=e.variants.find(function(t){return t.key===e.currentVariant}).controlChanges;e.modified=t.some(function(e){return!e.isPersisted()&&!e.getSavedToVariant()})});return r}function C(e,t){var n;Object.values(e).some(function(e){return e.variants.some(function(e){if(t.getSelector().id===e.key){n=e;return true}return false})});return n}var h=new i({id:"variantManagementMap",parameterKey:"reference",parentDataSelector:f.getFlexObjectsDataSelector(),executeFunction:V});var S=new i({id:"variantManagements",parameterKey:"variantManagementReference",parentDataSelector:h,executeFunction:function(e,t){return e[t]}});var y=new i({id:"variants",parameterKey:"variantReference",parentDataSelector:S,executeFunction:function(e,t){return e.variants.find(function(e){return e.instance.getId()===t})}});s.resetCurrentVariantReferences=function(){l={}};s.getVariantManagementMap=function(){return h};s.addFakeStandardVariant=function(e,t,n,r){var a=this.getVariantManagementMap().get({reference:e});if(!a[n]){f.addFakeStandardVariantToExternalData(e,t,r)}};s.clearFakeStandardVariants=function(e,t){f.resetFakeStandardVariants(e,t)};s.getControlChangesForVariant=function(e){var t=[];var n=s.getVariant(e);if(n){t=n.controlChanges.filter(function(t){return e.includeDirtyChanges!==false||t.getState()===c.LifecycleState.PERSISTED})}return t};s.getVariantChangesForVariant=function(e){var t=s.getVariant(e);return t&&t.variantChanges||{}};s.getVariant=function(e){var t=e.vReference||S.get({variantManagementReference:e.vmReference,reference:e.reference}).defaultVariant;return y.get({variantManagementReference:e.vmReference,variantReference:t,reference:e.reference})};s.getCurrentVariantReference=function(e){var t=S.get({variantManagementReference:e.vmReference,reference:e.reference});return t.currentVariant};s.getVariantManagementReferences=function(e){var t=h.get({reference:e});return Object.keys(t)};s.getInitialChanges=function(e){var t=h.get({reference:e.reference});return Object.keys(t).reduce(function(n,r){if(e.vmReference&&e.vmReference===r||!e.vmReference){var a=Object.assign({},e,{vmReference:r,vReference:t[r].currentVariant,includeDirtyChanges:false});return n.concat(s.getControlChangesForVariant(a))}return n},[])};s.setCurrentVariant=function(e){n.set([e.reference,e.vmReference],e.newVReference,l);h.checkUpdate({reference:e.reference})};s.waitForInitialVariantChanges=function(e){var t=s.getInitialChanges({vmReference:e.vmReference,reference:e.reference});var n=t.reduce(function(t,n){var a=n.getSelector();var i=r.bySelector(a,e.appComponent);if(i&&o.indexOfObject(t,{selector:i})===-1){t.push({selector:i})}return t},[]);return n.length?e.flexController.waitForChangesToBeApplied(n):Promise.resolve()};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/ComponentLifecycleHooks", ["sap/base/Log","sap/ui/fl/apply/_internal/changes/descriptor/Applier","sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/fl/variants/VariantModel","sap/ui/fl/FlexControllerFactory","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/performance/Measurement"],function(e,n,t,o,r,a,i,s,l,p,c,u){"use strict";var d={};d._componentInstantiationPromises=new WeakMap;var f={};function m(n,t){if(c.getUshellContainer()){return Promise.resolve(n)}var o=window.sessionStorage.getItem("sap.ui.rta.restart."+p.CUSTOMER);if(o){var r=a.getFlexReferenceForControl(t);if(o!==r&&o!=="true"){e.error("an application component was started "+"which does not match the component for which the restart was triggered:\n"+"Triggering component: "+o+"\n"+"Started component: "+r);return Promise.resolve(n)}return new Promise(function(e,o){Promise.all([sap.ui.getCore().loadLibrary("sap.ui.rta",{async:true}),t.rootControlLoaded()]).then(function(){sap.ui.require(["sap/ui/rta/api/startKeyUserAdaptation"],function(o){o({rootControl:t});e(n)})}).catch(function(e){o(e)})})}return Promise.resolve(n)}function g(e){var n=l.createForControl(e);var t;return n._oChangePersistence.loadChangesMapForComponent(e).then(function(r){var a=o.applyAllChangesForControl.bind(o,r,e,n);a._bIsSapUiFlFlexControllerApplyChangesOnControl=true;e.addPropagationListener(a);t=d._createVariantModel(n,e);return t.initialize()}).then(function(){e.setModel(t,i.getVariantModelName());u.end("flexProcessing");return t}).then(function(n){return m(n,e)})}function h(e,n){if(c.isApplicationComponent(e)){var t=e.getId();r.rebuildFilteredResponse(a.getFlexReferenceForControl(e));var o=r.initialize({componentId:t,asyncHints:n.asyncHints}).then(g.bind(this,e)).then(function(){if(f[t]){f[t].forEach(function(n){var t=e.getModel(i.getVariantModelName());n.setModel(t,i.getVariantModelName())});delete f[t]}});d._componentInstantiationPromises.set(e,o);return o}else if(c.isEmbeddedComponent(e)){var s=c.getAppComponentForControl(e);if(s&&c.isApplicationComponent(s)){if(d._componentInstantiationPromises.has(s)){return d._componentInstantiationPromises.get(s).then(function(){var n=s.getModel(i.getVariantModelName());e.setModel(n,i.getVariantModelName())})}f[s.getId()]=f[s.getId()]||[];f[s.getId()].push(e)}return Promise.resolve()}return Promise.resolve()}function C(e,o){if(!c.isApplication(o)||!e.id){return Promise.resolve()}r.initialize({componentData:e.componentData||e.settings&&e.settings.componentData,asyncHints:e.asyncHints,manifest:o,componentId:e.id});return n.applyChangesIncludedInManifest(o,t.getRuntimeStrategy())}d._createVariantModel=function(e,n){return new s({},{flexController:e,appComponent:n})};d.instanceCreatedHook=function(){return h.apply(undefined,arguments)};d.componentLoadedHook=function(){return C.apply(undefined,arguments)};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/ControllerExtension", ["sap/ui/core/Component","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/Utils","sap/base/Log"],function(e,n,t,r,o){"use strict";var i=function(){};function s(e){return e.getChangeType()==="codeExt"}function a(e,n){var t=n.getSelector().controllerName;return e===t}function u(e){if(e.length===0){return Promise.resolve([])}return new Promise(function(n){sap.ui.require(e,function(){n(Array.prototype.slice.call(arguments))},function(e){o.error("Code Extension not found",e.message);n([])})})}i.prototype.getControllerExtensions=function(i,c,f){if(f){if(!c){o.warning("No component ID for determining the anchor of the code extensions was passed.");return Promise.resolve([])}var l=e.get(c);var p=r.getAppComponentForControl(l);if(!p){o.warning("No application component for determining the anchor of the code extensions was identified.");return Promise.resolve([])}if(!r.isApplication(p.getManifestObject())){return Promise.resolve([])}var g=n.getFlexReferenceForControl(p);var m=t.getChangePersistenceForComponent(g);return m.getChangesForComponent().then(function(e){var n=e.filter(function(e){return s(e)&&a(i,e)}).map(function(e){return e.getModuleName()});return u(n)})}o.warning("Synchronous extensions are not supported via UI5 Flexibility");return[]};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/EventHistory", ["sap/ui/core/Core"],function(e){"use strict";var n=function(){};n._aEventIds=["ControlForPersonalizationRendered"];n._aUnsubscribedEventIds=[];n._oHistory={};n.start=function(){n._aEventIds.forEach(function(s){if(n._aUnsubscribedEventIds.indexOf(s)===-1){e.getEventBus().subscribe("sap.ui",s,n.saveEvent);n._oHistory[s]=[]}})};n.saveEvent=function(e,s,t){var r={channelId:e,eventId:s,parameters:t.getId()};if(n._oHistory[s]){var i=n._oHistory[s].some(function(e){return e.channelId===r.channelId&&e.eventId===r.eventId&&e.parameters===r.parameters});if(!i){n._oHistory[s].push(r)}}};n.getHistoryAndStop=function(s){e.getEventBus().unsubscribe("sap.ui",s,n.saveEvent);n._addUnsubscribedEvent(s);return n._oHistory[s]||[]};n._addUnsubscribedEvent=function(e){if(n._aUnsubscribedEventIds.indexOf(e)===-1){n._aUnsubscribedEventIds.push(e)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/RegistrationDelegator", ["sap/ui/core/mvc/Controller","sap/ui/core/mvc/XMLView","sap/ui/core/Component","sap/ui/core/ExtensionPoint","sap/ui/fl/apply/_internal/changes/descriptor/Preprocessor","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/_internal/preprocessors/EventHistory","sap/ui/fl/apply/_internal/preprocessors/ComponentLifecycleHooks","sap/ui/fl/apply/_internal/DelegateMediator","sap/ui/fl/apply/api/DelegateMediatorAPI","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration","sap/ui/core/Configuration","sap/ui/fl/apply/_internal/preprocessors/ControllerExtension","sap/ui/fl/apply/_internal/preprocessors/XmlPreprocessor"],function(e,n,r,i,s,t,o,a,l,p,c,f){"use strict";var u={};function d(){r._fnOnInstanceCreated=a.instanceCreatedHook}function g(){c.registerPredefinedChangeHandlers();c.getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs()}function y(){r._fnLoadComponentCallback=a.componentLoadedHook}function P(){e.registerExtensionProvider("sap/ui/fl/apply/_internal/preprocessors/ControllerExtension")}function _(){if(n.registerPreprocessor){n.registerPreprocessor("viewxml","sap.ui.fl.apply._internal.preprocessors.XmlPreprocessor",true)}}function C(){o.start()}function m(){r._fnPreprocessManifest=s.preprocessManifest}function x(e){if(t.isFlexExtensionPointHandlingEnabled(e)){return"sap/ui/fl/apply/_internal/extensionPoint/Processor"}if(f.getDesignMode()){return"sap/ui/fl/write/_internal/extensionPoint/Processor"}return undefined}function D(){i.registerExtensionProvider(x)}function E(){p.registerDefaultDelegate({modelType:"sap.ui.model.odata.v4.ODataModel",delegate:"sap/ui/fl/write/_internal/delegates/ODataV4ReadDelegate",delegateType:l.types.READONLY})}u.registerAll=function(){C();g();y();P();d();_();m();D();E()};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/XmlPreprocessor", ["sap/ui/core/Component","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/FlexControllerFactory","sap/ui/fl/Utils","sap/ui/fl/ChangePersistenceFactory","sap/base/Log"],function(e,r,n,t,i,o){"use strict";var a=function(){};a.process=function(i,a){try{if(!a||a.sync){o.warning("Flexibility feature for applying changes on an XML view is only available for "+"asynchronous views; merge is be done later on the JS controls.");return i}a.viewId=a.id;var s=e.get(a.componentId);if(!s){o.warning("View is generated without a component. Flexibility features are not possible.");return Promise.resolve(i)}var l=t.getAppComponentForControl(s);if(!t.isApplication(l.getManifestObject())){return Promise.resolve(i)}var c=r.getFlexReferenceForControl(l);var p=n.create(c);return p.processXmlView(i,a).then(function(){o.debug("flex processing view "+a.id+" finished");return i}).catch(function(){o.warning("Error happens when getting flex cache key! flexibility XML view preprocessing is skipped. "+"The processing will be done later on the JS controls.");return Promise.resolve(i)})}catch(e){var u="view "+a.id+": "+e;o.info(u);return Promise.resolve(i)}};a.getCacheKey=function(n){var o=e.get(n.componentId);var a=t.getAppComponentForControl(o);if(t.isVariantByStartupParameter(a)){return Promise.resolve()}var s=r.getFlexReferenceForControl(a);var l=i.getChangePersistenceForComponent(s);return l.getCacheKey(a)};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/api/ControlVariantApplyAPI", ["sap/base/Log","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/Element","sap/ui/fl/apply/_internal/controlVariants/URLHandler","sap/ui/fl/Utils"],function(e,t,n,r,a,o){"use strict";var i="$FlexVariants";function l(e){var t=e.getModel(i);if(t){return Promise.resolve(t)}return new Promise(function(n){function r(){t=e.getModel(i);if(t){e.detachModelContextChange(r);n(t)}}e.attachModelContextChange(r)})}var c={getVariantModelName:function(){return i},clearVariantParameterInURL:function(t){var n;var r=o.getAppComponentForControl(t.control);var l=r&&r.getModel(i);if(!l){e.error("Variant model could not be found on the provided control");return}if(t.control.isA("sap.ui.fl.variants.VariantManagement")){var c=l.getLocalId(t.control.getId(),r);var d=a.removeURLParameterForVariantManagement({model:l,vmReference:c});n=d.parameters}a.update({parameters:n||[],updateURL:true,updateHashEntry:!!l,model:l||{},silent:!l})},activateVariant:function(a){function l(t){e.error(t);return Promise.reject(t)}var c;if(typeof a.element==="string"){c=t.get(a.element);if(!(c instanceof t)){c=n.byId(a.element);if(!(c instanceof r)){return l(Error("No valid component or control found for the provided ID"))}}}else if(a.element instanceof t||a.element instanceof r){c=a.element}var d=o.getAppComponentForControl(c);if(!d){return l(Error("A valid variant management control or component (instance or ID) should be passed as parameter"))}var p=d.getModel(i);if(!p){return l(Error("No variant management model found for the passed control or application component"))}var f=p.getVariantManagementReference(a.variantReference).variantManagementReference;if(!f){return l(Error("A valid control or component, and a valid variant/ID combination are required"))}return p.waitForVMControlInit(f).then(function(){return p.updateCurrentVariant({variantManagementReference:f,newVariantReference:a.variantReference,appComponent:d})}).catch(function(t){e.error(t);throw t})},attachVariantApplied:function(e){var t=e.selector.id&&sap.ui.getCore().byId(e.selector.id)||e.selector;var n=o.getAppComponentForControl(t);l(n).then(function(n){n.attachVariantApplied({vmControlId:e.vmControlId,control:t,callback:e.callback,callAfterInitialVariant:e.callAfterInitialVariant})})},detachVariantApplied:function(e){var t=e.selector.id&&sap.ui.getCore().byId(e.selector.id)||e.selector;var n=o.getAppComponentForControl(t);l(n).then(function(n){n.detachVariantApplied(e.vmControlId,t.getId())})}};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/api/DelegateMediatorAPI", ["sap/ui/fl/apply/_internal/DelegateMediator"],function(e){"use strict";var t={registerDefaultDelegate:function(t){e.registerDefaultDelegate(t)},getDelegateForControl:function(t){return e.getDelegateForControl(t.control,t.modifier,t.modelType,t.supportsDefault)},getKnownDefaultDelegateLibraries:function(){return e.getKnownDefaultDelegateLibraries()},getRequiredLibrariesForDefaultDelegate:function(t){return e.getRequiredLibrariesForDefaultDelegate(t.delegateName,t.control,t.modelType)}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/AddXML", ["sap/ui/fl/changeHandler/BaseAddXml"],function(e){"use strict";var t={};t.applyChange=function(t,n,r){var g=t.getContent();var a={aggregationName:g.targetAggregation,index:g.index};return e.applyChange(t,n,r,a)};t.revertChange=e.revertChange;t.completeChangeContent=function(t,n){var r={};if(n.targetAggregation){r.targetAggregation=n.targetAggregation}else{e._throwMissingAttributeError("targetAggregation")}if(n.index!==undefined){r.index=n.index}else{e._throwMissingAttributeError("index")}e.completeChangeContent(t,n,r)};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/AddXMLAtExtensionPoint", ["sap/ui/fl/changeHandler/BaseAddXml"],function(e){"use strict";var n={};function t(e){var n=e.index;if(e.referencedExtensionPoint){n+=t(e.referencedExtensionPoint)}return n}n.applyChange=function(n,i,r){var o=r.view;var a=r.modifier;var u=n.getSelector();var f;return Promise.resolve().then(function(){var e=n.getExtensionPointInfo&&n.getExtensionPointInfo();if(!e){return a.getExtensionPointInfo(u.name,o)}return e}).then(function(s){f=s;if(!f){throw new Error("AddXMLAtExtensionPoint-Error: Either no Extension-Point found by name '"+(u&&u.name)+"' or multiple Extension-Points available with the given name in the view (view.id='"+(o&&a.getId(o))+"'). Multiple Extension-points with the same name in one view are not supported!")}(f.defaultContent||[]).forEach(function(e){if(e){a.destroy(e)}});f.defaultContent=[];f.index=t(f);if(a.targets==="xmlTree"){f.skipAdjustIndex=true}return e.applyChange(n,i,r,f)}).then(function(e){if(f.ready){f.ready(e)}return true})};n.revertChange=e.revertChange;n.completeChangeContent=function(n,t){e.completeChangeContent(n,t)};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/Base", ["sap/base/util/LoaderExtensions"],function(e){"use strict";var t={setTextInChange:function(e,t,n,r){if(!e.texts){e.texts={}}if(!e.texts[t]){e.texts[t]={}}e.texts[t].value=n;e.texts[t].type=r},instantiateFragment:function(t,n){var r=t.getFlexObjectMetadata();var a=r.moduleName;if(!a){return Promise.reject(new Error("The module name of the fragment is not set. This should happen in the backend"))}var i=n.viewId?n.viewId+"--":"";var o=r.projectId||"";var s=t.getExtensionPointInfo&&t.getExtensionPointInfo()&&t.getExtensionPointInfo().fragmentId||"";var u=o&&s?".":"";var f=i+o+u+s;var c=n.modifier;var v=n.view;return Promise.resolve().then(function(){var t=e.loadResource(a,{dataType:"text"});return c.instantiateFragment(t,f,v).catch(function(e){throw new Error("The following XML Fragment could not be instantiated: "+t+" Reason: "+e.message)})})},markAsNotApplicable:function(e,t){var n={message:e};if(!t){throw n}return Promise.reject(n)}};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseAddViaDelegate", ["sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/changeHandler/Base","sap/ui/fl/apply/api/DelegateMediatorAPI","sap/base/util/merge","sap/base/util/ObjectPath"],function(e,t,n,r,o){"use strict";function a(e){return typeof e==="function"}function i(e){if(e.modelType){return e.modelType}else if(e.oDataServiceVersion){return"sap.ui.model.odata.v2.ODataModel"}}var l={createAddViaDelegateChangeHandler:function(l){function u(e){return e+l.fieldSuffix}function d(e,t){if(a(l[t])){return!!l[t](e)}return!!l[t]}function f(e){return d(e,"skipCreateLabel")}function c(e){return d(e,"skipCreateLayout")}function p(e,t){var r=t.modifier.bySelector(e.getSelector(),t.appComponent);var o=i(e.getContent());return n.getDelegateForControl({control:r,modifier:t.modifier,modelType:o,supportsDefault:l.supportsDefault}).then(function(t){var n=!a(t.instance.createLayout);return n||c(e.getSupportInformation().oDataInformation)})}function g(e,t,n){var o=r({},t);o.fieldSelector.id=u(o.fieldSelector.id);return n.createControlForProperty(o).then(function(r){if(f(e)){return r}var o=t.modifier.getId(r.control);t.labelFor=o;return n.createLabel(t).then(function(e){return{label:e,control:r.control,valueHelp:r.valueHelp}})})}function s(e,t,n,i){var u=r({aggregationName:l.aggregationName,payload:t.payload||{},parentSelector:e.parentId},n);var d=t.instance;return Promise.resolve().then(function(){if(a(d.createLayout)&&!c(i)){return d.createLayout(u)}}).then(function(e){if(o.get("control",e)){e.layoutControl=true;return e}return g(i,u,d)})}return{applyChange:function(e,o,a){var u=a.appComponent;var d=e.getContent();var f=e.getSupportInformation().oDataInformation;var c=d.newFieldSelector;var p={appComponent:a.appComponent,view:a.view,fieldSelector:c,bindingPath:d.bindingPath,modifier:a.modifier,element:o};if(a.modifier.bySelector(c,u,a.view)){return t.markAsNotApplicable("Control to be created already exists:"+(c.id||c),true)}var g={newFieldSelector:c};e.setRevertData(g);var v=i(d);return n.getDelegateForControl({control:o,modifier:a.modifier,modelType:v,supportsDefault:l.supportsDefault}).then(function(e){return s(d,e,p,f)}).then(function(t){var n=r({},{control:o,innerControls:t,change:e},a);return Promise.resolve().then(function(){return l.addProperty(n)}).then(function(){if(t.valueHelp){var n=a.modifier.getSelector(a.modifier.getId(t.valueHelp),u);var r=e.getRevertData();r.valueHelpSelector=n;e.setRevertData(r)}})})},revertChange:function(e,t,n){var o=n.appComponent;var i=n.modifier;var u=e.getRevertData().newFieldSelector;var d=e.getRevertData().valueHelpSelector;var f=i.bySelector(u,o);var c=e.getDependentControl(l.parentAlias,n)||t;return Promise.resolve().then(i.removeAggregation.bind(i,c,l.aggregationName,f)).then(i.destroy.bind(i,f)).then(function(){if(d){var e=i.bySelector(d,o);return Promise.resolve().then(i.removeAggregation.bind(i,c,"dependents",e)).then(i.destroy.bind(i,e))}}).then(function(){var o=r({},{control:t,change:e},n);if(a(l.revertAdditionalControls)){return Promise.resolve().then(function(){return l.revertAdditionalControls(o)}).then(function(){e.resetRevertData()})}})},completeChangeContent:function(e,t,n){var r=n.appComponent;var o={};if(t.parentId){if(a(l.mapParentIdIntoChange)){l.mapParentIdIntoChange(e,t,n)}else{e.addDependentControl(t.parentId,l.parentAlias,n)}try{o.parentId=n.modifier.getSelector(t.parentId,r)}catch(e){}}else{throw new Error("mSpecificChangeInfo.parentId attribute required")}if(t.bindingPath){o.bindingPath=t.bindingPath}else{throw new Error("mSpecificChangeInfo.bindingPath attribute required")}if(t.newControlId){o.newFieldSelector=n.modifier.getSelector(t.newControlId,r)}else{throw new Error("mSpecificChangeInfo.newControlId attribute required")}if(t.index===undefined){throw new Error("mSpecificChangeInfo.targetIndex attribute required")}else{o.newFieldIndex=t.index}if(t.oDataServiceVersion){o.oDataServiceVersion=t.oDataServiceVersion}if(t.modelType&&l.supportsDefault){o.modelType=t.modelType}e.setContent(o)},getChangeVisualizationInfo:function(e){var t=e.getRevertData();if(t&&t.labelSelector){return{affectedControls:[t.labelSelector]}}return{affectedControls:[e.getContent().newFieldSelector]}},getCondenserInfo:function(t,n){return p(t,n).then(function(n){if(!n){return undefined}if(!t.getContent().newFieldSelector||!t.getContent().parentId||!l.aggregationName){return undefined}return{affectedControl:t.getContent().newFieldSelector,classification:e.Create,targetContainer:t.getContent().parentId,targetAggregation:l.aggregationName,setTargetIndex:function(e,t){var n=e.getContent();n.newFieldIndex=t;e.setContent(n)},getTargetIndex:function(e){return e.getContent().newFieldIndex}}})}}}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseAddXml", ["sap/ui/fl/changeHandler/Base","sap/base/util/LoaderExtensions","sap/ui/fl/changeHandler/common/revertAddedControls","sap/ui/fl/Utils"],function(e,t,r,n){"use strict";var a={};a.applyChange=function(r,o,i,u){var s=i.modifier;var c=i.view;var g=u.aggregationName;var f;var h=u.index;var l=[];var d=r.getFlexObjectMetadata().moduleName;var m;var v;var p=function(){var e=[];v.forEach(function(t,r){var n=function(){return Promise.resolve().then(s.insertAggregation.bind(s,o,g,t,h+r,c,u.skipAdjustIndex)).then(function(){l.push({id:s.getId(t),aggregationName:g})})};e.push(n)});return n.execPromiseQueueSequentially(e,true,true).then(function(){r.setRevertData(l);return v})};return Promise.resolve().then(s.findAggregation.bind(s,o,g)).then(function(e){f=e;if(!f){return Promise.reject(new Error("The given Aggregation is not available in the given control: "+s.getId(o)))}return t.loadResource(d,{dataType:"text"})}).then(function(t){m=t;return e.instantiateFragment(r,i)}).then(function(e){v=e;var t=[];v.forEach(function(e,r){var n=function(){return Promise.resolve().then(s.validateType.bind(s,e,f,o,m,r)).then(function(e){if(!e){a._destroyArrayOfControls(v);return Promise.reject(new Error("The content of the xml fragment does not match the type of the targetAggregation: "+f.type))}})};t.push(n)});return n.execPromiseQueueSequentially(t,true,true).then(p)})};a.revertChange=r;a._throwMissingAttributeError=function(e){throw new Error("Attribute missing from the change specific content '"+e+"'")};a._destroyArrayOfControls=function(e){e.forEach(function(e){if(e.destroy){e.destroy()}})};a.completeChangeContent=function(e,t,r){r=r||{};if(t.fragmentPath){r.fragmentPath=t.fragmentPath}else{a._throwMissingAttributeError("fragmentPath")}e.setContent(r);var n=e.getFlexObjectMetadata().reference.replace(/\.Component/g,"").replace(/\./g,"/");n+="/changes/";n+=r.fragmentPath;var o=e.getFlexObjectMetadata();o.moduleName=n;e.setFlexObjectMetadata(o)};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseRename", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t){"use strict";var r={createRenameChangeHandler:function(r){r.changePropertyName=r.changePropertyName||"newText";return{applyChange:function(e,t,n){var a=n.modifier;var o=r.propertyName;var i=e.getText(r.changePropertyName);return Promise.resolve().then(function(){if(i){return a.getPropertyBindingOrProperty(t,o).then(function(r){e.setRevertData(r);return a.setPropertyBindingOrProperty(t,o,i)})}return undefined})},revertChange:function(t,n,a){var o=a.modifier;var i=r.propertyName;var u=t.getRevertData();if(u||u===""){o.setPropertyBindingOrProperty(n,i,u);t.resetRevertData();return}e.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.")},completeChangeContent:function(e,t,n){var a=r.changePropertyName;var o=r.translationTextType;return Promise.resolve().then(function(){return n.modifier.bySelector(e.getSelector(),n.appComponent)}).then(function(r){e.setContent({originalControlType:n.modifier.getControlType(r)});if(typeof t.value==="string"){e.setText(a,t.value,o)}else if(typeof t.content.value==="string"){e.setText(a,t.content.value,o)}else{return Promise.reject(new Error("oSpecificChangeInfo.value attribute required"))}})},getCondenserInfo:function(e){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:r.propertyName||r.changePropertyName}},getChangeVisualizationInfo:function(e){var t=e.getTexts()&&e.getTexts()[r.changePropertyName];return{descriptionPayload:{originalLabel:e.getRevertData(),newLabel:t&&t.value}}}}}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/HideControl", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,t,n){"use strict";var r="visible";var i={};i.applyChange=function(e,t,n){var r=n.modifier;return Promise.resolve().then(r.getVisible.bind(r,t)).then(function(n){e.setRevertData({originalValue:n});r.setVisible(t,false)})};i.revertChange=function(t,n,r){var i=t.getRevertData();return Promise.resolve().then(function(){if(i){r.modifier.setVisible(n,i.originalValue);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}})};i.completeChangeContent=function(){};i.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.Reverse,uniqueKey:r}};i.getChangeVisualizationInfo=function(e,t){var r=e.getSelector();var i=n.bySelector(r,t);return{affectedControls:[r],displayControls:[i.getParent().getId()]}};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/MoveControls", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/Utils"],function(e,t,r){"use strict";var n={};n.SOURCE_ALIAS="source";n.TARGET_ALIAS="target";n.MOVED_ELEMENTS_ALIAS="movedElements";function o(e,t,r,n){if(!e){return Promise.reject(new Error("No change instance"))}var o=e.getContent();if(!o||!o.movedElements||o.movedElements.length===0){return Promise.reject(new Error("Change format invalid"))}if(!o.source||!o.source.selector){return Promise.reject(new Error("No source supplied for move"))}if(!o.target||!o.target.selector){return Promise.reject(new Error("No target supplied for move"))}if(!t.bySelector(o.source.selector,n,r)){return Promise.reject(new Error("Move source parent not found"))}if(!t.bySelector(o.target.selector,n,r)){return Promise.reject(new Error("Move target parent not found"))}if(!o.source.selector.aggregation){return Promise.reject(new Error("No source aggregation supplied for move"))}if(!o.target.selector.aggregation){return Promise.reject(new Error("No target aggregation supplied for move"))}return Promise.resolve()}function a(e,t,r,n){if(!e.selector&&!e.id){return Promise.reject(new Error("Change format invalid - moveElements element has no id attribute"))}if(typeof e.targetIndex!=="number"){return Promise.reject(new Error("Missing targetIndex for element with id '"+e.selector.id+"' in movedElements supplied"))}return Promise.resolve().then(t.bySelector.bind(t,e.selector||e.id,r,n)).then(function(t){if(!t){return Promise.reject(new Error("Control to move was not found. Id: '"+e.selector.id+"'"))}return t})}function i(e){if(!e.movedElements){return Promise.reject(new Error("mSpecificChangeInfo.movedElements attribute required"))}if(e.movedElements.length===0){return Promise.reject(new Error("MovedElements array is empty"))}e.movedElements.forEach(function(e){if(!e.id){throw new Error("MovedControls element has no id attribute")}if(typeof e.sourceIndex!=="number"){throw new Error("SourceIndex attribute at MovedElements element is no number")}if(typeof e.targetIndex!=="number"){throw new Error("TargetIndex attribute at MovedElements element is no number")}});return Promise.resolve()}function s(e,t,r){delete t.source.publicAggregation;delete t.target.publicAggregation;var n;var o;return Promise.resolve().then(function(){return t.source.parent||e.bySelector(t.source.id,r)}).then(function(o){n=o;return t.target.parent||e.bySelector(t.target.id,r)}).then(function(a){o=a;var i=t.source.aggregation;var s=t.target.aggregation;var g={aggregation:t.source.aggregation,type:e.getControlType(n)};var u={aggregation:t.target.aggregation,type:e.getControlType(o)};var c={source:{id:n.getId(),aggregation:i,type:g.type,selector:e.getSelector(t.source.id,r,g)},target:{id:o.getId(),aggregation:s,type:u.type,selector:e.getSelector(t.target.id,r,u)},movedElements:t.movedElements};return c})}n.applyChange=function(e,t,n){var i=n.modifier;var s=n.view;var g=n.appComponent;var u;var c;var l;var d;var v;var m;var f;var h=false;var E=e.getContent();var p=[];var C=[];return o(e,i,s,g).then(function(){E.movedElements.forEach(function(e){var t=function(){return Promise.resolve().then(a.bind(null,e,i,g,s)).then(function(e){u=e;c=i.getParent(u);return n.sourceAggregation||i.getParentAggregationName(u,c)}).then(function(e){d=e;return i.bySelector(E.target.selector,g,s)}).then(function(e){l=e;v=n.targetAggregation||E.target.selector.aggregation;return i.findIndexInParentAggregation(u)}).then(function(t){m=t;f=e.targetIndex;if(m>-1){if(m===f&&d===v&&i.getParent(u)===l){m=e.sourceIndex;d=n.sourceAggregation||E.source.selector.aggregation;h=true;return i.bySelector(E.source.selector,g,s)}}return Promise.resolve()}).then(function(e){if(e){c=e}if(m>-1){p.unshift({index:m,aggregation:d,sourceParent:i.getSelector(c,g)})}if(!h){return Promise.resolve().then(i.removeAggregation.bind(i,c,d,u)).then(i.insertAggregation.bind(i,l,v,u,f,s))}return Promise.resolve()})};C.push(t)},this);return r.execPromiseQueueSequentially(C,true,true)}.bind(this)).then(function(){e.setRevertData(p)})};n.revertChange=function(t,n,i){var s=i.modifier;var g=i.view;var u=i.appComponent;var c=t.getContent();var l;var d;var v;var m;var f;var h;return o(t,s,g,u).then(s.bySelector.bind(s,c.source.selector,u,g)).then(function(e){l=e;v=c.source.selector.aggregation;m=c.target.selector.aggregation;return s.bySelector(c.target.selector,u,g)}).then(function(n){d=n;var o=t.getRevertData();c.movedElements.reverse();var i=[];c.movedElements.forEach(function(t,r){var n=function(){return Promise.resolve().then(a.bind(this,t,s,u,g)).then(function(n){f=n;if(!f){e.warning("Element to move not found");return Promise.reject()}h=t.sourceIndex;if(o){var a=o[r];v=a.aggregation;h=a.index;return s.bySelector(a.sourceParent,u,g)}return Promise.resolve()}).then(function(e){if(e){l=e}return s.removeAggregation(d,m,f)}).then(function(){return s.insertAggregation(l,v,f,h,g)})}.bind(this);i.push(n)},this);return r.execPromiseQueueSequentially(i,true,true)}.bind(this)).then(function(){t.resetRevertData()})};n.completeChangeContent=function(e,t,r){var o=r.modifier;var a=r.appComponent;return i(t).then(s.bind(this,o,t,a)).then(function(t){var i={movedElements:[],source:{selector:t.source.selector},target:{selector:t.target.selector}};var s=[];t.movedElements.forEach(function(g){var u=Promise.resolve().then(function(){return g.element||o.bySelector(g.id,a)}).then(function(s){i.movedElements.push({selector:o.getSelector(s,a),sourceIndex:g.sourceIndex,targetIndex:g.targetIndex});e.addDependentControl(t.source.id,n.SOURCE_ALIAS,r);e.addDependentControl(t.target.id,n.TARGET_ALIAS,r);e.addDependentControl(t.movedElements.map(function(e){return e.id}),n.MOVED_ELEMENTS_ALIAS,r)});s.push(u)});return Promise.all(s).then(function(){e.setContent(i)})})};n.getCondenserInfo=function(e){var r=e.getContent();var n=e.getRevertData()[0];return{affectedControl:r.movedElements[0].selector,classification:t.Move,sourceContainer:n.sourceParent,targetContainer:r.target.selector,sourceIndex:n.index,sourceAggregation:n.aggregation,targetAggregation:r.target.selector.aggregation,setTargetIndex:function(e,t){var r=e.getContent();r.movedElements[0].targetIndex=t;e.setContent(r)},getTargetIndex:function(e){return e.getContent().movedElements[0].targetIndex},setIndexInRevertData:function(e,t){var r=e.getRevertData();r[0].index=t;e.setRevertData(r)}}};n.getChangeVisualizationInfo=function(e){var t=e.getContent();var r=e.getRevertData()[0];return{affectedControls:[t.movedElements[0].selector],dependentControls:[t.source.selector],descriptionPayload:{sourceContainer:r.sourceParent,targetContainer:t.target.selector}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/MoveElements", ["sap/base/Log","sap/ui/fl/Utils"],function(e,r){"use strict";var t={};t.CHANGE_TYPE="moveElements";function n(e,r,t,n){if(!e){return Promise.reject(new Error("No change instance"))}var o=e.getContent();if(!o||!o.movedElements||o.movedElements.length===0){return Promise.reject(new Error("Change format invalid"))}if(!e.getSelector().aggregation){return Promise.reject(new Error("No source aggregation supplied via selector for move"))}if(!o.target||!o.target.selector){return Promise.reject(new Error("No target supplied for move"))}if(!r.bySelector(o.target.selector,n,t)){return Promise.reject(new Error("Move target parent not found"))}if(!o.target.selector.aggregation){return Promise.reject(new Error("No target aggregation supplied for move"))}return Promise.resolve()}function o(e,r,t,n){if(!e.selector&&!e.id){return Promise.reject(new Error("Change format invalid - moveElements element has no id attribute"))}if(typeof e.targetIndex!=="number"){return Promise.reject(new Error("Missing targetIndex for element with id '"+e.selector.id+"' in movedElements supplied"))}return Promise.resolve().then(function(){return r.bySelector(e.selector||e.id,t,n)})}function i(r,t,n,i,a,g,s,u){var c;return o(r,t,n,i).then(function(n){c=n;if(!c){e.warning("Element to move not found");return Promise.reject()}return Promise.resolve().then(t.removeAggregation.bind(t,a,s,c)).then(t.insertAggregation.bind(t,g,u,c,r.targetIndex,i))})}t.applyChange=function(e,t,o){var a=o.modifier;var g=o.view;var s=o.appComponent;var u=e.getContent();var c;var l;var m;return n(e,a,g,s).then(function(){c=e.getSelector().aggregation;l=u.target.selector.aggregation;return a.bySelector(u.target.selector,s,g)}).then(function(e){m=e;var n=[];u.movedElements.forEach(function(e){n.push(i.bind(null,e,a,s,g,t,m,c,l))});return r.execPromiseQueueSequentially(n,true,true)})};t.completeChangeContent=function(){throw new Error("Using deprecated change handler. Please consider using 'MoveControls' instead")};t.getSpecificChangeInfo=function(e,r){var t=r.source.parent||e.bySelector(r.source.id);var n=r.target.parent||e.bySelector(r.target.id);var o=r.source.aggregation;var i=r.target.aggregation;var a={source:{id:t.getId(),aggregation:o,type:e.getControlType(t)},target:{id:n.getId(),aggregation:i,type:e.getControlType(n)},movedElements:r.movedElements};return a};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/PropertyBindingChange", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t){"use strict";var n={};n.applyChange=function(e,t,n){var r=e.getContent();var i=r.property;var o=r.newBinding;var a=n.modifier;return Promise.resolve().then(a.getPropertyBindingOrProperty.bind(a,t,i)).then(function(n){e.setRevertData({originalValue:n});a.setPropertyBinding(t,i,o)})};n.revertChange=function(t,n,r){var i=t.getRevertData();if(i){var o=t.getContent();var a=o.property;var s=i.originalValue;var p=r.modifier;p.setPropertyBindingOrProperty(n,a,s);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}};n.completeChangeContent=function(e,t){if(!t.content){throw new Error("oSpecificChangeInfo attribute required")}e.setContent(t.content)};n.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:e.getContent().property}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/PropertyChange", ["sap/ui/fl/Utils","sap/ui/fl/changeHandler/condenser/Classification","sap/base/Log","sap/base/util/isPlainObject"],function(e,t,n,r){"use strict";var i={};function a(t){return e.isBinding(t)||r(t)}function o(e,t,n,r){try{if(a(n)){r.setPropertyBinding(e,t,n)}else{r.setProperty(e,t,n)}}catch(e){throw new Error("Applying property changes failed: "+e)}}i.applyChange=function(e,t,n){var r=e.getContent();var i=r.property;var a=r.newValue;var s=n.modifier;return Promise.resolve().then(s.getPropertyBindingOrProperty.bind(s,t,i)).then(function(n){e.setRevertData({originalValue:n});o(t,i,a,s)})};i.revertChange=function(e,t,r){var i=e.getRevertData();if(i){var a=e.getContent();var s=a.property;var c=i.originalValue;var p=r.modifier;o(t,s,c,p);e.resetRevertData()}else{n.error("Attempt to revert an unapplied change.")}};i.completeChangeContent=function(e,t){if(!t.content){throw new Error("oSpecificChangeInfo attribute required")}e.setContent(t.content)};i.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:e.getContent().property}};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/StashControl", ["sap/ui/fl/LayerUtils","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,n,t){"use strict";var r={};r.applyChange=function(n,t,r){var i;var a=r.modifier;return Promise.resolve().then(a.getStashed.bind(a,t)).then(function(e){i=e;return a.findIndexInParentAggregation(t)}).then(function(r){this.setChangeRevertData(n,i,r);if(e.isDeveloperLayer(n.getLayer())){return a.setStashed(t,true)}return a.setVisible(t,false)}.bind(this))};function i(e,n,t,r){var i;if(e!==n.originalIndex){var a=r.getParent(t);return Promise.return().then(r.getParentAggregationName.bind(r,t)).then(function(e){i=e;return r.removeAggregation(a,i,t)}).then(r.insertAggregation.bind(r,a,i,t,n.originalIndex))}return Promise.resolve()}r.revertChange=function(n,t,r){var a=n.getRevertData();var o=r.modifier;return Promise.resolve().then(function(){if(e.isDeveloperLayer(n.getLayer())){var s=o.setStashed(t,a.originalValue,r.appComponent);if(s){return Promise.resolve().then(o.findIndexInParentAggregation.bind(o,s)).then(function(e){return i(e,a,s,o)})}return Promise.resolve()}return o.setVisible(t,!a.originalValue)}).then(function(){n.resetRevertData()})};r.completeChangeContent=function(){};r.setChangeRevertData=function(e,n,t){e.setRevertData({originalValue:n,originalIndex:t})};r.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:n.Reverse,uniqueKey:"stashed"}};r.getChangeVisualizationInfo=function(e,n){var r=e.getSelector();var i=t.bySelector(r,n);return{affectedControls:[r],displayControls:[i.getParent().getId()]}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/UnhideControl", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t){"use strict";var n="visible";var r={};r.applyChange=function(e,t,r){var i=r.modifier;return Promise.resolve().then(i.getProperty.bind(i,t,n)).then(function(n){e.setRevertData({originalValue:n});r.modifier.setVisible(t,true)})};r.revertChange=function(t,n,r){var i=t.getRevertData();if(i){r.modifier.setVisible(n,i.originalValue);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}};r.completeChangeContent=function(){};r.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.Reverse,uniqueKey:n}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/UnstashControl", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";var n={};n.applyChange=function(e,n,t){var r=e.getContent();var a=t.modifier;var i=false;var o;return Promise.resolve().then(a.getStashed.bind(a,n)).then(function(s){e.setRevertData({originalValue:s});o=a.setStashed(n,i,t.appComponent)||n;if(r.parentAggregationName){var g=r.parentAggregationName;var u=a.getParent(o);return Promise.resolve().then(a.removeAggregation.bind(a,u,g,o)).then(a.insertAggregation.bind(a,u,g,o,r.index,t.view))}return undefined}).then(function(){return o})};n.revertChange=function(e,n,t){var r=e.getRevertData();t.modifier.setStashed(n,r.originalValue);e.resetRevertData()};n.completeChangeContent=function(e,n){if(n.content){e.setContent(n.content)}};n.getCondenserInfo=function(n){return{affectedControl:n.getSelector(),classification:e.Reverse,uniqueKey:"stashed"}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/common/revertAddedControls", ["sap/ui/fl/Utils"],function(e){"use strict";return function(t,r,n){var o=n.modifier;var i=t.getContent().targetAggregation;var a=n.view||e.getViewForControl(r);var u=n.appComponent;var g=t.getRevertData()||[];return g.reduce(function(e,t){return e.then(function(){var e;if(typeof t==="string"){e=t}else{e=t.id;i=i||t.aggregationName}return o.bySelector(e,u,a)||a&&a.createId&&o.bySelector(a.createId(e))}).then(function(e){if(e.destroy){return e.destroy()}return o.removeAggregation(r,i,e)})},Promise.resolve()).then(function(){t.resetRevertData()})}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/condenser/Classification", [],function(){"use strict";return{LastOneWins:"lastOneWins",Reverse:"reverse",Move:"move",Create:"create",Destroy:"destroy",Update:"update"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/Storage", ["sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/initial/_internal/StorageResultMerger","sap/ui/fl/initial/_internal/storageResultDisassemble","sap/ui/fl/write/api/Version","sap/ui/fl/Utils","sap/ui/fl/write/_internal/FlexInfoSession"],function(e,n,r,t,i,a){"use strict";function l(e,n,r){if(!n.layers||n.layers[0]!=="ALL"&&n.layers.indexOf("CUSTOMER")===-1){delete e.version;return e}if(o(r.reference)){e.allContexts=true}if(r.version!==undefined){e.version=r.version;return e}var a=i.getUrlParameter(t.UrlParameter);if(a===null){delete e.version}else{e.version=parseInt(a)}return e}function o(e){var n=a.getByReference(e);return n&&n.initialAllContexts}function s(n,r){var t=r.map(function(r){var t=Object.assign({},n,{url:r.url,path:r.path});t=l(t,r,n);return r.loadConnectorModule.loadFlexData(t).then(function(n){return n||e.getEmptyFlexDataResponse()}).catch(e.logAndResolveDefault.bind(undefined,e.getEmptyFlexDataResponse(),r,"loadFlexData"))});return Promise.all(t)}function u(e){var n=[];e.forEach(function(e){if(Array.isArray(e)){n=n.concat(e)}else{n.push(e)}});return n}function f(e){return e.map(function(e){return r(e)})}function c(e){return Promise.resolve(e).then(u).then(f).then(u).then(n.merge)}function d(n){return e.getStaticFileConnector().then(s.bind(this,n))}var p={};p.completeFlexData=function(e){if(!e||!e.reference){return Promise.reject("No reference was provided")}return Promise.all([d(e),e.partialFlexData]).then(c)};p.loadFlexData=function(n){if(!n||!n.reference){return Promise.reject("No reference was provided")}return e.getLoadConnectors().then(s.bind(this,n)).then(c)};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/StorageResultMerger", ["sap/base/util/merge","sap/base/util/ObjectPath"],function(n,a){"use strict";var e={};function r(n,e){var r=n.reduce(function(n,r){if(a.get(e,r)){return n.concat(a.get(e,r))}return n},[]);var t=[];return r.filter(function(n){var a=n.fileName;var e=t.indexOf(a)!==-1;if(e){return false}t.push(a);return true})}function t(a){return a.reduce(function(a,e){return n({},a,e.ui2personalization)},{})}function i(n){return n.reduce(function(n,a){return a.cacheKey?n+=a.cacheKey:n},"")||null}e.merge=function(n){var a={appDescriptorChanges:r(n,"appDescriptorChanges"),changes:r(n,"changes"),ui2personalization:t(n),comp:{variants:r(n,"comp.variants"),changes:r(n,"comp.changes"),defaultVariants:r(n,"comp.defaultVariants"),standardVariants:r(n,"comp.standardVariants")},variants:r(n,"variants"),variantChanges:r(n,"variantChanges"),variantDependentControlChanges:r(n,"variantDependentControlChanges"),variantManagementChanges:r(n,"variantManagementChanges"),cacheKey:i(n)};var e=r(n,"info");if(e.length>0){a.info=e[0]}return a};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/StorageUtils", ["sap/base/security/encodeURLParameters","sap/base/Log","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/base/util/isEmptyObject","sap/ui/core/Configuration"],function(n,e,t,r,a,o){"use strict";var i={load:{LrepConnector:"sap/ui/fl/initial/_internal/connectors/LrepConnector",NeoLrepConnector:"sap/ui/fl/initial/_internal/connectors/NeoLrepConnector",PersonalizationConnector:"sap/ui/fl/initial/_internal/connectors/PersonalizationConnector",KeyUserConnector:"sap/ui/fl/initial/_internal/connectors/KeyUserConnector",StaticFileConnector:"sap/ui/fl/initial/_internal/connectors/StaticFileConnector",ObjectStorageConnector:"sap/ui/fl/apply/_internal/connectors/ObjectStorageConnector",JsObjectConnector:"sap/ui/fl/write/_internal/connectors/JsObjectConnector",ObjectPathConnector:"sap/ui/fl/write/_internal/connectors/ObjectPathConnector",LocalStorageConnector:"sap/ui/fl/write/_internal/connectors/LocalStorageConnector",SessionStorageConnector:"sap/ui/fl/write/_internal/connectors/SessionStorageConnector"},write:{LrepConnector:"sap/ui/fl/write/_internal/connectors/LrepConnector",NeoLrepConnector:"sap/ui/fl/write/_internal/connectors/NeoLrepConnector",PersonalizationConnector:"sap/ui/fl/write/_internal/connectors/PersonalizationConnector",KeyUserConnector:"sap/ui/fl/write/_internal/connectors/KeyUserConnector",StaticFileConnector:"sap/ui/fl/write/_internal/connectors/StaticFileConnector",JsObjectConnector:"sap/ui/fl/write/_internal/connectors/JsObjectConnector",ObjectPathConnector:"sap/ui/fl/write/_internal/connectors/ObjectPathConnector",LocalStorageConnector:"sap/ui/fl/write/_internal/connectors/LocalStorageConnector",SessionStorageConnector:"sap/ui/fl/write/_internal/connectors/SessionStorageConnector"}};var c="sap/ui/fl/initial/_internal/connectors/";var s={connector:"StaticFileConnector"};function l(n,e){var t=[];if(!n){t=e}else{t=n.filter(function(n){return e.indexOf(n)!==-1||e[0]==="ALL"})}return t}function u(n,e,t){return t.map(function(n){var t=n.connector;var r;if(!n.loadConnector&&!n.applyConnector&&!n.loadConnector){r=e?i.load[t]:i.write[t]}else if(e){r=n.loadConnector||n.applyConnector}else{r=n.writeConnector||"sap/ui/fl/write/connectors/BaseConnector"}return r})}function p(n,e,t){var r=u(n,e,t);return new Promise(function(n){sap.ui.require(r,function(){Array.from(arguments).forEach(function(n,r){if(!t[r].layers){t[r].layers=n.layers}else{t[r].layers=l(t[r].layers,n.layers)}if(e){t[r].loadConnectorModule=n}else{t[r].writeConnectorModule=n}});n(t)})})}return{getConnectors:function(n,e){var t=o.getFlexibilityServices();var r=[];if(e){r=[s]}r=r.concat(t);return p(n,e,r)},getLoadConnectors:function(){return this.getConnectors(c,true)},getStaticFileConnector:function(){return p(c,true,[s])},logAndResolveDefault:function(n,t,r,a){e.error("Connector ("+t.connector+") failed call '"+r+"': "+a+"\nApplication startup continues without data from this storage.");return n},filterAndSortResponses:function(n){var e=[];Object.keys(n).forEach(function(t){e.push(n[t])});e=e.filter(function(n){return n.changes.length>0||n.appDescriptorChanges.length>0||n.variants.length>0||n.variantChanges.length>0||n.variantManagementChanges.length>0||n.variantDependentControlChanges.length>0||n.comp.variants.length>0||n.comp.changes.length>0||n.comp.defaultVariants.length>0||n.comp.standardVariants.length>0});e.sort(function(n,e){return n.index-e.index});return e},sortFlexObjects:function(n){n.sort(function(n,e){return new Date(n.creation)-new Date(e.creation)})},getGroupedFlexObjects:function(n){this.sortFlexObjects(n);var e={};Object.keys(t).forEach(function(n){e[n]=this.getEmptyFlexDataResponse();e[n].index=r.getLayerIndex(n)}.bind(this));n.forEach(function(n){var t=n.layer;if(n.fileType==="ctrl_variant"&&n.variantManagementReference){e[t].variants.push(n)}else if(n.fileType==="ctrl_variant_change"){e[t].variantChanges.push(n)}else if(n.fileType==="ctrl_variant_management_change"){e[t].variantManagementChanges.push(n)}else if(n.fileType==="variant"){e[t].comp.variants.push(n)}else if(n.fileType==="change"){if(n.variantReference){e[t].variantDependentControlChanges.push(n)}else if(n.appDescriptorChange){e[t].appDescriptorChanges.push(n)}else{switch(n.changeType){case"addFavorite":case"removeFavorite":case"updateVariant":e[t].comp.changes.push(n);break;case"defaultVariant":e[t].comp.defaultVariants.push(n);break;case"standardVariant":e[t].comp.standardVariants.push(n);break;default:e[t].changes.push(n)}}}});return e},getEmptyFlexDataResponse:function(){return Object.assign({},{appDescriptorChanges:[],changes:[],comp:{variants:[],changes:[],defaultVariants:[],standardVariants:[]},variants:[],variantChanges:[],variantDependentControlChanges:[],variantManagementChanges:[],ui2personalization:{}})},isStorageResponseFilled:function(n){return Object.keys(n||{}).some(function(e){if(Array.isArray(n[e])){return n[e].length!==0}return!a(n[e])})}}});
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration", ["sap/ui/core/Core","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/changeHandler/AddXML","sap/ui/fl/changeHandler/AddXMLAtExtensionPoint","sap/ui/fl/changeHandler/HideControl","sap/ui/fl/changeHandler/MoveControls","sap/ui/fl/changeHandler/MoveElements","sap/ui/fl/changeHandler/PropertyBindingChange","sap/ui/fl/changeHandler/PropertyChange","sap/ui/fl/changeHandler/StashControl","sap/ui/fl/changeHandler/UnhideControl","sap/ui/fl/changeHandler/UnstashControl"],function(e,n,a,r,t,i,o,s,l,d,h,g){"use strict";var f={hideControl:t,moveElements:o,moveControls:i,stashControl:d,unhideControl:h,unstashControl:g};var u={addXML:a,addXMLAtExtensionPoint:r,propertyBindingChange:s,propertyChange:l};var c={};function C(e,n){c[e]=n;n.catch(function(){}).then(function(){delete c[e]})}function p(e){return n.registerChangeHandlersForLibrary(e)}function H(e){if(e.getParameter("operation")==="add"){var n=e.getParameter("metadata");var a=n.sName;var r=n&&n.extensions&&n.extensions.flChangeHandlers;if(r){var t=p(r);C(a,t)}}}var v={getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs:function(){var n=e.getLoadedLibraries();e.attachLibraryChanged(H);var a=[];Object.values(n).forEach(function(e){if(e.extensions&&e.extensions.flChangeHandlers){a.push(p(e.extensions.flChangeHandlers))}});return Promise.all(a)},waitForChangeHandlerRegistration:function(e){if(c[e]){return c[e].catch(function(){})}return Promise.resolve()},registerPredefinedChangeHandlers:function(){n.registerPredefinedChangeHandlers(f,u)}};return v});
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage", ["sap/base/util/each","sap/base/Log","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/requireAsync"],function(e,n,r,a,t){"use strict";var o={};var i={};var l={};var s={};function u(e){if(!e.changeHandler){n.error("sap.ui.fl.registry.ChangeRegistryStorage: changeHandler required");return false}return true}function f(e){if(typeof e.changeHandler==="string"){return t(e.changeHandler.replace(/\./g,"/")).then(function(n){e.changeHandler=n;return e.changeHandler})}return e.changeHandler}function c(e,n){var r={};if(!n||!n.changeHandler){r.changeHandler=n}else{r=n}if(r.changeHandler==="default"){r.changeHandler=s.defaultChangeHandlers[e]}else if(Object.keys(s.developerChangeHandlers||{}).includes(e)){throw Error("You can't use a custom change handler for the following Developer Mode change type: "+e+". Please use 'default' instead.")}return r}function g(n){l={};e(n,function(e,n){var r={controlType:"defaultActiveForAll",changeHandler:n,layers:a.getDeveloperModeLayerPermissions(),changeType:e};l[e]=r})}function h(n,r,t){t=c(r,t);var o=Object.assign({},a.getDefaultLayerPermissions());if(t.layers){e(t.layers,function(e,n){if(o[e]===undefined){throw Error("The Layer '"+e+"' is not supported. Please only use supported layers")}o[e]=n})}var i={controlType:n,changeHandler:t.changeHandler,layers:o,changeType:r};return u(i)?i:undefined}function d(e,n,r){var a=h(e,n,r);if(a){i[e]=i[e]||{};i[e][n]=a}}function y(r,a){var o=Promise.resolve(a);var i="ChangeHandlerStorage.registerChangeHandlersForControl.skip_next_then";if(typeof a==="string"){o=t(a+".flexibility").catch(function(e){n.error("Flexibility change handler registration failed.\nControlType: "+r+"\n"+e.message);return Promise.resolve(i)})}return o.then(function(n){if(n!==i){e(n,function(e,n){d(r,e,n)})}}).catch(function(e){n.error(e.message)})}function p(e,n,a){var t=i[e]&&i[e][n]||l[n];if(!t){throw Error("No Change handler registered for the Control and Change type")}a=a===r.PUBLIC?r.USER:a;if(!t.layers[a]){throw Error("Change type "+n+" not enabled for layer "+a)}return t}function v(e,r,a,o){var i=o.getChangeHandlerModulePath(a);if(typeof i!=="string"){return Promise.resolve(undefined)}return t(i).then(function(n){var a=n[e];if(a){return h(r,e,a)}}).catch(function(e){n.error("Flexibility registration for control "+o.getId(a)+" failed to load module "+i+"\n"+e.message)})}o.getChangeHandler=function(e,n,r,a,t){return v(e,n,r,a).then(function(r){var a=r||p(n,e,t);return f(a)}).then(function(e){if(typeof e.completeChangeContent!=="function"||typeof e.applyChange!=="function"||typeof e.revertChange!=="function"){throw new Error("The ChangeHandler is either not available or does not have all required functions")}return e})};o.registerPredefinedChangeHandlers=function(e,n){s.defaultChangeHandlers=e;s.developerChangeHandlers=n;g(n)};o.registerChangeHandlersForLibrary=function(n){var r=[];e(n,function(e,n){r.push(y(e,n))});return Promise.all(r)};o.clearAll=function(){i={};l={};s={}};o.registerChangeHandlersForControl=function(e,n){return y(e,n)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/storageResultDisassemble", ["sap/ui/fl/initial/_internal/StorageUtils","sap/base/util/merge","sap/base/util/isEmptyObject"],function(a,e,n){"use strict";function t(a,e){if(e.content.fileName!==e.content.variantManagementReference){a.push(e.content)}e.controlChanges.forEach(function(e){a.push(e)});for(var n in e.variantChanges){a=a.concat(e.variantChanges[n])}return a}function r(a){var e=true;if(a){Object.keys(a).some(function(n){if(a[n].length){e=false;return true}})}return e}return function(i){var s;if(!n(i.variantSection)){s=i.changes||[];for(var c in i.variantSection){var o=i.variantSection[c];for(var u in o.variantManagementChanges){s=s.concat(o.variantManagementChanges[u])}s=o.variants.reduce(t,s)}var f=a.getGroupedFlexObjects(s);var v=a.filterAndSortResponses(f);delete i.changes;delete i.variantSection;e(v[0]||{},i);return v}if(r(i.comp)){s=i.changes||[];i.comp={variants:[],changes:[],defaultVariants:[],standardVariants:[]};s.slice().reverse().forEach(function(a,e,n){var t=false;if(a.fileType==="variant"){i.comp.variants.unshift(a);t=true}else{switch(a.changeType){case"addFavorite":case"removeFavorite":case"updateVariant":i.comp.changes.unshift(a);t=true;break;case"defaultVariant":i.comp.defaultVariants.unshift(a);t=true;break;case"standardVariant":i.comp.standardVariants.unshift(a);t=true;break;default:break}}if(t){var r=n.length-1-e;i.changes.splice(r,1)}})}return[i]}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/library", ["sap/ui/fl/apply/_internal/preprocessors/RegistrationDelegator","sap/ui/fl/Utils","sap/ui/fl/Layer","sap/ui/fl/Scenario","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/core/Configuration","sap/ui/core/library","sap/m/library"],function(e,i,a,r,s,n){"use strict";var l=sap.ui.getCore().initLibrary({name:"sap.ui.fl",version:"1.115.1",controls:["sap.ui.fl.variants.VariantManagement","sap.ui.fl.util.IFrame"],dependencies:["sap.ui.core","sap.m"],designtime:"sap/ui/fl/designtime/library.designtime",extensions:{flChangeHandlers:{"sap.ui.fl.util.IFrame":"sap/ui/fl/util/IFrame"},"sap.ui.support":{publicRules:true}}});l.condenser={Classification:s};l.Scenario=r;e.registerAll();function t(){var e=i.getUshellContainer();if(e){return e.getLogonSystem().isTrial()}return false}if(t()){n.setFlexibilityServices([{connector:"LrepConnector",url:"/sap/bc/lrep",layers:[]},{connector:"LocalStorageConnector",layers:[a.CUSTOMER,a.PUBLIC,a.USER]}])}return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/registry/Settings", ["sap/ui/fl/write/_internal/Storage","sap/ui/fl/Utils","sap/base/Log","sap/base/util/UriParameters"],function(t,e,n,r){"use strict";function o(t){if(t&&t.logonUser){return Promise.resolve(t.logonUser)}var r=e.getUshellContainer();if(r){return e.getUShellService("UserInfo").then(function(t){var e=t.getUser();return e&&e.getId()}).catch(function(t){n.error("Error getting service from Unified Shell: "+t.message)})}return Promise.resolve()}var i=function(t){if(!t){throw new Error("no flex settings provided")}this._oSettings=t};i.attachEvent=function(t,e){i._oEventProvider.attachEvent(t,e)};i.detachEvent=function(t,e){i._oEventProvider.detachEvent(t,e)};i.getInstance=function(){if(i._instance){return Promise.resolve(i._instance)}if(i._oLoadSettingsPromise){return i._oLoadSettingsPromise}return i._loadSettings()};i._loadSettings=function(){var e;var r=t.loadFeatures().then(function(t){e=t;return o(e)}).then(function(t){if(!e){n.error("The request for flexibility settings failed; A default response is generated and returned to consuming APIs");e={isKeyUser:false,isKeyUserTranslationEnabled:false,isVariantSharingEnabled:false,isVariantPersonalizationEnabled:true,isAtoAvailable:false,isAtoEnabled:false,isAppVariantSaveAsEnabled:false,isContextSharingEnabled:true,isContextBasedAdaptationEnabled:false,isCondensingEnabled:false,isProductiveSystem:true,isPublicLayerAvailable:false,isLocalResetEnabled:false,isVariantAdaptationEnabled:false,versioning:{},_bFlexChangeMode:false,_bFlexibilityAdaptationButtonAllowed:false}}e.userId=t;return i._storeInstance(e)});i._oLoadSettingsPromise=r;return r};i._storeInstance=function(t){if(!i._instance){i._instance=new i(t)}return i._instance};i.getInstanceOrUndef=function(){return i._instance};i.getDefaultLayerPermissions=function(){return{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:true,PUBLIC:false,USER:false}};i.getDeveloperModeLayerPermissions=function(){return{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:false,PUBLIC:false,USER:false}};i.prototype._getBooleanProperty=function(t){return this._oSettings[t]||false};i.prototype.isKeyUser=function(){return this._getBooleanProperty("isKeyUser")};i.prototype.isKeyUserTranslationEnabled=function(){return this._getBooleanProperty("isKeyUserTranslationEnabled")};i.prototype.isPublicLayerAvailable=function(){return this._getBooleanProperty("isPublicLayerAvailable")};i.prototype.isVariantAdaptationEnabled=function(){return this._getBooleanProperty("isVariantAdaptationEnabled")};i.prototype.isAppVariantSaveAsEnabled=function(){return!this.isContextBasedAdaptationEnabled()&&this._getBooleanProperty("isAppVariantSaveAsEnabled")};i.prototype.isContextBasedAdaptationEnabled=function(){var t=r.fromQuery(window.location.search);var e=t.get("sap-ui-xx-rta-adaptations");return e==="true"||this._getBooleanProperty("isContextBasedAdaptationEnabled")};i.prototype.isVersioningEnabled=function(t){return!!(this._oSettings.versioning[t]||this._oSettings.versioning["ALL"])};i.prototype.isModelS=function(){return this._getBooleanProperty("isAtoAvailable")};i.prototype.isAtoEnabled=function(){return this._getBooleanProperty("isAtoEnabled")};i.prototype.isAtoAvailable=function(){return this._getBooleanProperty("isAtoAvailable")};i.prototype.isProductiveSystem=function(){return this._getBooleanProperty("isProductiveSystem")};i.prototype.isVariantSharingEnabled=function(){return this._getBooleanProperty("isVariantSharingEnabled")};i.prototype.isPublicFlVariantEnabled=function(){return this._getBooleanProperty("isPublicFlVariantEnabled")};i.prototype.isContextSharingEnabled=function(){return this._getBooleanProperty("isContextSharingEnabled")};i.prototype.isVariantPersonalizationEnabled=function(){return this._getBooleanProperty("isVariantPersonalizationEnabled")};i.prototype.isCondensingEnabled=function(){return this._getBooleanProperty("isCondensingEnabled")};i.prototype.hasPersoConnector=function(){return this._getBooleanProperty("hasPersoConnector")};i.prototype.isSystemWithTransports=function(){return!!(this._oSettings.system&&this._oSettings.client)};i.prototype.isPublishAvailable=function(){return!!this._oSettings.isPublishAvailable};i.prototype.isProductiveSystemWithTransports=function(){return this.isProductiveSystem()&&this.isSystemWithTransports()};i.prototype.isLocalResetEnabled=function(){return this._getBooleanProperty("isLocalResetEnabled")};i.prototype.getSystem=function(){return this._oSettings.system};i.prototype.getClient=function(){return this._oSettings.client};i.prototype._getHostname=function(){return document.location.hostname};i.prototype.isCustomerSystem=function(){var t=this._oSettings.systemType;var e={CUSTOMER:true,SAP:false}[t];var n=this._getHostname();return e!==undefined?e:!(n==="localhost"||n==="127.0.0.1")};i.prototype.getUserId=function(){return this._oSettings.userId};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/requireAsync", [],function(){"use strict";return function(n){return new Promise(function(i,u){sap.ui.require([n],function(n){i(n)},function(n){u(n)})})}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/util/ManagedObjectModel", ["sap/ui/core/Element","sap/ui/model/base/ManagedObjectModel"],function(e,t){"use strict";function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}var i=e.extend("sap.ui.fl.util.ManagedObjectModel",{metadata:{library:"sap.ui.fl",properties:{data:{type:"object"},name:{type:"string",defaultValue:"$sap.ui.fl.ManagedObjectModel"}},associations:{object:{type:"sap.ui.core.Element"}}},constructor:function(){e.apply(this,arguments);this._oManagedObjectModel=new t(sap.ui.getCore().byId(this.getObject()),this.getData());["data","name","object"].forEach(function(e){this["set"+a(e)]=function(){throw new Error("sap.ui.fl.util.ManagedObjectModel: Can't change the value of `"+e+"` after the object is initialized. Please recreate the object with correct values in the constructor.")}},this)}});i.prototype.setParent=function(t){var a=this.getParent();if(a){a.setModel(null,this.getName())}if(t){t.setModel(this._oManagedObjectModel,this.getName())}e.prototype.setParent.apply(this,arguments)};i.prototype.exit=function(){this._oManagedObjectModel.destroy()};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/variants/VariantManagement", ["sap/ui/model/Context","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/VariantItem","sap/m/VariantManagement","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/fl/registry/Settings","sap/ui/core/Control","sap/ui/core/library","sap/base/Log"],function(t,e,a,n,i,o,r,s,l,h){"use strict";var p=l.TitleLevel;var c=s.extend("sap.ui.fl.variants.VariantManagement",{metadata:{interfaces:["sap.ui.core.IShrinkable","sap.m.IOverflowToolbarContent","sap.m.IToolbarInteractiveControl"],library:"sap.ui.fl",designtime:"sap/ui/fl/designtime/variants/VariantManagement.designtime",properties:{updateVariantInURL:{type:"boolean",group:"Misc",defaultValue:false},resetOnContextChange:{type:"boolean",group:"Misc",defaultValue:true},modelName:{type:"string",group:"Misc",defaultValue:""},editable:{type:"boolean",group:"Misc",defaultValue:true},showSetAsDefault:{type:"boolean",group:"Misc",defaultValue:true},manualVariantKey:{type:"boolean",group:"Misc",defaultValue:false},inErrorState:{type:"boolean",group:"Misc",defaultValue:false},executeOnSelectionForStandardDefault:{type:"boolean",group:"Misc",defaultValue:false},displayTextForExecuteOnSelectionForStandardVariant:{type:"string",group:"Misc",defaultValue:""},headerLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:p.Auto},titleStyle:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:p.Auto},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}},events:{initialized:{},save:{parameters:{name:{type:"string"},overwrite:{type:"boolean"},key:{type:"string"},execute:{type:"boolean"},public:{type:"boolean"},def:{type:"boolean"},tile:{type:"boolean"}}},cancel:{},manage:{parameters:{renamed:{type:"object[]"},deleted:{type:"string[]"},exe:{type:"object[]"},def:{type:"string"}}},select:{parameters:{key:{type:"string"}}}},associations:{for:{type:"sap.ui.core.Control",multiple:true}},aggregations:{_embeddedVM:{type:"sap.m.VariantManagement",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.style("max-width",e.getMaxWidth());t.openEnd();t.renderControl(e._oVM);t.close("div")}}});c.prototype.init=function(){s.prototype.init.apply(this);this.addStyleClass("sapUiFlVarMngmt");this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.fl");this.setModelName(o.getVariantModelName());this.attachModelContextChange(this._setModel,this);this._oVM=new i(this.getId()+"-vm");this.setAggregation("_embeddedVM",this._oVM,true);this._aCancelEventHandlers=[];this._aSaveEventHandlers=[];this._aManageEventHandlers=[];this._aSelectEventHandlers=[];this._oVM.attachManage(this._fireManage,this);this._oVM.attachCancel(this._fireCancel,this);this._oVM.attachSave(this._fireSave,this);this._oVM.attachSelect(this._fireSelect,this);this._updateWithSettingsInfo()};c.prototype.getOverflowToolbarConfig=function(){return{canOverflow:false,invalidationEvents:["save","manage","select"]}};c.prototype.attachCancel=function(t,e,a){this.attachEvent("cancel",t,e,a);return this};c.prototype._findCallback=function(t,e,a){var n=-1;t.some(function(t,i){if(t.fCallback===e&&t.oObj===a){n=i}return n>=0});return n};c.prototype.detachCancel=function(t,e){var a=this._findCallback(this._aCancelEventHandlers,t,e);if(a>=0){this.detachEvent("cancel",t,e);this._aCancelEventHandlers.splice(a,1)}return this};c.prototype.fireManage=function(t){this._oVM.fireManage(t)};c.prototype.fireSave=function(t){this._oVM.fireSave(t)};c.prototype._fireCancel=function(t){for(var e=0;e<this._aCancelEventHandlers.length;e++){t.oSource=this;this._aCancelEventHandlers[e].fCallbackBound(t,this._aCancelEventHandlers[e].mProps)}};c.prototype.attachSave=function(t,e,a){this.attachEvent("save",t,e,a);return this};c.prototype.detachSave=function(t,e){var a=this._findCallback(this._aSaveEventHandlers,t,e);if(a>-1){this.detachEvent("save",t,e);this._aSaveEventHandlers.splice(a,1)}return this};c.prototype._fireSave=function(t){this._handleAllListeners(t,this._aSaveEventHandlers)};c.prototype.hasListeners=function(t){var e=["save","select","cancel","manage"];if(e.indexOf(t)>-1){var a=null;if(t==="select"){a=this._aSelectEventHandlers}else if(t==="save"){a=this._aSaveEventHandlers}else if(t==="manage"){a=this._aManageEventHandlers}else if(t==="cancel"){a=this._aCancelEventHandlers}return a.length>0}return s.prototype.hasListeners.apply(this,arguments)};c.prototype.attachEvent=function(t,e,a,n){var i=["save","select","cancel","manage"];if(i.indexOf(t)>-1){var o=null;var r=a;if(typeof e==="function"){r=e;n=a;e=undefined}n=n===this?undefined:n;if(t==="select"){o=this._aSelectEventHandlers}else if(t==="save"){o=this._aSaveEventHandlers}else if(t==="manage"){o=this._aManageEventHandlers}else if(t==="cancel"){o=this._aCancelEventHandlers}o.push({fCallback:r,fCallbackBound:n?r.bind(n):r,oObj:n,mProps:e})}else{s.prototype.attachEvent.apply(this,arguments)}};c.prototype.attachEventOnce=function(t,e,a,n){var i;if(t==="manage"){i=this._findCallback(this._aManageEventHandlers,a,n);if(i>-1&&this._aManageEventHandlers[i].bOnce){this._aManageEventHandlers.splice(i,1)}this.attachManage(e,a,n);i=this._findCallback(this._aManageEventHandlers,a,n);if(i>-1){this._aManageEventHandlers[i].bOnce=true}}else if(t==="save"){i=this._findCallback(this._aSaveEventHandlers,a,n);if(i>-1&&this._aSaveEventHandlers[i].bOnce){this._aSaveEventHandlers.splice(i,1)}this.attachSave(e,a,n);i=this._findCallback(this._aSaveEventHandlers,a,n);if(i>-1){this._aSaveEventHandlers[i].bOnce=true}}else if(t==="select"){i=this._findCallback(this._aSelectEventHandlers,a,n);if(i>-1&&this._aSelectEventHandlers[i].bOnce){this._aSelectEventHandlers.splice(i,1)}this.attachSelect(e,a,n);i=this._findCallback(this._aSelectEventHandlers,a,n);if(i>-1){this._aSelectEventHandlers[i].bOnce=true}}else{s.prototype.attachEventOnce.apply(this,arguments)}};c.prototype.attachManage=function(t,e,a){this.attachEvent("manage",t,e,a);return this};c.prototype._handleAllListeners=function(t,e){var a=0;var n=[];while(a<e.length){t.oSource=this;e[a].fCallbackBound(t,e[a].mProps);if(e[a]){if(e[a].hasOwnProperty("bOnce")&&e[a].bOnce){n.push(a)}a+=1}}for(a=n.length-1;a>-1;a--){e.splice(n[a],1)}};c.prototype._fireManage=function(t){this._handleAllListeners(t,this._aManageEventHandlers)};c.prototype.detachManage=function(t,e){var a=this._findCallback(this._aManageEventHandlers,t,e);if(a>-1){this.detachEvent("manage",t,e);this._aManageEventHandlers.splice(a,1)}return this};c.prototype.attachSelect=function(t,e,a){this.attachEvent("select",t,e,a);return this};c.prototype._fireSelect=function(t){this._handleAllListeners(t,this._aSelectEventHandlers)};c.prototype.detachSelect=function(t,e){var a=this._findCallback(this._aSelectEventHandlers,t,e);if(a>-1){this.detachEvent("select",t,e);this._aSelectEventHandlers.splice(a,1)}return this};c.prototype._createSaveAsDialog=function(){this._oVM._createSaveAsDialog()};c.prototype._handleVariantSaveAs=function(t){this._oVM._handleVariantSaveAs(t)};c.prototype.getFocusDomRef=function(){if(this._oVM){return this._oVM.oVariantPopoverTrigger.getFocusDomRef()}return null};c.prototype.getManageDialog=function(){if(this._oVM){return this._oVM.oManagementDialog}return null};c.prototype.getVariants=function(){var t=[];if(this.oContext&&this.oContext.getObject()){t=this.oContext.getObject().variants.filter(function(t){if(!t.hasOwnProperty("visible")){return true}return t.visible})}return t};c.prototype.getTitle=function(){return this._oVM.getTitle()};c.prototype.refreshTitle=function(){this._oVM.refreshTitle()};c.prototype.setPopoverTitle=function(t){this._oVM.setPopoverTitle(t);return this};c.prototype.setHeaderLevel=function(t){this.setProperty("headerLevel",t);this._oVM.setLevel(t);return this};c.prototype.setTitleStyle=function(t){this.setProperty("titleStyle",t);this._oVM.setTitleStyle(t);return this};c.prototype.setEditable=function(t){this.setProperty("editable",t);this._oVM.setShowFooter(t);return this};c.prototype.setShowExecuteOnSelection=function(t){this._oVM.setSupportApplyAutomatically(t);return this};c.prototype.setShowSetAsDefault=function(t){this.setProperty("showSetAsDefault",t);this._oVM.setSupportDefault(t);return this};c.prototype.setExecuteOnSelectionForStandardDefault=function(t){this.setProperty("executeOnSelectionForStandardDefault",t);this._oVM.setExecuteOnSelectionForStandardDefault(t);return this};c.prototype.setDisplayTextForExecuteOnSelectionForStandardVariant=function(t){this.setProperty("displayTextForExecuteOnSelectionForStandardVariant",t);this._oVM.setDisplayTextForExecuteOnSelectionForStandardVariant(t);return this};c.prototype.setManualVariantKey=function(t){this.setProperty("manualVariantKey",t);this._oVM._setShowManualVariantKey(t);return this};c.prototype.setInErrorState=function(t){this.setProperty("inErrorState",t);this._oVM.setInErrorState(t);return this};c.prototype.openManagementDialog=function(t,e,a){this._oVM.openManagementDialog(t,e,a)};c.prototype.openSaveAsDialogForKeyUser=function(t,e){this._oVM.openSaveAsDialog(t,e)};c.prototype.setEditable=function(t){this._oVM.setProperty("showFooter",t);return this};c.prototype.setCurrentVariantKey=function(t){this._oVM.setSelectedKey(t)};c.prototype.getCurrentVariantKey=function(){return this._oVM.getSelectedKey()};c.prototype.setDefaultVariantKey=function(t){this._oVM.setDefaultKey(t)};c.prototype.getDefaultVariantKey=function(){return this._oVM.getDefaultKey()};c.prototype.enteringDesignMode=function(){this._oVM.setDesignMode(true)};c.prototype.leavingDesignMode=function(){this._oVM.setDesignMode(false)};c.prototype.getModified=function(){return this._oVM.getModified()};c.prototype.setModified=function(t){this._oVM.setModified(t)};c.prototype.getStandardVariantKey=function(){return this._oVM.getStandardVariantKey()};c.prototype._getEmbeddedVM=function(){return this._oVM};c.prototype._updateWithSettingsInfo=function(){r.getInstance().then(function(t){if(this._oVM){this._oVM.setShowSaveAs(t.isVariantPersonalizationEnabled());this._oVM.setSupportPublic(t.isPublicFlVariantEnabled())}}.bind(this)).catch(function(t){h.error(t)})};c.prototype.getModelName=function(){return this.getProperty("modelName")};c.prototype.setModelName=function(t){if(this.getModelName()){this.oContext=null;this._aCancelEventHandlers=[];this._aSaveEventHandlers=[];this._aManageEventHandlers=[];this._aSelectEventHandlers=[]}this.setProperty("modelName",t);return this};c.prototype.reinitialize=function(){this.oContext=null;this._setModel()};c.prototype._setModel=function(){this._setBindingContext()};c.prototype._setBindingContext=function(){var e;var a;var n=this.getModelName();if(!this.oContext){e=this.getModel(n);if(e){a=this._getLocalId(e);if(a){this.oContext=new t(e,"/"+a);this.setBindingContext(this.oContext,n);if(e.registerToModel){e.registerToModel(this)}this.fireInitialized();this._oVM.setModel(e,n);this._oVM.setSupportDefault(true);this._createItemsModel(n);this._oVM.bindProperty("selectedKey",{path:this.oContext+"/currentVariant",model:n});this._oVM.bindProperty("defaultKey",{path:this.oContext+"/defaultVariant",model:n});this._oVM.bindProperty("modified",{path:this.oContext+"/modified",model:n});this._oVM.bindProperty("supportFavorites",{path:this.oContext+"/showFavorites",model:n});this._oVM.bindProperty("supportApplyAutomatically",{path:this.oContext+"/showExecuteOnSelection",model:n});this._oVM.bindProperty("showFooter",{path:this.oContext+"/variantsEditable",model:n});this._oVM.setPopoverTitle(this._oRb.getText("VARIANT_MANAGEMENT_VARIANTS"))}}}};c.prototype._createItemsModel=function(t){var i=new n({key:"{"+t+">key}",title:"{"+t+">title}",sharing:"{"+t+">sharing}",remove:"{"+t+">remove}",favorite:"{"+t+">favorite}",originalFavorite:"{"+t+">originalFavorite}",executeOnSelect:"{"+t+">executeOnSelect}",originalExecuteOnSelect:"{"+t+">originalExecuteOnSelect}",rename:"{"+t+">rename}",originalTitle:"{"+t+">originalTitle}",visible:"{"+t+">visible}",changeable:"{"+t+">change}",author:"{"+t+">author}",contexts:"{"+t+">contexts}",originalContexts:"{"+t+">originalContexts}"});this._oVM.bindAggregation("items",{path:this.oContext+"/variants",model:t,template:i,filters:new e({path:"visible",operator:a.EQ,value1:true})})};c.prototype._getLocalId=function(t){var e=this.getModelName();if(!e){return null}if(e!==o.getVariantModelName()){return this.getId()}return t.getVariantManagementReferenceForControl(this)};c.prototype._getInnerItems=function(){var t=[];if(this.oContext&&this.oContext.getObject()){t=this.oContext.getObject().variants.filter(function(t){if(!t.hasOwnProperty("visible")){return true}return t.visible})}return t};c.prototype._getInnerItemByKey=function(t){var e=null;var a=this._getInnerItems();a.some(function(a){if(a.key===t){e=a}return e!==null});return e};c.prototype.registerApplyAutomaticallyOnStandardVariant=function(t){this._fRegisteredApplyAutomaticallyOnStandardVariant=t;return this};c.prototype.getApplyAutomaticallyOnVariant=function(t){var e=false;if(t){e=t.executeOnSelect;if(this._fRegisteredApplyAutomaticallyOnStandardVariant&&this.getDisplayTextForExecuteOnSelectionForStandardVariant()&&t.key===this._oVM.getStandardVariantKey()){try{e=this._fRegisteredApplyAutomaticallyOnStandardVariant(t)}catch(t){h.error("callback for determination of apply automatically on standard variant failed")}}}return e};c.prototype.exit=function(){this._oVM.detachManage(this._fireManage,this);this._oVM.detachCancel(this._fireCancel,this);this._oVM.detachSelect(this._fireSelect,this);this._oVM.detachSave(this._fireSave,this);s.prototype.exit.apply(this,arguments);this._oVM=undefined;this._fRegisteredApplyAutomaticallyOnStandardVariant=null;this.oContext=undefined;this._oRb=undefined;this._aCancelEventHandlers=undefined;this._aSaveEventHandlers=undefined;this._aManageEventHandlers=undefined;this._aSelectEventHandlers=undefined};c.prototype.addFor=function(t){this.addAssociation("for",t);return this};c.prototype._getToolbarInteractive=function(){return true};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/variants/VariantModel", ["sap/base/util/restricted/_omit","sap/base/util/restricted/_isEqual","sap/base/util/each","sap/base/util/includes","sap/base/util/isEmptyObject","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/BusyIndicator","sap/ui/core/Core","sap/ui/fl/apply/_internal/changes/Reverter","sap/ui/fl/apply/_internal/controlVariants/URLHandler","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexState/controlVariants/Switcher","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/ui/fl/Utils","sap/ui/fl/registry/Settings","sap/ui/fl/write/api/ContextBasedAdaptationsAPI","sap/ui/model/json/JSONModel"],function(e,t,a,n,r,i,o,s,c,l,f,h,u,p,g,d,v,m,C,V,y,R,D){"use strict";var b={};function S(e,t){return F(function(e,t){var a=t.model;var n=t.vmReference;var r=false;var i=o.get([n,"modified"],a.oData);var s=e.key;var c=e.key;return Promise.resolve().then(function(){if(o.get([n,"currentVariant"],a.oData)&&a.oData[n].currentVariant!==a.oData[n].originalCurrentVariant){c=a.oData[n].originalCurrentVariant;r=true;return a.updateCurrentVariant({variantManagementReference:n,newVariantReference:s,appComponent:a.oAppComponent,internallyCalled:true})}}).then(function(){if(i){var e=d.getControlChangesForVariant({reference:a.sFlexReference,vmReference:n,vReference:c});return x({changes:e,vmReference:n,vReference:c,revert:!r,model:a})}return Promise.resolve()}).then(function(){if(!r){a.callVariantSwitchListeners(n,a.oData[n].currentVariant)}})}.bind(null,e.getParameters(),t),t.model)}function x(e){var t=e.model._getDirtyChangesFromVariantChanges(e.changes);t=t.reverse();return Promise.resolve().then(function(){if(e.revert){return h.revertMultipleChanges(t,{appComponent:e.model.oAppComponent,modifier:c,flexController:e.model.oFlexController})}return undefined}).then(function(){t.forEach(function(t){e.model.oFlexController.deleteChange(t)})})}function F(e,t){t._oVariantSwitchPromise=t._oVariantSwitchPromise.catch(function(){}).then(e);t.oFlexController.setVariantSwitchPromise(t._oVariantSwitchPromise);return t._oVariantSwitchPromise}function I(e,t){b[e]=t}function M(e,t){return g.switchVariant(e).then(function(){if(this.oData[e.vmReference].updateVariantInURL){u.updateVariantInURL({vmReference:e.vmReference,newVReference:e.newVReference,model:this})}this.callVariantSwitchListeners(e.vmReference,e.newVReference,undefined,t)}.bind(this))}function P(e){var t=y.getInstanceOrUndef();if(t&&!t.isVariantPersonalizationEnabled()){e.remove=false;e.rename=false;e.change=false}}function E(e){var t=y.getInstanceOrUndef();var a=t&&(t.isKeyUser()||!t.getUserId()||t.isPublicFlVariantEnabled()&&t.getUserId().toUpperCase()===e.author.toUpperCase());e.remove=a;e.rename=a;e.change=a}function U(e,t,a){var n=a?C.getCurrentLayer():m.USER;if(e.layer===n&&e.key!==t){return true}return false}function _(e){return new Promise(function(t){if(e.getDomRef()){t()}else{e.addEventDelegate({onAfterRendering:function(){t()}})}})}function L(){var e=V.getUshellContainer();if(e){var t=[V.getUShellService("UserInfo"),V.getUShellService("URLParsing"),V.getUShellService("CrossApplicationNavigation"),V.getUShellService("ShellNavigation")];return Promise.all(t).then(function(e){I("UserInfo",e[0]);I("URLParsing",e[1]);I("CrossApplicationNavigation",e[2]);I("ShellNavigation",e[3])}).catch(function(e){throw new Error("Error getting service from Unified Shell: "+e)})}}function A(e){e.originalTitle=e.title;e.originalFavorite=e.favorite;e.originalExecuteOnSelect=e.executeOnSelect;e.originalVisible=e.visible;e.originalContexts=e.contexts}function T(e,t){return i({},e.find(function(e){return e.key===t}))}var O=D.extend("sap.ui.fl.variants.VariantModel",{constructor:function(e,t){this.pSequentialImportCompleted=Promise.resolve();D.apply(this,[e]);this.sharing={PRIVATE:"private",PUBLIC:"public"};this.oFlexController=t.flexController;this.oChangePersistence=this.oFlexController._oChangePersistence;this.sFlexReference=this.oChangePersistence.getComponentName();this.oAppComponent=t.appComponent;this._oResourceBundle=f.getLibraryResourceBundle("sap.ui.fl");this._oVariantSwitchPromise=Promise.resolve();this._oVariantAppliedListeners={};this.fnUpdateListener=this.updateData.bind(this);this.oDataSelector=d.getVariantManagementMap();this.oDataSelector.addUpdateListener(this.fnUpdateListener);this.updateData()}});O.prototype.updateData=function(){var e=this.oDataSelector.get({reference:this.sFlexReference});var t=Object.assign({},this.getData());Object.entries(e).forEach(function(e){var a=e[0];var n=Object.assign({},e[1]);if(!t[a]){t[a]={}}t[a].variants=n.variants.map(function(e){var n=(t[a].variants||[]).find(function(t){return t.key===e.key});A(e);return Object.assign({},n||{},e)});t[a].currentVariant=n.currentVariant;t[a].originalCurrentVariant=n.currentVariant;t[a].defaultVariant=n.defaultVariant;t[a].originalDefaultVariant=n.defaultVariant;t[a].modified=n.modified});this.setData(t)};O.prototype.invalidateMap=function(){this.oDataSelector.checkUpdate({reference:this.sFlexReference})};O.prototype.initialize=function(){return Promise.all([y.getInstance(),L()]).then(function(){u.initialize({model:this})}.bind(this))};O.prototype.updateCurrentVariant=function(e){var t={vmReference:e.variantManagementReference,currentVReference:this.oData[e.variantManagementReference].originalCurrentVariant,newVReference:e.newVariantReference,flexController:this.oFlexController,appComponent:e.appComponent||this.oAppComponent,modifier:c,reference:this.sFlexReference};if(e.internallyCalled){return M.call(this,t,e.scenario)}return F(M.bind(this,t,e.scenario),this)};O.prototype.getCurrentVariantReference=function(e){return this.oData[e].currentVariant};O.prototype.getVariantManagementReference=function(e){var t="";var a=-1;Object.keys(this.oData).some(function(n){return this.oData[n].variants.some(function(r,i){if(r.key===e){t=n;a=i;return true}})}.bind(this));return{variantManagementReference:t,variantIndex:a}};O.prototype.getVariant=function(e,t){var a=t||this.getVariantManagementReference(e).variantManagementReference;return T(this.oData[a].variants,e)};O.prototype.getVariantTitle=function(e,t){return T(this.oData[t].variants,e).title};function w(e,t){var a=d.getVariantChangesForVariant({vmReference:e,reference:this.sFlexReference});var n=this.oData[e].defaultVariant;if(t.getExecuteOnSelectionForStandardDefault()&&n===e&&!a.setExecuteOnSelect){var r=T(this.oData[e].variants,e);r.instance.setExecuteOnSelection(true);this.oData[e].variants[0].originalExecuteOnSelect=true;this.oData[e].variants[0].executeOnSelect=true;return true}return false}O.prototype.attachVariantApplied=function(e){var t=f.byId(e.vmControlId);var a=this.getVariantManagementReferenceForControl(t);return this.waitForVMControlInit(a).then(function(e,a){if(!this._oVariantAppliedListeners[e]){this._oVariantAppliedListeners[e]={}}var n=w.call(this,e,t);if(a.callAfterInitialVariant||n){var r={appComponent:this.oAppComponent,reference:this.sFlexReference,vmReference:e,flexController:this.oFlexController};d.waitForInitialVariantChanges(r).then(function(){var t=this.oData[e].currentVariant;this.callVariantSwitchListeners(e,t,a.callback)}.bind(this))}return _(a.control).then(function(){if(v.getRelevantVariantManagementControlId(a.control,this.getVariantManagementControlIds())===a.vmControlId){this.oData[e].showExecuteOnSelection=true;this.checkUpdate(true);this._oVariantAppliedListeners[e][a.control.getId()]=a.callback}else{s.error("Error in attachVariantApplied: The passed VariantManagement ID does not match the responsible VariantManagement control")}}.bind(this))}.bind(this,a,e))};O.prototype.callVariantSwitchListeners=function(e,t,n,r){if(this._oVariantAppliedListeners[e]){var i=T(this.oData[e].variants,t);if(r){i.createScenario=r}if(n){n(i)}else{a(this._oVariantAppliedListeners[e],function(e,t){t(i)})}}};O.prototype.detachVariantApplied=function(e,t){var a=this.getVariantManagementReferenceForControl(f.byId(e));if(this._oVariantAppliedListeners[a]){delete this._oVariantAppliedListeners[a][t]}};O.prototype.eraseDirtyChangesOnVariant=function(e,t){var a=d.getControlChangesForVariant({reference:this.sFlexReference,vmReference:e,vReference:t});var n=this._getDirtyChangesFromVariantChanges(a);return x({changes:a,vmReference:e,vReference:t,model:this,revert:true}).then(function(){return n})};O.prototype.addAndApplyChangesOnVariant=function(e){return e.reduce(function(e,t){return e.then(function(){this.oFlexController.addPreparedChange(t,this.oAppComponent);var e=f.byId(c.getControlIdBySelector(t.getSelector(),this.oAppComponent));return this.oFlexController.applyChange(t,e)}.bind(this))}.bind(this),Promise.resolve())};O.prototype._getVariantTitleCount=function(e,t){var a=this.getData();return a[t].variants.reduce(function(t,a){if(e.toLowerCase()===a.title.toLowerCase()&&a.visible){t++}return t},0)};function k(e,t){var a={id:t.newVariantReference,variantName:t.title,contexts:t.contexts,layer:t.layer,adaptationId:t.adaptationId,reference:e.getFlexObjectMetadata().reference,generator:t.generator,variantManagementReference:t.variantManagementReference};if(t.currentVariantComparison===1){if(t.sourceVariantSource.instance.getLayer()===t.layer){a.variantReference=t.sourceVariantSource.instance.getVariantReference()}else{a.variantReference=e.getVariantReference()}}else if(t.currentVariantComparison===0){a.variantReference=e.getVariantReference()}else if(t.currentVariantComparison===-1){a.variantReference=t.sourceVariantReference}return p.createFlVariant(a)}O.prototype._duplicateVariant=function(t){var a=t.sourceVariantReference;var n=t.variantManagementReference;var r=this.getVariant(a);var o=d.getControlChangesForVariant({vmReference:n,vReference:a,reference:this.sFlexReference}).map(function(e){return e.convertToFileContent()});t.currentVariantComparison=C.compareAgainstCurrentLayer(r.instance.getLayer(),t.layer);if(t.currentVariantComparison===1){t.sourceVariantSource=this.getVariant(r.instance.getVariantReference())}var s={layer:t.layer,control:this.oAppComponent,reference:this.sFlexReference};var c=R.hasAdaptationsModel(s);if(c){t.adaptationId=R.getDisplayedAdaptationId(s)}else{e(t,"adaptationId")}var l={instance:k(r.instance,t),controlChanges:o,variantChanges:{}};o=l.controlChanges.slice();var f={};l.controlChanges=o.reduce(function(e,a){if(C.compareAgainstCurrentLayer(a.layer,t.layer)>=0){f=i({},a);f.layer=t.layer;f.variantReference=l.instance.getId();if(!f.support){f.support={}}f.support.sourceChangeFileName=a.fileName;f.packageName="$TMP";f.fileName=V.createDefaultFileName(f.changeType);e.push(p.createFromFileContent(f))}return e},[]);return l};O.prototype.copyVariant=function(e){var t=this._duplicateVariant(e);t.generator=e.generator;var a=y.getInstanceOrUndef().getUserId()?y.getInstanceOrUndef().getUserId():undefined;if(e.layer===m.VENDOR){a="SAP"}this.oData[e.variantManagementReference].variants.push({key:t.instance.getId(),rename:true,change:true,remove:true,sharing:e.layer===m.USER?this.sharing.PRIVATE:this.sharing.PUBLIC,author:a});var n=[];if(e.layer===m.PUBLIC){t.instance.setFavorite(false);var r={selector:c.getSelector(e.newVariantReference,e.appComponent),changeType:"setFavorite",fileType:"ctrl_variant_change",generator:e.generator,layer:m.USER,content:{favorite:true}};n.push(this.oFlexController.createBaseChange(r,e.appComponent))}[t.instance].concat(t.controlChanges).forEach(function(e){n.push(this.oChangePersistence.addDirtyChange(e))}.bind(this));return this.updateCurrentVariant({variantManagementReference:e.variantManagementReference,newVariantReference:t.instance.getId(),appComponent:e.appComponent,internallyCalled:true,scenario:"saveAs"}).then(function(){return n})};O.prototype.removeVariant=function(e){var t=this.oChangePersistence.getDirtyChanges().filter(function(t){return t.getVariantReference&&t.getVariantReference()===e.variant.getId()||t.getId()===e.variant.getId()});return this.updateCurrentVariant({variantManagementReference:e.variantManagementReference,newVariantReference:e.sourceVariantReference,appComponent:e.component}).then(function(){t.forEach(function(e){this.oChangePersistence.deleteChange(e)}.bind(this))}.bind(this))};O.prototype.collectModelChanges=function(e,a){var n=this.getData()[e];var r=n.variants;var i=[];var o={};var s=y.getInstanceOrUndef();r.forEach(function(e){var n=s&&s.isPublicFlVariantEnabled()&&e.layer===m.PUBLIC?m.PUBLIC:a;if(e.originalTitle!==e.title){o={variantReference:e.key,changeType:"setTitle",title:e.title,originalTitle:e.originalTitle,layer:n};i.push(o)}if(e.originalFavorite!==e.favorite){o={variantReference:e.key,changeType:"setFavorite",favorite:e.favorite,originalFavorite:e.originalFavorite,layer:a};i.push(o)}if(e.originalExecuteOnSelect!==e.executeOnSelect){o={variantReference:e.key,changeType:"setExecuteOnSelect",executeOnSelect:e.executeOnSelect,originalExecuteOnSelect:e.originalExecuteOnSelect,layer:n};i.push(o)}if(!e.visible&&e.originalVisible){o={variantReference:e.key,changeType:"setVisible",visible:false,layer:n};i.push(o)}if(!t(e.originalContexts,e.contexts)){o={variantReference:e.key,changeType:"setContexts",layer:a,contexts:e.contexts,originalContexts:e.originalContexts};i.push(o)}});if(n.originalDefaultVariant!==n.defaultVariant){o={variantManagementReference:e,changeType:"setDefault",defaultVariant:n.defaultVariant,originalDefaultVariant:n.originalDefaultVariant,layer:a};i.push(o)}return i};O.prototype.manageVariants=function(e,t,a,n,r){return new Promise(function(i){e.attachEventOnce("manage",{resolve:i,variantManagementReference:t,layer:a},this.fnManageClickRta,this);e.openManagementDialog(true,n,r)}.bind(this))};O.prototype.addVariantChange=function(e,t){var a=this.setVariantProperties(e,t);var n={};n.changeType=t.changeType;n.layer=t.layer;n.generator=t.generator;var r={layer:t.layer,control:t.appComponent,reference:this.sFlexReference};if(R.hasAdaptationsModel(r)){n.adaptationId=R.getDisplayedAdaptationId(r)}if(t.changeType==="setDefault"){n.fileType="ctrl_variant_management_change";n.selector=c.getSelector(e,t.appComponent)}else{n.fileType="ctrl_variant_change";n.selector=c.getSelector(t.variantReference,t.appComponent)}var i=this.oFlexController.createBaseChange(n,t.appComponent);i.setContent(a);if(t.changeType==="setTitle"){i.setText("title",t.title,"XFLD")}this.oChangePersistence.addDirtyChange(i);return i};O.prototype.deleteVariantChange=function(e,t,a){this.setVariantProperties(e,t);this.oChangePersistence.deleteChange(a)};O.prototype.setVariantProperties=function(e,t){var a=this.getData();var n=this.getVariant(t.variantReference,e).instance;var r={};switch(t.changeType){case"setTitle":n.setName(t.title,true);break;case"setFavorite":r.favorite=t.favorite;n.setFavorite(t.favorite);break;case"setExecuteOnSelect":r.executeOnSelect=t.executeOnSelect;n.setExecuteOnSelection(t.executeOnSelect);break;case"setVisible":r.visible=t.visible;r.createdByReset=false;n.setVisible(t.visible);break;case"setContexts":r.contexts=t.contexts;n.setContexts(t.contexts);break;case"setDefault":r.defaultVariant=t.defaultVariant;var i=u.getStoredHashParams({model:this});if(i){if(a[e].defaultVariant!==a[e].currentVariant&&i.indexOf(a[e].currentVariant)===-1){u.update({parameters:i.concat(a[e].currentVariant),updateURL:!this._bDesignTimeMode,updateHashEntry:true,model:this})}else if(a[e].defaultVariant===a[e].currentVariant&&i.indexOf(a[e].currentVariant)>-1){i.splice(i.indexOf(a[e].currentVariant),1);u.update({parameters:i,updateURL:!this._bDesignTimeMode,updateHashEntry:true,model:this})}}break;default:break}return r};O.prototype._ensureStandardVariantExists=function(t){var a=this.getData();var n=a[t]||{};var i=e(n,["initPromise"]);if(!a[t]||r(i)){var o=p.createFlVariant({id:t,variantManagementReference:t,variantName:this._oResourceBundle.getText("STANDARD_VARIANT_TITLE"),user:v.DEFAULT_AUTHOR,layer:m.BASE,reference:this.sFlexReference});d.addFakeStandardVariant(this.sFlexReference,this.oAppComponent.getId(),t,o)}};O.prototype.setModelPropertiesForControl=function(e,t,a){this.oData[e].showFavorites=true;var n=this._bDesignTimeMode;if(n!==t){this._bDesignTimeMode=t;if(t){u.clearAllVariantURLParameters({model:this})}else if(n){u.update({parameters:u.getStoredHashParams({model:this}),updateURL:true,updateHashEntry:false,model:this})}}if(!(typeof this.fnManageClick==="function"&&typeof this.fnManageClickRta==="function")){this._initializeManageVariantsEvents()}a.detachManage(this.fnManageClick,this);if(t&&this.oData[e]._isEditable){this.oData[e].variantsEditable=false;this.oData[e].variants.forEach(function(a){a.rename=true;a.change=true;a.sharing=this.sharing.PUBLIC;a.remove=U(a,e,t)}.bind(this))}else if(this.oData[e]._isEditable){a.attachManage({variantManagementReference:e},this.fnManageClick,this);this.oData[e].variantsEditable=true;this.oData[e].variants.forEach(function(a){a.remove=U(a,e,t);switch(a.layer){case m.USER:a.rename=true;a.change=true;a.sharing=this.sharing.PRIVATE;P(a);break;case m.PUBLIC:a.sharing=this.sharing.PUBLIC;E(a);break;default:a.rename=false;a.change=false;a.sharing=this.sharing.PUBLIC}}.bind(this))}else{this.oData[e].variantsEditable=false;this.oData[e].variants.forEach(function(e){e.remove=false;e.rename=false;e.change=false})}};O.prototype._initializeManageVariantsEvents=function(){this.fnManageClickRta=function(e,t){var a=this.collectModelChanges(t.variantManagementReference,t.layer);t.resolve(a)};this.fnManageClick=function(e,t){if(!this.oFlexController||!this.getData()){return}var a=this.collectModelChanges(t.variantManagementReference,m.USER);var n=[];a.forEach(function(e){e.appComponent=this.oAppComponent;n.push(this.addVariantChange(t.variantManagementReference,e))}.bind(this));this.oChangePersistence.saveDirtyChanges(this.oAppComponent,false,n)}};function B(e,t,a,n){if(!this._bDesignTimeMode){return e.saveSequenceOfDirtyChanges(t,n).then(function(e){if(e){var t=e.response[0];this.oData[a].variants.forEach(function(e){if(e.key===t.fileName){e.author=t.support.user}})}}.bind(this))}return Promise.resolve()}O.prototype._handleSaveEvent=function(e){if(!this._bDesignTimeMode){var t=e.getSource();var a=e.getParameters();return this._handleSave(t,a)}return Promise.resolve()};O.prototype._handleSave=function(e,t){var a=V.getAppComponentForControl(e);var n=this.getLocalId(e.getId(),a);var r;return F(function(e,t,a){var n=a.def;var i=a.execute;var o=this.getCurrentVariantReference(e);var s=d.getControlChangesForVariant({reference:this.sFlexReference,vmReference:e,vReference:o});if(a.overwrite){return this.oFlexController.saveSequenceOfDirtyChanges(this._getDirtyChangesFromVariantChanges(s),t)}var c=a.layer||(a.public?m.PUBLIC:m.USER);var l=a.layer||m.USER;var f=a.newVariantReference||V.createDefaultFileName("flVariant");var h={variantManagementReference:e,appComponent:t,layer:c,title:a.name,contexts:a.contexts,sourceVariantReference:o,newVariantReference:f,generator:a.generator};return this.copyVariant(h).then(function(a){if(n){var c={changeType:"setDefault",defaultVariant:f,originalDefaultVariant:this.oData[e].defaultVariant,appComponent:t,layer:l,variantManagementReference:e};var h=this.addVariantChange(e,c);a.push(h)}if(i){var u={changeType:"setExecuteOnSelect",executeOnSelect:true,variantReference:f,appComponent:t,layer:l,variantManagementReference:e};var p=this.addVariantChange(e,u);a.push(p)}r=a;return x({changes:s,vmReference:e,vReference:o,model:this}).then(B.bind(this,this.oFlexController,a,e,t))}.bind(this))}.bind(this,n,a,t),this).then(function(){return r})};O.prototype.getLocalId=function(e,t){return c.getSelector(e,t).id};O.prototype.getVariantManagementReferenceForControl=function(e){var t=e.getId();var a=V.getAppComponentForControl(e);return a&&a.getLocalId(t)||t};O.prototype.switchToDefaultForVariantManagement=function(e){if(this.oData[e].currentVariant!==this.oData[e].defaultVariant){l.show(200);this.updateCurrentVariant({variantManagementReference:e,newVariantReference:this.oData[e].defaultVariant}).then(function(){l.hide()})}};O.prototype.switchToDefaultForVariant=function(e){Object.keys(this.oData).forEach(function(t){if(!e||this.oData[t].currentVariant===e){this.switchToDefaultForVariantManagement(t)}}.bind(this))};O.prototype.registerToModel=function(e){var t=this.getVariantManagementReferenceForControl(e);this._ensureStandardVariantExists(t);this.oData[t]._isEditable=e.getEditable();this.oData[t].showExecuteOnSelection=false;e.attachEvent("select",{vmReference:t,model:this},S);e.attachSave(this._handleSaveEvent,this);this.setModelPropertiesForControl(t,false,e);var a=e.getUpdateVariantInURL();this.oData[t].updateVariantInURL=a;u.registerControl({vmReference:t,updateURL:!!a,model:this});u.handleModelContextChange({model:this,vmControl:e});if(this.oData[t].initPromise){this.oData[t].initPromise.resolveFunction();delete this.oData[t].initPromise}this.oData[t].init=true;var n={appComponent:this.oAppComponent,reference:this.sFlexReference,vmReference:t,flexController:this.oFlexController};this._oVariantSwitchPromise=this._oVariantSwitchPromise.then(d.waitForInitialVariantChanges.bind(undefined,n))};O.prototype.waitForVMControlInit=function(e){if(!this.oData[e]){this.oData[e]={}}else if(this.oData[e].init){return Promise.resolve()}this.oData[e].initPromise={};this.oData[e].initPromise.promise=new Promise(function(t){this.oData[e].initPromise.resolveFunction=t}.bind(this));return this.oData[e].initPromise.promise};O.prototype._getDirtyChangesFromVariantChanges=function(e){var t=e.map(function(e){return e.getId()});return this.oChangePersistence.getDirtyChanges().filter(function(e){return n(t,e.getId())&&!e.getSavedToVariant()})};O.prototype.getCurrentControlVariantIds=function(){return Object.keys(this.oData||{}).reduce(function(e,t){return e.concat([this.oData[t].currentVariant])}.bind(this),[])};O.prototype.getVariantManagementControlIds=function(){var e;return Object.keys(this.oData||{}).reduce(function(t,a){if(this.oAppComponent.byId(a)){e=this.oAppComponent.createId(a)}else{e=a}t.push(e);return t}.bind(this),[])};O.prototype.destroy=function(){this.oDataSelector.removeUpdateListener(this.fnUpdateListener);d.clearFakeStandardVariants(this.sFlexReference,this.oAppComponent.getId());D.prototype.destroy.apply(this)};O.prototype.getUShellService=function(e){return V.getUshellContainer()&&b[e]};return O});
/*
 * ! OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/FlexInfoSession", ["sap/ui/fl/apply/_internal/flexState/ManifestUtils"],function(e){"use strict";var n={};var t="sap.ui.fl.info.";function r(e){return t+(e||"true")}n.get=function(t){var r=e.getFlexReferenceForControl(t);return n.getByReference(r)};n.getByReference=function(e){return JSON.parse(window.sessionStorage.getItem(r(e)))};n.set=function(t,r){var o=e.getFlexReferenceForControl(r);n.setByReference(t,o)};n.setByReference=function(e,n){window.sessionStorage.setItem(r(n),JSON.stringify(e))};n.remove=function(n){var t=e.getFlexReferenceForControl(n);window.sessionStorage.removeItem(r(t))};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/Storage", ["sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/write/_internal/StorageFeaturesMerger","sap/ui/fl/apply/_internal/flexObjects/States","sap/base/util/ObjectPath"],function(e,t,n,r){"use strict";var i="sap/ui/fl/write/_internal/connectors/";function a(){return e.getConnectors(i,false)}function o(e,t){var n=t.filter(function(t){return t.layers.indexOf("ALL")!==-1||t.layers.indexOf(e)!==-1});if(n.length===1){return n[0]}if(n.length===0){throw new Error("No Connector configuration could be found to write into layer: "+e)}if(n.length>1){throw new Error("sap.ui.core.Configuration 'flexibilityServices' has a misconfiguration: Multiple Connector configurations were found to write into layer: "+e)}}function u(t){var n=t.map(function(t){return t.writeConnectorModule.loadFeatures({url:t.url}).then(function(e){return{features:e,layers:t.layers}}).catch(e.logAndResolveDefault.bind(null,{features:{},layers:t.layers},t,"loadFeatures"))});return Promise.all(n)}function d(e){if(!e){return Promise.reject("No layer was provided")}return a().then(o.bind(this,e))}function s(e){if(e.draft){return new Promise(function(t,n){sap.ui.require(["sap/ui/fl/write/api/FeaturesAPI"],function(r){r.isVersioningEnabled(e.layer).then(function(r){if(r){t()}else{n("Draft is not supported for the given layer: "+e.layer)}})})})}return Promise.resolve()}function c(e,t){var r=t.filter(function(t){return t.getState()===n.LifecycleState.NEW&&t.getFileType()===e.getFileType()});var i=r.findIndex(function(t){return t.getId()===e.getId()});return i}function l(e){var t;if(e.allChanges&&e.allChanges.length&&e.condensedChanges){t={namespace:e.allChanges[0].convertToFileContent().namespace,layer:e.layer};var r=0;var i=false;e.allChanges.forEach(function(a,o){var u=a.getFileType();if(u==="ctrl_variant"){return}var d=c(a,e.condensedChanges);if(a.condenserState){var s=false;if(a.condenserState==="delete"){if(a.getState()===n.LifecycleState.PERSISTED||a.getState()===n.LifecycleState.DELETED){if(!t.delete){t.delete={}}if(!t.delete[u]){t.delete[u]=[]}t.delete[u].push(a.getId())}r++}else if(e.condensedChanges.length){s=e.allChanges[o].getId()!==e.condensedChanges[o-r].getId()}if((a.condenserState==="select"&&a.getState()!==n.LifecycleState.NEW||a.condenserState==="update")&&s&&!i){var l=e.condensedChanges.slice(o-r).map(function(e){return e.getId()});if(!t.reorder){t.reorder={}}if(!t.reorder[u]){t.reorder[u]=[]}t.reorder[u]=l;i=true}if(a.condenserState==="select"&&a.getState()===n.LifecycleState.NEW){if(!t.create){t.create={}}if(!t.create[u]){t.create[u]=[]}t.create[u][d]={};t.create[u][d][a.getId()]=a.convertToFileContent()}else if(a.condenserState==="update"){if(!t.update){t.update={}}if(!t.update[u]){t.update[u]=[]}var f=t.update[u].length;t.update[u][f]={};t.update[u][f][a.getId()]={content:a.getContent()}}delete a.condenserState}else if(a.getState()===n.LifecycleState.NEW){if(!t.create){t.create={}}if(!t.create[u]){t.create[u]=[]}t.create[u][d]={};t.create[u][d][a.getId()]=a.convertToFileContent()}})}return t}function f(e,t){return s(t).then(d.bind(undefined,t.layer)).then(function(n){t.url=n.url;var i=r.get(e,n.writeConnectorModule);return i.call(n.writeConnectorModule,t)})}var g={};g.write=function(e){return f("write",e)};g.condense=function(e){var t=l(e);if(!t){return Promise.reject("No changes were provided")}if(t.create||t.reorder||t.update||t.delete){var n=t.create&&t.create.change?t.create.change:[];e.flexObjects=t;return f("condense",e).then(function(e){if(e&&e.status&&e.status===205&&n.length){var t=n.map(function(e){return Object.values(e).pop()});e.response=t}return e})}return Promise.resolve()};g.remove=function(e){return f("remove",e)};g.update=function(e){return f("update",e)};g.reset=function(e){return f("reset",e)};g.getFlexInfo=function(e){return f("getFlexInfo",e)};g.getContexts=function(e){return f("getContexts",e)};g.loadContextDescriptions=function(e){return f("loadContextDescriptions",e)};g.isContextSharingEnabled=function(e){return f("isContextSharingEnabled",e)};g.loadFeatures=function(){return a().then(u).then(t.mergeResults)};g.publish=function(e){return f("publish",e)};g.contextBasedAdaptation={create:function(e){return a().then(f.bind(undefined,"contextBasedAdaptation.create",e))},reorder:function(e){return a().then(f.bind(undefined,"contextBasedAdaptation.reorder",e))},update:function(e){return a().then(f.bind(undefined,"contextBasedAdaptation.update",e))},load:function(e){return a().then(f.bind(undefined,"contextBasedAdaptation.load",e))},writeChange:function(e){return g.write(e)},remove:function(e){return a().then(f.bind(undefined,"contextBasedAdaptation.remove",e))}};g.versions={load:function(e){return a().then(f.bind(undefined,"versions.load",e))},activate:function(e){return a().then(f.bind(undefined,"versions.activate",e))},discardDraft:function(e){return a().then(f.bind(undefined,"versions.discardDraft",e))},publish:function(e){return a().then(f.bind(undefined,"versions.publish",e))}};g.translation={getSourceLanguages:function(e){return a().then(f.bind(undefined,"translation.getSourceLanguages",e))},getTexts:function(e){return a().then(f.bind(undefined,"translation.getTexts",e))},postTranslationTexts:function(e){return a().then(f.bind(undefined,"translation.postTranslationTexts",e))}};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/StorageFeaturesMerger", ["sap/base/util/merge"],function(e){"use strict";var n={isKeyUser:false,isKeyUserTranslationEnabled:false,isVariantSharingEnabled:false,isPublicFlVariantEnabled:false,isVariantPersonalizationEnabled:true,isContextSharingEnabled:true,isAtoAvailable:false,isAtoEnabled:false,versioning:{},isProductiveSystem:true,isPublicLayerAvailable:false,isLocalResetEnabled:false,isZeroDowntimeUpgradeRunning:false,system:"",client:""};function i(e){var n={};var i=!!e.features.isVersioningEnabled;e.layers.forEach(function(e){n[e]=i});return n}return{mergeResults:function(a){var s=n;a.forEach(function(n){Object.keys(n.features).forEach(function(e){if(e!=="isVersioningEnabled"){s[e]=n.features[e]}});s.versioning=e(s.versioning,i(n));if(n.isContextSharingEnabled!==undefined){s.isContextSharingEnabled=n.isContextSharingEnabled}});return s}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/Versions", ["sap/ui/fl/registry/Settings","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/write/_internal/Storage","sap/ui/fl/write/api/Version","sap/ui/model/json/JSONModel","sap/ui/model/BindingMode"],function(e,r,t,n,i,s){"use strict";var a={};var o=9;var f=o+1;function d(e,r){var t=l(e,r);t.setDefaultBindingMode(s.OneWay);t.setSizeLimit(o);t.setDirtyChanges=function(e){t.setProperty("/dirtyChanges",e);t.updateDraftVersion();t.updateBindings(true)};t.updateDraftVersion=function(){var e=t.getProperty("/versions");var r=t.getProperty("/versioningEnabled");var i=t.getProperty("/dirtyChanges");var s=t.getProperty("/backendDraft");var a=r&&(i||s);t.setProperty("/draftAvailable",a);if(i){t.setProperty("/displayedVersion",n.Number.Draft)}if(!v(e)&&a){e.splice(0,0,{version:n.Number.Draft,type:n.Type.Draft,filenames:[],isPublished:false})}if(v(e)&&!a){e.shift();t.setProperty("/displayedVersion",t.getProperty("/persistedVersion"))}var o=t.getProperty("/displayedVersion")!==t.getProperty("/activeVersion");t.setProperty("/activateEnabled",o)};return t}function l(e,r,t){var s;var a=false;var o=n.Number.Original;var f=v(r);var d=[];if(r.length>0){s=r[0].version}else{s=n.Number.Original}r.forEach(function(e){if(e.version===n.Number.Draft){e.type=n.Type.Draft;e.isPublished=false;d=e.filenames}else{if(o===n.Number.Original){e.type=n.Type.Active;o=e.version}else{e.type=n.Type.Inactive}if(e.version===s&&e.isPublished===false){a=true}}});if(t){t.setProperty("/publishVersionEnabled",a);t.setProperty("/versioningEnabled",e);t.setProperty("/versions",r);t.setProperty("/backendDraft",f);t.setProperty("/dirtyChanges",false);t.setProperty("/draftAvailable",f);t.setProperty("/activateEnabled",f);t.setProperty("/activeVersion",o);t.setProperty("/persistedVersion",s);t.setProperty("/displayedVersion",s);t.setProperty("/draftFilenames",d);t.updateBindings(true)}else{t=new i({publishVersionEnabled:a,versioningEnabled:e,versions:r,backendDraft:f,dirtyChanges:false,draftAvailable:f,activateEnabled:f,activeVersion:o,persistedVersion:s,displayedVersion:s,draftFilenames:d})}return t}function u(e,r){var t=[];var n=r.changePersistences;n.forEach(function(e){t=e.getDirtyChanges().concat();t.forEach(function(r){e.deleteChange(r,true)})});return t.length>0}function c(e){var t={dirtyChangesExist:false,changePersistences:[]};if(e.reference){var n=r.getChangePersistenceForComponent(e.reference);if(n.getDirtyChanges().length>0){t.dirtyChangesExist=true;t.changePersistences.push(n)}}if(e.nonNormalizedReference){var i=r.getChangePersistenceForComponent(e.nonNormalizedReference);if(i.getDirtyChanges().length>0){t.dirtyChangesExist=true;t.changePersistences.push(i)}}return t}function v(e){return e.some(function(e){return e.version===n.Number.Draft})}function p(e,r){e.setProperty("/backendDraft",false);e.setProperty("/dirtyChanges",false);e.setProperty("/draftAvailable",false);e.setProperty("/activateEnabled",false);e.setProperty("/displayedVersion",r);e.setProperty("/persistedVersion",r);e.updateBindings(true)}var y={};y.initialize=function(r){var n=r.reference;var i=r.layer;r.limit=f;return e.getInstance().then(function(e){var s=e.isVersioningEnabled(i);if(a&&a[n]&&a[n][i]){return a[n][i]}var o=s?t.versions.load(r):Promise.resolve([]);return o.then(function(e){return d(s,e)}).then(function(e){a[n]=a[n]||{};a[n][i]=a[n][i]||{};a[n][i]=e;return a[n][i]})})};y.getVersionsModel=function(e){var r=e.reference;var t=e.layer;if(!y.hasVersionsModel(e)){throw Error("Versions Model for reference '"+r+"' and layer '"+t+"' were not initialized.")}var n=c(e);if(n.dirtyChangesExist){a[r][t].updateDraftVersion(e)}return a[r][t]};y.hasVersionsModel=function(e){var r=e.reference;var t=e.layer;return a[r]&&a[r][t]};y.clearInstances=function(){a={}};y.updateModelFromBackend=function(e){if(y.hasVersionsModel(e)){e.limit=f;return t.versions.load(e).then(function(r){var t=y.getVersionsModel(e);return l(t.getProperty("/versioningEnabled"),r,t)})}};y.onAllChangesSaved=function(e){var r=y.getVersionsModel(e);var t=r.getProperty("/versioningEnabled");var i=r.getProperty("/dirtyChanges");var s=r.getProperty("/draftFilenames");r.setProperty("/draftFilenames",s.concat(e.draftFilenames));r.setProperty("/dirtyChanges",true);r.setProperty("/backendDraft",t&&i||!!e.contextBasedAdaptation);r.updateDraftVersion();r.setProperty("/persistedVersion",n.Number.Draft);r.updateBindings(true)};y.activate=function(e){var r=y.getVersionsModel(e);var i=r.getProperty("/versions");var s=v(i);var a=r.getProperty("/activeVersion");if(e.displayedVersion===a){return Promise.reject("Version is already active")}e.version=e.displayedVersion;var o=c(e);var f=o.changePersistences;var d=f.some(function(e){return e.getDirtyChanges().length>0});if(d){return Promise.reject("unsaved changes exists")}return t.versions.activate(e).then(function(e){i.forEach(function(e){e.type=n.Type.Inactive});e.type=n.Type.Active;e.isPublished=false;if(s){i.shift()}i.splice(0,0,e);r.setProperty("/activeVersion",e.version);r.setProperty("/publishVersionEnabled",true);r.setProperty("/draftFilenames",[]);p(r,e.version)})};y.discardDraft=function(e){var r=y.getVersionsModel(e);var n=c(e);var i=r.getProperty("/backendDraft");var s=i?t.versions.discardDraft(e):Promise.resolve();return s.then(function(){var t=r.getProperty("/versions");t.shift();p(r,r.getProperty("/activeVersion"));var s=u(e,n);return{backendChangesDiscarded:i,dirtyChangesDiscarded:s}})};y.publish=function(e){var r=y.getVersionsModel({reference:e.reference,layer:e.layer});return t.versions.publish(e).then(function(t){if(t!=="Error"&&t!=="Cancel"){r.setProperty("/publishVersionEnabled",false);var n=r.getProperty("/versions");var i=false;n.forEach(function(r){if(r.isPublished){return}if(r.version===e.version){i=true}if(i&&!r.isPublished){r.isPublished=true}})}return t})};return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/Condenser", ["sap/base/util/each","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Core","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexObjects/UIChange","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/write/_internal/condenser/classifications/LastOneWins","sap/ui/fl/write/_internal/condenser/classifications/Reverse","sap/ui/fl/write/_internal/condenser/classifications/Update","sap/ui/fl/write/_internal/condenser/UIReconstruction","sap/ui/fl/write/_internal/condenser/Utils","sap/ui/fl/Utils","sap/ui/performance/Measurement","sap/base/util/restricted/_isEqual"],function(e,n,t,r,a,i,o,s,f,c,u,d,l,p,g,h,C,v){"use strict";var E={};var y="unclassified";var S={lastOneWins:u,reverse:d,update:l};var _=["affectedControl","sourceContainer","targetContainer","updateControl"];function I(e,n){var t=e[o.Move];return n.classification===o.Create&&t&&t[t.length-1].targetContainer===n.targetContainer}function N(e,n){return n.classification===o.Move&&e[o.Destroy]}function m(e,n){return n.classification===o.Create&&e[o.Destroy]}function T(e,n,t,r){if(!N(e,t)&&!m(e,t)){var a=t.classification;if(!e[a]){t.change=r;r.condenserState="select";e[a]=[t]}else{r.condenserState="delete"}e[a][0].updateChange=r}else{r.condenserState="delete"}if(I(e,t)||m(e,t)){if(e[o.Move]){e[o.Move].forEach(function(e){e.change.condenserState="delete"});delete e[o.Move]}if(e[o.Destroy]){e[o.Destroy].forEach(function(e){e.change.condenserState="delete"});delete e[o.Destroy]}}return p.addChange(n,t)}function A(e,n,t){if(!e[n.classification]){e[n.classification]={}}var r=e[n.classification];S[n.classification].addToChangesMap(r,n,t);return Promise.resolve()}function O(e,n,t,r,a){if(!e[r.type]){e[r.type]={}}var i=e[r.type];if(r.type===g.NOT_INDEX_RELEVANT){return A(i,r,a)}t.push(a);if(!i[r.targetAggregation]){i[r.targetAggregation]={}}return T(i[r.targetAggregation],n,r,a)}function D(e,n,t){if(!e[n]){e[n]=[]}e[n].push(t);t.condenserState="select"}function R(e,n){var t=a.getControlIdBySelector(n.getSelector(),e);var r=i.byId(t);if(r){var o={modifier:a,appComponent:e,view:h.getViewForControl(r)};var f=s.getControlIfTemplateAffected(n,r,o);return Promise.resolve(s.getChangeHandler(n,f,o)).then(function(e){if(e&&typeof e.getCondenserInfo==="function"){return e.getCondenserInfo(n,o)}return undefined}).then(function(e){if(e&&f.bTemplateAffected){b(e,n)}return e}).catch(function(){return undefined})}return Promise.resolve()}function b(e,n){var t=n.getOriginalSelector();var r=n.getSelector();_.forEach(function(n){if(e[n]&&e[n]===r){e[n]=t}})}function x(e,n,r,i){var s=n!==undefined?n.affectedControl:a.getControlIdBySelector(r.getSelector(),i);if(!e[s]){e[s]={}}if(n&&n.updateControl){var f=n.updateControl;var c=[g.NOT_INDEX_RELEVANT,o.Update,n.uniqueKey];var u=t.get(c,e[f]);if(u){t.set(c,u,e[s]);delete e[f][g.NOT_INDEX_RELEVANT][o.Update][n.uniqueKey]}}return e[s]}function L(e,n,t,r,a){return a.reduce(function(a,i){return a.then(M.bind(this,e,n,t,r,i))}.bind(this),Promise.resolve())}function M(e,n,t,r,a){return R(e,a).then(function(i){w(i,e);var o=x(n,i,a,e);if(i!==undefined){U(i);return O(o,t,r,i,a).then(function(){if(i.update){V(o,i,a)}})}D(o,y,a);n[y]=true;return undefined})}function U(e){if(S[e.classification]){e.type=g.NOT_INDEX_RELEVANT}else{e.type=g.INDEX_RELEVANT}}function w(e,n){_.forEach(function(t){if(e&&e[t]){e[t]=a.getControlIdBySelector(e[t],n)}})}function V(e,n,r){var a=[g.NOT_INDEX_RELEVANT,o.Update,n.uniqueKey];var i=t.get(a,e);if(i){i.change.condenserState="delete";if(r.condenserState==="delete"){return}n.update(r,i.updateContent);delete e[g.NOT_INDEX_RELEVANT][o.Update][n.uniqueKey];if(r.isPersisted()){r.condenserState="update"}}}function P(t,r){e(t,function(e,a){if(S[e]&&S[e].getChangesFromMap){S[e].getChangesFromMap(t,e).forEach(function(e){r.push(e)})}else if(n(a)){return P(a,r)}else if(Array.isArray(a)){a.forEach(function(e){if(e instanceof f){r.push(e)}else{r.push(e.change)}})}});return r}function X(e){return P(e,[])}function q(t,r){e(t,function(e,t){if(n(t)){q(t,r)}else if(Array.isArray(t)){t.forEach(function(e){if(!(e instanceof f)){r.push(e)}})}});return r}function j(e,n){n.sort(function(n,t){return e.indexOf(n)-e.indexOf(t)})}function K(e,n){n.sort(function(n,t){return e.indexOf(n.change)-e.indexOf(t.change)})}function B(e,n){var t=e.map(function(e){return e.getId()});n.forEach(function(n){if(t.indexOf(n.getId())===-1){e.push(n)}})}function F(e,n,t){e.forEach(function(e){var r=e.updateChange;if(r&&!v(r.getContent(),e.change.getContent())&&r.getState()!==c.LifecycleState.NEW){var a=e.change;if(r.getId()!==a.getId()){var i=a.getContent();r.setContent(i);r.setRevertData(a.getRevertData());a.condenserState="delete";n=n.map(function(e){if(e.getId()===a.getId()){return r}return e});t.forEach(function(e,n){t[n]=e.map(function(e){if(e.getId()===a.getId()){return r}return e})})}else{r.setState(c.LifecycleState.DIRTY)}r.condenserState="update"}});return n}E.condense=function(e,n){C.start("Condenser_overall","Condenser overall - CondenserClass",["sap.ui.fl","Condenser"]);var t={};var a={};var i=[];var o=[];var s=[];n.slice(0).reverse().forEach(function(e){if(e instanceof f){if(e.getState()===c.LifecycleState.DELETED){e.condenserState="delete"}else if(e.isSuccessfullyApplied()){s.push(e)}else{o.push(e)}}else{o.push(e)}});C.start("Condenser_defineMaps","defining of maps - CondenserClass",["sap.ui.fl","Condenser"]);return L(e,t,a,i,s).then(function(){C.end("Condenser_defineMaps");var e=t[y];if(!e){p.compareAndUpdate(t,a)}var s=X(t);if(e){i.forEach(function(e){e.condenserState="select"});B(s,i)}s=s.concat(o);j(n,s);if(!e){C.start("Condenser_handleIndexRelatedChanges","handle index related changes - CondenserClass",["sap.ui.fl","Condenser"]);var f=true;var c=q(t,[]);K(n,c);var u;try{C.start("Condenser_sort","sort index related changes - CondenserClass",["sap.ui.fl","Condenser"]);u=p.sortIndexRelatedChanges(a,c)}catch(e){r.error("Error during Condensing: "+e.message,"No Condensing performed for index-relevant changes.");f=false}C.end("Condenser_sort");if(f){s=s.filter(function(e){return e.condenserState!=="delete"});c=c.filter(function(e){return e.change.condenserState!=="delete"});s=F(c,s,u);j(n,s);u.forEach(function(e){p.swapChanges(e,s)})}else{i.forEach(function(e){e.condenserState="select"});B(s,i);j(n,s)}C.end("Condenser_handleIndexRelatedChanges")}C.end("Condenser_overall");return s})};return E});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/UIReconstruction", ["sap/base/util/restricted/_isEqual","sap/base/util/each","sap/base/util/ObjectPath","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/write/_internal/condenser/classifications/Create","sap/ui/fl/write/_internal/condenser/classifications/Destroy","sap/ui/fl/write/_internal/condenser/classifications/Move","sap/ui/fl/write/_internal/condenser/Utils"],function(n,e,t,r,i,a,c,f){"use strict";var o={};var s={create:i,destroy:a,move:c};function u(n,t){e(n,function(n,r){e(r,function(e,i){t(r,n,i,e)})})}function l(n,e,t){n.splice(t,0,n.splice(e,1)[0])}function h(n,e){var t={};u(n,function(n,r,i,a){var c=i[f.TARGET_UI];var o=i[f.INITIAL_UI];e.forEach(function(n){var e=c.indexOf(n.affectedControl)>-1||o.indexOf(n.affectedControl)>-1;if(a===n.targetAggregation&&e){if(!t[r]){t[r]={}}var i=t[r];if(!i[a]){i[a]=[]}var f=i[a];f.push(n)}})});return t}function d(n){return!n.some(function(n){return n.classification!==r.Create})}function v(n){return!n.some(function(n){return f.isUnknown(n)})}function g(n){return n.getTargetIndex(n.change)}function I(n){n.sort(function(n,e){var t=g(n);var r=g(e);return t-r})}function E(n){return!n.some(function(n){return!f.isUnknown(n)})}function T(e,t){var r;if(e.length<t.length){r=t.slice(e.length);if(!E(r)){return false}t=t.slice(0,e.length)}else if(e.length>t.length){r=e.slice(t.length,e.length);if(!E(r)){return false}e=e.slice(0,t.length)}return n(e,t)}function p(n,e,t,r,i){var a={};i.forEach(function(n){var r=n.targetContainer;if(!a[r]){a[r]={}}var i=a[r];if(!i[e]){i[e]=f.initializeArrayWithPlaceholders(0,t.length-1)}s[n.classification].simulate(i[e],n,t)});var c=a[n][e];if(T(r,c)){i.forEach(function(n){if(n.sameIndex){n.change.condenserState="delete"}});return true}return false}function _(n,e){function t(n,e){if(g(e)!==n){var t=e.change.getState();e.setTargetIndex(e.change,n);e.change.setState(t);if(e.change.isPersisted()){e.change.condenserState="update"}}}function i(e,i,a){a[f.TARGET_UI].forEach(function(e,i){if(!f.isUnknown(e)){var a=n[e];var c=a[f.INDEX_RELEVANT];u(c,function(n,e,a,c){if(c!==r.Destroy){a.forEach(t.bind(this,i))}})}})}u(e,i)}function A(n,e){u(e,function(e,t,r,i){var a=r[f.INITIAL_UI];var c=r[f.TARGET_UI];if(T(a,c)){c.forEach(function(e){var t=n[e];if(t!==undefined){u(t[f.INDEX_RELEVANT],function(n,e,t){t.forEach(function(n){n.change.condenserState="delete"})});delete t[f.INDEX_RELEVANT]}});delete e[i]}})}function U(n,e){u(e,function(e,r,i,a){var c=i[f.INITIAL_UI];var o=i[f.TARGET_UI];c.forEach(function(e,r){var i=n[e];if(!i||!t.get([f.INDEX_RELEVANT,a],i)){var c=f.PLACEHOLDER+r;var s=o.indexOf(e);if(s>=0){o[s]=c}}})})}o.swapChanges=function(n,e){var t=n.map(function(n){return e.indexOf(n)}).sort();n.forEach(function(n){e[t.shift()]=n})};o.sortIndexRelatedChanges=function(n,e){var t=[];var r=h(n,e);u(r,function(e,r,i,a){var c=n[r][a][f.TARGET_UI];var o=n[r][a][f.INITIAL_UI];var s=true;if(v(c)||d(i)){I(i);s=p(r,a,o,c,i)}else if(!p(r,a,o,c,i)){s=false;var u=i.length;while(u!==0&&!s){var h=0;var g=1;while(g<i.length&&!s){l(i,h,g);s=p(r,a,o,c,i);h++;g++}u--}}if(!s){throw Error("no correct sorting found for the container: "+r)}i=i.filter(function(n){return n.change.condenserState!=="delete"});t.push(i.map(function(n){if(n.revertIndex>-1){n.setIndexInRevertData(n.change,n.revertIndex);n.sourceIndex=n.revertIndex}return n.change}))});return t};o.addChange=function(n,e){return s[e.classification].addToReconstructionMap(n,e)};o.compareAndUpdate=function(n,e){A(n,e);U(n,e);_(n,e)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/Utils", ["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Core"],function(e,n){"use strict";var i={};i.TARGET_UI="targetUI";i.INITIAL_UI="initialUI";i.PLACEHOLDER="X";i.INDEX_RELEVANT="indexRelevant";i.NOT_INDEX_RELEVANT="notIndexRelevant";function t(e,n){return(Math.max(e,n)||0)+1}i.getInitialUIContainerElementIds=function(e,n,t,r){if(!e[n]){e[n]={}}var a=e[n];if(!a[t]){a[t]={}}var f=a[t];if(!f[i.TARGET_UI]){f[i.TARGET_UI]=r}if(!f[i.INITIAL_UI]){f[i.INITIAL_UI]=r.slice(0)}return f[i.INITIAL_UI]};i.getContainerElementIds=function(i,t,r,a){var f=n.byId(i);return Promise.resolve(r||e.getAggregation(f,t)).then(function(e){return e.map(function(e){return a?e[a]:e.getId()})})};i.initializeArrayWithPlaceholders=function(e,n){var r=t(n,e);return Array(r).fill(i.PLACEHOLDER).map(function(e,n){return e+n})};i.extendArrayWithPlaceholders=function(e,n,r){var a=t(n,r);if(e.length<a){var f;for(var l=e.length;l<=a;l++){f=i.PLACEHOLDER+e.length;e.splice(e.length,0,f)}}};i.extendElementsArray=function(e,n,t,r){i.extendArrayWithPlaceholders(e,n,t);var a=e.indexOf(r);var f=e.indexOf(i.PLACEHOLDER+n);if(a!==n&&n!==undefined){if(a>=0){i.shiftElement(e,a,n)}else if(f>-1){e[f]=r}else if(i.isUnknown(e[n])){e[n]=r}}};i.shiftElement=function(e,n,i){e.splice(i,0,e.splice(n,1)[0])};i.isUnknown=function(e){if(e!==undefined&&e.indexOf(i.PLACEHOLDER)===0){var n=e.slice(1,e.length);var t=parseInt(n);if(isNaN(t)){return false}return true}return false};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Create", ["sap/ui/core/Core","sap/ui/fl/write/_internal/condenser/Utils"],function(e,t){"use strict";return{addToReconstructionMap:function(n,r){var a=e.byId(r.affectedControl);var i=r.targetAggregation||a&&a.sParentAggregationName;return t.getContainerElementIds(r.targetContainer,i,r.customAggregation,r.affectedControlIdProperty).then(function(e){var a=t.getInitialUIContainerElementIds(n,r.targetContainer,r.targetAggregation,e);var i=a.indexOf(r.affectedControl);if(i>-1){a.splice(i,1)}})},simulate:function(e,t){e.splice(t.getTargetIndex(t.change),0,t.affectedControl)}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Destroy", ["sap/ui/fl/write/_internal/condenser/Utils"],function(e){"use strict";return{addToReconstructionMap:function(t,n){return e.getContainerElementIds(n.targetContainer,n.targetAggregation,n.customAggregation,n.affectedControlIdProperty).then(function(r){var i=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,r);if(i.length-1<n.sourceIndex){while(i.length-1<n.sourceIndex){var o=i.length;i.splice(i.length,0,e.PLACEHOLDER+o)}i[n.sourceIndex]=n.affectedControl}else{i.splice(n.sourceIndex,0,n.affectedControl)}})},simulate:function(t,n,r){var i=t.indexOf(n.affectedControl);if(i===-1){var o=e.PLACEHOLDER+r.indexOf(n.affectedControl);i=t.indexOf(o)}n.revertIndex=i;if(i>-1){t.splice(i,1)}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/LastOneWins", [],function(){"use strict";return{addToChangesMap:function(e,n,t){if(!e[n.uniqueKey]){e[n.uniqueKey]=[t];t.condenserState="select"}else{t.condenserState="delete"}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Move", ["sap/ui/fl/write/_internal/condenser/Utils"],function(e){"use strict";return{addToReconstructionMap:function(t,n){return Promise.all([e.getContainerElementIds(n.sourceContainer,n.sourceAggregation,n.customAggregation,n.affectedControlIdProperty),e.getContainerElementIds(n.targetContainer,n.targetAggregation,n.customAggregation,n.affectedControlIdProperty)]).then(function(r){var a=r[0];var i=r[1];var o;var g;if(n.targetContainer===n.sourceContainer&&n.targetAggregation===n.sourceAggregation){o=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,i);g=o.indexOf(n.affectedControl);e.shiftElement(o,g,n.sourceIndex)}else{o=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,i);g=o.indexOf(n.affectedControl);o.splice(g,1);o=e.getInitialUIContainerElementIds(t,n.sourceContainer,n.sourceAggregation,a);o.splice(n.sourceIndex,0,n.affectedControl)}})},simulate:function(t,n,r){var a=n.affectedControl;var i=r.indexOf(a);e.extendElementsArray(t,i,undefined,a);var o=t.indexOf(a);var g=n.getTargetIndex(n.change);if(i===-1){t.splice(g,0,a)}else{t.splice(g,0,t.splice(o,1)[0])}n.sameIndex=o===g;n.revertIndex=o}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Reverse", ["sap/base/util/each"],function(e){"use strict";return{addToChangesMap:function(e,n,t){if(!e[n.uniqueKey]){e[n.uniqueKey]=[]}e[n.uniqueKey].push(t)},getChangesFromMap:function(n,t){var u=[];e(n[t],function(e,n){n.reverse();var t;n.forEach(function(e,u){if(t&&t.getChangeType()!==e.getChangeType()){t=null;n[u].condenserState="delete";n[u-1].condenserState="delete"}else{t=e;if(u>0){n[u-1].condenserState="delete"}n[u].condenserState="select"}});if(t){u.push(t)}});return u}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Update", ["sap/base/util/each"],function(e){"use strict";return{addToChangesMap:function(e,n,t){if(!e[n.uniqueKey]){n.change=t;e[n.uniqueKey]=n;t.condenserState="select"}else{t.condenserState="delete"}},getChangesFromMap:function(n,t){var a=[];e(n[t],function(e,n){a.push(n.change)});return a}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/flexState/FlexObjectState", ["sap/base/util/restricted/_omit","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/_internal/ChangesController","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/fl/write/_internal/flexState/compVariants/CompVariantState","sap/ui/fl/write/_internal/Versions","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/LayerUtils","sap/ui/fl/Utils"],function(e,t,r,n,a,i,o,l,c,s,f,u,p){"use strict";var g={};function C(e){e.reference=i.getFlexReferenceForControl(e.selector);return a.initialize({componentId:e.componentId||p.getAppComponentForControl(e.selector).getId(),reference:e.reference,componentData:{},manifest:{}})}function y(e){var t=a.getCompVariantsMap(e.reference);var n=[];if(e.invalidateCache){var i=a.getInitialNonFlCompVariantData(e.reference);if(i){Object.keys(i).forEach(function(e){t._initialize(e,i[e].variants,i[e].controlId);r.merge(e,t[e],i[e].standardVariant)})}}for(var o in t){var l=t[o];for(var c in l.byId){n.push(l.byId[c])}}return u.filterChangeOrChangeDefinitionsByCurrentLayer(n,e.currentLayer)}function h(e){var t=i.getFlexReferenceForControl(e.selector);return c.persistAll(t)}function v(e){if(!e.reference){var t=o.getAppComponentForSelector(e.selector);e.reference=i.getFlexReferenceForControl(t)}return f.getChangePersistenceForComponent(e.reference)}function d(e,t){var r=p.getAppComponentForControl(t);var a=r.getModel(l.getVariantModelName());var i;if(a){var o=a&&a.sFlexReference;i=n.getVariantManagementReferences(o)}else{i=[]}if(i.length===0){return e}var c=i.map(function(e){return a.getCurrentVariantReference(e)});return e.filter(function(e){return e.getFileType()!=="change"||c.some(function(t){return e.getVariantReference()===t||!e.getVariantReference()})})}function F(t){var r=v(t);return r.getChangesForComponent(e(t,["invalidateCache","selector"]),t.invalidateCache).then(function(e){var n=[];if(t.includeDirtyChanges){n=r.getDirtyChanges();if(t.currentLayer){n=n.filter(function(e){return e.getLayer()===t.currentLayer})}}var a=e.concat(n);if(t.onlyCurrentVariants){return d(a,t.selector)}return a})}function m(e,t){var r=o.getFlexControllerInstance(e.selector);return r.saveAll(t,e.skipUpdateCache,e.draft,e.layer,e.removeOtherLayerChanges,e.condenseAnyLayer)}g.getFlexObjects=function(e){return C(e).then(function(){return F(e)}).then(function(t){return y(e).concat(t)})};g.getDirtyFlexObjects=function(e){e.includeDirtyChanges=true;var r=v(e);var n=r.getDirtyChanges();var a=y(e);return n.concat(a).filter(function(e){return e.getState()!==t.LifecycleState.PERSISTED})};g.hasDirtyFlexObjects=function(e){var t=o.getAppComponentForSelector(e.selector);var r=i.getFlexReferenceForControl(t);if(f.getChangePersistenceForComponent(r).getDirtyChanges().length>0){return true}return c.hasDirtyChanges(r)};g.saveFlexObjects=function(t){var r=o.getAppComponentForSelector(t.selector);t.reference=i.getFlexReferenceForControl(t.selector);return h(t).then(m.bind(this,t,r)).then(function(){if(t.version!==undefined&&s.hasVersionsModel(t)){var n=s.getVersionsModel(t);t.version=n.getProperty("/displayedVersion")}if(t.layer){t.currentLayer=t.layer}t.componentId=r.getId();t.invalidateCache=true;return g.getFlexObjects(e(t,"skipUpdateCache"))})};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/flexState/compVariants/CompVariantState", ["sap/base/util/restricted/_omit","sap/base/util/restricted/_pick","sap/base/util/UriParameters","sap/ui/core/Core","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/CompVariantRevertData","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/RevertData","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/UpdatableChange","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger","sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/Storage","sap/ui/fl/write/_internal/Versions","sap/ui/fl/write/api/Version"],function(e,t,n,a,r,i,o,s,c,p,u,f,l,v,g,d,y,C){"use strict";function S(e,t){var n=h("/draftFilenames",t);if(n){return e.getState()===u.LifecycleState.NEW||n.includes(e.getId())}return true}function h(e,t){var t={reference:t.reference,layer:t.layer};if(y.hasVersionsModel(t)){return y.getVersionsModel(t).getProperty(e)}return undefined}function m(e,t){var n=e.getFlexObjectMetadata?e.getFlexObjectMetadata().changeType:e.getChangeType();if(!["defaultVariant","updateVariant"].includes(n)){return false}var a=e.getLayer()===t.layer;var r=e.getFlexObjectMetadata().packageName;var i=!r||r==="$TMP";return a&&i&&S(e,t)}function V(e,t){if(t.isVariant&&t.isVariant()){return e.variants}var n=t.getChangeType();switch(n){case"defaultVariant":return e.defaultVariants;case"standardVariant":return e.standardVariants;default:return e.changes}}function x(e,t){for(var n=0;n<e.length;n++){if(e[n].fileName===t.fileName){e.splice(n,1,t);break}}}function O(e,t,n){return d.update({flexObject:e.convertToFileContent(),layer:e.getLayer(),transport:e.getRequest(),parentVersion:n}).then(function(t){if(t&&t.response){e.setResponse(t.response);if(n){y.onAllChangesSaved({reference:t.response.reference,layer:t.response.layer,draftFilenames:t.response.fileName})}}else{e.setState(u.LifecycleState.PERSISTED)}}).then(function(){var n=V(t.changes.comp,e);var a=e.convertToFileContent();x(n,a);return a})}function I(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n].fileName||e[n].getId()&&e[n].getId();if((a||e[n].getId())===t){e.splice(n,1);break}}}function T(e,t){delete t.byId[e.getId()];if(e.getChangeType()==="standardVariant"){t.standardVariantChange=undefined}else{I(V(t,e),e.getId())}}function b(e,t,n,a){var r=e.convertToFileContent();return d.remove({flexObject:r,layer:e.getLayer(),transport:e.getRequest(),parentVersion:a}).then(function(){T(e,t)}).then(y.updateModelFromBackend.bind(this,{reference:r.reference,layer:r.layer})).then(function(){I(V(n.changes.comp,e),r.fileName);return r})}function D(e){var t={};if(typeof e.texts==="object"){Object.keys(e.texts).forEach(function(n){t[n]={value:e.texts[n],type:"XFLD"}})}return t}function E(e){return e&&[u.LifecycleState.NEW,u.LifecycleState.DIRTY,u.LifecycleState.DELETED].includes(e.getState())}function U(e){return e.variants.concat(e.changes).concat(e.defaultVariants).concat(e.standardVariantChange)}function R(e){if(e.layer){return e.layer}if(e.isUserDependent){return r.USER}var t=n.fromQuery(window.location.search).get("sap-ui-layer")||"";t=t.toUpperCase();if(t){return t}if(!e.fileType==="variant"){return r.CUSTOMER}var a=g.getInstanceOrUndef().isPublicLayerAvailable();return a?r.PUBLIC:r.CUSTOMER}function N(e){var t=l.getCompVariantsMap(e.reference)._getOrCreate(e.persistencyKey);return t.byId[e.id]}function F(e){if(e instanceof o){e.removeAllRevertData()}}function L(e,t){e.storeExecuteOnSelection(t.executeOnSelection);e.storeFavorite(t.favorite);e.storeContexts(t.contexts);e.storeName(t.name);e.storeContent(t.content||e.getContent());return e}function M(e,t){e.setExecuteOnSelection(t.executeOnSelection);e.setFavorite(t.favorite);e.setContexts(t.contexts);e.setName(t.name);e.setContent(t.content||e.getContent());return e}function j(e){if(e.layer===r.VENDOR){e.support={user:"SAP"}}else if(g.getInstanceOrUndef()&&g.getInstanceOrUndef().getUserId()){e.support={user:g.getInstanceOrUndef().getUserId()}}}var A={};A.checkSVMControlsForDirty=function(e){var t=l.getCompVariantsMap(e);return Object.values(t).some(function(e){var t=e.controlId&&a.byId(e.controlId);return t&&t.getModified()})};A.setDefault=function(e){var t={defaultVariantName:e.defaultVariantId};e.layer=e.layer||n.fromQuery(window.location.search).get("sap-ui-layer")||r.USER;var o=l.getCompVariantsMap(e.reference)._getOrCreate(e.persistencyKey);var s="defaultVariant";var u=o.defaultVariants;var v=u[u.length-1];if(!v||!m(v,e)){var g={fileName:i.createDefaultFileName(s),fileType:"change",changeType:s,layer:e.layer,content:t,namespace:i.createNamespace(e,"changes"),reference:e.reference,selector:{persistencyKey:e.persistencyKey},support:e.support||{}};g.support.generator=g.support.generator||"CompVariantState."+s;g.support.sapui5Version=a.getConfiguration().getVersion().toString();v=c.createFromFileContent(g,f);o.defaultVariants.push(v);o.byId[v.getId()]=v;v.addRevertInfo(new p({type:A.operationType.NewChange}))}else{v.addRevertInfo(new p({type:A.operationType.ContentUpdate,content:{previousState:v.getState(),previousContent:v.getContent()}}));v.setContent(t)}return v};A.revertSetDefaultVariantId=function(e){var t=l.getCompVariantsMap(e.reference)._getOrCreate(e.persistencyKey);var n=t.defaultVariants;var a=n[n.length-1];var r=a.popLatestRevertInfo();if(r.getType()===A.operationType.ContentUpdate){a.setContent(r.getContent().previousContent);a.setState(r.getContent().previousState)}else{a.setState(u.LifecycleState.DELETED);t.defaultVariants.pop()}};A.addVariant=function(t){if(!t){return undefined}var n=t.changeSpecificData;n.layer=R(n);n.changeType=n.type;n.texts=D(n);j(n);var a=Object.assign({},n,e(t,"changeSpecificData"));var r=c.createCompVariant(a);var i=l.getCompVariantsMap(t.reference);var o=i._getOrCreate(t.persistencyKey);o.variants.push(r);o.byId[r.getId()]=r;return r};A.updateVariant=function(e){function n(t,n){var a=t.getLayer()===n;var r=t.getFlexObjectMetadata().packageName;var i=!r||r==="$TMP";var o=t.getChanges().some(function(e){return e.getLayer()===n});return t.getPersisted()&&a&&i&&!o&&S(t,e)}function a(t){return t.getChanges().reverse().find(function(t){return t.getChangeType()==="updateVariant"&&m(t,e)})}function r(e,t,n,a){var r={type:n,change:a,content:{previousState:t.getState(),previousContent:t.getContent(),previousFavorite:t.getFavorite(),previousExecuteOnSelection:t.getExecuteOnSelection(),previousContexts:t.getContexts(),previousName:t.getName(),previousAction:e.action}};t.addRevertData(new s(r))}function i(e,t){r(e,t,A.operationType.ContentUpdate);if(e.executeOnSelection!==undefined){t.storeExecuteOnSelection(e.executeOnSelection)}if(e.favorite!==undefined){t.storeFavorite(e.favorite)}if(e.contexts){t.storeContexts(e.contexts)}if(e.name){t.storeName(e.name)}if(e.transportId){t.setRequest(e.transportId)}t.storeContent(e.content||t.getContent())}function o(e,n,a){var i=a.getRevertData()||[];var o=Object.assign({},a.getContent());var s={previousContent:Object.assign({},o),previousState:a.getState(),change:t(Object.assign({},e),["favorite","executeOnSelection","contexts","content","name"])};i.push(s);a.setRevertData(i);if(e.executeOnSelection!==undefined){o.executeOnSelection=e.executeOnSelection}if(e.favorite!==undefined){o.favorite=e.favorite}if(e.contexts){o.contexts=e.contexts}if(e.content){o.variantContent=e.content}if(e.name){a.setText("variantName",e.name)}a.setContent(o);if(e.transportId){a.setRequest(e.transportId)}r(e,n,A.operationType.UpdateVariantViaChangeUpdate,a);v.applyChangeOnVariant(n,a)}function p(e,t){function n(t){var n=l.getCompVariantsMap(e.reference);var a=t.getSelector().persistencyKey;n[a].changes.push(t);n[a].byId[t.getId()]=t}var a={};["favorite","executeOnSelection","contexts"].forEach(function(t){if(e[t]!==undefined){a[t]=e[t]}});if(e.content!==undefined){a.variantContent=e.content}var i=c.createUIChange({changeType:"updateVariant",layer:f,fileType:"change",reference:e.reference,packageName:e.packageName,content:a,selector:{persistencyKey:e.persistencyKey,variantId:t.getVariantId()}});if(e.changeSpecificData&&e.changeSpecificData.adaptationId!==undefined){i.setAdaptationId(e.changeSpecificData.adaptationId)}if(e.name){i.setText("variantName",e.name,"XFLD",true)}if(e.transportId){i.setRequest(e.transportId)}n(i);r(e,t,A.operationType.NewChange,i);v.applyChangeOnVariant(t,i)}var u=N(e);var f=R(e);if(n(u,f)){i(e,u)}else{var g=a(u);if(g){o(e,u,g)}else{p(e,u)}}return u};A.discardVariantContent=function(e){var t=N(e);var n=t.getRevertData();if(n.length!==0){var a=n.slice().reverse().some(function(t){if(t.getContent().previousAction===A.updateActionType.SAVE){e.content=t.getContent().previousContent;e.action=A.updateActionType.DISCARD;return true}});if(!a){e.content=n[0].getContent().previousContent;e.action=A.updateActionType.DISCARD}A.updateVariant(e)}return t};A.updateActionType={UPDATE:"update",SAVE:"save",DISCARD:"discard",UPDATE_METADATA:"update_metadata"};A.operationType={StateUpdate:"StateUpdate",ContentUpdate:"ContentUpdate",NewChange:"NewChange",UpdateVariantViaChange:"UpdateVariantViaChange",UpdateVariantViaChangeUpdate:"UpdateVariantViaChangeUpdate"};A.removeVariant=function(e){var t=N(e);var n=t.getState();if(!e.revert){var a=new s({type:A.operationType.StateUpdate,content:{previousState:n}});t.addRevertData(a)}if(n===u.LifecycleState.NEW){var r=l.getCompVariantsMap(e.reference);var i=r._getOrCreate(e.persistencyKey);T(t,i);return t}t.markForDeletion();return t};A.revert=function(e){function n(t){var n=t.getSelector().persistencyKey;var a=l.getCompVariantsMap(e.reference);delete a[n].byId[t.getId()];a[n].changes=a[n].changes.filter(function(e){return e!==t})}var a=N(e);var r=a.getRevertData().pop();a.removeRevertData(r);var i=r.getContent();var o;switch(r.getType()){case A.operationType.ContentUpdate:L(a,Object.assign({name:i.previousName,content:i.previousContent,favorite:i.previousFavorite,executeOnSelection:i.previousExecuteOnSelection,contexts:i.previousContexts},t(e,["reference","persistencyKey","id"])));break;case A.operationType.NewChange:o=r.getChange();a.removeChange(o);n(o);M(a,Object.assign({name:i.previousName,content:i.previousContent,favorite:i.previousFavorite,executeOnSelection:i.previousExecuteOnSelection,contexts:i.previousContexts},t(e,["reference","persistencyKey","id"])));break;case A.operationType.UpdateVariantViaChangeUpdate:o=r.getChange();M(a,Object.assign({name:i.previousName,content:i.previousContent,favorite:i.previousFavorite,executeOnSelection:i.previousExecuteOnSelection,contexts:i.previousContexts},t(e,["reference","persistencyKey","id"])));var s=o.getRevertData().pop();o.setContent(s.previousContent);o.setState(s.previousState);break;case A.operationType.StateUpdate:default:break}a.setState(i.previousState);return a};A.overrideStandardVariant=function(e){var t=l.getCompVariantsMap(e.reference)[e.persistencyKey];var n=t.byId[t.standardVariant.getVariantId()];n.setExecuteOnSelection(!!e.executeOnSelection);var a=n.getChanges();n.removeAllChanges();a.forEach(function(e){v.applyChangeOnVariant(n,e)})};A.persist=function(e){function t(e,t,n){if(e.getLayer()===r.PUBLIC){e.setFavorite(false)}return d.write({flexObjects:[e.convertToFileContent()],layer:e.getLayer(),transport:e.getRequest(),isLegacyVariant:e.isVariant&&e.isVariant(),parentVersion:n}).then(function(t){if(t&&t.response&&t.response[0]){e.setResponse(t.response[0]);if(n){y.onAllChangesSaved({reference:t.response[0].reference,layer:t.response[0].layer,draftFilenames:[t.response[0].fileName]})}}else{e.setState(u.LifecycleState.PERSISTED)}}).then(function(){var n=e.convertToFileContent();V(t.changes.comp,e).push(n);return n})}function n(e,n,a,r){switch(e.getState()){case u.LifecycleState.NEW:F(e);return t(e,a,r);case u.LifecycleState.DIRTY:F(e);return O(e,a,r);case u.LifecycleState.DELETED:F(e);return b(e,n,a,r);default:break}}var a=e.reference;var i=e.persistencyKey;var o=l.getCompVariantsMap(a);var s=o._getOrCreate(i);return l.getStorageResponse(a).then(function(e){var t=U(s).filter(E);var a=t.map(function(a,r){if(r===0){var i=h("/persistedVersion",{layer:a.getLayer(),reference:a.getFlexObjectMetadata().reference});return n(a,s,e,i).then(function(){var a=t.map(function(t,a){if(a!==0){var r=i?C.Number.Draft:undefined;return n(t,s,e,r)}});return a})}});return Promise.all(a)})};A.persistAll=function(t){var n=e(l.getCompVariantsMap(t),"_getOrCreate","_initialize");var a=Object.keys(n).map(function(e){return A.persist({reference:t,persistencyKey:e})});return Promise.all(a)};A.hasDirtyChanges=function(e){var t=l.getCompVariantsMap(e);var n=[];for(var a in t){var r=t[a];for(var i in r.byId){n.push(r.byId[i])}}return n.some(function(e){return e.getState()!==u.LifecycleState.PERSISTED&&!(e.getVariantId&&e.getVariantId()==="*standard*")})};return A});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/api/Adaptations", [],function(){"use strict";return{UrlParameter:"sap-ui-fl-adaptation",Type:{Default:"DEFAULT",Baseline:"BASELINE",ContextBased:"CONTEXTBASED"}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/api/ContextBasedAdaptationsAPI", ["sap/ui/fl/write/api/Adaptations","sap/ui/fl/write/api/FeaturesAPI","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/write/_internal/flexState/FlexObjectState","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/ui/fl/Utils","sap/ui/fl/write/_internal/FlexInfoSession","sap/ui/fl/write/_internal/Storage","sap/ui/fl/write/_internal/Versions","sap/ui/model/json/JSONModel"],function(e,t,a,r,n,i,o,d,p,l,s,c){"use strict";var u={};var f={};function y(e){var t=r.getFlexReferenceForControl(e);if(!t){throw Error("The application ID could not be determined")}return t}function v(e,t,a,r){if(r){return s.updateModelFromBackend({reference:a.appId,layer:a.layer}).then(function(){return e})}s.onAllChangesSaved({reference:a.appId,layer:a.layer,contextBasedAdaptation:true});return Promise.resolve(e)}f.initialize=function(e){if(!e.layer){return Promise.reject("No layer was provided")}if(!e.control){return Promise.reject("No control was provided")}var a=y(e.control);e.reference=a;var r=e.layer;if(u&&u[a]&&u[a][r]){return Promise.resolve(u[a][r])}var n;return t.isContextBasedAdaptationAvailable(r).then(function(t){n=t;var a=n?f.load(e):Promise.resolve({adaptations:[]});return a}).then(function(t){var a=p.get(e.control)||{};var r=t.adaptations[0];if(a.adaptationId){r=t.adaptations.find(function(e){return e.id===a.adaptationId})||r}return f.createModel(t.adaptations,r,n)}).then(function(e){u[a]=u[a]||{};u[a][r]=u[a][r]||{};u[a][r]=e;return u[a][r]})};f.createModel=function(t,a,r){if(!Array.isArray(t)){throw Error("Adaptations model can only be initialized with an array of adaptations")}if(r&&!a){throw Error("Invalid call, must pass displayed adaptation")}if(!r&&t.length){throw Error("Invalid call, must not pass adaptations if feature is disabled")}var n=new c({allAdaptations:[],adaptations:[],count:0,displayedAdaptation:{},contextBasedAdaptationsEnabled:r});n.updateAdaptations=function(t){var a=t.filter(function(t,a){t.rank=a+1;return t.type!==e.Type.Default});n.setProperty("/adaptations",a);n.setProperty("/allAdaptations",t);n.setProperty("/count",a.length);n.updateBindings(true)};n.insertAdaptation=function(e){var t=n.getProperty("/allAdaptations");t.splice(e.priority,0,e);delete e.priority;n.updateAdaptations(t)};n.deleteAdaptation=function(){var e=n.getProperty("/displayedAdaptation").rank-1;var t=n.getProperty("/adaptations");var a=n.getProperty("/count");var r;if(a>1){r=t[e+(e===a-1?-1:1)].id}t.splice(e,1);var i=n.getProperty("/allAdaptations").pop();t.push(i);n.updateAdaptations(t);return r};n.switchDisplayedAdaptation=function(e){var t=n.getIndexByAdaptationId(e);var a=t?n.getProperty("/allAdaptations")[t]:n.getProperty("/allAdaptations")[0];n.setProperty("/displayedAdaptation",a);n.updateBindings(true)};n.updateAdaptationContent=function(e){var t=n.getProperty("/allAdaptations");var a=n.getProperty("/displayedAdaptation").rank-1;t[a].title=e.title;t[a].contexts=e.contexts;if(a!==e.priority){var r=t.splice(a,1);t.splice(e.priority,0,r[0])}n.updateAdaptations(t)};n.getIndexByAdaptationId=function(e){var t=n.getProperty("/allAdaptations");var a=t.findIndex(function(t){return t.id===e});return a>-1?a:undefined};if(t.length>0){n.updateAdaptations(t);n.setProperty("/displayedAdaptation",a)}return n};f.getAdaptationsModel=function(e){if(!e.layer){throw Error("No layer was provided")}if(!e.control){throw Error("No control was provided")}e.reference=y(e.control);var t=e.reference;var a=e.layer;if(!f.hasAdaptationsModel(e)){throw Error("Adaptations model for reference '"+t+"' and layer '"+a+"' were not initialized.")}return u[t][a]};f.getDisplayedAdaptationId=function(t){var a=this.getAdaptationsModel(t).getProperty("/displayedAdaptation/id");return a!==e.Type.Default?a:undefined};f.hasAdaptationsModel=function(e){var t=e.reference;var a=e.layer;return u[t]&&u[t][a]};f.adaptationExists=function(e){var t=e.reference;var a=e.layer;return this.hasAdaptationsModel({reference:t,layer:a})&&u[t][a].getProperty("/count")>0};f.clearInstances=function(){u={}};f.refreshAdaptationModel=function(e){this.clearInstances();return this.initialize(e).then(function(e){return e.getProperty("/displayedAdaptation/id")})};function A(e,t){return e.get(t)||t}function g(e,t,r,n){e.forEach(function(e){var i=a.createFromFileContent(e.cloneFileContentWithNewId());var o=i.getId();i.setAdaptationId(n);t.push(i);r.set(e.getId(),o)})}function h(e,t,r,n){e.forEach(function(e){var i=d.createDefaultFileName(e.getId().split("_").pop());var o=a.createFromFileContent(e.cloneFileContentWithNewId(i));if(e.getFileType()==="change"){if(e.getSelector().variantId){o.getSelector().variantId=A(r,o.getSelector().variantId)}else if(e.getContent().defaultVariantName){o.getContent().defaultVariantName=A(r,o.getContent().defaultVariantName)}if(e.getVariantReference()){o.setVariantReference(A(r,o.getVariantReference()))}}else if(e.getFileType()==="ctrl_variant_change"&&e.getSelector().id){o.getSelector().id=A(r,o.getSelector().id)}else if(e.getFileType()==="ctrl_variant_management_change"&&e.getContent().defaultVariant){o.getContent().defaultVariant=A(r,o.getContent().defaultVariant)}o.setAdaptationId(n);t.push(o)})}function I(e,t){var a=[];var r=[];var n=[];var i=new Map;e.forEach(function(e){if(e.isA("sap.ui.fl.apply._internal.flexObjects.Variant")){r.push(e)}else{n.push(e)}});g(r,a,i,t);h(n,a,i,t);return a.map(function(e){return e.convertToFileContent()})}function m(e){return s.getVersionsModel({layer:e.layer,reference:e.appId}).getProperty("/persistedVersion")}f.create=function(e){if(!e.layer){return Promise.reject("No layer was provided")}if(!e.control){return Promise.reject("No control was provided")}if(!e.contextBasedAdaptation){return Promise.reject("No contextBasedAdaptation was provided")}e.contextBasedAdaptation.id=d.createDefaultFileName();e.appId=y(e.control);return l.contextBasedAdaptation.create({layer:e.layer,flexObject:e.contextBasedAdaptation,appId:e.appId,parentVersion:m(e)}).then(function(t){var a=this.getAdaptationsModel(e);a.insertAdaptation(e.contextBasedAdaptation);return v(t,201,e)}.bind(this)).then(function(){return n.getFlexObjects({selector:e.control,invalidateCache:false,includeCtrlVariants:true,includeDirtyChanges:true,currentLayer:i.CUSTOMER})}).then(function(t){var a=o.filterChangeOrChangeDefinitionsByCurrentLayer(t,i.CUSTOMER);var r=I(a,e.contextBasedAdaptation.id);return l.contextBasedAdaptation.writeChange({layer:e.layer,flexObjects:r,transport:"",isLegacyVariant:false,parentVersion:m(e)})})};f.update=function(e){if(!e.layer){return Promise.reject("No layer was provided")}if(!e.control){return Promise.reject("No control was provided")}if(!e.contextBasedAdaptation){return Promise.reject("No contextBasedAdaptation was provided")}if(!e.adaptationId){return Promise.reject("No adaptationId was provided")}e.appId=y(e.control);return l.contextBasedAdaptation.update({layer:e.layer,flexObject:e.contextBasedAdaptation,appId:e.appId,adaptationId:e.adaptationId,parentVersion:m(e)}).then(function(t){return v(t,200,e)})};f.reorder=function(e){if(!e.layer){return Promise.reject("No layer was provided")}if(!e.control){return Promise.reject("No control was provided")}if(!e.parameters||!e.parameters.priorities){return Promise.reject("No valid priority list was provided")}e.appId=y(e.control);return l.contextBasedAdaptation.reorder({layer:e.layer,flexObjects:e.parameters,appId:e.appId,parentVersion:m(e)}).then(function(t){return v(t,204,e)})};f.load=function(e){if(!e.layer){return Promise.reject("No layer was provided")}if(!e.control){return Promise.reject("No control was provided")}e.appId=y(e.control);return l.contextBasedAdaptation.load({layer:e.layer,appId:e.appId,version:m(e)}).then(function(e){if(!e){e={adaptations:[]}}return e})};f.remove=function(e){if(!e.layer){return Promise.reject("No layer was provided")}if(!e.control){return Promise.reject("No control was provided")}if(!e.adaptationId){return Promise.reject("No adaptationId was provided")}e.appId=y(e.control);return l.contextBasedAdaptation.remove({layer:e.layer,appId:e.appId,adaptationId:e.adaptationId,parentVersion:m(e)}).then(function(t){return v(t,204,e,true)})};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/api/FeaturesAPI", ["sap/ui/fl/registry/Settings","sap/ui/fl/Layer","sap/ui/fl/Utils"],function(n,e,t){"use strict";var i={isPublishAvailable:function(){return n.getInstance().then(function(n){return n.isPublishAvailable()||!n.isProductiveSystem()&&n.isSystemWithTransports()})},isSaveAsAvailable:function(i){return Promise.all([n.getInstance(),t.getUShellService("CrossApplicationNavigation")]).then(function(n){var t=n[0];var r=n[1];return t.isAppVariantSaveAsEnabled()&&i===e.CUSTOMER&&r!==undefined}).catch(function(){return false})},isContextBasedAdaptationAvailable:function(t){return n.getInstance().then(function(n){if(n.isContextBasedAdaptationEnabled()&&t===e.CUSTOMER){return true}return false})},isKeyUser:function(){return n.getInstance().then(function(n){return n.isKeyUser()})},isVersioningEnabled:function(e){return n.getInstance().then(function(n){return n.isVersioningEnabled(e)})},isKeyUserTranslationEnabled:function(t){if(t===e.CUSTOMER){return n.getInstance().then(function(n){return n.isKeyUserTranslationEnabled()})}return Promise.resolve(false)},isContextSharingEnabled:function(t){if(t!==e.CUSTOMER){return Promise.resolve(false)}return n.getInstance().then(function(n){return n.isContextSharingEnabled({layer:t})})}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/api/Version", [],function(){"use strict";return{Number:{Original:"-1",Draft:"0"},UrlParameter:"sap-ui-fl-version",Type:{Active:"active",Draft:"draft",Inactive:"inactive"}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/Grid", ["sap/ui/core/Control","./library","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/base/ManagedObjectObserver","./GridRenderer","sap/ui/thirdparty/jquery"],function(e,t,i,s,a,n,jQuery){"use strict";var o=e.extend("sap.ui.layout.Grid",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},vSpacing:{type:"float",group:"Dimension",defaultValue:1},hSpacing:{type:"float",group:"Dimension",defaultValue:1},position:{type:"sap.ui.layout.GridPosition",group:"Dimension",defaultValue:"Left"},defaultSpan:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:"XL3 L3 M6 S12"},defaultIndent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:"XL0 L0 M0 S0"},containerQuery:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/Grid.designtime"},renderer:n});(function(){o.prototype.init=function(){var e=t.GridHelper.getLibrarySpecificClass();if(e){this.addStyleClass(e)}this._iBreakPointTablet=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._indentXLChanged=false;this._spanXLChanged=false;this._oObserver=new a(o.prototype._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["content"]})};o.prototype.onAfterRendering=function(){if(this.getContainerQuery()){this._sContainerResizeListener=s.register(this,jQuery.proxy(this._onParentResize,this));this._onParentResize()}else{this._attachMediaContainerWidthChange(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED)}};o.prototype.onBeforeRendering=function(){this._cleanup()};o.prototype.exit=function(){this._cleanup();if(this._oObserver){this._oObserver.disconnect();this._oObserver=null}};o.prototype._cleanup=function(){if(this._sContainerResizeListener){s.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null}this._detachMediaContainerWidthChange(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED)};o.prototype._observeVisibility=function(e){this._oObserver.observe(e,{properties:["visible"]})};o.prototype._unobserveVisibility=function(e){this._oObserver.unobserve(e,{properties:["visible"]})};o.prototype._observeChanges=function(e){var t=e.object,i=e.name,s=e.mutation,a=e.child;if(t===this){if(s==="insert"){this._observeVisibility(a)}else if(s==="remove"){this._unobserveVisibility(a)}}else if(i==="visible"){var n=this.getContent().indexOf(t);jQuery(this.$().children()[n]).toggleClass("sapUiRespGridSpanInvisible",!e.current)}};o.prototype._handleMediaChange=function(e){this._toggleClass(e.name)};o.prototype._setBreakPointTablet=function(e){this._iBreakPointTablet=e};o.prototype._setBreakPointDesktop=function(e){this._iBreakPointDesktop=e};o.prototype._setBreakPointLargeDesktop=function(e){this._iBreakPointLargeDesktop=e};o.prototype.setDefaultIndent=function(e){if(/XL/gi.test(e)){this._setIndentXLChanged(true)}return this.setProperty("defaultIndent",e)};o.prototype._setIndentXLChanged=function(e){this._indentXLChanged=e};o.prototype._getIndentXLChanged=function(){return this._indentXLChanged};o.prototype.setDefaultSpan=function(e){if(/XL/gi.test(e)){this._setSpanXLChanged(true)}return this.setProperty("defaultSpan",e)};o.prototype._setSpanXLChanged=function(e){this._spanXLChanged=e};o.prototype._getSpanXLChanged=function(){return this._spanXLChanged};o.prototype._onParentResize=function(){var e=this.getDomRef();if(!e){this._cleanup();return}if(!jQuery(e).is(":visible")){return}var t=e.clientWidth;if(t<=this._iBreakPointTablet){this._toggleClass("Phone")}else if(t>this._iBreakPointTablet&&t<=this._iBreakPointDesktop){this._toggleClass("Tablet")}else if(t>this._iBreakPointDesktop&&t<=this._iBreakPointLargeDesktop){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}};o.prototype._toggleClass=function(e){var t=this.$();if(!t){return}if(t.hasClass("sapUiRespGridMedia-Std-"+e)){return}t.toggleClass("sapUiRespGridMedia-Std-"+e,true);if(e==="Phone"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}else if(e==="Tablet"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}else if(e==="LargeDesktop"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false)}else{t.toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}this.fireEvent("mediaChanged",{media:e})};o.prototype._getLayoutDataForControl=function(e){var t=e.getLayoutData();if(!t){return undefined}else if(t.isA("sap.ui.layout.GridData")){return t}else if(t.isA("sap.ui.core.VariantLayoutData")){var i=t.getMultipleLayoutData();for(var s=0;s<i.length;s++){var a=i[s];if(a&&a.isA("sap.ui.layout.GridData")){return a}}}};o.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate()}};o.prototype._getAccessibleRole=function(){return null};o.prototype.getAccessibilityInfo=function(){return{children:this.getContent().filter(function(e){return e.$().is(":visible")})}}})();return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/GridData", ["sap/ui/core/LayoutData","./library","sap/base/Log"],function(e,t,n){"use strict";var a=e.extend("sap.ui.layout.GridData",{metadata:{library:"sap.ui.layout",properties:{span:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:null},spanXL:{type:"int",group:"Behavior",defaultValue:null},spanL:{type:"int",group:"Behavior",defaultValue:null},spanM:{type:"int",group:"Behavior",defaultValue:null},spanS:{type:"int",group:"Behavior",defaultValue:null},indent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:null},indentXL:{type:"int",group:"Behavior",defaultValue:null},indentL:{type:"int",group:"Behavior",defaultValue:null},indentM:{type:"int",group:"Behavior",defaultValue:null},indentS:{type:"int",group:"Behavior",defaultValue:null},visibleXL:{type:"boolean",group:"Behavior",defaultValue:true},visibleL:{type:"boolean",group:"Behavior",defaultValue:true},visibleM:{type:"boolean",group:"Behavior",defaultValue:true},visibleS:{type:"boolean",group:"Behavior",defaultValue:true},moveBackwards:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},moveForward:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},linebreak:{type:"boolean",group:"Misc",defaultValue:false},linebreakXL:{type:"boolean",group:"Misc",defaultValue:false},linebreakL:{type:"boolean",group:"Misc",defaultValue:false},linebreakM:{type:"boolean",group:"Misc",defaultValue:false},linebreakS:{type:"boolean",group:"Misc",defaultValue:false},spanLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},visibleOnLarge:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnMedium:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnSmall:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true}}}});(function(){a.prototype._setStylesInternal=function(e){if(e&&e.length>0){this._sStylesInternal=e}else{this._sStylesInternal=undefined}};a.prototype._getEffectiveSpanXLarge=function(){var e=this.getSpanXL();if(e&&e>0&&e<13){return e}var t=/XL([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,2)==="XL"){return parseInt(a.substr(2))}}}return undefined};a.prototype._getEffectiveSpanLarge=function(){var e=this.getSpanL();if(e&&e>0&&e<13){return e}var t=/\bL([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="L"){return parseInt(a.substr(1))}}}return undefined};a.prototype._getEffectiveSpanMedium=function(){var e=this.getSpanM();if(e&&e>0&&e<13){return e}var t=/M([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="M"){return parseInt(a.substr(1))}}}return undefined};a.prototype._getEffectiveSpanSmall=function(){var e=this.getSpanS();if(e&&e>0&&e<13){return e}var t=/S([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="S"){return parseInt(a.substr(1))}}}return undefined};a.prototype.init=function(){this._bLinebreakXLChanged=false};a.prototype.setLinebreakXL=function(e){this.setProperty("linebreakXL",e);this._bLinebreakXLChanged=true;return this};a.prototype._getLinebreakXLChanged=function(){return this._bLinebreakXLChanged};a.prototype.setSpanLarge=function(e){this.setSpanL(e);n.warning("Deprecated property spanLarge is used, please use spanL instead.");return this};a.prototype.setSpanMedium=function(e){n.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.setSpanM(e)};a.prototype.setSpanSmall=function(e){n.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.setSpanS(e)};a.prototype.setIndentLarge=function(e){n.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.setIndentL(e)};a.prototype.setIndentMedium=function(e){n.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.setIndentM(e)};a.prototype.setIndentSmall=function(e){n.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.setIndentS(e)};a.prototype.setVisibleOnLarge=function(e){n.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.setVisibleL(e)};a.prototype.setVisibleOnMedium=function(e){n.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.setVisibleM(e)};a.prototype.setVisibleOnSmall=function(e){n.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.setVisibleS(e)};a.prototype.getSpanLarge=function(){n.warning("Deprecated property spanLarge is used, please use spanL instead.");return this.getSpanL()};a.prototype.getSpanMedium=function(){n.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.getSpanM()};a.prototype.getSpanSmall=function(){n.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.getSpanS()};a.prototype.getIndentLarge=function(){n.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.getIndentL()};a.prototype.getIndentMedium=function(){n.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.getIndentM()};a.prototype.getIndentSmall=function(){n.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.getIndentS()};a.prototype.getVisibleOnLarge=function(){n.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.getVisibleL()};a.prototype.getVisibleOnMedium=function(){n.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.getVisibleM()};a.prototype.getVisibleOnSmall=function(){n.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.getVisibleS()}})();return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/GridRenderer", ["sap/ui/Device","sap/ui/layout/library"],function(e,s){"use strict";var a=s.GridPosition;var i={apiVersion:2};i.render=function(s,i){var r=/^([X][L](?:[0-9]|1[0-1]))? ?([L](?:[0-9]|1[0-1]))? ?([M](?:[0-9]|1[0-1]))? ?([S](?:[0-9]|1[0-1]))?$/i;var t=/^([X][L](?:[1-9]|1[0-2]))? ?([L](?:[1-9]|1[0-2]))? ?([M](?:[1-9]|1[0-2]))? ?([S](?:[1-9]|1[0-2]))?$/i;s.openStart("div",i);s.class("sapUiRespGrid");var p=i._getCurrentMediaContainerRange(e.media.RANGESETS.SAP_STANDARD_EXTENDED).name;s.class("sapUiRespGridMedia-Std-"+p);var n=i.getHSpacing();if(n===.5){n="05"}else if(n!==0&&n!==1&&n!==2){n=1}s.class("sapUiRespGridHSpace"+n);var l=i.getVSpacing();if(l===.5){l="05"}else if(l!==0&&l!==1&&l!==2){l=1}s.class("sapUiRespGridVSpace"+l);var d=i.getPosition();if(d){d=d.toUpperCase();if(d===a.Center.toUpperCase()){s.class("sapUiRespGridPosCenter")}else if(d===a.Right.toUpperCase()){s.class("sapUiRespGridPosRight")}}var f=i.getWidth();if(f!=="100%"&&f!=="auto"&&f!=="inherit"){if(n===0){s.style("width",f)}else{s.style("width","-webkit-calc("+f+" - "+n+"rem)");s.style("width","calc("+f+" - "+n+"rem)")}}var v=i._getAccessibleRole();var c;if(v){c={role:v}}s.accessibilityState(i,c);s.openEnd();var g=i.getContent();var o=i.getDefaultSpan();var L=["","XL3","L3","M6","S12"];var S=["","XL0","L0","M0","S0"];var U=t.exec(o);var u=i._getSpanXLChanged();var R=i._getIndentXLChanged();var G=i.getDefaultIndent();var b=r.exec(G);for(var X=0;X<g.length;X++){s.openStart("div",i.getId()+"-wrapperfor-"+g[X].getId());var h=i._getLayoutDataForControl(g[X]);var C=false;if(!g[X].getVisible()){s.class("sapUiRespGridSpanInvisible")}if(h){var I=false;if(h.getLinebreak()===true){s.class("sapUiRespGridBreak")}else{if(h.getLinebreakXL()===true){I=true;s.class("sapUiRespGridBreakXL")}if(h.getLinebreakL()===true){if(!I&&!h._getLinebreakXLChanged()){s.class("sapUiRespGridBreakXL")}s.class("sapUiRespGridBreakL")}if(h.getLinebreakM()===true){s.class("sapUiRespGridBreakM")}if(h.getLinebreakS()===true){s.class("sapUiRespGridBreakS")}}var M;var k;var y=h.getSpan();if(!y){M=U}else{M=t.exec(y);if(/XL/gi.test(y)){C=true}}if(M){for(var _=1;_<M.length;_++){var w=M[_];if(!w){w=U[_];if(!w){w=L[_]}}if(w.substr(0,1)==="L"){k=w.substr(1,2)}var B=h.getSpanXL();var D=h.getSpanL();var V=h.getSpanM();var x=h.getSpanS();w=w.toUpperCase();if(w.substr(0,2)==="XL"&&B>0&&B<13){s.class("sapUiRespGridSpanXL"+B);C=true}else if(w.substr(0,1)==="L"&&D>0&&D<13){s.class("sapUiRespGridSpanL"+D);k=D}else if(w.substr(0,1)==="M"&&V>0&&V<13){s.class("sapUiRespGridSpanM"+V)}else if(w.substr(0,1)==="S"&&x>0&&x<13){s.class("sapUiRespGridSpanS"+x)}else{if(w.substr(0,2)!=="XL"||u||C){s.class("sapUiRespGridSpan"+w)}}}if(!u&&!C){s.class("sapUiRespGridSpanXL"+k)}}var E;var H;var A=h.getIndent();if(!A||A.length==0){E=b}else{E=r.exec(A);if(/XL/gi.test(A)){R=true}}if(!E){E=b;if(!E){E=undefined}}var P=h.getIndentXL();var m=h.getIndentL();var F=h.getIndentM();var N=h.getIndentS();if(E){for(var _=1;_<E.length;_++){var T=E[_];if(!T){if(b&&b[_]){T=b[_]}else{T=S[_]}}if(T){T=T.toUpperCase();if(T.substr(0,1)==="L"){H=T.substr(1,2)}if(T.substr(0,2)==="XL"&&P>0&&P<12){s.class("sapUiRespGridIndentXL"+P);R=true}else if(T.substr(0,1)==="L"&&m>0&&m<12){s.class("sapUiRespGridIndentL"+m);H=m}else if(T.substr(0,1)==="M"&&F>0&&F<12){s.class("sapUiRespGridIndentM"+F)}else if(T.substr(0,1)==="S"&&N>0&&N<12){s.class("sapUiRespGridIndentS"+N)}else{if(!/^(XL0)? ?(L0)? ?(M0)? ?(S0)?$/.exec(T)){s.class("sapUiRespGridIndent"+T)}}}}if(!R){if(H&&H>0){s.class("sapUiRespGridIndentXL"+H)}}}if(!h.getVisibleXL()){s.class("sapUiRespGridHiddenXL")}if(!h.getVisibleL()){s.class("sapUiRespGridHiddenL")}if(!h.getVisibleM()){s.class("sapUiRespGridHiddenM")}if(!h.getVisibleS()){s.class("sapUiRespGridHiddenS")}var $=h.getMoveBackwards();if($&&$.length>0){var W=r.exec($);if(W){for(var _=1;_<W.length;_++){var j=W[_];if(j){s.class("sapUiRespGridBwd"+j.toUpperCase())}}}}var q=h.getMoveForward();if(q&&q.length>0){var z=r.exec(q);if(z){for(var _=1;_<z.length;_++){var J=z[_];if(J){s.class("sapUiRespGridFwd"+J.toUpperCase())}}}}if(typeof h._sStylesInternal==="string"){var K=h._sStylesInternal.split(" ");for(var O=0;O<K.length;O++){s.class(K[O])}}}if(!h){var w="";if(U){for(var _=1;_<U.length;_++){w=U[_];if(!w){if(_===1&&U[_+1]){w="X"+U[_+1]}else{w=L[_]}}s.class("sapUiRespGridSpan"+w.toUpperCase())}}else{for(var _=1;_<L.length;_++){w=L[_];s.class("sapUiRespGridSpan"+w.toUpperCase())}}var T="";if(b){for(var _=1;_<b.length;_++){T=b[_];if(!T){if(_===1&&b[_+1]){T="X"+b[_+1]}else{T=S[_]}}if(T.substr(0,1)!=="X"&&T.substr(1,1)!=="0"||T.substr(0,1)=="X"&&T.substr(2,1)!=="0"){s.class("sapUiRespGridIndent"+T.toUpperCase())}}}}s.openEnd();s.renderControl(g[X]);s.close("div")}s.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/HorizontalLayout", ["sap/ui/core/Control","./library","./HorizontalLayoutRenderer"],function(e,t,a){"use strict";var o=e.extend("sap.ui.layout.HorizontalLayout",{metadata:{library:"sap.ui.layout",properties:{allowWrapping:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},designtime:"sap/ui/layout/designtime/HorizontalLayout.designtime",dnd:{draggable:false,droppable:true}},renderer:a});o.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/HorizontalLayoutRenderer", [],function(){"use strict";var r={apiVersion:2};r.render=function(r,a){var e=r;var n=!a.getAllowWrapping();e.openStart("div",a);e.class("sapUiHLayout");if(n){e.class("sapUiHLayoutNoWrap")}e.openEnd();var i=a.getContent();for(var t=0;t<i.length;t++){if(n){e.openStart("div");e.class("sapUiHLayoutChildWrapper");e.openEnd()}e.renderControl(i[t]);if(n){e.close("div")}}e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayout", ["sap/ui/core/Control","sap/ui/core/EnabledPropagator","./library","./VerticalLayoutRenderer"],function(e,t,a,r){"use strict";var i=e.extend("sap.ui.layout.VerticalLayout",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},dnd:{draggable:false,droppable:true},designtime:"sap/ui/layout/designtime/VerticalLayout.designtime"},renderer:r});i.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};t.call(i.prototype);return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayoutRenderer", [],function(){"use strict";var t={apiVersion:2};t.render=function(t,e){var i=t;i.openStart("div",e);i.class("sapUiVlt");i.class("sapuiVlt");if(e.getWidth()&&e.getWidth()!=""){i.style("width",e.getWidth())}i.openEnd();var n=e.getContent();for(var s=0;s<n.length;s++){i.openStart("div");i.class("sapUiVltCell");i.class("sapuiVltCell");i.openEnd();i.renderControl(n[s]);i.close("div")}i.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/Form", ["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/layout/library","./FormRenderer"],function(e,t,i,o){"use strict";var r=e.extend("sap.ui.layout.form.Form",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"formContainers",aggregations:{formContainers:{type:"sap.ui.layout.form.FormContainer",multiple:true,singularName:"formContainer"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},layout:{type:"sap.ui.layout.form.FormLayout",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/Form.designtime"},renderer:o});r.prototype.init=function(){this._oObserver=new t(n.bind(this));this._oObserver.observe(this,{properties:["editable"],aggregations:["formContainers"]})};r.prototype.exit=function(){this._oObserver.disconnect();this._oObserver=undefined};r.prototype.toggleContainerExpanded=function(e){var t=this.getLayout();if(t){t.toggleContainerExpanded(e)}};r.prototype.contentOnAfterRendering=function(e,t){var i=this.getLayout();if(i&&i.contentOnAfterRendering){i.contentOnAfterRendering(e,t)}};r.prototype.onLayoutDataChange=function(e){var t=this.getLayout();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype.onBeforeFastNavigationFocus=function(e){var t=this.getLayout();if(t&&t.onBeforeFastNavigationFocus){t.onBeforeFastNavigationFocus(e)}};r.prototype.setEditable=function(e){this.setProperty("editable",e,true);return this};function a(e,t){if(e!=t&&this.getDomRef()){if(e){this.$().addClass("sapUiFormEdit").addClass("sapUiFormEdit-CTX");this.$().removeAttr("aria-readonly")}else{this.$().removeClass("sapUiFormEdit").removeClass("sapUiFormEdit-CTX");this.$().attr("aria-readonly","true")}}var i=this.getFormContainers();for(var o=0;o<i.length;o++){var r=i[o];r._setEditable(e)}}r.prototype.setToolbar=function(e){e=i.form.FormHelper.setToolbar.call(this,e);this.setAggregation("toolbar",e);return this};r.prototype.invalidate=function(t){if(!this._bNoInvalidate){e.prototype.invalidate.apply(this,arguments)}};r.prototype.getContainerRenderedDomRef=function(e){var t=this.getLayout();if(t&&t.getContainerRenderedDomRef){return t.getContainerRenderedDomRef(e)}else{return null}};r.prototype.getElementRenderedDomRef=function(e){var t=this.getLayout();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype.getVisibleFormContainers=function(){var e=this.getFormContainers();var t=[];for(var i=0;i<e.length;i++){var o=e[i];if(o.isVisible()){t.push(o)}}return t};r.prototype._suggestTitleId=function(e){this._sSuggestedTitleId=e;if(this.getDomRef()){this.invalidate()}return this};function n(e){if(e.name==="editable"){a.call(this,e.current,e.old)}else if(e.name==="formContainers"){s.call(this,e.mutation,e.child)}}function s(e,t){if(e==="insert"){t._setEditable(this.getEditable())}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormContainer", ["sap/ui/core/Element","sap/ui/base/ManagedObjectObserver","sap/ui/core/theming/Parameters","sap/ui/layout/library","sap/base/Log"],function(e,t,i,n,o){"use strict";var r=e.extend("sap.ui.layout.form.FormContainer",{metadata:{library:"sap.ui.layout",properties:{expanded:{type:"boolean",group:"Misc",defaultValue:true},expandable:{type:"boolean",group:"Misc",defaultValue:false},visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"formElements",aggregations:{formElements:{type:"sap.ui.layout.form.FormElement",multiple:true,singularName:"formElement"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},_expandButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/FormContainer.designtime"}});r.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");this._oObserver=new t(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["expanded","expandable"],aggregations:["formElements"]})};r.prototype.exit=function(){if(this._oExpandButton){delete this._oExpandButton}this._rb=undefined;this._oObserver.disconnect();this._oObserver=undefined};function a(e){if(e){if(!this._oExpandButton){if(!this._bExpandButtonRequired){this._bExpandButtonRequired=true;n.form.FormHelper.createButton.call(this,this.getId()+"--Exp",p,s)}}else{u.call(this)}}}function s(e){if(!this._bIsBeingDestroyed){this._oExpandButton=e;this.setAggregation("_expandButton",this._oExpandButton);u.call(this)}}function l(e){u.call(this);var t=this.getParent();if(t&&t.toggleContainerExpanded){t.toggleContainerExpanded(this)}}r.prototype.setToolbar=function(e){e=n.form.FormHelper.setToolbar.call(this,e);this.setAggregation("toolbar",e);return this};r.prototype.contentOnAfterRendering=function(e,t){var i=this.getParent();if(i&&i.contentOnAfterRendering){i.contentOnAfterRendering(e,t)}};r.prototype.onLayoutDataChange=function(e){var t=this.getParent();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype._checkProperties=function(){var e=0;if(this.getExpandable()&&(!this.getTitle()||this.getToolbar())){o.warning("Expander only displayed if title is set",this.getId(),"FormContainer");e=1}return e};r.prototype.getRenderedDomRef=function(){var e=this;var t=this.getParent();if(t&&t.getContainerRenderedDomRef){return t.getContainerRenderedDomRef(e)}else{return null}};r.prototype.getElementRenderedDomRef=function(e){var t=this.getParent();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype.getVisibleFormElements=function(){var e=this.getFormElements();var t=[];for(var i=0;i<e.length;i++){var n=e[i];if(n.isVisible()){t.push(n)}}return t};r.prototype._setEditable=function(e){var t=this.getProperty("_editable");this.setProperty("_editable",e,true);if(e!==t){var i=this.getFormElements();for(var n=0;n<i.length;n++){var o=i[n];o._setEditable(e)}}};r.prototype.isVisible=function(){return this.getVisible()};function u(){if(!this._oExpandButton){return}var e,t,o,r;if(this.getExpanded()){e=i._getThemeImage("_sap_ui_layout_Form_FormContainerColImageURL");t=i._getThemeImage("_sap_ui_layout_Form_FormContainerColImageDownURL");o="-";r=this._rb.getText("FORM_COLLAPSE")}else{e=i._getThemeImage("_sap_ui_layout_Form_FormContainerExpImageURL");t=i._getThemeImage("_sap_ui_layout_Form_FormContainerExpImageDownURL");o="+";r=this._rb.getText("FORM_EXPAND")}if(e){o=""}n.form.FormHelper.setButtonContent(this._oExpandButton,o,r,e,t)}function p(e){this.setExpanded(!this.getExpanded())}r.prototype._observeChanges=function(e){if(e.name=="formElements"){d.call(this,e.mutation,e.child)}else if(e.name=="expanded"){l.call(this,e.current)}else if(e.name=="expandable"){a.call(this,e.current)}};function d(e,t){if(e==="insert"){var i=this.getProperty("_editable");t._setEditable(i)}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormElement", ["sap/ui/core/Element","sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/layout/library","sap/base/Log"],function(e,t,i,s,a){"use strict";var r=e.extend("sap.ui.layout.form.FormElement",{metadata:{library:"sap.ui.layout",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"fields",aggregations:{label:{type:"sap.ui.core.Label",altTypes:["string"],multiple:false},_label:{type:"sap.ui.core.Label",multiple:false,visibility:"hidden"},fields:{type:"sap.ui.core.Control",multiple:true,singularName:"field"}},designtime:"sap/ui/layout/designtime/form/FormElement.designtime"}});r.prototype.init=function(){this._oFieldDelegate={oElement:this,onAfterRendering:f};this._oObserver=new i(this._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["fields"]})};r.prototype.exit=function(){if(this._oLabel){delete this._oLabel}this._oFieldDelegate=undefined;this._oObserver.disconnect();this._oObserver=undefined};r.prototype.setLabel=function(e){if(!this._oLabel){var t=this.getLabel();if(t){if(t.setAlternativeLabelFor){t.setAlternativeLabelFor(null)}if(t.isRequired){t.isRequired=t._sapuiIsRequired;t._sapuiIsRequired=undefined;t.disableRequiredChangeCheck(false)}if(t.isDisplayOnly){t.isDisplayOnly=t._sapuiIsDisplayOnly;t._sapuiIsDisplayOnly=undefined}if(t.isWrapping){t.isWrapping=t._sapuiIsWrapping;t._sapuiIsWrapping=undefined}}}this.setAggregation("label",e);var i=e;if(typeof i==="string"){this._setInternalLabel(i)}else{if(this._oLabel){this._oLabel.destroy();delete this._oLabel}if(i&&i.isRequired){i._sapuiIsRequired=i.isRequired;i.isRequired=o;i.disableRequiredChangeCheck(true)}if(i&&i.isDisplayOnly){i._sapuiIsDisplayOnly=i.isDisplayOnly;i.isDisplayOnly=u}if(i&&i.isWrapping){i._sapuiIsWrapping=i.isWrapping;i.isWrapping=p}d.call(this)}return this};r.prototype._setInternalLabel=function(e){if(!this._oLabel){this._oLabel=s.form.FormHelper.createLabel(e,this.getId()+"-label");this.setAggregation("_label",this._oLabel,true);this._oLabel.disableRequiredChangeCheck(true);if(this._oLabel.isRequired){this._oLabel.isRequired=o}if(this._oLabel.isDisplayOnly){this._oLabel.isDisplayOnly=u}if(this._oLabel.setWrapping){this._oLabel.setWrapping(true)}}else{this._oLabel.setText(e)}d.call(this)};r.prototype.destroyLabel=function(){this.destroyAggregation("label");if(this._oLabel){this._oLabel.destroy();delete this._oLabel}return this};r.prototype.getLabelControl=function(){if(this._oLabel){return this._oLabel}else{return this.getLabel()}};r.prototype.updateFields=function(){var e=this.getFields();var t;var i=0;for(i=0;i<e.length;i++){t=e[i];h.call(this,t)}this.updateAggregation("fields");e=this.getFields();for(i=0;i<e.length;i++){t=e[i];g.call(this,t)}d.call(this);return this};r.prototype.enhanceAccessibilityState=function(e,t){var i=this.getLabelControl();if(i&&i!=e&&e.getMetadata().getAllAssociations().ariaLabelledBy){var s=t["labelledby"];if(!s){s=i.getId()}else{var a=s.split(" ");if(a.indexOf(i.getId())<0){a.splice(0,0,i.getId());s=a.join(" ")}}t["labelledby"]=s}};r.prototype.onLayoutDataChange=function(e){var t=this.getParent();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype.getRenderedDomRef=function(){var e=this;var t=this.getParent();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype._setEditable=function(e){var t=this.getProperty("_editable");this.setProperty("_editable",e,true);if(e!==t){this.invalidateLabel()}};r.prototype.invalidateLabel=function(){var e=this.getLabelControl();if(e&&e.getDomRef()){e.invalidate()}};r.prototype.isVisible=function(){return this.getVisible()};r.prototype.getFieldsForRendering=function(){return this.getFields()};r.prototype._observeChanges=function(e){if(e.object==this){if(e.name=="fields"){l.call(this,e.child,e.mutation)}}else{n.call(this,e)}};function l(e,t){if(t=="insert"){if(!e.isA("sap.ui.core.IFormContent")){a.warning(e+" is not valid Form content",this)}g.call(this,e)}else{h.call(this,e)}d.call(this)}function n(e){if(e.name=="required"||e.name=="editable"){this.invalidateLabel()}}function o(){if(this.getRequired&&this.getRequired()){return true}var e=this.getParent();var t=e.getFields();for(var i=0;i<t.length;i++){var s=t[i];if(s.getRequired&&s.getRequired()===true&&(!s.getEditable||s.getEditable())){return true}}return false}function u(){if(this.getDisplayOnly){if(!this.isPropertyInitial("displayOnly")){return this.getDisplayOnly()}var e=this.getParent();return!e.getProperty("_editable")}return false}function p(){if(this.getWrapping&&!this.isPropertyInitial("wrapping")){return this.getWrapping()}return true}function d(){var e=this.getFields();var i=e.length>0?e[0]:null;var s=this._oLabel;if(s){s.setLabelFor(i)}else{s=this.getLabel();if(s instanceof t){s.setAlternativeLabelFor(i)}}}function g(e){e.addDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){if(e.getMetadata().getProperty("required")){this._oObserver.observe(e,{properties:["required"]})}if(e.getMetadata().getProperty("editable")){this._oObserver.observe(e,{properties:["editable"]})}}}function h(e){e.removeDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){this._oObserver.unobserve(e)}}function f(e){var t=this.oElement.getParent();if(t&&t.contentOnAfterRendering){t.contentOnAfterRendering(this.oElement,e.srcControl)}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormLayout", ["sap/ui/core/Control","sap/ui/core/Element","sap/ui/layout/library","./FormLayoutRenderer","sap/ui/core/theming/Parameters","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/Selectors"],function(e,t,r,i,n,jQuery,o){"use strict";var a=r.BackgroundDesign;var f=e.extend("sap.ui.layout.form.FormLayout",{metadata:{library:"sap.ui.layout",properties:{backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:a.Translucent}}},renderer:i});f.prototype.init=function(){this._sFormTitleSize="H4";this._sFormSubTitleSize="H5"};f.prototype.onBeforeRendering=function(e){this.loadTitleSizes()};f.prototype.contentOnAfterRendering=function(e,t){if(r.form.FormHelper.bArrowKeySupport){jQuery(t.getFocusDomRef()).data("sap.InNavArea",true)}if(t.getWidth&&(!t.getWidth()||t.getWidth()=="auto")&&(!t.getFormDoNotAdjustWidth||!t.getFormDoNotAdjustWidth())){t.$().css("width","100%")}};f.prototype.toggleContainerExpanded=function(e){var t=e.getExpanded();if(this.getDomRef()){if(t){e.$("content").css("display","")}else{e.$("content").css("display","none")}}};f.prototype.getLayoutDataForElement=function(e,t){var r=e.getLayoutData();if(!r){return undefined}else if(r.isA(t)){return r}else if(r.isA("sap.ui.core.VariantLayoutData")){var i=r.getMultipleLayoutData();for(var n=0;n<i.length;n++){var o=i[n];if(o.isA(t)){return o}}}};f.prototype.onsapright=function(e){if(r.form.FormHelper.bArrowKeySupport){var t=o.getRTL();if(!t){this.navigateForward(e)}else{this.navigateBack(e)}}};f.prototype.onsapleft=function(e){if(r.form.FormHelper.bArrowKeySupport){var t=o.getRTL();if(!t){this.navigateBack(e)}else{this.navigateForward(e)}}};f.prototype.onsapdown=function(e){if(r.form.FormHelper.bArrowKeySupport){var t=e.srcControl;var i;var n=this.findElement(t);var o=n.element;t=n.rootControl;if(o&&o.isA("sap.ui.layout.form.FormElement")){i=this.findFieldBelow(t,o)}else if(o&&o.isA("sap.ui.layout.form.FormContainer")){i=this.findFirstFieldOfNextElement(o,0)}if(i){i.focus();e.preventDefault()}}};f.prototype.onsapup=function(e){if(r.form.FormHelper.bArrowKeySupport){var t=e.srcControl;var i=0;var n;var o=this.findElement(t);var a=o.element;t=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){n=this.findFieldAbove(t,a)}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){var f=a.getParent();i=f.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1)}if(n){n.focus();e.preventDefault()}}};f.prototype.onsaphome=function(e){if(r.form.FormHelper.bArrowKeySupport){var t=e.srcControl;var i=0;var n;var o=this.findElement(t);var a=o.element;var f=a.getParent();var l=f.getParent();i=l.indexOfFormContainer(f);n=this.findFirstFieldOfFirstElementInNextContainer(l,i);if(n){n.focus();e.preventDefault()}}};f.prototype.onsaptop=function(e){if(r.form.FormHelper.bArrowKeySupport){var t=e.srcControl;var i=this.findElement(t);var n=i.element;var o;var a;if(n&&n.isA("sap.ui.layout.form.FormElement")){a=n.getParent()}else if(n&&n.isA("sap.ui.layout.form.FormContainer")){a=n}var f=a.getParent();o=this.findFirstFieldOfForm(f);if(o){o.focus();e.preventDefault()}}};f.prototype.onsapend=function(e){if(r.form.FormHelper.bArrowKeySupport){var t=e.srcControl;var i=0;var n;var o=this.findElement(t);var a=o.element;var f=a.getParent();var l=f.getParent();i=l.indexOfFormContainer(f);n=this.findLastFieldOfLastElementInPrevContainer(l,i);if(n){n.focus();e.preventDefault()}}};f.prototype.onsapbottom=function(e){if(r.form.FormHelper.bArrowKeySupport){var t=e.srcControl;var i=this.findElement(t);var n=i.element;var o;var a;if(n&&n.isA("sap.ui.layout.form.FormElement")){a=n.getParent()}else if(n&&n.isA("sap.ui.layout.form.FormContainer")){a=n}var f=a.getParent();var l=f.getFormContainers();var s=l.length;o=this.findLastFieldOfLastElementInPrevContainer(f,s-1);if(o){o.focus();e.preventDefault()}}};f.prototype.onsapexpand=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;if(i.isA("sap.ui.layout.form.FormContainer")){n=i}else{n=i.getParent()}if(n.getExpandable()&&t===n._oExpandButton){n.setExpanded(true)}};f.prototype.onsapcollapse=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;if(i.isA("sap.ui.layout.form.FormContainer")){n=i}else{n=i.getParent()}if(n.getExpandable()&&t===n._oExpandButton){n.setExpanded(false)}};f.prototype.onsapskipforward=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;t=r.rootControl;var n;var o;if(i&&i.isA("sap.ui.layout.form.FormElement")){o=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){o=i}var a=o.getParent();var f=a.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(a,f+1);if(n){n.focus();e.preventDefault()}};f.prototype.onsapskipback=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;t=r.rootControl;var n;var o;if(i&&i.isA("sap.ui.layout.form.FormElement")){o=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){o=i}var a=o.getParent();var f=a.getFormContainers();var l=a.indexOfFormContainer(o);while(!n&&l>0){var s=f[l-1];if(!s.getExpandable()||s.getExpanded()){n=this.findFirstFieldOfFirstElementInPrevContainer(a,l-1)}l=l-1}if(n&&n!==t.getFocusDomRef()){n.focus();e.preventDefault()}};f.prototype.onBeforeFastNavigationFocus=function(e){if(jQuery.contains(this.getDomRef(),e.source)){e.srcControl=t.closestTo(e.source);if(e.forward){this.onsapskipforward(e)}else{this.onsapskipback(e)}}else{var r=e.forward?this.findFirstFieldOfForm(this.getParent()):this.findFirstFieldOfLastContainerOfForm(this.getParent());if(r){r.focus();e.preventDefault()}}};f.prototype.findElement=function(e){var t=e.getParent();var r=e;while(t&&!t.isA("sap.ui.layout.form.FormElement")&&!t.isA("sap.ui.layout.form.FormContainer")&&!t.isA("sap.ui.layout.form.Form")){r=t;t=t.getParent()}return{rootControl:r,element:t}};f.prototype.navigateForward=function(e){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var o=n.element;t=n.rootControl;if(o&&o.isA("sap.ui.layout.form.FormElement")){if(t==o.getLabelControl()){r=-1}else{r=o.indexOfField(t)}i=this.findNextFieldOfElement(o,r+1);if(!i){var a=o.getParent();r=a.indexOfFormElement(o);i=this.findFirstFieldOfNextElement(a,r+1);if(!i){var f=a.getParent();r=f.indexOfFormContainer(a);i=this.findFirstFieldOfFirstElementInNextContainer(f,r+1)}}}else if(o&&o.isA("sap.ui.layout.form.FormContainer")){i=this.findFirstFieldOfNextElement(o,0)}if(i){i.focus();e.preventDefault()}};f.prototype.tabForward=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=-1}else{i=a.indexOfField(r)}n=this.findNextFieldOfElement(a,i+1,true);if(!n){var f=a.getParent();i=f.indexOfFormElement(a);n=this.findFirstFieldOfNextElement(f,i+1,true);if(!n){t=f.getParent();i=t.indexOfFormContainer(f);n=this.findFirstFieldOfFirstElementInNextContainer(t,i+1,true)}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){n=this.findFirstFieldOfNextElement(a,0,true);if(!n){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findFirstFieldOfFirstElementInNextContainer(t,i+1,true)}}if(n){n.focus();e.preventDefault()}};f.prototype.findNextFieldOfElement=function(e,t,r){var i=e.getFieldsForRendering();var n=i.length;var o;for(var a=t;a<n;a++){var f=i[a];var l=this._getDomRef(f);if(r==true){if((!f.getEditable||f.getEditable())&&(!f.getEnabled||f.getEnabled())&&l){o=l;break}}else{if((!f.getEnabled||f.getEnabled())&&l){o=l;break}}}return o};f.prototype.findFirstFieldOfNextElement=function(e,t,r){var i=e.getFormElements();var n=i.length;var o;var a=t;while(!o&&a<n){var f=i[a];if(r==true){o=this.findNextFieldOfElement(f,0,true)}else{o=this.findNextFieldOfElement(f,0)}a++}return o};f.prototype.findFirstFieldOfForm=function(e){var t=this.findFirstFieldOfFirstElementInNextContainer(e,0);return t};f.prototype.findFirstFieldOfLastContainerOfForm=function(e){var t;var r=e.getFormContainers();var i=r.length;while(!t&&i>0){var n=r[i-1];if(!n.getExpandable()||n.getExpanded()){t=this.findFirstFieldOfFirstElementInPrevContainer(e,i-1)}i=i-1}return t};f.prototype.findFirstFieldOfFirstElementInNextContainer=function(e,t,r){var i=e.getFormContainers();var n=i.length;var o;var a=t;while(!o&&a<n){var f=i[a];if(f.getExpandable()&&r){o=f._oExpandButton.getFocusDomRef();if(o){break}}if(!f.getExpandable()||f.getExpanded()){if(r==true){o=this.findFirstFieldOfNextElement(f,0,true)}else{o=this.findFirstFieldOfNextElement(f,0)}}a++}return o};f.prototype.findFirstFieldOfFirstElementInPrevContainer=function(e,t){var r=e.getFormContainers();var i=r.length;var n;var o=t;while(!n&&o<i&&o>=0){var a=r[o];if(!a.getExpandable()||a.getExpanded()){n=this.findFirstFieldOfNextElement(a,0)}o++}return n};f.prototype.navigateBack=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=0}else{i=a.indexOfField(r)}n=this.findPrevFieldOfElement(a,i-1);if(!n){var f=a.getParent();i=f.indexOfFormElement(a);n=this.findLastFieldOfPrevElement(f,i-1);if(!n){t=f.getParent();i=t.indexOfFormContainer(f);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1)}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1)}if(n){n.focus();e.preventDefault()}};f.prototype.tabBack=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=0}else{i=a.indexOfField(r)}n=this.findPrevFieldOfElement(a,i-1,true);if(!n){var f=a.getParent();i=f.indexOfFormElement(a);n=this.findLastFieldOfPrevElement(f,i-1,true);if(!n){t=f.getParent();i=t.indexOfFormContainer(f);if(f.getExpandable()){n=f._oExpandButton.getFocusDomRef()}if(!n){n=this.findLastFieldOfLastElementInPrevContainer(t,i-1,true)}}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1,true)}if(n){n.focus();e.preventDefault()}};f.prototype.findPrevFieldOfElement=function(e,t,r){var i=e.getFieldsForRendering();var n;for(var o=t;o>=0;o--){var a=i[o];var f=this._getDomRef(a);if(r==true){if((!a.getEditable||a.getEditable())&&(!a.getEnabled||a.getEnabled())&&f){n=f;break}}else{if((!a.getEnabled||a.getEnabled())&&f){n=f;break}}}return n};f.prototype.findLastFieldOfPrevElement=function(e,t,r){var i=e.getFormElements();var n;var o=t;while(!n&&o>=0){var a=i[o];var f=a.getFieldsForRendering().length;if(r==true){n=this.findPrevFieldOfElement(a,f-1,true)}else{n=this.findPrevFieldOfElement(a,f-1)}o--}return n};f.prototype.findLastFieldOfLastElementInPrevContainer=function(e,t,r){var i=e.getFormContainers();var n;var o=t;while(!n&&o>=0){var a=i[o];if(a.getExpandable()&&!a.getExpanded()&&r){n=a._oExpandButton.getFocusDomRef();if(n){break}}if(!a.getExpandable()||a.getExpanded()){var f=a.getFormElements().length;if(r==true){n=this.findLastFieldOfPrevElement(a,f-1,true)}else{n=this.findLastFieldOfPrevElement(a,f-1,0)}}o--}return n};f.prototype.findFieldBelow=function(e,t){var r=t.getParent();var i=r.indexOfFormElement(t);var n=this.findFirstFieldOfNextElement(r,i+1);if(!n){var o=r.getParent();i=o.indexOfFormContainer(r);n=this.findFirstFieldOfFirstElementInNextContainer(o,i+1)}return n};f.prototype.findFieldAbove=function(e,t){var r=t.getParent();var i=r.indexOfFormElement(t);var n=r.getFormElements();var o;var a=i-1;while(!o&&a>=0){var f=n[a];o=this.findPrevFieldOfElement(f,0);a--}if(!o){var l=r.getParent();i=l.indexOfFormContainer(r);o=this.findLastFieldOfLastElementInPrevContainer(l,i-1)}return o};f.prototype._getDomRef=function(e){var t=e.getFocusDomRef();if(!jQuery(t).is(":sapFocusable")){t=undefined}return t};f.prototype.getContainerRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef()}else{return null}};f.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef()}else{return null}};f.prototype.getLayoutDataForDelimiter=function(){};f.prototype.getLayoutDataForSemanticField=function(e,t,r){};f.prototype.loadTitleSizes=function(){var e=n.get({name:["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize","sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"],callback:this.applyTitleSizes.bind(this)});if(e&&e.hasOwnProperty("sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize")){this.applyTitleSizes(e,true)}};f.prototype.applyTitleSizes=function(e,t){if(e&&(this._sFormTitleSize!==e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"]||this._sFormSubTitleSize!==e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"])){this._sFormTitleSize=e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"];this._sFormSubTitleSize=e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"];if(!t){this.invalidate()}}};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormLayoutRenderer", ["sap/ui/core/library","sap/ui/layout/library","sap/ui/layout/form/Form","sap/ui/core/IconPool"],function(e,t,r){"use strict";var i=e.TitleLevel;var n=t.BackgroundDesign;var a={apiVersion:2};a.render=function(e,t){var i=t.getParent();if(i&&i instanceof r){this.renderForm(e,t,i)}};a.renderForm=function(e,t,r){var i=r.getToolbar();e.openStart("div",t);e.class(this.getMainClass());if(i){e.class("sapUiFormToolbar")}this.addBackgroundClass(e,t);e.openEnd();this.renderHeader(e,i,r.getTitle(),undefined,false,t._sFormTitleSize,r.getId());this.renderContainers(e,t,r);e.close("div")};a.getMainClass=function(){return"sapUiFormLayout"};a.addBackgroundClass=function(e,t){var r=t.getBackgroundDesign();if(r!=n.Transparent){e.class("sapUiFormBackgr"+r)}};a.renderContainers=function(e,t,r){var i=r.getVisibleFormContainers();for(var n=0,a=i.length;n<a;n++){var o=i[n];this.renderContainer(e,t,o)}};a.renderContainer=function(e,t,r){var i=r.getExpandable();var n=r.getToolbar();var a=r.getTitle();e.openStart("section",r);e.class("sapUiFormContainer");if(n){e.class("sapUiFormContainerToolbar")}else if(a){e.class("sapUiFormContainerTitle")}if(r.getTooltip_AsString()){e.attr("title",r.getTooltip_AsString())}this.writeAccessibilityStateContainer(e,r);e.openEnd();this.renderHeader(e,n,a,r._oExpandButton,i,t._sFormSubTitleSize,r.getId());if(i){e.openStart("div",r.getId()+"-content");if(!r.getExpanded()){e.style("display","none")}e.openEnd()}var o=r.getVisibleFormElements();for(var l=0,s=o.length;l<s;l++){var d=o[l];this.renderElement(e,t,d)}if(i){e.close("div")}e.close("section")};a.renderElement=function(e,t,r){var i=r.getLabelControl();e.openStart("div",r);e.class("sapUiFormElement");if(i){e.class("sapUiFormElementLbl")}e.openEnd();if(i){e.renderControl(i)}var n=r.getFieldsForRendering();if(n&&n.length>0){for(var a=0,o=n.length;a<o;a++){var l=n[a];e.renderControl(l)}}e.close("div")};a.renderTitle=function(e,t,r,n,a,o){if(t){if(typeof t!=="string"&&t.getLevel()!=i.Auto){a=t.getLevel()}if(!a){a="H5"}if(typeof t!=="string"){e.openStart(a.toLowerCase(),t);if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getEmphasized()){e.class("sapUiFormTitleEmph")}}else{e.openStart(a.toLowerCase(),o+"--title")}e.class("sapUiFormTitle");e.class("sapUiFormTitle"+a);if(n&&r){e.class("sapUiFormTitleExpandable")}e.openEnd();if(n&&r){e.renderControl(r)}if(typeof t==="string"){t.split(/\n/).forEach(function(t,r){if(r>0){e.voidStart("br").voidEnd()}e.text(t)})}else{var l=t.getIcon();if(l){var s=[];var d={title:null};d["id"]=t.getId()+"-ico";e.icon(l,s,d)}t.getText().split(/\n/).forEach(function(t,r){if(r>0){e.voidStart("br").voidEnd()}e.text(t)})}e.close(a.toLowerCase())}};a.renderHeader=function(e,t,r,i,n,a,o){if(t){e.renderControl(t)}else{this.renderTitle(e,r,i,n,a,o)}};a.writeAccessibilityStateContainer=function(e,r){var i={};var n=r.getTitle();var a=r.getToolbar();if(a){if(!r.getAriaLabelledBy()||r.getAriaLabelledBy().length==0){var o=t.form.FormHelper.getToolbarTitle(a);i["labelledby"]={value:o,append:true}}}else if(n){var l="";if(typeof n=="string"){l=r.getId()+"--title"}else{l=n.getId()}i["labelledby"]={value:l,append:true}}if(i["labelledby"]||r.getAriaLabelledBy().length>0){i["role"]="form"}e.accessibilityState(r,i)};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormRenderer", ["sap/ui/layout/library","sap/base/Log"],function(e,t){"use strict";var a={apiVersion:2};a.render=function(a,r){var i=r.getLayout();var l={role:"form"};a.openStart("div",r).class("sapUiForm").class("sapUiFormLblColon").attr("data-sap-ui-customfastnavgroup","true");var s=e.form.FormHelper.addFormClass();if(s){a.class(s)}if(r.getEditable()){a.class("sapUiFormEdit");a.class("sapUiFormEdit-CTX")}else{l.readonly=""}if(r.getWidth()){a.style("width",r.getWidth())}if(r.getTooltip_AsString()){a.attr("title",r.getTooltip_AsString())}var o=r.getTitle();var d=r.getToolbar();if(d){if(!r.getAriaLabelledBy()||r.getAriaLabelledBy().length==0){var g=e.form.FormHelper.getToolbarTitle(d);l["labelledby"]=g}}else if(o){var n="";if(typeof o=="string"){n=r.getId()+"--title"}else{n=o.getId()}l["labelledby"]={value:n,append:true}}else if(r._sSuggestedTitleId){l["labelledby"]={value:r._sSuggestedTitleId,append:true}}a.accessibilityState(r,l);a.openEnd();if(i){a.renderControl(i)}else{t.warning('Form "'+r.getId()+'" - Layout missing!',"Renderer","Form")}a.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveGridLayout", ["sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/layout/library","sap/ui/layout/Grid","sap/ui/layout/GridData","./Form","./FormContainer","./FormElement","./FormLayout","./ResponsiveGridLayoutRenderer","sap/ui/thirdparty/jquery"],function(e,t,a,i,n,r,s,o,l,u,jQuery){"use strict";var f=l.extend("sap.ui.layout.form.ResponsiveGridLayout",{metadata:{library:"sap.ui.layout",properties:{labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600}}},renderer:u});var p=e.extend("sap.ui.layout.form.ResponsiveGridLayoutPanel",{metadata:{library:"sap.ui.layout",aggregations:{content:{type:"sap.ui.layout.Grid",multiple:false}},associations:{container:{type:"sap.ui.layout.form.FormContainer",multiple:false},layout:{type:"sap.ui.layout.form.ResponsiveGridLayout",multiple:false}}},getLayoutData:function(){var e=sap.ui.getCore().byId(this.getContainer());var t=sap.ui.getCore().byId(this.getLayout());var a;if(t&&e){a=t.getLayoutDataForElement(e,"sap.ui.layout.GridData")}if(a){return a}else{return this.getAggregation("layoutData")}},getCustomData:function(){var e=sap.ui.getCore().byId(this.getContainer());if(e){return e.getCustomData()}},refreshExpanded:function(){var e=sap.ui.getCore().byId(this.getContainer());if(e){if(e.getExpanded()){this.$().removeClass("sapUiRGLContainerColl")}else{this.$().addClass("sapUiRGLContainerColl")}}},renderer:{apiVersion:2,render:function(e,t){var a=sap.ui.getCore().byId(t.getContainer());var i=sap.ui.getCore().byId(t.getLayout());var n=t.getContent();var r=a.getExpandable();var s=a.getTooltip_AsString();var o=a.getToolbar();var l=a.getTitle();e.openStart("div",t);e.class("sapUiRGLContainer");if(r&&!a.getExpanded()){e.class("sapUiRGLContainerColl")}if(o){e.class("sapUiFormContainerToolbar")}else if(l){e.class("sapUiFormContainerTitle")}if(s){e.attr("title",s)}i.getRenderer().writeAccessibilityStateContainer(e,a);e.openEnd();i.getRenderer().renderHeader(e,o,l,a._oExpandButton,r,i._sFormSubTitleSize,a.getId());if(n){e.openStart("div");e.class("sapUiRGLContainerCont");e.openEnd();e.renderControl(n);e.close("div")}e.close("div")}}});f.prototype.init=function(){l.prototype.init.apply(this,arguments);this.mContainers={};this.oDummyLayoutData=new n(this.getId()+"--Dummy")};f.prototype.exit=function(){for(var e in this.mContainers){C.call(this,e,true)}if(this._mainGrid){this._mainGrid.destroy();delete this._mainGrid}this.oDummyLayoutData.destroy();this.oDummyLayoutData=undefined};f.prototype.onBeforeRendering=function(e){l.prototype.onBeforeRendering.apply(this,arguments);var t=this.getParent();if(!t||!(t instanceof r)){return}t._bNoInvalidate=true;d.call(this,t);_.call(this,t);t._bNoInvalidate=false};f.prototype.onAfterRendering=function(e){if(this._mainGrid&&this._mainGrid.__bIsUsed){for(var a in this.mContainers){if(this.mContainers[a][1]._sContainerResizeListener){t.deregister(this.mContainers[a][1]._sContainerResizeListener);this.mContainers[a][1]._sContainerResizeListener=null}}}};f.prototype.toggleContainerExpanded=function(e){var t=e.getId();if(this.mContainers[t]&&this.mContainers[t][0]){var a=this.mContainers[t][0];a.refreshExpanded()}};f.prototype.onLayoutDataChange=function(e){var t=e.srcControl;if(t instanceof s){if(this._mainGrid){this._mainGrid.onLayoutDataChange(e);this.invalidate()}}else if(!(t instanceof o)){var a=t.getParent();if(a instanceof o){var i=a.getParent();var n=i.getId();if(this.mContainers[n]&&this.mContainers[n][1]){this.mContainers[n][1].onLayoutDataChange(e)}}}};f.prototype.onsapup=function(e){this.onsapleft(e)};f.prototype.onsapdown=function(e){this.onsapright(e)};f.prototype.getContainerRenderedDomRef=function(e){if(this.getDomRef()){var t=e.getId();if(this.mContainers[t]){if(this.mContainers[t][0]){var a=this.mContainers[t][0];return a.getDomRef()}else if(this.mContainers[t][1]){var i=this.mContainers[t][1];return i.getDomRef()}}}return null};f.prototype.getElementRenderedDomRef=function(e){return null};function d(e){var t=e.getVisibleFormContainers();var a=t.length;var i=0;var n;var r;var s;var o;var l=0;for(l=0;l<a;l++){s=t[l];s._checkProperties();if(s.isVisible()){i++;o=s.getId();n=undefined;r=undefined;var u=t[l+1];if(this.mContainers[o]&&this.mContainers[o][1]){r=this.mContainers[o][1]}else{r=y.call(this,s)}var f=s.getTitle();var p=s.getToolbar();if(p||f||s.getExpandable()){if(this.mContainers[o]&&this.mContainers[o][0]){n=this.mContainers[o][0]}else{n=g.call(this,s,r);L(r,true)}v(n,s,i,u,a)}else{if(this.mContainers[o]&&this.mContainers[o][0]){m(this.mContainers[o][0])}L(r,false);v(r,s,i,u,a)}this.mContainers[o]=[n,r]}}var d=Object.keys(this.mContainers).length;if(a<d){for(o in this.mContainers){var h=false;for(l=0;l<a;l++){s=t[l];if(o==s.getId()){h=true;break}}if(!h){C.call(this,o)}}}}function g(e,t){var a=e.getId();var i=new p(a+"---Panel",{container:e,layout:this,content:t});return i}function m(e,t){e.setLayout(null);e.setContainer(null);if(!t||!e.getParent()){e.setContent(null);e.destroy()}}function y(e){var t=e.getId()+"--Grid";var a=new i(t,{vSpacing:0,hSpacing:0,containerQuery:true});a.__myParentLayout=this;a.__myParentContainerId=e.getId();a.addStyleClass("sapUiFormResGridCont").addStyleClass("sapUiRespGridOverflowHidden");a.getContent=function(){var e=sap.ui.getCore().byId(this.__myParentContainerId);if(e){var t=[];var a=e.getVisibleFormElements();var i;var n;for(var r=0;r<a.length;r++){var s=a[r];n=s.getLabelControl();if(n){t.push(n)}i=s.getFieldsForRendering();for(var o=0;o<i.length;o++){t.push(i[o])}}return t}else{return false}};a.getAriaLabelledBy=function(){var e=sap.ui.getCore().byId(this.__myParentContainerId);if(e&&!e.getToolbar()&&!e.getTitle()&&!e.getExpandable()){return e.getAriaLabelledBy()}return[]};var n={labelSpan:0,span:0,firstField:false,defaultFields:0,row:0,myRow:false,freeFields:0,finished:false};var r={id:"XL",getEffectiveSpan:function(e){var t=e._getEffectiveSpanXLarge();if(!t){t=e._getEffectiveSpanLarge()}return t},getEmptySpan:function(e){var t=e.getEmptySpanXL();if(t<0){t=e.getEmptySpanL()}return t},getLabelSpan:function(e){return e.getLabelSpanXL()},setIndent:function(e,t){e.setIndentXL(t)},setLinebreak:function(e,t){e.setLinebreakXL(t)}};jQuery.extend(r,n);var s={id:"L",getEffectiveSpan:function(e){return e._getEffectiveSpanLarge()},getEmptySpan:function(e){return e.getEmptySpanL()},getLabelSpan:function(e){return e.getLabelSpanL()},setIndent:function(e,t){e.setIndentL(t)},setLinebreak:function(e,t){e.setLinebreakL(t)}};jQuery.extend(s,n);var o={id:"M",getEffectiveSpan:function(e){return e._getEffectiveSpanMedium()},getEmptySpan:function(e){return e.getEmptySpanM()},getLabelSpan:function(e){return e.getLabelSpanM()},setIndent:function(e,t){e.setIndentM(t)},setLinebreak:function(e,t){e.setLinebreakM(t)}};jQuery.extend(o,n);var l={id:"S",getEffectiveSpan:function(e){return e._getEffectiveSpanSmall()},getEmptySpan:function(e){return e.getEmptySpanS()},getLabelSpan:function(e){return e.getLabelSpanS()},setIndent:function(e,t){e.setIndentS(t)},setLinebreak:function(e,t){e.setLinebreakS(t)}};jQuery.extend(l,n);var u=[r,s,o,l];a._getLayoutDataForControl=function(e){var t=this.__myParentLayout;var a=t.getLayoutDataForElement(e,"sap.ui.layout.GridData");var i=e.getParent();var f=i.getLabelControl();if(a){if(f==e){a._setStylesInternal("sapUiFormElementLbl")}return a}else{var p=sap.ui.getCore().byId(this.__myParentContainerId);var d=t.getLayoutDataForElement(p,"sap.ui.layout.GridData");var g=p.getParent();var m;var y=0;for(y=0;y<u.length;y++){m=u[y];jQuery.extend(m,n);m.labelSpan=m.getLabelSpan(t)}if(t.getAdjustLabelSpan()){if(g.getVisibleFormContainers().length>=1&&t.getColumnsM()>1){o.labelSpan=t.getLabelSpanL()}if(d){if(d._getEffectiveSpanLarge()==12){s.labelSpan=t.getLabelSpanM();o.labelSpan=t.getLabelSpanM()}}if(g.getVisibleFormContainers().length==1||t.getColumnsL()==1){s.labelSpan=t.getLabelSpanM();o.labelSpan=t.getLabelSpanM()}}if(r.labelSpan<0){r.labelSpan=s.labelSpan}if(f==e){t.oDummyLayoutData.setSpan("XL"+r.labelSpan+" L"+s.labelSpan+" M"+o.labelSpan+" S"+l.labelSpan);t.oDummyLayoutData.setLinebreak(true);t.oDummyLayoutData.setIndentXL(0).setIndentL(0).setIndentM(0).setIndentS(0);t.oDummyLayoutData._setStylesInternal("sapUiFormElementLbl");return t.oDummyLayoutData}else{var h;if(f){h=t.getLayoutDataForElement(f,"sap.ui.layout.GridData")}var L=i.getFieldsForRendering();var v=L.length;var C;var _;var c=1;var b=false;var S;var D=0;for(y=0;y<u.length;y++){m=u[y];m.span=12-m.getEmptySpan(t);if(f){if(h){S=m.getEffectiveSpan(h);if(S){m.labelSpan=S}}if(m.labelSpan<12){m.span=m.span-m.labelSpan}}m.spanFields=m.span}for(D=0;D<v;D++){C=L[D];if(C!=e){_=t.getLayoutDataForElement(C,"sap.ui.layout.GridData");if(_){for(y=0;y<u.length;y++){m=u[y];S=m.getEffectiveSpan(_);if(S&&S<m.span){m.span=m.span-S}}}else{c++}}else{if(c==1){b=true}}}var F=[];for(y=0;y<u.length;y++){m=u[y];m.firstField=b;m.defaultFields=c;if(m.span<c){m.defaultFields=0;m.row=0;m.myRow=false;m.freeFields=m.spanFields;m.span=m.spanFields;m.finished=false;F.push(m)}}if(F.length>0){for(D=0;D<v;D++){C=L[D];_=undefined;if(C!=e){_=t.getLayoutDataForElement(C,"sap.ui.layout.GridData")}for(y=0;y<F.length;y++){m=F[y];if(m.finished){continue}if(_){S=m.getEffectiveSpan(_);m.span=m.span-S}else{S=1}if(m.freeFields>=S){m.freeFields=m.freeFields-S;if(!_){m.defaultFields++}}else{if(m.myRow){m.finished=true}else{m.freeFields=m.spanFields-S;m.row++;if(_){m.defaultFields=0;m.span=m.spanFields-S}else{m.defaultFields=1;m.span=m.spanFields}if(C==e){m.firstField=true}}}if(C==e){m.myRow=true}}}}var G=0;var I="";var R;for(y=0;y<u.length;y++){m=u[y];if(m.id!="S"||m.labelSpan<12){if(m.firstField){G=m.span-Math.floor(m.span/m.defaultFields)*m.defaultFields;R=Math.floor(m.span/m.defaultFields)+G}else{R=Math.floor(m.span/m.defaultFields)}}else{R=12}if(I){I=I+" "}I=I+m.id+R;m.setLinebreak(t.oDummyLayoutData,m.firstField&&m.row>0);m.setIndent(t.oDummyLayoutData,m.firstField&&m.row>0?m.labelSpan:0)}t.oDummyLayoutData.setSpan(I);t.oDummyLayoutData.setLinebreak(b&&!f);t.oDummyLayoutData._setStylesInternal(undefined);return t.oDummyLayoutData}}};a._onParentResizeOrig=a._onParentResize;a._onParentResize=function(){if(!this.getDomRef()){this._cleanup();return}if(!jQuery(this.getDomRef()).is(":visible")){return}var e=this.__myParentLayout;if(!e._mainGrid||!e._mainGrid.__bIsUsed){var t=e.getParent().getVisibleFormContainers()[0];if(!t||!e.mContainers[t.getId()]||t.getId()!=this.__myParentContainerId){return}if(e.mContainers[this.__myParentContainerId][0]){var a=e.mContainers[this.__myParentContainerId][0].getDomRef();var i=a.clientWidth;if(i<=e.getBreakpointM()){this._toggleClass("Phone")}else if(i>e.getBreakpointM()&&i<=e.getBreakpointL()){this._toggleClass("Tablet")}else if(i>e.getBreakpointL()&&i<=e.getBreakpointXL()){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}}else{this._setBreakPointTablet(e.getBreakpointM());this._setBreakPointDesktop(e.getBreakpointL());this._setBreakPointLargeDesktop(e.getBreakpointXL());this._onParentResizeOrig()}}else{var n=e._mainGrid.$();if(n.hasClass("sapUiRespGridMedia-Std-Phone")){this._toggleClass("Phone")}else if(n.hasClass("sapUiRespGridMedia-Std-Tablet")){this._toggleClass("Tablet")}else if(n.hasClass("sapUiRespGridMedia-Std-Desktop")){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}}};a._getAccessibleRole=function(){var e=sap.ui.getCore().byId(this.__myParentContainerId);var t=this.__myParentLayout;if(t._mainGrid&&t._mainGrid.__bIsUsed&&!e.getToolbar()&&!e.getTitle()&&!e.getExpandable()&&e.getAriaLabelledBy().length>0){return"form"}};a.getUIArea=function(){var e=this.__myParentLayout;if(e){return e.getUIArea()}else{return null}};return a}function h(e,t){if(e.__myParentContainerId){e.__myParentContainerId=undefined}e.__myParentLayout=undefined;if(!t||!e.getParent()){e.destroy()}}function L(e,t){if(t){if(e.__originalGetLayoutData){e.getLayoutData=e.__originalGetLayoutData;delete e.__originalGetLayoutData}}else if(!e.__originalGetLayoutData){e.__originalGetLayoutData=e.getLayoutData;e.getLayoutData=function(){var e=this.__myParentLayout;var t=sap.ui.getCore().byId(this.__myParentContainerId);var a;if(t){a=e.getLayoutDataForElement(t,"sap.ui.layout.GridData")}if(a){return a}else{return this.getAggregation("layoutData")}}}}function v(e,t,a,i,r){var s;if(e instanceof p){s=sap.ui.getCore().byId(e.getLayout())}else{s=e.__myParentLayout}var o=s.getLayoutDataForElement(t,"sap.ui.layout.GridData");if(!o){var l=s.getColumnsM();var u=s.getColumnsL();var f=s.getColumnsXL();var d=a%u==1;var g=a%u==0;var m=a>u*(Math.ceil(r/u)-1);var y=a<=u;var h=a%l==1;var L=a%l==0;var v=a>l*(Math.ceil(r/l)-1);var C=a<=l;var _=false;var c=g;var b=m;var S=y;if(f>0){_=a%f==1;c=a%f==0;b=a>f*(Math.ceil(r/f)-1);S=a<=f}if(i){var D=s.getLayoutDataForElement(i,"sap.ui.layout.GridData");if(D&&(D.getLinebreak()||D.getLinebreakXL())){c=true;b=false}if(D&&(D.getLinebreak()||D.getLinebreakL())){g=true;m=false}if(D&&(D.getLinebreak()||D.getLinebreakM())){L=true;v=false}}var F="";if(c){F="sapUiFormResGridLastContXL"}if(g){if(F){F=F+" "}F=F+"sapUiFormResGridLastContL"}if(L){if(F){F=F+" "}F=F+"sapUiFormResGridLastContM"}if(b){if(F){F=F+" "}F=F+"sapUiFormResGridLastRowXL"}if(m){if(F){F=F+" "}F=F+"sapUiFormResGridLastRowL"}if(v){if(F){F=F+" "}F=F+"sapUiFormResGridLastRowM"}if(S){if(F){F=F+" "}F=F+"sapUiFormResGridFirstRowXL"}if(y){if(F){F=F+" "}F=F+"sapUiFormResGridFirstRowL"}if(C){if(F){F=F+" "}F=F+"sapUiFormResGridFirstRowM"}o=e.getLayoutData();if(!o){o=new n(e.getId()+"--LD",{linebreakL:d,linebreakM:h});e.setLayoutData(o)}else{o.setLinebreakL(d);o.setLinebreakM(h)}if(f>0){o.setLinebreakXL(_)}o._setStylesInternal(F)}}function C(e,t){var a=this.mContainers[e];var i=a[1];if(i){h(i,t)}var n=a[0];if(n){m(n,t)}delete this.mContainers[e]}function _(e){var t=e.getVisibleFormContainers();var a;var n;var r=t.length;var s=0;var o=0;var l=0;if(r>1||!this.getSingleContainerFullSize()){var u=Math.floor(12/this.getColumnsM());var f=Math.floor(12/this.getColumnsL());var p;var d="";var g=this.getColumnsXL();if(g>=0){p=Math.floor(12/g);d=d+"XL"+p+" "}d=d+"L"+f+" M"+u+" S12";if(!this._mainGrid){this._mainGrid=new i(e.getId()+"--Grid",{defaultSpan:d,hSpacing:0,vSpacing:0,containerQuery:true}).setParent(this);this._mainGrid.addStyleClass("sapUiFormResGridMain").addStyleClass("sapUiRespGridOverflowHidden");this._mainGrid._onParentResizeOrig=this._mainGrid._onParentResize;this._mainGrid._onParentResize=function(){this._onParentResizeOrig();var e=this.getParent();for(var t in e.mContainers){e.mContainers[t][1]._onParentResize()}}}else{this._mainGrid.setDefaultSpan(d);var m=this._mainGrid.getContent();s=m.length;var y=false;for(o=0;o<s;o++){var h=m[o];a=undefined;if(h.getContainer){a=sap.ui.getCore().byId(h.getContainer())}else{a=sap.ui.getCore().byId(h.__myParentContainerId)}if(a&&a.isVisible()){var L=t[l];if(a!=L){y=true;break}var v=this.mContainers[a.getId()];if(v[0]&&v[0]!=h){y=true;break}if(!v[0]&&v[1]&&v[1]!=h){y=true;break}l++}else{this._mainGrid.removeContent(h)}}if(y){this._mainGrid.removeAllContent();s=0}}this._mainGrid._setBreakPointTablet(this.getBreakpointM());this._mainGrid._setBreakPointDesktop(this.getBreakpointL());this._mainGrid._setBreakPointLargeDesktop(this.getBreakpointXL());this._mainGrid.__bIsUsed=true;if(s<r){var C=0;if(s>0){C=s--}for(o=C;o<r;o++){a=t[o];n=a.getId();if(this.mContainers[n]){if(this.mContainers[n][0]){this._mainGrid.addContent(this.mContainers[n][0])}else if(this.mContainers[n][1]){this._mainGrid.addContent(this.mContainers[n][1])}}}}}else{if(this._mainGrid){this._mainGrid.__bIsUsed=false}for(o=0;o<r;o++){a=t[o];n=a.getId();if(this.mContainers[n]){if(this.mContainers[n][0]){if(this.mContainers[n][0].getParent()!==this){this.addDependent(this.mContainers[n][0])}}else if(this.mContainers[n][1]){if(this.mContainers[n][1].getParent()!==this){this.addDependent(this.mContainers[n][1])}}}}}}f.prototype.getLayoutDataForDelimiter=function(){return new n({spanS:1,spanM:1,spanL:1,spanXL:1})};f.prototype.getLayoutDataForSemanticField=function(e,t,a){var i=8-(e-1);i=Math.floor(i/e);if(e===t){i=i+8-(e-1+e*i)}if(a){if(a.isA("sap.ui.layout.GridData")){a.setSpanS(11).setSpanM(i).setSpanL(i).setSpanXL(i);return a}else{a.destroy()}}return new n({spanS:11,spanM:i,spanL:i,spanXL:i})};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveGridLayoutRenderer", ["sap/ui/core/Renderer","./FormLayoutRenderer"],function(e,r){"use strict";var n=e.extend(r);n.apiVersion=2;n.getMainClass=function(){return"sapUiFormResGrid"};n.renderContainers=function(e,r,n){var i=n.getVisibleFormContainers();var t=i.length;if(t>0){if(t>1||!r.getSingleContainerFullSize()){e.renderControl(r._mainGrid)}else if(r.mContainers[i[0].getId()][0]){e.renderControl(r.mContainers[i[0].getId()][0])}else{e.renderControl(r.mContainers[i[0].getId()][1])}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SimpleForm", ["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/core/ResizeHandler","sap/ui/layout/library","./Form","./FormContainer","./FormElement","./FormLayout","./SimpleFormRenderer","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,a,i,s,r,n,o,l,u,jQuery){"use strict";var h=i.BackgroundDesign;var g=i.form.SimpleFormLayout;var f;var d;var y;var p;var m;var v;var c;var L=e.extend("sap.ui.layout.form.SimpleForm",{metadata:{library:"sap.ui.layout",properties:{maxContainerCols:{type:"int",group:"Appearance",defaultValue:2},minWidth:{type:"int",group:"Appearance",defaultValue:-1},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:null},labelMinWidth:{type:"int",group:"Misc",defaultValue:192},layout:{type:"sap.ui.layout.form.SimpleFormLayout",group:"Misc",defaultValue:g.ResponsiveLayout},labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600},backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:h.Translucent}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Element",multiple:true,singularName:"content"},form:{type:"sap.ui.layout.form.Form",multiple:false,visibility:"hidden"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/SimpleForm.designtime"},renderer:l});L.prototype.init=function(){this._iMaxWeight=8;this._iLabelWeight=3;this._iCurrentWidth=0;var e=new s(this.getId()+"--Form");e.getTitle=function(){return this.getParent().getTitle()};e._origInvalidate=e.invalidate;e.invalidate=function(e){if(this.bOutput){this._origInvalidate(e)}if(this._bIsBeingDestroyed){return}var t=this.getParent();if(t){t._formInvalidated(e)}};e.getAriaLabelledBy=function(){var e=this.getParent();if(e){return e.getAriaLabelledBy()}else{return null}};e._origOnLayoutDataChange=e.onLayoutDataChange;e.onLayoutDataChange=function(e){this._origOnLayoutDataChange(e);var t=this.getParent();if(t){t._onLayoutDataChange(e)}};this.setAggregation("form",e);this._aElements=null;this._aLayouts=[];this._changedFormContainers=[];this._changedFormElements=[];this._oObserver=new t(H.bind(this))};L.prototype.exit=function(){var e=this.getAggregation("form");e.invalidate=e._origInvalidate;z.call(this);for(var t=0;t<this._aLayouts.length;t++){var a=sap.ui.getCore().byId(this._aLayouts[t]);if(a&&a.destroy){a.destroy()}}this._aLayouts=[];this._aElements=null;this._changedFormContainers=[];this._changedFormElements=[];this._oObserver.disconnect();this._oObserver=undefined};L.prototype.onBeforeRendering=function(){z.call(this);var e=this.getAggregation("form");var t=this.getLayout();if(!this._bResponsiveLayoutRequested&&t===g.ResponsiveLayout||!this._bGridLayoutRequested&&t===g.GridLayout||!this._bResponsiveGridLayoutRequested&&t===g.ResponsiveGridLayout||!this._bColumnLayoutRequested&&t===g.ColumnLayout){var a=true;if(!e.getLayout()){a=b.call(this)}if(a){B.call(this)}}};L.prototype.onAfterRendering=function(){if(this.getLayout()==g.ResponsiveLayout){this._bChangedByMe=true;this.$().css("visibility","hidden");this._applyLinebreaks();this._sResizeListenerId=a.register(this.getDomRef(),jQuery.proxy(this._resize,this));this._bChangedByMe=false}};L.prototype.setEditable=function(e){this._bChangedByMe=true;this.setProperty("editable",e,true);var t=this.getAggregation("form");t.setEditable(e);this._bChangedByMe=false;return this};L.prototype.setToolbar=function(e){this._bChangedByMe=true;var t=this.getAggregation("form");t.setToolbar(e);this._bChangedByMe=false;return this};L.prototype.getToolbar=function(){var e=this.getAggregation("form");return e.getToolbar()};L.prototype.destroyToolbar=function(){this._bChangedByMe=true;var e=this.getAggregation("form");e.destroyToolbar();this._bChangedByMe=false;return this};L.prototype.setLabelMinWidth=function(e){this.setProperty("labelMinWidth",e,true);if(this.getLayout()==g.ResponsiveLayout){this._bLayoutDataChangedByMe=true;var t=this.getContent();for(var a=0;a<t.length;a++){var i=t[a];if(i.isA("sap.ui.core.Label")){var s=k.call(this,i);if(s&&s.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&A.call(this,s)){s.setMinWidth(e)}}}this._bLayoutDataChangedByMe=false}return this};L.prototype.indexOfContent=function(e){var t=this._aElements;if(t){for(var a=0;a<t.length;a++){if(t[a]==e){return a}}}return-1};L.prototype.addContent=function(e){e=this.validateAggregation("content",e,true);if(this.indexOfContent(e)>=0){u.warning("SimpleForm.addContent: Content element '"+e+"' already assigned. Please remove before adding!",this);this.removeContent(e)}if(!this._aElements){this._aElements=[]}this._bChangedByMe=true;var t=this._aElements.length;var a;var i=this.getAggregation("form");var s;var o;var l;var h;var f=this.getLayout();if(e.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){s=V.call(this,e);i.addFormContainer(s);this._changedFormContainers.push(s)}else if(e.isA("sap.ui.core.Label")){if(t>0){a=this._aElements[t-1];l=a.getParent();if(l instanceof n){s=l.getParent()}else if(l instanceof r){s=l}}if(!s){s=V.call(this);i.addFormContainer(s);this._changedFormContainers.push(s)}o=q.call(this,s,e)}else{if(t>0){a=this._aElements[t-1];l=a.getParent();if(l instanceof n){s=l.getParent();o=l;h=k.call(this,e);if(h&&h.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&f===g.ResponsiveLayout&&!A.call(this,h)&&h.getLinebreak()){o=q.call(this,s)}}else if(l instanceof r){s=l;o=q.call(this,s)}}else{s=V.call(this);i.addFormContainer(s);this._changedFormContainers.push(s);o=q.call(this,s)}w.call(this,e,5,false,true);o.addField(e);j(this._changedFormElements,o)}this._aElements.push(e);this._oObserver.observe(e,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this};L.prototype.insertContent=function(e,t){e=this.validateAggregation("content",e,true);if(this.indexOfContent(e)>=0){u.warning("SimpleForm.insertContent: Content element '"+e+"' already assigned. Please remove before insert!",this);this.removeContent(e)}if(!this._aElements){this._aElements=[]}var a=this._aElements.length;var i;if(t<0){i=0}else if(t>a){i=a}else{i=t}if(i!==t){u.warning("SimpleForm.insertContent: index '"+t+"' out of range [0,"+a+"], forced to "+i)}if(i==a){this.addContent(e);return this}this._bChangedByMe=true;var s=this._aElements[i];var r=this.getAggregation("form");var n;var o;var l;var h;var f;var d=0;var y;var p;var m;var v;var c=0;var L;var b;var _=this.getLayout();if(e.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){n=V.call(this,e);if(t==0&&!s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent().getParent();m=l.getFormElements();for(c=0;c<m.length;c++){n.addFormElement(m[c])}l.destroy();f=0}else if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l)}else{h=s.getParent();l=h.getParent();f=r.indexOfFormContainer(l)+1;d=l.indexOfFormElement(h);if(!s.isA("sap.ui.core.Label")){y=h.indexOfField(s);if(y>0||h.getLabel()){o=q.call(this,n);this._changedFormElements.push(o);j(this._changedFormElements,h);p=h.getFields();for(c=y;c<p.length;c++){L=p[c];o.addField(L)}d++}}m=l.getFormElements();for(c=d;c<m.length;c++){n.addFormElement(m[c])}}r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else if(e.isA("sap.ui.core.Label")){if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l);v=r.getFormContainers();if(f==0){n=V.call(this);r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else{n=v[f-1]}o=q.call(this,n,e)}else if(s.isA("sap.ui.core.Label")){l=s.getParent().getParent();d=l.indexOfFormElement(s.getParent());o=O.call(this,l,e,d)}else{h=s.getParent();l=h.getParent();d=l.indexOfFormElement(h)+1;y=h.indexOfField(s);p=h.getFields();o=O.call(this,l,e,d);for(c=y;c<p.length;c++){L=p[c];o.addField(L)}if(y==0&&!h.getLabel()){h.destroy()}else{j(this._changedFormElements,h)}}this._changedFormElements.push(o)}else{b=k.call(this,e);if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l);if(f==0){n=V.call(this);r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else{v=r.getFormContainers();n=v[f-1]}m=n.getFormElements();if(m.length==0){o=q.call(this,n)}else if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!A.call(this,b)&&b.getLinebreak()){o=q.call(this,n)}else{o=m[m.length-1]}o.addField(e)}else if(s.isA("sap.ui.core.Label")){h=s.getParent();n=h.getParent();d=n.indexOfFormElement(h);if(d==0){o=O.call(this,n,null,0)}else if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!A.call(this,b)&&b.getLinebreak()){o=O.call(this,n,null,d)}else{m=n.getFormElements();o=m[d-1]}o.addField(e)}else{o=s.getParent();y=o.indexOfField(s);if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!A.call(this,b)&&b.getLinebreak()&&y>0){n=o.getParent();d=n.indexOfFormElement(o);j(this._changedFormElements,o);p=o.getFields();o=O.call(this,n,undefined,d+1);o.addField(e);for(c=y;c<p.length;c++){L=p[c];o.addField(L)}}else{o.insertField(e,y)}}j(this._changedFormElements,o);w.call(this,e,5,false,true)}this._aElements.splice(i,0,e);this._oObserver.observe(e,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this};L.prototype.removeContent=function(e){var t=null;var a=-1;var i=0;if(this._aElements){if(typeof e=="string"){e=sap.ui.getCore().byId(e)}if(typeof e=="object"){for(i=0;i<this._aElements.length;i++){if(this._aElements[i]==e){e=i;break}}}if(typeof e=="number"){if(e<0||e>=this._aElements.length){u.warning("Element.removeAggregation called with invalid index: Items, "+e)}else{a=e;t=this._aElements[a]}}}if(t){this._bChangedByMe=true;var s=this.getAggregation("form");var r;var n;var o;var l;if(t.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){r=t.getParent();r.setTitle(null);r.setToolbar(null);o=r.getFormElements();if(a>0||o.length>0){var h=s.indexOfFormContainer(r);var g;if(a===0){g=V.call(this);s.insertFormContainer(g,h)}else{g=s.getFormContainers()[h-1];if(o.length>0&&!o[0].getLabel()){var f=g.getFormElements();var d=f[f.length-1];l=o[0].getFields();for(i=0;i<l.length;i++){d.addField(l[i])}j(this._changedFormElements,d);r.removeFormElement(o[0]);o[0].destroy();o.splice(0,1)}}for(i=0;i<o.length;i++){g.addFormElement(o[i])}j(this._changedFormContainers,g);s.removeFormContainer(r);r.destroy()}else{s.removeFormContainer(r);r.destroy()}}else if(t.isA("sap.ui.core.Label")){n=t.getParent();r=n.getParent();n.setLabel(null);l=n.getFields();var y=r.indexOfFormElement(n);var p;if(y===0){if(l.length===0){r.removeFormElement(n);n.destroy();if(r.getFormElements().length==0&&!r.getTitle()&&!r.getToolbar()){s.removeFormContainer(r);r.destroy()}}else{p=O.call(this,r,null,0)}}else{o=r.getFormElements();p=o[y-1];j(this._changedFormElements,p)}for(i=0;i<l.length;i++){p.addField(l[i])}r.removeFormElement(n);n.destroy()}else{n=t.getParent();n.removeField(t);if(n.getFields().length==0&&!n.getLabel()){r=n.getParent();r.removeFormElement(n);n.destroy();if(r.getFormElements().length==0&&!r.getTitle()&&!r.getToolbar()){s.removeFormContainer(r);r.destroy()}}else{j(this._changedFormElements,n)}}this._aElements.splice(a,1);t.setParent(null);this._oObserver.unobserve(t);I.call(this,t);this.invalidate();this._bChangedByMe=false;return t}return null};L.prototype.removeAllContent=function(){var e=0;if(this._aElements){this._bChangedByMe=true;var t=this.getAggregation("form");var a=t.getFormContainers();for(e=0;e<a.length;e++){var i=a[e];i.setTitle(null);i.setToolbar(null);var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];n.setLabel(null);n.removeAllFields()}i.destroyFormElements()}t.destroyFormContainers();for(e=0;e<this._aElements.length;e++){var o=this._aElements[e];I.call(this,o);this._oObserver.unobserve(o)}var l=this._aElements;this._aElements=null;this.invalidate();this._bChangedByMe=false;return l}else{return[]}};L.prototype.destroyContent=function(){var e=this.removeAllContent();if(e){this._bChangedByMe=true;for(var t=0;t<e.length;t++){e[t].destroy()}this.invalidate();this._bChangedByMe=false}return this};L.prototype.getContent=function(){if(!this._aElements){this._aElements=this.getAggregation("content",[])}return this._aElements.slice()};L.prototype.setLayout=function(e){var t=this.getLayout();if(e!=t){R.call(this)}this.setProperty("layout",e);if(e!=t){var a=b.call(this);if(a){D.call(this)}}return this};L.prototype.clone=function(t){this._bChangedByMe=true;var a=e.prototype.clone.apply(this,arguments);var i=this.getContent();for(var s=0;s<i.length;s++){var r=i[s];var n=r.getLayoutData();this._oObserver.unobserve(r);var o=r.clone(t);this._oObserver.observe(r,{properties:["visible"]});if(n){if(n.isA("sap.ui.core.VariantLayoutData")){var l=n.getMultipleLayoutData();for(var u=0;u<l.length;u++){if(A.call(this,l[u])){a._aLayouts.push(o.getLayoutData().getMultipleLayoutData()[u].getId())}}}else if(A.call(this,n)){a._aLayouts.push(o.getLayoutData().getId())}}a.addContent(o)}this._bChangedByMe=false;return a};function b(){var e=this.getAggregation("form");if(e.getLayout()){this._bChangedByMe=true;e.destroyLayout();z.call(this);this._bChangedByMe=false}var t;switch(this.getLayout()){case g.ResponsiveLayout:if((!f||!d)&&!this._bResponsiveLayoutRequested){f=sap.ui.require("sap/ui/layout/form/ResponsiveLayout");d=sap.ui.require("sap/ui/layout/ResponsiveFlowLayoutData");if(!f||!d){sap.ui.require(["sap/ui/layout/form/ResponsiveLayout","sap/ui/layout/ResponsiveFlowLayoutData"],_.bind(this));this._bResponsiveLayoutRequested=true}}if(f&&d){t=new f(this.getId()+"--Layout")}break;case g.GridLayout:if((!p||!m||!v)&&!this._bGridLayoutRequested){p=sap.ui.require("sap/ui/layout/form/GridLayout");m=sap.ui.require("sap/ui/layout/form/GridContainerData");v=sap.ui.require("sap/ui/layout/form/GridElementData");if(!p||!m||!v){sap.ui.require(["sap/ui/layout/form/GridLayout","sap/ui/layout/form/GridContainerData","sap/ui/layout/form/GridElementData"],C.bind(this));this._bGridLayoutRequested=true}}if(p&&m&&v){t=new p(this.getId()+"--Layout")}break;case g.ResponsiveGridLayout:if(!y&&!this._bResponsiveGridLayoutRequested){y=sap.ui.require("sap/ui/layout/form/ResponsiveGridLayout");if(!y){sap.ui.require(["sap/ui/layout/form/ResponsiveGridLayout"],F.bind(this));this._bResponsiveGridLayoutRequested=true}}if(y){t=new y(this.getId()+"--Layout")}break;case g.ColumnLayout:if(!c&&!this._bColumnLayoutRequested){c=sap.ui.require("sap/ui/layout/form/ColumnLayout");if(!c){sap.ui.require(["sap/ui/layout/form/ColumnLayout"],E.bind(this));this._bColumnLayoutRequested=true}}if(c){t=new c(this.getId()+"--Layout")}break}if(t){this._bChangedByMe=true;e.setLayout(t);this._bChangedByMe=false;return true}return false}function _(e,t){f=e;d=t;this._bResponsiveLayoutRequested=false;if(this.getLayout()==g.ResponsiveLayout){M.call(this)}}function C(e,t,a){p=e;m=t;v=a;this._bGridLayoutRequested=false;if(this.getLayout()==g.GridLayout){M.call(this)}}function F(e){y=e;this._bResponsiveGridLayoutRequested=false;if(this.getLayout()==g.ResponsiveGridLayout){M.call(this)}}function E(e){c=e;this._bColumnLayoutRequested=false;if(this.getLayout()==g.ColumnLayout){M.call(this)}}function M(){if(!this._bIsBeingDestroyed){b.call(this);D.call(this);if(this.getDomRef()){B.call(this)}}}function R(){this._bChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();for(var a=0;a<t.length;a++){var i=t[a];j(this._changedFormContainers,i);if(i.getLayoutData()){i.destroyLayoutData()}var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];j(this._changedFormElements,n);if(n.getLayoutData()){n.destroyLayoutData()}var o=n.getLabel();if(o){I.call(this,o)}var l=n.getFields();for(var u=0;u<l.length;u++){var h=l[u];I.call(this,h)}}}this._bChangedByMe=false}function D(){this._bChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();for(var a=0;a<t.length;a++){var i=t[a];j(this._changedFormContainers,i);P.call(this,i);var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];j(this._changedFormElements,n);G.call(this,n);var o=n.getLabel();if(o){w.call(this,o,this._iLabelWeight,false,true,this.getLabelMinWidth())}var l=n.getFields();for(var u=0;u<l.length;u++){var h=l[u];w.call(this,h,5,false,true)}}}this._bChangedByMe=false}function B(){this._bChangedByMe=true;this._changedFormContainers=[];var e=this.getLayout();var t=this.getAggregation("form").getLayout();t.setBackgroundDesign(this.getBackgroundDesign());switch(e){case g.ResponsiveLayout:this._applyLinebreaks();for(var a=0;a<this._changedFormElements.length;a++){var i=this._changedFormElements[a];W.call(this,i)}break;case g.GridLayout:X.call(this);break;case g.ResponsiveGridLayout:t.setLabelSpanXL(this.getLabelSpanXL());t.setLabelSpanL(this.getLabelSpanL());t.setLabelSpanM(this.getLabelSpanM());t.setLabelSpanS(this.getLabelSpanS());t.setAdjustLabelSpan(this.getAdjustLabelSpan());t.setEmptySpanXL(this.getEmptySpanXL());t.setEmptySpanL(this.getEmptySpanL());t.setEmptySpanM(this.getEmptySpanM());t.setEmptySpanS(this.getEmptySpanS());t.setColumnsXL(this.getColumnsXL());t.setColumnsL(this.getColumnsL());t.setColumnsM(this.getColumnsM());t.setSingleContainerFullSize(this.getSingleContainerFullSize());t.setBreakpointXL(this.getBreakpointXL());t.setBreakpointL(this.getBreakpointL());t.setBreakpointM(this.getBreakpointM());break;case g.ColumnLayout:t.setColumnsXL(this.getColumnsXL()>0?this.getColumnsXL():this.getColumnsL());t.setColumnsL(this.getColumnsL());t.setColumnsM(this.getColumnsM());t.setLabelCellsLarge(this.getLabelSpanL());t.setEmptyCellsLarge(this.getEmptySpanL());break}this._changedFormElements=[];this._bChangedByMe=false}function A(e){var t=e.getId(),a=" "+this._aLayouts.join(" ")+" ";return a.indexOf(" "+t+" ")>-1}function S(e,t,a,i){var s=new d({weight:e,linebreak:t===true,linebreakable:a===true});if(i){s.setMinWidth(i)}this._aLayouts.push(s.getId());return s}function k(e){var t;switch(this.getLayout()){case g.ResponsiveLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.ResponsiveFlowLayoutData");break;case g.GridLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.form.GridElementData");break;case g.ResponsiveGridLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.GridData");break;case g.ColumnLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.form.ColumnElementData");break}return t}function T(){var e=this.getLayout();if(e===g.ResponsiveLayout&&this._bResponsiveLayoutRequested||e===g.GridLayout&&this._bGridLayoutRequested||e===g.ResponsiveGridLayout&&this._bResponsiveGridLayoutRequested||e===g.ColumnLayout&&this._bColumnLayoutRequested){return false}if(!this.getAggregation("form").getLayout()){var t=this._bChangedByMe;var a=b.call(this);this._bChangedByMe=t;if(!a){return false}}return true}function w(e,t,a,i,s){if(this.getLayout()!=g.ResponsiveLayout){return}if(!T.call(this)){return}this._bLayoutDataChangedByMe=true;var r=k.call(this,e);if(!r||!A.call(this,r)){r=e.getLayoutData();if(r&&r.isA("sap.ui.core.VariantLayoutData")){r.addMultipleLayoutData(S.call(this,t,a,i,s))}else if(!r){e.setLayoutData(S.call(this,t,a,i,s))}else{u.warning("ResponsiveFlowLayoutData can not be set on Field "+e.getId(),"_createFieldLayoutData","SimpleForm")}}this._bLayoutDataChangedByMe=false}function G(e){if(this.getLayout()!=g.ResponsiveLayout){return}if(!T.call(this)){return}this._bLayoutDataChangedByMe=true;e.setLayoutData(new d({linebreak:true,margin:false}));this._bLayoutDataChangedByMe=false}function P(e){var t=this.getLayout();if(t!=g.ResponsiveLayout&&t!=g.GridLayout){return}if(!T.call(this)){return}this._bLayoutDataChangedByMe=true;switch(t){case g.ResponsiveLayout:e.setLayoutData(new d({minWidth:280}));break;case g.GridLayout:if(this.getMaxContainerCols()>1){e.setLayoutData(new m({halfGrid:true}))}else{e.setLayoutData(new m({halfGrid:false}))}break}this._bLayoutDataChangedByMe=false}function I(e){this._bLayoutDataChangedByMe=true;var t=k.call(this,e);if(t){var a=t.getId();for(var i=0;i<this._aLayouts.length;i++){var s=this._aLayouts[i];if(a==s){t.destroy();this._aLayouts.splice(i,1);break}}}this._bLayoutDataChangedByMe=false}function q(e,t){var a=x.call(this,t,e);e.addFormElement(a);return a}function O(e,t,a){var i=x.call(this,t,e);e.insertFormElement(i,a);return i}function x(e,t){var a;var i={};if(e){a=this.getId()+"--"+e.getId()+"--FE";e.addStyleClass("sapUiFormLabel-CTX");if(!k.call(this,e)){w.call(this,e,this._iLabelWeight,false,true,this.getLabelMinWidth())}i["label"]=e}else{a=t.getId()+"--FE-NoLabel";if(sap.ui.getCore().byId(a)){a=undefined}}var s=new n(a,i);G.call(this,s);s.isVisible=function(){var e=this.getFields();var t=false;for(var a=0;a<e.length;a++){var i=e[a];if(i.getVisible()){t=true;break}}return t};return s}function V(e){var t;var a={};if(e){t=this.getId()+"--"+e.getId()+"--FC";if(e.isA("sap.ui.core.Title")){a["title"]=e}else if(e.isA("sap.ui.core.Toolbar")){a["toolbar"]=e}}else{t=this.getId()+"--FC-NoHead"}var i=new r(t,a);P.call(this,i);i.getAriaLabelledBy=function(){var e=this.getToolbar();if(e){return e.getAriaLabelledBy()}else{return[]}};return i}function W(e){var t=this._iMaxWeight;var a=e.getFields();var i;var s=a.length;var r=e.getLabel();var n;var o=0;this._bLayoutDataChangedByMe=true;if(r&&k.call(this,r)){t=t-k.call(this,r).getWeight()}for(o=0;o<a.length;o++){i=a[o];n=k.call(this,i);if(n&&n.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!A.call(this,n)){t=t-n.getWeight();s--}}var l=Math.floor(t/s);var u=t%s;for(o=0;o<a.length;o++){i=a[o];n=k.call(this,i);var h=l;if(!n){w.call(this,i,h,false,o==0)}else if(A.call(this,n)&&n.isA("sap.ui.layout.ResponsiveFlowLayoutData")){if(u>0){h++;u--}n.setWeight(h)}}this._bLayoutDataChangedByMe=false}L.prototype._applyLinebreaks=function(){if(!f||this._bResponsiveLayoutRequested){return}this._bLayoutDataChangedByMe=true;var e=this.getAggregation("form"),t=e.getFormContainers();var a=this.getDomRef();var i=this.$();for(var s=1;s<t.length;s++){var r=t[s],n=r.getLayoutData();if(!a||i.outerWidth(true)>this.getMinWidth()){if(s%this.getMaxContainerCols()==0){n.setLinebreak(true)}else{n.setLinebreak(false)}}else{n.setLinebreak(true)}}if(a&&i.css("visibility")=="hidden"){var o=this;setTimeout(function(){if(o.getDomRef()){o.$().css("visibility","")}},10)}this._bLayoutDataChangedByMe=false};function X(){this._bLayoutDataChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();var a=t.length;for(var i=0;i<a;i++){var s=t[i];if(this.getMaxContainerCols()<=1||i==a-1&&a%2>0){s.getLayoutData().setHalfGrid(false)}else if(!s.getLayoutData().getHalfGrid()){s.getLayoutData().setHalfGrid(true)}}this._bLayoutDataChangedByMe=false}L.prototype._resize=function(e){this._bChangedByMe=true;if(this._iCurrentWidth==e.size.width){return}this._iCurrentWidth=e.size.width;this._applyLinebreaks();this._bChangedByMe=false};function z(){if(this._sResizeListenerId){a.deregister(this._sResizeListenerId);this._sResizeListenerId=null}}function j(e,t){var a=false;for(var i=0;i<e.length;i++){var s=e[i];if(s==t){a=true;break}}if(!a){e.push(t)}}function H(e){if(e.name=="visible"){var t=e.object.getParent();t.invalidate()}}function N(e){var t=[];var a=e.getFormContainers();for(var i=0;i<a.length;i++){var s=a[i];var r=s.getTitle();if(r){t.push(r)}else{var n=s.getToolbar();if(n){t.push(n)}}var o=s.getFormElements();for(var l=0;l<o.length;l++){var u=o[l];var h=u.getLabel();if(h){t.push(h)}var g=u.getFields();for(var f=0;f<g.length;f++){var d=g[f];t.push(d)}}}return t}L.prototype._formInvalidated=function(e){if(!this._bChangedByMe){var t=N(this.getAggregation("form"));var a=0;var i=0;var s=false;if(!this._aElements||t.length<this._aElements.length){s=true}else{for(a=0;a<t.length;a++){var r=t[a];var n=this._aElements[i];if(r===n){i++}else{var o=t[a+1];if(o===n){this.insertContent(r,a);break}o=this._aElements[i+1];if(o===r){s=true;break}break}}}if(s){this.removeAllContent();for(a=0;a<t.length;a++){var l=t[a];this.addContent(l)}}}};L.prototype._onLayoutDataChange=function(e){if(!this._bLayoutDataChangedByMe&&!this._bIsBeingDestroyed){switch(this.getLayout()){case g.ResponsiveLayout:var t=e.srcControl;var a=t.getParent();if(a instanceof n){var i=this.indexOfContent(t);this.removeContent(t);this.insertContent(t,i)}break}}};L.prototype._suggestTitleId=function(e){var t=this.getAggregation("form");t._suggestTitleId(e);return this};return L});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SimpleFormRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,r){r._bChangedByMe=true;e.openStart("div",r).class("sapUiSimpleForm").style("width",r.getWidth()).openEnd();var n=r.getAggregation("form");e.renderControl(n);e.close("div");r._bChangedByMe=false};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/library", ["sap/ui/base/DataType","sap/ui/core/library"],function(o,t){"use strict";var e=sap.ui.getCore().initLibrary({name:"sap.ui.layout",version:"1.115.1",dependencies:["sap.ui.core"],designtime:"sap/ui/layout/designtime/library.designtime",types:["sap.ui.layout.BackgroundDesign","sap.ui.layout.BlockBackgroundType","sap.ui.layout.BlockLayoutCellColorSet","sap.ui.layout.BlockLayoutCellColorShade","sap.ui.layout.BlockRowColorSets","sap.ui.layout.BoxesPerRowConfig","sap.ui.layout.GridIndent","sap.ui.layout.GridPosition","sap.ui.layout.GridSpan","sap.ui.layout.SideContentFallDown","sap.ui.layout.SideContentPosition","sap.ui.layout.SideContentVisibility","sap.ui.layout.form.ColumnsXL","sap.ui.layout.form.ColumnsL","sap.ui.layout.form.ColumnsM","sap.ui.layout.form.ColumnCells","sap.ui.layout.form.EmptyCells","sap.ui.layout.form.GridElementCells","sap.ui.layout.form.SimpleFormLayout","sap.ui.layout.cssgrid.CSSGridAutoFlow","sap.ui.layout.cssgrid.CSSGridTrack","sap.ui.layout.cssgrid.CSSGridLine","sap.ui.layout.cssgrid.CSSGridGapShortHand"],interfaces:["sap.ui.layout.cssgrid.IGridConfigurable","sap.ui.layout.cssgrid.IGridItemLayoutData"],controls:["sap.ui.layout.AlignedFlowLayout","sap.ui.layout.DynamicSideContent","sap.ui.layout.FixFlex","sap.ui.layout.Grid","sap.ui.layout.HorizontalLayout","sap.ui.layout.ResponsiveFlowLayout","sap.ui.layout.ResponsiveSplitter","sap.ui.layout.ResponsiveSplitterPage","sap.ui.layout.Splitter","sap.ui.layout.VerticalLayout","sap.ui.layout.BlockLayoutCell","sap.ui.layout.BlockLayoutRow","sap.ui.layout.BlockLayout","sap.ui.layout.form.Form","sap.ui.layout.form.FormLayout","sap.ui.layout.form.GridLayout","sap.ui.layout.form.ColumnLayout","sap.ui.layout.form.ResponsiveGridLayout","sap.ui.layout.form.ResponsiveLayout","sap.ui.layout.form.SimpleForm","sap.ui.layout.cssgrid.CSSGrid"],elements:["sap.ui.layout.BlockLayoutCellData","sap.ui.layout.GridData","sap.ui.layout.ResponsiveFlowLayoutData","sap.ui.layout.SplitterLayoutData","sap.ui.layout.form.FormContainer","sap.ui.layout.form.FormElement","sap.ui.layout.form.GridContainerData","sap.ui.layout.PaneContainer","sap.ui.layout.SplitPane","sap.ui.layout.form.GridElementData","sap.ui.layout.form.ColumnElementData","sap.ui.layout.form.ColumnContainerData","sap.ui.layout.cssgrid.GridItemLayoutData"],extensions:{flChangeHandlers:{"sap.ui.layout.BlockLayout":{moveControls:"default"},"sap.ui.layout.BlockLayoutRow":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.BlockLayoutCell":"sap/ui/layout/flexibility/BlockLayoutCell","sap.ui.layout.DynamicSideContent":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.form.SimpleForm":"sap/ui/layout/flexibility/SimpleForm","sap.ui.layout.Grid":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.FixFlex":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.form.Form":"sap/ui/layout/flexibility/Form","sap.ui.layout.form.FormContainer":"sap/ui/layout/flexibility/FormContainer","sap.ui.layout.form.FormElement":"sap/ui/layout/flexibility/FormElement","sap.ui.layout.HorizontalLayout":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.Splitter":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.VerticalLayout":{moveControls:"default",hideControl:"default",unhideControl:"default"}},"sap.ui.support":{publicRules:true,internalRules:true}}});e.BackgroundDesign={Solid:"Solid",Transparent:"Transparent",Translucent:"Translucent"};e.GridIndent=o.createType("sap.ui.layout.GridIndent",{isValid:function(o){return/^(([Xx][Ll](?:[0-9]|1[0-1]))? ?([Ll](?:[0-9]|1[0-1]))? ?([Mm](?:[0-9]|1[0-1]))? ?([Ss](?:[0-9]|1[0-1]))?)$/.test(o)}},o.getType("string"));e.GridPosition={Left:"Left",Right:"Right",Center:"Center"};e.GridSpan=o.createType("sap.ui.layout.GridSpan",{isValid:function(o){return/^(([Xx][Ll](?:[1-9]|1[0-2]))? ?([Ll](?:[1-9]|1[0-2]))? ?([Mm](?:[1-9]|1[0-2]))? ?([Ss](?:[1-9]|1[0-2]))?)$/.test(o)}},o.getType("string"));e.BlockBackgroundType={Default:"Default",Light:"Light",Mixed:"Mixed",Accent:"Accent",Dashboard:"Dashboard"};e.BlockRowColorSets={ColorSet1:"ColorSet1",ColorSet2:"ColorSet2",ColorSet3:"ColorSet3",ColorSet4:"ColorSet4"};e.BlockLayoutCellColorSet={ColorSet1:"ColorSet1",ColorSet2:"ColorSet2",ColorSet3:"ColorSet3",ColorSet4:"ColorSet4",ColorSet5:"ColorSet5",ColorSet6:"ColorSet6",ColorSet7:"ColorSet7",ColorSet8:"ColorSet8",ColorSet9:"ColorSet9",ColorSet10:"ColorSet10",ColorSet11:"ColorSet11"};e.BlockLayoutCellColorShade={ShadeA:"ShadeA",ShadeB:"ShadeB",ShadeC:"ShadeC",ShadeD:"ShadeD",ShadeE:"ShadeE",ShadeF:"ShadeF"};e.form=e.form||{};e.form.GridElementCells=o.createType("sap.ui.layout.form.GridElementCells",{isValid:function(o){return/^(auto|full|([1-9]|1[0-6]))$/.test(o)}},o.getType("string"));e.form.SimpleFormLayout={ResponsiveLayout:"ResponsiveLayout",GridLayout:"GridLayout",ResponsiveGridLayout:"ResponsiveGridLayout",ColumnLayout:"ColumnLayout"};e.SideContentVisibility={AlwaysShow:"AlwaysShow",ShowAboveL:"ShowAboveL",ShowAboveM:"ShowAboveM",ShowAboveS:"ShowAboveS",NeverShow:"NeverShow"};e.SideContentFallDown={BelowXL:"BelowXL",BelowL:"BelowL",BelowM:"BelowM",OnMinimumWidth:"OnMinimumWidth"};e.SideContentPosition={End:"End",Begin:"Begin"};e.form.ColumnsXL=o.createType("sap.ui.layout.form.ColumnsXL",{isValid:function(o){if(o>0&&o<=6){return true}else{return false}}},o.getType("int"));e.form.ColumnsL=o.createType("sap.ui.layout.form.ColumnsL",{isValid:function(o){if(o>0&&o<=3){return true}else{return false}}},o.getType("int"));e.form.ColumnsM=o.createType("sap.ui.layout.form.ColumnsM",{isValid:function(o){if(o>0&&o<=2){return true}else{return false}}},o.getType("int"));e.form.ColumnCells=o.createType("sap.ui.layout.form.ColumnCells",{isValid:function(o){if(o===-1){return true}else if(o>0&&o<=12){return true}else{return false}}},o.getType("int"));e.form.EmptyCells=o.createType("sap.ui.layout.form.EmptyCells",{isValid:function(o){if(o>=0&&o<12){return true}else{return false}}},o.getType("int"));if(!e.form.FormHelper){e.form.FormHelper={createLabel:function(o){throw new Error("no Label control available!")},createButton:function(o,t,e){throw new Error("no Button control available!")},setButtonContent:function(o,t,e,a,i){throw new Error("no Button control available!")},addFormClass:function(){return null},setToolbar:function(o){return o},getToolbarTitle:function(o){return o&&o.getId()},createDelimiter:function(o,t){throw new Error("no delimiter control available!")},createSemanticDisplayControl:function(o,t){throw new Error("no display control available!")},updateDelimiter:function(o,t){throw new Error("no delimiter control available!")},updateSemanticDisplayControl:function(o,t){throw new Error("no display control available!")},bArrowKeySupport:true,bFinal:false}}if(!e.GridHelper){e.GridHelper={getLibrarySpecificClass:function(){return""},bFinal:false}}e.cssgrid=e.cssgrid||{};e.cssgrid.CSSGridTrack=o.createType("sap.ui.layout.cssgrid.CSSGridTrack",{isValid:function(o){var t=/(auto|inherit|(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%))|calc\(\s*(\(\s*)*[-+]?(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%)?)(\s*(\)\s*)*(\s[-+]\s|[*\/])\s*(\(\s*)*([-+]?(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%)?)))*\s*(\)\s*)*\))/g;o=o.replace(/(minmax|repeat|fit-content|max-content|min-content|auto-fill|auto-fit|fr|min|max)/g,"");o=o.replace(t,"");o=o.replace(/\(|\)|\+|\-|\*|\/|calc|\%|\,/g,"");o=o.replace(/[0-9]/g,"");o=o.replace(/\s/g,"");return o.length===0},parseValue:function(o){return o.trim().split(/\s+/).join(" ")}},o.getType("string"));e.cssgrid.CSSGridGapShortHand=o.createType("sap.ui.layout.cssgrid.CSSGridGapShortHand",{isValid:function(o){var e=true,a=o.split(/\s+/);a.forEach(function(o){if(!t.CSSSize.isValid(o)){e=false}});return e},parseValue:function(o){return o.trim().split(/\s+/).join(" ")}},o.getType("string"));e.cssgrid.CSSGridLine=o.createType("sap.ui.layout.cssgrid.CSSGridLine",{isValid:function(o){return/^(auto|inherit|((span)?(\s)?-?[0-9]+(\s\/\s(span)?(\s)?-?[0-9]*)?)?)$/.test(o)}},o.getType("string"));e.cssgrid.CSSGridAutoFlow={Row:"Row",Column:"Column",RowDense:"RowDense",ColumnDense:"ColumnDense"};e.BoxesPerRowConfig=o.createType("sap.ui.layout.BoxesPerRowConfig",{isValid:function(o){return/^(([Xx][Ll](?:[1-9]|1[0-2]))? ?([Ll](?:[1-9]|1[0-2]))? ?([Mm](?:[1-9]|1[0-2]))? ?([Ss](?:[1-9]|1[0-2]))?)$/.test(o)}},o.getType("string"));return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/ClientTreeBindingAdapter", ["sap/ui/model/TreeBinding","sap/ui/model/ClientTreeBinding","./TreeBindingAdapter","sap/ui/model/ChangeReason","sap/base/assert","sap/base/Log"],function(e,t,i,o,r,n){"use strict";var p=function(){if(!(this instanceof e)||this._bIsAdapted){return}i.apply(this);for(var t in p.prototype){if(p.prototype.hasOwnProperty(t)){this[t]=p.prototype[t]}}this._invalidTree=true;this.setNumberOfExpandedLevels(this.mParameters.numberOfExpandedLevels||0)};p.prototype.setNumberOfExpandedLevels=function(e){this._iNumberOfExpandedLevels=parseInt(e)};p.prototype.getNumberOfExpandedLevels=function(){return this._iNumberOfExpandedLevels};p.prototype.nodeHasChildren=function(e){r(e,"TreeBindingAdapter.nodeHasChildren: No node given!");if(!e){return false}else if(e.isArtificial){return true}else{return t.prototype.hasChildren.call(this,e.context)}};p.prototype.resetData=function(e,i){var r=t.prototype.resetData.call(this,e,i);this._aRowIndexMap=[];this._oRootNode=undefined;this._iPageSize=0;this._iThreshold=0;if(!i||i.reason!==o.Sort){this.clearSelection();this._createTreeState(true)}return r};p.prototype._calculateGroupID=function(e){var t=this.getPath();var i;if(e.context){var o=e.context.getPath();if(t!="/"){var r=o.match(t+"(.*)");if(r!=null&&r[1]){i=r[1]}else{n.warning("CTBA: BindingPath/ContextPath matching problem!")}}if(!i){i=o}if(i.startsWith("/")){i=i.substring(1,i.length)}var p;if(!e.parent){p=this._calculateGroupID({context:e.context._parentContext||null})}else{p=e.parent.groupID}i=p+i.replace(/\//g,"_")+"/"}else if(e.context===null){i="/"}return i};p.prototype.expand=function(){this._buildTree();i.prototype.expand.apply(this,arguments)};p.prototype.collapse=function(){this._buildTree();i.prototype.collapse.apply(this,arguments)};p.prototype._buildTree=function(e,t){if(this._invalidTree){e=e||0;t=t||this.getRootContexts().length;this._invalidTree=false;this._aRowIndexMap=[];i.prototype._buildTree.call(this,e,t)}};p.prototype.findNode=function(e){this._buildTree();return i.prototype.findNode.apply(this,arguments)};p.prototype.setSelectedIndex=function(e){this._buildTree();i.prototype.setSelectedIndex.apply(this,arguments)};p.prototype.setSelectionInterval=function(e,t){this._buildTree();i.prototype.setSelectionInterval.apply(this,arguments)};p.prototype.addSelectionInterval=function(){this._buildTree();i.prototype.addSelectionInterval.apply(this,arguments)};p.prototype.removeSelectionInterval=function(){this._buildTree();i.prototype.removeSelectionInterval.apply(this,arguments)};p.prototype.clearSelection=function(){this._buildTree();i.prototype.clearSelection.apply(this,arguments)};p.prototype.selectAll=function(){this._buildTree();i.prototype.selectAll.apply(this,arguments)};p.prototype._calculateRequestLength=function(e,t){return e};p.prototype.getLength=function(){this._buildTree();return i.prototype.getLength.apply(this,arguments)};p.prototype._fireChange=function(){this._invalidTree=true;this.constructor.prototype._fireChange.apply(this,arguments)};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeAutoExpandMode", [],function(){"use strict";var e={Sequential:"Sequential",Bundled:"Bundled"};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingAdapter", ["sap/ui/model/TreeBinding","sap/ui/model/TreeAutoExpandMode","sap/ui/model/ChangeReason","sap/ui/model/TreeBindingUtils","sap/base/assert","sap/base/Log","sap/base/util/each","sap/base/util/isEmptyObject"],function(e,t,i,o,n,r,a,s){"use strict";var d=function(){if(!(this instanceof e)||this._bIsAdapted){return}for(var i in d.prototype){if(d.prototype.hasOwnProperty(i)){this[i]=d.prototype[i]}}this.mParameters=this.mParameters||{};this._aRowIndexMap=[];this._iThreshold=0;this._iPageSize=0;this.setAutoExpandMode(this.mParameters.autoExpandMode||t.Sequential);if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive}this._createTreeState();this._bIsAdapted=true};d.prototype.getCurrentTreeState=function(){var e=";",t;var i={};for(t in this._mTreeState.expanded){i[t]=true}var o={};for(t in this._mTreeState.collapsed){o[t]=true}var n={};for(t in this._mTreeState.selected){n[t]=true}return{_getExpandedList:function(){return Object.keys(i).join(e)},_getCollapsedList:function(){return Object.keys(o).join(e)},_getSelectedList:function(){return Object.keys(n).join(e)},_isExpanded:function(e){return!!i[e]},_isCollapsed:function(e){return!!o[e]},_remove:function(e){delete i[e];delete o[e];delete n[e]}}};d.prototype.setTreeState=function(e){this._oInitialTreeState=e};d.prototype.setAutoExpandMode=function(e){this._autoExpandMode=e};d.prototype.getLength=function(){if(!this._oRootNode){return 0}return this._oRootNode.magnitude};d.prototype.getContextByIndex=function(e){if(this.isInitial()){return undefined}var t=this.findNode(e);return t?t.context:undefined};d.prototype.getNodeByIndex=function(e){if(this.isInitial()){return undefined}if(e>=this.getLength()){return undefined}return this.findNode(e)};d.prototype.findNode=function(e){if(this.isInitial()){return undefined}var t=typeof e;var i;var o=[];if(t==="number"){i=this._aRowIndexMap[e];if(!i){var n=-1;this._match(this._oRootNode,o,1,function(t){if(n===e){return true}n+=1;return false});i=o[0]}}return i};d.prototype._createTreeState=function(e){if(!this._mTreeState||e){this._mTreeState={expanded:{},collapsed:{},selected:{},deselected:{}}}};d.prototype._updateTreeState=function(e){e=e||{};var t=e.expanded?this._mTreeState.expanded:this._mTreeState.collapsed;var i=e.expanded?this._mTreeState.collapsed:this._mTreeState.expanded;var o=this._getNodeState(e.groupID);if(!o){o=e.fallbackNodeState||this._createNodeState({groupID:e.groupID,expanded:e.expanded,sum:e.sum})}delete i[e.groupID];t[e.groupID]=o;o.expanded=e.expanded;return o};d.prototype._createNodeState=function(e){if(!e.groupID){n(false,"To create a node state a group ID is mandatory!");return undefined}var t;var i;if(this._oInitialTreeState){t=this._oInitialTreeState._isExpanded(e.groupID);i=this._oInitialTreeState._isCollapsed(e.groupID);this._oInitialTreeState._remove(e.groupID)}var o=e.expanded||t||false;var r=e.selected||false;var a={groupID:e.groupID,expanded:o,sections:e.sections||[{startIndex:0,length:this._iPageSize}],sum:e.sum||false,selected:r};if(t||i){this._updateTreeState({groupID:e.groupID,fallbackNodeState:a,expanded:t,collapsed:i})}return a};d.prototype._getNodeState=function(e){var t=this._mTreeState.expanded[e];var i=this._mTreeState.collapsed[e];var o=this._mTreeState.selected[e];var n=this._mTreeState.deselected[e];return t||i||o||n};d.prototype._updateNodeSections=function(e,t){var i=this._getNodeState(e);if(!i){n(false,"No Node State for Group ID '"+e+"' found!");return undefined}else if(!t){n(false,"No Section given!");return undefined}else if(t.length<=0){n(false,"The length of the given section must be positive greater than 0.");return undefined}else if(t.startIndex<0){n(false,"The sections start index must be greater/equal to 0.");return undefined}i.sections=o.mergeSections(i.sections,t);return i.sections};d.prototype._increaseSections=function(){var e=function(e){if(!e){return}var t=this._getMaxGroupSize(e);var i=e.nodeState;if(t===undefined){var n=[];for(var r=0;r<i.sections.length;r++){var a=i.sections[r];a.length=Math.max(a.length,this._iPageSize);n=o.mergeSections(n,a)}i.sections=n}};this._map(this._oRootNode,e)};d.prototype._getMaxGroupSize=function(e){var t=0;if(e.isArtificial){var i=this.oModel.isList(this.sPath,this.getContext());if(this.bDisplayRootNode&&!i&&!this._bRootMissing){t=1}else{t=this._getGroupSize(e)||0}}else{t=this.nodeHasChildren(e)?this._getGroupSize(e):0}return t};d.prototype.getContexts=function(e,t,i){return this._getContextsOrNodes(false,e,t,i)};d.prototype._getContextsOrNodes=function(e,t,i,o){var n,r,s=[],d=[];if(!this.isResolved()||this.isInitial()){return[]}t=t||0;i=i||this.oModel.iSizeLimit;o=o||0;if(i>this._iPageSize){this._iPageSize=i;this._increaseSections()}this._iThreshold=Math.max(this._iThreshold,o);this._aRowIndexMap=[];this._buildTree(t,i);if(this._oRootNode){d=this._retrieveNodeSection(this._oRootNode,t,i)}this._updateRowIndexMap(d,t);for(var l=0;l<d.length;l++){r=d[l];if(!r.context){n=n||{};var u=r.parent;n[u.groupID]=u;this._updateNodeSections(u.groupID,{startIndex:r.positionInParent,length:1})}s.push(r.context)}if(n){var h=this;a(n,function(e,t){t.magnitude=0;t.numberOfTotals=0;h._loadChildContexts(t)});s=[];for(var p=0;p<d.length;p++){r=d[p];s.push(r.context)}}if(e){return d}else{return s}};d.prototype.getNodes=function(e,t,i){return this._getContextsOrNodes(true,e,t,i)};d.prototype._updateRowIndexMap=function(e,t){this._aRowIndexMap=[];for(var i=0;i<e.length;i++){this._aRowIndexMap[t+i]=e[i]}};d.prototype._retrieveNodeSection=function(e,t,i){var o=-1;var n=[];this._match(this._oRootNode,[],i,function(e,r,a){if(!e||!e.isArtificial){o++}if(o>=t&&o<t+i){if(!e){e=this._createNode({parent:a,positionInParent:r});a.children[r]=e}n.push(e);return true}return false});return n};d.prototype._buildTree=function(e,t){this._oRootNode=undefined;var i=null;var o=this._calculateGroupID({context:i,parent:null});var n=this._getNodeState(o);if(!n){n=this._createNodeState({groupID:o,sum:true,sections:[{startIndex:e,length:t}]});this._updateTreeState({groupID:n.groupID,fallbackNodeState:n,expanded:true})}this._oRootNode=this._createNode({context:i,parent:null,level:this.bDisplayRootNode&&!(i===null)?0:-1,nodeState:n,isLeaf:false,autoExpand:this.getNumberOfExpandedLevels()+1});this._oRootNode.isArtificial=true;if(this._mTreeState.expanded[this._oRootNode.groupID]){this._loadChildContexts(this._oRootNode)}};d.prototype._calculateRequestLength=function(e,t){var i;if(!e){i=t.length}else{i=Math.max(Math.min(t.length,e-t.startIndex),0)}return i};d.prototype._loadChildContexts=function(e){var i=e.nodeState;var o=this._getMaxGroupSize(e);if(o>0){if(!e.children[o-1]){e.children[o-1]=undefined}i.leafCount=o}if(this.bClientOperation){i.sections=[{startIndex:0,length:o}]}for(var n=0;n<i.sections.length;n++){var r=i.sections[n];var a=this._calculateRequestLength(o,r);if(e.autoExpand>=0&&this._autoExpandMode===t.Bundled){a=Math.max(0,o)}var s;if(e.isArtificial){s=this.getRootContexts(r.startIndex,a,this._iThreshold)}else{s=this.nodeHasChildren(e)?this.getNodeContexts(e.context,r.startIndex,a,this._iThreshold):[]}for(var d=0;d<s.length;d++){var l=s[d];if(!l){continue}var u=d+r.startIndex;var h=e.children[u];var p={context:s[d],parent:e,level:e.level+1,positionInParent:u,autoExpand:Math.max(e.autoExpand-1,-1)};if(h){h.context=p.context;h.parent=p.parent;h.level=p.level;h.positionInParent=p.positionInParent;h.magnitude=0;h.numberOfTotals=0;h.autoExpand=p.autoExpand;var f;if(l){f=this._calculateGroupID(h)}h.groupID=f}else{h=this._createNode(p)}h.nodeState=this._getNodeState(h.groupID);if(!h.nodeState){h.nodeState=this._createNodeState({groupID:h.groupID,expanded:false})}h.nodeState.parentGroupID=e.groupID;h.isLeaf=!this.nodeHasChildren(h);e.children[u]=h;if(h.isLeaf){e.numberOfLeafs+=1}if(h.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[h.groupID]){this.setNodeSelection(h.nodeState,true)}if((h.autoExpand>0||h.nodeState.expanded)&&this.isGrouped()){if(!this._mTreeState.collapsed[h.groupID]&&!h.isLeaf){this._updateTreeState({groupID:h.nodeState.groupID,fallbackNodeState:h.nodeState,expanded:true});this._loadChildContexts(h)}e.magnitude+=Math.max(h.magnitude||0,0);e.numberOfLeafs+=h.numberOfLeafs}}}e.magnitude+=Math.max(o||0,0)};d.prototype.isGrouped=function(){return true};d.prototype._calculateGroupID=function(e){r.error("TreeBindingAdapter#_calculateGroupID: Not implemented. Needs to be implemented in respective sub-classes.")};d.prototype._createNode=function(e){e=e||{};var t=e.context;var i=e.level||0;var o={context:t,level:i,children:e.children||[],parent:e.parent,nodeState:e.nodeState,isLeaf:e.isLeaf||false,positionInParent:e.positionInParent,magnitude:e.magnitude||0,numberOfTotals:e.numberOfTotals||0,numberOfLeafs:e.numberOfLeafs||0,autoExpand:e.autoExpand||0,absoluteNodeIndex:e.absoluteNodeIndex||0,totalNumberOfLeafs:0};if(t!==undefined){o.groupID=this._calculateGroupID(o)}return o};d.prototype.expand=function(e,t){var o=this.findNode(e);if(!o){n(false,"No node found for index "+e);return}this._updateTreeState({groupID:o.nodeState.groupID,fallbackNodeState:o.nodeState,expanded:true});if(!t){this._fireChange({reason:i.Expand})}};d.prototype.expandToLevel=function(e){this._mTreeState.collapsed={};this.setNumberOfExpandedLevels(e);this._fireChange({reason:i.Expand})};d.prototype.isExpanded=function(e){var t=this.findNode(e);return t&&t.nodeState?t.nodeState.expanded:false};d.prototype.collapse=function(e,t){var o;var r=this;if(typeof e==="object"){o=e}else if(typeof e==="number"){var s=this.findNode(e);if(!s){n(false,"No node found for index "+e);return}o=s.nodeState}this._updateTreeState({groupID:o.groupID,fallbackNodeState:o,expanded:false});o.selectAllMode=false;if(this.bCollapseRecursive){var d=o.groupID;a(this._mTreeState.expanded,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)){r._updateTreeState({groupID:e,expanded:false})}});var l=[];a(this._mTreeState.selected,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)&&e!==d){t.selectAllMode=false;r.setNodeSelection(t,false);l.push(e)}});if(l.length){var u={rowIndices:[]};var h=-1;this._map(this._oRootNode,function(e){if(!e||!e.isArtificial){h++}if(e&&l.indexOf(e.groupID)!==-1){if(e.groupID===this._sLeadSelectionGroupID){u.oldIndex=h;u.leadIndex=-1}u.rowIndices.push(h)}});this._publishSelectionChanges(u)}}if(!t){this._fireChange({reason:i.Collapse})}};d.prototype.collapseToLevel=function(e){if(!e||e<0){e=0}var t=this;a(this._mTreeState.expanded,function(i,o){var n=t._getGroupIdLevel(i)-1;if(n===e){t.collapse(o,true)}});if(this.bCollapseRecursive){this.setNumberOfExpandedLevels(e)}this._fireChange({reason:i.Collapse})};d.prototype._map=function(e,t){t.call(this,e);if(!e){return}for(var i=0;i<e.children.length;i++){var o=e.children[i];this._map(o,t)}if(this._afterMapHook){this._afterMapHook(e,t)}};d.prototype._match=function(e,t,i,o,n,r){if(t.length===i){return true}var a=o.call(this,e,n,r);if(a){t.push(e)}if(!e){return false}for(var s=0;s<e.children.length;s++){var d=e.children[s];var l=this._match(d,t,i,o,s,e);if(l){return true}}return this._afterMatchHook?this._afterMatchHook(e,t,i,o,n,r):false};d.prototype.toggleIndex=function(e){var t=this.findNode(e);if(!t){n(false,"There is no node at index "+e+".");return}if(t.nodeState.expanded){this.collapse(e)}else{this.expand(e)}};d.prototype._getGroupIdLevel=function(e){if(e==null){r.warning("assertion failed: no need to determine level of group ID = null");return-1}return e.split("/").length-2};d.prototype._getGroupSize=function(e){return this.getChildCount(e.context)};d.prototype.setNodeSelection=function(e,t){if(!e.groupID){n(false,"NodeState must have a group ID!");return}e.selected=t;if(t){this._mTreeState.selected[e.groupID]=e;delete this._mTreeState.deselected[e.groupID]}else{delete this._mTreeState.selected[e.groupID];this._mTreeState.deselected[e.groupID]=e}};d.prototype.isIndexSelected=function(e){var t=this.getNodeByIndex(e);return t&&t.nodeState?t.nodeState.selected:false};d.prototype.isIndexSelectable=function(e){var t=this.getNodeByIndex(e);return this._isNodeSelectable(t)};d.prototype._isNodeSelectable=function(e){return!!e&&!e.isArtificial};d.prototype.setSelectedIndex=function(e){var t=this.findNode(e);if(t&&this._isNodeSelectable(t)){var i=this._clearSelection();var o=i.rowIndices.indexOf(e);if(o>=0){i.rowIndices.splice(o,1)}else{i.rowIndices.push(e)}i.leadGroupID=t.groupID;i.leadIndex=e;this.setNodeSelection(t.nodeState,true);this._publishSelectionChanges(i)}else{r.warning("TreeBindingAdapter: The selection was ignored. Please make sure to only select rows, for which data has been fetched to the client. For AnalyticalTables, some rows might not be selectable at all.")}};d.prototype.getSelectedIndex=function(){if(!this._sLeadSelectionGroupID||s(this._mTreeState.selected)){return-1}var e=-1;var t=false;var i=function(i){if(!i||!i.isArtificial){e++}if(i){if(i.groupID===this._sLeadSelectionGroupID){t=true;return true}}return false};this._match(this._oRootNode,[],1,i);if(t){return e}return-1};d.prototype.getSelectedIndices=function(){var e=[];var t=this;if(s(this._mTreeState.selected)){return e}var i=Object.keys(this._mTreeState.selected).length;var o=-1;var n=function(i){if(!i||!i.isArtificial){o++}if(i){if(i.nodeState&&i.nodeState.selected&&!i.isArtificial){e.push(o);t._aRowIndexMap[o]=i;return true}}return false};this._match(this._oRootNode,[],i,n);return e};d.prototype.getSelectedNodesCount=function(){var e;if(this._oRootNode&&this._oRootNode.nodeState.selectAllMode){var t,i,o,n;var r,a=[];if(this.filterInfo&&this.oCombinedFilter){for(var s=this.filterInfo.aFilteredContexts.length-1;s>=0;s--){r=this.filterInfo.aFilteredContexts[s];a.push(this._calculateGroupID({context:r}))}}i=0;for(t in this._mTreeState.expanded){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.expanded[t];if(!n.selectAllMode&&n.leafCount!==undefined){i+=n.leafCount}}}for(t in this._mTreeState.selected){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.selected[t];o=this._mTreeState.expanded[n.parentGroupID];if(o&&!o.selectAllMode){i--}}}for(t in this._mTreeState.deselected){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.deselected[t];o=this._mTreeState.expanded[n.parentGroupID];if(o&&o.selectAllMode){i++}}}e=this._getSelectableNodesCount(this._oRootNode)-i}else{e=Object.keys(this._mTreeState.selected).length}return e};d.prototype._getSelectableNodesCount=function(e){if(e){return e.magnitude}else{return 0}};d.prototype.getSelectedContexts=function(){var e=[];var t=this;if(s(this._mTreeState.selected)){return e}var i=Object.keys(this._mTreeState.selected).length;var o=-1;var n=function(i){if(!i||!i.isArtificial){o++}if(i){if(i.nodeState&&i.nodeState.selected&&!i.isArtificial){e.push(i.context);t._aRowIndexMap[o]=i;return true}}return false};this._match(this._oRootNode,[],i,n);return e};d.prototype.setSelectionInterval=function(e,t){var i,o,n=this._clearSelection(),r={},a=[],s=this._setSelectionInterval(e,t,true);for(i=0;i<n.rowIndices.length;i++){o=n.rowIndices[i];r[o]=true}for(i=0;i<s.rowIndices.length;i++){o=s.rowIndices[i];if(r[o]){delete r[o]}else{r[o]=true}}for(o in r){if(r[o]){a.push(parseInt(o))}}this._publishSelectionChanges({rowIndices:a,oldIndex:n.oldIndex,leadIndex:s.leadIndex,leadGroupID:s.leadGroupID})};d.prototype._setSelectionInterval=function(e,t,i){var o=Math.min(e,t);var n=Math.max(e,t);var r=[];var a=[];var s=Math.abs(n-o)+1;var d;var l=-1;var u=function(e){if(!e||!e.isArtificial){l++}if(e){if(l>=o&&l<=n){if(this._isNodeSelectable(e)){if(e.nodeState.selected!==!!i){a.push(l)}if(e.groupID===this._sLeadSelectionGroupID){d=l}this.setNodeSelection(e.nodeState,!!i)}return true}}return false};this._match(this._oRootNode,r,s,u);var h={rowIndices:a,oldIndex:d,leadIndex:d&&!i?-1:undefined};if(r.length>0&&i){var p=r[r.length-1];h.leadGroupID=p.groupID;h.leadIndex=n}return h};d.prototype.addSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,true);this._publishSelectionChanges(i)};d.prototype.removeSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,false);this._publishSelectionChanges(i)};d.prototype.selectAll=function(){this._mTreeState.deselected={};var e={rowIndices:[],oldIndex:-1,selectAll:true};var t=-1;this._map(this._oRootNode,function(i){if(!i||!i.isArtificial){t++}if(i){if(i.groupID===this._sLeadSelectionGroupID){e.oldIndex=t}if(this._isNodeSelectable(i)){if(i.nodeState.selected!==true){e.rowIndices.push(t)}this.setNodeSelection(i.nodeState,true);e.leadGroupID=i.groupID;e.leadIndex=t}if(i.nodeState.expanded){i.nodeState.selectAllMode=true}}});this._publishSelectionChanges(e)};d.prototype._clearSelection=function(){var e=-1;var t=-1;var i;var o=[];if(this._oRootNode&&!this._oRootNode.nodeState.selectAllMode){i=0;for(var n in this._mTreeState.selected){if(n){i++}}}var r=function(i){if(!i||!i.isArtificial){e++}if(i){i.nodeState.selectAllMode=false;if(this._mTreeState.selected[i.groupID]){if(!i.isArtificial){o.push(e)}this.setNodeSelection(i.nodeState,false);if(i.groupID===this._sLeadSelectionGroupID){t=e}return true}}return false};this._match(this._oRootNode,[],i,r);if(this._oRootNode&&this._oRootNode.nodeState&&this._oRootNode.isArtificial){this._oRootNode.nodeState.selectAllMode=false}return{rowIndices:o,oldIndex:t,leadIndex:-1}};d.prototype.clearSelection=function(e){var t=this._clearSelection();if(!e){this._publishSelectionChanges(t)}};d.prototype._publishSelectionChanges=function(e){e.oldIndex=e.oldIndex||this.getSelectedIndex();e.rowIndices.sort(function(e,t){return e-t});if(e.leadIndex>=0&&e.leadGroupID){this._sLeadSelectionGroupID=e.leadGroupID}else if(e.leadIndex===-1){this._sLeadSelectionGroupID=undefined}else{e.leadIndex=e.oldIndex}if(e.rowIndices.length>0||e.leadIndex!=undefined&&e.leadIndex!==-1){this.fireSelectionChanged(e)}};d.prototype.setCollapseRecursive=function(e){this.bCollapseRecursive=!!e};d.prototype.getCollapseRecursive=function(){return this.bCollapseRecursive};d.prototype.attachSelectionChanged=function(e,t,i){this.attachEvent("selectionChanged",e,t,i);return this};d.prototype.detachSelectionChanged=function(e,t){this.detachEvent("selectionChanged",e,t);return this};d.prototype.fireSelectionChanged=function(e){this.fireEvent("selectionChanged",e);return this};return d},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingCompatibilityAdapter", ["sap/base/util/each"],function(t){"use strict";var e=function(e,n){Object.assign(e,{_init:function(t){this._bExpandFirstLevel=t;this.mContextInfo={};this._initContexts();if(t&&!this._bFirstLevelExpanded){this._expandFirstLevel()}},_initContexts:function(t){this.aContexts=this.getRootContexts(0,Number.MAX_VALUE);for(var e=0,n=this.aContexts.length;e<n;e++){var i=this._getContextInfo(this.aContexts[e]);this._setContextInfo({oContext:this.aContexts[e],iLevel:0,bExpanded:i?i.bExpanded:false})}if(this._bExpandFirstLevel&&!this._bFirstLevelExpanded){this._expandFirstLevel(t)}},_expandFirstLevel:function(e){var n=this;if(this.aContexts&&this.aContexts.length>0){t(this.aContexts.slice(),function(t,i){if(!e){n._loadChildContexts(i)}n._getContextInfo(i).bExpanded=true});this._bFirstLevelExpanded=true}},_fnFireFilter:e._fireFilter,_fireFilter:function(){this._fnFireFilter.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts)},_fnFireChange:e._fireChange,_fireChange:function(){this._fnFireChange.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts)},_restoreContexts:function(e){var n=this;var i=[];t(e.slice(),function(t,e){var o=n._getContextInfo(e);if(o&&o.bExpanded){i.push.apply(i,n._loadChildContexts(e))}});if(i.length>0){this._restoreContexts(i)}},_loadChildContexts:function(t){var e=this._getContextInfo(t);var n=this.aContexts?this.aContexts.indexOf(t):-1;var i=this.getNodeContexts(t,0,Number.MAX_VALUE);for(var o=0,s=i.length;o<s;o++){this.aContexts.splice(n+o+1,0,i[o]);var a=this._getContextInfo(i[o]);this._setContextInfo({oParentContext:t,oContext:i[o],iLevel:e.iLevel+1,bExpanded:a?a.bExpanded:false})}return i},_getContextInfo:function(t){return t?this.mContextInfo[t.getPath()]:undefined},_setContextInfo:function(t){if(t&&t.oContext){this.mContextInfo[t.oContext.getPath()]=t}},getLength:function(){return this.aContexts?this.aContexts.length:0},getContexts:function(t,e){return this.aContexts.slice(t,t+e)},getNodes:function(t,e){var n=this.getContexts(t,t+e);var i=[];for(var o=0;o<n.length;o++){var s=this._getContextInfo(n[o])||{};var a=n[o];i.push({context:a,level:s.iLevel,parent:s.oParentContext,nodeState:{expanded:s.bExpanded,collapsed:!s.bExpanded,selected:false}})}return i},hasChildren:function(){return true},nodeHasChildren:function(){return true},getContextByIndex:function(t){return this.aContexts[t]},getLevel:function(t){var e=this._getContextInfo(t);return e?e.iLevel:-1},isExpanded:function(t){var e=this.getContextByIndex(t);var n=this._getContextInfo(e);return n?n.bExpanded:false},expandContext:function(t){var e=this._getContextInfo(t);if(e&&!e.bExpanded){this.storeSelection();this._loadChildContexts(t);e.bExpanded=true;this._fireChange();this.restoreSelection()}},expand:function(t){this.expandContext(this.getContextByIndex(t))},collapseContext:function(t,e){var n=this._getContextInfo(t);if(n&&n.bExpanded){this.storeSelection();for(var i=this.aContexts.length-1;i>0;i--){if(this._getContextInfo(this.aContexts[i]).oParentContext===t){this.aContexts.splice(i,1)}}n.bExpanded=false;if(!e){this._fireChange()}this.restoreSelection()}},collapse:function(t){this.collapseContext(this.getContextByIndex(t))},collapseToLevel:function(t){if(!t||t<0){t=0}var e=this.aContexts.slice();for(var n=e.length-1;n>=0;n--){var i=this.getLevel(e[n]);if(i!=-1&&i>=t){this.collapseContext(e[n],true)}}this._fireChange()},toggleContext:function(t){var e=this._getContextInfo(t);if(e){if(e.bExpanded){this.collapseContext(t)}else{this.expandContext(t)}}},toggleIndex:function(t){this.toggleContext(this.getContextByIndex(t))},storeSelection:function(){var e=n.getSelectedIndices();var i=[];t(e,function(t,e){i.push(n.getContextByIndex(e))});this._aSelectedContexts=i},restoreSelection:function(){n.clearSelection();var e=this._aSelectedContexts;t(this.aContexts,function(t,i){if((e?e.indexOf(i):-1)>=0){n.addSelectionInterval(t,t)}});this._aSelectedContexts=undefined},attachSelectionChanged:function(){return undefined},detachSelectionChanged:function(){},clearSelection:function(){n._oSelection.clearSelection()},attachSort:function(){},detachSort:function(){}});e._init(n.getExpandFirstLevel())};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingUtils", function(){"use strict";var i=function(){};i.mergeSections=function(i,e){var t=[];for(var r=0;r<i.length;r++){var n=i[r];var s=n.startIndex+n.length;var a=e.startIndex+e.length;if(e.startIndex<=s&&a>=s&&e.startIndex>=n.startIndex){e.startIndex=n.startIndex;e.length=a-n.startIndex}else if(e.startIndex<=n.startIndex&&a>=n.startIndex&&a<=s){e.length=s-e.startIndex}else if(e.startIndex>=n.startIndex&&a<=s){e.startIndex=n.startIndex;e.length=n.length}else if(a<n.startIndex||e.startIndex>s){t.push(n)}}t.push(e);return t};i._determineRequestDelta=function(i,e){var t=i.iSkip+i.iTop;var r=e.iSkip+e.iTop;if(i.iSkip===e.iSkip&&i.iTop===e.iTop){return false}else if(i.iSkip<e.iSkip&&t>e.iSkip&&t<=r){i.iTop=e.iSkip-i.iSkip;if(i.iThreshold){i.iTop=i.iTop+i.iThreshold;i.iSkip=Math.max(0,i.iSkip-i.iThreshold);i.iThreshold=0}}else if(i.iSkip<r&&t>r&&i.iSkip>=e.iSkip){i.iSkip=r;i.iTop=t-i.iSkip;if(i.iThreshold){i.iTop+=i.iThreshold;i.iThreshold=0}}else if(i.iSkip>=e.iSkip&&t<=r){return false}else if(i.iSkip<=e.iSkip&&t>=r){e.oRequestHandle.abort()}else if(t<=e.iSkip||i.iSkip>=r){}return undefined};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/base/ManagedObjectModel", ["../json/JSONModel","../json/JSONPropertyBinding","../json/JSONListBinding","sap/ui/base/ManagedObject","sap/ui/base/ManagedObjectObserver","../Context","../ChangeReason","sap/base/util/uid","sap/base/Log","sap/base/util/isPlainObject","sap/base/util/deepClone","sap/base/util/deepEqual"],function(e,t,i,r,n,s,a,o,g,f,p,h){"use strict";var u="@custom",d="--";function l(e,t,i,n){var s=i.get(t)||[],a,o;if(s&&!Array.isArray(s)&&!i.multiple){s=[s]}for(var g=0;g<s.length;g++){a=s[g];if(!(a instanceof r)){continue}o=true;if(n){e._oObserver.observe(a,{properties:true,aggregations:true})}else{e._oObserver.unobserve(a,{properties:true,aggregations:true})}var f=a.getMetadata().getAllAggregations();for(var p in f){l(e,a,f[p],n)}}if(o){var p=t.getId()+"/@"+i.name;if(n){if(!e._mObservedCount.aggregations[p]){e._mObservedCount.aggregations[p]=0}e._mObservedCount.aggregations[p]++}else{delete e._mObservedCount.aggregations[p]}}}function c(e){var t,i=e.length-1,n=[];while(!(e[i].node instanceof r)){if(t){n.splice(0,0,t)}t=e[i].path;i--}return[e[i].node,e[i+1],n,t]}function v(e){var t="",i;var n=typeof e;if(e==null||n!="object"&&n!="function"){t=e}else if(f(e)){t=JSON.stringify(e)}else if(e instanceof r){t=e.getId();for(i in e.mProperties){t=t+"$"+v(e.mProperties[i])}}else if(Array.isArray(e)){for(var s=0;e.length;s++){t=t+"$"+v(e)}}else{g.warning("Could not stringify object "+e);t="$"}return t}var b=i.extend("sap.ui.model.base.ManagedObjectModelAggregationBinding",{constructor:function(){i.apply(this,arguments);this._getOriginOfManagedObjectModelBinding()},_mightBeAffectedByChangesInside:function(e){while(e){if(e.getParent()===this._oOriginMO){return true}e=e.getParent()}return false},getEntryKey:function(e){var t=e.getObject();if(t instanceof r){return t.getId()}return i.prototype.getEntryKey.apply(this,arguments)},getEntryData:function(e){var t=e.getObject();if(t instanceof r){return v(t)}return i.prototype.getEntryData.apply(this,arguments)},_getContexts:function(e,t){var r;if(this._oAggregation){var n=this._oOriginMO.getBinding(this._sMember);if(n){var s=n.getModel();r=s.iSizeLimit}var a=this._oOriginMO.getBindingInfo(this._sMember);if(a&&e>=0&&t&&r&&t>r){var o=false;if(e!=a.startIndex){a.startIndex=e;o=true}if(t!=a.length){a.length=t;o=true}if(o){this._oAggregation.update(this._oOriginMO,"change")}}}return i.prototype._getContexts.apply(this,arguments)},_getOriginOfManagedObjectModelBinding:function(){if(!this._oOriginMO){var e=this.oModel,t=[];e._getObject(this.sPath,this.oContext,t);var i=c(t);this._oOriginMO=i[0];this._aPartsInJSON=i[2];this._sMember=i[3];this._oAggregation=this._oOriginMO.getMetadata().getAggregation(this._sMember)}},getLength:function(){if(this._aPartsInJSON.length==0){var e=this._oOriginMO.getBinding(this._sMember);if(e&&e.isA("sap.ui.model.ListBinding")){return e.getLength()}}return i.prototype.getLength.apply(this,arguments)},isLengthFinal:function(){if(this._aPartsInJSON.length==0){var e=this._oOriginMO.getBinding(this._sMember);if(e&&e.isA("sap.ui.model.ListBinding")){return e.isLengthFinal()}}return true}});var y=t.extend("sap.ui.model.base.ManagedObjectModelPropertyBinding");var O=e.extend("sap.ui.model.base.ManagedObjectModel",{constructor:function(t,i){if(!i&&typeof i!="object"){i={}}i[u]={};this._oObject=t;this._mObservedCount={properties:{},aggregations:{}};this.mListBinding={};e.apply(this,[i]);this._oObserver=new n(this.observerChanges.bind(this));this.setSizeLimit(1e6)}});O.prototype.getAggregation=e.prototype.getProperty;O.prototype.setData=function(t,i){var r={};r[u]=t;e.prototype.setData.apply(this,[r,i])};O.prototype.getJSON=function(){return JSON.stringify(this.oData[u])};O.prototype.setProperty=function(t,i,n,s){var a=this.resolve(t,n),o,f,d;if(!a){return false}if(a.indexOf("/"+u)===0){return e.prototype.setProperty.apply(this,arguments)}o=a.lastIndexOf("/");f=a.substring(0,o||1);d=a.substr(o+1);var l=[],v=this._getObject(f,null,l);if(v){if(v instanceof r){var b=v.getMetadata().getManagedProperty(d);if(b){if(!h(b.get(v),i)){b.set(v,i);var y=function(e){var t=this.resolve(e.sPath,e.oContext);return t?t.startsWith(a):false}.bind(this);this.checkUpdate(false,s,y);return true}}else{g.warning("The setProperty method only supports properties, the path "+a+" does not point to a property",null,"sap.ui.model.base.ManagedObjectModel")}}else if(v[d]!==i){var O=c(l);var _=p(O[1].node),m=O[2];var M=_;for(var C=0;C<m.length;C++){M=M[m[C]]}M[d]=i;var j="/"+d;if(m.length>0){j="/"+m.join("/")+j}var A=a.lastIndexOf(j);var B=a.substr(0,A);return this.setProperty(B,_,n)}}return false};O.prototype.addBinding=function(t){e.prototype.addBinding.apply(this,arguments);if(t instanceof b){var i=t.sPath.replace("/","");this.mListBinding[i]=t}t.checkUpdate(false)};O.prototype.removeBinding=function(t){e.prototype.removeBinding.apply(this,arguments);if(t instanceof b){var i=t.sPath.replace("/","");delete this.mListBinding[i]}this._observeBeforeEvaluating(t,false)};O.prototype.firePropertyChange=function(t){if(t.reason===a.Binding){t.resolvedPath=this.resolve(t.path,t.context)}e.prototype.firePropertyChange.call(this,t)};O.prototype.bindAggregation=function(t,i,r){return e.prototype.bindProperty.apply(this,arguments)};O.prototype.bindProperty=function(e,t,i){var r=new y(this,e,t,i);return r};O.prototype.bindList=function(e,t,i,r,n){var s=new b(this,e,t,i,r,n);return s};O.prototype.getManagedObject=function(e,t){if(e instanceof s){t=e;e=t.getPath()}var i=this.getProperty(e,t);if(i instanceof r){return i}return null};O.prototype.getRootObject=function(){return this._oObject};O.prototype._observePropertyChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;if(!this._oObserver.isObserved(e,{properties:[t.name]})){this._oObserver.observe(e,{properties:[t.name]});this._mObservedCount.properties[i]=1}else{this._mObservedCount.properties[i]++}};O.prototype._unobservePropertyChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;this._mObservedCount.properties[i]--;if(this._mObservedCount.properties[i]==0){this._oObserver.unobserve(e,{properties:[t.name]});delete this._mObservedCount.properties[i]}};O.prototype._observeAggregationChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;if(!this._oObserver.isObserved(e,{aggregations:[t.name]})){this._oObserver.observe(e,{aggregations:[t.name]});this._mObservedCount.aggregations[i]=1;l(this,e,t,true)}else{this._mObservedCount.aggregations[i]++}};O.prototype._unobserveAggregationChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;this._mObservedCount.aggregations[i]--;if(this._mObservedCount.aggregations[i]==0){this._oObserver.unobserve(e,{aggregations:[t.name]});delete this._mObservedCount.aggregations[i]}};O.prototype._createId=function(e){var t=this._oObject;if(typeof t.createId==="function"){return t.createId(e)}if(!e){return t.getId()+d+o()}if(e.indexOf(t.getId()+d)!=0){return t.getId()+d+e}return e};O.prototype._getSpecialNode=function(e,t,i,n){if(e instanceof r){if(t==="className"){if(e.getMetadata){return e.getMetadata().getName()}else{return typeof e}}else if(t==="id"){return e.getId()}else if(t==="metadataContexts"){return e._oProviderData}}else if(t==="binding"&&i&&n){return i.getBinding(n)}else if(t==="bound"&&i&&n){return i.isBound(n)}else if(t==="bindingInfo"&&i&&n){return i.getBindingInfo(n)}else if(Array.isArray(e)){if(t==="length"){return e.length}else if(t.indexOf("id=")===0){var s=t.substring(3),a=null;for(var o=0;o<e.length;o++){if(e[o].getId()===this._createId(s)||e[o].getId()===s){a=e[o];break}}return a}}return null};O.prototype._getObject=function(t,i,n){var a=this._oObject,o="",g=this;if(n){n.push({path:"/",node:a})}this.aBindings.forEach(function(e){if(!e._bAttached){g._observeBeforeEvaluating(e,true)}});if(typeof t==="string"&&t.indexOf("/")!=0&&!i){return null}if(i instanceof r){a=i;o=t}else if(!i||i instanceof s){o=this.resolve(t,i);if(!o){return a}if(o.indexOf("/"+u)===0){return e.prototype._getObject.apply(this,[t,i])}}else{a=i;o=t}if(!a){return null}var p=o.split("/"),h=0;if(!p[0]){h++}var d=null,l=null,c;while(a!==null&&p[h]){c=p[h];if(c=="id"){c="@id"}if(c.indexOf("@")===0){a=this._getSpecialNode(a,c.substring(1),d,l)}else if(a instanceof r){var v=a.getMetadata();if(v.isInstanceOf("sap.ui.core.IDScope")&&c.indexOf("#")===0){a=a.byId(c.substring(1))}else{d=a;l=c;var b=v.getManagedProperty(c);if(b){a=b.get(a)}else{var y=v.getManagedAggregation(c);if(y){a=y.get(a)}else{if(a&&a[c]&&typeof a[c]==="function"){a=a[c]()}else{a=null}}}}}else if(Array.isArray(a)||f(a)){a=a[c]}else{if(a&&a[c]&&typeof a[c]==="function"){a=a[c]()}else{a=null}}if(n){n.push({path:c,node:a})}h++}return a};O.prototype.destroy=function(){for(var t in this._mAggregationObjects){var i=this._mAggregationObjects[t];if(i.object.invalidate.fn){i.object.invalidate=i.object.invalidate.fn}}e.prototype.destroy.apply(this,arguments)};O.prototype._observeBeforeEvaluating=function(e,t){if(!e.isResolved()){return}var i=e.getPath();var n=e.getContext(),a=this._oObject,o;if(n instanceof r){a=n;o=i}else if(!n||n instanceof s){o=this.resolve(i,n);if(!o){return}if(o.indexOf("/"+u)===0){return}}else{return}var g=o.split("/");if(!g[0]){g.shift()}var f=g[0];if(a.getMetadata().isInstanceOf("sap.ui.core.IDScope")&&f.indexOf("#")===0){a=a.byId(f.substring(1));f=g[1]}if(a instanceof r){var p=a.getMetadata(),h=p.getManagedProperty(f);if(h){if(t===true){this._observePropertyChange(a,h)}else if(t===false){this._unobservePropertyChange(a,h)}}else{var d=p.getAggregation(f)||p.getAllPrivateAggregations()[f];if(d){if(t===true){this._observeAggregationChange(a,d)}else if(t===false){this._unobserveAggregationChange(a,d)}}}e._bAttached=t}};O.prototype.observerChanges=function(e){if(e.type=="aggregation"){var t={};if(e.child instanceof r){t=e.child.getMetadata().getAllAggregations()}if(e.mutation=="insert"){if(e.child instanceof r){this._oObserver.observe(e.child,{properties:true,aggregations:true})}for(var i in t){l(this,e.child,t[i],true)}if(this.mListBinding[e.name]){var n=this._oObject.getBinding(e.name);var s=this._oObject.getAggregation(e.name);if(n&&n.getCurrentContexts().length!=s.length){return}}}else{if(e.child instanceof r){this._oObserver.unobserve(e.child,{properties:true,aggregations:true})}for(var i in t){l(this,e.child,t[i],false)}}}else if(e.type==="property"){this.aBindings.forEach(function(t){if(t._mightBeAffectedByChangesInside&&t._mightBeAffectedByChangesInside(e.object)){t.checkUpdate(true)}})}var a;if(e.object===this._oObject){a=function(t){var i=this.resolve(t.sPath,t.oContext);return i?i.startsWith("/"+e.name):true}.bind(this)}this.checkUpdate(false,false,a)};O.prototype.checkUpdate=function(e,t,i){if(t){this.bForceUpdate=this.bForceUpdate||e;if(!this.sUpdateTimer){this.fnFilter=this.fnFilter||i;this.sUpdateTimer=setTimeout(function(){this.checkUpdate(this.bForceUpdate,false,this.fnFilter)}.bind(this),0)}else if(this.fnFilter&&this.fnFilter!==i){this.fnFilter=undefined}return}e=this.bForceUpdate||e;i=!this.fnFilter||this.fnFilter===i?i:undefined;if(this.sUpdateTimer){clearTimeout(this.sUpdateTimer);this.sUpdateTimer=null;this.bForceUpdate=undefined;this.fnFilter=undefined}var r=this.aBindings.slice(0);r.forEach(function(t){if(!i||i(t)){t.checkUpdate(e)}})};return O});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/controlhelper/TreeBindingProxy", ["sap/base/assert","sap/base/Log"],function(e,t){"use strict";var n=function(e,t){this._oControl=e;this._sAggregation=t;var n=new URLSearchParams(window.location.search);this._bEnableV4=n.get("sap-ui-xx-v4tree")==="true"};n.prototype.isTreeBinding=function(){var e=this._oControl.getModel(this._oControl.getBindingInfo(this._sAggregation).model);if(e.isA("sap.ui.model.odata.v4.ODataModel")){return false}return true};n.prototype.isLeaf=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return true;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return false}var r=this.getContextByIndex(e);return r?r.getProperty("@$ui5.node.isExpanded")===undefined:true;default:var o=this.getNodeByIndex(e);return!n.nodeHasChildren(o)}};n.prototype.getNodeByIndex=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return undefined;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}return this.getContextByIndex(e);default:return n.getNodeByIndex(e)}};n.prototype.getContextByIndex=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return undefined;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}return n.getContexts(e,1,0,true)[0];default:return n.getContextByIndex(e)}};n.prototype.isExpanded=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return false;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return false}var r=this.getContextByIndex(e);return r?!!r.getProperty("@$ui5.node.isExpanded"):false;default:return n?n.isExpanded(e):false}};n.prototype.expand=function(e){var n=this._oControl.getBinding();var o=this._getBindingName(n);var a={proxy:this,binding:n,indices:e,expanded:true};if(typeof a.indices==="number"){a.indices=[e]}switch(o){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}r(a);break;default:i(a)}};n.prototype.collapse=function(e){var n=this._oControl.getBinding();var o=this._getBindingName(n);var a={proxy:this,binding:n,indices:e,expanded:false};if(typeof a.indices==="number"){a.indices=[e]}switch(o){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}r(a);break;default:i(a)}};function i(e){var t=e.indices.filter(function(t){return t>=0&&t<e.binding.getLength()&&!e.proxy.isLeaf(t)&&e.expanded!==e.proxy.isExpanded(t)}).sort(function(e,t){return e-t});if(t.length===0){return}for(var n=t.length-1;n>0;n--){if(e.expanded){e.binding.expand(t[n],true)}else{e.binding.collapse(t[n],true)}}if(e.expanded){e.binding.expand(t[0],false)}else{e.binding.collapse(t[0],false)}}function r(e){for(var t=0;t<e.indices.length;t++){var n=e.proxy.getContextByIndex(e.indices[t]);if(n){if(e.expanded){n.expand()}else{n.collapse()}}}}n.prototype.toggleExpandedState=function(e){if(this.isExpanded(e)){this.collapse(e)}else{this.expand(e)}};n.prototype.getContexts=function(e,n,i,r){var a=this._oControl.getBinding();var s=this._getBindingName(a);var d=[];switch(s){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return[]}d=a.getContexts(e,n,i,r);d.forEach(function(e){if(!e){return}e._mProxyInfo={};e._mProxyInfo.level=o(e,false);e._mProxyInfo.isLeaf=e.getProperty("@$ui5.node.isExpanded")===undefined;e._mProxyInfo.isExpanded=!!e.getProperty("@$ui5.node.isExpanded")},this);break;default:var p=a?a.getNodes(e,n,i):[];p.forEach(function(t,n){if(!t){return}var i=n+e;var r=t.context;if(r){r._mProxyInfo={};if(t.nodeState){r._mProxyInfo.nodeState=t.nodeState}r._mProxyInfo.level=o(t,true);r._mProxyInfo.isLeaf=!a.nodeHasChildren(t);r._mProxyInfo.isExpanded=a.isExpanded(i);d.push(t.context)}},this);break}return d};function o(e,t){if(e){return t?e.level+1:e.getProperty("@$ui5.node.level")}}function a(e,t){var n=Object.assign(e.getAggregation(),{expandTo:t});e.setAggregation(n)}n.prototype.collapseAll=function(){var e=this._oControl.getBinding();var n=this._getBindingName(e);switch(n){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}a(e,1);break;default:e.collapseToLevel(0)}};n.prototype.expandToLevel=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}a(i,n);break;default:if(i.expandToLevel){i.expandToLevel(n)}else{e(i.expandToLevel,"Expanding all nodes to a certain level"+" is not supported with your current binding.")}}};n.prototype.setRootLevel=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}throw Error("Setting the root level is not supported with your current binding.");default:if(i.setRootLevel){i.setRootLevel(n)}else{e(i.setRootLevel,"Setting the root level is not supported with"+" your current binding.")}}};n.prototype.setCollapseRecursive=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}throw Error("Setting 'collapseRecursive' is not supported with your"+" current binding.");default:if(i.setCollapseRecursive){i.setCollapseRecursive(n)}else{e(i.setCollapseRecursive,"Setting 'collapseRecursive' is"+" not supported with your current binding.")}}};n.prototype.getLevel=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return undefined;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return 0}var r=this.getContextByIndex(e);return o(r,false);default:var a=this.getNodeByIndex(e);return o(a,true)}};n.prototype.getSiblingCount=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return 0;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return 0}throw Error("The number of siblings of a node cannot be determined"+" with your current binding.");default:var r=this.getNodeByIndex(e);return r&&r.parent?r.parent.children.length:0}};n.prototype.getPositionInParent=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return-1;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return-1}throw Error("The position of a node in its parent cannot be determined"+" with your current binding.");default:var r=this.getNodeByIndex(e);return r?r.positionInParent:-1}};n.prototype.isSelectionSupported=function(){var e=this._oControl.getBinding();var t=this._getBindingName(e);switch(t){case undefined:case"sap.ui.model.odata.v4.ODataListBinding":return false;default:return true}};n.prototype.applyLegacySettingsToBindingInfo=function(e,t){if(!e.parameters){e.parameters={}}if(!("rootLevel"in e.parameters)&&t.rootLevel!==undefined){e.parameters.rootLevel=t.rootLevel}if(!("collapseRecursive"in e.parameters)&&t.collapseRecursive!==undefined){e.parameters.collapseRecursive=t.collapseRecursive}if(!("numberOfExpandedLevels"in e.parameters)&&t.numberOfExpandedLevels!==undefined){e.parameters.numberOfExpandedLevels=t.numberOfExpandedLevels}};n.prototype._getBindingName=function(t){e(t,"Control does not have a binding.");return t?t.getMetadata().getName():undefined};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONListBinding", ["sap/base/Log","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/base/util/each","sap/base/util/extend","sap/ui/model/ChangeReason","sap/ui/model/ClientListBinding"],function(t,e,s,i,a,h,n){"use strict";var o=n.extend("sap.ui.model.json.JSONListBinding");o.prototype.updateIndices=function(){var t;this.aIndices=[];if(Array.isArray(this.oList)){for(t=0;t<this.oList.length;t++){this.aIndices.push(t)}}else{for(t in this.oList){this.aIndices.push(t)}}};o.prototype.update=function(){var t=this.oModel._getObject(this.sPath,this.oContext);if(t){if(Array.isArray(t)){if(this.bUseExtendedChangeDetection){this.oList=s([],t)}else{this.oList=t.slice(0)}}else{this.oList=this.bUseExtendedChangeDetection?s({},t):a({},t)}this.updateIndices();this.applyFilter();this.applySort();this.iLength=this._getLength()}else{this.oList=[];this.aIndices=[];this.iLength=0}};o.prototype.checkUpdate=function(t){var s;if(this.bSuspended&&!this.bIgnoreSuspend&&!t){return}if(!this.bUseExtendedChangeDetection){s=this.oModel._getObject(this.sPath,this.oContext)||[];if(!e(this.oList,s)||t){this.update();this._fireChange({reason:h.Change})}}else{var a=false;var n=this;s=this.oModel._getObject(this.sPath,this.oContext)||[];if(this.oList.length!=s.length){a=true}if(!e(this.oList,s)){this.update()}var o=this._getContexts(this.iLastStartIndex,this.iLastLength);if(this.aLastContexts){if(this.aLastContexts.length!=o.length){a=true}else{i(this.aLastContextData,function(t,e){var s=n.getContextData(o[t]);if(s!==e){a=true;return false}return true})}}else{a=true}if(a||t){this._fireChange({reason:h.Change})}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONModel", ["./JSONListBinding","./JSONPropertyBinding","./JSONTreeBinding","sap/base/Log","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/ui/model/ClientModel","sap/ui/model/Context"],function(e,t,r,i,s,o,n,a){"use strict";var u=n.extend("sap.ui.model.json.JSONModel",{constructor:function(e,t){this.pSequentialImportCompleted=Promise.resolve();n.apply(this,arguments);this.bObserve=t;if(e&&typeof e=="object"){this.setData(e)}},metadata:{publicMethods:["setJSON","getJSON"]}});u.prototype.setData=function(e,t){if(t){this.oData=s(Array.isArray(this.oData)?[]:{},this.oData,e)}else{this.oData=e}if(this.bObserve){this.observeData()}this.checkUpdate()};u.prototype.observeData=function(){var e=this;function t(e){return function(){return e}}function r(t,r){return function(i){s(i,t,r);e.checkUpdate()}}function i(e,i,s){if(typeof s=="function"){e[i]=s}else{Object.defineProperty(e,i,{get:t(s),set:r(e,i)})}}function s(e,t,r){var n;if(Array.isArray(e)){for(n=0;n<e.length;n++){s(e[n],e,n)}}else if(o(e)){for(n in e){s(e[n],e,n)}}if(t){i(t,r,e)}}s(this.oData)};u.prototype.setJSON=function(e,t){var r;try{r=JSON.parse(e+"");this.setData(r,t)}catch(e){i.fatal("The following problem occurred: JSON parse Error: "+e);this.fireParseError({url:"",errorCode:-1,reason:"",srcText:e,line:-1,linepos:-1,filepos:-1})}};u.prototype.getJSON=function(){return JSON.stringify(this.oData)};u.prototype.loadData=function(e,t,r,s,o,n,a){var u;r=r!==false;s=s||"GET";n=n===undefined?this.bCache:n;this.fireRequestSent({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o}});var c=function(t){if(!t){i.fatal("The following problem occurred: No data was retrieved by service: "+e)}this.setData(t,o);this.fireRequestCompleted({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o},success:true})}.bind(this);var f=function(t,u){var c=u||t.textStatus;var f=r?t.request:t;var p=f.status;var h=f.statusText;var l=f.responseText;var d={message:c,statusCode:p,statusText:h,responseText:l};i.fatal("The following problem occurred: "+c,l+","+p+","+h);this.fireRequestCompleted({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o},success:false,errorobject:d});this.fireRequestFailed(d);if(r){return Promise.reject(d)}return undefined}.bind(this);var p=function(i,o){this._ajax({url:e,async:r,dataType:"json",cache:n,data:t,headers:a,type:s,success:i,error:o})}.bind(this);if(r){u=new Promise(function(e,t){var r=function(e,r,i){t({request:e,textStatus:r,error:i})};p(e,r)});var h=this.pSequentialImportCompleted.then(function(){return u.then(c,f)});this.pSequentialImportCompleted=h.catch(function(e){i.error("Loading of data failed: "+e.stack)});return h}else{p(c,f);return undefined}};u.prototype.dataLoaded=function(){return this.pSequentialImportCompleted};u.prototype.bindProperty=function(e,r,i){var s=new t(this,e,r,i);return s};u.prototype.bindList=function(t,r,i,s,o){var n=new e(this,t,r,i,s,o);return n};u.prototype.bindTree=function(e,t,i,s,o){var n=new r(this,e,t,i,s,o);return n};u.prototype.setProperty=function(e,t,r,i){var s=this.resolve(e,r),o,n,a;if(!s){return false}if(s=="/"){this.setData(t);return true}o=s.lastIndexOf("/");n=s.substring(0,o||1);a=s.substr(o+1);var u=this._getObject(n);if(u){u[a]=t;this.checkUpdate(false,i);return true}return false};u.prototype.getProperty=function(e,t){return this._getObject(e,t)};u.prototype._getObject=function(e,t){var r=this.isLegacySyntax()?this.oData:null;if(t instanceof a){r=this._getObject(t.getPath())}else if(t!=null){r=t}if(!e){return r}var i=e.split("/"),s=0;if(!i[0]){r=this.oData;s++}while(r&&i[s]){r=r[i[s]];s++}return r};u.prototype.isList=function(e,t){var r=this.resolve(e,t);return Array.isArray(this._getObject(r))};u.prototype._setMetaModel=function(e){this._oMetaModel=e};u.prototype.getMetaModel=function(){return this._oMetaModel};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONPropertyBinding", ["sap/ui/model/ChangeReason","sap/ui/model/ClientPropertyBinding","sap/base/util/deepEqual"],function(t,e,i){"use strict";var a=e.extend("sap.ui.model.json.JSONPropertyBinding");a.prototype.setValue=function(e){if(this.bSuspended){return}if(!i(this.oValue,e)){if(this.oModel.setProperty(this.sPath,e,this.oContext,true)){this.oValue=e;this.getDataState().setValue(this.oValue);this.oModel.firePropertyChange({reason:t.Binding,path:this.sPath,context:this.oContext,value:e})}}};a.prototype.checkUpdate=function(e){if(this.bSuspended&&!e){return}var a=this._getValue();if(!i(a,this.oValue)||e){this.oValue=a;this.getDataState().setValue(this.oValue);this.checkDataState();this._fireChange({reason:t.Change})}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONTreeBinding", ["sap/ui/model/ClientTreeBinding"],function(e){"use strict";var t=e.extend("sap.ui.model.json.JSONTreeBinding");t.prototype._saveSubContext=function(e,t,i,n){if(e&&typeof e=="object"){var o=this.oModel.getContext(i+n);if(this.oCombinedFilter&&!this.bIsFiltering){if(this.filterInfo.aFilteredContexts&&this.filterInfo.aFilteredContexts.indexOf(o)!=-1){t.push(o)}}else{t.push(o)}}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Boolean", ["sap/base/Log","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType","sap/ui/core/Core"],function(e,t,n,o,a){"use strict";function r(){return i("EnterYesOrNo",[u(true),u(false)])}function i(e,t){return sap.ui.getCore().getLibraryResourceBundle().getText(e,t)}function u(e){return i(e?"YES":"NO")}function l(t,n){var o;t.oConstraints=undefined;if(n){o=n.nullable;if(o===false||o==="false"){t.oConstraints={nullable:false}}else if(o!==undefined&&o!==true&&o!=="true"){e.warning("Illegal nullable: "+o,null,t.getName())}}}var s=a.extend("sap.ui.model.odata.type.Boolean",{constructor:function(e,t){a.apply(this,arguments);l(this,t)}});s.prototype.formatValue=function(e,n){if(e===null||e===undefined){return null}switch(this.getPrimitiveType(n)){case"any":case"boolean":return e;case"string":return u(e);default:throw new t("Don't know how to format "+this.getName()+" to "+n)}};s.prototype.parseValue=function(e,t){var o;if(e===null||e===""){return null}switch(this.getPrimitiveType(t)){case"boolean":return e;case"string":o=e.trim().toLowerCase();if(o===u(true).toLowerCase()){return true}if(o===u(false).toLowerCase()){return false}throw new n(r());default:throw new n("Don't know how to parse "+this.getName()+" from "+t)}};s.prototype.validateValue=function(e){if(e===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new o(r())}return}if(typeof e!=="boolean"){throw new o("Illegal "+this.getName()+" value: "+e)}};s.prototype.getName=function(){return"sap.ui.model.odata.type.Boolean"};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTime", ["sap/base/Log","sap/ui/core/date/UI5Date","sap/ui/model/odata/type/DateTimeBase"],function(t,e,a){"use strict";function n(e,a){var n={};if(a){switch(a.displayFormat){case"Date":n.isDateOnly=true;break;case undefined:break;default:t.warning("Illegal displayFormat: "+a.displayFormat,null,e.getName())}n.nullable=a.nullable}return n}var r=a.extend("sap.ui.model.odata.type.DateTime",{constructor:function(t,e){a.call(this,t,n(this,e))}});r.prototype.getConstraints=function(){var t=a.prototype.getConstraints.call(this);if(t.isDateOnly){t.displayFormat="Date";delete t.isDateOnly}return t};r.prototype.getISOStringFromModelValue=function(t){if(!t){return null}var e=t.toISOString();return this.oConstraints&&this.oConstraints.isDateOnly?e.split("T")[0]:e};r.prototype.getModelValue=function(t){var e=this._getModelValue(t);this.validateValue(e);return e};r.prototype.getModelValueFromISOString=function(t){if(!t){return null}return e.getInstance(t)};r.prototype.getName=function(){return"sap.ui.model.odata.type.DateTime"};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTimeBase", ["sap/base/Log","sap/base/util/extend","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,a,n,o,r,s,i){"use strict";function l(t){return t.oConstraints&&t.oConstraints.isDateOnly}function u(e,a){var n,o;e.oConstraints=undefined;if(a){n=a.nullable;if(n===false||n==="false"){e.oConstraints={nullable:false}}else if(n!==undefined&&n!==true&&n!=="true"){t.warning("Illegal nullable: "+n,null,e.getName())}if(a.isDateOnly===true){e.oConstraints=e.oConstraints||{};e.oConstraints.isDateOnly=true}o=a.precision;if(o!==undefined){if(o===Math.floor(o)&&o>=1&&o<=12){e.oConstraints=e.oConstraints||{};e.oConstraints.precision=o}else if(o!==0){t.warning("Illegal precision: "+o,null,e.getName())}}}e._handleLocalizationChange()}var g=i.extend("sap.ui.model.odata.type.DateTimeBase",{constructor:function(t,e){i.apply(this,arguments);u(this,e);this.oFormat=null;this.oFormatOptions=t},metadata:{abstract:true}});g.prototype.getDateValue=function(t){var e;if(!t){return null}e=a.getInstance(t);if(l(this)){e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(0,0,0,0)}else if(this.oFormatOptions&&this.oFormatOptions.UTC){e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}return e};g.prototype.formatValue=function(t,e){if(t===null||t===undefined){return null}switch(this.getPrimitiveType(e)){case"any":case"object":return t;case"string":if(!(t instanceof Date)){throw new o("Illegal "+this.getName()+" value: "+t)}return this.getFormat().format(t);default:throw new o("Don't know how to format "+this.getName()+" to "+e)}};g.prototype.getFormat=function(){if(!this.oFormat){var t=e({strictParsing:true},this.oFormatOptions);if(l(this)){t.UTC=true;this.oFormat=n.getDateInstance(t)}else{this.oFormat=n.getDateTimeInstance(t)}}return this.oFormat};g.prototype._getErrorMessage=function(){var t=a.getInstance().getFullYear(),e=l(this)?new Date(Date.UTC(t,11,31)):a.getInstance(t,11,31,23,59,58),n=l(this)?"EnterDate":"EnterDateTime",o=sap.ui.getCore().getLibraryResourceBundle();return o.getText(n,[this.formatValue(e,"string")])};g.prototype.parseValue=function(t,e){var a;if(t===null||t===""){return null}switch(this.getPrimitiveType(e)){case"object":return t;case"string":a=this.getFormat().parse(t);if(!a){throw new r(this._getErrorMessage())}return a;default:throw new r("Don't know how to parse "+this.getName()+" from "+e)}};g.prototype._handleLocalizationChange=function(){this.oFormat=null};g.prototype.validateValue=function(t){if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new s(this._getErrorMessage())}return}else if(t instanceof Date){if(t.getFullYear()===0){throw new s(this._getErrorMessage())}return}throw new s("Illegal "+this.getName()+" value: "+t)};g.prototype._getModelValue=function(t){var e;if(t===null){return null}a.checkDate(t);e=a.getInstance(t);if(l(this)){e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());e.setUTCHours(0,0,0,0)}else if(this.oFormatOptions&&this.oFormatOptions.UTC){e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());e.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}return e};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/ODataType", ["sap/base/Log","sap/ui/model/SimpleType"],function(t,e){"use strict";var o=e.extend("sap.ui.model.odata.type.ODataType",{constructor:function(t,e){},metadata:{abstract:true}});o.prototype.checkParseEmptyValueToZero=function(){if(this.oFormatOptions&&this.oFormatOptions.parseEmptyValueToZero&&(!this.oConstraints||this.oConstraints&&this.oConstraints.nullable!==false)){t.warning("The parseEmptyValueToZero format option is ignored as the nullable constraint"+" is not false.",null,this.getName())}};o.prototype.getEmptyValue=function(t,e){if(t!==null&&t!==""){return undefined}if(this.oFormatOptions&&this.oFormatOptions.parseEmptyValueToZero&&this.oConstraints&&this.oConstraints.nullable===false){return e?0:"0"}return null};o.prototype.getPlaceholderText=function(){return this.getFormat&&this.getFormat().getPlaceholderText&&this.getFormat().getPlaceholderText()};o.prototype.setConstraints=function(t){};o.prototype.setFormatOptions=function(t){};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/String", ["sap/base/Log","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType","sap/ui/model/type/String"],function(e,t,i,n){"use strict";var s=/^\d+$/,r=/^0*(?=\d)/;function a(e,t){return t&&t.isDigitSequence&&e&&e.match(s)}function l(t,i){var n,s,r;t.oConstraints=undefined;if(i){s=i.maxLength;if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"&&!isNaN(s)&&s>0){t.oConstraints={maxLength:s}}else if(s!==undefined){e.warning("Illegal maxLength: "+i.maxLength,null,t.getName())}n=i.isDigitSequence;if(n===true||n==="true"){t.oConstraints=t.oConstraints||{};t.oConstraints.isDigitSequence=true}else if(n!==undefined&&n!==false&&n!=="false"){e.warning("Illegal isDigitSequence: "+n,null,t.getName())}r=i.nullable;if(r===false||r==="false"){t.oConstraints=t.oConstraints||{};t.oConstraints.nullable=false}else if(r!==undefined&&r!==true&&r!=="true"){e.warning("Illegal nullable: "+r,null,t.getName())}}}var o=i.extend("sap.ui.model.odata.type.String",{constructor:function(t,n){var s=t?t.parseKeepsEmptyString:undefined;i.apply(this,arguments);this.oFormatOptions=t;l(this,n);this._sParsedEmptyString=null;if(this.oConstraints&&this.oConstraints.nullable===false&&this.oConstraints.isDigitSequence){this._sParsedEmptyString="0"}else if(s!==undefined){if(s===true){this._sParsedEmptyString=""}else if(s!==false){e.warning("Illegal parseKeepsEmptyString: "+s,null,this.getName())}}}});o.prototype.formatValue=function(e,t){if(e===null&&this.getPrimitiveType(t)==="string"){return""}if(a(e,this.oConstraints)){e=e.replace(r,"");if(this.oConstraints.maxLength&&e==="0"&&this.getPrimitiveType(t)==="string"){return""}}return n.prototype.formatValue.call(this,e,t)};o.prototype.parseValue=function(e,t){var i;i=e===""?this._sParsedEmptyString:n.prototype.parseValue.apply(this,arguments);if(a(i,this.oConstraints)){i=i.replace(r,"");if(this.oConstraints.maxLength){i=i.padStart(this.oConstraints.maxLength,"0")}}return i};o.prototype.validateValue=function(e){var i=this.oConstraints||{},n=i.maxLength;if(e===null){if(i.nullable!==false){return}}else if(e===""&&this._sParsedEmptyString===""){return}else if(typeof e!=="string"){throw new t("Illegal "+this.getName()+" value: "+e)}else if(i.isDigitSequence){if(!e.match(s)){throw new t(sap.ui.getCore().getLibraryResourceBundle().getText("EnterDigitsOnly"))}if(n&&e.length>n){throw new t(sap.ui.getCore().getLibraryResourceBundle().getText("EnterMaximumOfDigits",[n]))}return}else if(!n||e.length<=n){return}throw new t(sap.ui.getCore().getLibraryResourceBundle().getText(n?"EnterTextMaxLength":"EnterText",[n]))};o.prototype.getName=function(){return"sap.ui.model.odata.type.String"};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/resource/ResourceModel", ["sap/base/Log","sap/base/i18n/ResourceBundle","sap/ui/base/SyncPromise","sap/ui/core/Configuration","sap/ui/model/BindingMode","sap/ui/model/Model","./ResourcePropertyBinding"],function(e,n,t,i,r,o,s){"use strict";var a="sap.ui.model.resource.ResourceModel",u=/^(?:\/|\.)*/;var c=o.extend("sap.ui.model.resource.ResourceModel",{constructor:function(t){var i;o.apply(this,arguments);this.aCustomBundles=[];this.bReenhance=false;this.bAsync=!!(t&&t.async);this.sDefaultBindingMode=t.defaultBindingMode||r.OneWay;this.mSupportedBindingModes={OneWay:true,TwoWay:false,OneTime:!this.bAsync};if(this.bAsync&&this.sDefaultBindingMode==r.OneTime){e.warning("Using binding mode OneTime for asynchronous ResourceModel is not supported!")}this.oData=Object.assign({},t);i=Array.isArray(this.oData.enhanceWith)&&this.oData.enhanceWith.some(function(e){return e instanceof n});if(t&&t.bundle){this._oResourceBundle=t.bundle;i=true}else if(t&&(t.bundleUrl||t.bundleName)){if(i){delete this.oData.enhanceWith;if(t.terminologies||t.activeTerminologies){throw new Error("'terminologies' parameter and 'activeTerminologies' parameter are not"+" supported in configuration when enhanceWith contains ResourceBundles")}}l(this)}else{throw new Error("At least bundle, bundleName or bundleUrl must be provided!")}if(i&&Array.isArray(t.enhanceWith)){if(this.bAsync){this._pEnhanced=t.enhanceWith.reduce(function(e,n){return e.then(this.enhance.bind(this,n))}.bind(this),Promise.resolve())}else{t.enhanceWith.forEach(this.enhance.bind(this))}}}});c._sanitizeBundleName=function(n){if(n&&(n[0]==="/"||n[0]===".")){e.error('Incorrect resource bundle name "'+n+'"',"Leading slashes or dots in resource bundle names are ignored, since such names are"+' invalid UI5 module names. Please check whether the resource bundle "'+n+'" is actually needed by your application.',a);n=n.replace(u,"")}return n};c.loadResourceBundle=function(e,t){var r=i,o=e.bundleLocale,s;e.bundleName=c._sanitizeBundleName(e.bundleName);s=Object.assign({async:t,includeInfo:r.getOriginInfo(),locale:o},e);return n.create(s)};c.prototype.enhance=function(e){var t=this,i,r=this.bAsync?new Promise(function(e){i=e}):null;function o(){if(e instanceof n){t._oResourceBundle._enhance(e);t.checkUpdate(true);if(r){i(true)}}else{if(e.terminologies){throw new Error("'terminologies' parameter is not"+" supported for enhancement")}var o=c.loadResourceBundle(e,t.bAsync);if(o instanceof Promise){o.then(function(e){t._oResourceBundle._enhance(e);t.checkUpdate(true);i(true)},function(){i(true)})}else if(o){t._oResourceBundle._enhance(o);t.checkUpdate(true)}}}if(this._oPromise){Promise.resolve(this._oPromise).then(o)}else{o()}if(!this.bReenhance){this.aCustomBundles.push(e)}return r};c.prototype.bindProperty=function(e){return new s(this,e)};c.prototype.getProperty=function(e){return this._oResourceBundle?this._oResourceBundle.getText(e):null};c.prototype.getResourceBundle=function(){if(!this.bAsync){return this._oResourceBundle}else{var e=this._oPromise;if(e){return new Promise(function(n,t){function i(e){n(e)}e.then(i,i)})}else{return Promise.resolve(this._oResourceBundle)}}};c.prototype._handleLocalizationChange=function(){var i=this;t.resolve(this.getResourceBundle()).then(function(e){var r;if(i.bAsync){r={url:n._getUrl(i.oData.bundleUrl,c._sanitizeBundleName(i.oData.bundleName)),async:true};i.fireRequestSent(r)}var o=e._recreate();if(o instanceof Promise){i._oPromise=o}return t.resolve(o).then(function(e){i._oResourceBundle=e;i._reenhance();delete i._oPromise;i.checkUpdate(true)}).finally(function(){if(i.bAsync){i.fireRequestCompleted(r)}})}).catch(function(n){e.error("Failed to reload bundles after localization change",n,a)})};c.prototype._reenhance=function(){this.bReenhance=true;this.aCustomBundles.forEach(function(e){this.enhance(e)}.bind(this));this.bReenhance=false};function l(e){var t=e.oData;if(t&&(t.bundleUrl||t.bundleName)){var i=c.loadResourceBundle(t,t.async);if(i instanceof Promise){var r={url:n._getUrl(t.bundleUrl,c._sanitizeBundleName(t.bundleName)),async:true};e.fireRequestSent(r);e._oPromise=i;e._oPromise.then(function(n){e._oResourceBundle=n;e._reenhance();delete e._oPromise;e.checkUpdate(true);e.fireRequestCompleted(r)})}else{e._oResourceBundle=i;e._reenhance();e.checkUpdate(true)}}}return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/resource/ResourcePropertyBinding", ["sap/ui/model/PropertyBinding","sap/ui/model/ChangeReason"],function(e,t){"use strict";var o=e.extend("sap.ui.model.resource.ResourcePropertyBinding",{constructor:function(t,o){e.apply(this,arguments);this.oValue=this.oModel.getProperty(o)}});o.prototype.getValue=function(){return this.oValue};o.prototype.checkUpdate=function(e){if(!this.bSuspended){var o=this.oModel.getProperty(this.sPath);if(e||o!=this.oValue){this.oValue=o;this._fireChange({reason:t.Change})}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Date", ["sap/base/util/each","sap/base/util/isEmptyObject","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,o,a,r,i,s,n){"use strict";var u=s.extend("sap.ui.model.type.Date",{constructor:function(){s.apply(this,arguments);this.sName="Date"}});u.prototype.formatValue=function(t,e){var o;switch(this.getPrimitiveType(e)){case"string":case"any":if(t==null){return""}if(this.oFormatOptions.source&&this.oFormatOptions.source.pattern!=="timestamp"&&t===""){return""}o=this.getModelFormat();t=o.parse(t);return this.oOutputFormat.format(t);default:throw new r("Don't know how to format Date to "+e)}};u.prototype.parseValue=function(t,e){var o,a;switch(this.getPrimitiveType(e)){case"string":if(t===""){return null}o=this.oOutputFormat.parse(t);if(!o){a=sap.ui.getCore().getLibraryResourceBundle();throw new i(a.getText(this.sName+".Invalid"))}if(this.oInputFormat){if(this.oFormatOptions.source.pattern=="timestamp"){o=o.getTime()}else{o=this.oInputFormat.format(o)}}return o;default:throw new i("Don't know how to parse Date from "+e)}};u.prototype.validateValue=function(e){if(this.oConstraints){var o=sap.ui.getCore().getLibraryResourceBundle(),a=[],r=[],i=this.oInputFormat,s,u=this;if(i&&this.oFormatOptions.source.pattern!="timestamp"){e=i.parse(e)}t(this.oConstraints,function(t,n){if(i){n=i.parse(n)}s=u.oOutputFormat.format(n);switch(t){case"minimum":if(e<n){a.push("minimum");r.push(o.getText(u.sName+".Minimum",[s]))}break;case"maximum":if(e>n){a.push("maximum");r.push(o.getText(u.sName+".Maximum",[s]))}break;default:break}});if(a.length>0){throw new n(this.combineMessages(r),a)}}};var p={format:function(t){if(t instanceof Date){return t.getTime()}return null},parse:function(t){if(typeof t!="number"){if(isNaN(t)){throw new r("Cannot format date: "+t+" is not a valid Timestamp")}else{t=parseInt(t)}}t=o.getInstance(t);return t}};u.prototype.getModelFormat=function(){if(this.oInputFormat){if(this.oFormatOptions.source.pattern=="timestamp"){return p}else{return this.oInputFormat}}else{return s.prototype.getModelFormat.call(this)}};u.prototype.setFormatOptions=function(t){this.oFormatOptions=t;this._createFormats()};u.prototype.getOutputPattern=function(){return this.oOutputFormat.oFormatOptions.pattern};u.prototype._handleLocalizationChange=function(){this._createFormats()};u.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=a.getInstance(this.oFormatOptions);if(t){if(e(t)){t={pattern:"yyyy-MM-dd"}}this.oInputFormat=a.getInstance(t)}};u.prototype.getPlaceholderText=function(){return this.oOutputFormat.getPlaceholderText()};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/DateTime", ["./Date","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var o=t.extend("sap.ui.model.type.DateTime",{constructor:function(){t.apply(this,arguments);this.sName="DateTime"}});o.prototype._createFormats=function(){this.oOutputFormat=e.getDateTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=e.getDateTimeInstance(this.oFormatOptions.source)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Float", ["sap/base/util/each","sap/base/util/isEmptyObject","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,o,e,a,i,r,s){"use strict";var n=r.extend("sap.ui.model.type.Float",{constructor:function(){r.apply(this,arguments);this.sName="Float"}});n.prototype.formatValue=function(t,o){var e=t;if(t==undefined||t==null){return null}if(this.oInputFormat){e=this.oInputFormat.parse(t);if(e==null){throw new a("Cannot format float: "+t+" has the wrong format")}}switch(this.getPrimitiveType(o)){case"string":return this.oOutputFormat.format(e);case"int":return Math.floor(e);case"float":case"any":return e;default:throw new a("Don't know how to format Float to "+o)}};n.prototype.parseValue=function(t,o){var e,a;switch(this.getPrimitiveType(o)){case"string":e=this.oOutputFormat.parse(t);if(isNaN(e)){a=sap.ui.getCore().getLibraryResourceBundle();throw new i(a.getText("Float.Invalid"))}break;case"int":case"float":e=t;break;default:throw new i("Don't know how to parse Float from "+o)}if(this.oInputFormat){e=this.oInputFormat.format(e)}return e};n.prototype.validateValue=function(o){if(this.oConstraints){var e=sap.ui.getCore().getLibraryResourceBundle(),a=[],i=[],r=o,n=this;if(this.oInputFormat){r=this.oInputFormat.parse(o)}t(this.oConstraints,function(t,o){switch(t){case"minimum":if(r<o){a.push("minimum");i.push(e.getText("Float.Minimum",[n.oOutputFormat.format(o)]))}break;case"maximum":if(r>o){a.push("maximum");i.push(e.getText("Float.Maximum",[n.oOutputFormat.format(o)]))}break;default:break}});if(a.length>0){throw new s(this.combineMessages(i),a)}}};n.prototype.setFormatOptions=function(t){this.oFormatOptions=Object.assign(t.style!=="short"&&t.style!=="long"?{preserveDecimals:true}:{},t);this._createFormats()};n.prototype._handleLocalizationChange=function(){this._createFormats()};n.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=e.getFloatInstance(this.oFormatOptions);if(t){if(o(t)){t={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."}}this.oInputFormat=e.getFloatInstance(t)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/String", ["sap/base/Log","sap/base/util/each","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,s,n,a,i){"use strict";var r=a.extend("sap.ui.model.type.String",{constructor:function(){a.apply(this,arguments);this.sName="String";if(this.oConstraints.search&&typeof this.oConstraints.search=="string"){this.oConstraints.search=new RegExp(this.oConstraints.search)}}});r.prototype.formatValue=function(t,e){if(t==undefined||t==null){return null}switch(this.getPrimitiveType(e)){case"string":case"any":return t;case"int":var n=parseInt(t);if(isNaN(n)){throw new s(t+" is not a valid int value")}return n;case"float":var a=parseFloat(t);if(isNaN(a)){throw new s(t+" is not a valid float value")}return a;case"boolean":if(t.toLowerCase()=="true"||t=="X"){return true}if(t.toLowerCase()=="false"||t==""){return false}throw new s(t+" is not a valid boolean value");default:throw new s("Don't know how to format String to "+e)}};r.prototype.parseValue=function(t,e){switch(this.getPrimitiveType(e)){case"string":return t;case"boolean":case"int":case"float":return t.toString();default:throw new n("Don't know how to parse String from "+e)}};r.prototype.validateValue=function(s){if(this.oConstraints){var n=sap.ui.getCore().getLibraryResourceBundle(),a=[],r=[];if(s===null){s=""}e(this.oConstraints,function(e,i){switch(e){case"maxLength":if(s.length>i){a.push("maxLength");r.push(n.getText("String.MaxLength",[i]))}break;case"minLength":if(s.length<i){a.push("minLength");r.push(n.getText("String.MinLength",[i]))}break;case"startsWith":if(!(typeof i=="string"&&i.length>0&&s.startsWith(i))){a.push("startsWith");r.push(n.getText("String.StartsWith",[i]))}break;case"startsWithIgnoreCase":if(!(typeof i=="string"&&i!=""?s.toLowerCase().startsWith(i.toLowerCase()):false)){a.push("startsWithIgnoreCase");r.push(n.getText("String.StartsWith",[i]))}break;case"endsWith":if(!(typeof i=="string"&&i.length>0&&s.endsWith(i))){a.push("endsWith");r.push(n.getText("String.EndsWith",[i]))}break;case"endsWithIgnoreCase":if(!(typeof i=="string"&&i!=""?s.toLowerCase().endsWith(i.toLowerCase()):false)){a.push("endsWithIgnoreCase");r.push(n.getText("String.EndsWith",[i]))}break;case"contains":if(s.indexOf(i)==-1){a.push("contains");r.push(n.getText("String.Contains",[i]))}break;case"equals":if(s!=i){a.push("equals");r.push(n.getText("String.Equals",[i]))}break;case"search":if(s.search(i)==-1){a.push("search");r.push(n.getText("String.Search",[i]))}break;default:t.warning("Ignoring unknown constraint: '"+e+"'",null,"sap.ui.model.type.String")}});if(a.length>0){throw new i(this.combineMessages(r),a)}}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Time", ["./Date","sap/ui/core/format/DateFormat"],function(t,o){"use strict";var e=t.extend("sap.ui.model.type.Time",{constructor:function(){t.apply(this,arguments);this.sName="Time"}});e.prototype._createFormats=function(){this.oOutputFormat=o.getTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=o.getTimeInstance(this.oFormatOptions.source)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/qunit/utils/waitForThemeApplied", ["sap/ui/core/Core"],function(e){"use strict";var i=function(){if(typeof sap==="undefined"||!sap.ui||typeof sap.ui.getCore!=="function"){return Promise.reject(new Error("UI5 Core must be loaded and booted before using the sap/ui/qunit/utils/waitForThemeApplied module"))}return new Promise(function(i){if(e.isThemeApplied()){i()}else{var n=function(){i();e.detachThemeChanged(n)};e.attachThemeChanged(n)}})};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Calendar", ["sap/ui/core/CalendarType","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/DateTypeRange","./calendar/Header","./calendar/Month","./calendar/MonthPicker","./calendar/YearPicker","./calendar/YearRangePicker","./calendar/CalendarDate","sap/ui/core/date/UniversalDate","sap/ui/core/date/UI5Date","./library","sap/ui/Device","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","sap/ui/events/KeyCodes","./CalendarRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/ui/core/Configuration","sap/ui/core/date/CalendarWeekNumbering"],function(e,t,a,i,r,s,o,n,h,g,l,d,u,c,_,p,f,D,y,m,M,P,v,C,S,T){"use strict";var k=t.extend("sap.ui.unified.Calendar",{metadata:{library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/Calendar.designtime",properties:{intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:1},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},showCurrentDateButton:{type:"boolean",group:"Behavior",defaultValue:false},_currentPicker:{type:"string",group:"Appearance",visibility:"hidden"},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null},initialFocusedDate:{type:"object",group:"Data",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"},header:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},secondMonthHeader:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},month:{type:"sap.ui.unified.calendar.Month",multiple:true,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"},yearRangePicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:M});var Y={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};k.prototype.init=function(){this._iBreakPointTablet=p.media._predefinedRangeSets[p.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=p.media._predefinedRangeSets[p.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=p.media._predefinedRangeSets[p.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._iColumns=1;this.setProperty("_currentPicker",Y.MONTH_PICKER);this._oYearFormat=f.getDateInstance({format:"y",calendarType:this._getPrimaryCalendarType()});this.data("sap-ui-fastnavgroup","true",true);this._oMinDate=r._minDate(this._getPrimaryCalendarType());this._oMaxDate=r._maxDate(this._getPrimaryCalendarType());this._initializeHeader();this._initializeSecondMonthHeader();var e=this._createMonth(this.getId()+"--Month0");e.attachEvent("focus",this._handleFocus,this);e.attachEvent("select",R,this);e.attachEvent("_renderMonth",B,this);e.attachEvent("_bindMousemove",L,this);e.attachEvent("_unbindMousemove",N,this);e._bNoThemeChange=true;this.addAggregation("month",e);this._initializeMonthPicker();this._initializeYearPicker();this._initializeYearRangePicker();this._resizeProxy=A.bind(this);this._oSelectedMonth;this._bSkipCancelButtonRendering=false;this._bActionTriggeredFromSecondHeader=false};k.prototype.exit=function(){if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}if(this._afterHeaderRenderAdjustCSS){this.removeDelegate(this._afterHeaderRenderAdjustCSS);this._afterHeaderRenderAdjustCSS=null}if(this._afterSecondHeaderRenderAdjustCSS){this.removeDelegate(this._afterSecondHeaderRenderAdjustCSS);this._afterSecondHeaderRenderAdjustCSS=null}if(this._sResizeListener){D.deregister(this._sResizeListener);this._sResizeListener=undefined}this._oSelectedMonth=null};k.prototype._initializeHeader=function(){var e=new o(this.getId()+"--Head");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressCurrentDate",this._handleCurrentDate,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);e.attachEvent("pressButton3",this._handleButton1,this);e.attachEvent("pressButton4",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};k.prototype._createOnAfterRenderingDelegate=function(e){return{onAfterRendering:function(){if(e.getVisible()&&!e.getVisibleButton1()){e.$().find(".sapUiCalHeadB2").addClass("sapUiCalSingleYearButton")}if(e.getVisible()&&!e._getVisibleButton3()){this._isTwoMonthsInTwoColumns()&&e.$().find(".sapUiCalHeadB4").addClass("sapUiCalSingleYearButton")}}.bind(this)}};k.prototype._initializeSecondMonthHeader=function(){var e=new o(this.getId()+"--SecondMonthHead",{visible:false});e.addStyleClass("sapUiCalHeadSecondMonth");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterSecondHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterSecondHeaderRenderAdjustCSS);this.setAggregation("secondMonthHeader",e)};k.prototype._initializeMonthPicker=function(){var e=new h(this.getId()+"--MP");e._bCalendar=true;e.attachEvent("select",this._selectMonth,this);e.attachEvent("pageChange",I,this);e._bNoThemeChange=true;this.setAggregation("monthPicker",e);e._setSelectedDatesControlOrigin(this)};k.prototype._initializeYearPicker=function(){var e=new g(this.getId()+"--YP");e._bCalendar=true;e.attachEvent("select",this._selectYear,this);e.attachEvent("pageChange",E,this);this.setAggregation("yearPicker",e);e._setSelectedDatesControlOrigin(this)};k.prototype._initializeYearRangePicker=function(){var e=new l(this.getId()+"--YRP");e.attachEvent("select",this._selectYearRange,this);e.setPrimaryCalendarType(this._getPrimaryCalendarType());this.setAggregation("yearRangePicker",e)};k.prototype._createMonth=function(e){var t=new n(e,{width:"100%",calendarWeekNumbering:this.getCalendarWeekNumbering()});t._bCalendar=true;t.attachEvent("datehovered",this._handleDateHovered,this);t.attachEvent("weekNumberSelect",this._handleWeekNumberSelect,this);return t};k.prototype._handleWeekNumberSelect=function(e){var t=e.getParameter("weekDays"),a=this.fireWeekNumberSelect({weekNumber:e.getParameter("weekNumber"),weekDays:t});this._focusDate(d.fromLocalJSDate(t.getStartDate(),this._getPrimaryCalendarType()),true,false,false);if(!a){e.preventDefault()}return this};k.prototype._handleDateHovered=function(e){var t=this.getAggregation("month"),a=e.getParameter("date1"),i=e.getParameter("date2"),r;for(r=0;r<t.length;r++){t[r]._markDatesBetweenStartAndHoveredDate(a,i)}};k.prototype.onBeforeRendering=function(){var e=this.getAggregation("month"),t,a=e[0].getDate(),i=this._getFocusedDate();if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){C.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}if(e.length>1&&a){t=d.fromLocalJSDate(a,this._getPrimaryCalendarType())}else if(e.length>1){t=w.call(this,this._getFocusedDate())}else{t=i}for(var r=0;r<e.length;r++){a=new d(t);if(r>0){a.setMonth(a.getMonth()+r,1)}var s=a;if(i.getYear()===a.getYear()&&i.getMonth()===a.getMonth()){s=i}e[r].displayDate(s.toLocalJSDate());e[r].setShowWeekNumbers(this.getShowWeekNumbers())}if(this._getMonthPicker()){this._setDisabledMonths(i.getYear(),this._getMonthPicker())}this._updateHeader(t);this._updateHeadersButtons();this._adjustYearRangeDisplay();this._updateLegendParent();if(this.getInitialFocusedDate()){this.focusDate(this.getInitialFocusedDate())}};k.prototype.onAfterRendering=function(e){if(!this._getSucessorsPickerPopup()){H.call(this)}if(F.call(this)>1||this._bInitMonth){e.size={width:this.getDomRef().offsetWidth};A.call(this,e,true);if(!this._sResizeListener){this._sResizeListener=D.register(this,this._resizeProxy)}this._bInitMonth=undefined}};k.prototype.removeSelectedDate=function(e){this._bDateRangeChanged=true;return this.removeAggregation("selectedDates",e)};k.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};k.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};k.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};k.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};k.prototype._setSpecialDatesControlOrigin=function(e){this._oSpecialDatesControlOrigin=e};k.prototype.getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin.getSpecialDates()}if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};k.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};k.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};k.prototype.setLocale=function(e){if(this._sLocale!=e){this._sLocale=e;this._oLocaleData=undefined;this.invalidate();this._toggleTwoMonthsInTwoColumnsCSS()}return this};k.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=S.getFormatSettings().getFormatLocale().toString()}return this._sLocale};k.prototype._getFocusedDate=function(){if(!this._oFocusedDate){b.call(this)}return this._oFocusedDate};k.prototype._setFocusedDate=function(e){r._checkCalendarDate(e);this._oFocusedDate=new d(e,this._getPrimaryCalendarType())};k.prototype.focusDate=function(e){x.call(this,e,false);this._addMonthFocusDelegate();return this};k.prototype.displayDate=function(e){x.call(this,e,true);return this};k.prototype.getStartDate=function(){var e;if(this.getDomRef()){var t=this.getAggregation("month");e=d.fromLocalJSDate(t[0].getDate(),this._getPrimaryCalendarType())}else{e=new d(this._getFocusedDate())}e.setDate(1);return e.toLocalJSDate()};k.prototype.setCalendarWeekNumbering=function(e){var t=this.getAggregation("month");this.setProperty("calendarWeekNumbering",e);for(var a=0;a<t.length;a++){t[a].setProperty("calendarWeekNumbering",e)}return this};k.prototype.setMonths=function(e){this._bDateRangeChanged=undefined;this.setProperty("months",e);e=F.call(this);var t=this.getAggregation("month");var a=0;var i;if(t.length<e){for(a=t.length;a<e;a++){i=this._createMonth(this.getId()+"--Month"+a);i.attachEvent("focus",this._handleFocus,this);i.attachEvent("select",R,this);i.attachEvent("_renderMonth",B,this);i.attachEvent("_bindMousemove",L,this);i.attachEvent("_unbindMousemove",N,this);i._bNoThemeChange=true;i.setCalendarWeekNumbering(this.getCalendarWeekNumbering());i.setSecondaryCalendarType(this._getSecondaryCalendarType());this.addAggregation("month",i)}this._toggleTwoMonthsInTwoColumnsCSS()}else if(t.length>e){for(a=t.length;a>e;a--){i=this.removeAggregation("month",a-1);i.destroy()}if(e==1){this._bInitMonth=true}this._toggleTwoMonthsInTwoColumnsCSS()}if(e>1&&t[0].getDate()){t[0].setProperty("date",null,true)}return this};k.prototype.setPrimaryCalendarType=function(e){var t=this.getAggregation("month"),a,i,r,s,o;this.setProperty("primaryCalendarType",e);this._oYearFormat=f.getDateInstance({format:"y",calendarType:e});if(this._oFocusedDate){this._oFocusedDate=new d(this._oFocusedDate,e)}this._oMinDate=new d(this._oMinDate,e);this._oMaxDate=new d(this._oMaxDate,e);for(o=0;o<t.length;o++){a=t[o];a.setPrimaryCalendarType(e)}if(!this._getSucessorsPickerPopup()){i=this._getMonthPicker();i.setPrimaryCalendarType(e);r=this._getYearPicker();r.setPrimaryCalendarType(e);s=this.getAggregation("yearRangePicker");s.setPrimaryCalendarType(e)}return this};k.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oYearFormatSecondary=f.getDateInstance({format:"y",calendarType:e});var t=this.getAggregation("month");for(var a=0;a<t.length;a++){var i=t[a];i.setSecondaryCalendarType(e)}this._getMonthPicker().setSecondaryCalendarType(e);this._getYearPicker().setSecondaryCalendarType(e);this._getYearRangePicker().setSecondaryCalendarType(e);return this};k.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||S.getCalendarType()};k.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};k.prototype._getActiveHeaderAggregation=function(){if(this._bActionTriggeredFromSecondHeader&&this._isTwoMonthsInOneColumn()){return this.getAggregation("secondMonthHeader")}else{return this.getAggregation("header")}};k.prototype._saveTriggeredHeader=function(e){if(e.getSource().sParentAggregationName==="secondMonthHeader"||e.sId==="pressButton3"||e.sId==="pressButton4"){this._bActionTriggeredFromSecondHeader=true}else{this._bActionTriggeredFromSecondHeader=false}};k.prototype.setMinDate=function(e){var t=this.getAggregation("month"),a=this._getPrimaryCalendarType(),i;if(v(e,this.getMinDate())){return this}if(!e){this._oMinDate=r._minDate(a)}else{r._checkJSDateObject(e);this._oMinDate=d.fromLocalJSDate(e,a);var s=this._oMinDate.getYear();r._checkYearInValidRange(s,a);if(this._oMaxDate.isBefore(this._oMinDate)){C.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=d.fromLocalJSDate(e,a);this._oMaxDate.setDate(r._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(d.fromLocalJSDate(e,a))}this.setProperty("minDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMinDate.getYear();this._getYearPicker()._oMinDate.setYear(i);this._getYearRangePicker()._oMinDate.setYear(i)}for(var o=0;o<t.length;o++){t[o]._oMinDate=new d(this._oMinDate)}return this};k.prototype.setMaxDate=function(e){var t=this.getAggregation("month"),a=this._getPrimaryCalendarType(),i;if(v(e,this.getMaxDate())){return this}if(!e){this._oMaxDate=r._maxDate(a)}else{r._checkJSDateObject(e);this._oMaxDate=d.fromLocalJSDate(e,a);var s=this._oMaxDate.getYear();r._checkYearInValidRange(s,a);if(this._oMinDate.isAfter(this._oMaxDate)){C.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=d.fromLocalJSDate(e,a);this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(d.fromLocalJSDate(e,a))}this.setProperty("maxDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMaxDate.getYear();this._getYearPicker()._oMaxDate.setYear(i);this._getYearRangePicker()._oMaxDate.setYear(i)}for(var o=0;o<t.length;o++){t[o]._oMaxDate=new d(this._oMaxDate)}return this};k.prototype.setShowCurrentDateButton=function(e){this.getAggregation("header").setVisibleCurrentDateButton(e);return this.setProperty("showCurrentDateButton",e)};k.prototype._setMinMaxDateExtend=function(e){if(this._oFocusedDate){if(r._isOutside(this._oFocusedDate,this._oMinDate,this._oMaxDate)){C.warning("focused date is not between [minDate - maxDate] -> refocus to the new max/min date: "+e.toString(),this);this.focusDate(e.toLocalJSDate())}}};k.prototype._getLocaleData=function(){if(!this._oLocaleData){var e=this.getLocale();var t=new y(e);this._oLocaleData=i.getInstance(t)}return this._oLocaleData};k.prototype._getShowMonthHeader=function(){var e=F.call(this);if(e>2){return true}else{return false}};k.prototype._getMonthPicker=function(){return this.getAggregation("monthPicker")};k.prototype._getYearPicker=function(){return this.getAggregation("yearPicker")};k.prototype._getYearRangePicker=function(){return this.getAggregation("yearRangePicker")};k.prototype.onclick=function(e){var t=e.target;if(e.isMarked("delayedMouseEvent")){return}if(t.id==this.getId()+"-cancel"){this.onsapescape(e)}};k.prototype.onmousedown=function(e){if(e.cancelable){e.preventDefault()}e.setMark("cancelAutoClose")};k.prototype.onsapescape=function(e){this.fireCancel();this._closePickers();this._addMonthFocusDelegate();if(!this._getSucessorsPickerPopup()){this._setHeaderText(this._getFocusedDate())}};k.prototype.onsapshow=function(e){var t=e.which||e.keyCode;if(this._bPoupupMode&&t!==m.F4){this._closePickers();this._addMonthFocusDelegate();this.fireCancel();e.preventDefault()}};k.prototype.onkeydown=function(e){var t=e.which||e.keyCode,a=e.shiftKey;if(t!==m.F4){return}e.preventDefault();switch(this._iMode){case 0:if(a){this._showYearPicker()}else{this._showMonthPicker()}break;case 1:if(a){this._showYearPicker()}break;case 2:if(a){this._showYearRangePicker()}break;default:}};k.prototype.onsaphide=k.prototype.onsapshow;k.prototype.getFocusDomRef=function(){var e=this._oSelectedMonth?this._oSelectedMonth:this.getAggregation("month")[0],t=this._getMonthPicker(),a=this._getYearPicker(),i=this._getYearRangePicker();switch(this._iMode){case 0:return e.getFocusDomRef();case 1:return t.getFocusDomRef();case 2:return a.getFocusDomRef();case 3:return i.getFocusDomRef();default:return}};k.prototype.onThemeChanged=function(){var e,t=arguments;if(!this.getDomRef()){return}this._bNamesLengthChecked=undefined;if(!this._getSucessorsPickerPopup()){var a={onAfterRendering:function(){e.onThemeChanged(t);e._bNoThemeChange=true;H.call(this);this._bLongMonth=e._bLongMonth;this._closePickers();e.removeEventDelegate(a)}};e=this._getMonthPicker();this._showMonthPicker(true);e._bNoThemeChange=false;e.addEventDelegate(a,this)}var i=this.getAggregation("month");for(var r=0;r<i.length;r++){var s=i[r];s._bNoThemeChange=false;s.onThemeChanged(arguments);s._bNoThemeChange=true}var o;if(i.length>1){o=d.fromLocalJSDate(i[0].getDate(),this._getPrimaryCalendarType())}else{o=this._getFocusedDate()}this._setHeaderText(o);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()};k.prototype._updateLegendParent=function(){var e=this.getLegend(),t=a.byId(e);t&&t._setParent(this)};k.prototype._updateHeader=function(e){this._setHeaderText(e);switch(this._iMode){case 0:this._togglePrevNext(e,true);break;case 1:this._togglePrevNext(e,false);break;case 2:case 3:this._togglePrevNexYearPicker();break}};k.prototype._togglePrevNext=function(e,t){var a=this._oMaxDate.getYear();var i=this._oMinDate.getYear();var s=this._oMaxDate.getMonth();var o=this._oMinDate.getMonth();var n=this.getAggregation("header");var h=F.call(this);var g=new d(e,this._getPrimaryCalendarType());if(this._iMode===1&&h>1){g=w.call(this,e);g.setMonth(g.getMonth()+h-1);g.setDate(r._daysInMonth(g))}else{g.setDate(r._daysInMonth(g))}var l=g.getYear();var u=g.getMonth();if((this._iMode===0||this._iMode===1)&&h>1){u+=h-1}if(l>a||l===a&&(!t||u>=s)||(this._iMode===0||this._iMode===1)&&this._getSucessorsPickerPopup()){n.setEnabledNext(false)}else{n.setEnabledNext(true)}if(this._iMode===1&&h>1){g.setMonth(g.getMonth()-h+1,1)}else{g.setDate(1)}l=g.getYear();u=g.getMonth();if(l<i||l==i&&(!t||u<=o)||this._iMode==1&&this._getSucessorsPickerPopup()){n.setEnabledPrevious(false)}else{n.setEnabledPrevious(true)}};k.prototype._togglePrevNexYearPicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=this._getPrimaryCalendarType(),i=new d(this._oMinDate,a),r=new d(this._oMaxDate,a),s=this.getAggregation("header"),o=1,n,h,g,l;if(this._iMode===3){g=e.getYears();o=e.getRangeSize();n=new d(e.getProperty("_middleDate"));h=new d(n);n.setYear(n.getYear()-o*g/2);h.setYear(h.getYear()+o*g/2-1)}else{g=t.getYears();l=t.getProperty("_middleDate")?t.getProperty("_middleDate"):d.fromLocalJSDate(c.getInstance());n=new d(l);h=new d(l);n.setYear(n.getYear()-g/2);h.setYear(h.getYear()+g/2-1)}s.setEnabledNext(h.getYear()<r.getYear());s.setEnabledPrevious(n.getYear()>i.getYear())};k.prototype._handlePrevious=function(){var e=this._getFocusedDate(),t=F.call(this),a,i=false;switch(this._iMode){case 0:if(t>1){a=d.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this._getPrimaryCalendarType());a.setDate(1);this._setFocusedDate(a);e=this._getFocusedDate()}else{e.setDate(1)}e.setDate(e.getDate()-1);this._renderMonth(i,false);this._addMonthFocusDelegate();break;case 1:e.setYear(e.getYear()-1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(e.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(e);this._setDisabledMonths(e.getYear());var r=this._getMonthPicker();r._setYear(e.getYear());r._setDate(e);r.invalidate();this.setProperty("_currentPicker",Y.MONTH_PICKER);break;case 2:this._getYearPicker().previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};k.prototype._handleNext=function(){var e=this._getFocusedDate(),t=F.call(this),a;switch(this._iMode){case 0:if(t>1){a=d.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this._getPrimaryCalendarType());a.setMonth(a.getMonth(),1);this._setFocusedDate(a);e=this._getFocusedDate()}e.setMonth(e.getMonth()+1,1);this._renderMonth(false,false);this._addMonthFocusDelegate();break;case 1:e.setYear(e.getYear()+1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(e.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(e);this._setDisabledMonths(e.getYear());var i=this._getMonthPicker();i._setYear(e.getYear());i._setDate(e);i.invalidate();this.setProperty("_currentPicker",Y.MONTH_PICKER);break;case 2:this._getYearPicker().nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};k.prototype._updateHeadersYearAdditionalTextHelper=function(){if(!this._getSecondaryCalendarType()){return}var e=this._getDisplayedSecondaryYears();if(e.start.getYear()===e.end.getYear()){this._updateHeadersYearAdditionalText(this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true))}else{var t=this._getLocaleData();var a=t.getIntervalPattern();var i=a.replace(/\{0\}/,this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true)).replace(/\{1\}/,this._oYearFormatSecondary.format(e.end.toUTCJSDate(),true));this._updateHeadersYearAdditionalText(i)}};k.prototype._handleCurrentDate=function(){var e=c.getInstance(),t=this.getMaxDate(),a=this.getMinDate();this.setProperty("_currentPicker",Y.MONTH);if(t&&t.getTime()<e.getTime()){this.focusDate(t)}else if(a&&a.getTime()>e.getTime()){this.focusDate(a)}else{this.focusDate(e)}};k.prototype._getYearString=function(){var e=this._getYearPicker(),t=e.getDomRef(),a=this._getFocusedDate();if(e&&t&&t.style.display===""){a=e.getProperty("_middleDate");a.setDate(1)}return this._oYearFormat.format(u.getInstance(a.toUTCJSDate(),a.getCalendarType()),true)};k.prototype._getDisplayedMonths=function(e){var t=[];var a=e.getMonth();var i=F.call(this);if(i>1){for(var r=0;r<i;r++){t.push((a+r)%12)}}else{t.push(a)}return t};k.prototype._getDisplayedSecondaryMonths=function(){var e=this._getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a=this.getAggregation("month"),i=d.fromLocalJSDate(a[0].getDate(),e),s=d.fromLocalJSDate(a[a.length-1].getDate(),e),o,n;i.setDate(1);i=new d(i,t);o=i.getMonth();s=d.fromLocalJSDate(a[a.length-1].getDate(),e);s.setDate(r._daysInMonth(s));s=new d(s,t);n=s.getMonth();return{start:o,end:n}};k.prototype._getDisplayedSecondaryYears=function(){var e=this._getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a,i,s,o,n,h,g;switch(this._iMode){case 0:n=this.getAggregation("month");a=d.fromLocalJSDate(n[0].getDate(),e);a.setDate(1);a=new d(a,t);i=d.fromLocalJSDate(n[n.length-1].getDate(),e);i.setDate(r._daysInMonth(i));i=new d(i,t);break;case 1:s=this._getFocusedDate();o=new d(s,e);o.setMonth(0,1);a=new d(o,e);a=new d(a,t);o.setYear(o.getYear()+1);o.setDate(o.getDate()-1);i=new d(o,e);i=new d(i,t);break;case 2:h=this._getYearPicker();g=h.getYears()/2-1;s=h.getProperty("_middleDate");a=new d(s,e);a.setYear(s.getYear()-g-1);a.setMonth(0,1);a=new d(a,t);i=new d(s,e);i.setYear(i.getYear()+g+1);a.setMonth(0,1);i.setDate(i.getDate()-1);i=new d(i,t);break;default:}return{start:a,end:i}};k.prototype._closePickers=function(){this.setProperty("_currentPicker",Y.MONTH);this._togglePrevNext(this._getFocusedDate(),true);if(this.getAggregation("month").length>1){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=0})}};k.prototype._setDisabledMonths=function(e,t){var a=0;var i=11;if(e===this._oMinDate.getYear()){a=this._oMinDate.getMonth()}if(e===this._oMaxDate.getYear()){i=this._oMaxDate.getMonth()}if(!t){t=this._getMonthPicker()}t.setMinMax(a,i)};k.prototype._handleFocus=function(e){var t=d.fromLocalJSDate(e.getParameter("date"),this._getPrimaryCalendarType()),a=e.getParameter("otherMonth"),i=e.getParameter("restoreOldDate");if(this.getIntervalSelection()){this.getAggregation("month").forEach(function(e){e.setProperty("_focusedDate",t)})}if(i){if(!v(this._getFocusedDate(),t)){this._renderMonth(false,true)}}else{this._focusDate(t,a,false,true)}};k.prototype._getVisibleDays=function(){var e=this.getAggregation("month")[0];return e._getVisibleDays(e._getDate(),false)};k.prototype._renderMonth=function(e,t){var a=this._getFocusedDate(),i=this.getAggregation("month"),s,o,n=w.call(this,new d(a,this._getPrimaryCalendarType())),h=0,g=i[0].checkDateFocusable(a.toLocalJSDate()),l=!t&&!g;for(h=0;h<i.length;h++){s=i[h];o=new d(n,this._getPrimaryCalendarType());o.setMonth(n.getMonth()+h);if(!e&&r._isSameMonthAndYear(o,a)){s.setDate(a.toLocalJSDate())}else{s.displayDate(o.toLocalJSDate())}}this._updateHeader(n);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS();if(l){this.fireStartDateChange()}};k.prototype._updateMonthButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(false)}return this};k.prototype._showMonthPicker=function(e){var t=this._getFocusedDate(),a=this._getMonthPicker(),i=new d(this._getFocusedDate());this._updateActiveHeaderYearButtonVisibility();this._updateMonthButtonVisibility();this.setProperty("_currentPicker",Y.MONTH_PICKER);if(this._bActionTriggeredFromSecondHeader){i.setDate(1);i.setMonth(i.getMonth()+1);a._setYear(i.getYear());a._setDate(i)}else{a._setYear(t.getYear());a._setDate(t)}if(!e&&this._bActionTriggeredFromSecondHeader){a.setMonth(i.getMonth());this._setDisabledMonths(i.getYear(),a)}else if(!e){a.setMonth(t.getMonth());this._setDisabledMonths(t.getYear(),a)}if(this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==Y.MONTH_PICKER){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=-1})}this._togglePrevNext(t,true);this._setHeaderText(this._getFocusedDate())};k.prototype._showYearPicker=function(){var e=this._getFocusedDate(),t=this._getYearPicker();this.setProperty("_currentPicker",Y.YEAR_PICKER);t.setDate(e.toLocalJSDate());this._togglePrevNexYearPicker();if(this._isTwoMonthsInOneColumn()){this._updateActiveHeaderYearButtonVisibility()}else{this._updateActiveHeaderYearButtonVisibility()}if(this._bActionTriggeredFromSecondHeader&&this.getAggregation("month")[1].getDate().getFullYear()>this._getFocusedDate().getYear()){var a=e.toLocalJSDate();a.setFullYear(a.getFullYear()+1);t.setDate(a);this._updateHeadersYearPrimaryText(this._getYearString())}else{t.setDate(e.toLocalJSDate());this._updateHeadersYearPrimaryText(this._getYearString())}if(this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==Y.YEAR_PICKER){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=-1})}};k.prototype._focusDate=function(e,t,a,i){var r,s=false,o=false,n=this.getAggregation("month"),h;if(e.isBefore(this._oMinDate)){r=this._oMinDate;s=true}else if(e.isAfter(this._oMaxDate)){r=this._oMaxDate;s=true}else{r=e}if(this._focusDateExtend){o=this._focusDateExtend(e,t,a)}this._setFocusedDate(r);if(i&&!this._focusDateExtend){for(h=0;h<n.length;++h){if(n[h].checkDateFocusable(r.toLocalJSDate())){n[h].setDate(r.toLocalJSDate());n[h]._focusDate(r);return}}}if(s||t){this._renderMonth(false,a);this._addMonthFocusDelegate()}if(o){this.fireStartDateChange()}};k.prototype._setHeaderText=function(e){var t=this.getAggregation("header");var a=this.getAggregation("secondMonthHeader");var i=this._getLocaleData();var r=[];var s=[];var o=[];var n=[];var h;var g=false;var l;var u;var c;var _;var p;var f=this._getPrimaryCalendarType();var D=this._getSecondaryCalendarType();var y="";if(this._bLongMonth||!this._bNamesLengthChecked){r=i.getMonthsStandAlone("wide",f)}else{g=true;r=i.getMonthsStandAlone("abbreviated",f);s=i.getMonthsStandAlone("wide",f)}if(D){o=i.getMonthsStandAlone("abbreviated",D);n=i.getMonthsStandAlone("wide",D);var m=this._getDisplayedSecondaryMonths();if(m.start===m.end){c=o[m.start];y=n[m.start]}else{p=i.getIntervalPattern();c=p.replace(/\{0\}/,o[m.start]).replace(/\{1\}/,o[m.end]);y=p.replace(/\{0\}/,n[m.start]).replace(/\{1\}/,n[m.end])}}t.setAdditionalTextButton1(c);t._setAdditionalTextButton3(c);a.setAdditionalTextButton1(c);var M=this._getDisplayedMonths(e);this._sFirstMonthName=l=r[M[0]];u=r[M[M.length-1]];if(M.length>1&&!this._bShowOneMonth){if(!p){p=i.getIntervalPattern()}c=p.replace(/\{0\}/,l).replace(/\{1\}/,u);h=s.length?p.replace(/\{0\}/,s[M[0]]).replace(/\{1\}/,s[M[M.length-1]]):c;if(this._isTwoMonthsInTwoColumns()||this._isTwoMonthsInOneColumn()){c=l}}else{c=l;h=s[M[0]]||c}if(!this._getSucessorsPickerPopup()&&y){h+=", "+y}t.setTextButton1(c);t.setAriaLabelButton1(h);t._setTextButton3(u);t._setAriaLabelButton3(u);a.setTextButton1(u);a.setAriaLabelButton1(u);var P=new d(e,f);P.setDate(1);_=this._oYearFormat.format(P.toUTCJSDate(),true);if(P.getMonth()===11){this._updateHeadersYearPrimaryText(_,(parseInt(_)+1).toString())}else{this._updateHeadersYearPrimaryText(_,_)}if(D&&this._iMode!==3){this._updateHeadersYearAdditionalTextHelper()}else{this._updateHeadersYearAdditionalText()}return{sMonth:c,sYear:_,sAriaLabel:h,bShort:g}};k.prototype._handleButton1=function(e){if(this._iMode!=1){this._saveTriggeredHeader(e);this._showMonthPicker()}else{this.setProperty("_currentPicker",Y.MONTH);this._addMonthFocusDelegate()}};k.prototype._addMonthFocusDelegate=function(){var e=this.getAggregation("month"),t=e[0].getDate(),a=this._getFocusedDate(),i={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());this.removeDelegate(i)}},r,s;if(e.length>1&&r){t=d.fromLocalJSDate(r,this._getPrimaryCalendarType())}else if(e.length>1){t=w.call(this,this._getFocusedDate())}else{t=a}for(var o=0;o<e.length;o++){r=new d(t);if(o>0){r.setMonth(r.getMonth()+o,1)}if(a.getYear()===r.getYear()&&a.getMonth()===r.getMonth()){s=this.getAggregation("month")[o];s.addDelegate(i,s)}}};k.prototype._handleButton2=function(e){if(this._iMode<=1){this._saveTriggeredHeader(e);this._showYearPicker()}else{this._showYearRangePicker()}};k.prototype._selectMonth=function(){var e=new d(this._getFocusedDate(),this._getPrimaryCalendarType()),t=this._getMonthPicker(),a=t.getProperty("_focusedMonth"),i=a||a===0?a:t.getMonth(),s=d.fromLocalJSDate(c.getInstance(),this._getPrimaryCalendarType());s=t._iYear?s.setYear(t._iYear).setMonth(i-1,1):new d(this._getFocusedDate().getYear(),i-1,1);if(F.call(this)>1){if(this._bActionTriggeredFromSecondHeader&&s.getYear()>=r._minDate(this._getPrimaryCalendarType()).getYear()){e.setYear(s.getYear());i=s.getMonth()}else if(e.getYear()===r._maxDate(this._getPrimaryCalendarType()).getYear()&&i===11){i-=1}}e.setMonth(i);if(i!=e.getMonth()){e.setDate(0)}this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate()};k.prototype._getSucessorsPickerPopup=function(){return this.getPickerPopup&&this.getPickerPopup()};k.prototype._selectYear=function(){var e=new d(this._getFocusedDate(),this._getPrimaryCalendarType()),t=e.getMonth(),a=this._getYearPicker(),i=d.fromLocalJSDate(a.getDate(),this._getPrimaryCalendarType());if(!this._bActionTriggeredFromSecondHeader){i.setMonth(t,e.getDate())}else{i.setYear(t===11?i.getYear()-1:i.getYear());i.setMonth(t,e.getDate())}e=i;this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate();this._setHeaderText(this._getFocusedDate())};k.prototype.setProperty=function(){var e=arguments[0],a=arguments[1];t.prototype.setProperty.apply(this,arguments);if(e==="_currentPicker"){switch(a){case"month":this._iMode=0;break;case"monthPicker":this._iMode=1;break;case"yearPicker":this._iMode=2;break;case"yearRangePicker":this._iMode=3;break;default:return}}return this};k.prototype._selectYearRange=function(){var e=this.getAggregation("yearRangePicker"),t=this.getAggregation("header"),a=e.getRangeSize(),i=this._getPrimaryCalendarType(),r=d.fromLocalJSDate(e.getDate(),i),s=new d(r.getYear()+a-1,0,1,i),o=this._getFocusedDate(),n,h;o.setYear(r.getYear()+a/2);r.setMonth(0,1);if(o.isBefore(this._oMinDate)){o=new d(this._oMinDate,this._getPrimaryCalendarType())}else if(o.isAfter(this._oMaxDate)){o=new d(this._oMaxDate,this._getPrimaryCalendarType())}this._setFocusedDate(o);this._showYearPicker();n=this._oYearFormat.format(u.getInstance(r.toUTCJSDate(),r.getCalendarType()),true);h=this._oYearFormat.format(u.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);t.setTextButton2(n+" - "+h);t._setTextButton4(n+" - "+h)};k.prototype._showYearRangePicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=d.fromLocalJSDate(t.getFirstRenderedDate(),this._getPrimaryCalendarType());this.setProperty("_currentPicker",Y.YEAR_RANGE_PICKER);a.setYear(a.getYear()+Math.floor(e.getRangeSize()/2));e.setDate(a.toLocalJSDate());this._togglePrevNexYearPicker()};k.prototype._setColumns=function(e){this._iColumns=e;return this};k.prototype._getColumns=function(){return this._iColumns};k.prototype._updateActiveHeaderYearButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(!e.getVisibleButton1())}return this};k.prototype._updateHeadersButtonsHelper=function(e,t,a,i){var r=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader");r.setVisibleButton1(e);r.setVisibleButton2(t);r._setVisibleButton3(a);r._setVisibleButton4(i);if(s.getVisible()){s.setVisibleButton1(e);s.setVisibleButton2(t);s._setVisibleButton3(a);s._setVisibleButton4(i)}};k.prototype._updateHeadersButtons=function(){var e=this.getAggregation("secondMonthHeader");if(this._isTwoMonthsInOneColumn()){e.setVisible(true);if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}else if(this._isTwoMonthsInTwoColumns()){e.setVisible(false);if(this._iMode===2){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else if(this._iMode===1){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else{this._updateHeadersButtonsHelper(true,true,true,true)}}else{e.setVisible(false);if(this._iMode===1){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}if(this._getSucessorsPickerPopup()){this.getAggregation("header").setVisibleButton2(false)}};k.prototype._setPrimaryHeaderMonthButtonText=function(){var e=this.getAggregation("header");if(this._isTwoMonthsInOneColumn()||this._isTwoMonthsInTwoColumns()){e.setTextButton1(this._sFirstMonthName)}};k.prototype._toggleTwoMonthsInTwoColumnsCSS=function(){if(this._isTwoMonthsInTwoColumns()){if(a.getConfiguration().getLocale().getLanguage().toLowerCase()==="ja"||a.getConfiguration().getLocale().getLanguage().toLowerCase()==="zh"){this.addStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}else{this.addStyleClass("sapUiCalTwoMonthsTwoColumns");this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh")}}else{this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}};k.prototype._isTwoMonthsInOneColumn=function(){var e=F.call(this);return this._getColumns()===1&&e===2};k.prototype._isTwoMonthsInTwoColumns=function(){var e=F.call(this);return this._getColumns()===2&&e===2};k.prototype._updateHeadersYearPrimaryText=function(e,t){var a=this._getYearPicker(),i=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader"),o=e,n=t||e,h=this._getPrimaryCalendarType();if(this._iMode===2&&a){var g=a.getProperty("_middleDate")?a.getProperty("_middleDate"):a._getDate(),l=new d(g,h),c=r._minDate(this._getPrimaryCalendarType()).getYear(),_=r._maxDate(this._getPrimaryCalendarType()).getYear(),p,f,D;l.setDate(1);l.setYear(l.getYear()-Math.floor(a.getYears()/2));if(l.getYear()<c){l.setYear(c)}else if(l.getYear()+a.getYears()>_){l.setYear(_-a.getYears()+1)}p=new d(l,h);p.setYear(p.getYear()+a.getYears()-1);f=this._oYearFormat.format(u.getInstance(l.toUTCJSDate(),l.getCalendarType()),true);D=this._oYearFormat.format(u.getInstance(p.toUTCJSDate(),p.getCalendarType()),true);if(this._bActionTriggeredFromSecondHeader){n=f+" - "+D}else{o=f+" - "+D}}i._setTextButton4(n);i._setAriaLabelButton4(n);s.setTextButton2(n);i.setTextButton2(o)};k.prototype._updateHeadersYearAdditionalText=function(e){var t=this.getAggregation("header"),a=this.getAggregation("secondMonthHeader");t.setAdditionalTextButton2(e);t._setAdditionalTextButton4(e);a.setAdditionalTextButton2(e)};k.prototype._adjustYearRangeDisplay=function(){var t=this.getAggregation("yearRangePicker"),a=sap.ui.getCore().getConfiguration().getLanguage().toLocaleLowerCase(),i=this._getPrimaryCalendarType();if(!this._getSucessorsPickerPopup()){if(i==e.Japanese){t.setColumns(1);t.setYears(4)}else if(a=="ko"||a=="ko-kr"||i!=e.Gregorian){t.setColumns(2);t.setYears(8)}else if(i==e.Gregorian){t.setColumns(3);t.setYears(9)}}};k.prototype._getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin._getSpecialDates()}if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===_.CalendarDayType.NonWorking&&t[a].getType()!==_.CalendarDayType.NonWorking;if(i){var r=new s;r.setType(t[a].getSecondaryType());r.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){r.setEndDate(t[a].getEndDate())}t.push(r)}}return t}};function b(){var e=this.getSelectedDates();var t=this._getPrimaryCalendarType();if(e&&e[0]&&e[0].getStartDate()){this._oFocusedDate=d.fromLocalJSDate(e[0].getStartDate(),t)}else{this._oFocusedDate=d.fromLocalJSDate(c.getInstance(),t)}if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new d(this._oMinDate,t)}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new d(this._oMaxDate,t)}}function A(e){var t=e.size.width;if(t<=0){return}if(t===this._iPrevWidth){return}this._iPrevWidth=t;var a=this._iSize;if(t<this._iBreakPointTablet){this._iSize=0}else if(t<this._iBreakPointDesktop){this._iSize=1}else if(t<this._iBreakPointLargeDesktop){this._iSize=2}else{this._iSize=3}var i=F.call(this);if(a!=this._iSize||this._bInitMonth){switch(this._iSize){case 1:this._setColumns(2);break;case 2:this._setColumns(3);break;case 3:this._setColumns(4);break;default:this._setColumns(1);break}if(i<this._getColumns()){this._setColumns(i)}if(this._getColumns()>2&&i>this._getColumns()){var r=this._getColumns();var s=0;var o=this._getColumns();while(r>=2){var n=i%r;if(n==0){o=r;break}else{var h=n/r;if(h>s){s=h;o=r}}r--}this._setColumns(o)}var g;var l=this.getAggregation("month");if(this._getColumns()>1){g=100/this._getColumns()+"%";this.$("content").removeClass("sapUiCalContentSingle")}else{g="100%";this.$("content").addClass("sapUiCalContentSingle")}for(var d=0;d<l.length;d++){var u=l[d];u.setWidth(g)}this.invalidate()}this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()}function w(e){var t=new d(e,this._getPrimaryCalendarType());t.setDate(1);var a=F.call(this);if(a<=12){var i=e.getMonth();if(12%a>0&&i+a>11){i=12-a}t.setMonth(i)}return t}function H(){var e,t,a;if(!this._bNamesLengthChecked){e=this._getMonthPicker();this._bLongMonth=e._bLongMonth;this._bNamesLengthChecked=true;this.setProperty("_currentPicker",Y.MONTH);if(!this._bLongMonth){t=this.getAggregation("month");if(t.length>1){a=d.fromLocalJSDate(t[0].getDate(),this._getPrimaryCalendarType())}else{a=this._getFocusedDate()}this._setHeaderText(a);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()}}}function x(e,t){var a,i=this._getPrimaryCalendarType(),s;if(!e){return}a=d.fromLocalJSDate(e,i);s=a.getYear();r._checkYearInValidRange(s,i);if(r._isOutside(a,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this)}this._setFocusedDate(a);if(this.getDomRef()&&this._iMode==0){this._renderMonth(t,true)}}function F(){if(p.system.phone){return 1}else{return this.getMonths()}}function B(e){this.fireEvent("_renderMonth",{days:e.getParameter("days")})}function R(e){this._oSelectedMonth=e.oSource;this.fireSelect()}function L(e){var t,a,i;if(F.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._bindMousemove()}}}}function N(e){var t,a,i;if(F.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._unbindMousemove()}}}}function I(e){var t=e.getParameter("offset");if(t>0){this._handleNext(e)}if(t<0){this._handlePrevious(e)}}function E(){this._updateHeadersYearPrimaryText(this._getYearString())}return k});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarAppointment", ["./DateTypeRange","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","./calendar/CalendarUtils","./library","sap/base/Log","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(t,e,a,i,n,r,o,u,g,s){"use strict";var p=t.extend("sap.ui.unified.CalendarAppointment",{metadata:{library:"sap.ui.unified",properties:{title:{type:"string",group:"Data"},text:{type:"string",group:"Data"},description:{type:"string",group:"Data"},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},tentative:{type:"boolean",group:"Data",defaultValue:false},selected:{type:"boolean",group:"Data",defaultValue:false},key:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}},aggregations:{customContent:{type:"sap.ui.core.Control",multiple:true}}}});p.prototype.init=function(){this._sAppointmentPartSuffix=null};p.prototype.applyFocusInfo=function(t){var e=this.getParent();if(e){e.applyFocusInfo(t)}return this};p.prototype._getDateRangeIntersectionText=function(t){var i=this.getStartDate(),n=this.getEndDate()?this.getEndDate():s.getInstance(864e12),r,o,u=s.getInstance(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),p=s.getInstance(u.getFullYear(),u.getMonth(),u.getDate()+1),l=e.getTimeInstance({pattern:"HH:mm"}),m=sap.ui.getCore().getLibraryResourceBundle("sap.m"),f=a.getUnitInstance({allowedUnits:["duration-hour"]},g.getFormatSettings().getFormatLocale()),c=a.getUnitInstance({allowedUnits:["duration-minute"]},g.getFormatSettings().getFormatLocale()),d,T,y,D;if(i.getTime()>p.getTime()||n.getTime()<u.getTime()){r=""}else if(i.getTime()<=u.getTime()&&n.getTime()>=p.getTime()){r=m.getText("PLANNINGCALENDAR_ALLDAY")}else if(i.getTime()<u.getTime()){r=m.getText("PLANNINGCALENDAR_UNTIL");o=l.format(n)}else if(n.getTime()>p.getTime()){r=m.getText("PLANNINGCALENDAR_FROM");o=l.format(i)}else{r=l.format(i);if(n.getTime()-i.getTime()<36e5){T=(n.getTime()-i.getTime())/6e4;o=c.format(T,"duration-minute")}else if((n.getTime()-i.getTime())%36e5===0){d=(n.getTime()-i.getTime())/36e5;o=f.format(d,"duration-hour")}else{d=Math.floor((n.getTime()-i.getTime())/36e5);y=f.format(d,"duration-hour");T=(n.getTime()-i.getTime())/6e4%60;D=c.format(T,"duration-minute");o=m.getText("PLANNINGCALENDAR_APP_DURATION",[y,D])}}return{start:r,end:o}};p._getComparer=function(t){var e=24*60*60*1e3,a=s.getInstance(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0).getTime(),i=a+e;return function(t,e){var n=t.appointment.getStartDate().getTime(),r=e.appointment.getStartDate().getTime(),o=t.appointment.getEndDate()?t.appointment.getEndDate().getTime():864e12,u=e.appointment.getEndDate()?e.appointment.getEndDate().getTime():864e12,g=n<=a&&o>=i,s=r<=a&&u>=i,p;if(g&&s||!g&&!s){p=n-r;if(p===0){p=u-o}}else if(g){p=-1}else{p=1}return p}};p.prototype.setColor=function(t){if(t&&!t.match(/^#[0-9a-f]{6}$/i)){u.warning("setColor accepts only full hex color value with pound symbol, but value is '"+t+"'")}return this.setProperty("color",t)};p.prototype._getCSSColorForBackground=function(t){return"rgba("+[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)].join(",")+", 0.2)"};p.prototype._setAppointmentPartSuffix=function(t){this._sAppointmentPartSuffix=t;return this};p.prototype.getDomRef=function(t){if(document.getElementById(this.getId())){return document.getElementById(t?this.getId()+"-"+t:this.getId())}else if(this._sAppointmentPartSuffix){return document.getElementById(t?this.getId()+"-"+this._sAppointmentPartSuffix+"-"+t:this.getId()+"-"+this._sAppointmentPartSuffix)}var e=document.querySelectorAll(".sapUiCalendarRowApps[id^='"+this.getId()+"']");return e.length>0?e[0]:null};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegend", ["sap/ui/core/Control","./library","./CalendarLegendRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarLegendItem","sap/ui/core/Core","sap/ui/Device","sap/ui/core/delegate/ItemNavigation"],function(e,t,i,a,jQuery,n,r,s,o){"use strict";var d=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var p=t.CalendarDayType;var g=t.StandardCalendarLegendItem;var u=e.extend("sap.ui.unified.CalendarLegend",{metadata:{library:"sap.ui.unified",properties:{standardItems:{type:"string[]",group:"Misc",defaultValue:["Today","Selected","WorkingDay","NonWorkingDay"]},columnWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"120px"}},aggregations:{items:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,singularName:"item"},_standardItems:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,visibility:"hidden"}},designtime:"sap/ui/unified/designtime/CalendarLegend.designtime"},constructor:function(t,i){e.prototype.constructor.apply(this,arguments);if(typeof t!=="string"){i=t}if(!i||i&&!i.standardItems){this._addStandardItems(this.getStandardItems())}this._bShouldRenderStandardItems=true;this._oItemNavigation=null},renderer:i});u.prototype.onAfterRendering=function(){if(!s.system.phone&&this._oParentControl){this._initItemNavigation()}};u.prototype.setStandardItems=function(e){var t;if(e&&e.length===1&&e[0]===""){e=[]}if(e&&e.length){e=this.validateProperty("standardItems",e);for(t=0;t<e.length;t++){if(!g[e[t]]){throw new Error("Invalid value '"+e[t]+"'. Property standardItems must contain values from sap.ui.unified.StandardCalendarLegendItem.")}}}this.setProperty("standardItems",e);this._addStandardItems(this.getStandardItems(),true);return this};u.prototype._initItemNavigation=function(){var e=this.getAggregation("_standardItems")||[],t=this.getItems()||[],i,a=[],n,r;i=e.concat(t);if(!i.length){return}r=i[0].getDomRef().parentElement;i.forEach(function(e,t){n=e.getFocusDomRef();n.setAttribute("tabindex","-1");a.push(n)});if(!this._oItemNavigation){this._oItemNavigation=(new o).setCycling(false).attachEvent(o.Events.AfterFocus,this._onItemNavigationAfterFocus,this).attachEvent(o.Events.FocusLeave,this._onItemNavigationFocusLeave,this).setDisabledModifiers({sapnext:["alt","meta","ctrl"],sapprevious:["alt","meta","ctrl"],saphome:["alt","meta","ctrl"],sapend:["meta","ctrl"]});this.addDelegate(this._oItemNavigation)}this._oItemNavigation.setRootDomRef(r).setItemDomRefs(a).setPageSize(i.length).setFocusedIndex(0)};u.prototype._onItemNavigationAfterFocus=function(e){var t=e.getSource(),i=t.getItemDomRefs()[t.getFocusedIndex()],a=r.byId(i.id).getType(),n=this._getParent();this._setSpecialDateTypeFilter(a);n&&n.invalidate()};u.prototype._onItemNavigationFocusLeave=function(e){var t=this._getParent();this._setSpecialDateTypeFilter();t&&t.invalidate()};u.prototype._setSpecialDateTypeFilter=function(e){this._sSpecialDateTypeFilter=e||""};u.prototype._getSpecialDateTypeFilter=function(){return this._sSpecialDateTypeFilter||""};u.prototype._setParent=function(e){this._oParentControl=e};u.prototype._getParent=function(){return this._oParentControl};u.prototype._getLegendAriaLabel=function(){return d.getText("LEGEND_ARIA_LABEL")};u.prototype._addStandardItems=function(e,t){var i,a=this.getId();if(t){this.destroyAggregation("_standardItems")}for(i=0;i<e.length;i++){var r=new n(a+"-"+e[i],{text:d.getText(u._Standard_Items_TextKeys[e[i]])});this.addAggregation("_standardItems",r)}};u._Standard_Items_TextKeys={Today:"LEGEND_TODAY",Selected:"LEGEND_SELECTED",WorkingDay:"LEGEND_NORMAL_DAY",NonWorkingDay:"LEGEND_NON_WORKING_DAY"};u.prototype._getItemType=function(e,t){var i=e.getType(),n,r;if(i&&i!==p.None){return i}r=this._getUnusedItemTypes(t);n=t.filter(function(e){return!e.getType()||e.getType()===p.None}).indexOf(e);if(n<0){a.error("Legend item is not in the legend",this);return i}if(r[n]){i=r[n]}else{i="Type"+(Object.keys(p).length+n-r.length-1)}return i};u.prototype._getItemByType=function(e){var t,i=this.getItems(),a;for(a=0;a<i.length;a++){if(this._getItemType(i[a],i)===e){t=i[a];break}}return t};u.prototype._getUnusedItemTypes=function(e){var t=jQuery.extend({},p),i,a;delete t[p.None];delete t[p.NonWorking];for(a=0;a<e.length;a++){i=e[a].getType();if(t[i]){delete t[i]}}return Object.keys(t)};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendItem", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=a.CalendarDayType;var u=e.extend("sap.ui.unified.CalendarLegendItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:r.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return u});
/*
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendRenderer", ["sap/ui/core/InvisibleText"],function(e){"use strict";var t={apiVersion:2};t.render=function(e,t){var i=t.getAggregation("_standardItems"),n=t.getItems(),r=this.defineItemsLength(t,n.length),d=(i?i.length:0)+(n?n.length:0),s,a,o,l=1;e.openStart("div",t);e.class("sapUiUnifiedLegend");e.attr("aria-label",t._getLegendAriaLabel());e.attr("role","list");e.openEnd();this.renderItemsHeader(e,t);if(i||n){e.openStart("div");e.class("sapUiUnifiedLegendItems");o=t.getColumnWidth();e.style("column-width",o);e.style("-moz-column-width",o);e.style("-webkit-column-width",o);e.openEnd();if(i){a=t.getId().length+1;for(s=0;s<i.length;++s){var g="sapUiUnifiedLegend"+i[s].getId().slice(a);this.renderLegendItem(e,g,i[s],["sapUiUnifiedLegendSquareColor"],l++,d)}}if(n){for(s=0;s<r;s++){this.renderLegendItem(e,"sapUiCalLegDayType"+t._getItemType(n[s],n).slice(4),n[s],["sapUiUnifiedLegendSquareColor"],l++,d)}}this.renderAdditionalItems(e,t);e.close("div")}this.renderAdditionalContent(e,t);e.close("div")};t.renderLegendItem=function(e,t,i,n,r,d){var s=i.getText();var a=i.getTooltip_AsString();e.openStart("div",i);if(a){e.attr("title",a)}e.attr("role","listitem");e.attr("aria-posinset",r);e.attr("aria-setsize",d);e.class("sapUiUnifiedLegendItem");e.class(t);e.openEnd();e.openStart("div");e.class("sapUiUnifiedLegendSquare");e.openEnd();this.renderColor(e,i.getColor(),n);e.close("div");e.openStart("div",i.getId()+"-Text");e.class("sapUiUnifiedLegendDescription");e.openEnd();e.text(s);e.close("div");e.close("div")};t.renderItemsHeader=function(e,t){};t.renderAdditionalContent=function(e,t){};t.defineItemsLength=function(e,t){return t};t.renderAdditionalItems=function(e,t){};t.renderColor=function(e,t,i){e.openStart("div");for(var n=0;n<i.length;n++){e.class(i[n])}if(t){e.style("background-color",t)}e.openEnd();e.close("div")};t.addCalendarTypeAccInfo=function(e,i,n){var r,d;if(n){var s=n._getItemByType(i);if(s){r=s.getText()}}if(r){e["label"]=e["label"]?e["label"]+"; "+r:r}else{d=t.getTypeAriaText(i);if(d){e["describedby"]=e["describedby"]?e["describedby"]+" "+d.getId():d.getId()}}};t.typeARIATexts={};t.getTypeAriaText=function(i){var n,r;if(i.indexOf("Type")!==0){return}if(!t.typeARIATexts[i]){n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");r=n.getText("LEGEND_UNNAMED_TYPE",parseInt(i.slice(4)).toString());t.typeARIATexts[i]=new e({text:r});t.typeARIATexts[i].toStatic()}return t.typeARIATexts[i]};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRenderer", [],function(){"use strict";var e={apiVersion:2};var t={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};e.render=function(e,n){var r=n.getId(),a=n.getTooltip_AsString(),i=n.getAggregation("month"),o=n.getProperty("_currentPicker"),s=n.getWidth(),l=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),c={labelledby:{value:"",append:false}};e.openStart("div",n);e.class("sapUiCal");if(i.length>1){e.class("sapUiCalMulti")}e.accessibilityState(n,c);if(a){e.attr("title",a)}if(s){e.class("sapUiCalWidth");e.style("width",s)}if(n._getSecondaryCalendarType()){e.class("sapUiCalSecType")}if(this.addAttributes){this.addAttributes(e,n)}e.openEnd();var d=n.getAggregation("header");e.renderControl(d);e.openStart("div",r+"-content");e.class("sapUiCalContent");e.openEnd();if(n.getMonths()>1){switch(o){case t.MONTH_PICKER:case t.YEAR_PICKER:case t.YEAR_RANGE_PICKER:this.renderMonths(e,n,i);this.renderCalContentOverlay(e,n,r);break}}switch(o){case t.MONTH:this.renderMonths(e,n,i);break;case t.MONTH_PICKER:e.renderControl(n._getMonthPicker());break;case t.YEAR_PICKER:e.renderControl(n._getYearPicker());break;case t.YEAR_RANGE_PICKER:e.renderControl(n._getYearRangePicker());break}e.close("div");if(!n._bSkipCancelButtonRendering){e.openStart("button",r+"-cancel");e.class("sapUiCalCancel");e.attr("tabindex","-1");e.openEnd();e.text(l.getText("CALENDAR_CANCEL"));e.close("button")}this.renderCalContentAndArrowsOverlay(e,n,r);e.close("div")};e.renderMonths=function(e,t,n){n.forEach(function(r,a){e.renderControl(r);if(n.length===2&&a===0){e.renderControl(t.getAggregation("secondMonthHeader"))}})};e.renderCalContentOverlay=function(e,t,n){e.openStart("div",n+"-contentOver");e.class("sapUiCalContentOver");e.openEnd();e.close("div")};e.renderCalContentAndArrowsOverlay=function(e,t,n){};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRow", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","sap/ui/core/date/UniversalDate","./library","sap/ui/core/InvisibleText","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","./CalendarRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarAppointment","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(e,t,i,a,n,s,r,o,p,l,u,g,h,d,jQuery,c,f,m,v,T){"use strict";var C=o.CalendarDayType;var A=o.CalendarAppointmentVisualization;var _=o.GroupAppointmentsMode;var U=o.CalendarIntervalType;var y=o.CalendarAppointmentHeight;var D=o.CalendarAppointmentRoundWidth;var b=m.InvisibleMessageMode;var S=e.extend("sap.ui.unified.CalendarRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},intervals:{type:"int",group:"Appearance",defaultValue:12},intervalSize:{type:"int",group:"Appearance",defaultValue:1},intervalType:{type:"sap.ui.unified.CalendarIntervalType",group:"Appearance",defaultValue:U.Hour},showSubIntervals:{type:"boolean",group:"Appearance",defaultValue:false},showIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},showEmptyIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},nonWorkingDays:{type:"int[]",group:"Misc",defaultValue:null},nonWorkingHours:{type:"int[]",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},checkResize:{type:"boolean",group:"Behavior",defaultValue:true},updateCurrentTime:{type:"boolean",group:"Behavior",defaultValue:true},groupAppointmentsMode:{type:"sap.ui.unified.GroupAppointmentsMode",group:"Appearance",defaultValue:_.Collapsed},appointmentsReducedHeight:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},appointmentsVisualization:{type:"sap.ui.unified.CalendarAppointmentVisualization",group:"Appearance",defaultValue:A.Standard},appointmentHeight:{type:"sap.ui.unified.CalendarAppointmentHeight",group:"Appearance",defaultValue:y.Regular},appointmentRoundWidth:{type:"sap.ui.unified.CalendarAppointmentRoundWidth",group:"Appearance",defaultValue:D.None},multipleAppointmentsSelection:{type:"boolean",group:"Data",defaultValue:false}},aggregations:{appointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"appointment"},intervalHeaders:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"intervalHeader"},groupAppointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"groupAppointment",visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{parameters:{appointment:{type:"sap.ui.unified.CalendarAppointment"},appointments:{type:"sap.ui.unified.CalendarAppointment[]"},multiSelect:{type:"boolean"},domRefId:{type:"string"}}},startDateChange:{},leaveRow:{parameters:{type:{type:"string"}}},intervalSelect:{parameters:{startDate:{type:"object"},endDate:{type:"object"},subInterval:{type:"boolean"}}}}},renderer:h});S.prototype.init=function(){this._bRTL=v.getRTL();this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");this._oFormatAria=l.getDateTimeInstance({pattern:"EEEE dd/MM/YYYY 'at' "+w.call(this).getTimePattern("medium")});this._aVisibleAppointments=[];this._aVisibleIntervalHeaders=[];this.setStartDate(T.getInstance());this._resizeProxy=jQuery.proxy(this.handleResize,this);this.aSelectedAppointments=[];this._fnCustomSortedAppointments=undefined};S.prototype.exit=function(){if(this._sResizeListener){u.deregister(this._sResizeListener);this._sResizeListener=undefined}if(this._sUpdateCurrentTime){clearTimeout(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined}this._fnCustomSortedAppointments=undefined};S.prototype.onBeforeRendering=function(){this._aVisibleAppointments=[];H.call(this);E.call(this);F.call(this);if(this._sUpdateCurrentTime){clearTimeout(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined}if(!this.getAppointments().length){this.aSelectedAppointments=[]}else{this.getAppointments().forEach(function(e){this._updateSelectedAppointmentsArray(e)}.bind(this))}this._oInvisibleMessage=f.getInstance()};S.prototype.onAfterRendering=function(){P.call(this);this.updateCurrentTimeVisualization();if(this.getCheckResize()&&!this._sResizeListener){this._sResizeListener=u.register(this,this._resizeProxy)}};S.prototype.onThemeChanged=function(e){if(this.getDomRef()){for(var t=0;t<this._aVisibleAppointments.length;t++){var i=this._aVisibleAppointments[t];i.level=-1}this.handleResize(e)}};S.prototype.invalidate=function(t){if(t&&t instanceof c){var i=false;for(var a=0;a<this._aVisibleAppointments.length;a++){if(this._aVisibleAppointments[a].appointment==t){i=true;break}}if(i){this._aVisibleAppointments=[]}this._updateSelectedAppointmentsArray(t)}e.prototype.invalidate.apply(this,arguments)};S.prototype.setStartDate=function(e){if(!e){e=T.getInstance()}a._checkJSDateObject(e);var t=e.getFullYear();a._checkYearInValidRange(t);this._oUTCStartDate=a._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);return this};S.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=a._createUniversalUTCDate(this.getStartDate(),undefined,true)}return this._oUTCStartDate};S.prototype.setIntervalType=function(e){this.setProperty("intervalType",e);this._aVisibleAppointments=[];return this};S.prototype._getAppointmentReducedHeight=function(e){var i=!t.system.phone&&this.getAppointmentsReducedHeight()&&e.size===y.Regular;return i};S.prototype.onfocusin=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){Y.call(this,e.target.id)}else{var t=this._getVisibleAppointments();var i=false;var a;for(var n=0;n<t.length;n++){a=t[n].appointment;if(d(a.getDomRef(),e.target)){i=true;a.focus();break}}if(!i){a=this.getFocusedAppointment();if(a){a.focus()}}}};S.prototype.applyFocusInfo=function(e){if(this._sFocusedAppointmentId){this.getFocusedAppointment().focus()}return this};S.prototype.onsapleft=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){x.call(this,this._bRTL,1)}e.preventDefault();e.stopPropagation()};S.prototype.onsapright=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){x.call(this,!this._bRTL,1)}e.preventDefault();e.stopPropagation()};S.prototype.onsapup=function(e){this.fireLeaveRow({type:e.type})};S.prototype.onsapdown=function(e){this.fireLeaveRow({type:e.type})};S.prototype.onsaphome=function(e){B.call(this,e);e.preventDefault();e.stopPropagation()};S.prototype.onsapend=function(e){B.call(this,e);e.preventDefault();e.stopPropagation()};S.prototype.onsapselect=function(e){var t=this._getVisibleAppointments(),i,a;for(var n=0;n<t.length;n++){i=t[n].appointment;if(d(i.getDomRef(),e.target)){var s=!(this.getMultipleAppointmentsSelection()||e.ctrlKey||e.metaKey);O.call(this,i,s);break}}a=i.getSelected()?"APPOINTMENT_SELECTED":"APPOINTMENT_UNSELECTED";this._oInvisibleMessage.announce(this._oRb.getText(a),b.Polite);e.stopPropagation();e.preventDefault()};S.prototype.ontap=function(e){var t=this.$("Apps").children(".sapUiCalendarRowAppsInt");var i=0;var a=false;for(i=0;i<t.length;i++){var n=t[i];if(!this._isOneMonthsRowOnSmallSizes()&&d(n,e.target)){a=true;break}}if(a){j.call(this,i,e.target)}else{this.onsapselect(e)}};S.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};S.prototype.handleResize=function(e){if(e&&e.size&&e.size.width<=0){return this}var t=this.$("DummyApp");t.css("display","");P.call(this);return this};S.prototype.updateCurrentTimeVisualization=function(){var e=this.$("Now");var t=a._createUniversalUTCDate(T.getInstance(),undefined,true);var i=this.getIntervals();var n=this.getIntervalType();var s=this._getStartDate();var r=s.getTime();var o=this._oUTCEndDate;var p=o.getTime();this._sUpdateCurrentTime=undefined;if(t.getTime()<=p&&t.getTime()>=r){var l=L.call(this,n,i,s,o,r,t);var u=0;if(this._bRTL){e.css("right",l+"%")}else{e.css("left",l+"%")}e.css("display","");if(this.getUpdateCurrentTime()){switch(n){case U.Hour:u=6e4;break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":u=18e5;break;default:u=-1;break}if(u>0){this._sUpdateCurrentTime=setTimeout(this.updateCurrentTimeVisualization.bind(this),u)}}}else{e.css("display","none")}return this};S.prototype.getFocusedAppointment=function(){var e=this._getAppointmentsSorted();var t=this.getAggregation("groupAppointments",[]);var i;var a=0;for(a=0;a<t.length;a++){if(t[a].getId()==this._sFocusedAppointmentId){i=t[a];break}}if(!i){for(a=0;a<e.length;a++){if(e[a].getId()==this._sFocusedAppointmentId){i=e[a];break}}}return i};S.prototype.focusAppointment=function(e){if(!e||!(e instanceof c)){throw new Error("Appointment must be a CalendarAppointment; "+this)}var t=e.getId();if(this._sFocusedAppointmentId!=t){Y.call(this,t)}else{e.focus()}return this};S.prototype.focusNearestAppointment=function(e){a._checkJSDateObject(e);var t=this._getAppointmentsSorted();var i;var n;var s;for(var r=0;r<t.length;r++){i=t[r];if(i.getStartDate()>e){if(r>0){n=t[r-1]}else{n=i}break}}if(i){if(n&&Math.abs(i.getStartDate()-e)>=Math.abs(n.getStartDate()-e)){s=n}else{s=i}this.focusAppointment(s)}return this};S.prototype._getVisibleAppointments=function(){return this._aVisibleAppointments};S.prototype._getVisibleIntervalHeaders=function(){return this._aVisibleIntervalHeaders};S.prototype._getNonWorkingDays=function(){if(this.getIntervalSize()!==1){return[]}var e=this.getNonWorkingDays();if(!e){var t=w.call(this);var i=t.getWeekendStart();var a=t.getWeekendEnd();e=[];for(var n=0;n<=6;n++){if(i<=a&&n>=i&&n<=a||i>a&&(n>=i||n<=a)){e.push(n)}}}else if(!Array.isArray(e)){e=[]}return e};S.prototype._isOneMonthsRowOnSmallSizes=function(){return(this.getIntervalType()===U.OneMonth||this.getIntervalType()==="OneMonth")&&this.getIntervals()===1};S.prototype._getAppointmentsSorted=function(){var e=this.getAppointments(),t=G;e.sort(this._fnCustomSortedAppointments?this._fnCustomSortedAppointments:t);return e};S.prototype._setCustomAppointmentsSorterCallback=function(e){this._fnCustomSortedAppointments=e;this.invalidate()};S.prototype._calculateAppoitnmentVisualCue=function(e){if(M(this,e)){return{appTimeUnitsDifRowStart:0,appTimeUnitsDifRowEnd:0}}var t=e.getStartDate(),i=e.getEndDate(),a=new r(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),n=new r(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes()),s=this.getIntervalType(),o=this.getStartDate(),p=s==="Hour"?new r(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours()):new r(o.getFullYear(),o.getMonth(),o.getDate()),l=this.getIntervals(),u;switch(s){case"Hour":u=new r(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours()+l);break;case"Day":case"Week":case"One Month":u=new r(o.getFullYear(),o.getMonth(),o.getDate()+l);break;case"Month":u=new r(o.getFullYear(),o.getMonth()+l,o.getDate());break;default:break}return{appTimeUnitsDifRowStart:p.getTime()-a.getTime(),appTimeUnitsDifRowEnd:n.getTime()-u.getTime()}};S.prototype._updateSelectedAppointmentsArray=function(e){if(e.getSelected()){if(this.aSelectedAppointments.indexOf(e.getId())===-1){this.aSelectedAppointments.push(e.getId())}}else{this.aSelectedAppointments=this.aSelectedAppointments.filter(function(t){return t!==e.getId()})}};function M(e,t){var i=e.getAggregation("groupAppointments",[]);var a;for(a=0;a<i.length;++a){if(t===i[a]){return true}}return false}function I(){if(!this._sLocale){this._sLocale=v.getFormatSettings().getFormatLocale().toString()}return this._sLocale}function w(){if(!this._oLocaleData){var e=I.call(this);var t=new g(e);this._oLocaleData=i.getInstance(t)}return this._oLocaleData}function H(){var e=this.getStartDate();var t;var i=this.getIntervals();var a=this.getIntervalType();this._oUTCStartDate=k.call(this,e);switch(a){case U.Hour:t=new r(this._oUTCStartDate.getTime());t.setUTCHours(t.getUTCHours()+i);break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":t=new r(this._oUTCStartDate.getTime());t.setUTCDate(t.getUTCDate()+i*this.getIntervalSize());break;case U.Month:t=new r(this._oUTCStartDate.getTime());t.setUTCMonth(t.getUTCMonth()+i);break;default:throw new Error("Unknown IntervalType: "+a+"; "+this)}t.setUTCMilliseconds(-1);this._iRowSize=t.getTime()-this._oUTCStartDate.getTime();this._iIntervalSize=Math.floor(this._iRowSize/i);this._oUTCEndDate=t}function k(e){var t=this.getIntervalType();var i=a._createUniversalUTCDate(e,undefined,true);switch(t){case U.Hour:i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":i.setUTCHours(0);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;case U.Month:i.setUTCDate(1);i.setUTCHours(0);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;default:throw new Error("Unknown IntervalType: "+t+"; "+this)}return i}function R(){return t.system.phone||this.getGroupAppointmentsMode()===_.Collapsed}function E(){var e=this._getAppointmentsSorted();var t;var i;var n;var s=this.getIntervals();var o=this.getIntervalType();var p=this._getStartDate();var l=p.getTime();var u=this._oUTCEndDate;var g=u.getTime();var h=[];var d=false;var c=0;var f=0;var m=R.call(this);var v=this._needAppointmentHorizontalFit();this.destroyAggregation("groupAppointments",true);for(c=0;c<e.length;c++){t=e[c];var C=a._createUniversalUTCDate(t.getStartDate(),undefined,true);var A=C.getTime();C.setUTCSeconds(0);C.setUTCMilliseconds(0);var _=t.getEndDate()?a._createUniversalUTCDate(t.getEndDate(),undefined,true):a._createUniversalUTCDate(T.getInstance(864e12),undefined,true);var y=_.getTime();_.setUTCSeconds(0);_.setUTCMilliseconds(0);var D=false;if(C.getTime()<l&&_.getTime()>=l){C=new r(l);D=true}if(_.getTime()>g&&C.getTime()<=g){_=new r(g);D=true}var b=(_.getTime()-C.getTime())/6e4;if(D&&b==0){continue}var S=0;var M=0;var I=-1;i=undefined;n=undefined;if(C&&C.getTime()<=g&&_&&_.getTime()>=l&&A<=y){if(m&&o==U.Month&&_.getTime()-C.getTime()<6048e5){i=V.call(this,C,t,o,s,p,u,l,h);var w=a._createUniversalUTCDate(i.getEndDate(),undefined,true);if(_.getTime()>w.getTime()){n=V.call(this,_,t,o,s,p,u,l,h)}}if(v){this._setHorizontalRoundingWidth(t,C,_)}S=L.call(this,o,s,p,u,l,C);M=z.call(this,o,s,p,u,l,_);if(i){i._iBegin=S;i._iEnd=M;i._iLevel=I;if(n){n._iBegin=S;n._iEnd=M;n._iLevel=I}continue}h.push({appointment:t,begin:S,end:M,calculatedEnd:M,level:I,size:this.getProperty("appointmentHeight")});if(this._sFocusedAppointmentId&&this._sFocusedAppointmentId==t.getId()){d=true}}}var H=this.getAggregation("groupAppointments",[]);if(H.length>0){for(c=0;c<h.length;c++){t=h[c];if(t.appointment._aAppointments&&t.appointment._aAppointments.length<=1){i=t.appointment;var k=false;if(i._aAppointments.length==0){k=true}else{for(f=0;f<h.length;f++){if(h[f].appointment==i._aAppointments[0]){k=true;break}}}if(!k){for(f=0;f<H.length;f++){n=H[f];if(i!=n){for(var E=0;E<n._aAppointments.length;E++){if(i._aAppointments[0]==n._aAppointments[E]){n._aAppointments.splice(E,1);if(n._aAppointments.length==1){this.removeAggregation("groupAppointments",n);n.destroy();H=this.getAggregation("groupAppointments",[])}else{n.setProperty("title",n._aAppointments.length,true)}break}}}}t.begin=i._iBegin;t.end=i._iEnd;t.calculatedEnd=i._iEnd;t.level=i._iLevel;t.appointment=i._aAppointments[0]}else{h.splice(c,1);c--}this.removeAggregation("groupAppointments",i);i.destroy();H=this.getAggregation("groupAppointments",[])}}}if(!d){if(h.length>0){this._sFocusedAppointmentId=h[0].appointment.getId()}else{this._sFocusedAppointmentId=undefined}}this._aVisibleAppointments=h;return this._aVisibleAppointments}function V(e,t,i,n,s,o,p,l){var u=this.getAggregation("groupAppointments",[]);var g;var h=w.call(this);var d=h.getFirstDayOfWeek();var f=e.getUTCDay();var m=new r(e.getTime());m.setUTCHours(0);m.setUTCMinutes(0);m.setUTCSeconds(0);m.setUTCMilliseconds(0);if(d<=f){m.setDate(m.getDate()-(f-d))}else{m.setDate(m.getDate()-(7-f-d))}for(var v=0;v<u.length;v++){g=u[v];var A=a._createUniversalUTCDate(g.getStartDate(),undefined,true);if(A.getTime()==m.getTime()){break}g=undefined}if(!g){var _=new r(m.getTime());_.setDate(_.getDate()+7);_.setMilliseconds(-1);g=new c(this.getId()+"-Group"+u.length,{type:t.getType(),startDate:a._createLocalDate(T.getInstance(m.getTime()),true),endDate:a._createLocalDate(T.getInstance(_.getTime()),true)});g._aAppointments=[];this.addAggregation("groupAppointments",g,true);var U=L.call(this,i,n,s,o,p,m);var y=z.call(this,i,n,s,o,p,_);l.push({appointment:g,begin:U,end:y,calculatedEnd:y,level:-1,size:this.getProperty("appointmentHeight")})}g._aAppointments.push(t);if(g.getType()!=C.None&&g.getType()!=t.getType()){g.setType(C.None)}g.setProperty("title",g._aAppointments.length,true);return g}function L(e,t,i,a,n,s){var o=0;if(e!=U.Month){o=100*(s.getTime()-n)/this._iRowSize}else{var p=new r(s.getTime());p.setUTCDate(1);p.setUTCHours(0);p.setUTCMinutes(0);p.setUTCSeconds(0);p.setUTCMilliseconds(0);var l=new r(p.getTime());l.setUTCMonth(l.getUTCMonth()+1);l.setMilliseconds(-1);var u=l.getTime()-p.getTime();var g=(p.getUTCFullYear()-i.getUTCFullYear())*12+p.getUTCMonth()-i.getUTCMonth();o=100*g/t+100*(s.getTime()-p.getTime())/u/t}if(o<0){o=0}o=Math.round(o*1e5)/1e5;return o}function z(e,t,i,a,n,s){var o=0;if(e!=U.Month){o=100-100*(s.getTime()-n)/this._iRowSize}else{var p=new r(s.getTime());p.setUTCDate(1);p.setUTCHours(0);p.setUTCMinutes(0);p.setUTCSeconds(0);p.setUTCMilliseconds(0);var l=new r(p.getTime());l.setUTCMonth(l.getUTCMonth()+1);l.setMilliseconds(-1);var u=l.getTime()-p.getTime();var g=(p.getUTCFullYear()-i.getUTCFullYear())*12+p.getUTCMonth()-i.getUTCMonth();o=100-(100*g/t+100*(s.getTime()-p.getTime())/u/t)}if(o<0){o=0}o=Math.round(o*1e5)/1e5;return o}function F(){var e=[];if(this.getShowIntervalHeaders()){var t=this.getIntervalHeaders();var i;var n=this.getIntervals();var s=this.getIntervalType();var o=this._getStartDate();var p=o.getTime();var l=this._oUTCEndDate;var u=l.getTime();var g=0;var h=0;for(g=0;g<t.length;g++){i=t[g];var d=a._createUniversalUTCDate(i.getStartDate(),undefined,true);d.setUTCSeconds(0);d.setUTCMilliseconds(0);var c=i.getEndDate()?a._createUniversalUTCDate(i.getEndDate(),undefined,true):a._createUniversalUTCDate(T.getInstance(864e12),undefined,true);c.setUTCSeconds(0);c.setUTCMilliseconds(0);if(d&&d.getTime()<=u&&c&&c.getTime()>=p){var f=new r(o.getTime());var m=new r(o.getTime());m.setUTCMinutes(m.getUTCMinutes()-1);var v=-1;var C=-1;for(h=0;h<n;h++){switch(s){case U.Hour:m.setUTCHours(m.getUTCHours()+1);if(h>0){f.setUTCHours(f.getUTCHours()+1)}break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":m.setUTCDate(m.getUTCDate()+1);if(h>0){f.setUTCDate(f.getUTCDate()+1)}break;case U.Month:m.setUTCDate(1);m.setUTCMonth(m.getUTCMonth()+2);m.setUTCDate(0);if(h>0){f.setUTCMonth(f.getUTCMonth()+1)}break;default:throw new Error("Unknown IntervalType: "+s+"; "+this)}if(d&&d.getTime()<=f.getTime()&&c&&c.getTime()>=m.getTime()){if(v<0){v=h}C=h}}if(v>=0){e.push({interval:v,appointment:i,last:C})}}}}this._aVisibleIntervalHeaders=e;return this._aVisibleIntervalHeaders}function P(){if(this._isOneMonthsRowOnSmallSizes()){return}var e=this.$("Apps");var t=e.innerWidth();if(t<=0){return}var i=this.$("DummyApp");var a=i.outerHeight(true);if(a<=0){return}var n=4;var s=i.outerWidth();var r=s/t*100;var o=Math.ceil(1e3*r)/1e3;var p;var l;var u=0;var g=0;var h=0;var d=false;var c;var f=this._needAppointmentHorizontalFit();if(this.getShowIntervalHeaders()&&(this.getShowEmptyIntervalHeaders()||this._getVisibleIntervalHeaders().length>0)){u=jQuery(this.$("AppsInt0").children(".sapUiCalendarRowAppsIntHead")[0]).outerHeight(true);d=true}for(h=0;h<this._aVisibleAppointments.length;h++){p=this._aVisibleAppointments[h];l=p.appointment.$();var m=Math.floor(1e3*(100-p.calculatedEnd-p.begin))/1e3;var v=false;if(m<o){p.end=100-p.begin-r;if(p.end<0){p.end=0}v=true;l.addClass("sapUiCalendarAppSmall")}else if(l.hasClass("sapUiCalendarAppSmall")){p.end=p.calculatedEnd;v=true;l.removeClass("sapUiCalendarAppSmall")}if(v){p.level=-1}if(v&&!f){if(this._bRTL){l.css("left",p.end+"%")}else{l.css("right",p.end+"%")}}if(f){p.end=p.calculatedEnd}}for(h=0;h<this._aVisibleAppointments.length;h++){p=this._aVisibleAppointments[h];l=p.appointment.$();var T={};if(p.level<0){for(var C=0;C<this._aVisibleAppointments.length;C++){var A=this._aVisibleAppointments[C];if(p!=A&&p.begin<Math.floor(1e3*(100-A.end))/1e3&&Math.floor(1e3*(100-p.end))/1e3>A.begin&&A.level>=0){this._setBlockedLevelsForAppointment(A,T)}}p.level=this._getAppointmetLevel(T,p);l.attr("data-sap-level",p.level)}c=a*p.level+u;if(!d){c+=n}l.css("top",c+"px");var _=p.level;_+=this._getAppointmentRowCount(p)-1;if(g<_){g=_}}g++;a=a*g+u;if(!d){a+=n}if(!this.getHeight()){e.outerHeight(a)}else{var U=this.$("Apps").children(".sapUiCalendarRowAppsInt");for(h=0;h<U.length;h++){var y=jQuery(U[h]);y.outerHeight(a)}}i.css("display","none")}function O(e,t){var i=0;var a;var n;var s;var r;var o=p.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED");var l=p.getStaticId("sap.ui.unified","APPOINTMENT_UNSELECTED");var u=!e.getSelected();if(t){var g=this.getAppointments();var h=this.getAggregation("groupAppointments",[]);jQuery.merge(g,h);for(i=0;i<g.length;i++){a=g[i];if(a.getId()!==e.getId()&&a.getSelected()){a.setProperty("selected",false,true);a.$().removeClass("sapUiCalendarAppSel");for(var i=0;i<this.aSelectedAppointments.length;i++){if(this.aSelectedAppointments[i]!==a.getId()){this.aSelectedAppointments.splice(i)}}n=a.$().attr("aria-labelledby");s=n?n.replace(o,l):"";a.$().attr("aria-labelledby",s)}}}r=e.$().attr("aria-labelledby").replace(l,o).trim();s=e.$().attr("aria-labelledby").replace(o,l).trim();if(e.getSelected()){e.setProperty("selected",false,true);e.$().removeClass("sapUiCalendarAppSel");e.$().attr("aria-labelledby",s);N(this,t)}else{e.setProperty("selected",true,true);e.$().addClass("sapUiCalendarAppSel");e.$().attr("aria-labelledby",r);N(this,t)}this._updateSelectedAppointmentsArray(e);if(e._aAppointments){for(i=0;i<e._aAppointments.length;i++){a=e._aAppointments[i];a.setProperty("selected",u,true)}this.fireSelect({appointments:e._aAppointments,multiSelect:!t,domRefId:e.getId()})}else{this.fireSelect({appointment:e,multiSelect:!t,domRefId:e.getId()})}}function W(e){var t=this._getPlanningCalendar();if(t){t["_onRow"+e]()}}S.prototype._needAppointmentHorizontalFit=function(){var e=this._getPlanningCalendar(),t,i,a;if(!e||this.getAppointmentRoundWidth()===D.None){return false}t=e.getViewKey();i=e._getView(t);a=e._getIntervals(i);return a>=20};S.prototype._setHorizontalRoundingWidth=function(e,t,i){var a;switch(this.getAppointmentRoundWidth()){case D.HalfColumn:a=12;break}this._roundAppointment(e,t,i,a)};S.prototype._roundAppointment=function(e,t,i,a){var n,s;n=e.getStartDate().getHours()-e.getStartDate().getHours()%a;t.setUTCHours(n);t.setUTCMinutes(0);t.setUTCSeconds(0);t.setUTCMilliseconds(0);s=e.getEndDate().getHours()-e.getEndDate().getHours()%a+a;i.setUTCHours(s);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0)};S.prototype._setBlockedLevelsForAppointment=function(e,t){var i=this._getAppointmentRowCount(e);for(var a=0;a<i;a++){t[e.level+a]=true}return t};S.prototype._getAppointmentRowCount=function(e){var t,i=this._getAppointmentReducedHeight(e);switch(e.size){case y.HalfSize:t=1;break;case y.Regular:t=2;if(i&&!e.appointment.getText()&&!e.appointment.getDescription()){t=1}break;case y.Large:t=3;break;case y.Automatic:t=1;if(e.appointment.getText()){t+=1}if(e.appointment.getDescription()){t+=1}break}return t};S.prototype._getAppointmetLevel=function(e,t){var i=0;var a=this._getAppointmentRowCount(t);var n=true;while(n){n=this._isPosibleToPositionAppointment(i,e,a);if(!n){n=true;i+=1}else{n=false}}return i};S.prototype._isPosibleToPositionAppointment=function(e,t,i){for(var a=e;a<i+e;a++){if(t[a]){return false}}return true};S.prototype._getPlanningCalendar=function(){var e=this;while(e.getParent()!==null){if(e.isA("sap.m.PlanningCalendar")){return e}e=e.getParent()}};function N(e,t){if(t){W.call(e,"DeselectAppointment")}}function $(e){var t=this.getAggregation("groupAppointments",[]);var i;var a=false;for(var n=0;n<t.length;n++){var s=t[n]._aAppointments;for(var r=0;r<s.length;r++){if(s[r].getId()==e){i=t[n];a=true;break}}if(a){break}}return i}function Y(e){if(this._sFocusedAppointmentId!=e){var t=this._getAppointmentsSorted();var i=this._aVisibleAppointments;var n;var s=0;n=$.call(this,e);if(n){e=n.getId();n=undefined}for(s=0;s<i.length;s++){if(i[s].appointment.getId()==e){n=i[s].appointment;break}}if(n){var r=this.getFocusedAppointment().$();var o=n.$();this._sFocusedAppointmentId=n.getId();r.attr("tabindex","-1");o.attr("tabindex","0");o.trigger("focus")}else{for(s=0;s<t.length;s++){if(t[s].getId()==e){n=t[s];break}}if(n){this._sFocusedAppointmentId=n.getId();var p=k.call(this,n.getStartDate());this.setStartDate(a._createLocalDate(p,true));if(!d(this.getDomRef(),document.activeElement)){setTimeout(function(){this.getFocusedAppointment().focus()}.bind(this),0)}this.fireStartDateChange()}}}}function x(e,t){var i=this._sFocusedAppointmentId;var a=this._getAppointmentsSorted();var n=this.getAggregation("groupAppointments",[]);var s;var r=0;var o=0;for(o=0;o<n.length;o++){if(n[o].getId()==i){var p=n[o]._aAppointments;if(e){i=p[p.length-1].getId()}else{i=p[0].getId()}break}}for(o=0;o<a.length;o++){if(a[o].getId()==i){r=o;break}}if(e){r=r+t}else{r=r-t}if(r<0){r=0}else if(r>=a.length){r=a.length-1}s=a[r];Y.call(this,s.getId())}function B(e){var t=this._getAppointmentsSorted();var i;var n=new r(this._getStartDate());var s=new r(this._oUTCEndDate);var o=this.getIntervalType();var p;var l;n.setUTCHours(0);s.setUTCHours(0);s.setUTCMinutes(0);s.setUTCSeconds(0);switch(o){case U.Hour:s.setUTCDate(s.getUTCDate()+1);s.setUTCMilliseconds(-1);break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":n.setUTCDate(1);s.setUTCMonth(s.getUTCMonth()+1);s.setUTCDate(1);s.setUTCMilliseconds(-1);break;case U.Month:n.setUTCMonth(0);n.setUTCDate(1);s.setUTCFullYear(s.getUTCFullYear()+1);s.setUTCMonth(1);s.setUTCDate(1);s.setUTCMilliseconds(-1);break;default:throw new Error("Unknown IntervalType: "+o+"; "+this)}var u=a._createLocalDate(n,true);var g=a._createLocalDate(s,true);for(var h=0;h<t.length;h++){if(t[h].getStartDate()>=u&&t[h].getStartDate()<=g){i=t[h];p=i.getId();if(e.type=="saphome"){break}}else if(t[h].getStartDate()>g){break}}l=$.call(this,p);if(l){i=l;p=i.getId()}if(p&&p!=this._sFocusedAppointmentId){Y.call(this,p)}else if(e._bPlanningCalendar&&i){i.focus()}else{this.fireLeaveRow({type:e.type})}}function j(e,t){var i=this.getIntervalType();var n=this._getStartDate();var s=new r(n.getTime());var o;var p=false;var l=0;var u=0;if(jQuery(t).hasClass("sapUiCalendarRowAppsSubInt")){p=true;var g=jQuery(jQuery(t).parent()).children(".sapUiCalendarRowAppsSubInt");u=g.length;for(l=0;l<u;l++){var h=g[l];if(h==t){break}}}switch(i){case U.Hour:s.setUTCHours(s.getUTCHours()+e);if(p){s.setUTCMinutes(s.getUTCMinutes()+l*60/u);o=new r(s.getTime());o.setUTCMinutes(o.getUTCMinutes()+60/u)}else{o=new r(s.getTime());o.setUTCHours(o.getUTCHours()+1)}break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":s.setUTCDate(s.getUTCDate()+e);if(p){s.setUTCHours(s.getUTCHours()+l*24/u);o=new r(s.getTime());o.setUTCHours(o.getUTCHours()+24/u)}else{o=new r(s.getTime());o.setUTCDate(o.getUTCDate()+1)}break;case U.Month:s.setUTCMonth(s.getUTCMonth()+e);if(p){s.setUTCDate(s.getUTCDate()+l);o=new r(s.getTime());o.setUTCDate(o.getUTCDate()+1)}else{o=new r(s.getTime());o.setUTCMonth(o.getUTCMonth()+1)}break;default:throw new Error("Unknown IntervalType: "+i+"; "+this)}o.setUTCMilliseconds(o.getUTCMilliseconds()-1);s=a._createLocalDate(s,true);o=a._createLocalDate(o,true);this.fireIntervalSelect({startDate:s,endDate:o,subInterval:p})}function G(e,t){var i=e.getStartDate()-t.getStartDate();if(i==0){i=t.getEndDate()-e.getEndDate()}return i}return S});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRowRenderer", ["sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarAppointment","sap/ui/unified/CalendarLegendRenderer","sap/ui/Device","sap/ui/unified/library","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date","sap/base/Log","sap/ui/core/IconPool"],function(e,t,a,n,r,i,s,l){"use strict";var o=r.CalendarDayType;var p=r.CalendarIntervalType;var d=r.CalendarAppointmentVisualization;var g=r.CalendarAppointmentHeight;var c={apiVersion:2};c.render=function(e,t){var a=t.getTooltip_AsString();var r=t.getAppointmentsVisualization();var i=this.getLegendItems(t);e.openStart("div",t);e.class("sapUiCalendarRow");if(!n.system.phone&&t.getAppointmentsReducedHeight()){e.class("sapUiCalendarRowAppsRedHeight")}if(r!=d.Standard){e.class("sapUiCalendarRowVis"+r)}if(a){e.attr("title",a)}var s=t.getWidth();if(s){e.style("width",s)}var l=t.getHeight();if(l){e.style("height",l)}e.accessibilityState(t,{role:"row"});e.openEnd();this.renderAppointmentsRow(e,t,i);e.close("div")};c.renderAppointmentsRow=function(e,t,a){var n=t.getId();e.openStart("div",n+"-Apps");e.class("sapUiCalendarRowApps");e.attr("role","list");e.openEnd();this.renderBeforeAppointments(e,t);this.renderAppointments(e,t,a);this.renderAfterAppointments(e,t);e.close("div")};c.renderBeforeAppointments=function(e,t){};c.renderAfterAppointments=function(e,t){};c.renderResizeHandle=function(e,t,a){};c.renderAppointments=function(t,a,n){var r=a._getVisibleAppointments();var i=a._getVisibleIntervalHeaders();var s=a._getStartDate();var l=[];var o=0;var d=0;var g=[];var c=0;var v=0;var f=a.getIntervals();var u=a.getIntervalType();var A=100/f;var C=0;var T=new e(s);var I=false;var h=false;switch(u){case p.Hour:l=a.getNonWorkingHours()||[];o=s.getUTCHours();d=24;break;case p.Day:case p.Week:case p.OneMonth:case"OneMonth":l=a._getNonWorkingDays();o=s.getUTCDay();d=7;g=a.getNonWorkingHours()||[];c=s.getUTCHours();v=24;break;case p.Month:g=a._getNonWorkingDays();c=s.getUTCDay();v=7;break;default:break}if(a._isOneMonthsRowOnSmallSizes()){this.renderSingleDayInterval(t,a,r,n,i,l,o,d,g,c,v,true,true)}else{for(C=0;C<f;C++){if(h){I=true}else{I=false}h=false;switch(u){case p.Hour:T.setUTCHours(T.getUTCHours()+1);if(T.getUTCHours()==0){h=true}break;case p.Day:case p.Week:case p.OneMonth:case"OneMonth":T.setUTCDate(T.getUTCDate()+1);if(T.getUTCDate()==1){h=true}break;case p.Month:c=T.getUTCDay();T.setUTCMonth(T.getUTCMonth()+1);if(T.getUTCMonth()==0){h=true}break;default:break}this.renderInterval(t,a,C,A,i,l,o,d,g,c,v,I,h)}this.renderIntervalHeaders(t,a,A,i,f);if(!(a._getRelativeInfo&&a._getRelativeInfo().bIsRelative)){t.openStart("div",a.getId()+"-Now");t.class("sapUiCalendarRowNow");t.openEnd();t.close("div")}for(C=0;C<r.length;C++){var m=r[C];this.renderAppointment(t,a,m,n)}t.openStart("div",a.getId()+"-DummyApp");t.class("sapUiCalendarApp");t.class("sapUiCalendarAppTitleOnly");t.class("sapUiCalendarAppDummy");t.class("sapUiCalendarAppHeight1");t.openEnd();t.close("div")}};c.writeCustomAttributes=function(e,t){};c.renderInterval=function(t,a,n,r,i,l,o,d,g,c,v,f,u,A){var C=a.getId()+"-AppsInt"+n;var T;var I=a.getShowIntervalHeaders()&&(a.getShowEmptyIntervalHeaders()||i.length>0);var h=a.getStartDate().getMonth();var m=s.getInstance(a.getStartDate().getFullYear(),h+1,0).getDate();t.openStart("div",C);t.class("sapUiCalendarRowAppsInt");if(A){t.class(A)}t.style("width",r+"%");if(n>=m&&(a.getIntervalType()===p.OneMonth||a.getIntervalType()==="OneMonth")){t.class("sapUiCalItemOtherMonth")}for(T=0;T<l.length;T++){if((n+o)%d==l[T]){t.class("sapUiCalendarRowAppsNoWork");break}}if(!I){t.class("sapUiCalendarRowAppsIntNoHead")}if(f){t.class("sapUiCalendarRowAppsIntFirst")}if(u){t.class("sapUiCalendarRowAppsIntLast")}this.writeCustomAttributes(t,a);t.openEnd();if(I){t.openStart("div");t.class("sapUiCalendarRowAppsIntHead");t.openEnd();t.close("div")}if(a.getShowSubIntervals()){var U=a.getIntervalType();var b=0;switch(U){case p.Hour:b=4;break;case p.Day:case p.Week:case p.OneMonth:case"OneMonth":b=24;break;case p.Month:var S=a._getStartDate();var R=new e(S);R.setUTCMonth(R.getUTCMonth()+n+1,0);b=R.getUTCDate();R.setUTCDate(1);o=R.getUTCDay();break;default:break}var y=100/b;for(T=0;T<b;T++){t.openStart("div");t.class("sapUiCalendarRowAppsSubInt");t.style("width",y+"%");for(var w=0;w<g.length;w++){if((T+c)%v==g[w]){t.class("sapUiCalendarRowAppsNoWork");break}}t.openEnd();t.close("div")}}t.close("div")};c.renderIntervalHeaders=function(e,t,a,n,r){var i=t.getShowIntervalHeaders()&&(t.getShowEmptyIntervalHeaders()||n.length>0);if(i){for(var s=0;s<n.length;s++){var l=n[s],o,p;if(t._bRTL){p=a*l.interval;o=a*(r-l.last-1)}else{o=a*l.interval;p=a*(r-l.last-1)}this.renderIntervalHeader(e,t,l,t._bRTL,o,p)}}};c.renderIntervalHeader=function(e,t,a,n,r,i){var s=a.appointment.getId(),l={labelledby:{value:s+"-Descr",append:true}},p;var d=t._calculateAppoitnmentVisualCue(a.appointment);e.openStart("div",a.appointment);e.class("sapUiCalendarRowAppsIntHead");if(r!==undefined){e.style("left",r+"%")}if(i!==undefined){e.style("right",i+"%")}e.class("sapUiCalendarRowAppsIntHeadFirst");if(a.appointment.getSelected()){e.class("sapUiCalendarRowAppsIntHeadSel")}if(a.appointment.getTentative()){e.class("sapUiCalendarRowAppsIntHeadTent")}var g=a.appointment.getTooltip_AsString();if(g){e.attr("title",g)}var c=a.appointment.getType();var v=a.appointment.getColor();if(!v&&c&&c!=o.None){e.class("sapUiCalendarRowAppsIntHead"+c)}if(v){if(n){e.style("border-right-color",v)}else{e.style("border-left-color",v)}}e.accessibilityState(a.appointment,l);e.openEnd();e.openStart("div");e.class("sapUiCalendarIntervalHeaderCont");if(v){e.style("background-color",a.appointment._getCSSColorForBackground(v))}e.openEnd();if(d.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}var f=a.appointment.getIcon();if(f){var u=["sapUiCalendarRowAppsIntHeadIcon"];var A={};A["id"]=s+"-Icon";A["title"]=null;A["alt"]=null;A["role"]="presentation";e.icon(f,u,A)}var C=a.appointment.getTitle();if(C){e.openStart("span",s+"-Title");e.class("sapUiCalendarRowAppsIntHeadTitle");e.openEnd();e.text(C);e.close("span")}var T=a.appointment.getText();if(T){e.openStart("span",s+"-Text");e.class("sapUiCalendarRowAppsIntHeadText");e.openEnd();e.text(T);e.close("span")}if(d.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}p=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(a.appointment.getStartDate())+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(a.appointment.getEndDate());if(c&&c!==o.None){p+="; "+this.getAriaTextForType(c,this.getLegendItems(t))}e.openStart("span",s+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(p);e.close("span");e.close("div");e.close("div")};c.renderAppointment=function(e,t,a,n,r){var s=a.appointment;var l=s.getTooltip_AsString();var p=s.getType();var c=s.getColor();var v=s.getTitle();var f=s.getText();var u=s.getDescription();var A=s.getIcon();var C=s.getId();var T=t._getAppointmentReducedHeight(a);var I={role:"listitem",labelledby:{value:i.getStaticId("sap.ui.unified","APPOINTMENT")+" "+C+"-Descr",append:true},selected:null};var h=t._getAppointmentRowCount(a,T);var m=t.getAriaLabelledBy();var U=t._calculateAppoitnmentVisualCue(s);if(m.length>0){I["labelledby"].value=I["labelledby"].value+" "+m.join(" ")}if(v){I["labelledby"].value=I["labelledby"].value+" "+C+"-Title"}if(f){I["labelledby"].value=I["labelledby"].value+" "+C+"-Text"}e.openStart("div",s);e.class("sapUiCalendarApp");e.class("sapUiCalendarAppHeight"+h);if(s.getSelected()){e.class("sapUiCalendarAppSel");I["labelledby"].value=i.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED")+" "+I["labelledby"].value}else{I["labelledby"].value=i.getStaticId("sap.ui.unified","APPOINTMENT_UNSELECTED")+" "+I["labelledby"].value}if(s.getTentative()){e.class("sapUiCalendarAppTent");I["labelledby"].value=I["labelledby"].value+" "+i.getStaticId("sap.ui.unified","APPOINTMENT_TENTATIVE")}if(h===1){e.class("sapUiCalendarAppTitleOnly")}if(A){e.class("sapUiCalendarAppWithIcon")}if(!r){if(t._bRTL){e.style("right",a.begin+"%");e.style("left",a.end+"%")}else{e.style("left",a.begin+"%");e.style("right",a.end+"%")}}e.attr("data-sap-level",a.level);if(t._sFocusedAppointmentId==C){e.attr("tabindex","0")}else{e.attr("tabindex","-1")}if(l){e.attr("title",l)}if(!c&&p&&p!=o.None){e.class("sapUiCalendarApp"+p)}if(c){if(t._bRTL){e.style("border-right-color",c)}else{e.style("border-left-color",c)}}e.accessibilityState(s,I);e.openEnd();e.openStart("div");e.class("sapUiCalendarAppCont");if(c&&t.getAppointmentsVisualization()===d.Filled){e.style("background-color",s._getCSSColorForBackground(c))}e.openEnd();if(s.getCustomContent().length){s.getCustomContent().forEach(function(t){e.renderControl(t)})}else{if(U.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}if(A){var b=["sapUiCalendarAppIcon"];var S={};S["id"]=C+"-Icon";S["title"]=null;S["alt"]=null;S["role"]="presentation";e.icon(A,b,S)}e.openStart("div");e.class("sapUiCalendarAppTitleWrapper");e.openEnd();if(v){e.openStart("span",C+"-Title");e.class("sapUiCalendarAppTitle");e.openEnd();e.text(v);e.close("span")}if(f&&a.size!==g.HalfSize){e.openStart("span",C+"-Text");e.class("sapUiCalendarAppText");e.openEnd();e.text(f);e.close("span")}if(u&&a.size!==g.HalfSize&&(a.size!==g.Regular||!f)){e.openStart("span",C+"-Info");e.class("sapUiCalendarAppDescription");e.openEnd();e.text(u);e.close("span")}e.close("div");if(U.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}}var R=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(s.getStartDate());R=R+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(s.getEndDate());if(t._getRelativeInfo&&t._getRelativeInfo().bIsRelative){var y=t._getRelativeInfo();R=t._oRb.getText("CALENDAR_START_TIME")+": "+y.intervalLabelFormatter(y._getIndexFromDate(s.getStartDate()));R=R+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+y.intervalLabelFormatter(y._getIndexFromDate(s.getEndDate()))}if(p&&p!=o.None){R=R+"; "+this.getAriaTextForType(p,n)}e.openStart("span",C+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(R);e.close("span");e.close("div");this.renderResizeHandle(e,t,s);e.close("div")};c.renderSingleDayInterval=function(a,n,r,i,l,o,d,g,c,v,f,u,A){var C=1,T=100,I=n.getId()+"-AppsInt"+C,h,m=n.getShowIntervalHeaders()&&(n.getShowEmptyIntervalHeaders()||l.length>0),U=s.getInstance(n.getStartDate()),b=U.getMonth(),S=s.getInstance(U.getFullYear(),b+1,0).getDate(),R,y=n._getPlanningCalendar(),w,E,D=[];U.setHours(0,0,0,0);w=r.concat(n.getIntervalHeaders().filter(function(e){var t=e.getStartDate().getTime(),a=e.getEndDate().getTime(),n=U.getTime(),r=n+1e3*60*60*24;return!(t>=r||a<=n)}).map(function(e){return{appointment:e,isHeader:true}})).sort(t._getComparer(U));if(y){D=y._getSelectedDates()}a.openStart("div",I);a.class("sapUiCalendarRowAppsInt");a.class("sapUiCalendarMonthRowAppsS");a.style("width",T+"%");if(C>=S&&(n.getIntervalType()===p.OneMonth||n.getIntervalType()==="OneMonth")){a.class("sapUiCalItemOtherMonth")}for(h=0;h<o.length;h++){if((C+d)%g==o[h]){a.class("sapUiCalendarRowAppsNoWork");break}}if(!m){a.class("sapUiCalendarRowAppsIntNoHead")}if(u){a.class("sapUiCalendarRowAppsIntFirst")}if(A){a.class("sapUiCalendarRowAppsIntLast")}a.openEnd();if(m){a.openStart("div");a.class("sapUiCalendarRowAppsIntHead");a.openEnd();a.close("div")}if(D.length>0){var _=0,H=w.length;if(y.getRows()[0]._calculateVisibleAppointments){var N=y.getRows()[0]._calculateVisibleAppointments(D,w);_=N.iStart;H=N.iEnd}for(h=_;h<H;h++){E=w[h];a.openStart("div");a.class("sapUiCalendarAppContainer");a.openEnd();a.openStart("div");a.class("sapUiCalendarAppContainerLeft");a.openEnd();a.openStart("div");a.class("sapUiCalendarAppStart");a.openEnd();a.text(E.appointment._getDateRangeIntersectionText(U).start);a.close("div");a.openStart("div");a.class("sapUiCalendarAppEnd");a.openEnd();a.text(E.appointment._getDateRangeIntersectionText(U).end);a.close("div");a.close("div");a.openStart("div");a.class("sapUiCalendarAppContainerRight");a.openEnd();if(E.isHeader){this.renderIntervalHeader(a,n,E)}else{this.renderAppointment(a,n,E,i,true)}a.close("div");a.close("div")}}if(r.length===0||D.length===0){a.openStart("div");a.class("sapUiCalendarNoApps");a.openEnd();var x=sap.ui.getCore().byId(n.getAssociation("row"));R=x.getNoAppointmentsText()?x.getNoAppointmentsText():sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PLANNINGCALENDAR_ROW_NO_APPOINTMENTS");a.text(R);a.close("div")}if(!(n._getRelativeInfo&&n._getRelativeInfo().bIsRelative)){a.openStart("div",n.getId()+"-Now");a.class("sapUiCalendarRowNow");a.openEnd()}a.close("div");a.openStart("div",n.getId()+"-DummyApp");a.class("sapUiCalendarApp");a.class("sapUiCalendarAppTitleOnly");a.class("sapUiCalendarAppDummy");a.style("margin","0");a.style("height","0px");a.openEnd();a.close("div");if(n.getShowSubIntervals()){var M=n.getIntervalType();var k=0;switch(M){case p.Hour:k=4;break;case p.Day:case p.Week:case p.OneMonth:case"OneMonth":k=24;break;case p.Month:var L=new e(U);L.setUTCMonth(L.getUTCMonth()+C+1,0);k=L.getUTCDate();L.setUTCDate(1);d=L.getUTCDay();break;default:break}var O=100/k;for(h=0;h<k;h++){a.openStart("div");a.class("sapUiCalendarRowAppsSubInt");a.style("width",O+"%");for(var F=0;F<c.length;F++){if((h+v)%f==c[F]){a.class("sapUiCalendarRowAppsNoWork");break}}a.openEnd();a.close("div")}}a.close("div")};c.getLegendItems=function(e){var t=[],a,n=e.getLegend();if(n){a=sap.ui.getCore().byId(n);if(a){t=a.getItems()}else{l.error("CalendarLegend with id '"+n+"' does not exist!",e)}}return t};c.getAriaTextForType=function(e,t){var n,r,i,s;if(t&&t.length){for(var s=0;s<t.length;s++){i=t[s];if(i.getType()===e){n=i.getText();break}}}if(!n){r=a.getTypeAriaText(e);if(r){n=r.getText()}}return n};return c},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPicker", ["./library","sap/ui/core/Control","sap/ui/core/HTML","sap/ui/core/ResizeHandler","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/ui/core/theming/Parameters","sap/ui/core/InvisibleText","sap/ui/Device","sap/ui/core/library","./ColorPickerRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/Global"],function(e,t,i,s,o,a,l,r,h,n,d,u,p,C,jQuery,c){"use strict";var g=u.ValueState,f=e.ColorPickerMode,S=e.ColorPickerDisplayMode;var b=t.extend("sap.ui.unified.ColorPicker",{metadata:{library:"sap.ui.unified",properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:f.HSV},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:S.Default}},aggregations:{_grid:{type:"sap.ui.layout.Grid",group:"Appearance",multiple:false,visibility:"hidden"},_invisibleTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_oCPBox:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHexField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRedField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oGreenField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oBlueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSatField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oLitField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oValField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField2:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRGBorHSLRBUnifiedGroup:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oButton:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:p});var _="",y=sap.ui.require.toUrl("sap/ui/unified/img/ColorPicker/Alphaslider_BG.png"),R=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),F={};Object.defineProperties(F,{RGB:{value:"RGB"},CPResponsiveClass:{value:"sapUnifiedColorPicker"},CPMatrixClass:{value:"sapUiColorPicker-ColorPickerMatrix"},HSLClass:{value:"sapUiColorPickerHSL"},LabelClass:{value:"sapUiColorPicker-ColorPickerLabels"},UnitLabelClass:{value:"sapUiCPUnitLabel"},HEXClass:{value:"sapUiColorPicker-ColorPickerHexField"},LeftColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsLeft"},RightColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsRight"},SliderClass:{value:"sapUiColorPicker-ColorPickerSlider"},AlphaSliderClass:{value:"sapUiColorPicker-ColorPickerAlphaSlider"},OutputSelectorClass:{value:"sapUiColorPickerHSL-RB"},OutputSelectorRowClass:{value:"sapUiColorPicker-RBRow"},CPBoxClass:{value:"sapUiColorPicker-ColorPickerBox"},CPCircleClass:{value:"sapUiColorPicker-ColorPickerCircle"},LastColumnClass:{value:"sapUiColorPicker-ColorPickerLastColumn"},HideForHSVClass:{value:"hideForHSV"},HideForHSLClass:{value:"hideForHSL"},OldColorClass:{value:"sapUiColorPicker-ColorPickerOldColor"},NewColorClass:{value:"sapUiColorPicker-ColorPickerNewColor"},SwatchesClass:{value:"sapUiColorPicker-swatches"},Colors:{value:{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"00000000"}}});b.prototype.init=function(){if(d.browser.firefox){_="-moz-linear-gradient"}else if(d.browser.webkit){_="-webkit-linear-gradient"}else{_="linear-gradient"}this.Color={r:255,g:255,b:255,h:0,s:0,l:100,v:100,a:1,oldA:1,hex:"#ffffff",old:"#ffffff"};this.sHexString="ffffff";this.$CPBox=null;this.$CPCur=null;this.RGB={r:0,g:0,b:0};this.bRtl=c.getRTL();this.data("sap-ui-fastnavgroup","true",true);this.bResponsive=e.ColorPickerHelper.isResponsive();var t=this.bResponsive?"_sap_ui_unified_ColorPicker_CircleSize":"_sap_ui_unified_ColorPicker_commonsCircleSize";this._iCPCursorSize=0;var i=h.get({name:t,callback:function(e){this._iCPCursorSize=parseInt(e)}.bind(this)});if(i){this._iCPCursorSize=parseInt(i)}this._processChanges=this._processHSVChanges;this._bHSLMode=false;this.bPressed=false};var H=t.extend("sap.ui.unified._ColorPickerBox",{metadata:{events:{select:{parameters:{value:{type:"int"},saturation:{type:"int"}}},resize:{parameters:{size:{type:"int"}}}}},init:function(){this.bRtl=c.getRTL()},exit:function(){if(this._sResizeListener){s.deregister(this._sResizeListener)}},getWidth:function(){return this.$().width()},getOffset:function(){return this.$().offset()},onBeforeRendering:function(){if(this._sResizeListener){s.deregister(this._sResizeListener)}},onAfterRendering:function(){this._handle=this.$().find("> div."+F.CPCircleClass);this._sResizeListener=s.register(this.getDomRef(),this.handleResize.bind(this))},handleResize:function(e){this.fireResize({size:e.size.width})},getHandle:function(){return this._handle},ontouchstart:function(e){this.handleTouch(e)},ontouchend:function(e){this.handleTouch(e)},ontouchmove:function(e){this.handleTouch(e)},handleTouch:function(e){var t=this.calculateValuesFromEvent(e);if(t){this.fireSelect(t)}},calculateValuesFromEvent:function(e){var t=e.offsetX,i=e.offsetY,s,o=s=this.getWidth(),a,l;e.preventDefault&&e.preventDefault();if(!t){a=e.targetTouches?e.targetTouches[0]:e;if(!a||!a.pageX){a=e;if((!a||!a.pageX)&&e.changedTouches){a=e.changedTouches[0]}}if(!a.pageX){return false}l=this.getOffset();t=a.pageX-l.left;i=a.pageY-l.top}t=Math.min(Math.max(t,0),o);i=Math.min(Math.max(i,0),s);if(this.bRtl){t=o-t}return{value:t/o*100,saturation:(1-i/s)*100}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.class(F.CPBoxClass);e.openEnd();e.openStart("div",t.getId()+"-cpCur");e.class(F.CPCircleClass);e.openEnd().close("div");e.close("div")}}});b.prototype._createRowFromInput=function(t,i,s,o){var a=R.getText(i),l;l=new r({content:[e.ColorPickerHelper.factory.createLabel({text:s,tooltip:a,labelFor:t}).addStyleClass(F.LabelClass),t.setTooltip(a)]});if(o){l.addContent(e.ColorPickerHelper.factory.createLabel({text:o,labelFor:t}).addStyleClass(F.UnitLabelClass).addStyleClass(F.LabelClass))}return l};b.prototype._updateColorStringProperty=function(e,t){var i=this._getCSSColorString();this.setProperty("colorString",i,true);if(t){this.fireLiveChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}if(e){this.fireChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}};b.prototype._handleCPBoxSelectEvent=function(e){var t=e.getParameter("value"),i=e.getParameter("saturation");this.oSatField.setValue(i);if(this._bHSLMode){this.oLitField.setValue(t)}else{this.oValField.setValue(t)}this._processChanges();this._updateColorStringProperty(false,true)};b.prototype._handleCPBoxResizeEvent=function(e){this._iCPBoxSize=e.getParameter("size");this._updateCursorPosition()};b.prototype._handleCPBoxTouchEndEvent=function(e){this._updateColorStringProperty(true,false)};b.prototype._createInteractionControls=function(){var t=this.getId();this.oCPBox=new H(t+"-cpBox",{select:this._handleCPBoxSelectEvent.bind(this),resize:this._handleCPBoxResizeEvent.bind(this)});this.oCPBox.addDelegate({ontouchend:this._handleCPBoxTouchEndEvent.bind(this)});this.oHexField=e.ColorPickerHelper.factory.createInput(t+"-hxF",{value:this.Color.hex.substr(1),change:this._handleHexValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_HEX")}).addStyleClass(F.HEXClass);this.oRedField=e.ColorPickerHelper.factory.createInput(t+"-rF",{value:this.Color.r,change:this._handleRedValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_RED")}).addStyleClass(F.LeftColumnInputClass);this.oGreenField=e.ColorPickerHelper.factory.createInput(t+"-gF",{value:this.Color.g,change:this._handleGreenValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_GREEN")}).addStyleClass(F.LeftColumnInputClass);this.oBlueField=e.ColorPickerHelper.factory.createInput(t+"-bF",{value:this.Color.b,change:this._handleBlueValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_BLUE")}).addStyleClass(F.LeftColumnInputClass);this.oHueField=e.ColorPickerHelper.factory.createInput(t+"-hF",{value:this.Color.h,change:this._handleHueValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_HUE")}).addStyleClass(F.RightColumnInputClass);this.oSatField=e.ColorPickerHelper.factory.createInput(t+"-sF",{value:this.Color.s,change:this._handleSatValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_SAT")+" "+n.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(F.RightColumnInputClass);this.oLitField=e.ColorPickerHelper.factory.createInput(t+"-lF",{value:this.Color.l,change:this._handleLitValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_LIGHTNESS")+" "+n.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass);this.oAlphaField=e.ColorPickerHelper.factory.createInput(t+"-aF",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass).addStyleClass("sapUnifiedA");this.oAlphaField2=e.ColorPickerHelper.factory.createInput(t+"-aF2",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass).addStyleClass("sapUnifiedA");this.oValField=e.ColorPickerHelper.factory.createInput(t+"-vF",{value:this.Color.v,change:this._handleValValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_VALUE")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSLClass);this.oRGBorHSLRBGroup=e.ColorPickerHelper.factory.createRadioButtonGroup({columns:2,buttons:[e.ColorPickerHelper.factory.createRadioButtonItem({text:F.RGB}),e.ColorPickerHelper.factory.createRadioButtonItem({text:e.ColorPickerMode.HSL})],select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0}).addStyleClass(F.OutputSelectorClass);this.oHueInvisibleText=new n({text:R.getText("COLORPICKER_HUE_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oHueInvisibleText,true);this.oSlider=e.ColorPickerHelper.factory.createSlider(t+"-hSLD",{max:360,step:1,tooltip:R.getText("COLORPICKER_HUE"),value:parseInt(this.oHueField.getValue())}).addStyleClass(F.SliderClass).addAriaLabelledBy(this.oHueInvisibleText);this.oSlider.attachEvent("liveChange","liveChange",this._handleSliderChange.bind(this));this.oSlider.attachEvent("change","change",this._handleSliderChange.bind(this));this.oAlphaInvisibleText=new n({text:R.getText("COLORPICKER_ALPHA_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oAlphaInvisibleText,true);this.oAlphaSlider=e.ColorPickerHelper.factory.createSlider(t+"-aSLD",{max:1,value:1,step:.01,tooltip:R.getText("COLORPICKER_ALPHA")}).addStyleClass(F.AlphaSliderClass).addAriaLabelledBy(this.oAlphaInvisibleText);this.oAlphaSlider.attachEvent("liveChange","liveChange",this._handleAlphaSliderChange.bind(this));this.oAlphaSlider.attachEvent("change","change",this._handleAlphaSliderChange.bind(this))};b.prototype._createLayout=function(){var e=this.getId(),t;if(this._bLayoutControlsCreated){return}this._createInteractionControls();if(this.getDisplayMode()===S.Large){this._toggleInputsEnabled(this.Color.formatHSL)}this.oCPBoxGD=new a({span:"L6 M6 S12"});this.icOne=new a({span:"L3 M3 S6"});this.icTwo=new a({span:"L3 M3 S6"});this.swatches=new a({span:"L3 M3 S12"});this.rbg=new a({span:"L6 M8 S12"});if(this.bResponsive){this._createUnifiedColorPicker(e)}else{t=this._createCommonsColorPicker(t,e);this.setAggregation("_grid",t,true)}this._bLayoutControlsCreated=true;if(!this.bResponsive){this._adaptControlToLibrary()}};b.prototype._adaptControlToLibrary=function(){var e;if(!this._bLayoutControlsCreated){return}e=this.getAggregation("_grid");if(this.bResponsive){if(!d.system.phone&&!jQuery("html").hasClass("sapUiMedia-Std-Phone")){e._setBreakPointTablet(400)}e.addStyleClass(F.CPResponsiveClass)}else{e.setProperty("hSpacing",0,true);e.setProperty("vSpacing",0,true);this.oCPBoxGD.setSpanS(5);this.icOne.setSpanS(4);this.icTwo.setSpanS(3);this.rbg.setSpanS(8)}};b.prototype._updateControlVisualState=function(){var e=this.getAggregation("_grid");if(!e){return}if(this.bResponsive){if(this._bHSLMode){e.addStyleClass(F.HSLClass);this.swatches.setSpanM(4).setLinebreak(true)}else{e.removeStyleClass(F.HSLClass);this.swatches.setSpanM(3).setLinebreak(false)}}else{if(this._bHSLMode){e.addStyleClass(F.HSLClass);this.swatches.setSpanS(4).setLinebreak(true)}else{e.removeStyleClass(F.HSLClass);this.swatches.setSpanS(3).setLinebreak(false)}}};b.prototype._processChanges=function(){};b.prototype.setMode=function(t,i){this._bLayoutControlsCreated=false;switch(t){case e.ColorPickerMode.HSL:this._processChanges=this._processHSLChanges;break;case e.ColorPickerMode.HSV:this._processChanges=this._processHSVChanges;break;default:C.error("Control must have a valid mode set to work correct");break}this._bHSLMode=t===e.ColorPickerMode.HSL;return this.setProperty("mode",t,i)};b.prototype.setDisplayMode=function(e){this._bLayoutControlsCreated=false;return this.setProperty("displayMode",e,false)};b.prototype._cleanup=function(){var e=[this.getAggregation("_grid"),this.getAggregation("_oCPBox"),this.getAggregation("_oHexField"),this.getAggregation("_oRedField"),this.getAggregation("_oGreenField"),this.getAggregation("_oBlueField"),this.getAggregation("_oHueField"),this.getAggregation("_oSatField"),this.getAggregation("_oLitField"),this.getAggregation("_oAlphaField"),this.getAggregation("_oAlphaField2"),this.getAggregation("_oValField"),this.getAggregation("_oSlider"),this.getAggregation("_oAlphaSlider"),this.oRGBorHSLRBUnifiedGroup,this.oCPBoxGD,this.icOne,this.icTwo,this.rbg,this.swatches,this.oAlphaInvisibleText,this.oHueInvisibleText,this.getAggregation("_oButton"),this.getAggregation("_oRGBorHSLRBUnifiedGroup"),this.oRGBorHSLRBGroup];e.forEach(function(e){if(e){e.destroy()}},this);this._bLayoutControlsCreated=false};b.prototype.exit=function(){this._cleanup()};b.prototype.onBeforeRendering=function(){this._cleanup();this._createLayout();this._updateControlVisualState();this._updateColorString()};b.prototype._updateColorString=function(){this._parseColorString(this.getColorString());this.oHexField.setValue(this.Color.hex.substr(1));this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);if(this.bResponsive){this.oRGBorHSLRBUnifiedGroup.setSelectedIndex(this.Color.formatHSL?1:0)}else{this.oRGBorHSLRBGroup.setSelectedIndex(this.Color.formatHSL?1:0)}}else{this.oValField.setValue(this.Color.v);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a)}this._updateColorStringProperty(false,false)};b.prototype.isColor=function(e){return this._parseColorString(e,true)};b.prototype._handleSliderChange=function(e,t){var i=parseInt(this.oSlider.getValue());this.oHueField.setValue(i);this._processChanges();this._updateColorStringProperty(t==="change",t==="liveChange")};b.prototype._handleAlphaSliderChange=function(e,t){this.Color.a=this.oAlphaSlider.getValue();this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this._updateSelColorBackground();this._updateColorStringProperty(t==="change",t==="liveChange")};b.prototype._getValueInRange=function(e,t,i){if(isNaN(e)){e=0}return Math.min(Math.max(e,t),i)};b.prototype._handleAlphaValueChange=function(e){var t=e.getParameter("id")=="cp-aF2"?parseFloat(this.oAlphaField2.getValue(),10):parseFloat(this.oAlphaField.getValue(),10);t=this._getValueInRange(t,0,1);this.Color.a=t;this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t);this.oAlphaSlider.setValue(t);if(!this.Color.formatHSL){this._processRGBChanges()}else{this._processChanges()}this._updateColorStringProperty(true,true)};b.prototype._handleRGBorHSLValueChange=function(e){this.Color.formatHSL=e.getParameter("selectedIndex")===1;this._toggleInputsEnabled(this.Color.formatHSL);this._updateColorStringProperty(true,true)};b.prototype._toggleInputsEnabled=function(e){this.oRedField.setEnabled(!e);this.oGreenField.setEnabled(!e);this.oBlueField.setEnabled(!e);this.oHueField.setEnabled(!!e);this.oSatField.setEnabled(!!e);this.oLitField.setEnabled(!!e);this.oValField.setEnabled(!!e)};b.prototype._handleHueValueChange=function(){var e=parseInt(this.oHueField.getValue());e=this._getValueInRange(e,0,360);this.oHueField.setValue(e);this.oSlider.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};b.prototype._handleSatValueChange=function(){var e=parseInt(this.oSatField.getValue());e=this._getValueInRange(e,0,100);this.oSatField.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};b.prototype._handleValValueChange=function(){var e=parseInt(this.oValField.getValue());e=this._getValueInRange(e,0,100);this.oValField.setValue(e);this._processHSVChanges();this._updateColorStringProperty(true,true)};b.prototype._handleLitValueChange=function(){var e=parseInt(this.oLitField.getValue());e=this._getValueInRange(e,0,100);this.oLitField.setValue(e);this._processHSLChanges();this._updateColorStringProperty(true,true)};b.prototype._handleRedValueChange=function(){var e=parseInt(this.oRedField.getValue());e=this._getValueInRange(e,0,255);this.oRedField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};b.prototype._handleGreenValueChange=function(){var e=parseInt(this.oGreenField.getValue());e=this._getValueInRange(e,0,255);this.oGreenField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};b.prototype._handleBlueValueChange=function(){var e=parseInt(this.oBlueField.getValue());e=this._getValueInRange(e,0,255);this.oBlueField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};b.prototype._processHSVChanges=function(){var e=parseInt(this.oHueField.getValue());var t=parseInt(this.oSatField.getValue());var i=parseInt(this.oValField.getValue());this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.v=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oValField.setValue(this.Color.v);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground()};b.prototype._processHSLChanges=function(){var e=parseInt(this.oHueField.getValue()),t=parseInt(this.oSatField.getValue()),i=parseInt(this.oLitField.getValue());if(e>360){e%=360}this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.l=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oLitField.setValue(this.Color.l);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};b.prototype._processRGBChanges=function(){var e=Math.round(parseInt(this.oRedField.getValue())),t=Math.round(parseInt(this.oGreenField.getValue())),i=Math.round(parseInt(this.oBlueField.getValue())),s=e+t+i===765;this._calculateHEX(e,t,i);this.oHexField.setValue(this.sHexString);if(this._bHSLMode){this._calculateHSL(e,t,i);this.oLitField.setValue(this.Color.l)}else{if(!s){this._calculateHSV(e,t,i)}this.oValField.setValue(this.Color.v)}if(!s){this.oHueField.setValue(this.Color.h)}this.oSatField.setValue(this.Color.s);this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.Color.r=e;this.Color.g=t;this.Color.b=i;this.Color.hex="#"+this.oHexField.getValue();this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};b.prototype._handleHexValueChange=function(){var e=this.oHexField.getValue().toLowerCase(),t=1,i;if(e.substr(0,1)==="#"){e=e.substr(1)}i=/^([0-9a-fA-F]{8})$/;if(i.test(e)!==false){t=Number((parseInt(e.substr(6,2),16)/255).toFixed(2));e=e.substr(0,6)}i=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(i.test(e)===false){this.oHexField.setValueState(g.Error);this.oSlider.setEnabled(false);this.oAlphaSlider.setEnabled(false);this.oHueField.setEnabled(false);this.oRedField.setEnabled(false);this.oGreenField.setEnabled(false);this.oBlueField.setEnabled(false);this.oSatField.setEnabled(false);this.oAlphaField.setEnabled(false);this.oAlphaField2.setEnabled(false);if(this._bHSLMode){this.oLitField.setEnabled(false)}else{this.oValField.setEnabled(false)}return}else if(this.oHexField.getValueState()===g.Error){this.oHexField.setValueState(g.None);this.oSlider.setEnabled(true);this.oAlphaSlider.setEnabled(true);this.oHueField.setEnabled(true);this.oRedField.setEnabled(true);this.oGreenField.setEnabled(true);this.oBlueField.setEnabled(true);this.oSatField.setEnabled(true);this.oAlphaField.setEnabled(true);this.oAlphaField2.setEnabled(true);if(this._bHSLMode){this.oLitField.setEnabled(true)}else{this.oValField.setEnabled(true)}}if(e.length===3){e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)}this._processHexChanges(e);this.oHexField.setValue(e);this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(1);this.oAlphaField2.setValue(1)}else{this.oValField.setValue(this.Color.v)}this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.oAlphaSlider.setValue(t);this.Color.a=t;if(this._bHSLMode){this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t)}this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();this._updateColorStringProperty(true,true)};b.prototype._processHexChanges=function(e){this._convertRGB(e);if(this._bHSLMode){this._calculateHSL(this.Color.r,this.Color.g,this.Color.b)}else{this._calculateHSV(this.Color.r,this.Color.g,this.Color.b)}this.Color.hex="#"+e.toLowerCase()};b.prototype._updateAlphaBackground=function(){var e=[this.Color.r,this.Color.g,this.Color.b].join(","),t=_+"(left,rgba("+e+",0),rgba("+e+",1)),url("+y+")";this.oAlphaSlider.$().find(this.bResponsive?".sapMSliderInner":".sapUiSliBar").css("background-image",t)};b.prototype._updateCursorPosition=function(){var e,t;if(!this._iCPBoxSize){return}if(this._bHSLMode){e=Math.round(this.oLitField.getValue()*this._iCPBoxSize/100)}else{e=Math.round(this.oValField.getValue()*this._iCPBoxSize/100)}if(c.getRTL()){e=this._iCPBoxSize-e}t=Math.round((1-this.oSatField.getValue()/100)*this._iCPBoxSize);e=Math.round(Math.max(e,0)-this._iCPCursorSize/2-1);t=Math.round(Math.max(t,0)-this._iCPCursorSize/2-1);this.$CPCur.css("left",e).css("top",t)};b.prototype._calculateRGB=function(e,t,i){var s,o,a,l,r,h,n;if(this._bHSLMode){this._calculateRGBAdvanced(e,t,i);return}e%=360;e/=60;t/=100;i/=100;h=i*t;r=h*(1-Math.abs(e%2-1));l=i-h;s=0;o=0;a=0;n=Math.floor(e);switch(n){case 0:s=h;o=r;break;case 1:s=r;o=h;break;case 2:o=h;a=r;break;case 3:o=r;a=h;break;case 4:s=r;a=h;break;case 5:s=h;a=r;break;default:s=0;a=0;o=0;break}this.RGB.r=Math.floor((s+l)*255);this.RGB.g=Math.floor((o+l)*255);this.RGB.b=Math.floor((a+l)*255)};b.prototype._calculateRGBAdvanced=function(e,t,i){var s,o,a,l,r,h,n,d,u;e=this._getValueInRange(e,0,360);e%=360;if(t>100){t=1}else if(t<0){t=0}else{t=t/100}if(i>100){i=1}else if(i<0){i=0}else{i=i/100}d=t*(1-Math.abs(2*i-1));n=255*(i-.5*d);h=d*(1-Math.abs(e/60%2-1));u=Math.floor(e/60);r=n+255*h;l=n+255*d;switch(u){case 0:s=l;o=r;a=n;break;case 1:s=r;o=l;a=n;break;case 2:s=n;o=l;a=r;break;case 3:s=n;o=r;a=l;break;case 4:s=r;o=n;a=l;break;case 5:s=l;o=n;a=r;break;default:s=0;o=0;a=0;break}this.RGB.r=Math.round(s);this.RGB.g=Math.round(o);this.RGB.b=Math.round(a)};b.prototype._getCSSColorString=function(){if(this.Color.formatHSL){if(this.Color.a<1){return"hsla("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%, "+this.Color.a+")"}else{return"hsl("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%)"}}if(this.Color.a<1){return"rgba("+this.Color.r+","+this.Color.g+","+this.Color.b+", "+this.Color.a+")"}else{return"rgb("+this.Color.r+","+this.Color.g+","+this.Color.b+")"}};b.prototype._calculateHEX=function(e,t,i){var s=e.toString(16),o=t.toString(16),a=i.toString(16);if(s.length===1){s="0"+s}if(o.length===1){o="0"+o}if(a.length===1){a="0"+a}this.sHexString=(s+o+a).toLowerCase()};b.prototype._calculateHSV=function(e,t,i){var s=Math.max(Math.max(e,t),i),o=Math.min(Math.min(e,t),i),a=s-o,l=Math.round(s*100/255),r=s===0?0:100*a/s,h=0;if(r===0){h=0}else if(e===s){h=60*(t-i)/a}else if(t===s){h=120+60*(i-e)/a}else if(i===s){h=240+60*(e-t)/a}if(h<0){h+=359.9}h=Math.round(h);r=Math.round(r);this.Color.h=h;this.Color.s=r;this.Color.v=l};b.prototype._calculateHSL=function(e,t,i){var s=Math.max(e,t,i),o=Math.min(e,t,i),a=(s-o)/255,l=(s+o)/510,r=1-Math.abs(2*l-1),h=l===0?0:a/r,n=r!==0?h:0,d=0;l=Math.round(l*100);n=Math.round(n*100);if(l===0||n===0||e+t+i===765){d=0}else{var u=s-o;if(s===e){d=(t-i)/u%6}if(s===t){d=(i-e)/u+2}if(s===i){d=(e-t)/u+4}if(u===0){d=0}d*=60;if(d<0){d+=360}}if(d!==0||this.Color.h!==360){this.Color.h=Math.round(d)}this.Color.s=n;this.Color.l=l};b.prototype._convertRGB=function(e){this.Color.r=parseInt(e.substr(0,2),16);this.Color.g=parseInt(e.substr(2,2),16);this.Color.b=parseInt(e.substr(4,2),16)};b.prototype._updateGradientBoxBackground=function(e){if(this._bHSLMode){this._calculateRGBAdvanced(e,100,50)}else{this._calculateRGB(e,100,100)}this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.$CPBox.css("background-color","rgb("+[this.RGB.r,this.RGB.g,this.RGB.b].join(",")+")")};b.prototype._updateSelColorBackground=function(){this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",this._getCSSColorString())};b.prototype._parseColorString=function(e,t){var i;if(e.substr(0,1)==="#"){e=e.substr(1)}e=e.trim().toLowerCase();i=this._parseColorName(e);if(i){if(t){return true}if(i.length===8){this.Color.a=this.Color.oldA=Number((parseInt(i.substr(6,2),16)/255).toFixed(2));i=i.substring(0,6)}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e)){if(t){return true}if(e.length===3){i=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}else{i=e}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(e.substr(0,3)==="rgb"){return this._parseRGB(e,t)}if(this._bHSLMode){return this._parseHSL(e,t)}else if(e.substr(0,3)==="hsv"){return this._parseHSV(e,t)}return false};b.prototype._parseHSV=function(e,t){var i=/^(((\d{1,2})|([1,2]\d{2})|(3[0-5]\d)|(360)),)(((\d{1,2})|(100)),)((\d{1,2})|(100))$/,s,o,a,l;e=e.substr(3).replace("(","").replace(")","").split(" ").join("");if(i.test(e)===true){if(t){return true}s=e.split(",");o=parseInt(s[0]);a=parseInt(s[1]);l=parseInt(s[2]);this._calculateRGB(o,a,l);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=o;this.Color.s=a;this.Color.v=l;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;return true}return false};b.prototype._parseHSL=function(e,t){var i,s=e.substr(0,4),o,a,l,r,h;if(s==="hsla"){o=true}else if(s==="hsl("){o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");i=e.split(",");a=parseInt(i[0]);l=parseFloat(i[1]);r=parseFloat(i[2]);if(o){h=parseFloat(i[3])}else{if(i[3]&&parseFloat(i[3])>=0){return false}h=1}l=l<1&&l>0?l*100:l;r=r<1&&r>0?r*100:r;if(a>=0&&a<=360&&(l>=0&&l<=100)&&(r>=0&&r<=100)&&(h>=0&&h<=1)){if(t){return true}this._calculateRGB(a,l,r);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=a;this.Color.s=l;this.Color.l=r;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;this.Color.a=this.Color.oldA=h;this.Color.formatHSL=true}else{return false}return true};b.prototype._parseRGB=function(e,t){var i,s,o,a;s=e.substring(0,4);if(s==="rgba"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),)([0]|([0]\.[0-9]+)|(\.[0-9]+)|[1])$/;o=true}else if(s.substring(0,3)==="rgb"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])))$/;o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");if(a.test(e)){if(t){return true}i=e.split(",");this._calculateHEX(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]));this._processHexChanges(this.sHexString);this.Color.old=this.Color.hex;if(o){this.Color.a=this.Color.oldA=parseFloat(i[3])}return true}if(this._bHSLMode){this.Color.formatHSL=false}return false};b.prototype._parseColorName=function(e){return F.Colors[e]};b.prototype.onAfterRendering=function(){var e=this._getCSSColorString(),t=this.getParent();this.$CPBox=this.oCPBox.$();this.$CPCur=this.oCPBox.getHandle();this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",e);this.$().find(".sapUiColorPicker-ColorPickerOldColor").css("background-color",e);this._updateGradientBoxBackground(this.Color.h);this._iCPBoxSize=this.oCPBox.getWidth();this._updateCursorPosition();this._updateAlphaBackground();this.oSlider.iShiftGrip=Math.round(jQuery(this.oSlider.oGrip).outerWidth()/2);this.oAlphaSlider.iShiftGrip=Math.round(jQuery(this.oAlphaSlider.oGrip).outerWidth()/2);if(t&&t.getMetadata().getName()==="sap.m.Dialog"){t.addStyleClass("sapUiCPDialog")}this.addStyleClass("sapUiCPDisplayRGB");if(d.system.phone){this._toggleFields()}};b.prototype.getRGB=function(){return{r:this.Color.r,g:this.Color.g,b:this.Color.b}};b.prototype._getConstants=function(){return F};b.prototype._createCommonsColorPicker=function(t,s){t=new o({containerQuery:true,content:[this.oCPBox.setLayoutData(this.oCPBoxGD),new l({content:[this._createRowFromInput(this.oRedField,"COLORPICKER_RED","R:"),this._createRowFromInput(this.oGreenField,"COLORPICKER_GREEN","G:"),this._createRowFromInput(this.oBlueField,"COLORPICKER_BLUE","B:"),this._createRowFromInput(this.oHexField,"COLORPICKER_HEX","#:")],layoutData:this.icOne}),new l({content:[this._createRowFromInput(this.oHueField,"COLORPICKER_HUE","H:"),this._createRowFromInput(this.oSatField,"COLORPICKER_SAT","S:","%"),this._createRowFromInput(this.oLitField,"COLORPICKER_LIGHTNESS","L:","%").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oAlphaField,"COLORPICKER_ALPHA","A:").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oAlphaField2,"COLORPICKER_ALPHA","A:").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oValField,"COLORPICKER_VALUE","V:").addStyleClass(F.HideForHSLClass)],layoutData:this.icTwo}).addStyleClass(F.LastColumnClass),new r({content:[new i({content:["<div id='",s,"-ocBox' class='",F.OldColorClass,"'></div>"].join("")}),new i({content:["<div id='",s,"-ncBox' class='",F.NewColorClass,"'></div>"].join("")})],layoutData:this.swatches}).addStyleClass(F.SwatchesClass),new r({content:[e.ColorPickerHelper.factory.createLabel({text:"Output:",labelFor:this.oRGBorHSLRBGroup}),this.oRGBorHSLRBGroup],layoutData:this.rbg}).addStyleClass(F.HideForHSVClass).addStyleClass(F.OutputSelectorRowClass),this.oSlider.setLayoutData(new a({span:"L6 M6 S12",linebreak:true})),this.oAlphaSlider.setLayoutData(new a({span:"L6 M6 S12"}))]}).addStyleClass(F.CPMatrixClass);return t};b.prototype._createUnifiedColorPicker=function(t){var i=this;this.oRbRGB=e.ColorPickerHelper.factory.createRadioButtonItem({tooltip:R.getText("COLORPICKER_SELECT_RGB_TOOLTIP")});this.oRbRGB.addStyleClass("sapUiCPRB");this.oRbHSLV=e.ColorPickerHelper.factory.createRadioButtonItem({tooltip:R.getText("COLORPICKER_SELECT_HSL_TOOLTIP")});this.oRbHSLV.addStyleClass("sapUiCPRB");this.oButton=e.ColorPickerHelper.factory.createButton(t+"-toggleMode",{type:d.system.phone?"Default":"Transparent",tooltip:R.getText("COLORPICKER_TOGGLE_BTN_TOOLTIP"),icon:"sap-icon://source-code",press:function(e){i._toggleFields()}});this.setAggregation("_oButton",this.oButton,true);this.oRGBorHSLRBUnifiedGroup=e.ColorPickerHelper.factory.createRadioButtonGroup({select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0});this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbRGB);this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbHSLV);this.setAggregation("_oRGBorHSLRBUnifiedGroup",this.oRGBorHSLRBUnifiedGroup,true);this.setAggregation("_oCPBox",this.oCPBox,true);this.setAggregation("_oHexField",this.oHexField,true);this.setAggregation("_oRedField",this.oRedField,true);this.setAggregation("_oGreenField",this.oGreenField,true);this.setAggregation("_oBlueField",this.oBlueField,true);this.setAggregation("_oHueField",this.oHueField,true);this.setAggregation("_oSatField",this.oSatField,true);this.setAggregation("_oLitField",this.oLitField,true);this.setAggregation("_oAlphaField",this.oAlphaField,true);this.setAggregation("_oAlphaField2",this.oAlphaField2,true);this.setAggregation("_oValField",this.oValField,true);this.setAggregation("_oSlider",this.oSlider,true);this.setAggregation("_oAlphaSlider",this.oAlphaSlider,true)};b.prototype._toggleFields=function(){if(!d.system.phone){this.toggleStyleClass("sapUiCPDisplayRGB",this.bPressed);this.bPressed=!this.bPressed}else{switch(this.sVisibleFiled){case"HSL":this.removeStyleClass("sapUiCPHexVisible");this.toggleStyleClass("sapUiCPDisplayRGB",false);this.addStyleClass("sapUiCPHideHex");this.sVisibleFiled="RGB";break;case"RGB":this.removeStyleClass("sapUiCPHexVisible");this.addStyleClass("sapUiCPHideHex");this.toggleStyleClass("sapUiCPDisplayRGB",true);this.sVisibleFiled="Hex";break;case"Hex":default:this.addStyleClass("sapUiCPHexVisible");this.removeStyleClass("sapUiCPHideHex");this.sVisibleFiled="HSL";break}}};return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerDisplayMode", [],function(){"use strict";var e={Default:"Default",Large:"Large",Simplified:"Simplified"};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerRenderer", ["./ColorPickerDisplayMode","sap/ui/Device"],function(e,o){"use strict";var r={apiVersion:2};r.render=function(r,t){var n=t.getDisplayMode(),i=t.bResponsive;r.openStart("div",t);r.accessibilityState(t,{role:"group",roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("COLOR_PICKER_TITLE")});if(i){r.class("sapUiColorPicker-ColorPickerMatrix");r.class("sapUiColorPicker-"+n);r.class("sapUnifiedColorPicker");if(t._bHSLMode){r.class("sapUiColorPickerHSL")}}if(o.system.phone){r.class("sapUiCPPhone")}r.openEnd();if(!i){r.renderControl(t.getAggregation("_grid"))}else{switch(n){case e.Default:this.renderDefaultColorPicker(r,t);break;case e.Large:this.renderLargeColorPicker(r,t);break;case e.Simplified:this.renderSimplifiedColorPicker(r,t)}}r.close("div")};r.renderDefaultColorPicker=function(e,r){e.renderControl(r.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(r.getAggregation("_oSlider"));e.renderControl(r.getAggregation("_oAlphaSlider"));e.close("div");this.renderMobileSwatches(e,r);e.close("div")}else{e.renderControl(r.getAggregation("_oSlider"));e.renderControl(r.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,r)}e.openStart("div");e.class("sapUiCPDefaultWrapper");e.openEnd();if(o.system.phone){e.renderControl(r.getAggregation("_oHexField"));e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div")}e.openStart("div");e.class("sapUiCPDefaultRGB");e.openEnd();e.renderControl(r.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oAlphaField"));e.close("div");e.openStart("div");e.class("sapUiCPDefaultHSLV");e.openEnd();e.renderControl(r.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");e.renderControl(r.getAggregation("_oLitField"));e.renderControl(r.getAggregation("_oValField"));if(r.getMode()==="HSL"){e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div")}else{this.renderEmptyDiv(e)}e.renderControl(r.getAggregation("_oAlphaField2"));e.close("div");e.renderControl(r.getAggregation("_oButton"));this.renderRGBLabel(e,r);this.renderHSLVLabel(e,r);e.close("div")};r.renderLargeColorPicker=function(e,o){e.renderControl(o.getAggregation("_oCPBox"));e.renderControl(o.getAggregation("_oSlider"));e.renderControl(o.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,o);e.renderControl(o.oRGBorHSLRBUnifiedGroup);e.openStart("div");e.class("sapUiCPRGBA");e.openEnd();e.renderControl(o.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oAlphaField"));e.close("div");this.renderRGBLabel(e,o);e.openStart("div");e.class("sapUiCPHSLV");e.openEnd();e.renderControl(o.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");o.getMode()==="HSL"?this.renderLFirst(e,o):this.renderVFirst(e,o);e.close("div");this.renderHSLVLabel(e,o)};r.renderSimplifiedColorPicker=function(e,r){e.renderControl(r.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(r.getAggregation("_oSlider"));e.close("div");e.renderControl(r.getAggregation("_oHexField"));this.renderMobileSwatches(e,r);e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div");e.close("div");e.close("div")}else{e.renderControl(r.getAggregation("_oSlider"));this.renderDesktopSwatchesAndHexFields(e,r)}};r.renderDesktopSwatchesAndHexFields=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.openEnd();e.close("div");e.close("div");e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("span");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("span");e.close("div");e.renderControl(o.getAggregation("_oHexField"))};r.renderMobileSwatches=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.class("sapUiCPComparisonWrapperPhone");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.openEnd();e.close("div");e.close("div")};r.renderLFirst=function(e,o){e.renderControl(o.getAggregation("_oLitField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");e.renderControl(o.getAggregation("_oValField"))};r.renderVFirst=function(e,o){e.renderControl(o.getAggregation("_oValField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oLitField"))};r.renderEmptyDiv=function(e){e.openStart("div");e.class("sapUiCPEmptyDiv");e.openEnd();e.close("div")};r.renderRGBLabel=function(e,o){e.openStart("div");e.class("sapUiCPRGBText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("R");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("G");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("B");e.close("span");this.renderEmptyDiv(e);if(o.getDisplayMode()==="Default"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.close("span")}e.close("div")};r.renderHSLVLabel=function(e,o){e.openStart("div");e.class("sapUiCPHSLVText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("H");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("S");e.close("span");this.renderEmptyDiv(e);if(o.getMode()==="HSL"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("L");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("V");e.close("span")}this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span");e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateRange", ["sap/ui/core/Element","./library","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a){"use strict";var r=e.extend("sap.ui.unified.DateRange",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Misc",defaultValue:null},endDate:{type:"object",group:"Misc",defaultValue:null}}}});r.prototype.setStartDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("startDate",e,t);return this};r.prototype.setEndDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("endDate",e,t);return this};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateTypeRange", ["./DateRange","./library"],function(e,a){"use strict";var p=a.CalendarDayType;var r=e.extend("sap.ui.unified.DateTypeRange",{metadata:{library:"sap.ui.unified",properties:{type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.Type01},secondaryType:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploader", ["sap/ui/core/Control","./library","sap/ui/core/LabelEnablement","sap/ui/core/InvisibleText","sap/ui/core/library","sap/ui/Device","./FileUploaderRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/base/security/encodeXML","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/Aria"],function(e,t,i,s,o,r,a,l,n,p,h,jQuery,u){var d=o.ValueState;var f=t.FileUploaderHttpRequestMethod;var g=e.extend("sap.ui.unified.FileUploader",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.ui.unified.IProcessableBlobs"],library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/FileUploader.designtime",properties:{value:{type:"string",group:"Data",defaultValue:""},enabled:{type:"boolean",group:"Behavior",defaultValue:true},uploadUrl:{type:"sap.ui.core.URI",group:"Data",defaultValue:""},name:{type:"string",group:"Data",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:""},uploadOnChange:{type:"boolean",group:"Behavior",defaultValue:false},additionalData:{type:"string",group:"Data",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:false},buttonText:{type:"string",group:"Misc",defaultValue:null},fileType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:false},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},sendXHR:{type:"boolean",group:"Behavior",defaultValue:false},httpRequestMethod:{type:"sap.ui.unified.FileUploaderHttpRequestMethod",group:"Behavior",defaultValue:f.Post},placeholder:{type:"string",group:"Appearance",defaultValue:null},style:{type:"string",group:"Appearance",defaultValue:null},buttonOnly:{type:"boolean",group:"Appearance",defaultValue:false},useMultipart:{type:"boolean",group:"Behavior",defaultValue:true},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:d.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconHovered:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconSelected:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconFirst:{type:"boolean",group:"Appearance",defaultValue:true},iconOnly:{type:"boolean",group:"Appearance",defaultValue:false},directory:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{parameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"parameter"},headerParameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"headerParameter"},xhrSettings:{type:"sap.ui.unified.FileUploaderXHRSettings",multiple:false}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{newValue:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{fileName:{type:"string"},response:{type:"string"},readyStateXHR:{type:"string"},status:{type:"string"},responseRaw:{type:"string"},headers:{type:"object"},requestHeaders:{type:"object[]"}}},typeMissmatch:{parameters:{fileName:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"}}},fileSizeExceed:{parameters:{fileName:{type:"string"},fileSize:{type:"string"}}},fileEmpty:{parameters:{fileName:{type:"string"}}},fileAllowed:{},uploadProgress:{parameters:{lengthComputable:{type:"boolean"},loaded:{type:"float"},total:{type:"float"},fileName:{type:"string"},requestHeaders:{type:"object[]"}}},uploadAborted:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},filenameLengthExceed:{parameters:{fileName:{type:"string"}}},uploadStart:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},beforeDialogOpen:{},afterDialogClose:{}}},renderer:a});g.prototype.init=function(){var e=this;this.oFilePath=t.FileUploaderHelper.createTextField(this.getId()+"-fu_input").addEventDelegate({onAfterRendering:function(){if(e.getWidth()){e._resizeDomElements()}}});this.oBrowse=t.FileUploaderHelper.createButton(this.getId()+"-fu_button");this.oFilePath.setParent(this);this.oBrowse.setParent(this);this.oFileUpload=null;this.bMobileLib=this.oBrowse.getMetadata().getName()=="sap.m.Button";if(u.getAccessibility()){if(!g.prototype._sAccText){var i=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");g.prototype._sAccText=i.getText("FILEUPLOAD_ACC")}if(this.oBrowse.addAriaDescribedBy){this.oBrowse.addAriaDescribedBy(this.getId()+"-AccDescr")}if(this.oFilePath){this.oFilePath.addAriaLabelledBy(s.getStaticId("sap.ui.unified","FILEUPLOAD_FILENAME"))}}this._submitAfterRendering=false};g.prototype.setIcon=function(e){this.oBrowse.setIcon(e);this.setProperty("icon",e,false);return this};g.prototype.setIconHovered=function(e){this.setProperty("iconHovered",e,false);if(this.oBrowse.setIconHovered){this.oBrowse.setIconHovered(e)}return this};g.prototype.setIconSelected=function(e){this.setProperty("iconSelected",e,false);if(this.oBrowse.setIconSelected){this.oBrowse.setIconSelected(e)}else{this.oBrowse.setActiveIcon(e)}return this};g.prototype.setIconFirst=function(e){this.oBrowse.setIconFirst(e);this.setProperty("iconFirst",e,false);return this};g.prototype.getIdForLabel=function(){return this.oBrowse.getId()};g.prototype._ensureBackwardsReference=function(){var e=this.oBrowse,t=e.getAriaLabelledBy(),s=i.getReferencingLabels(this);if(t){s.forEach(function(i){if(t.indexOf(i)===-1){e.addAriaLabelledBy(i)}})}return this};g.prototype.setFileType=function(e){var t=this._convertTypesToArray(e);this.setProperty("fileType",t,false);this._rerenderInputField();return this};g.prototype.setMimeType=function(e){var t=this._convertTypesToArray(e);this.setProperty("mimeType",t,false);this._rerenderInputField();return this};g.prototype.setMultiple=function(e){this.setProperty("multiple",e,false);this._rerenderInputField();return this};g.prototype.setDirectory=function(e){this.setProperty("directory",e,false);this._rerenderInputField();return this};g.prototype._rerenderInputField=function(){if(this.oFileUpload){var e=this.oFileUpload.files;this._clearInputField();this._prepareFileUpload();jQuery(this.oFileUpload).on("change",this.handlechange.bind(this));this.oFileUpload.files=e;this._cacheDOMEls()}};g.prototype.setTooltip=function(t){var i;e.prototype.setTooltip.call(this,t);if(this.oFileUpload){i=this.getTooltip_AsString();if(i){this.oFileUpload.setAttribute("title",i)}else{this.oFileUpload.setAttribute("title",this.getValue()?this.getValue():this._getNoFileChosenText())}}return this};g.prototype.addAriaLabelledBy=function(e){this.addAssociation("ariaLabelledBy",e);this.oBrowse.addAriaLabelledBy(e);return this};g.prototype.removeAriaLabelledBy=function(e){var t=this.removeAssociation("ariaLabelledBy",e);this.oBrowse.removeAriaLabelledBy(t);return t};g.prototype.removeAllAriaLabelledBy=function(){var e=this.removeAllAssociation("ariaLabelledBy"),t=this.oBrowse.getAriaLabelledBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaLabelledBy(e)}}.bind(this));return e};g.prototype.addAriaDescribedBy=function(e){this.addAssociation("ariaDescribedBy",e);this.oBrowse.addAriaDescribedBy(e);return this};g.prototype.removeAriaDescribedBy=function(e){var t=this.removeAssociation("ariaDescribedBy",e);this.oBrowse.removeAriaDescribedBy(t);return t};g.prototype.removeAllAriaDescribedBy=function(){var e=this.removeAllAssociation("ariaDescribedBy"),t=this.oBrowse.getAriaDescribedBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaDescribedBy(e)}}.bind(this));return e};g.prototype._generateAccDescriptionText=function(){var e=this.getTooltip_AsString(),t=this.getPlaceholder(),s=this.getValue(),o=i.isRequired(this),r="";if(o){r+=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("FILEUPLOAD_REQUIRED")+" "}if(e){r+=e+" "}if(s){r+=s+" "}else if(t){r+=t+" "}r+=this._sAccText;return r};g.prototype._convertTypesToArray=function(e){if(typeof e==="string"){if(e===""){return[]}else{return e.split(",").map(function(e){return e.trim()})}}return e};g.prototype.exit=function(){this.oFilePath.destroy();this.oBrowse.destroy();if(this.oIFrameRef){jQuery(this.oIFrameRef).off();sap.ui.getCore().getStaticAreaRef().removeChild(this.oIFrameRef);this.oIFrameRef=null}if(this.oFileUpload){this._clearInputField()}if(this.FUEl){this.FUEl=null}if(this.FUDataEl){this.FUDataEl=null}};g.prototype._clearInputField=function(){jQuery(this.oFileUpload).off();this.oFileUpload.parentElement.removeChild(this.oFileUpload);this.oFileUpload=null};g.prototype.onBeforeRendering=function(){var e=sap.ui.getCore().getStaticAreaRef();jQuery(this.oFileUpload).appendTo(e);if(!this.getName()){p.warning("Name property is not set. Id would be used instead to identify the control on the server.",this)}jQuery(this.oFileUpload).off();if(this.getIconOnly()&&this.getButtonOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getTooltip_AsString()||this.getBrowseText())}else if(this.getIconOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getBrowseText())}else{this.oBrowse.setText(this.getButtonText()||this.getBrowseText());this.oBrowse.setTooltip("")}this.oFilePath.setPlaceholder(this.getPlaceholder())};g.prototype.onAfterRendering=function(){this.prepareFileUploadAndIFrame();this._cacheDOMEls();this._addLabelFeaturesToBrowse();jQuery(this.oFileUpload).on("change",this.handlechange.bind(this));if(!this.bMobileLib){this.oFilePath.$().attr("tabindex","-1")}else{this.oFilePath.$().find("input").attr("tabindex","-1")}setTimeout(this._recalculateWidth.bind(this),0);this.oFilePath.$().find("input").removeAttr("role").attr("aria-live","polite");if(this._submitAfterRendering){this._submitAndResetValue();this._submitAfterRendering=false}};g.prototype._cacheDOMEls=function(){this.FUEl=this.getDomRef("fu");this.FUDataEl=this.getDomRef("fu_data")};g.prototype.onfocusin=function(e){if(!this.oFilePath.shouldValueStateMessageBeOpened||this.oFilePath.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}};g.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!l(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){this.closeValueStateMessage()}};g.prototype._recalculateWidth=function(){if(this.getWidth()){if(this.getButtonOnly()&&this.oBrowse.getDomRef()){this.oBrowse.getDomRef().style.width=this.getWidth()}this._resizeDomElements()}};g.prototype.getFocusDomRef=function(){return this.oBrowse.getDomRef()};g.prototype._resizeDomElements=function(){var e=this.getId();this._oBrowseDomRef=this.oBrowse.getDomRef();var t=jQuery(this._oBrowseDomRef);var i=t.parent().outerWidth(true);this._oFilePathDomRef=this.oFilePath.getDomRef();var s=this._oFilePathDomRef;var o=this.getWidth();if(o.substr(-1)=="%"&&s){while(s.id!=e){s.style.width="100%";s=s.parentNode}s.style.width=o}else{if(s){s.style.width=o;var r=jQuery(this._oFilePathDomRef);var a=r.outerWidth()-i;if(a<0){this.oFilePath.getDomRef().style.width="0px";if(this.oFileUpload){this.oFileUpload.style.width=t.outerWidth(true)}}else{this.oFilePath.getDomRef().style.width=a+"px"}}}};g.prototype.onresize=function(){this._recalculateWidth()};g.prototype.onThemeChanged=function(){this._recalculateWidth()};g.prototype.setEnabled=function(e){var t=jQuery(this.oFileUpload);this.setProperty("enabled",e,false);this.oFilePath.setEnabled(e);this.oBrowse.setEnabled(e);if(this.getEnabled()){t.removeAttr("disabled")}else{t.attr("disabled","disabled")}return this};g.prototype.setValueState=function(e){this.setProperty("valueState",e,false);if(this.oFilePath.setValueState){this.oFilePath.setValueState(e)}else{p.warning("Setting the valueState property with the combination of libraries used is not supported.",this)}var t=l(this.getDomRef(),document.activeElement);switch(e){case d.Error:case d.Warning:case d.Success:this.oBrowse.addAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.openValueStateMessage()}break;default:this.oBrowse.removeAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.closeValueStateMessage()}}return this};g.prototype.setValueStateText=function(e){if(this.oFilePath.setValueStateText){this.oFilePath.setValueStateText(e)}else{p.warning("Setting the valueStateText property with the combination of libraries used is not supported.",this)}return this.setProperty("valueStateText",e,false)};g.prototype.setStyle=function(e){this.setProperty("style",e,true);if(e){if(e=="Transparent"){if(this.oBrowse.setLite){this.oBrowse.setLite(true)}else{this.oBrowse.setType("Transparent")}}else{if(this.oBrowse.setType){this.oBrowse.setType(e)}else{if(e=="Emphasized"){e="Emph"}this.oBrowse.setStyle(e)}}}return this};g.prototype.setValue=function(e,t,i){var s=this.getValue();var o;if(s!=e||this.getSameFilenameAllowed()){var r=this.getUploadOnChange()&&e;this.setProperty("value",e,r);if(this.oFileUpload&&!this.getTooltip_AsString()){this.oFileUpload.setAttribute("title",e?e:this._getNoFileChosenText())}if(this.oFilePath){this.oFilePath.setValue(e);if(this.oBrowse.getDomRef()&&!i&&l(this.getDomRef(),document.activeElement)){this.oBrowse.focus()}}var a=this.getDomRef("fu_form"),n=this.getDomRef("fu_input-inner");if(this.oFileUpload&&a&&!e){a.reset();this.getDomRef("fu_input").value="";if(n){n.value=""}jQuery(this.FUDataEl).val(this.getAdditionalData())}if(t){if(window.File){o=this.FUEl.files}if(!this.getSameFilenameAllowed()||e){this.fireChange({id:this.getId(),newValue:e,files:o})}}if(r){this.upload()}}return this};g.prototype.clear=function(){var e=this.getDomRef("fu_form");if(e){e.reset()}return this.setValue("",false,true)};g.prototype.openFilePicker=function(){if(this.oFileUpload){this.oFileUpload.click()}return this};g.prototype.getInputReference=function(){return this.oFileUpload};g.prototype.onmousedown=function(e){if(!this.bMobileLib){this.oBrowse.onmousedown(e)}};g.prototype.onmouseup=function(e){if(!this.bMobileLib){this.oBrowse.onmouseup(e)}};g.prototype.onmouseover=function(e){if(!this.bMobileLib){jQuery(this.oBrowse.getDomRef()).addClass("sapUiBtnStdHover");this.oBrowse.onmouseover(e)}};g.prototype.onmouseout=function(e){if(!this.bMobileLib){jQuery(this.oBrowse.getDomRef()).removeClass("sapUiBtnStdHover");this.oBrowse.onmouseout(e)}};g.prototype.setAdditionalData=function(e){this.setProperty("additionalData",e,true);var t=this.FUDataEl;if(t){e=this.getAdditionalData()||"";t.value=e}return this};g.prototype.sendFiles=function(e,t){var i=this;var s=true;for(var o=0;o<e.length;o++){if(!e[o].bPosted){s=false;break}}if(s){if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){i.setValue("",true)}return}var r=e[t];var a=r.file.name?r.file.name:"MultipartFile";var l=r.requestHeaders;var n=function(e){var t={lengthComputable:!!e.lengthComputable,loaded:e.loaded,total:e.total};i.fireUploadProgress({lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total,fileName:a,requestHeaders:l})};r.xhr.upload.addEventListener("progress",n);r.xhr.onreadystatechange=function(){var e;var t;var s={};var o;var n;var p;var h;h=r.xhr.readyState;var u=r.xhr.status;if(r.xhr.readyState==4){if(r.xhr.responseXML){e=r.xhr.responseXML.documentElement.textContent}t=r.xhr.response;o=r.xhr.getAllResponseHeaders();if(o){n=o.split("\r\n");for(var d=0;d<n.length;d++){if(n[d]){p=n[d].indexOf(": ");s[n[d].substring(0,p)]=n[d].substring(p+2)}}}i.fireUploadComplete({fileName:a,headers:s,response:e,responseRaw:t,readyStateXHR:h,status:u,requestHeaders:l})}i._bUploading=false};if(r.xhr.readyState===0||r.bPosted){t++;i.sendFiles(e,t)}else{r.xhr.send(r.file);r.bPosted=true;t++;i.sendFiles(e,t)}};g.prototype.upload=function(e){var t,i;if(!this.getEnabled()){return}t=this.getDomRef("fu_form");try{this._bUploading=true;if(this.getSendXHR()&&window.File){var s=this.FUEl.files;if(e){this._sendProcessedFilesWithXHR(s)}else{this._sendFilesWithXHR(s)}}else if(t){i=t.getAttribute("action");if(i!==this.getUploadUrl()){this._submitAfterRendering=true}else{this._submitAndResetValue()}}}catch(e){p.error("File upload failed:\n"+e.message)}};g.prototype._submitAndResetValue=function(){var e=this.getDomRef("fu_form");e.submit();this.fireUploadStart();this._resetValueAfterUploadStart()};g.prototype.abort=function(e,t){if(!this.getUseMultipart()){var i=this._aXhr.length-1;for(var s=i;s>-1;s--){if(e&&t){for(var o=0;o<this._aXhr[s].requestHeaders.length;o++){var r=this._aXhr[s].requestHeaders[o].name;var a=this._aXhr[s].requestHeaders[o].value;if(r==e&&a==t){this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);p.info("File upload aborted.");break}}}else{this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);p.info("File upload aborted.")}}}else if(this._uploadXHR&&this._uploadXHR.abort){this._uploadXHR.abort();this.fireUploadAborted({fileName:null,requestHeaders:null});p.info("File upload aborted.")}};g.prototype.onclick=function(e){if(this.getSameFilenameAllowed()&&this.getEnabled()){this.setValue("",true)}if(this.oBrowse.getDomRef()&&(r.browser.safari||l(this.getDomRef(),document.activeElement))){this.oBrowse.focus()}if(e.target.getAttribute("type")==="file"){this.fireBeforeDialogOpen();document.body.onfocus=function(){this.fireAfterDialogClose();document.body.onfocus=null}.bind(this)}};g.prototype.onkeydown=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode;if(t===n.ENTER){if(this.oFileUpload){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}}this.oBrowse._bPressedSpace=false};g.prototype.onkeyup=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode,i=n;if(t===i.DELETE||t===i.BACKSPACE){if(this.oFileUpload){this.setValue("",true)}}else if(t===i.SPACE){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}else if(t!==i.TAB&&t!==i.SHIFT&&t!==i.F6&&t!==i.PAGE_UP&&t!==i.PAGE_DOWN&&t!==i.ESCAPE&&t!==i.END&&t!==i.HOME&&t!==i.ARROW_LEFT&&t!==i.ARROW_UP&&t!==i.ARROW_RIGHT&&t!==i.ARROW_DOWN){e.preventDefault();e.stopPropagation()}this.oBrowse._bPressedSpace=false};g.prototype._isFilenameTooLong=function(e){var t=this.getMaximumFilenameLength();if(t!==0&&e.length>t){p.info("The filename of "+e+" ("+e.length+" characters)  is longer than the maximum of "+t+" characters.");return true}return false};g.prototype.handlechange=function(e){if(this.oFileUpload&&this.getEnabled()){var t=this.getFileType();var i="";var s,o,a,l;var n=this.getDomRef("fu_form");if(window.File){var h=e.target.files;if(this._areFilesAllowed(h)){this.fireFileAllowed();i=this._generateInputValue(h)}else{n.reset();this.setValue("",true,true);return}}else if(t&&t.length>0){s=true;o=this.oFileUpload.value||"";a=o.lastIndexOf(".");l=a===-1?"":o.substring(a+1);for(var u=0;u<t.length;u++){if(l==t[u]){s=false}}if(s){p.info("File: "+o+" is of type "+l+". Allowed types are: "+t+".");this.fireTypeMissmatch({fileName:o,fileType:l});n.reset();this.setValue("",true,true);return}if(this._isFilenameTooLong(o)){this.fireFilenameLengthExceed({fileName:o});n.reset();this.setValue("",true,true);return}if(o){this.fireFileAllowed()}}var d=this.oFileUpload.value||"";var f=d.lastIndexOf("\\");if(f>=0){d=d.substring(f+1)}if(this.getMultiple()||this.getDirectory()){d=i}if(d||r.browser.chrome){this.setValue(d,true)}}};g.prototype._sendFilesWithXHR=function(e){var t,i,s,o,r=this.getXhrSettings();if(e.length>0){if(this.getUseMultipart()){t=1}else{t=e.length}this._aXhr=this._aXhr||[];for(var a=0;a<t;a++){this._uploadXHR=new window.XMLHttpRequest;o={xhr:this._uploadXHR,requestHeaders:[]};this._aXhr.push(o);o.xhr.open(this.getHttpRequestMethod(),this.getUploadUrl(),true);if(r){o.xhr.withCredentials=r.getWithCredentials()}if(this.getHeaderParameters()){var l=this.getHeaderParameters();for(var n=0;n<l.length;n++){i=l[n].getName();s=l[n].getValue();o.requestHeaders.push({name:i,value:s})}}var p=e[a].name;var h=o.requestHeaders;o.fileName=p;o.file=e[a];this.fireUploadStart({fileName:p,requestHeaders:h});for(var u=0;u<h.length;u++){if(o.xhr.readyState===0){break}i=h[u].name;s=h[u].value;o.xhr.setRequestHeader(i,s)}}if(this.getUseMultipart()){var d=new window.FormData;var f=this.FUEl.name;for(var g=0;g<e.length;g++){this._appendFileToFormData(d,f,e[g])}d.append("_charset_","UTF-8");var c=this.FUDataEl.name;if(this.getAdditionalData()){var y=this.getAdditionalData();d.append(c,y)}else{d.append(c,"")}if(this.getParameters()){var m=this.getParameters();for(var F=0;F<m.length;F++){var b=m[F].getName();s=m[F].getValue();d.append(b,s)}}o.file=d;this.sendFiles(this._aXhr,0)}else{this.sendFiles(this._aXhr,0)}this._bUploading=false;this._resetValueAfterUploadStart()}return this};g.prototype._appendFileToFormData=function(e,t,i){if(i instanceof window.Blob&&i.name){e.append(t,i,i.name)}else{e.append(t,i)}};g.prototype._sendProcessedFilesWithXHR=function(e){this.getProcessedBlobsFromArray(e).then(function(e){this._sendFilesWithXHR(e)}.bind(this)).catch(function(e){p.error("File upload failed: "+e&&e.message?e.message:"no details available")});return this};g.prototype._areFilesAllowed=function(e){var t,i,s,o,r,a=this.getMaximumFileSize(),l=this.getMimeType(),n=this.getFileType();for(var h=0;h<e.length;h++){t=e[h].name;r=e[h].type||"unknown";var u=e[h].size/1024/1024;if(a&&u>a){p.info("File: "+t+" is of size "+u+" MB which exceeds the file size limit of "+a+" MB.");this.fireFileSizeExceed({fileName:t,fileSize:u});return false}if(u===0){p.info("File: "+t+" is empty!");this.fireFileEmpty({fileName:t})}if(this._isFilenameTooLong(t)){this.fireFilenameLengthExceed({fileName:t});return false}if(l&&l.length>0){var d=true;for(var f=0;f<l.length;f++){if(r==l[f]||l[f]=="*/*"||r.match(l[f])){d=false}}if(d&&r!=="unknown"){p.info("File: "+t+" is of type "+r+". Allowed types are: "+l+".");this.fireTypeMissmatch({fileName:t,mimeType:r});return false}}if(n&&n.length>0){i=true;s=t.lastIndexOf(".");o=s===-1?"":t.substring(s+1);for(var g=0;g<n.length;g++){if(o.toLowerCase()==n[g].toLowerCase()){i=false}}if(i){p.info("File: "+t+" is of type "+o+". Allowed types are: "+n+".");this.fireTypeMissmatch({fileName:t,fileType:o});return false}}}return true};g.prototype._sendFilesFromDragAndDrop=function(e){if(this._areFilesAllowed(e)){this._sendFilesWithXHR(e)}return this};g.prototype._generateInputValue=function(e){var t="";for(var i=0;i<e.length;i++){t=t+'"'+e[i].name+'" '}return t};g.prototype.getBrowseText=function(){if(!g.prototype._sBrowseText){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");g.prototype._sBrowseText=e.getText("FILEUPLOAD_BROWSE")}return g.prototype._sBrowseText?g.prototype._sBrowseText:"Browse..."};g.prototype._getNoFileChosenText=function(){if(!g.prototype._sNoFileChosenText){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");g.prototype._sNoFileChosenText=e.getText("FILEUPLOAD_NO_FILE_CHOSEN")}return g.prototype._sNoFileChosenText?g.prototype._sNoFileChosenText:"No file chosen"};g.prototype.getShortenValue=function(){return this.getValue()};g.prototype.prepareFileUploadAndIFrame=function(){this._prepareFileUpload();if(!this.oIFrameRef){var e=document.createElement("iframe");e.style.display="none";e.id=this.getId()+"-frame";sap.ui.getCore().getStaticAreaRef().appendChild(e);e.contentWindow.name=this.getId()+"-frame";this._bUploading=false;jQuery(e).on("load",function(e){if(this._bUploading){p.info("File uploaded to "+this.getUploadUrl());var t;try{t=this.oIFrameRef.contentWindow.document.body.innerHTML}catch(e){}this.fireUploadComplete({response:t});this._bUploading=false}}.bind(this));this.oIFrameRef=e}};g.prototype._prepareFileUpload=function(){if(!this.oFileUpload){var e=[];e.push("<input ");e.push('type="file" ');e.push('aria-hidden="true" ');if(this.getName()){if(this.getMultiple()||this.getDirectory()){e.push('name="'+h(this.getName())+'[]" ')}else{e.push('name="'+h(this.getName())+'" ')}}else{if(this.getMultiple()||this.getDirectory()){e.push('name="'+this.getId()+'[]" ')}else{e.push('name="'+this.getId()+'" ')}}e.push('id="'+this.getId()+'-fu" ');e.push('tabindex="-1" ');e.push('size="1" ');if(this.getTooltip_AsString()){e.push('title="'+h(this.getTooltip_AsString())+'" ')}else{e.push('title="'+h(this.getValue()?this.getValue():this._getNoFileChosenText())+'" ')}if(!this.getEnabled()){e.push('disabled="disabled" ')}if(this.getDirectory()){e.push("webkitdirectory ")}if(this.getMultiple()){e.push("multiple ")}if((this.getMimeType()||this.getFileType())&&window.File){var t=this._getAcceptedTypes();e.push('accept="'+h(t)+'" ')}e.push(">");this.oFileUpload=jQuery(e.join("")).prependTo(this.$().find(".sapUiFupInputMask")).get(0)}else{jQuery(this.oFileUpload).prependTo(this.$().find(".sapUiFupInputMask"))}};g.prototype.openValueStateMessage=function(){if(this.oFilePath.openValueStateMessage){this.oFilePath.openValueStateMessage()}};g.prototype.closeValueStateMessage=function(){if(this.oFilePath.closeValueStateMessage){this.oFilePath.closeValueStateMessage()}};g.prototype._getAcceptedTypes=function(){var e=this.getMimeType()||[],t=this.getFileType()||[];t=t.map(function(e){return e.indexOf(".")===0?e:"."+e});return t.concat(e).join(",")};g.prototype._resetValueAfterUploadStart=function(){p.info("File uploading to "+this.getUploadUrl());if(this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.getUseMultipart()){this.setValue("",true)}};g.prototype._addLabelFeaturesToBrowse=function(){var e;if(this.oBrowse&&this.oBrowse.$().length){e=this.oBrowse.$();e.attr("type', 'button");e.off("click").on("click",function(e){e.preventDefault();e.stopPropagation();this.FUEl.click()}.bind(this))}};g.prototype.getProcessedBlobsFromArray=function(e){return new Promise(function(t){t(e)})};g.prototype.checkFileReadable=function(){return new Promise(function(e,t){var i;if(window.File&&this.FUEl&&this.FUEl.files.length){var i=new FileReader;i.readAsArrayBuffer(this.FUEl.files[0].slice(0,1));i.onload=function(){e()};i.onerror=function(){t(i.error)}}else{e()}}.bind(this))};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHttpRequestMethod", [],function(){"use strict";var t={Post:"POST",Put:"PUT"};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderParameter", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=e.extend("sap.ui.unified.FileUploaderParameter",{metadata:{library:"sap.ui.unified",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderRenderer", ["sap/ui/unified/library","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";var e={};e.apiVersion=2;e.render=function(e,a){var n=a.getEnabled();e.openStart("div",a);e.class("sapUiFup");if(a.getButtonOnly()){e.class("sapUiFupButtonOnly")}var r=t.FileUploaderHelper.addFormClass();if(r){e.class(r)}if(!n){e.class("sapUiFupDisabled")}e.openEnd();e.openStart("form",a.getId()+"-fu_form");e.style("display","inline-block");e.attr("enctype","multipart/form-data");e.attr("method",a.getHttpRequestMethod().toLowerCase());e.attr("action",a.getUploadUrl());e.attr("target",a.getId()+"-frame");e.openEnd();e.openStart("div");if(!a.bMobileLib){e.class("sapUiFupInp")}e.openEnd();e.openStart("div");e.class("sapUiFupGroup");e.style("border","0");e.style("cellPadding","0");e.style("cellSpacing","0");e.openEnd();e.openStart("div");e.openEnd();e.openStart("div");if(a.getButtonOnly()){e.style("display","none")}e.openEnd();e.renderControl(a.oFilePath);e.close("div");e.openStart("div");e.openEnd();a._ensureBackwardsReference();e.renderControl(a.oBrowse);e.openStart("span",a.getId()+"-AccDescr");e.class("sapUiInvisibleText");e.attr("aria-hidden","true");e.openEnd();e.text(a._generateAccDescriptionText());e.close("span");e.close("div");e.close("div");e.close("div");var i=a.getName()||a.getId();e.openStart("div");e.class("sapUiFupInputMask");e.openEnd();e.voidStart("input");e.attr("type","hidden");e.attr("name","_charset_");e.attr("aria-hidden","true");e.voidEnd();e.voidStart("input",a.getId()+"-fu_data");e.attr("type","hidden");e.attr("aria-hidden","true");e.attr("name",i+"-data");e.attr("value",a.getAdditionalData()||"");e.voidEnd();jQuery.each(a.getParameters(),function(t,a){e.voidStart("input");e.attr("type","hidden");e.attr("aria-hidden","true");e.attr("name",a.getName()||"");e.attr("value",a.getValue()||"");e.voidEnd()});e.close("div");e.close("div");e.close("form");e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Menu", ["sap/ui/core/Element","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Popup","./MenuItemBase","./library","sap/ui/core/library","sap/ui/unified/MenuRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/ControlEvents","sap/ui/events/PseudoEvents","sap/ui/events/checkMouseEnterOrLeave","sap/ui/core/Configuration"],function(e,t,i,n,o,s,r,u,a,jQuery,p,h,f,l,d,c){"use strict";var g=n.Dock;var m=r.OpenState;var y=t.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null,deprecated:true},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.MenuItemBase",multiple:true,singularName:"item"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}},renderer:u});(function(s){y.prototype.bCozySupported=true;y._DELAY_SUBMENU_TIMER=300;y._DELAY_SUBMENU_TIMER_EXT=400;y.prototype.init=function(){var e=this;this.bOpen=false;this.oOpenedSubMenu=null;this.oHoveredItem=null;this.oPopup=null;this._bOpenedAsContextMenu=false;this.fAnyEventHandlerProxy=jQuery.proxy(function(e){var t=this.getRootMenu();if(t!=this||!this.bOpen||!this.getDomRef()||e.type!="mousedown"&&e.type!="touchstart"){return}t.handleOuterEvent(this.getId(),e)},this);this.fOrientationChangeHandler=function(){e.close()};this.bUseTopStyle=false};y.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnCustomEnhanceAccStateFunction=e};y.prototype.enhanceAccessibilityState=function(e,t){var i=typeof this._fnCustomEnhanceAccStateFunction==="function";if(i){this._fnCustomEnhanceAccStateFunction(e,t)}};y.prototype.exit=function(){if(this.oPopup){this.oPopup.detachClosed(this._menuClosed,this);this.oPopup.destroy();delete this.oPopup}f.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(s).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this._resetDelayedRerenderItems();this._detachResizeHandler()};y.prototype.invalidate=function(e){if(e instanceof o&&this.getDomRef()){this._delayedRerenderItems()}else{t.prototype.invalidate.apply(this,arguments)}};y.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems();this.$().off("mousemove")};y.prototype.onAfterRendering=function(){if(this.$().parent().attr("id")!="sap-ui-static"){h.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page.");this.close();this.$().remove()}var e=this.getItems();for(var t=0;t<e.length;t++){if(e[t].onAfterRendering&&e[t].getDomRef()){e[t].onAfterRendering()}}if(this.oHoveredItem){this.oHoveredItem.hover(true,this)}v(this);this.$().on("mousemove",this._focusMenuItem.bind(this))};y.prototype._focusMenuItem=function(e){if(!i.system.desktop){return}var t=this.getItemByDomRef(e.target);if(!this.bOpen||!t){return}if(this.oOpenedSubMenu&&a(this.oOpenedSubMenu.getDomRef(),e.target)){return}this.setHoveredItem(t);t&&t.focus(this);this._openSubMenuDelayed(t)};y.prototype.onThemeChanged=function(){if(this.getDomRef()&&this.getPopup().getOpenState()===m.OPEN){v(this);this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}};y.prototype.addItem=function(e){this.addAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};y.prototype.insertItem=function(e,t){this.insertAggregation("items",e,t,!!this.getDomRef());this._delayedRerenderItems();return this};y.prototype.removeItem=function(e){this.removeAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};y.prototype.removeAllItems=function(){var e=this.removeAllAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return e};y.prototype.destroyItems=function(){this.destroyAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return this};y.prototype._delayedRerenderItems=function(){if(!this.getDomRef()){return}this._resetDelayedRerenderItems();this._discardOpenSubMenuDelayed();this._itemRerenderTimer=setTimeout(function(){var e=this.getDomRef();if(e){var t=sap.ui.getCore().createRenderManager();u.renderItems(t,this);t.flush(e);t.destroy();this.onAfterRendering();this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}}.bind(this),0)};y.prototype._resetDelayedRerenderItems=function(){if(this._itemRerenderTimer){clearTimeout(this._itemRerenderTimer);delete this._itemRerenderTimer}};y.prototype._detachResizeHandler=function(){if(this._hasResizeListener){i.resize.detachHandler(this._handleResizeChange,this);this._hasResizeListener=false}};y.prototype.open=function(e,t,n,o,r,u,a){var p;this._bLeavingMenu=false;if(this.bOpen){return}b(this,true);this.oOpenerRef=t;this.bIgnoreOpenerDOMRef=false;this.getPopup().open(0,n,o,r,u||"0 0",a||"flipfit flipfit",function(e){var t=this.getPopup()._getOfDom(r);if(!t||!jQuery(t).is(":visible")||!I(t)){this.close()}else{this.getPopup()._applyPosition(e.lastPosition)}}.bind(this));this.bOpen=true;i.resize.attachHandler(this._handleResizeChange,this);this._hasResizeListener=true;if(e||this.getRootMenu().getId()===this.getId()){p=this.getNextSelectableItem(-1);this.setHoveredItem(p);p&&p.focus(this)}f.bindAnyEvent(this.fAnyEventHandlerProxy);if(i.support.orientation&&this.getRootMenu()===this){jQuery(s).on("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=true}};y.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition)};y.prototype.openAsContextMenu=function(t,i){var n,o,s,r,u;i=i instanceof e?i.getDomRef():i;if(t instanceof jQuery.Event){u=jQuery(i).offset();n=t.pageX-u.left;o=t.pageY-u.top;this._iX=t.clientX;this._iY=t.clientY}else{n=t.offsetX||0;o=t.offsetY||0;this._iX=t.left||0;this._iY=t.top||0}s=c.getRTL();r=g;if(s){n=i.clientWidth-n}this._bOpenedAsContextMenu=true;this.open(true,i,r.BeginTop,r.BeginTop,i,n+" "+o,"fit")};y.prototype._handleOpened=function(){var e,t,i,n,o,r,u,a,p,h;if(!this._bOpenedAsContextMenu){return}e=this.$();t=jQuery(s);i=this._iX;n=this._iY;o=t.scrollLeft()+t.width();r=t.scrollTop()+t.height();u=c.getRTL();a=false;p=e.width();h=e.height();if(n+h>r){n=n-h;a=true}if(u){if(o-i+p>o){i=o-(i+p);a=true}else{i=o-i;a=true}}else{if(i+p>o){i=i-p;a=true}}this._bOpenedAsContextMenu=false;a&&this.oPopup.setPosition("begin top","begin top",t,i+" "+n,"flipfit")};y.prototype.close=function(e){if(!this.bOpen||y._dbg){return}this._discardOpenSubMenuDelayed();b(this,false);delete this._bFixed;f.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(s).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this.bOpen=false;this.closeSubmenu();this.setHoveredItem();if(!e){this.bIgnoreOpenerDOMRef=true}this.getPopup().close(0);this._detachResizeHandler();this._resetDelayedRerenderItems();this.$().remove();this.bOutput=false;if(this.isSubMenu()){this.getParent().getParent().oOpenedSubMenu=null}};y.prototype._menuClosed=function(){if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef){try{this.oOpenerRef.focus()}catch(e){h.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e)}}this.oOpenerRef=undefined}};y.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),false,!!(e.metaKey||e.ctrlKey));e.preventDefault();e.stopPropagation()};y.prototype.onsapnext=function(e){var t,i,n=this.oHoveredItem?this.oHoveredItem.getSubmenu():undefined;if(e.keyCode!==p.ARROW_DOWN&&!e.metaKey&&!e.altKey){if(n&&this.checkEnabled(this.oHoveredItem)){if(n.bOpen){i=n.getNextSelectableItem(-1);n.setHoveredItem(i);i&&i.focus(this)}else{this.openSubmenu(this.oHoveredItem,true)}}return}if(n&&n.bOpen){this.closeSubmenu(false,true)}t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;i=this.getNextSelectableItem(t);this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};y.prototype.onsapnextmodifiers=y.prototype.onsapnext;y.prototype.onsapprevious=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i=this.getPreviousSelectableItem(t),n=this.oHoveredItem?this.oHoveredItem.getSubmenu():null;if(e.keyCode!==p.ARROW_UP&&!e.metaKey&&!e.altKey){if(this.isSubMenu()){this.close(true)}e.preventDefault();e.stopPropagation();return}if(n&&n.bOpen){this.closeSubmenu(false,true)}this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};y.prototype.onsappreviousmodifiers=y.prototype.onsapprevious;y.prototype.onsaphome=function(e){var t=this.getNextSelectableItem(-1);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};y.prototype.onsapend=function(e){var t=this.getPreviousSelectableItem(this.getItems().length);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};y.prototype.onsappagedown=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsapend(e);return}t+=this.getPageSize();if(t>=this.getItems().length){this.onsapend(e);return}i=this.getNextSelectableItem(t-1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};y.prototype.onsappageup=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsaphome(e);return}t-=this.getPageSize();if(t<0){this.onsaphome(e);return}i=this.getPreviousSelectableItem(t+1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};y.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation()};y.prototype.onkeyup=function(e){if(this.oHoveredItem&&jQuery(e.target).prop("tagName")!="INPUT"){var t=this.oHoveredItem.getDomRef();jQuery(t).trigger("focus")}if(!this._sapSelectOnKeyDown&&(e.key!==p.Space||!i.os.macintosh&&s.navigator.maxTouchPoints<=1)){return}else{this._sapSelectOnKeyDown=false}if(!l.events.sapselect.fnCheck(e)&&e.key!=="Enter"){return}this.selectItem(this.oHoveredItem,true,false);e.preventDefault();e.stopPropagation()};y.prototype.onsapbackspace=function(e){if(jQuery(e.target).prop("tagName")!="INPUT"){e.preventDefault()}};y.prototype.onsapbackspacemodifiers=y.prototype.onsapbackspace;y.prototype.onsapescape=function(e){this._bLeavingMenu=true;this.close(true);e.preventDefault();e.stopPropagation()};y.prototype.onsaptabnext=function(e){if(this.isSubMenu()){e.preventDefault()}this._bLeavingMenu=true;this.close(true);e.stopPropagation()};y.prototype.onsaptabprevious=y.prototype.onsaptabnext;y.prototype._openSubMenuDelayed=function(e){if(!e){return}this._discardOpenSubMenuDelayed();this._delayedSubMenuTimer=setTimeout(function(){this.checkEnabled(e)&&this.closeSubmenu(false,true);if(this.checkEnabled(e)&&e.getSubmenu()){this.setHoveredItem(e);e&&e.focus(this);this.openSubmenu(e,false,true)}}.bind(this),e.getSubmenu()&&this.checkEnabled(e)?y._DELAY_SUBMENU_TIMER:y._DELAY_SUBMENU_TIMER_EXT)};y.prototype._discardOpenSubMenuDelayed=function(e){if(this._delayedSubMenuTimer){clearTimeout(this._delayedSubMenuTimer);this._delayedSubMenuTimer=null}};y.prototype.onmouseout=function(e){if(!i.system.desktop){return}if(d(e,this.getDomRef())){this.setHoveredItem(null);if(!this.oOpenedSubMenu||!(this.oOpenedSubMenu.getParent()===this.oHoveredItem)){this.setHoveredItem(this.oHoveredItem)}this._discardOpenSubMenuDelayed()}};y.prototype.onsapfocusleave=function(e){if(this.oOpenedSubMenu||!this.bOpen){return}this.getRootMenu().handleOuterEvent(this.getId(),e)};y.prototype.handleOuterEvent=function(e,t){var n=false,o=i.support.touch||i.system.combi;this.bIgnoreOpenerDOMRef=false;if(t.type=="mousedown"||t.type=="touchstart"){if(o&&(t.isMarked("delayedMouseEvent")||t.isMarked("cancelAutoClose"))){return}var s=this;while(s&&!n){if(a(s.getDomRef(),t.target)){n=true}s=s.oOpenedSubMenu}}else if(t.type=="sapfocusleave"){if(o){return}if(t.relatedControlId){var s=this;while(s&&!n){if(s.oOpenedSubMenu&&s.oOpenedSubMenu.getId()==t.relatedControlId||a(s.getDomRef(),jQuery(document.getElementById(t.relatedControlId)).get(0))){n=true}s=s.oOpenedSubMenu}}if(!n){this.bIgnoreOpenerDOMRef=true}}if(!n){this.close()}};y.prototype.getItemByDomRef=function(e){var t=this.getItems(),i=t.length;for(var n=0;n<i;n++){var o=t[n],s=o.getDomRef();if(a(s,e)){return o}}return null};y.prototype.selectItem=function(e,t,n){if(!e||!(e instanceof o&&this.checkEnabled(e))){return}var s=e.getSubmenu();if(!s){this.getRootMenu().close(true)}else{if(!i.system.desktop&&this.oOpenedSubMenu===s){this.closeSubmenu()}else{this.openSubmenu(e,t)}}e.fireSelect({item:e,ctrlKey:n});this.getRootMenu().fireItemSelect({item:e})};y.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof y};y.prototype.getRootMenu=function(){var e=this;while(e.isSubMenu()){e=e.getParent().getParent()}return e};y.prototype.getMenuLevel=function(){var e=1;var t=this;while(t.isSubMenu()){t=t.getParent().getParent();e++}return e};y.prototype.getPopup=function(){if(!this.oPopup){this.oPopup=new n(this,false,true,false);this.oPopup.setDurations(0,0);this.oPopup.attachClosed(this._menuClosed,this);this.oPopup.attachOpened(this._handleOpened,this)}return this.oPopup};y.prototype.setHoveredItem=function(e){if(this.oHoveredItem){this.oHoveredItem.hover(false,this)}if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e;e.hover(true,this);this.scrollToItem(this.oHoveredItem)};y.prototype.openSubmenu=function(e,t,i){var o=e.getSubmenu();if(!o){return}if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==o){this.closeSubmenu()}if(this.oOpenedSubMenu){this.oOpenedSubMenu._bFixed=i&&this.oOpenedSubMenu._bFixed||!i&&!this.oOpenedSubMenu._bFixed;this.oOpenedSubMenu._bringToFront()}else{this.oOpenedSubMenu=o;var s=n.Dock;o.open(t,e,s.BeginTop,s.EndTop,e,"-4 4")}};y.prototype.closeSubmenu=function(e,t){if(this.oOpenedSubMenu){if(e&&this.oOpenedSubMenu._bFixed){return}if(t){this.oOpenedSubMenu.bIgnoreOpenerDOMRef=true}this.oOpenedSubMenu.close();this.oOpenedSubMenu=null}};y.prototype.scrollToItem=function(e){var t=this.getDomRef(),i=e?e.getDomRef():null;if(!i||!t){return}var n=t.scrollTop,o=i.offsetTop,s=jQuery(t).height(),r=jQuery(i).height();if(n>o){t.scrollTop=o}else if(o+r>n+s){t.scrollTop=Math.ceil(o+r-s)}};y.prototype._bringToFront=function(){jQuery(document.getElementById(this.getPopup().getId())).mousedown()};y.prototype.checkEnabled=function(e){return e&&e.getEnabled()&&this.getEnabled()};y.prototype.getNextSelectableItem=function(e){var t=this.getItems();var i=t[e];for(var n=e+1;n<t.length;n++){if(t[n].getVisible()&&this.checkEnabled(t[n])){return t[n]}}return i&&i.getVisible()&&this.checkEnabled(i)?i:null};y.prototype.getPreviousSelectableItem=function(e){var t=this.getItems();var i=t[e];for(var n=e-1;n>=0;n--){if(t[n].getVisible()&&this.checkEnabled(t[n])){return t[n]}}return i&&i.getVisible()&&this.checkEnabled(i)?i:null};y.prototype.setRootMenuTopStyle=function(e){this.getRootMenu().bUseTopStyle=e;y.rerenderMenu(this.getRootMenu())};y.rerenderMenu=function(e){var t=e.getItems();for(var i=0;i<t.length;i++){var n=t[i].getSubmenu();if(n){y.rerenderMenu(n)}}e.invalidate();e.rerender()};y.prototype.focus=function(){if(this.bOpen){t.prototype.focus.apply(this,arguments)}};y.prototype.isCozy=function(){if(!this.bCozySupported){return false}if(this.hasStyleClass("sapUiSizeCozy")){return true}if(r(this.oOpenerRef)){return true}if(r(this.getParent())){return true}return false};function r(e){if(!e){return false}e=e.$?e.$():jQuery(e);return e.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy").hasClass("sapUiSizeCozy")}function b(e,t){var i=e.getParent();if(i&&i instanceof o){i.onSubmenuToggle(t)}}function v(e){var t=e.getMaxVisibleItems(),i=document.documentElement.clientHeight-10,n=e.$();if(t>0){var o=e.getItems();for(var s=0;s<o.length;s++){if(o[s].getDomRef()){i=Math.min(i,o[s].$().outerHeight(true)*t);break}}}if(n.outerHeight(true)>i){n.css("max-height",i+"px").toggleClass("sapUiMnuScroll",true)}else{n.css("max-height","").toggleClass("sapUiMnuScroll",false)}}function I(e){var t;if(!e){return false}if(e instanceof jQuery){e=e.get(0)}t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(s.innerHeight||document.documentElement.clientHeight)&&t.right<=(s.innerWidth||document.documentElement.clientWidth)}})(window);return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItem", ["sap/ui/core/IconPool","./MenuItemBase","./library","sap/ui/core/library"],function(t,e,i,s){"use strict";var a=e.extend("sap.ui.unified.MenuItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});t.insertFontFaceStyle();a.prototype.render=function(t,e,i,a){var n=t,o=e.getSubmenu(),l=e.getEnabled();n.openStart("li",e);if(e.getVisible()&&l){n.attr("tabindex","0")}n.class("sapUiMnuItm");if(a.iItemNo==1){n.class("sapUiMnuItmFirst")}else if(a.iItemNo==a.iTotalItems){n.class("sapUiMnuItmLast")}if(!i.checkEnabled(e)){n.class("sapUiMnuItmDsbl")}if(e.getStartsSection()){n.class("sapUiMnuItmSepBefore")}if(!l){n.attr("disabled","disabled")}if(e.getTooltip_AsString()){n.attr("title",e.getTooltip_AsString())}if(a.bAccessible){n.accessibilityState(e,{role:"menuitem",disabled:null,posinset:a.iItemNo,setsize:a.iTotalItems,labelledby:{value:this.getId()+"-txt",append:true}});if(o){n.attr("aria-haspopup",s.aria.HasPopup.Menu.toLowerCase());n.attr("aria-owns",o.getId())}}n.openEnd();n.openStart("div");n.class("sapUiMnuItmL");n.openEnd();n.close("div");if(e.getIcon()){n.openStart("div");n.class("sapUiMnuItmIco");n.openEnd();n.icon(e.getIcon(),null,{title:null});n.close("div")}n.openStart("div",this.getId()+"-txt");n.class("sapUiMnuItmTxt");n.openEnd();n.text(e.getText());n.close("div");n.openStart("div",this.getId()+"-scuttxt");n.class("sapUiMnuItmSCut");n.openEnd();n.close("div");n.openStart("div");n.class("sapUiMnuItmSbMnu");n.openEnd();if(o){n.openStart("div");n.class("sapUiIconMirrorInRTL");n.openEnd();n.close("div")}n.close("div");n.openStart("div");n.class("sapUiMnuItmR");n.openEnd();n.close("div");n.close("li")};a.prototype.hover=function(t,e){this.$().toggleClass("sapUiMnuItmHov",t)};a.prototype.focus=function(t){if(this.getEnabled()&&this.getVisible()){this.$().trigger("focus")}else{t.focus()}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemBase", ["sap/ui/core/Element","./library"],function(e,t){"use strict";var n=e.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});n.prototype.init=function(){};n.prototype.render=function(e,t,n){var o=e;o.openStart("li",t);o.openEnd();o.openStart("div",this.getId()+"-txt");o.style("white-space","nowrap");o.style("display","inline-block");o.style("padding","1px");o.style("color","black");o.openEnd();o.text(t.getId());if(this.getSubmenu()){o.text("&nbsp;&nbsp;->")}o.close("div");o.close("li")};n.prototype.hover=function(e,t){this.$("txt").attr("style",e?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;")};n.prototype.focus=function(){};n.prototype.onSubmenuToggle=function(e){this.$().toggleClass("sapUiMnuItmSubMnuOpen",e)};n.prototype.onAfterRendering=function(){};n.prototype.onsapshow=function(e){if(this.getParent()&&this.getParent().close){this.getParent().close(true)}e.preventDefault()};n.prototype.onsaphide=n.prototype.onsapshow;return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuRenderer", ["sap/ui/core/Configuration"],function(e){"use strict";var i={apiVersion:2};i.render=function(t,s){var n=e.getAccessibility(),o=s.getRootMenu();if(s.oHoveredItem&&s.indexOfItem(s.oHoveredItem)<0){s.oHoveredItem=null}t.openStart("div",s);t.attr("tabindex",-1);t.attr("hideFocus",true);if(s.getTooltip_AsString()){t.attr("title",s.getTooltip_AsString())}if(n){t.accessibilityState(s,{disabled:null})}t.class("sapUiMnu");if(s.isSubMenu()){t.class("sapUiSubmenu")}if(o.bUseTopStyle){t.class("sapUiMnuTop")}if(o.isCozy()){t.class("sapUiSizeCozy")}if(s.bCozySupported){t.class("sapUiMnuCozySupport")}t.openEnd();i.renderItems(t,s);t.close("div")};i.renderItems=function(i,t){var s=t.getItems(),n=e.getAccessibility(),o=false,r=false,a=0,l=0,u,c;i.openStart("ul");i.attr("role","menu");i.class("sapUiMnuLst");for(u=0;u<s.length;u++){if(s[u].getIcon&&s[u].getIcon()){o=true}if(s[u].getSubmenu()){r=true}}if(!o){i.class("sapUiMnuNoIco")}if(!r){i.class("sapUiMnuNoSbMnu")}i.openEnd();a=0;for(u=0;u<s.length;u++){if(s[u].getVisible()&&s[u].render){a++}}for(u=0;u<s.length;u++){c=s[u];if(c.getVisible()&&c.render){l++;if(c.getStartsSection()){i.openStart("li");if(n){i.attr("role","separator")}i.class("sapUiMnuDiv");i.openEnd();i.openStart("div");i.class("sapUiMnuDivL");i.openEnd();i.close("div");i.voidStart("hr").voidEnd();i.openStart("div");i.class("sapUiMnuDivR");i.openEnd();i.close("div");i.close("li")}c.render(i,c,t,{bAccessible:n,iItemNo:l,iTotalItems:a})}}i.close("ul")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarDate", ["sap/ui/base/Object","sap/ui/core/date/UniversalDate","sap/ui/core/date/UI5Date"],function(t,e,a){"use strict";var n=t.extend("sap.ui.unified.calendar.CalendarDate",{constructor:function(){var t=arguments,e,o,i;switch(t.length){case 0:o=a.getInstance();return n.call(this,o.getFullYear(),o.getMonth(),o.getDate());case 1:case 2:if(!(t[0]instanceof n)){throw"Invalid arguments: the first argument must be of type sap.ui.unified.calendar.CalendarDate."}i=t[1]?t[1]:t[0]._oUDate.sCalendarType;e=a.getInstance(t[0].valueOf());e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());this._oUDate=r(e,i);break;case 3:case 4:u(t[0],"Invalid year: "+t[0]);u(t[1],"Invalid month: "+t[1]);u(t[2],"Invalid date: "+t[2]);e=a.getInstance(0,0,1);e.setFullYear(t[0],t[1],t[2]);if(t[3]){i=t[3]}this._oUDate=r(e,i);break;default:throw"Invalid arguments. Accepted arguments are: 1) oCalendarDate, (optional)calendarType"+"or 2) year, month, date, (optional) calendarType"+t}}});n.prototype.getYear=function(){return this._oUDate.getUTCFullYear()};n.prototype.setYear=function(t){u(t,"Invalid year: "+t);this._oUDate.setUTCFullYear(t);return this};n.prototype.getMonth=function(){return this._oUDate.getUTCMonth()};n.prototype.setMonth=function(t,e){u(t,"Invalid month: "+t);if(e||e===0){u(e,"Invalid date: "+e);this._oUDate.setUTCMonth(t,e)}else{this._oUDate.setUTCMonth(t)}return this};n.prototype.getDate=function(){return this._oUDate.getUTCDate()};n.prototype.setDate=function(t){u(t,"Invalid date: "+t);this._oUDate.setUTCDate(t);return this};n.prototype.getDay=function(){return this._oUDate.getUTCDay()};n.prototype.getCalendarType=function(){return this._oUDate.sCalendarType};n.prototype.getEra=function(){return this._oUDate.getUTCEra()};n.prototype.isBefore=function(t){i(t);return this.valueOf()<t.valueOf()};n.prototype.isAfter=function(t){i(t);return this.valueOf()>t.valueOf()};n.prototype.isSameOrBefore=function(t){i(t);return this.valueOf()<=t.valueOf()};n.prototype.isSameOrAfter=function(t){i(t);return this.valueOf()>=t.valueOf()};n.prototype.isSame=function(t){i(t);return this.valueOf()===t.valueOf()};n.prototype.toLocalJSDate=function(){var t=a.getInstance(this._oUDate.getTime());t.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());t.setHours(0,0,0,0);return t};n.prototype.toUTCJSDate=function(){var t=a.getInstance(this._oUDate.getTime());t.setUTCHours(0,0,0,0);return t};n.prototype.toString=function(){return this._oUDate.sCalendarType+": "+this.getYear()+"/"+(this.getMonth()+1)+"/"+this.getDate()};n.prototype.valueOf=function(){return this._oUDate.getTime()};n.fromLocalJSDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript or UI5Date date object: ["+t+"].")}return new n(t.getFullYear(),t.getMonth(),t.getDate(),e)};n.fromUTCDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript or UI5Date date object: ["+t+"].")}return new n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e)};function r(t,a){if(a){return e.getInstance(o(t),a)}else{return new e(o(t).getTime())}}function o(t){var e=a.getInstance(Date.UTC(0,0,1));e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());return e}function i(t){if(!(t instanceof n)){throw"Invalid calendar date: ["+t+"]. Expected: sap.ui.unified.calendar.CalendarDate"}}function u(t,e){if(t==undefined||t===Infinity||isNaN(t)){throw e}}return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarUtils", ["sap/ui/core/date/UniversalDate","./CalendarDate","sap/ui/core/CalendarType","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(e,t,a,n,r,i,s){"use strict";var g={};g.MAX_MILLISECONDS=864e13;g.HOURS24=1e3*3600*24;g._createLocalDate=function(t,a){var n;if(t){var r;if(t instanceof e){r=t.getJSDate()}else{r=t}n=s.getInstance(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());if(r.getFullYear()<1e3){n.setFullYear(r.getFullYear())}if(a){n.setHours(r.getUTCHours());n.setMinutes(r.getUTCMinutes());n.setSeconds(r.getUTCSeconds());n.setMilliseconds(r.getUTCMilliseconds())}}return n};g._createUTCDate=function(t,a){var n;if(t){var r;if(t instanceof e){r=t.getJSDate()}else{r=t}n=s.getInstance(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));if(r.getFullYear()<1e3){n.setUTCFullYear(r.getFullYear())}if(a){n.setUTCHours(r.getHours());n.setUTCMinutes(r.getMinutes());n.setUTCSeconds(r.getSeconds());n.setUTCMilliseconds(r.getMilliseconds())}}return n};g._createUniversalUTCDate=function(t,a,n){var r;if(a){r=e.getInstance(this._createUTCDate(t,n),a)}else{r=new e(this._createUTCDate(t,n).getTime())}return r};g.calculateWeekNumber=function(t,a,n,r){var i=0;var s=0;var g=r.getFirstDayOfWeek();var u=r.firstDayStartsFirstWeek();if(u){var l=new e(t.getTime());l.setUTCFullYear(a,0,1);s=l.getUTCDay();var o=new e(t.getTime());o.setUTCDate(o.getUTCDate()-o.getUTCDay()+s);i=Math.round((o.getTime()-l.getTime())/864e5/7)+1}else{var c=new e(t.getTime());c.setUTCDate(c.getUTCDate()-g);s=c.getUTCDay();c.setUTCDate(c.getUTCDate()-s+4);var T=new e(c.getTime());T.setUTCMonth(0,1);s=T.getUTCDay();var C=0;if(s>4){C=7}var f=new e(T.getTime());f.setUTCDate(1-s+4+C);i=Math.round((c.getTime()-f.getTime())/864e5/7)+1}return i};g.getFirstDateOfWeek=function(t,a){var n=new e(t.getTime()),s,g,u=r.getInstance(i.getFormatSettings().getFormatLocale()),l=i.getLocale(),o=u.getFirstDayOfWeek(),c;if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:u.getFirstDayOfWeek(),minimalDaysInFirstWeek:u.getMinimalDaysInFirstWeek()}}c=e.getWeekByDate(n.getCalendarType(),n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),l,a);s=e.getFirstDateOfWeek(n.getCalendarType(),c.year,c.week,l,a);g=new e(e.UTC(s.year,s.month,s.day));if(a&&(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){while(g.getUTCDay()!==o){g.setUTCDate(g.getUTCDate()-1)}}return new e(e.UTC(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())).getJSDate()};g.getFirstDateOfMonth=function(t){var a=new e(t.getTime());a.setUTCDate(1);return a};g._getNumberOfWeeksForYear=function(e){var t=i.getFormatLocale(),a=r.getInstance(new n(t)),g=s.getInstance(Date.UTC(e,0,1)),u=g.getUTCDay(),l=52;if(a.getFirstDayOfWeek()===0){if(u===5||u===6){l=53}}else{if(u===3||u===4){l=53}}return l};g.monthsDiffer=function(e,t){return e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()};g.isDateLastInMonth=function(e){var t=s.getInstance(e.getTime()+24*60*60*1e3);return t.getUTCDate()<e.getUTCDate()};g._updateUTCDate=function(e,t,a,n,r,i,s,g){if(t!=null){e.setUTCFullYear(t)}if(a!=null){e.setUTCMonth(a)}if(n!=null){e.setUTCDate(n)}if(r!=null){e.setUTCHours(r)}if(i!=null){e.setUTCMinutes(i)}if(s!=null){e.setUTCSeconds(s)}if(g!=null){e.setUTCMilliseconds(g)}};g._checkJSDateObject=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e)){throw new Error("Date must be a JavaScript or UI5Date date object.")}};g._checkYearInValidRange=function(e,n){var r=i.getCalendarType(),s=new t(this._minDate(a.Gregorian),n||r),g=new t(this._maxDate(a.Gregorian),n||r);if(typeof e!=="number"||e<s.getYear()||e>g.getYear()){throw new Error("Year must be in valid range (between year 0001 and year 9999 in Gregorian calendar type).")}};g._isNextMonth=function(e,t){return e.getMonth()>t.getMonth()&&e.getFullYear()===t.getFullYear()||e.getFullYear()>t.getFullYear()};g._minutesBetween=function(e,t){var a=(t.getTime()-e.getTime())/1e3;a=a/60;return Math.abs(Math.round(a))};g._areCurrentMinutesLessThan=function(e){var t=s.getInstance().getMinutes();return e>=t};g._areCurrentMinutesMoreThan=function(e){var t=s.getInstance().getMinutes();return e<=t};g._monthsBetween=function(e,t,a){var n=s.getInstance(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),r=s.getInstance(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),i;n.setUTCFullYear(e.getUTCFullYear());r.setUTCFullYear(t.getUTCFullYear());i=r.getUTCFullYear()*12+r.getUTCMonth()-(n.getUTCFullYear()*12+n.getUTCMonth());if(!a){i=Math.abs(i)}return i};g._hoursBetween=function(e,t){var a=s.getInstance(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()));var n=s.getInstance(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()));a.setUTCFullYear(e.getUTCFullYear());n.setUTCFullYear(t.getUTCFullYear());return Math.abs((a.getTime()-n.getTime())/(1e3*60*60))};g._isMidnight=function(e){return e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0&&e.getMilliseconds()===0};g._daysInMonth=function(e){this._checkCalendarDate(e);e=new t(e);e.setDate(1);e.setMonth(e.getMonth()+1);e.setDate(0);return e.getDate()};g._isLastDateInMonth=function(e){return e.getDate()===g._daysInMonth(e)};g._getFirstDateOfWeek=function(e,a){var n=r.getInstance(i.getFormatSettings().getFormatLocale());this._checkCalendarDate(e);if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:n.getFirstDayOfWeek(),minimalDaysInFirstWeek:n.getMinimalDaysInFirstWeek()}}if(e.getDay()!==a.firstDayOfWeek){var s=g.getFirstDateOfWeek(e.toUTCJSDate(),a);s.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate());return t.fromLocalJSDate(s,e.getCalendarType())}return e};g._getFirstDateOfMonth=function(e){this._checkCalendarDate(e);var a=new t(e,e.getCalendarType());a.setDate(1);return a};g._minDate=function(e){var a=new t(1,0,1,e);a.setYear(1);a.setMonth(0);a.setDate(1);return a};g._maxDate=function(e){var a=new t(9999,11,1,e);a.setYear(9999);a.setMonth(11);a.setDate(this._daysInMonth(a));return new t(a)};g._isBetween=function(e,t,a,n){this._checkCalendarDate(e);this._checkCalendarDate(t);this._checkCalendarDate(a);if(n){return e.isSameOrAfter(t)&&e.isSameOrBefore(a)}else{return e.isAfter(t)&&e.isBefore(a)}};g._daysBetween=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return Math.ceil((e.valueOf()-t.valueOf())/this.HOURS24)};g._isOutside=function(e,t,a){return!this._isBetween(e,t,a,true)};g._isSameMonthAndYear=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return e.getEra()===t.getEra()&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()};g._checkCalendarDate=function(e){if(!e||!(e instanceof t)){throw"Invalid calendar date: ["+e+"]. Expected: sap.ui.unified.calendar.CalendarDate"}};g._getWeek=function(t){this._checkCalendarDate(t);return e.getWeekByDate(t.getCalendarType(),t.getYear(),t.getMonth(),t.getDate())};g._isWeekend=function(e,t){var a=e.getDay();return a===t.getWeekendStart()||a===t.getWeekendEnd()};return g},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomMonthPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a){"use strict";var n=e.extend(i);n.apiVersion=2;var s=t.extend("sap.ui.unified.internal.CustomMonthPicker",{metadata:{library:"sap.ui.unified"},renderer:n});s.prototype._initializeHeader=function(){var e=new r(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","monthPicker");this._bNamesLengthChecked=true};s.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=this._getYearPicker().getDate(),r,a;t.prototype.onBeforeRendering.apply(this,arguments);if(this._iMode===1){if(e.length&&e[0].getStartDate()&&(!i||e[0].getStartDate().getFullYear()===i.getFullYear())){r=this._getMonthPicker();a=e[0].getStartDate();r.setMonth(a.getMonth());r._iYear=a.getFullYear()}}};s.prototype._closePickers=function(){this.setProperty("_currentPicker","monthPicker");this._togglePrevNext(this._getFocusedDate(),true)};s.prototype._selectYear=function(){var e=this._getMonthPicker(),t=this._getYearPicker(),i=this._getFocusedDate();i.setYear(t.getYear());e._setYear(i.getYear());e._setDate(i);this._focusDate(i,true);this._showMonthPicker()};s.prototype._selectMonth=function(){var e=this._getMonthPicker(),t=this.getSelectedDates()[0],i=this._getFocusedDate();if(!t){t=new a}if(!e.getIntervalSelection()){i.setMonth(e.getMonth(),1);t.setStartDate(i.toLocalJSDate());this.addSelectedDate(t)}this.fireSelect()};s.prototype.onsapescape=function(e){this.fireCancel()};s.prototype._hideMonthPicker=function(){this._hideOverlay();this._togglePrevNext(this._getFocusedDate(),true);this._bActionTriggeredFromSecondHeader=false};s.prototype.setShowCurrentDateButton=function(e){return this};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomYearPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a,n){"use strict";var s=e.extend(i);s.apiVersion=2;var o=t.extend("sap.ui.unified.internal.CustomYearPicker",{metadata:{library:"sap.ui.unified"},renderer:s});o.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","yearPicker");this._bNamesLengthChecked=true};o.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=e.length?e[0].getStartDate():undefined,a=this._getYearPicker(),n,s;if(i){n=r.fromLocalJSDate(i);n.setMonth(0,1);s=new r(this._getFocusedDate());s.setMonth(0,1);if(s.isSame(n)){a.setDate(i)}}else{a.setProperty("_middleDate",this._getFocusedDate());a.setDate(this._getFocusedDate().toLocalJSDate())}t.prototype.onBeforeRendering.call(this,arguments)};o.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._fnYPDelegate){this.getAggregation("yearPicker").removeDelegate(this._fnYPDelegate)}};o.prototype._initializeHeader=function(){var e=new a(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};o.prototype._closePickers=function(){this.setProperty("_currentPicker","yearPicker");this._togglePrevNexYearPicker()};o.prototype._selectYear=function(){var e=this.getSelectedDates()[0],t=this._getYearPicker();if(!e){e=new n}if(!t.getIntervalSelection()){e.setStartDate(this._getYearPicker().getDate());this.addSelectedDate(e)}this.fireSelect()};o.prototype.onsapescape=function(e){this.fireCancel()};o.prototype.setShowCurrentDateButton=function(e){return this};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRow", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Month","sap/ui/unified/library","./DatesRowRenderer","sap/ui/thirdparty/jquery","sap/ui/core/format/DateFormat","sap/ui/core/Locale","sap/ui/core/date/UI5Date"],function(e,t,a,r,i,jQuery,s,n,o){"use strict";var h=a.extend("sap.ui.unified.calendar.DatesRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:true},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}}},renderer:i});h.prototype.init=function(){a.prototype.init.apply(this,arguments);this._iColumns=1;this._aWeekNumbers=[];this._bAlwaysShowSpecialDates=true};h.prototype._setAriaRole=function(e){this._ariaRole=e;return this};h.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};h.prototype.setStartDate=function(a){e._checkJSDateObject(a);var r=a.getFullYear();e._checkYearInValidRange(r);this.setProperty("startDate",a);this._oStartDate=t.fromLocalJSDate(a,this.getPrimaryCalendarType());if(this.getDomRef()){var i=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(a);this._bNoRangeCheck=false;if(i&&this.checkDateFocusable(i)){this.displayDate(i)}}return this};h.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=t.fromLocalJSDate(o.getInstance(),this.getPrimaryCalendarType())}return this._oStartDate};h.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}a.prototype.setDate.apply(this,arguments);return this};h.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}a.prototype.displayDate.apply(this,arguments);return this};h.prototype._setTopPosition=function(e){this._iTopPosition=e};h.prototype.setPrimaryCalendarType=function(e){a.prototype.setPrimaryCalendarType.apply(this,arguments);if(this._oStartDate){this._oStartDate=new t(this._oStartDate,e)}return this};h.setSecondaryCalendarType=function(e){this._bSecondaryCalendarTypeSet=true;a.prototype.setSecondaryCalendarType.apply(this,arguments);return this};h.prototype._handleBorderReached=function(e){var a=e.getParameter("event");var r=this._getRelativeInfo?this.getDays()*this._getRelativeInfo().iIntervalSize:this.getDays();var i=this._getRelativeInfo?this._getRelativeInfo().iIntervalSize:1;var s=this._getDate();var n=new t(s,this.getPrimaryCalendarType());if(a.type){switch(a.type){case"sapnext":case"sapnextmodifiers":n.setDate(n.getDate()+i);break;case"sapprevious":case"sappreviousmodifiers":n.setDate(n.getDate()-i);break;case"sappagedown":n.setDate(n.getDate()+r);break;case"sappageup":n.setDate(n.getDate()-r);break;default:break}this.fireFocus({date:n.toLocalJSDate(),otherMonth:true,_outsideBorder:true})}};h.prototype.checkDateFocusable=function(a){e._checkJSDateObject(a);if(this._bNoRangeCheck){return false}var r=this._getStartDate();var i=new t(r,this.getPrimaryCalendarType());var s=this.getDays();if(this._getRelativeInfo&&this._getRelativeInfo().bIsRelative){s=this.getDays()*this._getRelativeInfo().iIntervalSize}i.setDate(i.getDate()+s);var n=t.fromLocalJSDate(a,this.getPrimaryCalendarType());return n.isSameOrAfter(r)&&n.isBefore(i)};h.prototype._renderHeader=function(){var e=this._getStartDate();var t=e.getDay();var a=this._getLocaleData();var r=this.$("Names").children();var i=[];if(this._bLongWeekDays||!this._bNamesLengthChecked){i=a.getDaysStandAlone("abbreviated")}else{i=a.getDaysStandAlone("narrow")}var s=a.getDaysStandAlone("wide");var n=0;for(n=0;n<r.length;n++){var o=jQuery(r[n]);o.text(i[(n+t)%7]);o.attr("aria-label",s[(n+t)%7])}if(this._getShowHeader()){var h=this.$("Head");if(h.length>0){var p=sap.ui.getCore().createRenderManager();this.getRenderer().renderHeaderLine(p,this,a,e);p.flush(h[0]);p.destroy()}}};h.prototype._getFirstWeekDay=function(){return this._getStartDate().getDay()};h.prototype.getWeekNumbers=function(){var e=this.getDays(),a=this._getLocale(),r=this.getPrimaryCalendarType(),i=this._getStartDate(),o=new t(i,r),h=new t(i,r).setDate(o.getDate()+e),p=[];while(o.isBefore(h)){p.push(new t(o,r));o.setDate(o.getDate()+1)}this._aWeekNumbers=p.reduce(function(e,t){var r=s.getInstance({pattern:"w",calendarType:this.getPrimaryCalendarType(),calendarWeekNumbering:this.getCalendarWeekNumbering()},new n(a));var i=Number(r.format(t.toUTCJSDate(),true));if(!e.length||e[e.length-1].number!==i){e.push({len:0,number:i})}e[e.length-1].len++;return e}.bind(this),[]);return this._aWeekNumbers};h.prototype._getCachedWeekNumbers=function(){return this._aWeekNumbers};return h});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRowRenderer", ["sap/ui/core/Renderer","sap/ui/unified/calendar/CalendarDate","./MonthRenderer","sap/ui/core/CalendarType"],function(e,a,t,r){"use strict";var n=e.extend(t);n.apiVersion=2;n.getStartDate=function(e){return e._getStartDate()};n.getClass=function(e,a){var t=["sapUiCalDatesRow","sapUiCalRow"];if(!a.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t};n.addWrapperAdditionalStyles=function(e,a){if(a._iTopPosition){e.style("top",a._iTopPosition+"px")}};n.renderMonth=function(e,a,r){if(a.isRelative&&a.isRelative()){n.renderCustomIntervals(e,a)}else{t.renderMonth.apply(this,arguments);this.renderWeekNumbers(e,a)}};n.renderCustomIntervals=function(e,a){var t;e.openStart("div",a.getId()+"-customintervals");e.openEnd();var r=a.getDays();t=100/r;var n=a._getRelativeInfo()._getIndexFromDate(a.getStartDate());for(var i=0;i<r;i++){e.openStart("div");e.class("sapUiCalItem");if(a._getRelativeInfo&&a._getRelativeInfo().bIsRelative){e.class("sapUiRelativeCalItem");e.attr("data-sap-ui-index",n+i);e.attr("tabindex","-1");var s=a._getRelativeInfo()._getDateFromIndex(n+i+1);e.attr("data-sap-day",a._oFormatYyyymmdd.format(s,true))}e.style("width",t+"%");e.openEnd();e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(a._getRelativeInfo?a._getRelativeInfo().intervalLabelFormatter(n+i):n+i);e.close("span");e.close("div")}e.close("div")};n.renderWeekNumbers=function(e,a){var t,n,i,s;if(a.getShowWeekNumbers()&&a.getPrimaryCalendarType()===r.Gregorian){t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");e.openStart("div",a.getId()+"-weeks");e.class("sapUiCalRowWeekNumbers");e.openEnd();n=a.getDays();i=100/n;s=a.getWeekNumbers();s.forEach(function(r){e.openStart("div",a.getId()+"-week-"+r.number+"-text");e.class("sapUiCalRowWeekNumber");e.style("width",r.len*i+"%");e.attr("data-sap-ui-week",r.number);e.openEnd();e.text(t.getText("CALENDAR_DATES_ROW_WEEK_NUMBER",[r.number]));e.close("div")});e.close("div")}};n.renderDummyCell=function(){};n.renderHeader=function(e,a,t){var r=a._getLocaleData();var n=a.getId();var i=a.getDays();var s="";if(a._getShowHeader()){e.openStart("div",n+"-Head");e.openEnd();this.renderHeaderLine(e,a,r,t);e.close("div")}s=100/i+"%";if(a.getShowDayNamesLine()){e.openStart("div",n+"-Names");e.style("display","inline");e.attr("role","row");e.openEnd();this.renderDayNames(e,a,r,t.getDay(),i,false,s);e.close("div")}};n.renderHeaderLine=function(e,t,r,n){var i=t.getId();var s=t.getDays();var o=new a(n,t.getPrimaryCalendarType());var d="";var l=0;var v=[];var p=0;for(p=0;p<s;p++){l=o.getMonth();if(v.length>0&&v[v.length-1].iMonth==l){v[v.length-1].iDays++}else{v.push({iMonth:l,iDays:1})}o.setDate(o.getDate()+1)}var g=r.getMonthsStandAlone("wide",t.getPrimaryCalendarType());for(p=0;p<v.length;p++){var u=v[p];d=100/s*u.iDays+"%";e.openStart("div",i+"-Head"+p);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g[u.iMonth]);e.close("div")}};n.renderDays=function(e,t,r){var n=t.getDays();var i=100/n+"%";var s=t.getShowDayNamesLine();var o=t.getPrimaryCalendarType();if(!r){r=t._getFocusedDate()}var d=this.getDayHelper(t,r);if(!s){if(t._bLongWeekDays||!t._bNamesLengthChecked){d.aWeekDays=d.oLocaleData.getDaysStandAlone("abbreviated",o)}else{d.aWeekDays=d.oLocaleData.getDaysStandAlone("narrow",o)}d.aWeekDaysWide=d.oLocaleData.getDaysStandAlone("wide",o)}var l=new a(r,o);e.openStart("div");e.attr("role","row");e.openEnd();for(var v=0;v<n;v++){this.renderDay(e,t,l,d,false,false,v,i,!s);l.setDate(l.getDate()+1)}e.close("div")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Header", ["sap/ui/core/Control","sap/ui/unified/library","./HeaderRenderer","sap/ui/dom/containsOrEquals"],function(t,e,i,n){"use strict";var r=t.extend("sap.ui.unified.calendar.Header",{metadata:{library:"sap.ui.unified",properties:{textButton0:{type:"string",group:"Appearance"},additionalTextButton0:{type:"string",group:"Appearance"},ariaLabelButton0:{type:"string",group:"Misc"},visibleButton0:{type:"boolean",group:"Appearance",defaultValue:false},textButton1:{type:"string",group:"Appearance"},additionalTextButton1:{type:"string",group:"Appearance"},ariaLabelButton1:{type:"string",group:"Misc"},visibleButton1:{type:"boolean",group:"Appearance",defaultValue:true},textButton2:{type:"string",group:"Appearance"},additionalTextButton2:{type:"string",group:"Appearance"},ariaLabelButton2:{type:"string",group:"Misc"},visibleButton2:{type:"boolean",group:"Appearance",defaultValue:true},enabledPrevious:{type:"boolean",group:"Behavior",defaultValue:true},enabledNext:{type:"boolean",group:"Behavior",defaultValue:true},visibleCurrentDateButton:{type:"boolean",group:"Appearance",defaultValue:false}},events:{pressPrevious:{},pressNext:{},pressCurrentDate:{},pressButton0:{},pressButton1:{},pressButton2:{}}},renderer:i});r.prototype._setVisibleButton3=function(t){this._visibleButton3=t;this.invalidate();return this};r.prototype._getVisibleButton3=function(){return this._visibleButton3};r.prototype._setTextButton3=function(t){o.call(this,3,t);return this};r.prototype._getTextButton3=function(){return this._textButton3};r.prototype._setAdditionalTextButton3=function(t){s.call(this,3,t);return this};r.prototype._getAdditionalTextButton3=function(){return this._additionalTextButton3};r.prototype._setAriaLabelButton3=function(t){u.call(this,3,t);return this};r.prototype._getAriaLabelButton3=function(){return this._ariaLabelButton3};r.prototype._setVisibleButton4=function(t){this._visibleButton4=t;this.invalidate();return this};r.prototype._getVisibleButton4=function(){return this._visibleButton4};r.prototype._setTextButton4=function(t){o.call(this,4,t);return this};r.prototype._getTextButton4=function(){return this._textButton4};r.prototype._setAdditionalTextButton4=function(t){s.call(this,4,t);return this};r.prototype._getAdditionalTextButton4=function(){return this._additionalTextButton4};r.prototype._setAriaLabelButton4=function(t){u.call(this,4,t);return this};r.prototype._getAriaLabelButton4=function(){return this._ariaLabelButton4};r.prototype.onclick=function(t){if(t.isMarked("delayedMouseEvent")){return}if(n(this.getDomRef("prev"),t.target)&&this.getEnabledPrevious()){this.firePressPrevious()}else if(n(this.getDomRef("next"),t.target)&&this.getEnabledNext()){this.firePressNext()}else if(n(this.getDomRef("today"),t.target)&&this.getVisibleCurrentDateButton()){this.firePressCurrentDate()}else if(n(this.getDomRef("B0"),t.target)){this.firePressButton0()}else if(n(this.getDomRef("B1"),t.target)){this.firePressButton1()}else if(n(this.getDomRef("B2"),t.target)){this.firePressButton2()}else if(n(this.getDomRef("B3"),t.target)){this.fireEvent("pressButton3")}else if(n(this.getDomRef("B4"),t.target)){this.fireEvent("pressButton4")}};r.prototype.onsapnext=function(t){t.preventDefault()};function o(t,e){this["_textButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(this.$("B"+t+"-Text").get(0)){this.$("B"+t+"-Text").text(e)}else{this.$("B"+t).text(e)}}}function s(t,e){var i=false;var n=this["_getAdditionalTextButton"+t]();if(n==e){return}if(!n&&e||n&&!e){i=true}this["_additionalTextButton"+t]=e;if(!i&&this.isActive()&&this["_getVisibleButton"+t]()){this.$("B"+t+"-AddText").text(e)}if(i){this.invalidate()}}function u(t,e){this["_ariaLabelButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(e){this.$("B"+t).attr("aria-label",e)}else{this.$("B"+t).removeAttr("aria-label")}}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/HeaderRenderer", ["sap/ui/core/Configuration"],function(t){"use strict";var e=5;var a={apiVersion:2};a.render=function(a,i){var n=t.getLocale().getLanguage();var s=i.getTooltip_AsString();var l=i.getId();var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var r=o.getText("CALENDAR_BTN_NEXT");var u=o.getText("CALENDAR_BTN_PREV");var d=o.getText("CALENDAR_BTN_TODAY");a.openStart("div",i);a.class("sapUiCalHead");if(i.getVisibleCurrentDateButton()){a.class("sapUiCalHeaderWithTodayButton")}if(s){a.attr("title",s)}a.accessibilityState(i);a.openEnd();a.openStart("button",l+"-prev");a.attr("title",u);a.accessibilityState(null,{label:u});a.class("sapUiCalHeadPrev");if(!i.getEnabledPrevious()){a.class("sapUiCalDsbl");a.attr("disabled","disabled")}a.attr("tabindex","-1");a.openEnd();a.icon("sap-icon://slim-arrow-left",null,{title:null});a.close("button");var c=-1;var b=-1;var g=0;var B;for(g=0;g<e;g++){if(this.getVisibleButton(i,g)){if(c<0){c=g}b=g}}for(g=0;g<e;g++){if(n.toLowerCase()==="ja"||n.toLowerCase()==="zh"){B=e-1-g;if(this._isTwoMonthsCalendar(i)){switch(g){case 0:B=2;break;case 2:B=4;break;case 1:B=1;break;case 3:B=3;break}}}else{B=g}if(this._isTwoMonthsCalendar(i)){c=2;b=3}this.renderCalendarButtons(a,i,l,c,b,B)}if(!i.getVisibleButton0()&&!i.getVisibleButton1()&&!i.getVisibleButton2()&&!i._getVisibleButton3()&&!i._getVisibleButton4()){a.openStart("div",l+"-B"+"-Placeholder");a.class("sapUiCalHeadBPlaceholder");a.openEnd();a.close("span")}a.openStart("button",l+"-next");a.attr("title",r);a.accessibilityState(null,{label:r});a.class("sapUiCalHeadNext");if(!i.getEnabledNext()){a.class("sapUiCalDsbl");a.attr("disabled","disabled")}a.attr("tabindex","-1");a.openEnd();a.icon("sap-icon://slim-arrow-right",null,{title:null});a.close("button");if(i.getVisibleCurrentDateButton()){a.openStart("button",l+"-today");a.attr("title",d);a.accessibilityState(null,{label:d});a.class("sapUiCalHeadB");a.class("sapUiCalHeadToday");a.openEnd();a.icon("sap-icon://appointment",null,{title:null});a.close("button")}a.close("div")};a.renderCalendarButtons=function(t,e,a,i,n,s){var l={};if(this.getVisibleButton(e,s)){t.openStart("button",a+"-B"+s);t.class("sapUiCalHeadB");t.class("sapUiCalHeadB"+s);if(i===s){t.class("sapUiCalHeadBFirst")}if(n===s){t.class("sapUiCalHeadBLast")}if(this.getAriaLabelButton(e,s)){l["label"]=this.getAriaLabelButton(e,s)}t.accessibilityState(null,l);l={};t.openEnd();var o=this.getTextButton(e,s)||"";var r=this.getAdditionalTextButton(e,s)||"";if(r){t.openStart("span",a+"-B"+s+"-Text");t.class("sapUiCalHeadBText");t.openEnd();t.text(o);t.close("span");t.openStart("span",a+"-B"+s+"-AddText");t.class("sapUiCalHeadBAddText");t.openEnd();t.text(r);t.close("span")}else{t.text(o)}t.close("button")}};a.getVisibleButton=function(t,e){var a=false;if(t["getVisibleButton"+e]){a=t["getVisibleButton"+e]()}else if(t["_getVisibleButton"+e]){a=t["_getVisibleButton"+e]()}return a};a.getAriaLabelButton=function(t,e){var a;if(t["getAriaLabelButton"+e]){a=t["getAriaLabelButton"+e]()}else if(t["_getAriaLabelButton"+e]){a=t["_getAriaLabelButton"+e]()}return a};a.getTextButton=function(t,e){var a;if(t["getTextButton"+e]){a=t["getTextButton"+e]()}else if(t["_getTextButton"+e]){a=t["_getTextButton"+e]()}return a};a.getAdditionalTextButton=function(t,e){var a;if(t["getAdditionalTextButton"+e]){a=t["getAdditionalTextButton"+e]()}else if(t["_getAdditionalTextButton"+e]){a=t["_getAdditionalTextButton"+e]()}return a};a._isTwoMonthsCalendar=function(t){return t.getParent()instanceof sap.ui.unified.Calendar&&t.getParent().getMonths()>=2};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPicker", ["sap/ui/core/Control","sap/ui/unified/calendar/Header","sap/ui/unified/calendar/IndexPickerRenderer","sap/ui/core/delegate/ItemNavigation","sap/ui/events/KeyCodes"],function(e,t,i,a,n){"use strict";var s=e.extend("sap.ui.unified.calendar.IndexPicker",{metadata:{library:"sap.ui.unified",properties:{startIndex:{type:"int",group:"Data",defaultValue:0},selectedIndex:{type:"int",group:"Data",defaultValue:0},formatter:{type:"object",group:"Data"},rows:{type:"int",group:"Data",defaultValue:4},columns:{type:"int",group:"Data",defaultValue:3},periodSize:{type:"int",group:"Data",defaultValue:1}},aggregations:{header:{type:"sap.ui.unified.calendar.Header",multiple:false}},events:{select:{},focus:{}}},renderer:i});s.prototype.init=function(){this._initializeHeader();this.iCurrentIndex=0};s.prototype.onBeforeRendering=function(){this.getHeader().setEnabledPrevious(this.getStartIndex()>0)};s.prototype.onAfterRendering=function(){r.call(this)};s.prototype._initializeHeader=function(){var e=new t(this.getId()+"--Head",{visibleButton1:false,visibleButton2:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);this.setAggregation("header",e)};s.prototype._handlePrevious=function(){this.goToPreviousPage()};s.prototype.goToPreviousPage=function(){var e=this.getStartIndex()-this.getRows()*this.getColumns();e=Math.max(0,e);this.setStartIndex(e)};s.prototype._handleNext=function(){this.goToNextPage()};s.prototype.goToNextPage=function(){var e=this.getStartIndex()+this.getRows()*this.getColumns();this.setStartIndex(e)};s.prototype.onmouseup=function(e){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))};s.prototype.onkeydown=function(e){if(e.keyCode===n.ENTER){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype.onkeyup=function(e){if(e.keyCode===n.SPACE){e.preventDefault();var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype._selectIndex=function(e){this.setSelectedIndex(e);this.iCurrentIndex=0;this.fireSelect({index:e})};s.prototype._getFormatter=function(){return this.getFormatter()||o};function o(e){return(e+1).toString()}function r(){var e=0,t=false,i=this.getDomRef(),n=i.querySelectorAll(".sapMIPItem"),s=this.getColumns();for(var o=0;o<n.length;o++){if(n[o].getAttribute("data-sap-ui-index")===this.getSelectedIndex()){e=o;t=true;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,u,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(s>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(s,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(n);if(!t){e=this.iCurrentIndex%n.length}this._oItemNavigation.setFocusedIndex(e);this._oItemNavigation.focusItem(e);this._oItemNavigation.setPageSize(n.length)}function u(e){var t=e.getParameter("index");var i=e.getParameter("event");if(!i){return}var a=e.getParameter("index");var n=this._oItemNavigation.getItemDomRefs();var s=n[t];this.iCurrentIndex=a;a=s.getAttribute("data-sap-ui-index");this.fireFocus({index:a})}s.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var i=parseInt(t.target.getAttribute("data-sap-ui-index"));var a=e.getParameter("index");if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===n.ARROW_DOWN){i+=this.getColumns();a+=this.getColumns()}else{i+=1;a+=1}this.goToNextPage();break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===n.ARROW_UP){i-=this.getColumns();a-=this.getColumns()}else{i-=1;a-=1}this.goToPreviousPage();break;default:break}var s=this._oItemNavigation.getItemDomRefs();a=Math.abs(s.length-Math.abs(a));this.iCurrentIndex=a;this._oItemNavigation.focusItem(s[a]);this.fireFocus({index:i})}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPickerRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var s,a={role:"gridcell",selected:false,label:"",describedby:""};e.openStart("div",t);e.class("sapMIP");e.openEnd();var l=t.getAggregation("header");e.renderControl(l);e.openStart("div");e.class("sapMIPContent");e.attr("role","grid");e.openEnd();for(var d=0;d<t.getRows();d++){e.openStart("div",t.getId()+"-"+d);e.class("sapMIPRow");e.attr("role","row");e.openEnd();var r=t.getSelectedIndex()+t.getPeriodSize()-1;for(var i=0;i<t.getColumns();i++){s=t.getStartIndex()+t.getColumns()*d+i;e.openStart("div");e.class("sapMIPItem");if(s===t.getSelectedIndex()){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelStart");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-Start"}else if(s===r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelEnd");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-End"}else if(s>t.getSelectedIndex()&&s<r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelBetween");a["selected"]=true}else{a["selected"]=false}e.accessibilityState(null,a);e.class("sapUiCalItem");e.class("customWidth");e.attr("tabindex","-1");e.attr("data-sap-ui-index",s);e.openEnd();e.text(t._getFormatter()(s));e.close("div")}e.close("div")}e.close("div");e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Month", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/DateTypeRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/InvisibleMessage","sap/ui/core/Configuration","sap/ui/core/date/CalendarWeekNumbering","sap/ui/core/date/CalendarUtils","sap/ui/core/date/UI5Date","sap/base/Log"],function(e,t,a,i,s,r,o,n,l,h,g,d,u,c,p,jQuery,f,y,D,_,m,v){"use strict";var S=g.InvisibleMessageMode;var C=g.CalendarType;var b=l.CalendarDayType;var M=e.extend("sap.ui.unified.calendar.Month",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},_focusedDate:{type:"object",group:"Data",visibility:"hidden",defaultValue:null},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},otherMonth:{type:"boolean"},restoreOldDate:{type:"boolean"}}},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:u});M.prototype.init=function(){this._mouseMoveProxy=this._handleMouseMove.bind(this);this._iColumns=7;this._oMinDate=s._minDate(this._getPrimaryCalendarType());this._oMaxDate=s._maxDate(this._getPrimaryCalendarType());this._aVisibleDays=[];this._bAlwaysShowSpecialDates=false;this._oUnifiedRB=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified")};M.prototype._getAriaRole=function(){return"gridcell"};M.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}this._aVisibleDays=null;this._bAlwaysShowSpecialDates=null};M.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};M.prototype.onBeforeRendering=function(){this._oFormatYyyymmdd=h.getInstance({pattern:"yyyyMMdd",calendarType:C.Gregorian});this._oFormatLong=h.getInstance({style:"long",calendarType:this._getPrimaryCalendarType()});if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){v.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}};M.prototype.onAfterRendering=function(){this.bSpaceButtonPressed=false;T.call(this);P.call(this);this._oInvisibleMessage=f.getInstance()};M.prototype.onmouseover=function(e){var t=jQuery(e.target),a=this.getSelectedDates()[0],i,s;if(!this._isMarkingUnfinishedRangeAllowed()){return}if(!t.hasClass("sapUiCalItemText")&&!t.hasClass("sapUiCalItem")){return}if(t.hasClass("sapUiCalItemText")){t=t.parent()}i=parseInt(this._oFormatYyyymmdd.format(a.getStartDate()));s=t.data("sapDay");if(this.hasListeners("datehovered")){this.fireEvent("datehovered",{date1:i,date2:s})}else{this._markDatesBetweenStartAndHoveredDate(i,s)}};M.prototype._markDatesBetweenStartAndHoveredDate=function(e,t){var a,i,s,r;a=this.$().find(".sapUiCalItem");if(e>t){e=e+t;t=e-t;e=e-t}for(r=0;r<a.length;r++){i=jQuery(a[r]);s=i.data("sapDay");if(s>e&&s<t&&this._isInAllowedRange(s)){i.addClass("sapUiCalItemSelBetween")}else{i.removeClass("sapUiCalItemSelBetween");if(s!=e&&s!=t){i.removeClass("sapUiCalItemSel")}}}};M.prototype._isInAllowedRange=function(e){return this._oFormatYyyymmdd.parse(e).getTime()>this._oMinDate.toLocalJSDate().getTime()&&this._oFormatYyyymmdd.parse(e).getTime()<this._oMaxDate.toLocalJSDate().getTime()};M.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!c(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){this._unbindMousemove(true);var t=this._selectDay(this._getDate());if(!t&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;w.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;w.call(this)}}};M.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};M.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};M.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};M.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};M.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};M.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};M.prototype.setDate=function(e){if(e){var t=r.fromLocalJSDate(e,this._getPrimaryCalendarType());I.call(this,t)}return this.setProperty("date",e)};M.prototype._getDate=function(){if(!this._oDate){this._oDate=r.fromLocalJSDate(m.getInstance(),this._getPrimaryCalendarType())}return this._oDate};M.prototype.displayDate=function(e){var t=r.fromLocalJSDate(e,this._getPrimaryCalendarType());I.call(this,t);return this};M.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatLong=h.getInstance({style:"long",calendarType:e});if(this._oDate){this._oDate=new r(this._oDate,e)}return this};M.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oFormatSecondaryLong=h.getInstance({style:"long",calendarType:e});return this};M.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};M.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=y.getFormatSettings().getFormatLocale().toString()}return this._sLocale};M.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var i=new d(t);this._oLocaleData=a.getInstance(i)}return this._oLocaleData};M.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!==e){var t=new d(e);this._oFormatLong=h.getInstance({style:"long",calendarType:this._getPrimaryCalendarType()},t);if(this._oFormatSecondaryLong){this._oFormatSecondaryLong=h.getInstance({style:"long",calendarType:this._getSecondaryCalendarType()},t)}}return this._oFormatLong};M.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};M.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};M.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};M.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};M.prototype.getDisabledDates=function(){var e=this.getParent();if(e&&e.getDisabledDates){return e.getDisabledDates()}else{return this.getAggregation("disabledDates",[])}};M.prototype.getPrimaryCalendarType=function(){var e=this.getParent();if(e&&e.getPrimaryCalendarType){return e.getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")};M.prototype._getPrimaryCalendarType=function(){var e=this.getParent();if(e&&e._getPrimaryCalendarType){return e._getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")||y.getCalendarType()};M.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowMonthHeader){return e._getShowMonthHeader()}else{return this.getProperty("showHeader")}};M.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};M.prototype.getLegend=function(){var e=this.getParent();if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend",[])}};M.prototype._getFirstDayOfWeek=function(){var e=this.getParent();var t=0;if(e&&e.getFirstDayOfWeek){t=e.getFirstDayOfWeek()}else{t=this.getProperty("firstDayOfWeek")}if(t<0||t>6){var a=_.getWeekConfigurationValues(this.getCalendarWeekNumbering(),new d(this._getLocale()));if(a){t=a.firstDayOfWeek}else{var i=this._getLocaleData();t=i.getFirstDayOfWeek()}}return t};M.prototype._getNonWorkingDays=function(){var e=this.getParent();var t;if(e&&e.getNonWorkingDays){t=e.getNonWorkingDays()}else{t=this.getProperty("nonWorkingDays")}if(t&&!Array.isArray(t)){t=[]}return t};M.prototype._isSpecialDateMarkerEnabled=function(e){var t;if(this.getStartDate){t=this.getStartDate()}else if(this.getDate()){t=this.getDate()}else{t=m.getInstance()}return this._bAlwaysShowSpecialDates||s._isSameMonthAndYear(e,r.fromLocalJSDate(t))};M.prototype._checkDateSelected=function(e){s._checkCalendarDate(e);var t=0,a=this.getSelectedDates(),i=this._getPrimaryCalendarType(),o=0,n=this.getProperty("_focusedDate"),l=false,h=this.getParent(),g=this._bCalendar&&h.getMonths(),d,u;for(o=0;o<a.length;o++){var c=a[o],p=c.getStartDate()?r.fromLocalJSDate(c.getStartDate(),i):undefined,f=c.getEndDate()?r.fromLocalJSDate(c.getEndDate(),i):undefined;if(p&&f){u=this._arrangeStartAndEndDates(p,f);p=u.startDate;f=u.endDate}d=n&&p&&g===1&&n.getMonth()!==p.getMonth();l=this._isMarkingUnfinishedRangeAllowed()&&n&&!d&&(s._isBetween(e,p,n,true)||s._isBetween(e,n,p,true));if(p&&!f&&e.isSame(p)){t=1;break}else if(f&&e.isSame(p)){t=2;if(e.isSame(f)){t=5}break}else if(f&&e.isSame(f)){t=3;break}else if(f&&e.isAfter(p)&&e.isBefore(f)||l){t=4;break}if(this.getSingleSelection()){break}}return t};M.prototype._getDateTypes=function(e){s._checkCalendarDate(e);var t,a,i,r=[];var o=this._getSpecialDates();var n=e.toUTCJSDate().getTime();var l=m.getInstance(Date.UTC(0,0,1));for(var h=0;h<o.length;h++){var g=o[h];var d=g.getStartDate();var u=s.MAX_MILLISECONDS;if(d){l.setUTCFullYear(d.getFullYear(),d.getMonth(),d.getDate());u=l.getTime()}var c=g.getEndDate();var p=-s.MAX_MILLISECONDS;if(c){l.setUTCFullYear(c.getFullYear(),c.getMonth(),c.getDate());p=l.getTime()}i=g.getType()===b.NonWorking;if(n===u&&!c||n>=u&&n<=p){if(!i&&!t){t={type:g.getType(),tooltip:g.getTooltip_AsString(),color:g.getColor()};r.push(t)}else if(i&&!a){a={type:g.getType(),tooltip:g.getTooltip_AsString()};r.push(a)}if(t&&a){break}}}return r};M.prototype._checkDateEnabled=function(e){s._checkCalendarDate(e);var t=true;var a=this.getDisabledDates();var i=e.toUTCJSDate().getTime();var o=this._getPrimaryCalendarType();var n=this.getParent();if(n&&n._oMinDate&&n._oMaxDate){if(i<n._oMinDate.valueOf()||i>n._oMaxDate.valueOf()){return false}}for(var l=0;l<a.length;l++){var h=a[l];var g=h.getStartDate();var d=0;if(g){g=r.fromLocalJSDate(g,o);d=g.toUTCJSDate().getTime()}var u=h.getEndDate();var c=0;if(u){u=r.fromLocalJSDate(u,o);c=u.toUTCJSDate().getTime()}if(u){if(i>d&&i<c){t=false;break}}else if(i===d){t=false;break}}return t};M.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){this._unbindMousemove(true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(this._sLastTargetId&&this._sLastTargetId===t.attr("id")){return}this._sLastTargetId=t.attr("id");if(t.hasClass("sapUiCalItem")){var a=this._getDate();if(c(this.getDomRef(),e.target)){var i=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(t.attr("data-sap-day")),this._getPrimaryCalendarType());if(!i.isSame(a)){this._oDate=i;var s=this._selectDay(i,true);if(s){this._oMoveSelectedDate=new r(i,this._getPrimaryCalendarType())}this._bMoveChange=true}}}};M.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY};if(e.button||t.support.touch||!this._isWeekSelectionAllowed()||!e.target.classList.contains("sapUiCalWeekNum")){return}var a=jQuery(e.target),i=a.siblings().eq(0).attr("data-sap-day"),s=this._oFormatYyyymmdd.parse(i),o=r.fromLocalJSDate(s,this._getPrimaryCalendarType());this._handleWeekSelection(o,true)};M.prototype.onmouseup=function(e){var a=e.button!==2;if(this._bMouseMove){this._unbindMousemove(true);var i=this._getDate();var s=this._oItemNavigation.getItemDomRefs();for(var r=0;r<s.length;r++){var o=jQuery(s[r]);if(!o.hasClass("sapUiCalItemOtherMonth")){if(o.attr("data-sap-day")===this._oFormatYyyymmdd.format(i.toUTCJSDate(),true)){o.trigger("focus");break}}}if(this._bMoveChange){var n=this._selectDay(i);if(!n&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;w.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;w.call(this)}else if(t.support.touch&&a&&this._areMouseEventCoordinatesInThreshold(e.clientX,e.clientY,10)){var l=e.target.classList,h=l.contains("sapUiCalItemText")||l.contains("sapUiCalDayName"),g=l.contains("sapUiCalWeekNum"),d=this._getSelectedDateFromEvent(e);if(g&&this._isWeekSelectionAllowed()){this._handleWeekSelection(d,true)}else if(h&&e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(d)}else if(h){this._selectDay(d,false,false);w.call(this)}}};M.prototype.onsapselect=function(e){var t=this.getParent();if(this.bSpaceButtonPressed){return}if(t&&t._isMultiDatesSelectionHeaderAllowed&&!t._isMultiDatesSelectionHeaderAllowed()){return}var a=this._selectDay(this._getSelectedDateFromEvent(e));if(a){w.call(this)}e.stopPropagation();e.preventDefault()};M.prototype.onkeydown=function(e){if(e.which===p.SPACE){this.bSpaceButtonPressed=true}};M.prototype.onkeyup=function(e){if(e.which===p.SPACE){this.bSpaceButtonPressed=false}};M.prototype.onsapselectmodifiers=function(e){var t=this._getSelectedDateFromEvent(e),a,i=this.getParent();if(this._isWeekSelectionAllowed()&&e.shiftKey&&e.keyCode===p.SPACE){if(i&&i._isMultiDatesSelectionHeaderAllowed&&!i._isMultiDatesSelectionHeaderAllowed()){return}a=s._getFirstDateOfWeek(t);this._handleWeekSelection(a,false)}else if(this._isConsecutiveDaysSelectionAllowed()&&e.shiftKey&&e.keyCode===p.ENTER){this._handleConsecutiveDaysSelection(t)}e.preventDefault()};M.prototype.onsappageupmodifiers=function(e){var t=new r(this._getDate(),this._getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{t.setYear(a-1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};M.prototype.onsappagedownmodifiers=function(e){var t=new r(this._getDate(),this._getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{t.setYear(a+1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};M.prototype._isValueInThreshold=function(e,t,a){var i=e-a,s=e+a;return t>=i&&t<=s};M.prototype._areMouseEventCoordinatesInThreshold=function(e,t,a){return this._oMousedownPosition&&this._isValueInThreshold(this._oMousedownPosition.clientX,e,a)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t,a)?true:false};M.prototype._bindMousemove=function(e){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true;if(e){this.fireEvent("_bindMousemove")}};M.prototype._unbindMousemove=function(e){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined;this._sLastTargetId=undefined;if(e){this.fireEvent("_unbindMousemove")}};M.prototype.onThemeChanged=function(){if(this._bNoThemeChange||!this.getDomRef()){return}var e=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),t=this._getLocaleData(),a=this._getFirstWeekDay(),i=t.getDaysStandAlone("abbreviated",this._getPrimaryCalendarType()),s,r;this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;for(r=0;r<e.length;r++){s=e[r];s.textContent=i[(r+a)%7]}P.call(this)};M.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var a=0;var i=this._getDate();var s=new r(i,this._getPrimaryCalendarType());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===p.ARROW_DOWN){s.setDate(s.getDate()+7)}else{s.setDate(s.getDate()+1)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===p.ARROW_UP){s.setDate(s.getDate()-7)}else{s.setDate(s.getDate()-1)}break;case"sappagedown":a=s.getMonth()+1;s.setMonth(a);if(a%12!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;case"sappageup":a=s.getMonth()-1;s.setMonth(a);if(a<0){a=11}if(a!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;default:break}this.fireFocus({date:s.toLocalJSDate(),otherMonth:true})}};M.prototype.checkDateFocusable=function(e){s._checkJSDateObject(e);var t=this._getDate();var a=r.fromLocalJSDate(e,this._getPrimaryCalendarType());return s._isSameMonthAndYear(a,t)};M.prototype.applyFocusInfo=function(e){return this};M.prototype._getFirstWeekDay=function(){return this._getFirstDayOfWeek()};M.prototype._isMonthNameLong=function(e){var t;var a;for(t=0;t<e.length;t++){a=e[t];if(Math.abs(a.clientWidth-a.scrollWidth)>1){return true}}return false};M.prototype._getVisibleDays=function(e,t){var a,i,s,o,n,l,h;if(!e){return this._aVisibleDays}this._aVisibleDays=[];l=this._getFirstDayOfWeek();n=new r(e,this._getPrimaryCalendarType());n.setDate(1);o=n.getDay()-l;if(o<0){o=7+o}if(o>0){n.setDate(1-o)}i=new r(n);a=(e.getMonth()+1)%12;do{h=i.getYear();s=new r(i,this._getPrimaryCalendarType());if(t&&h<1){s._bBeforeFirstYear=true;this._aVisibleDays.push(s)}else if(h>0&&h<1e4){this._aVisibleDays.push(s)}i.setDate(i.getDate()+1)}while(i.getMonth()!==a||i.getDay()!==l);return this._aVisibleDays};M.prototype._handleMousedown=function(e,a){var i=e.target.classList.contains("sapUiCalWeekNum"),s=!e.button,o=this._getSelectedDateFromEvent(e);if(!s||t.support.touch){return this}if(i){this._isWeekSelectionAllowed()&&this._handleWeekSelection(o,true);return this}else if(e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(o);return this}var n=this._selectDay(a);if(n){this._bMousedownChange=true}if(this._bMouseMove){this._unbindMousemove(true);this._bMoveChange=false;this._oMoveSelectedDate=undefined}else if(n&&this.getIntervalSelection()&&this.$().is(":visible")){this._bindMousemove(true);this._oMoveSelectedDate=new r(a,this._getPrimaryCalendarType())}e.preventDefault();e.setMark("cancelAutoClose")};M.prototype._getSelectedDateFromEvent=function(e){var t=e.target,a,i;if(t.classList.contains("sapUiCalWeekNum")){a=t.nextSibling.getAttribute("data-sap-day")}else{a=t.getAttribute("data-sap-day")||t.parentNode.getAttribute("data-sap-day")}i=this._oFormatYyyymmdd.parse(a);return i?r.fromLocalJSDate(i,this._getPrimaryCalendarType()):null};M.prototype._handleWeekSelection=function(e,t){var a=this._calculateWeekNumber(e),i=this._getLastWeekDate(e),s=this.getSingleSelection(),o=this.getIntervalSelection(),n=this._checkDateEnabled(e)?e:null,l=this._checkDateEnabled(i)?i:null;if(e.isAfter(this._oMaxDate)||i.isBefore(this._oMinDate)){return this}if(!n){n=new r(this._oMinDate)}if(!l){l=new r(this._oMaxDate)}if(!s&&!o){this._handleWeekSelectionByMultipleDays(a,n,l)}else if(s&&o){this._handleWeekSelectionBySingleInterval(a,n,l)}t&&this._focusDate(n);return this};M.prototype._handleConsecutiveDaysSelection=function(e){var t=this.getSelectedDates(),a=t.length&&t[t.length-1].getStartDate(),i=a?r.fromLocalJSDate(a):e,s;s=this._areAllDaysBetweenSelected(i,e);this._toggleDaysBetween(i,e,!s);return this};M.prototype._calculateWeekNumber=function(e){var t=new d(this._getLocale());var a=this._getLastWeekDate(e);var i=this._getLocaleData();var s;var r;s=h.getInstance({pattern:"w",calendarType:this._getPrimaryCalendarType(),calendarWeekNumbering:this.getCalendarWeekNumbering()},t);var o=i.firstDayStartsFirstWeek();if(a.getMonth()===0&&this._oDate.getMonth()===0&&o){r=s.format(a.toLocalJSDate())}else{r=s.format(e.toLocalJSDate())}return r};M.prototype._isWeekSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection(),a=this._getPrimaryCalendarType(),i=this.getFirstDayOfWeek()!==-1,s=!e&&!t,r=e&&t,o=r||s;return a===C.Gregorian&&!i&&o};M.prototype._isConsecutiveDaysSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection();return!e&&!t};M.prototype._isMarkingUnfinishedRangeAllowed=function(){var e=this.getSelectedDates()[0],t=!!(e&&e.getStartDate()&&!e.getEndDate());return this.getIntervalSelection()&&t};M.prototype._handleWeekSelectionByMultipleDays=function(e,t,a){var i,s,r;i=this._areAllDaysBetweenSelected(t,a)?new o({startDate:t.toLocalJSDate()}):new o({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()});s=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});r=i.getEndDate()?true:false;if(s){this._toggleDaysBetween(t,a,r)}return this};M.prototype._handleWeekSelectionBySingleInterval=function(e,t,a){var i=new o({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()}),s=this.getParent(),r=this,n;if(s&&s.getSelectedDates){r=s}if(this._isIntervalSelected(i)){i=null}n=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});if(n){r.removeAllSelectedDates();r.addSelectedDate(i)}return this};M.prototype._isIntervalSelected=function(e){var t=this.getSelectedDates(),a=t.length&&t[0],i=a&&a.getEndDate();return a&&a.getStartDate()&&a.getStartDate().getTime()===e.getStartDate().getTime()&&i&&a.getEndDate()&&a.getEndDate().getTime()===e.getEndDate().getTime()};M.prototype._getLastWeekDate=function(e){return new r(e).setDate(e.getDate()+6)};M.prototype._toggleDaysBetween=function(e,t,a){var i=this._arrangeStartAndEndDates(e,t),s=new r(i.startDate),o;do{o=this._checkDateSelected(s);if(!o&&a||o&&!a){this._selectDay(s);w.call(this)}s.setDate(s.getDate()+1)}while(s.isSameOrBefore(i.endDate));return this};M.prototype._areAllDaysBetweenSelected=function(e,t){var a=this._arrangeStartAndEndDates(e,t),i=new r(a.startDate),s=true;do{if(!this._checkDateSelected(i)){s=false;break}i.setDate(i.getDate()+1)}while(i.isSameOrBefore(a.endDate));return s};M.prototype._arrangeStartAndEndDates=function(e,t){var a=e.isSameOrBefore(t);return{startDate:a?e:t,endDate:a?t:e}};M.prototype._selectDay=function(e,t){if(!this._checkDateEnabled(e)){return false}var a=this.getSelectedDates();var i;var s=this._oItemNavigation.getItemDomRefs();var n;var l;var h=0;var g=this.getParent();var d=this;var u;var c=this._getPrimaryCalendarType();if(g&&g.isA("sap.ui.unified.Calendar")){d=g}if(this.getSingleSelection()){if(a.length>0){i=a[0];u=i.getStartDate();if(u){u=r.fromLocalJSDate(u,c)}}else{i=new o;d.addAggregation("selectedDates",i,true)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&u){var p;if(e.isBefore(u)){p=u;u=e;if(!t){i.setProperty("startDate",u.toLocalJSDate());i.setProperty("endDate",p.toLocalJSDate())}}else if(e.isSameOrAfter(u)){p=e;if(!t){i.setProperty("endDate",p.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),S.Assertive)}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var f=this._checkDateSelected(e);if(f>0){for(h=0;h<a.length;h++){u=a[h].getStartDate();if(u&&e.isSame(r.fromLocalJSDate(u,c))){d.removeAggregation("selectedDates",h,true);break}}}else{this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),S.Assertive);i=new o({startDate:e.toLocalJSDate()});d.addAggregation("selectedDates",i,true)}l=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true);for(h=0;h<s.length;h++){n=jQuery(s[h]);if(n.attr("data-sap-day")===l){if(f>0){n.removeClass("sapUiCalItemSel");n.attr("aria-selected","false")}else{n.addClass("sapUiCalItemSel");n.attr("aria-selected","true")}}}}}return true};M.prototype._getSpecialDates=function(){var e=this.getParent();if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===l.CalendarDayType.NonWorking&&t[a].getType()!==l.CalendarDayType.NonWorking;if(i){var s=new n;s.setType(l.CalendarDayType.NonWorking);s.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){s.setEndDate(t[a].getEndDate())}t.push(s)}}return t}};function T(){var e=this._oFormatYyyymmdd.format(this._getDate().toUTCJSDate(),true),t=0,a=this.getDomRef(),s=a.querySelectorAll(".sapUiCalItem");for(var r=0;r<s.length;r++){if(s[r].getAttribute("data-sap-day")===e){t=r;break}}if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,k,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,L,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(this._iColumns>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this._iColumns,true)}this._oItemNavigation.setRootDomRef(a);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setFocusedIndex(t);this._oItemNavigation.setPageSize(s.length)}function k(e){var t=e.getParameter("index"),a=e.getParameter("event"),i=this._getDate(),s=new r(i,this._getPrimaryCalendarType()),o=false,n=true,l=this._oItemNavigation.getItemDomRefs(),h=l[t],g=h.getAttribute("data-sap-day"),d;if(!a){return}if(h.classList.contains("sapUiCalItemOtherMonth")||h.classList.contains("sapUiCalItemDsbl")){if(a.type==="saphomemodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=0;u<l.length;++u){d=l[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day")),this._getPrimaryCalendarType());break}}this._focusDate(s)}else if(a.type==="sapendmodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=l.length-1;u>0;--u){d=l[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day")),this._getPrimaryCalendarType());break}}this._focusDate(s)}else{o=true;s=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(g),this._getPrimaryCalendarType());if(!s){s=new r(i)}this._focusDate(i);if(a.type==="mousedown"||this._sTouchstartYyyyMMdd&&a.type==="focusin"&&this._sTouchstartYyyyMMdd===g||h.classList.contains("sapUiCalItemDsbl")){n=false;this.fireFocus({date:i.toLocalJSDate(),otherMonth:false,restoreOldDate:true})}this._sTouchstartYyyyMMdd=a.originalEvent&&a.originalEvent.type==="touchstart"?g:undefined}}else{if(a.target.classList.contains("sapUiCalWeekNum")){this._focusDate(s)}else{s=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(g),this._getPrimaryCalendarType());this._oDate=s}this._sTouchstartYyyyMMdd=undefined}if(a.type==="mousedown"&&this.getIntervalSelection()){this._sLastTargetId=h.id}if(n){this.fireFocus({date:s.toLocalJSDate(),otherMonth:o})}if(a.type==="mousedown"){this._handleMousedown(a,s,t)}}function L(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type==="mousedown"){var i=this._getDate();if(this.getIntervalSelection()){var s=this._oItemNavigation.getItemDomRefs();this._sLastTargetId=s[t].id}this._handleMousedown(a,i,t)}}function I(e){s._checkCalendarDate(e);var t=e.getYear();s._checkYearInValidRange(t);if(!this.getDate()||!e.isSame(r.fromLocalJSDate(this.getDate(),e.getCalendarType()))){var a=new r(e);this.setProperty("date",e.toLocalJSDate());this._oDate=a}else{this.invalidate()}}M.prototype._focusDate=function(e,a,i){if(!a){this.setDate(e.toLocalJSDate())}var s=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true),r=this._oItemNavigation.getItemDomRefs(),o;for(var n=0;n<r.length;n++){o=r[n];if(o.getAttribute("data-sap-day")===s){if(document.activeElement!==r[n]){if(i||t.system.phone){this._oItemNavigation.setFocusedIndex(n)}else{this._oItemNavigation.focusItem(n)}}break}}};function w(){if(this._bMouseMove){this._unbindMousemove(true)}this.fireSelect()}function P(){if(!this._bNamesLengthChecked){var e,t=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),a=this._isMonthNameLong(t),i,s,r,o;if(a){this._bLongWeekDays=false;i=this._getLocaleData();s=this._getFirstWeekDay();r=i.getDaysStandAlone("narrow",this._getPrimaryCalendarType());for(o=0;o<t.length;o++){e=t[o];e.textContent=r[(o+s)%7]}}else{this._bLongWeekDays=true}this._bNamesLengthChecked=true}}return M});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPicker", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/library","sap/ui/core/Locale","./MonthPickerRenderer","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/unified/DateRange","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(t,e,a,i,s,o,n,jQuery,r,h,l,g,c,f){"use strict";var d=12,u=2,p={OneYearBackward:-1,OneYearForward:1};var _=t.extend("sap.ui.unified.calendar.MonthPicker",{metadata:{library:"sap.ui.unified",properties:{month:{type:"int",group:"Data",defaultValue:0},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},columns:{type:"int",group:"Appearance",defaultValue:3},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},_firstMonth:{type:"int",group:"Data",visibility:"hidden",defaultValue:0},_focusedMonth:{type:"int",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{},pageChange:{}}},renderer:n});_.prototype.init=function(){this._iMinMonth=0;this._iMaxMonth=11};_.prototype.onAfterRendering=function(){var t,e=this.getMonth(),a=this.getMonths(),i=this.getProperty("_firstMonth"),s=this.getProperty("_focusedMonth"),o=this._oItemNavigation?this._oItemNavigation.getFocusedIndex():0;m.call(this);D.call(this);if(this.getColumns()>0){t=s%a;var n=parseInt(d/a),r=n*a;if(s>=r){t=12-r+1+t}}else if(e<i||e>i+a-1){t=o}else{t=e-i}this._oItemNavigation.focusItem(t)};_.prototype.setMonth=function(t){var e=Math.floor(t/this.getMonths())*this.getMonths();if(e+this.getMonths()>12){e=12-this.getMonths()}this.setProperty("month",t);this.setProperty("_focusedMonth",t);this.setProperty("_firstMonth",e);t=this.getProperty("month");if(t<0||t>11){throw new Error("Property month must be between 0 and 11; "+this)}if(this.getIntervalSelection()){this._oItemNavigation&&this._oItemNavigation.focusItem(t);return this}if(this.getDomRef()){if(this.getMonths()<12){var a=this.getStartMonth();if(t>=a&&t<=a+this.getMonths()-1){this._selectMonth(t,true);this._oItemNavigation.focusItem(t-a)}else{S.call(this,t)}}else{this._selectMonth(t,true);this._oItemNavigation.focusItem(t)}}return this};_.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};_.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||c.getCalendarType()};_.prototype._getSelectedDates=function(){var t=this.getSelectedDates(),e;if(t){return t}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new h];e=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());e.setMonth(this.getMonth(),1);this._iYear&&e.setYear(this._iYear);this._aMPSelectedDates[0].setStartDate(e.toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};_.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(t){t.destroy()});this._aMPSelectedDates=undefined}};_.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};_.prototype._setSelectedDatesControlOrigin=function(t){this._oSelectedDatesControlOrigin=t};_.prototype._setYear=function(t){this._iYear=t};_.prototype._setDate=function(t){this._oDate=t};_.prototype._getLocale=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocale){return t._getLocale()}else if(!this._sLocale){this._sLocale=c.getFormatSettings().getFormatLocale().toString()}return this._sLocale};_.prototype._getLocaleData=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocaleData){return t._getLocaleData()}else if(!this._oLocaleData){var e=this._getLocale();var i=new o(e);this._oLocaleData=a.getInstance(i)}return this._oLocaleData};_.prototype.onsapspace=function(t){t.preventDefault()};_.prototype.onsapselect=function(t){var e=this._oItemNavigation.getFocusedIndex();var a=e+this.getStartMonth();if(a>=this._iMinMonth&&a<=this._iMaxMonth){this._selectMonth(a);this.fireSelect()}};_.prototype.onmousedown=function(t){this._oMousedownPosition={clientX:t.clientX,clientY:t.clientY}};_.prototype.onmouseup=function(t){var a=t.target,i=this._getSelectedDates()[0],s,o,n;if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&a.classList.contains("sapUiCalItem")&&i){s=g.fromLocalJSDate(i.getStartDate(),this._getPrimaryCalendarType());o=i.getEndDate();n=this._extractMonth(a);if(n!==s.getMonth()&&!o&&n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this._oItemNavigation.focusItem(n)}}this.fireSelect()}else if(e.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,t.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t.clientY,10)){n=this._oItemNavigation.getFocusedIndex()+this.getStartMonth();if(n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this.fireSelect()}}};_.prototype.onmouseover=function(t){var e=t.target,a=this._getSelectedDates()[0],i,s;if(!a){return}if(a.getStartDate()){i=g.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());i.setDate(1)}if(e.classList.contains("sapUiCalItem")){s=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());s.setMonth(this._extractMonth(e),1);this._iYear&&s.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(i,s)}}};_.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}if(!this.getDomRef()){return}var t=this._oItemNavigation.getItemDomRefs(),e=this._getLocaleData(),a=e.getMonthsStandAlone("wide",this._getPrimaryCalendarType()),i,s;this._bNamesLengthChecked=undefined;this._bLongMonth=false;for(i=0;i<t.length;i++){s=jQuery(t[i]);s.text(a[i])}D.call(this)};_.prototype.nextPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a+i;if(a>d-1){a=d-1}S.call(this,a);var s=Math.floor(this.getStartMonth()+this.getMonths())%d;if(s+this.getMonths()>12){s=12-this.getMonths()}this.setProperty("_firstMonth",s);return this};_.prototype.previousPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a-i;if(a<0){a=0}S.call(this,a);var s=Math.floor(this.getStartMonth()-this.getMonths())%d;if(s<0){s=0}this.setProperty("_firstMonth",s);return this};_.prototype.setMinMax=function(t,e){var a,i,s,o;if(t==this._iMinMonth&&e==this._iMaxMonth){return this}t=parseInt(t);if(isNaN(t)||t<0||t>11){t=0}e=parseInt(e);if(isNaN(e)||e<0||e>11){e=11}if(t<=e){this._iMinMonth=t;this._iMaxMonth=e}else{this._iMaxMonth=t;this._iMinMonth=e}if(this.getDomRef()){a=this._oItemNavigation.getItemDomRefs();for(o=0;o<a.length;o++){i=jQuery(a[o]);s=this._extractMonth(a[o]);if(s<this._iMinMonth||s>this._iMaxMonth){i.addClass("sapUiCalItemDsbl");i.attr("aria-disabled",true)}else{i.removeClass("sapUiCalItemDsbl");i.removeAttr("aria-disabled")}}}return this};_.prototype.getStartMonth=function(){return this.getProperty("_firstMonth")};_.prototype._isValueInThreshold=function(t,e,a){var i=t-a,s=t+a;return e>=i&&e<=s};_.prototype._getSecondaryCalendarType=function(){var t=this.getSecondaryCalendarType();if(t===this._getPrimaryCalendarType()){return undefined}return t};_.prototype._getDisplayedSecondaryDates=function(t){var e=this.getSecondaryCalendarType(),a=new g(this._oDate?this._oDate:g.fromLocalJSDate(f.getInstance()),this._getPrimaryCalendarType()),i,s;a.setMonth(t);a.setDate(1);i=new g(a,e);a.setDate(l._daysInMonth(a));s=new g(a,e);return{start:i,end:s}};function m(){var t=this.getDomRef(),e=this.$().find(".sapUiCalItem"),a=this.getColumns();if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,this._handleAfterFocus,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,M,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,y,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(e);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(a,true);var s=this.getMonth()-this.getStartMonth();this._oItemNavigation.setFocusedIndex(s);this._oItemNavigation.setPageSize(e.length)}_.prototype._handleAfterFocus=function(t){var e=t.getParameter("index"),a=t.getParameter("event"),i=this._oItemNavigation.aItemDomRefs[e],s=this._getSelectedDates()[0],o,n;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,e)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=g.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());o.setDate(1)}n=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());n.setMonth(this._extractMonth(i),1);this._iYear&&n.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(o,n)}}};function M(t){this._handleAfterFocus(t)}_.prototype._isSelectionInProgress=function(){var t=this._getSelectedDates()[0];if(!t){return false}return this.getIntervalSelection()&&t.getStartDate()&&!t.getEndDate()};_.prototype._extractMonth=function(t){var e=this.getId().length+u;return parseInt(t.id.slice(e))};_.prototype._markInterval=function(t,e){var a=this._oItemNavigation.getItemDomRefs(),i=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType()),s;if(t.isAfter(e)){e=[t,t=e][0]}if(this._bMousedownChange){if(e.getMonth()>this._iMinMonth&&e.getMonth()<this._iMaxMonth){jQuery(a[e.getMonth()]).addClass("sapUiCalItemSel")}if(t.getMonth()>this._iMinMonth&&t.getMonth()<this._iMaxMonth){jQuery(a[t.getMonth()]).addClass("sapUiCalItemSel")}}for(s=0;s<a.length;++s){i.setMonth(this._extractMonth(a[s]),1);this._iYear&&i.setYear(this._iYear);if(l._isBetween(i,t,e)&&i.getMonth()>this._iMinMonth&&i.getMonth()<this._iMaxMonth){jQuery(a[s]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[s]).removeClass("sapUiCalItemSelBetween")}if(this._bMousedownChange&&!i.isSame(t)&&!i.isSame(e)){jQuery(a[s]).removeClass("sapUiCalItemSel")}}};_.prototype._handleMousedown=function(t,a){if(t.button||e.support.touch&&!e.system.combi){return}var i=a+this.getStartMonth();if(i>=this._iMinMonth&&i<=this._iMaxMonth){this._selectMonth(i);this._bMousedownChange=true}t.preventDefault();t.setMark("cancelAutoClose")};function y(t){var e=t.getParameter("event"),a=this._oItemNavigation.getFocusedIndex()+this.getStartMonth(),i=this.getMonths(),s=this.getColumns(),o=this._getSelectedDates()[0],n,h=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType()),l=s===0&&i<d;this._iYear&&h.setYear(this._iYear);if(o&&o.getStartDate()){n=g.fromLocalJSDate(o.getStartDate(),this._getPrimaryCalendarType());n.setDate(1)}if(e.type){switch(e.type){case"sapnext":case"sapnextmodifiers":if(l){this._oneRowChangePage(a,true)}else if(e.keyCode===r.ARROW_DOWN&&s<=i){if(a<d-i){S.call(this,a+s,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward});this._oItemNavigation.focusItem(a%s);h.setMonth(a%s,1);this.setProperty("_focusedMonth",a%s);this._isSelectionInProgress()&&this._markInterval(n,h)}else{if(s===0){s=i}S.call(this,a%s,true,p.OneYearForward)}}else{if(a<d-i){S.call(this,a+1,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward});this._oItemNavigation.focusItem(0);h.setMonth(0,1);this._isSelectionInProgress()&&this._markInterval(n,h)}else{S.call(this,0,true,p.OneYearForward)}}break;case"sapprevious":case"sappreviousmodifiers":if(l){this._oneRowChangePage(a)}else if(e.keyCode===r.ARROW_UP&&s<=i){if(a>=i){S.call(this,a-s,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward});this._oItemNavigation.focusItem(i-s+a);h.setMonth(i-s+a,1);this.setProperty("_focusedMonth",i-s+a);this._isSelectionInProgress()&&this._markInterval(n,h)}else{S.call(this,d-s+a,true,p.OneYearBackward)}}else{if(a>=i){S.call(this,a-1,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward});this._oItemNavigation.focusItem(i-1);h.setMonth(i-1,1);this._isSelectionInProgress()&&this._markInterval(n,h)}else{S.call(this,d-1,true,p.OneYearBackward)}}break;case"sappagedown":if(a<d-i){S.call(this,a+i,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward})}else{S.call(this,a,true,p.OneYearForward)}break;case"sappageup":if(a>i){S.call(this,a-i,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward})}else{S.call(this,a,true,p.OneYearBackward)}break;default:break}}}_.prototype._oneRowChangePage=function(t,e){var a=this.getProperty("_firstMonth"),i=this.getMonths(),s=e?a+i<d:a>0,o=e?1:-1;if(s){e&&this.nextPage()||this.previousPage();this.firePageChange({offset:0});this.setMonth(t+o)}};_.prototype._selectMonth=function(t,e){var a=this._getSelectedDates()[0],i=this.getAggregation("selectedDates"),s,o;this.setProperty("_focusedMonth",t);if(!a){return}!e&&this.setProperty("month",t);o=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());o.setMonth(t,1);this._iYear&&o.setYear(this._iYear);if(!this._oSelectedDatesControlOrigin){if(!i||!i.length){this.addAggregation("selectedDates",a,true)}!this.getIntervalSelection()&&a.setStartDate(o.toLocalJSDate())}if(this.getIntervalSelection()&&!e){if(!a.getStartDate()){a.setStartDate(o.toLocalJSDate())}else if(!a.getEndDate()){s=g.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());if(o.isBefore(s)){a.setEndDate(s.toLocalJSDate());a.setStartDate(o.toLocalJSDate())}else{a.setEndDate(o.toLocalJSDate())}}else{a.setStartDate(o.toLocalJSDate());a.setEndDate(undefined)}}};function D(){if(!this._bNamesLengthChecked){var t=0,e=this._oItemNavigation.getItemDomRefs(),a=false,i=this.getMonths(),s=Math.ceil(d/i),o=i-1;for(var n=0;n<s;n++){if(i<d){S.call(this,o);o=o+i;if(o>d-1){o=d-1}}for(t=0;t<e.length;t++){var r=e[t];if(Math.abs(r.clientWidth-r.scrollWidth)>1){a=true;break}}if(a){break}}if(i<d){o=this.getMonth();S.call(this,o)}if(a){this._bLongMonth=false;var h=this._getLocaleData(),l=this._getPrimaryCalendarType(),g=h.getMonthsStandAlone("abbreviated",l),c=h.getMonthsStandAlone("wide",l);for(t=0;t<e.length;t++){var f=jQuery(e[t]);f.text(g[t]);f.attr("aria-label",c[t])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function S(t,e,a){var i=this._getSelectedDates()[0],s,o;this.setProperty("_focusedMonth",t);if(i&&i.getStartDate()){s=g.fromLocalJSDate(i.getStartDate(),this._getPrimaryCalendarType());s.setDate(1)}if(i&&i.getEndDate()){o=g.fromLocalJSDate(i.getEndDate(),this._getPrimaryCalendarType());o.setDate(1)}else{o=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());this._iYear&&o.setYear(this._iYear);o.setMonth(t,1)}this._isSelectionInProgress()&&this._markInterval(s,o);if(e){this.firePageChange({offset:a})}}_.prototype._fnShouldApplySelection=function(t){var e=this._getSelectedDates()[0],a,i;if(!e){return false}a=e.getStartDate();i=e.getEndDate();if(a){a=g.fromLocalJSDate(a,this._getPrimaryCalendarType());a.setDate(1)}if(this.getIntervalSelection()&&a&&i){i=g.fromLocalJSDate(i,this._getPrimaryCalendarType());i.setDate(1);if(t.isSame(a)||t.isSame(i)){return true}}else if(a&&t.isSame(a)){return true}return false};_.prototype._fnShouldApplySelectionBetween=function(t){var e=this._getSelectedDates()[0],a,i;if(!e){return false}a=e.getStartDate();i=e.getEndDate();if(this.getIntervalSelection()&&a&&i){a=g.fromLocalJSDate(a,this._getPrimaryCalendarType());a.setDate(1);i=g.fromLocalJSDate(i,this._getPrimaryCalendarType());i.setDate(1);if(l._isBetween(t,a,i)){return true}}return false};return _});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPickerRenderer", ["sap/ui/unified/calendar/CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date"],function(e,t,a,n){"use strict";var r={apiVersion:2};r.render=function(r,i){var l=i.getProperty("_firstMonth")!==undefined?i.getProperty("_firstMonth"):i.getMonth(),o=i.getMonths(),s=0,d=i.getColumns(),c=i.getTooltip_AsString(),p=i._getLocaleData(),g=i.getId(),f="",u=[],y=[],S=i.getPrimaryCalendarType(),h=i._getSecondaryCalendarType(),C=t.getDateInstance({format:"y",calendarType:i.getPrimaryCalendarType()}),b=i._iYear?i._iYear:n.getInstance().getFullYear(),_=C.format(n.getInstance(Date.UTC(b,0,1)),true),m,M,I;if(i._bLongMonth||!i._bNamesLengthChecked){u=p.getMonthsStandAlone("wide",S)}else{u=p.getMonthsStandAlone("abbreviated",S);y=p.getMonthsStandAlone("wide",S)}r.openStart("div",i);r.class("sapUiCalMonthPicker");if(h){r.class("sapUiCalMonthSecType")}if(c){r.attr("tooltip",c)}r.accessibilityState(i,{role:"grid",readonly:"true",multiselectable:i.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("MONTH_PICKER"),describedby:i._bCalendar?a.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT"):""});r.openEnd();var v;if(o>12){o=12}else if(o<12){s=l}if(d>0){f=100/d+"%"}else{f=100/o+"%"}for(m=0;m<o;m++){var T=m+s,D=e.fromLocalJSDate(n.getInstance(),i.getPrimaryCalendarType());D.setMonth(T,1);i._iYear&&D.setYear(i._iYear);v={role:"gridcell"};if(!i._bLongMonth&&i._bNamesLengthChecked){v["label"]=y[T]}if(d>0&&m%d===0){r.openStart("div");r.accessibilityState(null,{role:"row"});r.openEnd()}r.openStart("div",g+"-m"+T);r.class("sapUiCalItem");M=i._fnShouldApplySelection(D);I=i._fnShouldApplySelectionBetween(D);if(M){r.class("sapUiCalItemSel");v["selected"]=true}if(I){r.class("sapUiCalItemSelBetween");v["selected"]=true}if(!M&&!I){v["selected"]=false}if(T<i._iMinMonth||T>i._iMaxMonth){r.class("sapUiCalItemDsbl");v["disabled"]=true}v["label"]=u[T]+" "+_;if(h){var U=i.getSecondaryCalendarType(),A=p.getMonthsStandAlone("abbreviated",U),P=t.getDateInstance({format:"y",calendarType:U}),E=i._getDisplayedSecondaryDates(T),L,x,Y;if(E.start.getMonth()===E.end.getMonth()){L=A[E.start.getMonth()];x=P.format(E.start.toUTCJSDate(),true)}else{Y=p.getIntervalPattern();L=Y.replace(/\{0\}/,A[E.start.getMonth()]).replace(/\{1\}/,A[E.end.getMonth()]);x=Y.replace(/\{0\}/,P.format(E.start.toUTCJSDate(),true)).replace(/\{1\}/,P.format(E.end.toUTCJSDate(),true))}v["label"]=v["label"]+" "+L+" "+x}r.attr("tabindex","-1");r.style("width",f);r.accessibilityState(null,v);r.openEnd();r.text(u[T]);if(h){r.openStart("div",g+"-m"+T+"-secondary");r.class("sapUiCalItemSecText");r.openEnd();r.text(L);r.close("div")}r.close("div");if(d>0&&(m+1)%d===0){r.close("div")}}r.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegend","sap/ui/unified/CalendarLegendRenderer","sap/ui/core/library","sap/ui/unified/library","sap/base/Log","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date","sap/ui/core/Configuration"],function(e,a,t,i,r,n,s,d,l,o){"use strict";var c=n.CalendarDayType;var p=r.CalendarType;var y={apiVersion:2};y.render=function(e,a){var t=this.getStartDate(a),i=a.getTooltip_AsString(),r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),n=a.getId(),s={value:"",append:true},l="",o=a.getWidth();e.openStart("div",a);this.getClass(e,a).forEach(function(a){e.class(a)});if(a._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}this.addWrapperAdditionalStyles(e,a);if(i){e.attr("title",i)}if(a._getShowHeader()){s.value=s.value+" "+n+"-Head"}if(a._bCalendar){l+=" "+d.getStaticId("sap.ui.unified","CALENDAR_MONTH_PICKER_OPEN_HINT")+" "+d.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT")}if(o){e.style("width",o)}e.accessibilityState(a,{role:"grid",roledescription:r.getText("CALENDAR_DIALOG"),multiselectable:!a.getSingleSelection()||a.getIntervalSelection(),labelledby:s,describedby:l});e.openEnd();if(a.getIntervalSelection()){e.openStart("span",n+"-Start");e.style("display","none");e.openEnd();e.text(r.getText("CALENDAR_START_DATE"));e.close("span");e.openStart("span",n+"-End");e.style("display","none");e.openEnd();e.text(r.getText("CALENDAR_END_DATE"));e.close("span")}this.renderMonth(e,a,t);e.close("div")};y.addWrapperAdditionalStyles=function(){};y.getStartDate=function(e){return e._getDate()};y.getClass=function(e,a){var t=["sapUiCalMonthView"],i=a.getPrimaryCalendarType(),r=a.getShowWeekNumbers();if(i===p.Islamic||!r){t.push("sapUiCalNoWeekNum")}return t};y.renderMonth=function(e,a,t){this.renderHeader(e,a,t);this.renderDays(e,a,t)};y.renderHeader=function(e,a,t){var i=a._getLocaleData();var r=a._getFirstDayOfWeek();this.renderHeaderLine(e,a,i,t);e.openStart("div");e.accessibilityState(null,{role:"row"});e.style("overflow","hidden");e.openEnd();this.renderDayNames(e,a,i,r,7,true,undefined);e.close("div")};y.renderHeaderLine=function(a,t,i,r){e._checkCalendarDate(r);if(t._getShowHeader()){var n=t.getId();var s=t.getPrimaryCalendarType();var d=i.getMonthsStandAlone("wide",s);a.openStart("div",n+"-Head");a.class("sapUiCalHeadText");a.openEnd();a.text(d[r.getMonth()]);a.close("div")}};y.renderDayNames=function(e,a,t,i,r,n,s){var d=a._getFirstDayOfWeek();var l=a.getId();var o="";var c=a.getPrimaryCalendarType();var y=[];if(a._bLongWeekDays||!a._bNamesLengthChecked){y=t.getDaysStandAlone("abbreviated",c)}else{y=t.getDaysStandAlone("narrow",c)}var g=t.getDaysStandAlone("wide",c);if(a.getShowWeekNumbers()&&c!==p.Islamic){this.renderDummyCell(e,"sapUiCalWH",true,"columnheader")}for(var f=0;f<r;f++){if(n){o=l+"-WH"+(f+d)%7}else{o=l+"-WH"+f}e.openStart("div",o);e.class("sapUiCalWH");if(f===0){e.class("sapUiCalFirstWDay")}if(s){e.style("width",s)}e.accessibilityState(null,{role:"columnheader",label:g[(f+i)%7],hidden:true});e.openEnd();e.text(y[(f+i)%7]);e.close("div")}};y.renderDays=function(a,t,i){var r,n,s,d,l,o,c;e._checkCalendarDate(i);if(!i){i=t._getFocusedDate()}o=i.toUTCJSDate().getTime();if(!o&&o!==0){throw new Error("Date is invalid "+t)}d=this.getDayHelper(t,i);n=t._getVisibleDays(i,true);c=t.getShowWeekNumbers();r=t.getPrimaryCalendarType()!==p.Islamic&&c;s=n.length;for(l=0;l<s;l++){if(l%7===0){a.openStart("div");a.attr("role","row");a.openEnd();if(r){this._renderWeekNumber(a,n[l],d,t)}}this.renderDay(a,t,n[l],d,true,r,-1);if(l%7===6||l===s-1){a.close("div")}}if(s===28){this.renderDummyCell(a,"sapUiCalItem",false,"")}};y.renderDummyCell=function(e,a,t,i){e.openStart("div");e.class(a);e.class("sapUiCalDummy");e.style("visibility",t?"visible":"hidden");e.attr("role",i);e.attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("CALENDAR_WEEK"));e.openEnd();e.close("div")};y.getDayHelper=function(e,i){var r,n,d=e._getLocaleData(),o={sLocale:e._getLocale(),oLocaleData:d,iMonth:i.getMonth(),iYear:i.getYear(),iFirstDayOfWeek:e._getFirstDayOfWeek(),iWeekendStart:d.getWeekendStart(),iWeekendEnd:d.getWeekendEnd(),aNonWorkingDays:e._getNonWorkingDays(),sToday:d.getRelativeDay(0),oToday:a.fromLocalJSDate(l.getInstance(),e.getPrimaryCalendarType()),sId:e.getId(),oFormatLong:e._getFormatLong(),sPrimaryCalendarType:e.getPrimaryCalendarType(),sSecondaryCalendarType:e._getSecondaryCalendarType(),oLegend:undefined};n=e.getLegend();if(n&&typeof n==="string"){r=sap.ui.getCore().byId(n);if(r){if(!(r instanceof t)){throw new Error(r+" is not an sap.ui.unified.CalendarLegend. "+e)}o.oLegend=r}else{s.warning("CalendarLegend "+n+" does not exist!",e)}}return o};y.renderDay=function(t,r,n,s,d,l,o,p,y){e._checkCalendarDate(n);var g=new a(n,s.sSecondaryCalendarType),f={role:r._getAriaRole(),selected:false,label:"",describedby:""},u=n._bBeforeFirstYear,D="",C=s.oLegend,b;var S=r._oFormatYyyymmdd.format(n.toUTCJSDate(),true);var m=n.getDay();var h=r._checkDateSelected(n);var v=r._getDateTypes(n);var W=s&&s.oLegend?s.oLegend._getSpecialDateTypeFilter():"";var _=r._checkDateEnabled(n);var E=0;var k=r._isSpecialDateMarkerEnabled(n);if(u){_=false}if(!y){f["describedby"]=o<0?s.sId+"-WH"+m:s.sId+"-WH"+o}t.openStart("div",s.sId+"-"+S);t.class("sapUiCalItem");t.class("sapUiCalWDay"+m);if(p){t.style("width",p)}if(m===s.iFirstDayOfWeek){t.class("sapUiCalFirstWDay")}if(d&&s.iMonth!==n.getMonth()){t.class("sapUiCalItemOtherMonth");f["disabled"]=true}if(n.isSame(s.oToday)){t.class("sapUiCalItemNow");f["label"]=s.sToday+" "}if(h>0){t.class("sapUiCalItemSel");f["selected"]=true}else{f["selected"]=false}if(h===2){t.class("sapUiCalItemSelStart");f["describedby"]=f["describedby"]+" "+s.sId+"-Start"}else if(h===3){t.class("sapUiCalItemSelEnd");f["describedby"]=f["describedby"]+" "+s.sId+"-End"}else if(h===4){t.class("sapUiCalItemSelBetween")}else if(h===5){t.class("sapUiCalItemSelStart");t.class("sapUiCalItemSelEnd");f["describedby"]=f["describedby"]+" "+s.sId+"-Start";f["describedby"]=f["describedby"]+" "+s.sId+"-End"}if(this.renderWeekNumbers&&r._oDate){f["describedby"]=f["describedby"]+" "+r.getId()+"-week-"+r._calculateWeekNumber(n)+"-text"}if(k){v.forEach(function(e){if(e.type!==c.None){if(e.type===c.NonWorking){t.class("sapUiCalItemWeekEnd");b=this._addNonWorkingDayText(f);return}if(W===""||W===c.None||W===e.type){t.class("sapUiCalItem"+e.type);D=e.type;if(e.tooltip){t.attr("title",e.tooltip)}}}}.bind(this))}if(!b){if(s.aNonWorkingDays){s.aNonWorkingDays.forEach(function(e){if(n.getDay()===e){this._addNonWorkingDayText(f)}}.bind(this))}else if(n.getDay()===s.iWeekendStart||n.getDay()===s.iWeekendEnd){this._addNonWorkingDayText(f)}}if((r.getParent()&&r.getParent().getMetadata().getName()==="sap.ui.unified.CalendarOneMonthInterval"||r.getMetadata().getName()==="sap.ui.unified.calendar.OneMonthDatesRow")&&r.getStartDate()&&s.iMonth!==n.getMonth()){t.class("sapUiCalItemOtherMonth")}if(!_){t.class("sapUiCalItemDsbl");f["disabled"]=true}if(s.aNonWorkingDays){for(E=0;E<s.aNonWorkingDays.length;E++){if(m===s.aNonWorkingDays[E]){t.class("sapUiCalItemWeekEnd");break}}}else if(m>=s.iWeekendStart&&m<=s.iWeekendEnd||s.iWeekendEnd<s.iWeekendStart&&(m>=s.iWeekendStart||m<=s.iWeekendEnd)){t.class("sapUiCalItemWeekEnd")}t.attr("tabindex","-1");t.attr("data-sap-day",S);if(y){f["label"]=f["label"]+s.aWeekDaysWide[m]+" "}f["label"]=f["label"]+s.oFormatLong.format(n.toUTCJSDate(),true);if(D!==""){i.addCalendarTypeAccInfo(f,D,C)}if(s.sSecondaryCalendarType){f["label"]=f["label"]+" "+r._oFormatSecondaryLong.format(g.toUTCJSDate(),true)}t.accessibilityState(null,f);t.openEnd();if(v[0]&&k){t.openStart("div");t.class("sapUiCalSpecialDate");if(v[0].color&&(W===""||W===c.None)){t.style("background-color",v[0].color)}t.openEnd();t.close("div")}t.openStart("span");t.class("sapUiCalItemText");if(v[0]&&v[0].color){t.class("sapUiCalItemTextCustomColor")}t.openEnd();if(!u){t.text(n.getDate())}t.close("span");if(y){t.openStart("span");t.class("sapUiCalDayName");t.openEnd();t.text(s.aWeekDays[m]);t.close("span")}if(s.sSecondaryCalendarType){t.openStart("span");t.class("sapUiCalItemSecText");t.openEnd();t.text(g.getDate());t.close("span")}t.close("div")};y._addNonWorkingDayText=function(e){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("LEGEND_NON_WORKING_DAY")+" ";e["label"]+=a;return a};y._renderWeekNumber=function(e,a,t,i){var r=i._calculateWeekNumber(a);var n=t.sId+"-WNum-"+r;e.openStart("div",n);e.class("sapUiCalWeekNum");e.accessibilityState(null,{role:"rowheader",labelledby:d.getStaticId("sap.ui.unified","CALENDAR_WEEK")+" "+n});e.openEnd();e.text(r);e.close("div")};return y},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRow", ["sap/ui/core/Control","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthsRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/Configuration","sap/ui/core/Core","sap/ui/core/date/UI5Date"],function(e,t,a,r,i,o,s,n,l,h,g,jQuery,p,c,u,f){"use strict";var d=e.extend("sap.ui.unified.calendar.MonthsRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:h});d.prototype.init=function(){var e=this._getPrimaryCalendarType();this._oFormatYyyymm=s.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatOnlyYearLong=s.getInstance({pattern:"yyyy",calendarType:e});this._oFormatLong=s.getInstance({pattern:"MMMM y",calendarType:e});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=u.getLibraryResourceBundle("sap.ui.unified")};d.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatYyyymm=s.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatLong=s.getInstance({pattern:"MMMM y",calendarType:e});return this};d.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||c.getCalendarType()};d.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oFormatYearInSecType=s.getDateInstance({format:"y",calendarType:e});this._oFormatLongInSecType=s.getInstance({pattern:"MMMM y",calendarType:e});return this};d.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};d.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonths){clearTimeout(this._sInvalidateMonths)}};d.prototype.onAfterRendering=function(){y.call(this);L.call(this)};d.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!g(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){T.call(this,true);b.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;M.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;M.call(this)}}};d.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};d.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};d.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};d.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};d.prototype.setDate=function(e){if(e){var t=i.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this._oDate=t;S.call(this,t,false)}return this.setProperty("date",e)};d.prototype._getDisplayedSecondaryDates=function(e,t){var a=this._getSecondaryCalendarType(),o,s,n;if(this._oDate){o=new i(this._oDate)}else{o=new i(i.fromLocalJSDate(f.getInstance()),this._getPrimaryCalendarType())}o.setYear(t);o.setMonth(e);o.setDate(1);s=new i(o,a);o.setDate(r._daysInMonth(o));n=new i(o,a);return{start:s,end:n}};d.prototype._getDate=function(){if(!this._oDate){this._oDate=i.fromLocalJSDate(f.getInstance(),this.getProperty("primaryCalendarType"))}return this._oDate};d.prototype.setStartDate=function(e){r._checkJSDateObject(e);var t,a,o;a=e.getFullYear();r._checkYearInValidRange(a);t=i.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this.setProperty("startDate",e,true);this._oStartDate=t;this._oStartDate.setDate(1);if(this.getDomRef()){o=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(o&&this.checkDateFocusable(o)){this.setDate(o)}}return this};d.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=i.fromLocalJSDate(f.getInstance(),this.getProperty("primaryCalendarType"));this._oStartDate.setDate(1)}return this._oStartDate};d.prototype.displayDate=function(e){S.call(this,i.fromLocalJSDate(e,this.getProperty("primaryCalendarType")),true);return this};d.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=c.getFormatSettings().getFormatLocale().toString()}return this._sLocale};d.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var a=this._getLocale();var r=new l(a);this._oLocaleData=t.getInstance(r)}return this._oLocaleData};d.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new l(e);this._oFormatLong=s.getInstance({style:"long",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};d.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};d.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};d.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};d.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};d.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};d.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};d.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};d.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("ariaLabelledBy",[])}};d.prototype._setAriaRole=function(e){this._ariaRole=e;return this};d.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};d.prototype._checkDateSelected=function(e){var t,a,o,s,n=0,l=0,h=0,g=this.getProperty("primaryCalendarType"),p,c,u;r._checkCalendarDate(e);c=this.getSelectedDates();u=new i(e);u.setDate(1);s=u.toUTCJSDate().getTime();for(p=0;p<c.length;p++){t=c[p];a=t.getStartDate();n=0;if(a){a=i.fromLocalJSDate(a,g);a.setDate(1);n=a.toUTCJSDate().getTime()}o=t.getEndDate();l=0;if(o){o=i.fromLocalJSDate(o,g);o.setDate(1);l=o.toUTCJSDate().getTime()}if(s==n&&!o){h=1;break}else if(s==n&&o){h=2;if(o&&s==l){h=5}break}else if(o&&s==l){h=3;break}else if(o&&s>n&&s<l){h=4;break}if(this.getSingleSelection()){break}}return h};d.prototype._getDateType=function(e){r._checkCalendarDate(e);var t,a,o,s,n=0,l,h=0,g,p=this.getSpecialDates(),c=new i(e),u=this.getProperty("primaryCalendarType");c.setDate(1);g=c.toUTCJSDate().getTime();for(o=0;o<p.length;o++){a=p[o];s=a.getStartDate();n=0;if(s){s=i.fromLocalJSDate(s,u);s.setDate(1);n=s.toUTCJSDate().getTime()}l=a.getEndDate();h=0;if(l){l=i.fromLocalJSDate(l,u);l.setDate(r._daysInMonth(l));h=l.toUTCJSDate().getTime()}if(g==n&&!l||g>=n&&g<=h){t={type:a.getType(),tooltip:a.getTooltip_AsString()};break}}return t};d.prototype._checkMonthEnabled=function(e){r._checkCalendarDate(e);var t=this.getParent();if(t&&t._oMinDate&&t._oMaxDate){if(r._isOutside(e,t._oMinDate,t._oMaxDate)){return false}}return true};d.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){T.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var r=i.fromLocalJSDate(this._oFormatYyyymm.parse(t.attr("data-sap-month"),this.getProperty("primaryCalendarType")));r.setDate(1);if(!r.isSame(a)){this.setDate(r.toLocalJSDate());b.call(this,r,true);this._bMoveChange=true}}};d.prototype.onmouseup=function(e){if(this._bMouseMove){T.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var r=0;r<a.length;r++){var o=jQuery(a[r]);if(o.attr("data-sap-month")==this._oFormatYyyymm.format(t.toUTCJSDate(),true)){o.trigger("focus");break}}if(this._bMoveChange){var s=jQuery(e.target);if(s.hasClass("sapUiCalItemText")){s=s.parent()}if(s.hasClass("sapUiCalItem")){t=i.fromLocalJSDate(this._oFormatYyyymm.parse(s.attr("data-sap-month")));t.setDate(1)}b.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;M.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;M.call(this)}};d.prototype.onsapselect=function(e){var t=b.call(this,this._getDate());if(t){M.call(this)}e.stopPropagation();e.preventDefault()};d.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};d.prototype.onsappageupmodifiers=function(e){var t=new i(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{var r=this.getMonths();if(r<=12){t.setYear(a-1)}else{t.setMonth(t.getMonth()-r)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};d.prototype.onsappagedownmodifiers=function(e){var t=new i(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{var r=this.getMonths();if(r<=12){t.setYear(a+1)}else{t.setMonth(t.getMonth()+r)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};d.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;var e=this._getLocaleData();var t=e.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var a=this.$("months").children();var r=this._getStartDate().getMonth();for(var i=0;i<a.length;i++){var o=jQuery(jQuery(a[i]).children(".sapUiCalItemText"));o.text(t[(i+r)%12])}L.call(this)};d.prototype.checkDateFocusable=function(e){r._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new i(t);a.setDate(1);a.setMonth(a.getMonth()+this.getMonths());var o=i.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));return o.isSameOrAfter(t)&&o.isBefore(a)};d.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};function y(){var e=this._getDate();var t=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var r=0;var i=this.$("months").get(0);var o=this.$("months").children(".sapUiCalItem");for(var s=0;s<o.length;s++){var n=jQuery(o[s]);if(n.attr("data-sap-month")===t){r=s;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,m,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,D,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,v,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(o);this._oItemNavigation.setFocusedIndex(r);this._oItemNavigation.setPageSize(o.length)}function m(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var r=this._getDate();var o=new i(r);var s=this._oItemNavigation.getItemDomRefs();var n=jQuery(s[t]);o=i.fromLocalJSDate(this._oFormatYyyymm.parse(n.attr("data-sap-month")));o.setDate(1);this.setDate(o.toLocalJSDate());this.fireFocus({date:o.toLocalJSDate(),notVisible:false});if(a.type=="mousedown"){_.call(this,a,o,t)}}function D(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var r=this._getDate();_.call(this,a,r,t)}}function v(e){var t=e.getParameter("event");var a=this.getMonths();var r=this._getDate();var o=new i(r);if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":o.setMonth(o.getMonth()+1);break;case"sapprevious":case"sappreviousmodifiers":o.setMonth(o.getMonth()-1);break;case"sappagedown":o.setMonth(o.getMonth()+a);break;case"sappageup":o.setMonth(o.getMonth()-a);break;default:break}this.fireFocus({date:o.toLocalJSDate(),notVisible:true})}}function _(e,t,a){if(e.button){return}var r=b.call(this,t);if(r){this._bMousedownChange=true}if(this._bMouseMove){T.call(this,true);this._bMoveChange=false}else if(r&&this.getIntervalSelection()&&this.$().is(":visible")){I.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function S(e,t){r._checkCalendarDate(e);var a=e.getYear();r._checkYearInValidRange(a);var o=true;if(!this.getDate()||!e.isSame(i.fromLocalJSDate(this.getDate(),this.getProperty("primaryCalendarType")))){var s=new i(e);s.setDate(1);o=this.checkDateFocusable(e.toLocalJSDate());if(!this._bNoRangeCheck&&!o){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e.toLocalJSDate());this._oDate=s}if(this.getDomRef()){if(o){C.call(this,this._oDate,t)}}}function C(e,t){var a=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var r=this._oItemNavigation.getItemDomRefs();var i;for(var o=0;o<r.length;o++){i=jQuery(r[o]);if(i.attr("data-sap-month")==a){if(document.activeElement!=r[o]){if(t){this._oItemNavigation.setFocusedIndex(o)}else{this._oItemNavigation.focusItem(o)}}break}}}function b(e,t){if(!this._checkMonthEnabled(e)){return false}var a=this.getSelectedDates();var r;var o=0;var s=this.getParent();var n=this;var l;if(s&&s.getSelectedDates){n=s}if(this.getSingleSelection()){if(a.length>0){r=a[0];l=r.getStartDate();if(l){l=i.fromLocalJSDate(l,this.getProperty("primaryCalendarType"));l.setDate(1)}}else{r=new p;n.addAggregation("selectedDates",r)}if(this.getIntervalSelection()&&(!r.getEndDate()||t)&&l){var h;if(e.isBefore(l)){h=l;l=e;if(!t){r.setProperty("startDate",l.toLocalJSDate());r.setProperty("endDate",h.toLocalJSDate())}}else if(e.isSameOrAfter(l)){h=e;if(!t){r.setProperty("endDate",h.toLocalJSDate())}}}else{r.setProperty("startDate",e.toLocalJSDate());r.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var g=this._checkDateSelected(e);if(g>0){for(o=0;o<a.length;o++){l=a[o].getStartDate();if(l){l=i.fromLocalJSDate(l,this.getProperty("primaryCalendarType"));l.setDate(1);if(e.isSame(l)){n.removeAggregation("selectedDates",o);break}}}}else{r=new p({startDate:e.toLocalJSDate()});n.addAggregation("selectedDates",r)}}}return true}function M(){if(this._bMouseMove){T.call(this,true)}this.fireSelect()}function L(){if(!this._bNamesLengthChecked){var e=0;var t=this.$("months").children();var a=false;var r=this.getMonths();var i=Math.ceil(12/r);var o=0;var s=this._getLocaleData();var n=s.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var l;for(var h=0;h<i;h++){if(r<12){for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(n[(e+o)%12])}o=o+r;if(o>11){o=11}}for(e=0;e<t.length;e++){var g=t[e];if(Math.abs(g.clientWidth-g.scrollWidth)>1){a=true;break}}if(a){break}}if(r<12){o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(n[(e+o)%12])}}if(a){this._bLongMonth=false;var p=s.getMonthsStandAlone("abbreviated",this.getProperty("primaryCalendarType"));o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(p[(e+o)%12])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function I(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function T(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRowRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/unified/library","sap/base/Log","sap/ui/core/date/UI5Date"],function(e,t,a,n,r,o){"use strict";var s=n.CalendarDayType;var l={apiVersion:2};l.render=function(e,t){var a=t._getStartDate();var n=t.getTooltip_AsString();var r=t.getId();var o={value:r+"-Descr",append:true};e.openStart("div",t);e.class("sapUiCalMonthsRow");e.class("sapUiCalRow");if(n){e.attr("title",n)}e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection(),labelledby:o});e.openEnd();e.openStart("span",r+"-Descr");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_DIALOG"));e.close("span");if(t.getIntervalSelection()){e.openStart("span",r+"-Start");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_START_MONTH"));e.close("span");e.openStart("span",r+"-End");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_END_MONTH"));e.close("span")}this.renderRow(e,t,a);e.close("div")};l.renderRow=function(e,t,a){var n=t.getId();this.renderHeader(e,t,a);e.openStart("div",n+"-months");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderMonths(e,t,a);e.close("div")};l.renderHeader=function(t,a,n){e._checkCalendarDate(n);if(a._getShowHeader()){var r=a._getLocaleData();var o=a.getId();t.openStart("div",o+"-Head");t.openEnd();this.renderHeaderLine(t,a,r,n);t.close("div")}};l.renderHeaderLine=function(a,n,r,o){e._checkCalendarDate(o);var s=n.getId();var l=n.getMonths();var d=new t(o);var i="";var c=0;var p=[];var g=0;for(g=0;g<l;g++){c=d.getYear();if(p.length>0&&p[p.length-1].iYear==c){p[p.length-1].iMonths++}else{p.push({iYear:c,iMonths:1})}d.setMonth(d.getMonth()+1)}for(g=0;g<p.length;g++){var h=p[g];i=100/l*h.iMonths+"%";a.openStart("div",s+"-Head"+g);a.class("sapUiCalHeadText");a.style("width",i);a.openEnd();a.text(h.iYear);a.close("div")}};l.renderMonths=function(e,a,n){var r=this.getHelper(a,n);var o=a.getMonths();var s=100/o+"%";var l=new t(n);l.setDate(1);for(var d=0;d<o;d++){this.renderMonth(e,a,l,r,s);l.setMonth(l.getMonth()+1)}};l.getHelper=function(a,n){e._checkCalendarDate(n);var s={};var l=a.getProperty("primaryCalendarType");s.sLocale=a._getLocale();s.oLocaleData=a._getLocaleData();s.oToday=t.fromLocalJSDate(o.getInstance(),l);s.sCurrentMonth=a._rb.getText("CALENDAR_CURRENT_MONTH");s.sId=a.getId();s.oFormatLong=a._getFormatLong();if(a._bLongMonth||!a._bNamesLengthChecked){s.aMonthNames=s.oLocaleData.getMonthsStandAlone("wide",l)}else{s.aMonthNames=s.oLocaleData.getMonthsStandAlone("abbreviated",l);s.aMonthNamesWide=s.oLocaleData.getMonthsStandAlone("wide",l)}var d=a.getLegend();if(d){var i=sap.ui.getCore().byId(d);if(i){if(!(i instanceof sap.ui.unified.CalendarLegend)){throw new Error(i+" is not an sap.ui.unified.CalendarLegend. "+a)}s.oLegend=i}else{r.warning("CalendarLegend "+d+" does not exist!",a)}}s.convertTextInfoToSecondaryType=function(e){var t=a._getSecondaryCalendarType(),n=s.oLocaleData.getMonthsStandAlone("abbreviated",t),r=a._oFormatYearInSecType,o=a._getDisplayedSecondaryDates(e.getMonth(),e.getYear()),l,d,i;if(o.start.getMonth()===o.end.getMonth()){l=n[o.start.getMonth()]}else{i=a._getLocaleData().getIntervalPattern();l=i.replace(/\{0\}/,n[o.start.getMonth()]).replace(/\{1\}/,n[o.end.getMonth()])}if(o.start.getYear()===o.end.getYear()){d=r.format(o.start.toUTCJSDate(),true)}else{d=i.replace(/\{0\}/,r.format(o.start.toUTCJSDate(),true)).replace(/\{1\}/,r.format(o.end.toUTCJSDate(),true))}return{sMonthInfo:l,sYearInfo:d}};return s};l.renderMonth=function(t,n,r,o,l){e._checkCalendarDate(r);var d=!!n._getSecondaryCalendarType(),i;if(d){i=o.convertTextInfoToSecondaryType(r)}var c={role:n._getAriaRole(),selected:false,label:"",describedby:""};if(!n._bLongMonth&&n._bNamesLengthChecked){c["label"]=o.aMonthNamesWide[r.getMonth()]}var p=n._oFormatYyyymm.format(r.toUTCJSDate(),true);var g=n._checkDateSelected(r);var h=n._getDateType(r);var f=n._checkMonthEnabled(r);t.openStart("div",o.sId+"-"+p);t.class("sapUiCalItem");if(l){t.style("width",l)}if(e._isSameMonthAndYear(r,o.oToday)){t.class("sapUiCalItemNow");c["label"]=o.sCurrentMonth+" "}if(g>0){t.class("sapUiCalItemSel");c["selected"]=true}if(g==2){t.class("sapUiCalItemSelStart");c["describedby"]=c["describedby"]+" "+o.sId+"-Start"}else if(g==3){t.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+o.sId+"-End"}else if(g==4){t.class("sapUiCalItemSelBetween")}else if(g==5){t.class("sapUiCalItemSelStart");t.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+o.sId+"-Start";c["describedby"]=c["describedby"]+" "+o.sId+"-End"}if(h&&h.type!=s.None){t.class("sapUiCalItem"+h.type);if(h.tooltip){t.attr("title",h.tooltip)}}if(!f){t.class("sapUiCalItemDsbl");c["disabled"]=true}t.attr("tabindex","-1");t.attr("data-sap-month",p);c["label"]=c["label"]+o.oFormatLong.format(r.toUTCJSDate(),true);if(d){c["label"]=c["label"]+", "+i.sMonthInfo+" "+i.sYearInfo}if(h&&h.type!=s.None){a.addCalendarTypeAccInfo(c,h.type,o.oLegend)}t.accessibilityState(null,c);if(d){t.class("sapUiCalItemWithSecondaryType")}t.openEnd();t.openStart("span");t.class("sapUiCalItemText");t.openEnd();t.text(o.aMonthNames[r.getMonth()]);t.close("span");if(d){t.openStart("span");t.class("sapUiCalItemAddText");t.openEnd();t.text(i.sMonthInfo);t.close("span")}t.close("div")};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRow", ["sap/ui/unified/calendar/DatesRow","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","./OneMonthDatesRowRenderer"],function(t,e,a,i,o){"use strict";var s=t.extend("sap.ui.unified.calendar.OneMonthDatesRow",{metadata:{library:"sap.ui.unified"},renderer:o});s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.iMode=2};s.prototype.setMode=function(t){var e=this.getSelectedDates(),a,i=this.iMode!==t;this.iMode=t;if(i&&e.length){if(this.iMode<2){a=this.getStartDate()}e[0].setProperty("startDate",a)}this.iMode<2?this._bAlwaysShowSpecialDates=false:this._bAlwaysShowSpecialDates=true;return this};s.prototype.getMode=function(){return this.iMode};s.prototype.selectDate=function(t){if(this.iMode<2&&this.getSelectedDates().length){this.getSelectedDates()[0].setStartDate(t)}return this};s.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.setDate.apply(this,arguments);return this};s.prototype.getDays=function(){if(this.iMode===2){return 31}else{return e._daysInMonth(a.fromLocalJSDate(this.getStartDate(),this.getPrimaryCalendarType()))}};s.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.displayDate.apply(this,arguments);return this};s.prototype.onsaphome=function(t){var e=a.fromLocalJSDate(this.getStartDate());r(t);this.setDate(e.toLocalJSDate());this._focusDate(e);this.fireFocus({date:e.toLocalJSDate(),otherMonth:false})};s.prototype.onsapend=function(t){var i=this.getStartDate(),o;o=a.fromLocalJSDate(i);o.setDate(e._daysInMonth(o));r(t);this.setDate(o.toLocalJSDate());this._focusDate(o);this.fireFocus({date:o.toLocalJSDate(),otherMonth:false})};function r(t){t.stopPropagation();t.preventDefault();t.stopImmediatePropagation(true)}return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRowRenderer", ["sap/ui/core/Renderer","./MonthRenderer","./DatesRowRenderer"],function(e,r,a){"use strict";var n=e.extend(a);n.apiVersion=2;["getClass","renderMonth","renderDays","renderHeader"].forEach(function(e){n[e]=function(n,s){if(s.iMode<2){return r[e].apply(r,arguments)}else{if(e==="getClass"){var t=["sapUiCalDatesRow","sapUiCalRow","sapUiCalOneMonthDatesRow"];if(!s.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t}return a[e].apply(a,arguments)}}});return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRow", ["sap/ui/core/Control","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/Locale","./TimesRowRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(e,t,a,i,r,s,n,o,l,g,u,jQuery,c,h,p){"use strict";var f=e.extend("sap.ui.unified.calendar.TimesRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:l});f.prototype.init=function(){this._oFormatYyyyMMddHHmm=n.getInstance({pattern:"yyyyMMddHHmm",calendarType:this.getProperty("primaryCalendarType")});this._oFormatLong=n.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")});this._oFormatDate=n.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified")};f.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}};f.prototype.onAfterRendering=function(){d.call(this)};f.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!g(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){M.call(this,true);C.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;I.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;I.call(this)}}};f.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};f.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};f.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};f.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};f.prototype.setIntervalMinutes=function(e){if(e>=720){throw new Error("Only intervals < 720 minutes are allowed; "+this)}if(1440%e>0){throw new Error("A day must be divisible by the interval size; "+this)}this.setProperty("intervalMinutes",e,false);this._oFormatTime=undefined;return this};f.prototype.setDate=function(e){D.call(this,e,false);return this.setProperty("date",e)};f.prototype._getDate=function(){if(!this._oUTCDate){this._oUTCDate=i._createUniversalUTCDate(p.getInstance(),undefined,true)}return this._oUTCDate};f.prototype.setStartDate=function(e){i._checkJSDateObject(e);var t=e.getFullYear();i._checkYearInValidRange(t);var a=i._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);this._oUTCStartDate=this._getIntervalStart(a);if(this.getDomRef()){var r=i._createLocalDate(this._getDate(),true);this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(r&&this.checkDateFocusable(r)){this.displayDate(r)}}return this};f.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=i._createUniversalUTCDate(p.getInstance(),undefined,true);this._oUTCStartDate=this._getIntervalStart(this._oUTCStartDate)}return this._oUTCStartDate};f.prototype.displayDate=function(e){D.call(this,e,true);return this};f.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=h.getFormatSettings().getFormatLocale().toString()}return this._sLocale};f.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var a=this._getLocale();var i=new o(a);this._oLocaleData=t.getInstance(i)}return this._oLocaleData};f.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new o(e);this._oFormatLong=n.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};f.prototype._getFormatTime=function(){var e=this._getLocale();if(!this._oFormatTime||this._oFormatTime.oLocale.toString()!=e){var t=new o(e);var a=this.getIntervalMinutes();var i=this._getLocaleData();var r;var s=i.getTimePattern("short");this._oFormatTimeAmPm=undefined;if(a%60==0){r=S(s);if(s.search("a")>=0){this._oFormatTimeAmPm=n.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t)}}else{r=s;r=r.replace("HH","H");r=r.replace("hh","h");if(r.search("a")>=0){this._oFormatTimeAmPm=n.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t);r=r.replace("a","").trim()}}this._oFormatTime=n.getTimeInstance({pattern:r,calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatTime};f.prototype._getFormatDate=function(){var e=this._getLocale();if(this._oFormatDate.oLocale.toString()!=e){var t=new o(e);this._oFormatDate=n.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatDate};f.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};f.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};f.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};f.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};f.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};f.prototype.getIntervalMinutes=function(){var e=this.getParent();if(e&&e.getIntervalMinutes){return e.getIntervalMinutes()}else{return this.getProperty("intervalMinutes")}};f.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};f.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};f.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("ariaLabelledBy",[])}};f.prototype._checkDateSelected=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t=0;var a=this.getSelectedDates();var s=new r(e.getTime());s=this._getIntervalStart(s);var n=s.getTime();for(var o=0;o<a.length;o++){var l=a[o];var g=l.getStartDate();var u=0;if(g){g=i._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var c=l.getEndDate();var h=0;if(c){c=i._createUniversalUTCDate(c,undefined,true);c=this._getIntervalStart(c);h=c.getTime()}if(n==u&&!c){t=1;break}else if(n==u&&c){t=2;if(c&&n==h){t=5}break}else if(c&&n==h){t=3;break}else if(c&&n>u&&n<h){t=4;break}if(this.getSingleSelection()){break}}return t};f.prototype._getDateType=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t;var a=this.getSpecialDates();var s=new r(e.getTime());s=this._getIntervalStart(s);var n=s.getTime();for(var o=0;o<a.length;o++){var l=a[o];var g=l.getStartDate();var u=0;if(g){g=i._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var c=l.getEndDate();var h=0;if(c){c=i._createUniversalUTCDate(c,undefined,true);c=this._getIntervalStart(c);c.setUTCMinutes(c.getUTCMinutes()+this.getIntervalMinutes()-1);h=c.getTime()}else if(g.getUTCHours()==0&&g.getUTCMinutes()==0&&g.getUTCSeconds()==0&&g.getUTCMilliseconds()==0){c=new r(g.getTime());c.setUTCDate(c.getUTCDate()+1);h=c.getTime()}if(n==u&&!c||n>=u&&n<=h){t={type:l.getType(),tooltip:l.getTooltip_AsString(),color:l.getColor()};break}}return t};f.prototype._checkTimeEnabled=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t=e.getTime();var a=this.getParent();if(a&&a._oMinDate&&a._oMaxDate){if(t<a._oMinDate.getTime()||t>a._oMaxDate.getTime()){return false}}return true};f.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){M.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var i=new r(this._oFormatYyyyMMddHHmm.parse(t.attr("data-sap-time"),true).getTime());if(i.getTime()!=a.getTime()){this._oUTCDate=i;C.call(this,i,true);this._bMoveChange=true}}};f.prototype.onmouseup=function(e){if(this._bMouseMove){M.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var i=0;i<a.length;i++){var s=jQuery(a[i]);if(s.attr("data-sap-time")==this._oFormatYyyyMMddHHmm.format(t.getJSDate(),true)){s.trigger("focus");break}}if(this._bMoveChange){var n=jQuery(e.target);if(n.hasClass("sapUiCalItemText")){n=n.parent()}if(n.hasClass("sapUiCalItem")){t=new r(this._oFormatYyyyMMddHHmm.parse(n.attr("data-sap-time"),true).getTime())}C.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;I.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;I.call(this)}};f.prototype.onsapselect=function(e){var t=C.call(this,this._getDate());if(t){I.call(this)}e.stopPropagation();e.preventDefault()};f.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};f.prototype.onsappageupmodifiers=function(e){var t=new r(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a-7)}else{t.setUTCDate(a-1)}this.fireFocus({date:i._createLocalDate(t,true),notVisible:true});e.preventDefault()};f.prototype.onsappagedownmodifiers=function(e){var t=new r(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a+7)}else{t.setUTCDate(a+1)}this.fireFocus({date:i._createLocalDate(t,true),notVisible:true});e.preventDefault()};f.prototype.checkDateFocusable=function(e){i._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new r(t.getTime());a.setUTCMinutes(a.getUTCMinutes()+this.getItems()*this.getIntervalMinutes());var s=i._createUniversalUTCDate(e,undefined,true);if(s.getTime()>=t.getTime()&&s.getTime()<a.getTime()){return true}else{return false}};f.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};f.prototype._getIntervalStart=function(e){var t=e.getTime();var a=new r(e.getTime());a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);var i=this.getIntervalMinutes();while(a.getTime()<=t){a.setUTCMinutes(a.getUTCMinutes()+i)}var s=new r(a.getTime());s.setUTCMinutes(s.getUTCMinutes()-i);return s};f.prototype._setAriaRole=function(e){this._ariaRole=e;return this};f.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};f.prototype._updateItemARIASelected=function(e,t){var a=this._getAriaRole();if(a==="gridcell"){e.attr("aria-selected",t)}return this};function d(){var e=this._getDate();var t=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var i=0;var r=this.$("times").get(0);var s=this.$("times").children(".sapUiCalItem");for(var n=0;n<s.length;n++){var o=jQuery(s[n]);if(o.attr("data-sap-time")===t){i=n;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,m,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,v,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,_,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(r);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setFocusedIndex(i);this._oItemNavigation.setPageSize(s.length)}function m(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var s=this._getDate();var n=new r(s.getTime());var o=this._oItemNavigation.getItemDomRefs();var l=jQuery(o[t]);n=new r(this._oFormatYyyyMMddHHmm.parse(l.attr("data-sap-time"),true).getTime());this._oUTCDate=n;this.fireFocus({date:i._createLocalDate(n,true),notVisible:false});if(a.type=="mousedown"){y.call(this,a,n,t)}}function v(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var i=this._getDate();y.call(this,a,i,t)}}function _(e){var t=e.getParameter("event");var a=this.getItems();var s=this.getIntervalMinutes();var n=this._getDate();var o=new r(n.getTime());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":o.setUTCMinutes(o.getUTCMinutes()+s);break;case"sapprevious":case"sappreviousmodifiers":o.setUTCMinutes(o.getUTCMinutes()-s);break;case"sappagedown":o.setUTCMinutes(o.getUTCMinutes()+s*a);break;case"sappageup":o.setUTCMinutes(o.getUTCMinutes()-s*a);break;default:break}this.fireFocus({date:i._createLocalDate(o,true),notVisible:true})}}function y(e,t,a){if(e.button){return}var i=C.call(this,t);if(i){this._bMousedownChange=true}if(this._bMouseMove){M.call(this,true);this._bMoveChange=false}else if(this.getIntervalSelection()&&this.$().is(":visible")){b.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function D(e,t){i._checkJSDateObject(e);var a=e.getFullYear();i._checkYearInValidRange(a);var r=true;if(!u(this.getDate(),e)){var s=i._createUniversalUTCDate(e,undefined,true);s=this._getIntervalStart(s);r=this.checkDateFocusable(e);if(!this._bNoRangeCheck&&!r){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e);this._oUTCDate=s}if(this.getDomRef()){if(r){T.call(this,this._oUTCDate,t)}else{this.setDate(e)}}}function T(e,t){var a=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var i=this._oItemNavigation.getItemDomRefs();var r;for(var s=0;s<i.length;s++){r=jQuery(i[s]);if(r.attr("data-sap-time")==a){if(document.activeElement!=i[s]){if(t){this._oItemNavigation.setFocusedIndex(s)}else{this._oItemNavigation.focusItem(s)}}break}}}function C(e,t){if(!this._checkTimeEnabled(e)){return false}var a=this.getSelectedDates();var r;var s=0;var n=this.getParent();var o=this;var l;if(n&&n.getSelectedDates){o=n}if(this.getSingleSelection()){if(a.length>0){r=a[0];l=r.getStartDate();if(l){l=i._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l)}}else{r=new c;o.addAggregation("selectedDates",r)}if(this.getIntervalSelection()&&(!r.getEndDate()||t)&&l){var g;if(e.getTime()<l.getTime()){g=l;l=e;if(!t){r.setProperty("startDate",i._createLocalDate(p.getInstance(l.getTime()),true));r.setProperty("endDate",i._createLocalDate(p.getInstance(g.getTime()),true))}}else if(e.getTime()>=l.getTime()){g=e;if(!t){r.setProperty("endDate",i._createLocalDate(p.getInstance(g.getTime()),true))}}}else{r.setProperty("startDate",i._createLocalDate(p.getInstance(e.getTime()),true));r.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var u=this._checkDateSelected(e);if(u>0){for(s=0;s<a.length;s++){l=a[s].getStartDate();if(l){l=i._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l);if(e.getTime()==l.getTime()){o.removeAggregation("selectedDates",s);break}}}}else{r=new c({startDate:i._createLocalDate(p.getInstance(e.getTime()),true)});o.addAggregation("selectedDates",r)}}}return true}function I(){if(this._bMouseMove){M.call(this,true)}this.fireSelect()}function b(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function M(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}function S(e){var t;if(e.toUpperCase().indexOf("K")>-1){t=e.indexOf("k")>-1?"k":"K"}else{t=e.indexOf("h")>-1?"h":"H"}return t}return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRowRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/core/date/UI5Date","sap/ui/unified/library","sap/base/Log"],function(e,t,a,r,i,s,n,l){"use strict";var o=n.CalendarDayType;var d={apiVersion:2};d.render=function(e,t){var a=t._getStartDate();var r=t.getTooltip_AsString();var i=t.getId();var s={value:i+"-Descr",append:true};e.openStart("div",t);e.class("sapUiCalTimesRow");e.class("sapUiCalRow");if(r){e.attr("title",r)}if(t._getShowHeader()){s.value=s.value+" "+i+"-Head"}e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection(),labelledby:s});e.openEnd();e.openStart("span",i+"-Descr");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_DIALOG"));e.close("span");if(t.getIntervalSelection()){e.openStart("span",i+"-Start");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_START_TIME"));e.close("span");e.openStart("span",i+"-End");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_END_TIME"));e.close("span")}this.renderRow(e,t,a);e.close("div")};d.renderRow=function(e,t,a){var r=t.getId();this.renderHeader(e,t,a);e.openStart("div",r+"-times");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderTimes(e,t,a);e.close("div")};d.renderHeader=function(e,t,a){if(t._getShowHeader()){var r=t._getLocaleData();var i=t.getId();e.openStart("div",i+"-Head");e.openEnd();this.renderHeaderLine(e,t,r,a);e.close("div")}};d.renderHeaderLine=function(e,t,a,r){var i=t._getFormatDate();var s=t.getId();var n=t.getItems();var l=t._getIntervalStart(r);var o=t.getIntervalMinutes();var d="";var c=0;var p=[];var m=0;for(m=0;m<n;m++){c=i.format(l,true);if(p.length>0&&p[p.length-1].sDay==c){p[p.length-1].iItems++}else{p.push({sDay:c,iItems:1})}l.setUTCMinutes(l.getUTCMinutes()+o)}for(m=0;m<p.length;m++){var g=p[m];d=100/n*g.iItems+"%";e.openStart("div",s+"-Head"+m);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g.sDay);e.close("div")}};d.renderTimes=function(e,t,a){var r=this.getHelper(t,a);var i=t.getItems();var s=100/i+"%";var n=t._getIntervalStart(a);var l="";var o="";for(var d=0;d<i;d++){if(r.oFormatTimeAmPm){o=r.oFormatTimeAmPm.format(n,true);if(l==o){o=""}else{l=o}}this.renderTime(e,t,n,r,s,o);n.setUTCMinutes(n.getUTCMinutes()+r.iMinutes)}};d.getHelper=function(t,a){var r={};r.sLocale=t._getLocale();r.oLocaleData=t._getLocaleData();r.oNow=e._createUniversalUTCDate(s.getInstance(),undefined,true);r.sCurrentTime=t._rb.getText("CALENDAR_CURRENT_TIME");r.sId=t.getId();r.oFormatLong=t._getFormatLong();r.oFormatTime=t._getFormatTime();r.oFormatTimeAmPm=t._oFormatTimeAmPm;r.iMinutes=t.getIntervalMinutes();var i=t.getLegend();if(i){var n=sap.ui.getCore().byId(i);if(n){if(!(n instanceof sap.ui.unified.CalendarLegend)){throw new Error(n+" is not an sap.ui.unified.CalendarLegend. "+t)}r.oLegend=n}else{l.warning("CalendarLegend "+i+" does not exist!",t)}}return r};d.renderTime=function(e,t,a,s,n,l){var d=t._getAriaRole();var c={role:d,selected:d!=="gridcell"?null:false,label:"",describedby:""};var p=t._oFormatYyyyMMddHHmm.format(a.getJSDate(),true);var m=t._checkDateSelected(a);var g=t._getDateType(a);var u=t._checkTimeEnabled(a);e.openStart("div",s.sId+"-"+p);e.class("sapUiCalItem");if(n){e.style("width",n)}var v=new r(a.getTime());v.setUTCMinutes(v.getUTCMinutes()+s.iMinutes);if(a.getTime()<=s.oNow.getTime()&&v.getTime()>s.oNow.getTime()){e.class("sapUiCalItemNow");c["label"]=s.sCurrentTime+" "}if(m>0){e.class("sapUiCalItemSel");if(d==="gridcell"){c["selected"]=true}}if(m==2){e.class("sapUiCalItemSelStart");c["describedby"]=c["describedby"]+" "+s.sId+"-Start"}else if(m==3){e.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+s.sId+"-End"}else if(m==4){e.class("sapUiCalItemSelBetween")}else if(m==5){e.class("sapUiCalItemSelStart");e.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+s.sId+"-Start";c["describedby"]=c["describedby"]+" "+s.sId+"-End"}if(g&&g.type!=o.None){e.class("sapUiCalItem"+g.type);if(g.tooltip){e.attr("title",g.tooltip)}}if(!u){e.class("sapUiCalItemDsbl");c["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-time",p);c["label"]=c["label"]+s.oFormatLong.format(a,true);if(g&&g.type!=o.None){i.addCalendarTypeAccInfo(c,g.type,s.oLegend)}e.accessibilityState(null,c);e.openEnd();if(g&&g.type!=o.None){e.openStart("div");e.class("sapUiCalSpecialDate");if(g.color){e.style("background-color",g.color)}e.openEnd();e.close("div")}e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(s.oFormatTime.format(a,true));if(l){e.openStart("span");e.class("sapUiCalItemTextAmPm");e.openEnd();e.text(l);e.close("span")}e.close("span");e.close("div")};return d},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPicker", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/LocaleData","./YearPickerRenderer","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(e,t,a,r,i,s,o,n,l,h,d,p,g,jQuery,y){"use strict";var c=l.CalendarType;var u=e.extend("sap.ui.unified.calendar.YearPicker",{metadata:{library:"sap.ui.unified",properties:{year:{type:"int",group:"Data",defaultValue:2e3,deprecated:true},years:{type:"int",group:"Appearance",defaultValue:20},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},columns:{type:"int",group:"Appearance",defaultValue:4},date:{type:"object",group:"Data"},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},_middleDate:{type:"object",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},events:{select:{},pageChange:{}}},renderer:p});u.prototype.init=function(){this._oFormatYyyymmdd=n.getInstance({pattern:"yyyyMMdd",calendarType:c.Gregorian});this._oMinDate=r._minDate(this._getPrimaryCalendarType());this._oMaxDate=r._maxDate(this._getPrimaryCalendarType())};u.prototype.onBeforeRendering=function(){this._oYearFormat=n.getDateInstance({format:"y",calendarType:this._getPrimaryCalendarType()})};u.prototype.onAfterRendering=function(){m.call(this);this.focus()};u.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(e){e.destroy()});this._aMPSelectedDates=undefined}};u.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._iSelectedIndex]};u.prototype.setYear=function(e){this.setProperty("year",e);e=this.getProperty("year");var t=new i(e,0,1,this._getPrimaryCalendarType()),a=this._getSelectedDates()[0],r=this.getAggregation("selectedDates");if(!a||this.getIntervalSelection()){return this}if(!this._oSelectedDatesControlOrigin){if(!r||!r.length){this.addAggregation("selectedDates",a)}!this.getIntervalSelection()&&a.setStartDate(t.toLocalJSDate())}this.setDate(t.toLocalJSDate());return this};u.prototype.setDate=function(e){var t=r._maxDate(this.getProperty("primaryCalendarType")).getYear(),a,s,o,n;e&&r._checkJSDateObject(e);s=e.getFullYear();r._checkYearInValidRange(s);a=i.fromLocalJSDate(e,this._getPrimaryCalendarType());a.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",a.getYear());this._oDate=a;o=this.getYears();n=Math.floor(o/2);if(e.getFullYear()<n){this._iSelectedIndex=e.getFullYear()-1}else if(e.getFullYear()>t-n){this._iSelectedIndex=t+o-e.getFullYear()-1}else{this._iSelectedIndex=n}this.setProperty("_middleDate",a);return this};u.prototype._getDate=function(){if(!this._oDate){var e=this.getYear();this._oDate=new i(e,0,1,this._getPrimaryCalendarType())}return this._oDate};u.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||y.getCalendarType()};u.prototype._setSelectedDatesControlOrigin=function(e){this._oSelectedDatesControlOrigin=e};u.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};u.prototype._getSelectedDates=function(){var e=this.getSelectedDates();if(e){return e}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new s];this._aMPSelectedDates[0].setStartDate(this._getDate().toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};u.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oYearFormat=n.getDateInstance({format:"y",calendarType:e});if(this._oDate){this._oDate=new i(this._oDate,e);this._oDate.setMonth(0,1)}this._oMinDate=new i(this._oMinDate,e);this._oMaxDate=new i(this._oMaxDate,e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};u.prototype.nextPage=function(){this._updatePage(true,this._oItemNavigation.getFocusedIndex());return this};u.prototype.previousPage=function(){this._updatePage(false,this._oItemNavigation.getFocusedIndex());return this};u.prototype.onsapspace=function(e){e.preventDefault()};u.prototype.onsapselect=function(e){var t=this._oItemNavigation.getFocusedIndex();var a=this._selectYear(t);if(a){this.fireSelect()}};u.prototype.onmouseover=function(e){var t=e.target,a=this._getSelectedDates()[0],r,s,o;if(!a){return}if(a.getStartDate()){r=i.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());r.setMonth(0,1)}if(t.classList.contains("sapUiCalItem")){o=t.getAttribute("data-sap-year-start");s=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(o),this._getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(r,s)}}};u.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY}};u.prototype.onmouseup=function(e){var a=e.target,r=this._getSelectedDates()[0],s,o,n,l,h=this._oItemNavigation.getItemDomRefs();if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&a.classList.contains("sapUiCalItem")&&r){o=a.getAttribute("data-sap-year-start");l=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(o),this._getPrimaryCalendarType());n=i.fromLocalJSDate(r.getStartDate(),this._getPrimaryCalendarType());n.setMonth(0,1);if(!l.isSame(n)&&!r.getEndDate()){s=h.index(a);this._selectYear.call(this,s);this._oItemNavigation.focusItem(s)}}this.fireSelect()}else if(t.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,e.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,e.clientY,10)){s=this._oItemNavigation.getFocusedIndex();if(!h[s].classList.contains("sapUiCalItemDsbl")){this._selectYear(s);this.fireSelect()}}};u.prototype._markInterval=function(e,t){var a=this._oItemNavigation.getItemDomRefs(),s,o,n;if(e.isAfter(t)){t=[e,e=t][0]}for(n=0;n<a.length;++n){o=a[n].getAttribute("data-sap-year-start");s=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(o),this._getPrimaryCalendarType());if(this._bMousedownChange){if((s.isSame(e)||s.isSame(t))&&!r._isOutside(s,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSel")}else{jQuery(a[n]).removeClass("sapUiCalItemSel")}}if(r._isBetween(s,e,t)&&r._isBetween(s,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[n]).removeClass("sapUiCalItemSelBetween")}}};u.prototype.getFirstRenderedDate=function(){var e;if(this.getDomRef()){var t=this._oItemNavigation.getItemDomRefs();e=this._oFormatYyyymmdd.parse(jQuery(t[0]).attr("data-sap-year-start"))}return e};u.prototype._isValueInThreshold=function(e,t,a){var r=e-a,i=e+a;return t>=r&&t<=i};u.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};u.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};u.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),a=new i(e,e.getCalendarType()),r=new i(e,e.getCalendarType());a.setMonth(0,1);a=new i(a,t);r.setYear(r.getYear()+1);r.setMonth(0,1);r.setDate(r.getDate()-1);r=new i(r,t);return{start:a,end:r}};u.prototype._getLocale=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocale){return e._getLocale()}else if(!this._sLocale){this._sLocale=y.getFormatSettings().getFormatLocale().toString()}return this._sLocale};u.prototype._getLocaleData=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new h(t);this._oLocaleData=d.getInstance(a)}return this._oLocaleData};u.prototype._checkFirstDate=function(e){var t=this.getYears(),a=new i(this._oMaxDate,this._getPrimaryCalendarType());if(!a.isSame(r._maxDate(this._getPrimaryCalendarType()))){return e}a.setYear(a.getYear()-t+1);if(e.isAfter(a)&&e.getYear()!=a.getYear()){e=new i(a,this._getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new i(this._oMinDate,this._getPrimaryCalendarType());e.setMonth(0,1)}return e};u.prototype._checkDateEnabled=function(e){var t=true;if(e.isAfter(this._oMaxDate)&&e.getYear()!=this._oMaxDate.getYear()||e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){t=false}return t};u.prototype._updatePage=function(e,t,a){var r=this._oItemNavigation.getItemDomRefs();var s=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(jQuery(r[0]).attr("data-sap-year-start")),this._getPrimaryCalendarType());var o=this.getYears();if(e){var n=new i(this._oMaxDate,this._getPrimaryCalendarType());n.setYear(n.getYear()-o+1);if(s.isBefore(n)){s.setYear(s.getYear()+o);if(s.isAfter(n)){t=t+(s.getYear()-n.getYear());if(t>o-1){t=o-1}s=new i(this._oMaxDate,this._getPrimaryCalendarType());this._oDate.setMonth(0,1)}}else{return}}else{if(s.isAfter(this._oMinDate)){s.setYear(s.getYear()-o);if(s.isBefore(this._oMinDate)){t=t-(this._oMinDate.getYear()-s.getYear());if(t<0){t=0}s=new i(this._oMinDate,this._getPrimaryCalendarType())}}else{return}}s.setYear(s.getYear()+Math.floor(o/2));this._iSelectedIndex=t;this.setProperty("_middleDate",s);if(a){this.firePageChange()}};u.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),a=jQuery(t[e]),r=a.attr("data-sap-year-start"),s=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(r),this._getPrimaryCalendarType()),o=this._getSelectedDates()[0],n=this.getAggregation("selectedDates"),l;if(a.hasClass("sapUiCalItemDsbl")){return false}if(!this._isSelectionInProgress()){var h=true}this.setProperty("year",s.getYear(),h);this.setProperty("date",s.toLocalJSDate(),h);if(!o){return true}if(!this._oSelectedDatesControlOrigin){if(!n||!n.length){this.addAggregation("selectedDates",o)}!this.getIntervalSelection()&&o.setStartDate(s.toLocalJSDate(),h)}if(this.getIntervalSelection()){if(!o.getStartDate()){o.setStartDate(s.toLocalJSDate(),h)}else if(!o.getEndDate()){l=i.fromLocalJSDate(o.getStartDate(),this._getPrimaryCalendarType());if(s.isBefore(l)){o.setEndDate(l.toLocalJSDate(),h);o.setStartDate(s.toLocalJSDate(),h)}else{o.setEndDate(s.toLocalJSDate(),h)}}else{o.setStartDate(s.toLocalJSDate(),h);o.setEndDate(undefined,h)}}if(h){for(var d=0;d<t.length;d++){a=jQuery(t[d]);r=a.attr("data-sap-year-start");var p=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(r),this._getPrimaryCalendarType());var g=this._fnShouldApplySelection(p);var y=this._fnShouldApplySelectionBetween(p);if(g){a.addClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(y){a.addClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(!g&&!y){a.removeClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","false")}}}return true};u.prototype._isSelectionInProgress=function(){var e=this._getSelectedDates()[0];if(!e){return false}return this.getIntervalSelection()&&e.getStartDate()&&!e.getEndDate()};function m(){var e=this.getDate()?i.fromLocalJSDate(this.getDate(),this._getPrimaryCalendarType()):this._getDate(),t=this.getDomRef(),s=this.$().find(".sapUiCalItem"),o,n,l,h;for(h=0;h<s.length;++h){n=s[h].getAttribute("data-sap-year-start");l=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(n),this._getPrimaryCalendarType());if(l.isSame(e)){o=h;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,f,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,_,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,D,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this.getColumns(),true);if(r._isBetween(e,this._oMinDate,this._oMaxDate,true)){this._oItemNavigation.setFocusedIndex(o)}this._oItemNavigation.setPageSize(s.length)}function f(e){var t=e.getParameter("index"),a=e.getParameter("event"),r=this._oItemNavigation.aItemDomRefs[t],s=this._getSelectedDates()[0],o,n,l;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,t)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=i.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());o.setMonth(0,1)}l=r.getAttribute("data-sap-year-start");n=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(l),this._getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(o,n)}}}function _(e){f.call(this,e)}u.prototype._handleMousedown=function(e,a){if(e.button||t.support.touch&&!t.system.combi){return}var r=this._selectYear(a);if(r){this._bMousedownChange=true}e.preventDefault();e.setMark("cancelAutoClose")};function D(e){var t=e.getParameter("event"),a=this._oItemNavigation.getFocusedIndex(),r=this.getYears(),s=this.getColumns(),o=this._getSelectedDates()[0],n=this._oItemNavigation.getItemDomRefs(),l,h,d;if(o&&o.getStartDate()){l=i.fromLocalJSDate(o.getStartDate(),this._getPrimaryCalendarType());l.setMonth(0,1)}if(t.type){if(s===0){s=r}switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===g.ARROW_DOWN&&s<r){d=n[a-r+s].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,a-r+s,true);this._iSelectedIndex=a-r+s}else{d=n[0].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,0,true)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===g.ARROW_UP&&s<r){d=n[r-s+a].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,r-s+a,true);this._iSelectedIndex=r-s+a}else{d=n[r-1].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,r-1,true)}break;case"sappagedown":d=n[a].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,a,true);break;case"sappageup":d=n[a].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,a,true);break;default:break}}this._isSelectionInProgress()&&this._markInterval(l,h)}u.prototype._fnShouldApplySelection=function(e){var t=this._getSelectedDates()[0],a,r;if(!t){return false}a=t.getStartDate();r=t.getEndDate();if(a){a=i.fromLocalJSDate(a,this._getPrimaryCalendarType());a.setMonth(0,1)}if(this.getIntervalSelection()&&a&&r){r=i.fromLocalJSDate(r,this._getPrimaryCalendarType());r.setMonth(0,1);if(e.isSame(a)||e.isSame(r)){return true}}else if(a&&e.isSame(a)){return true}return false};u.prototype._fnShouldApplySelectionBetween=function(e){var t=this._getSelectedDates()[0],a,s;if(!t){return false}a=t.getStartDate();s=t.getEndDate();if(this.getIntervalSelection()&&a&&s){a=i.fromLocalJSDate(a,this._getPrimaryCalendarType());a.setMonth(0,1);s=i.fromLocalJSDate(s,this._getPrimaryCalendarType());s.setMonth(0,1);if(r._isBetween(e,a,s)){return true}}return false};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPickerRenderer", ["sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText"],function(e,t,a,r,i){"use strict";var l={apiVersion:2};l.render=function(e,t){var a=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUiCalYearPicker");if(t._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}if(a){e.attr("title",a)}e.accessibilityState(t,this.getAccessibilityState(t));e.openEnd();this.renderCells(e,t);e.close("div")};l.getAccessibilityState=function(e){return{role:"grid",readonly:"true",multiselectable:e.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_PICKER"),describedby:e._bCalendar?i.getStaticId("sap.ui.unified","CALENDAR_YEAR_RANGE_PICKER_OPEN_HINT"):""}};l.renderCells=function(i,l){var s=l.getProperty("_middleDate")?l.getProperty("_middleDate"):l._getDate(),n=new e(s,l.getPrimaryCalendarType()),d=t._minDate(l.getProperty("primaryCalendarType")).getYear(),o=t._maxDate(l.getProperty("primaryCalendarType")).getYear(),c=l.getYears(),p=l.getId(),y=l.getColumns(),u=l._getSecondaryCalendarType(),g="",f=false,C=l._getLocaleData(),S,m,_,D,T,b;n.setYear(n.getYear()-Math.floor(c/2));if(n.getYear()<d){n.setYear(d)}else if(n.getYear()+c>o){n.setYear(o-c+1)}if(y>0){g=100/y+"%"}else{g=100/c+"%"}for(b=0;b<c;b++){T=l._oFormatYyyymmdd.format(n.toUTCJSDate(),true);D={role:"gridcell"};f=l._checkDateEnabled(n);if(y>0&&b%y==0){i.openStart("div");i.accessibilityState(null,{role:"row"});i.openEnd()}i.openStart("div",p+"-y"+T);i.class("sapUiCalItem");m=l._fnShouldApplySelection(n);_=l._fnShouldApplySelectionBetween(n);if(m){i.class("sapUiCalItemSel");D["selected"]=true}if(_){i.class("sapUiCalItemSelBetween");D["selected"]=true}if(!m&&!_){D["selected"]=false}if(!f){i.class("sapUiCalItemDsbl");D["disabled"]=true}S=l._oYearFormat.format(a.getInstance(n.toUTCJSDate(),n.getCalendarType()),true);D["label"]=S;if(u){var Y=l._getDisplayedSecondaryDates(n),v=r.getDateInstance({format:"y",calendarType:l.getSecondaryCalendarType()}),I,U;if(Y.start.getYear()===Y.end.getYear()){I=v.format(Y.start.toUTCJSDate(),true)}else{U=C.getIntervalPattern();I=U.replace(/\{0\}/,v.format(Y.start.toUTCJSDate()),true).replace(/\{1\}/,v.format(Y.end.toUTCJSDate(),true))}D["label"]=D["label"]+" "+I}i.attr("tabindex","-1");i.attr("data-sap-year-start",T);i.style("width",g);i.accessibilityState(null,D);i.openEnd();i.text(S);if(u){i.openStart("div",p+"-y"+T+"-secondary");i.class("sapUiCalItemSecText");i.openEnd();i.text(I);i.close("div")}i.close("div");n.setYear(n.getYear()+1);if(y>0&&(b+1)%y==0){i.close("div")}}};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePicker", ["./YearPicker","./YearRangePickerRenderer","./CalendarDate","./CalendarUtils","sap/ui/thirdparty/jquery"],function(e,t,a,r,jQuery){"use strict";var i=e.extend("sap.ui.unified.calendar.YearRangePicker",{metadata:{library:"sap.ui.unified",properties:{years:{type:"int",group:"Appearance",defaultValue:9},columns:{type:"int",group:"Appearance",defaultValue:3},rangeSize:{type:"int",group:"Appearance",defaultValue:20}}},renderer:t});i.prototype.setDate=function(e){var t,i,s,n,o;e&&r._checkJSDateObject(e);i=e.getFullYear();r._checkYearInValidRange(i);t=a.fromLocalJSDate(e,this._getPrimaryCalendarType());t.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",t.getYear());this._oDate=t;s=this.getYears();o=Math.floor(s/2);n=new a(this._oDate,this._getPrimaryCalendarType());n=this._checkFirstDate(n);this._iSelectedIndex=o;this.setProperty("_middleDate",n);return this};i.prototype._checkFirstDate=function(e){var t=this.getYears();var i=new a(this._oMaxDate,this._getPrimaryCalendarType());if(!i.isSame(r._maxDate(this._getPrimaryCalendarType()))){return e}i.setYear(i.getYear()-Math.floor(t/2)*this.getRangeSize()+1-Math.floor(this.getRangeSize()/2));if(e.isAfter(i)&&e.getYear()!=i.getYear()){e=new a(i,this._getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new a(this._oMinDate,this._getPrimaryCalendarType());e.setMonth(0,1)}return e};i.prototype._updatePage=function(e,t,r){var i=this._oItemNavigation.getItemDomRefs(),s=a.fromLocalJSDate(this._oFormatYyyymmdd.parse(jQuery(i[0]).attr("data-sap-year-start")),this._getPrimaryCalendarType()),n=this.getYears(),o=this.getRangeSize();if(e){var h=new a(this._oMaxDate,this._getPrimaryCalendarType());h.setYear(h.getYear()-n*o+1);if(s.isBefore(h)){s.setYear(s.getYear()+n*o+Math.floor(o/2)+Math.floor(n/2)*o);s=this._checkFirstDate(s)}else{return}}else{if(s.isAfter(this._oMinDate)){s.setYear(s.getYear()-n*o);if(s.isBefore(this._oMinDate)){s=new a(this._oMinDate,this._getPrimaryCalendarType())}s.setYear(s.getYear()+Math.floor(n/2)*o+Math.floor(o/2));s=this._checkFirstDate(s)}else{return}}this._iSelectedIndex=t;this.setProperty("_middleDate",s);if(r){this.firePageChange()}};i.prototype._checkDateEnabled=function(e,t){if(r._isBetween(this._oMinDate,e,t,true)||r._isBetween(this._oMaxDate,e,t,true)||this._oMinDate.isBefore(e)&&this._oMaxDate.isAfter(t)){return true}return false};i.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),r=jQuery(t[e]),i=r.attr("data-sap-year-start"),s=a.fromLocalJSDate(this._oFormatYyyymmdd.parse(i),this._getPrimaryCalendarType());if(r.hasClass("sapUiCalItemDsbl")){return false}this.setProperty("date",s.toLocalJSDate());this.setProperty("year",s.getYear());return true};i.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),r=new a(e,e.getCalendarType()),i=new a(e,e.getCalendarType());r.setMonth(0,1);r=new a(r,t);i.setYear(i.getYear()+this.getRangeSize());i.setMonth(0,1);i.setDate(i.getDate()-1);i=new a(i,t);return{start:r,end:i}};i.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8);this.setRangeSize(8)}return this};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePickerRenderer", ["sap/ui/core/Renderer","./YearPickerRenderer","./CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/date/UniversalDate","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a,r,i,l){"use strict";var n=e.extend(t);n.apiVersion=2;n.getAccessibilityState=function(){return{role:"grid",readonly:"true",multiselectable:false,roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_RANGE_PICKER")}};n.renderCells=function(e,t){var n=t.getProperty("_middleDate")?t.getProperty("_middleDate"):t._getDate(),o=new a(n,t.getPrimaryCalendarType()),s=new a(o,t.getPrimaryCalendarType()),d=l._minDate(t.getProperty("primaryCalendarType")).getYear(),g=l._maxDate(t.getProperty("primaryCalendarType")).getYear(),c,p="",y="",u="",f=t.getId(),m=t.getColumns(),C=t.getYears(),Y=t._getSecondaryCalendarType(),S=t._getLocaleData(),D=S.getIntervalPattern(),T="",_,b,v;s.setYear(s.getYear()-Math.floor(t.getRangeSize()/2));s.setYear(s.getYear()-Math.floor(C/2)*t.getRangeSize());if(s.getYear()<d){s.setYear(d)}else if(s.getYear()>g-C){s.setYear(g-Math.floor(C)*t.getRangeSize()+1)}c=new a(s,t.getPrimaryCalendarType());c.setYear(c.getYear()+t.getRangeSize()-1);if(m>0){T=100/m+"%"}else{T=100/C+"%"}for(v=0;v<C;v++){b=t._oFormatYyyymmdd.format(s.toUTCJSDate(),true);_={role:"gridcell"};if(m>0&&v%m==0){e.openStart("div");e.accessibilityState(null,{role:"row"});e.openEnd()}e.openStart("div",f+"-y"+b);e.class("sapUiCalItem");if(!t._checkDateEnabled(s,c)){e.class("sapUiCalItemDsbl");_["disabled"]=true}p=t._oYearFormat.format(i.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);y=t._oYearFormat.format(i.getInstance(c.toUTCJSDate(),c.getCalendarType()),true);u=D.replace(/\{0\}/,p).replace(/\{1\}/,y);_["label"]=u;if(Y){var R=t._getDisplayedSecondaryDates(s),U=r.getDateInstance({format:"y",calendarType:t.getSecondaryCalendarType()}),I;if(R.start.getYear()===R.end.getYear()){I=U.format(R.start.toUTCJSDate(),true)}else{I=D.replace(/\{0\}/,U.format(R.start.toUTCJSDate(),true)).replace(/\{1\}/,U.format(R.end.toUTCJSDate(),true))}_["label"]=_["label"]+" "+I}e.attr("tabindex","-1");e.attr("data-sap-year-start",b);e.style("width",T);e.accessibilityState(null,_);e.openEnd();if(l._isBetween(t._oDate,s,c,true)){t._iSelectedIndex=v}e.text(u);if(Y){e.openStart("div",f+"-y"+b+"-secondary");e.class("sapUiCalItemSecText");e.openEnd();e.text(I);e.close("div")}e.close("div");if(m>0&&(v+1)%m==0){e.close("div")}s.setYear(c.getYear()+1);c.setYear(c.getYear()+t.getRangeSize())}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/library", ["sap/ui/core/Core","sap/ui/base/Object","./ColorPickerDisplayMode","./FileUploaderHttpRequestMethod","sap/ui/core/library"],function(e,i,n,a){"use strict";var t=sap.ui.getCore().initLibrary({name:"sap.ui.unified",version:"1.115.1",dependencies:["sap.ui.core"],designtime:"sap/ui/unified/designtime/library.designtime",types:["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],interfaces:["sap.ui.unified.IProcessableBlobs"],controls:["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],elements:["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem"],extensions:{"sap.ui.support":{publicRules:true}}});t.CalendarDayType={None:"None",NonWorking:"NonWorking",Type01:"Type01",Type02:"Type02",Type03:"Type03",Type04:"Type04",Type05:"Type05",Type06:"Type06",Type07:"Type07",Type08:"Type08",Type09:"Type09",Type10:"Type10",Type11:"Type11",Type12:"Type12",Type13:"Type13",Type14:"Type14",Type15:"Type15",Type16:"Type16",Type17:"Type17",Type18:"Type18",Type19:"Type19",Type20:"Type20"};t.StandardCalendarLegendItem={Today:"Today",WorkingDay:"WorkingDay",NonWorkingDay:"NonWorkingDay",Selected:"Selected"};t.CalendarIntervalType={Hour:"Hour",Day:"Day",Month:"Month",Week:"Week",OneMonth:"One Month"};t.CalendarAppointmentHeight={HalfSize:"HalfSize",Regular:"Regular",Large:"Large",Automatic:"Automatic"};t.CalendarAppointmentRoundWidth={HalfColumn:"HalfColumn",None:"None"};t.GroupAppointmentsMode={Collapsed:"Collapsed",Expanded:"Expanded"};t.FileUploaderHttpRequestMethod=a;t.CalendarAppointmentVisualization={Standard:"Standard",Filled:"Filled"};t.ContentSwitcherAnimation={None:"None",Fade:"Fade",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Rotate:"Rotate",SlideRight:"SlideRight",SlideOver:"SlideOver"};t.ColorPickerMode={HSV:"HSV",HSL:"HSL"};t.ColorPickerDisplayMode=n;t._ContentRenderer=i.extend("sap.ui.unified._ContentRenderer",{constructor:function(e,n,a,t){i.apply(this);this._id=n;this._cntnt=a;this._ctrl=e;this._rm=sap.ui.getCore().createRenderManager();this._cb=t||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}i.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(function(){var e=document.getElementById(this._id);if(e){if(typeof this._cntnt==="string"){var i=this._ctrl.getAggregation(this._cntnt,[]);for(var n=0;n<i.length;n++){this._rm.renderControl(i[n])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(!!e)}.bind(this),0)}});t._iNumberOfOpenedShellOverlays=0;if(!t.ColorPickerHelper){t.ColorPickerHelper={isResponsive:function(){return false},factory:{createLabel:function(){throw new Error("no Label control available")},createInput:function(){throw new Error("no Input control available")},createSlider:function(){throw new Error("no Slider control available")},createRadioButtonGroup:function(){throw new Error("no RadioButtonGroup control available")},createRadioButtonItem:function(){throw new Error("no RadioButtonItem control available")}},bFinal:false}}if(!t.FileUploaderHelper){t.FileUploaderHelper={createTextField:function(e){throw new Error("no TextField control available!")},setTextFieldContent:function(e,i){throw new Error("no TextField control available!")},createButton:function(e){throw new Error("no Button control available!")},addFormClass:function(){return null},bFinal:false}}t.calendar=t.calendar||{};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/Mobile", ["sap/ui/Device","sap/base/Log","sap/base/util/extend","sap/ui/dom/_ready"],function(e,t,o,n){"use strict";var i={};var a=false;function r(e,t){t=t||{};var o=document.createElement(e);for(var n in t){if(t[n]){o.setAttribute(n,t[n])}}document.head.appendChild(o)}function c(e){var t=document.head.querySelectorAll(e);for(var o=0,n=t.length;o<n;o++){t[o].remove(t[o])}}i.init=function(t){if(!a){a=true;t=o({},{viewport:true,statusBar:"default",hideBrowser:true,preventScroll:true,preventPhoneNumberDetection:true,useFullScreenHeight:true,homeIconPrecomposed:false,mobileWebAppCapable:"default"},t);if(t.preventPhoneNumberDetection){r("meta",{name:"format-detection",content:"telephone=no"})}if(t.viewport){var c;var s=e.resize.height;var l=e.resize.width;c="width=device-width, initial-scale=1.0";if(e.os.ios){c+=", maximum-scale=1.0, user-scalable=no"}r("meta",{name:"viewport",content:c});if((s!==window.innerHeight||l!==window.innerWidth)&&e.resize._update){e.resize._update()}}if(t.useFullScreenHeight){n().then(function(){document.documentElement.style.height="100%"})}if(t.preventScroll&&(e.os.ios||e.os.mac&&e.browser.mobile)){n().then(function(){document.documentElement.style.position="fixed";document.documentElement.style.overflow="hidden";document.documentElement.style.height="100%";document.documentElement.style.width="100%"})}}if(t){if(t.homeIcon){var p;if(typeof t.homeIcon==="string"){p={phone:t.homeIcon,favicon:t.homeIcon}}else{p=Object.assign({},t.homeIcon);p.phone=t.homeIcon.phone||t.homeIcon.icon||p.favicon;p.favicon=p.favicon||t.homeIcon.icon||t.homeIcon.phone;p.icon=undefined}p.precomposed=t.homeIconPrecomposed||p.precomposed;i.setIcons(p)}if(t.hasOwnProperty("mobileWebAppCapable")){i.setWebAppCapable(t.mobileWebAppCapable,t.statusBar)}}};i.setIcons=function(e){if(!e||typeof e!=="object"){t.warning("Call to sap/ui/util/Mobile.setIcons() has been ignored because there were no icons given or the argument was not an object.");return}var o=e.precomposed?"-precomposed":"",n={phone:"",tablet:"152x152","phone@2":"180x180","tablet@2":"167x167"};if(e["favicon"]){c("link[rel=icon]");r("link",{rel:"icon",href:e["favicon"]})}var i=Object.keys(n).some(function(t){return e.hasOwnProperty(t)});if(i){c("[rel=apple-touch-icon]");c("[rel=apple-touch-icon-precomposed]")}for(var a in n){if(e[a]){r("link",{rel:"apple-touch-icon"+o,href:e[a],sizes:n[a]})}}};i.setWebAppCapable=function(t,o){if(!e.system.tablet&&!e.system.phone){return}var n=["","apple"],i="mobile-web-app-capable",a=t?"yes":"no",c,s,l;for(c=0;c<n.length;c++){s=n[c]?n[c]+"-"+i:i;l=document.head.querySelector('meta[name="'+s+'"]');if(l){l.setAttribute("content",a)}else{r("meta",{name:s,content:a});if(n[c]==="apple"){r("meta",{name:"apple-mobile-web-app-status-bar-style",content:o?o:"default"})}}}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/_FeatureDetection", [],function(){"use strict";var i={};function t(){var t=document.createElement("div");t.innerHTML='<div dir="rtl"><div><span></span><span></span></div></div>';t.firstChild.style="width: 1px; height: 1px; position: fixed; top: 0px; left: 0px; overflow: hidden";t.firstChild.firstChild.style="width: 2px";t.firstChild.firstChild.firstChild.style="display: inline-block; width: 1px";t.firstChild.firstChild.lastChild.style="display: inline-block; width: 1px";document.documentElement.appendChild(t);var e=t.firstChild;i.initialZero=e.scrollLeft==0;document.documentElement.removeChild(t)}t();var e={initialScrollPositionIsZero:function(){return i.initialZero}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/defaultLinkTypes", [],function(){"use strict";var r=function r(e,n){e=typeof e==="string"?e.trim():e;if(!e&&n&&n!=="_self"){return"noopener noreferrer"}return e};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/isCrossOriginURL", [],function(){"use strict";function n(n){var i=new URL(n,document.baseURI);return i.origin==="null"||window.location.origin==="null"||i.origin!==window.location.origin}return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/openWindow", [],function(){"use strict";var n=function n(r,e){var o="noopener,noreferrer";return window.open(r,e,o)};return n});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/core/Configuration","sap/ui/core/routing/History","sap/ui/thirdparty/URI","sap/ushell/_ApplicationType/guiResolution","sap/ushell/_ApplicationType/systemAlias","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/wdaResolution","sap/ushell/Config","sap/ushell/URLTemplateProcessor","sap/ushell/User","sap/ushell/utils","sap/ui/thirdparty/hasher"],function(e,t,a,n,r,s,i,o,p,l,u,c,f,d,m){"use strict";var h=new s(document.URL).search(true),y=h["iframe-url"];function v(e,t,a){var n=e.inbound;var r=n&&n.resolutionResult;var s;if(n&&r){if(r["sap.wda"]){s=l.constructFullWDAResolutionResult(e,t,a)}else{s=l.constructWDAResolutionResult(e,t,a)}}if(s){s.then(function(t){t.extendedInfo=L(e);C(e,t);M(t);return t})}return s}function g(e,t,a){return i.generateTRResolutionResult(e,t,a).then(function(t){t.extendedInfo=L(e);C(e,t);M(t);return t})}function P(e,a,n){var r=new s(a);var i=e.inbound;var l=i&&i.resolutionResult;var u=t({},e.mappedIntentParamsPlusSimpleDefaults);var c;var f;if(u["sap-system"]){c=u["sap-system"][0];delete u["sap-system"]}if(u["sap-system-src"]){f=u["sap-system-src"][0];delete u["sap-system-src"]}return o.spliceSapSystemIntoURI(r,l.systemAlias,c,f,"WCF",l.systemAliasSemantics||o.SYSTEM_ALIAS_SEMANTICS.applied,n).then(function(t){var a=p.getURLParsing().paramsToString(u);var n=p.appendParametersToUrl(a,t);var r={url:n,text:l.text||"",additionalInformation:l.additionalInformation||"",applicationType:"WCF",fullWidth:true,extendedInfo:L(e)};C(e,r);M(r);O(r,"WCF");return r})}function S(a,n,r){var s=a.inbound;var i={};["applicationType","additionalInformation","applicationDependencies"].forEach(function(e){if(s.resolutionResult.hasOwnProperty(e)){i[e]=s.resolutionResult[e]}});i.url=n;if(i.applicationDependencies&&typeof i.url==="undefined"){i.url=""}if(typeof i.url==="undefined"){i.url="";e.warning("The component url is undefined. We set it to empty string avoid rejection of the promise")}var o=t({},a.mappedIntentParamsPlusSimpleDefaults);i.reservedParameters={};var l={"sap-ui-fl-max-layer":true,"sap-ui-fl-control-variant-id":true,"sap-ui-fl-version":true};Object.keys(l).forEach(function(e){var t=o[e];if(t){delete o[e];i.reservedParameters[e]=t}});a.mappedDefaultedParamNames=a.mappedDefaultedParamNames.filter(function(e){return!l[e]});if(a.mappedDefaultedParamNames.length>0){o["sap-ushell-defaultedParameterNames"]=[JSON.stringify(a.mappedDefaultedParamNames)]}var u=o["sap-system"]&&o["sap-system"][0];var c=o["sap-system-src"]&&o["sap-system-src"][0];i["sap-system"]=u;if(typeof c==="string"){i["sap-system-src"]=c}a.effectiveParameters=o;var f=p.getURLParsing().paramsToString(o);if(f){i.url=i.url+(i.url.indexOf("?")<0?"?":"&")+f}if(typeof s.resolutionResult.ui5ComponentName!=="undefined"){i.ui5ComponentName=s.resolutionResult.ui5ComponentName}i.text=s.title;return Promise.resolve(i)}function A(t){var a;var n=m.getHash()||window.location.hash;var r=n.lastIndexOf("&/");var s=1;if(r>0){if(t&&t.capabilities&&t.capabilities.appFrameworkId==="UI5"){s=2}a=n.substring(r+s);try{if(a&&a.length>0){a=decodeURIComponent(a)}}catch(t){e.warning("inner route should be double encoded",t,"sap.ushell.ApplicationType.getInnerAppRoute")}}return a}function R(e){var t=e.targetNavigationMode;if(t===undefined||t===""){t="inplace"}return t}function w(){var e=window.hasher&&window.hasher.getHash();var t="";if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){var a=/(?:sap-iapp-state=)([^&/\\]+)/.exec(e);if(a&&a.length===2){t=a[1]}}return t}function I(){return new Promise(function(e){Promise.all([sap.ushell.Container.getServiceAsync("UserInfo"),sap.ushell.Container.getServiceAsync("PluginManager"),d.getUi5VersionAsync()]).then(function(t){var a=t[0];var s=t[1];var i=t[2];var o=a.getUser();var p=o.getContentDensity()||(document.body.classList.contains("sapUiSizeCompact")?"compact":"cozy");var l=o.getTheme();if(l.indexOf("sap_")!==0){var c=f.prototype.constants.themeFormat.THEME_NAME_PLUS_URL;l=o.getTheme(c)}var d=n.getLanguage&&n.getLanguage();var m=n.getSAPLogonLanguage&&n.getSAPLogonLanguage();var h=window.location.protocol+"//"+window.location.host+"/comsapuitheming.runtime/themeroot/v1";var y=0;if(u.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){y=u.last("/core/shell/sessionTimeoutIntervalInMinutes")}var v=false;if(window["sap-ui-debug"]!==false&&window["sap-ui-debug"]!==undefined){v=window["sap-ui-debug"]}e({language:d,logonLanguage:m,theme:l,themeServiceRoot:h,isDebugMode:v,ui5Version:i,contentDensity:p,sapPlugins:s._getNamesOfPluginsWithAgents(),innerAppState:w(),sessionTimeout:y,historyDirection:r.getInstance().getDirection()||""})})})}function b(e){var t;switch(e){case"inplace":t="embedded";break;case"explace":t="newWindow";break;default:t=e||"newWindow"}return t}function U(t,a){var n=b(t);var r=d.getMember(a,"sap|integration.navMode");switch(r){case"inplace":return"embedded";case"explace":if(n==="embedded"){return"newWindowThenEmbedded"}if(["newWindowThenEmbedded","newWindow"].indexOf(n)>=0){return n}e.error("App-defined navigation mode was ignored","Application requests to be opened in a new window but no expected navigation mode was defined on the template","sap.ushell.ApplicationType");default:return n}}function T(e,t,a){var n=d.clone(e);n.navigationMode=U(e.navigationMode,t);n.appId=a(e.appId||"");n.technicalAppComponentId=a(e.technicalAppComponentId||"");n.appSupportInfo=t["sap.app"]&&t["sap.app"].ach;n.appFrameworkId=e.appFrameworkId;delete n.urlTransformation;return n}function L(e,t,a){var n={appParams:{},system:undefined};if(e&&e.mappedIntentParamsPlusSimpleDefaults){n.appParams=JSON.parse(JSON.stringify(e.mappedIntentParamsPlusSimpleDefaults))}if(t){var r=d.getMember(t,"sap|app.destination");if(typeof r==="string"&&r.length>0){n.system=a.systemAliases[r]&&JSON.parse(JSON.stringify(a.systemAliases[r]));if(typeof n.system==="object"){n.system.alias=r}}}return n}function x(e,t,a){return new Promise(function(n,r){var i=new s(e);var o=i.query(true);var p=true;var l=["sap-language","sap-theme","sap-shell","sap-ui-app-id","transaction","sap-iframe-hint","sap-keep-alive","sap-ui-versionedLibCss","sap-wd-configId"];if(a&&a.mandatoryUrlParams){l=l.concat(a.mandatoryUrlParams.split(","));l=l.filter(function(e,t){return l.indexOf(e)===t})}if(t==="explace"){p=false}sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){t.compactParams(o,l,undefined,p).done(function(t){if(!t.hasOwnProperty("sap-intent-param")){n(e);return}var a;if(t["sap-theme"]){var r="sap-theme="+t["sap-theme"];t["sap-theme"]="sap-theme-temp-placeholder";i.query(t);a=i.toString();a=a.replace("sap-theme=sap-theme-temp-placeholder",r)}else{i.query(t);a=i.toString()}n(a)}).fail(function(e){r(e)})})})}function O(e,t){if(t){W(e,"sap-iframe-hint",t)}}function C(e,t){var a=e.intentParamsPlusAllDefaults;if(a&&a["sap-post"]&&a["sap-post"][0]==="false"){t.openWithPostByAppParam=false}}function M(e){var t;if(h&&h.hasOwnProperty("sap-keep-alive")){t=h["sap-keep-alive"]}else{t=a.get("extendedInfo.appParams.sap-keep-alive",e);if(Array.isArray(t)){t=t[0]}}if(t!==undefined){W(e,"sap-keep-alive",t)}}function D(e){var t=u.last("/core/spaces/enabled");if(t===true){W(e,"sap-spaces",t)}}function E(e,t,a){var n=d.getMember(t,"sap|integration.urlTemplateId");if(n==="urltemplate.url-dynamic"&&e.url.indexOf("sap-language=")===-1){W(e,"sap-language",a.env.language)}}function W(e,t,a){if(e.url){var n=e.url.indexOf("#");var r=e.url;var s="";if(n>0){r=e.url.slice(0,n);s=e.url.slice(n)}e.url=r+(r.indexOf("?")>=0?"&":"?")+t+"="+a+s}}function N(t,n,r){return new Promise(function(n){var r=t.inbound;var s=r.templateContext;var i=s.payload.capabilities||{};if(t.mappedIntentParamsPlusSimpleDefaults&&t.mappedIntentParamsPlusSimpleDefaults.hasOwnProperty("sap-ushell-innerAppRoute")){var o=window.hasher.getHash();if(t.mappedIntentParamsPlusSimpleDefaults["sap-ushell-innerAppRoute"].length>0&&o.indexOf("&/")===-1){o+="&/"+t.mappedIntentParamsPlusSimpleDefaults["sap-ushell-innerAppRoute"];window.hasher.replaceHash(o)}}var p={innerAppRoute:A(s.payload)||t.parsedIntent.appSpecificRoute,targetNavMode:R(t),defaultParameterNames:t.mappedDefaultedParamNames,startupParameter:t.mappedIntentParamsPlusSimpleDefaults,remoteApplication:{remoteSO:undefined,remoteAction:undefined}};I().then(function(o){p.env=o;var l=a.get(["sap.integration","urlTemplateParams","query"],s.siteAppSection)||{};if(l.hasOwnProperty("sap-cssurl")){p.env.themeServiceRoot=undefined;p.env.theme=undefined}if(i.appFrameworkId==="UI5"&&p.startupParameter){for(var u in p.startupParameter){if(u!=="sap-ushell-innerAppRoute"){p.startupParameter[u][0]=encodeURIComponent(p.startupParameter[u][0])}if(u==="sap-shell-so"){p.remoteApplication.remoteSO=p.startupParameter[u][0]}if(u==="sap-shell-action"){p.remoteApplication.remoteAction=p.startupParameter[u][0]}}if(t.mappedDefaultedParamNames&&t.mappedDefaultedParamNames.length>0){var f=t.mappedDefaultedParamNames.filter(function(e){return e!=="sap-shell-so"&&e!=="sap-shell-action"&&e!=="sap-system"});p.startupParameter["sap-ushell-defaultedParameterNames"]=[JSON.stringify(f)]}delete p.startupParameter["sap-shell-so"];delete p.startupParameter["sap-shell-action"]}var m="/universal_search/search",h=p.innerAppRoute&&p.innerAppRoute.indexOf(m),v;if(h===0){v=window.location.hash.split("&/")[1];p.innerAppRoute="/JAMSEARCHPATHH?JAMSEARCHVALUEE=VALUEE"}var g=c.expand(s.payload,s.site,p,s.siteAppSection,"startupParameter");if(h===0){g=g.replace("/JAMSEARCHPATHH?JAMSEARCHVALUEE=VALUEE","/"+v)}if(p.env.theme===undefined){g=g.replace("&sap-theme=","")}if(i.appFrameworkId==="UI5"&&document.URL.indexOf("#")>0){var P=g.split("#"),S=P[1].split("&/"),A=sap.ushell.Container.getFLPUrl(true).split("#"),R=A[1].split("&/");g=P[0]+"#"+R[0]+(S.length>1?"&/"+S[1]:"");e.debug("- created URL with fixed hash: "+g,"sap.ushell.ApplicationType")}var w=function(e){var t=d.clone(s.payload);t.urlTemplate=e;return c.expand(t,s.site,p,s.siteAppSection,"startupParameter")};var I={applicationType:"URL",text:r.title,appCapabilities:T(i,s.siteAppSection,w),url:g,extendedInfo:L(t,s.siteAppSection,s.site),contentProviderId:r.contentProviderId||"",systemAlias:s.siteAppSection["sap.app"]&&s.siteAppSection["sap.app"].destination||s.siteAppSection.destination||""};O(I,I.appCapabilities.appFrameworkId);M(I);D(I);E(I,s.siteAppSection,p);var b=new Promise(function(e){sap.ushell.Container.getServiceAsync("URLTemplate").then(function(t){sap.ui.require(["sap/ushell/components/applicationIntegration/application/BlueBoxesCache"],function(a){var n=a.get(I.url)===undefined;t.handlePostTemplateProcessing(I.url,s.siteAppSection,n).then(e)})})});b.then(function(e){if(y&&e.indexOf("ui5appruntime.html")>0){var t=e.split("?");t[0]=y;e=t.join("?")}I.url=e;F(I.url,i,s).then(function(e){I.url=e;if(I.url&&typeof I.url==="string"&&I.url.indexOf("sap-iframe-hint=GUI")>0){n(I)}else{x(I.url,p.targetNavMode,i).then(function(e){I.url=e;n(I)},function(){n(I)})}})})})})}function F(t,n,r){return new Promise(function(i){var o=n.urlTransformation||{enabled:false};if(k(o,r)){var p=new s(t);var l=o.transformations[0];var u=l.service.uri;var f=c.prepareExpandData({urlTemplate:"",parameters:{names:u.queryOptions}},{},{urlComponent:{query:p.query(),fragment:p.fragment()}},r.siteAppSection,"");var d=s.expand("{+rootPath}/{+resourcePath}{?queryParams*}",{rootPath:u.rootPath,resourcePath:u.resourcePath,queryParams:f.oResolvedParameters}).toString();sap.ui.require(["sap/ui/thirdparty/datajs"],function(n){n.read({requestUri:d,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}},function(n){var r=a.get("transformAppLaunchQueryString.value",n);if(r===undefined){r=a.get("transformAppLaunchIntent.value",n)}if(r===undefined){r=a.get("transformAppLaunchQueryString.queryString",n)}e.info("URL Transformation Succeeded",JSON.stringify({URLBeforeTransformation:t,URLAfterTransformation:r}),"sap.ushell.ApplicationType");var s=l.sourceURLComponent;if(s===undefined){s="query"}if(s==="query"||s==="fragment"){t=p[s].apply(p,[r]).toString()}else{e.error("The "+s+" component of the URL in URI.js is not transformed","","sap.ushell.ApplicationType")}i(t)},function(a){e.error("URL Transformation Failed",JSON.stringify(a),"sap.ushell.ApplicationType");i(t)})})}else{i(t)}})}function k(e,t){if(typeof e.enabled==="boolean"){return e.enabled}var a=c.prepareExpandData({urlTemplate:"",parameters:{names:{enabled:e.enabled}}},{},{},t.siteAppSection,"");return typeof a.oResolvedParameters.enabled==="boolean"?a.oResolvedParameters.enabled:false}function j(e,a,n){var r=e.inbound;var i=r&&r.resolutionResult;var l={};var c=new s(a);var f=t({},e.mappedIntentParamsPlusSimpleDefaults);if(e.inbound&&e.inbound.action==="launchURL"&&e.inbound.semanticObject==="Shell"){delete f["sap-external-url"]}var d=f["sap-system"]&&f["sap-system"][0];var m=f["sap-system-src"]&&f["sap-system-src"][0];l["sap-system"]=d;delete f["sap-system"];if(typeof m==="string"){l["sap-system-src"]=m;delete f["sap-system-src"]}return new Promise(function(e,t){if(p.absoluteUrlDefinedByUser(c,i.systemAlias,i.systemAliasSemantics)){e(a)}else{o.spliceSapSystemIntoURI(c,i.systemAlias,d,m,"URL",i.systemAliasSemantics||o.SYSTEM_ALIAS_SEMANTICS.applied,n).then(function(t){var a=t.toString();e(a)},t)}}).then(function(e){var t=false,a,n=u.last("/core/navigation/flpURLDetectionPattern"),r=new RegExp(n);if(f&&f.hasOwnProperty("sap-params-append")){delete f["sap-params-append"];t=true}a=p.getURLParsing().paramsToString(f);return r.test(e)||t===true?p.appendParametersToIntentURL(f,e):p.appendParametersToUrl(a,e)},Promise.reject.bind(Promise)).then(function(e){["additionalInformation","applicationDependencies","systemAlias"].forEach(function(e){if(r.resolutionResult.hasOwnProperty(e)){l[e]=r.resolutionResult[e]}});l.url=e;l.text=r.title;l.applicationType="URL";return Promise.resolve(l)},Promise.reject.bind(Promise))}var q={URL:{type:"URL",defaultFullWidthSetting:true,generateResolutionResult:function(e){var t=e.inbound.hasOwnProperty("templateContext");return t?N.apply(null,arguments):j.apply(null,arguments)},easyAccessMenu:{intent:"Shell-startURL",resolver:null,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:false,systemSelectionPriority:1}},WDA:{type:"WDA",defaultFullWidthSetting:true,enableWdaCompatibilityMode:u.last("/core/navigation/enableWdaCompatibilityMode"),generateResolutionResult:v,easyAccessMenu:{intent:"Shell-startWDA",resolver:l.resolveEasyAccessMenuIntentWDA,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:2}},TR:{type:"TR",defaultFullWidthSetting:true,generateResolutionResult:g,easyAccessMenu:{intent:"Shell-startGUI",resolver:i.resolveEasyAccessMenuIntentWebgui,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:3}},NWBC:{type:"NWBC",defaultFullWidthSetting:true},WCF:{type:"WCF",generateResolutionResult:P,defaultFullWidthSetting:true},SAPUI5:{type:"SAPUI5",generateResolutionResult:S,defaultFullWidthSetting:false}};function H(){return Object.keys(q).map(function(e){return q[e]}).filter(function(e){return typeof e.easyAccessMenu==="object"})}function _(){var e={};H().forEach(function(t){e[t.easyAccessMenu.intent]=t.easyAccessMenu.resolver});return function(t,a){if(e[t]&&(!a||a!=="SAPUI5")){return e[t]}return null}}function J(e){return!!q[e]&&q[e].defaultFullWidthSetting}Object.defineProperty(q,"enum",{value:Object.keys(q).reduce(function(e,t){if(q[t].type){e[t]=q[t].type}return e},{})});var B={getEasyAccessMenuResolver:_(),getEasyAccessMenuDefinitions:H,getDefaultFullWidthSetting:J,handleURLTransformation:F};Object.keys(B).forEach(function(e){Object.defineProperty(q,e,{value:B[e]})});return q},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config", ["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/_Config/utils"],function(e,n,t){"use strict";var r=n.createConfigContract(window["sap-ushell-config"]);var o=e.createChannel(r);var c=Object.keys(o).reduce(function(n,t){n[t]=function(){if(!o){o=e.createChannel(r)}return o[t].apply(o,arguments)};return n},{_reset:function(){o=null},_resetContract:function(){r=n.createConfigContract(window["sap-ushell-config"]);this._reset()},registerConfiguration:function(e,n){r=n},createModel:function(n,c){if(!o){o=e.createChannel(r)}return t.createModel(o,r,n,c)}});return c},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Container", ["sap/base/assert","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/base/EventProvider","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/performance/Measurement","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ui/util/Mobile","sap/ushell/EventHub","sap/ushell/System","sap/ushell/Ui5NativeServiceFactory","sap/ushell/Ui5ServiceFactory","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/renderers/fiori2/ShellLayout"],function(e,t,r,n,i,a,o,s,u,l,c,jQuery,f,d,p,v,h,g,m,y,S){"use strict";var w="sap.ushell.services.Container";var C="sap.ushell.Container.dirtyState.";var D={};var P;var b;var L;var E=[];function A(){close()}function I(){document.location="about:blank"}function R(e){if(b&&b[e]){return b[e]}return"sap.ushell.adapters."+e}function F(e){return P.services&&P.services[e]||{}}function N(e,t,r,n,i){var a=F(e).adapter||{};var o;function s(e){return new Promise(function(n,i){sap.ui.require([e],function(e){var i=new e(t,r,{config:a.config||{}});n(i)},i)})}if(i===true){o=a.module;if(o===undefined){return n?Promise.resolve():undefined}}else{o=a.module||R(t.getPlatform())+"."+e+"Adapter"}var u=o.replace(/\./g,"/");if(n){return s(u)}return function(){function e(e){var n=sap.ui.requireSync(e);return new n(t,r,{config:a.config||{}})}return e(u)}()}function U(r){var n=new o;var i=false;var l=[];var d={};var h="sap.ushell.Container."+r.getSystem().getPlatform()+".remoteSystem.";var g={};var b;var L;var R=m.getLocalStorage();var U=new m.Map;var M=new m.Map;var T="sap.ushell.Container."+r.getSystem().getPlatform()+".sessionTermination";var _=this;this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.abortLogon()}};this.createRenderer=function(e,r){if(typeof e==="boolean"){r=e;e=undefined}var i={async:!!r};var a;var o;c.start("FLP:Container.InitLoading","Initial Loading","FLP");m.setPerformanceMark("FLP - renderer created");e=e||P.defaultRenderer;if(!e){throw new Error("Missing renderer name")}o=P.renderers&&P.renderers[e]||{};a=o.module||(e.indexOf(".")<0?"sap.ushell.renderers."+e+".Renderer":e);if(o.componentData&&o.componentData.config){i.config=o.componentData.config}function u(t){var r=sap.ui.requireSync(t);var a=new r({componentData:i});var o;var u=sap.ui.requireSync("sap/ui/core/UIComponent");if(a instanceof u){var l=sap.ui.requireSync("sap/ui/core/ComponentContainer");o=new l({component:a,height:"100%",width:"100%"})}else{o=a}if(!(o instanceof s)){throw new Error("Unsupported renderer type for name "+e)}f(o);v(o);d[e]=a;n.fireEvent("rendererCreated",{renderer:a});return o}function l(t){return new Promise(function(r,a){sap.ui.require([t,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"],function(t,o,u){var l=new t({componentData:i});if(l instanceof u){var c=new o({component:l,height:"100%",width:"100%",async:true});f(c);v(c);d[e]=l;l.rootControlLoaded().then(function(){n.fireEvent("rendererCreated",{renderer:l});r(c)})}else if(l instanceof s){f(l);v(l);d[e]=l;n.fireEvent("rendererCreated",{renderer:l});r(l)}else{a(new Error("Unsupported renderer type!"))}})})}function f(e){e.placeAt=function(e,t){var r=e;var n="canvas";var i=document.body;if(e===i.id){r=document.createElement("div");r.setAttribute("id",n);r.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(r,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(r)}e=n;t=""}S.applyLayout(e);p.emit("ShellLayoutApplied",Date.now());s.prototype.placeAt.call(this,e,t)}}function v(e){var t=e.destroy;e.destroy=function(){if(e.isA("sap.ui.core.ComponentContainer")){return Promise.resolve(e.getComponentInstance().destroy()).then(function(){return t.apply(e,arguments)})}return Promise.resolve(t.apply(e,arguments))}}var h=a.replace(/\./g,"/");if(r){return l(h)}t.error("sap.ushell.Container.createRenderer() should always be called with bAsync:true.");return u(h)};this.getRenderer=function(e){var r;e=e||P.defaultRenderer;if(e){r=d[e]}else{var n=Object.keys(d);if(n.length===1){r=d[n[0]]}else{t.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,w)}}if(r&&r.isA("sap.ui.core.ComponentContainer")){return r.getComponentInstance()}return r};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){var e=new jQuery.Deferred;var r=a();var n=0;var i=this.DirtyState.CLEAN;function o(){if(n===0||i===_.DirtyState.DIRTY){e.resolve(i);t.debug("getGlobalDirty() Resolving: "+i,null,"sap.ushell.Container")}}function s(e){if(e.key.indexOf(C)===0&&e.newValue!==_.DirtyState.INITIAL&&e.newValue!==_.DirtyState.PENDING){t.debug("getGlobalDirty() Receiving event key: "+e.key+" value: "+e.newValue,null,"sap.ushell.Container");if(e.newValue===_.DirtyState.DIRTY||e.newValue===_.DirtyState.MAYBE_DIRTY){i=e.newValue}n-=1;o()}}try{R.setItem(r,"CHECK");R.removeItem(r)}catch(r){t.warning("Error calling localStorage.setItem(): "+r,null,"sap.ushell.Container");return e.resolve(this.DirtyState.MAYBE_DIRTY).promise()}if(b){throw new Error("getGlobalDirty already called!")}b=e;window.addEventListener("storage",s);e.always(function(){window.removeEventListener("storage",s);b=undefined});for(var u=R.length-1;u>=0;u-=1){var l=R.key(u);if(l.indexOf(C)===0){if(R.getItem(l)==="PENDING"){R.removeItem(l);t.debug("getGlobalDirty() Cleanup of unresolved 'PENDINGS':"+l,null,"sap.ushell.Container")}else{n+=1;m.localStorageSetItem(l,this.DirtyState.PENDING,true);t.debug("getGlobalDirty() Requesting status for: "+l,null,"sap.ushell.Container")}}}o();setTimeout(function(){if(e.state()!=="resolved"){e.resolve("MAYBE_DIRTY");t.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container")}},n*2e3);return e.promise()};this.getLogonSystem=function(){return r.getSystem()};this.getUser=function(){return r.getUser()};this.getDirtyFlag=function(){var e=i;var t=this._oShellNavigationService.getNavigationContext();for(var r=0;r<l.length;r++){e=e||l[r](t)}return e};this.fnAsyncDirtyStateProvider=null;this.getDirtyFlagsAsync=function(){if(!this.fnAsyncDirtyStateProvider){return Promise.resolve(this.getDirtyFlag())}var e=this._oShellNavigationService.getNavigationContext();return this.fnAsyncDirtyStateProvider(e).then(function(e){return e||this.getDirtyFlag()}.bind(this))};this.isAsyncDirtyStateProviderSet=function(){return typeof this.fnAsyncDirtyStateProvider==="function"};this.setAsyncDirtyStateProvider=function(e){this.fnAsyncDirtyStateProvider=e};this.setDirtyFlag=function(e){i=e};this.sessionKeepAlive=function(){if(r.sessionKeepAlive){r.sessionKeepAlive()}};this.extendSession=function(){p.emit("nwbcUserIsActive",Date.now())};this.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}l.push(e)};this.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}var t=-1;for(var r=l.length-1;r>=0;r--){if(l[r]===e){t=r;break}}if(t===-1){return}l.splice(t,1)};this.getService=function(e,t,r){return _._getService.apply(_,arguments)};this.getServiceAsync=function(e,t){return _._getService(e,t,true)};this._getService=function(e,n,i){var a={};function o(t){var r=new jQuery.Deferred;if(!t){throw new Error("Missing system")}r.resolve(N(e,t,n));sap.ushell.Container.addRemoteSystem(t);return r.promise()}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}var s=F(e);var u=s.module||"sap.ushell.services."+e;var l=u+"/"+(n||"");var c={config:s.config||{}};function f(e,t){a.createAdapter=o;return new e(t,a,n,c)}function d(t,i){var o;if(U.containsKey(l)){o=U.get(l)}else if(t.hasNoAdapter){o=new t(a,n,c)}else{var s=N(e,r.getSystem(),n,i,t.useConfiguredAdapterOnly);if(i){return s.then(function(e){var r=f(t,e);U.put(l,r);return r})}o=f(t,s)}U.put(l,o);return i?Promise.resolve(o):o}if(!U.containsKey(l)){if(i){if(!M.containsKey(l)){var p=new Promise(function(e,t){sap.ui.require([u.replace(/[.]/g,"/")],function(t){e(d(t,true))},t)});M.put(l,p);return p}return M.get(l)}(function(){t.error("Deprecated API call of 'sap.ushell.Container.getService'. Please use 'getServiceAsync' instead",null,"sap.ushell.services.Container");var e=sap.ui.requireSync(u.replace(/[.]/g,"/"));return d(e)})()}if(i){return Promise.resolve(U.get(l))}return U.get(l)};function k(){for(var e=R.length-1;e>=0;e-=1){var t=R.key(e);if(t.indexOf(h)===0){try{var r=t.substring(h.length);var n=JSON.parse(R.getItem(t));g[r]=new v(n)}catch(e){R.removeItem(t)}}}return g}function O(){if(typeof OData==="undefined"){return}function e(e,r,n){t.warning(e,null,"sap.ushell.Container");if(n){setTimeout(n.bind(null,e),5e3)}return{abort:function(){return}}}OData.read=function(t,r,n){return e("OData.read('"+(t&&t.Uri?t.requestUri:t)+"') disabled during logout processing",r,n)};OData.request=function(t,r,n){return e("OData.request('"+(t?t.requestUri:"")+"') disabled during logout processing",r,n)}}this.addRemoteSystem=function(e){var r=e.getAlias();var n=g[r];if(this._isLocalSystem(e)){return}if(n){if(n.toString()===e.toString()){return}t.warning("Replacing "+n+" by "+e,null,"sap.ushell.Container")}else{t.debug("Added "+e,null,"sap.ushell.Container")}g[r]=e;m.localStorageSetItem(h+r,e)};this._isLocalSystem=function(e){var t=e.getAlias();if(t&&t.toUpperCase()==="LOCAL"){return true}var r=new f(m.getLocationHref());var n=this.getLogonSystem().getClient()||"";if(e.getBaseUrl()===r.origin()&&e.getClient()===n){return true}return false};this.addRemoteSystemForServiceUrl=function(e){var t={baseUrl:";o="};if(!e||e.charAt(0)!=="/"||e.indexOf("//")===0){return}var r=/^[^?]*;o=([^/;?]*)/.exec(e);if(r&&r.length>=2){t.alias=r[1]}e=e.replace(/;[^/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){t.platform="hana";t.alias=t.alias||"hana"}else if(/^\/sap\/opu\//.test(e)){t.platform="abap"}if(t.alias&&t.platform){this.addRemoteSystem(new v(t))}};this.attachLogoutEvent=function(t,r){var i=false;if(r===true){e(typeof t==="function","Container.attachLogoutEvent: fnFunction must be a function");for(var a=0;a<E.length;a++){if(E[a]===t){i=true;break}}if(!i){E.push(t)}}else{n.attachEvent("Logout",t)}};this.detachLogoutEvent=function(e){n.detachEvent("Logout",e);for(var t=0;t<E.length;t++){if(E[t]===e){E.splice(t,1);break}}};this.attachRendererCreatedEvent=function(e){n.attachEvent("rendererCreated",e)};this.detachRendererCreatedEvent=function(e){n.detachEvent("rendererCreated",e)};this.defaultLogout=function(){var e=new jQuery.Deferred;function i(){r.logout(true).always(function(){R.removeItem(T);e.resolve()})}function a(){var e=new jQuery.Deferred;var t=e.promise();var r=[];if(E.length>0){for(var a=0;a<E.length;a++){r.push(E[a]())}Promise.all(r).then(e.resolve);setTimeout(e.resolve,4e3)}else{e.resolve()}t.done(function(){if(n.fireEvent("Logout",true)){i()}else{setTimeout(i,1e3)}})}function o(){var e=[];if(L){window.removeEventListener("storage",L)}m.localStorageSetItem(T,"pending");_._suppressOData();var r=_._getRemoteSystems();Object.keys(r).forEach(function(n){try{e.push(N("Container",r[n]).logout(false))}catch(e){t.warning("Could not create adapter for "+n,e.toString(),"sap.ushell.Container")}R.removeItem(h+n)});jQuery.when.apply(jQuery,e).done(a)}if(typeof r.addFurtherRemoteSystems==="function"){r.addFurtherRemoteSystems().always(o)}else{o()}return e.promise()};this.logout=this.defaultLogout;this.registerLogout=function(e){this.logout=e};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.logonFrameProvider=e}};this.setXhrLogonTimeout=function(e,t){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(e,t)}};this.getFLPConfig=function(){var e=new Promise(function(e,t){var r={URL:this.getFLPUrl()};if(D.CDMPromise){D.CDMPromise.then(function(t){t.getSiteWithoutPersonalization().then(function(t){r.scopeId=t.site.identification.id;e(r)})})}else{e(r)}}.bind(this));return e};this.getFLPUrl=function(e){var t=m.getLocationHref();var r=t.indexOf(y.getShellHash(t));if(r===-1||e===true){return t}return t.substr(0,r-1)};this.getFLPUrlAsync=function(e){return(new jQuery.Deferred).resolve(_.getFLPUrl(e)).promise()};this.inAppRuntime=function(){return false};this.runningInIframe=this.inAppRuntime;this._getAdapter=function(){return r};this.getFLPPlatform=function(e){if(e===true){return P.flpPlatform}return Promise.resolve(P.flpPlatform)};this._closeWindow=A;this._redirectWindow=I;this._getRemoteSystems=k;this._suppressOData=O;u.getEventBus().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",function(e,t,r){_.addRemoteSystemForServiceUrl(r)});if(typeof r.logoutRedirect==="function"){L=function(e){function t(){_._closeWindow();_._redirectWindow()}if(sap.ushell.Container!==_){return}if(e.key.indexOf(h)===0&&e.newValue&&e.newValue!==R.getItem(e.key)){m.localStorageSetItem(e.key,e.newValue)}if(e.key===T){if(e.newValue==="pending"){_._suppressOData();if(n.fireEvent("Logout",true)){t()}else{setTimeout(t,1e3)}}}};window.addEventListener("storage",L)}this._getFunctionsForUnitTest=function(){return{createAdapter:N}}}function M(e,t){e.forEach(function(e){var r=g.createServiceFactory(e,t);l.register("sap.ushell.ui5service."+e,r)})}i.create("sap.ushell");sap.ushell.bootstrap=function(e,i){var a=new jQuery.Deferred;d.init();if(sap.ushell.Container!==undefined){var o=new Error("Unified shell container is already initialized - cannot initialize twice.\nStacktrace of first initialization:"+L);t.error(o,o.stack,w);throw o}L=(new Error).stack;P=n({},window["sap-ushell-config"]);b=i;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"])}M(["Personalization","URLParsing","CrossApplicationNavigation"],true);M(["Configuration"],false);var s=new v({alias:"",platform:P.platform||e});N("Container",s,null,true).then(function(e){e.load().then(function(){function r(){var e=window["sap-ushell-config"];if(!e||!e.services){return false}var t=e.services.PluginManager;var r=t&&t.config;return r&&r.loadPluginsFromSite}sap.ushell.Container=new U(e);var o=[sap.ushell.Container.getServiceAsync("PluginManager")];if(r()){D.CDMPromise=sap.ushell.Container.getServiceAsync("CommonDataModel");o.push(D.CDMPromise)}Promise.all(o).then(function(e){n(e)}).then(i);var s=[];if(P.preloadServices!==undefined&&Array.isArray(P.preloadServices)){P.preloadServices.forEach(function(e){s.push(sap.ushell.Container.getServiceAsync(e))});t.error("Ushell Config's preloadServices should not be used!")}var u=sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){sap.ushell.Container._oShellNavigationService=e});s.push(u);Promise.all(s).then(function(){a.resolve()})});function n(e){var t=e[0];var n=e[1];var i=n?n.getPlugins():jQuery.when({});i.then(function(e){var n=r({},P.bootstrapPlugins,e);t.registerPlugins(n)})}function i(){o();sap.ui.require(["sap/ushell/Config"],function(e){s(e)})}function o(){if(m.hasFLPReady2NotificationCapability()){sap.ui.require(["sap/ushell/NWBCInterface"],function(e){m.getPrivateEpcm().doEventFlpReady2(e)})}else if(m.hasFLPReadyNotificationCapability()){m.getPrivateEpcm().doEventFlpReady()}}function s(e){if(e.last("/core/darkMode/enabled")){sap.ushell.Container.getServiceAsync("DarkModeSupport").then(function(e){if(e&&e.setup){e.setup()}})}}});return a.promise()}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/EventHub", ["sap/base/Log"],function(e){"use strict";var n={pendingEvents:{},subscribers:{},dispatchOperations:{},store:t(),dispatchTimeoutIds:new window.Set};function t(){return{nextKey:0,objectToKey:new window.WeakMap,keyToObject:{}}}function r(n,t,r){e.error(n,t,"sap.ushell.EventHub");return}function i(e){var n="An exception was raised while executing a registered callback on event '"+e.eventName+"'",t="Data passed to the event were: '"+e.eventData+"'";if(e.error.stack){t+=" Error details: "+e.error.stack}r(n,t,e.fnCausedBy)}function u(e,n,t){var r;try{r=n(t)}catch(r){i({eventName:e,eventData:t,fnCausedBy:n,error:r})}return r}function o(e){if(typeof arguments[2]==="function"){return E(e,arguments[2])}return arguments[2]}function a(e){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return k(e,arguments[2])}return arguments[2]}function c(e,n,t){if(typeof n==="object"||typeof n==="function"){try{var i=[n,o.bind(null,e)];if(t){i.push(3)}return JSON.stringify.apply(JSON,i)}catch(e){r(""+e,e.stack,c)}}return n}function s(e,n){try{return JSON.parse(n,a.bind(null,e))}catch(e){return n}}function f(e,n,t){if(!e.subscribers[n]){e.subscribers[n]=[]}e.subscribers[n].push(t)}function l(e,n,t){e.subscribers[n]=(e.subscribers[n]||[]).map(function(e){return e.filter(function(e){return e.fn!==t})}).filter(function(e){return e.length>0})}function d(){var e,n=new Promise(function(n){e=n}),t={dispatching:n,cancelled:false,cancel:function(){t.cancelled=true},complete:function(){e()}};return t}function p(e,n){if(!e.subscribers.hasOwnProperty(n)){return null}var t=d(),r=e.subscribers[n],i=r.map(function(r){return h(e,n,r,t,0)});Promise.all(i).then(t.complete,t.complete);return t}function h(e,n,t,r,i){var u=t.length,o=t.slice(i);return o.reduce(function(i,u){return i.then(function(i){if(r.cancelled){if(i){l(e,n,u.fn)}return i}return v(e,n,u,t).then(function(e){if(e){r.cancelled=true}return e})})},Promise.resolve(false)).then(function(i){if(!i&&u<t.length){return h(e,n,t,r,u)}return i})}function v(e,n,t,r){return new Promise(function(i){var o=s(e,e.pendingEvents[n]);var a=setTimeout(function(){e.dispatchTimeoutIds.delete(a);if(t.called&&r.offed){i(false);return}t.called=true;var c=r.offed;u(n,t.fn,o);var s=r.offed;if(s){l(e,n,t.fn)}i(!c&&s)},0);e.dispatchTimeoutIds.add(a)})}function b(e,n,t){return function(){t.forEach(function(t){if(t.called){l(e,n,t.fn)}});t.offed=true;return{off:b(e,n,[])}}}function y(e,n,t){return function(r){var i={fn:r,called:false};t.push(i);if(e.pendingEvents.hasOwnProperty(n)){var u=e.dispatchOperations[n];if(!u){v(e,n,i,t)}else{u.dispatching.then(function(){if(!i.called){v(e,n,i,t)}})}}return{do:y(e,n,t),off:b(e,n,t)}}}function m(e,n){var t=[];f(e,n,t);return{do:y(e,n,t),off:b(e,n,t)}}function w(e,n){var t=m(e,n);t.off();return t}function g(e,n,t,r){var i=c(e,t);if(!r&&e.pendingEvents.hasOwnProperty(n)&&e.pendingEvents[n]===i){return this}e.pendingEvents[n]=i;var u=e.dispatchOperations[n];if(u){u.cancel()}var o=p(e,n);e.dispatchOperations[n]=o;return this}function O(e,n){return s(e,e.pendingEvents[n])}function j(){var e=Array.prototype.slice.call(arguments);e.shift();var n=0,t=new Array(e.length).join(",").split(",").map(function(){return 1}),r=[],i={do:function(u){e.forEach(function(i,o){i.do(function(i,o){r[i]=o;n+=t[i];t[i]=0;if(n===e.length){u.apply(null,r)}}.bind(null,o))});return{off:i.off}},off:function(){var n=e.reduce(function(e,n){return n.off()},function(){});return{off:n}}};return i}function P(e,n){var t=e.dispatchOperations[n];return t?t.dispatching:Promise.resolve()}function E(e,n){if(e.store.objectToKey.has(n)){return e.store.objectToKey.get(n)}e.store.nextKey++;var t="<"+typeof n+">#"+e.store.nextKey;e.store.keyToObject[t]=n;e.store.objectToKey.set(n,t);return t}function k(e,n){return e.store.keyToObject[n]}function T(e){var n={};n.emit=g.bind(n,e);n.on=m.bind(null,e);n.once=w.bind(null,e);n.last=O.bind(null,e);n.join=j.bind(null,e);n.wait=P.bind(null,e);n._reset=function(e){e.pendingEvents={};e.subscribers={};e.dispatchOperations={};e.store=t();e.dispatchTimeoutIds.forEach(clearTimeout);e.dispatchTimeoutIds=new window.Set}.bind(null,e);return n}function x(e){var n={pendingEvents:{},subscribers:{},dispatchOperations:{},store:t(),dispatchTimeoutIds:new window.Set},r=T(n),i=s(n,c(n,e));function u(e){var n=e.charAt(0);if(n.match(/[a-zA-Z0-9]/)){throw new Error("Invalid path separator '"+n+"'. Please ensure path starts with a non alphanumeric character")}var t=e.split(n);t.shift();return t}function o(e,n){var t=e,r="";if(arguments.length===2){t=n;r=e}return r+"/"+t.join("/")}function a(e){return Object.prototype.toString.apply(e)==="[object Array]"}function f(e){return Object(e)!==e}function l(e){return(a(e)?e.length:Object.keys(e).length)===0}function d(e,t,r,i){var u="",s=e,l=[];r.reduce(function(e,t,d){u=o(u,[t]);s=s[t];if(d===r.length-1){if(!f(i)&&!f(s)&&Object.keys(s).length>0){var p,h=Object.keys(s).reduce(function(e,n){e[n]=true;return e},{}),v=Object.keys(i).some(function(e){p=e;var n=h.hasOwnProperty(e);delete h[e];var t=!f(s[e])&&Object.keys(s[e]).length>0;return!n||t}),b=Object.keys(h).length>0,y=v||b;if(y){var m=v?"One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '"+p+"'.":"Some keys are missing in the event data: "+Object.keys(h).join(", ")+".";throw new Error("Cannot write value '"+c(n,i,true)+"' to path '"+u+"'. "+m+" All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value")}var w=Object.keys(i).map(function(e){return{serializedPath:o(u,[e]),value:i[e]}});Array.prototype.push.apply(l,w)}e[t]=i}else if(!e.hasOwnProperty(t)){e[t]=a(s)?[]:{}}l.push({serializedPath:u,value:e[t]});return e[t]},t);return l}function p(e,t){var r="",i=t.reduce(function(e,t){r+="/"+t;if(a(e)&&!t.match(/^[0-9]+$/)){throw new Error("Invalid array index '"+t+"' provided in path '"+r+"'")}if(!e.hasOwnProperty(t)){throw new Error("The item '"+t+"' from path "+r+" cannot be accessed in the object: "+c(n,e))}return e[t]},e);return i}function h(e,n,t){return n.reduce(function(e,r,i){var u=i===n.length-1;if(e.hasOwnProperty(r)){return e[r]}return u?t:{}},e)}function v(e,n){n.pop();var t=e,r=[];return n.reduce(function(e,n){t=t[n];r.push(n);e.push({serializedPath:o(r),value:t});return e},[])}function b(e){return e.map(function(e){var t=e.serializedPath;if(!n.subscribers.hasOwnProperty(t)||n.subscribers[t].length===0){return null}return{path:t,value:e.value}}).filter(function(e){return!!e})}function y(n,t){var o=u(n);p(e,o);var a=d(e,i,o,t);a.forEach(function(e){r.emit(e.serializedPath,e.value)})}function m(n){var t=u(n),r=p(e,t);return h(i,t,r)}function w(t){var i=u(t),a=o(i),d=r.last(a),h=n.pendingEvents.hasOwnProperty(a);if(h){return r.on(a)}d=p(e,i);if(typeof d!=="undefined"&&(f(d)||!l(s(r,c(r,d))))){r.emit(a,d)}return r.on(a)}function g(e){var n=w(e);n.off();return n}function O(e){var n=u(e),t=v(i,n),o=b(t).map(function(e){return r.wait(e.path,e.value)});return Promise.all(o.concat(r.wait(e)))}return{emit:y,on:w,once:g,last:m,wait:O,join:j.bind(null,r)}}var A=T(n);A.createChannel=x.bind(null);return A});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20Adapter", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/UIComponent","sap/ui/model/resource/ResourceModel","sap/m/Fiori20Adapter","sap/ui/thirdparty/hasher","sap/base/util/extend"],function(e,t,i,n,r,o,a){"use strict";var s;i._fnOnInstanceDestroy=function(e){if(e._fioriAdapter){e._fioriAdapter.destroy()}};var f=e.extend("AppInfo",{constructor:function(t){e.call(this);this._oComponent=t},getDefaultTitle:function(){var e,t,i=this._oComponent.getMetadata();var n=i.getManifestEntry("sap.app");if(n&&n.title){e=n.title;if(this._isLocalizationKey(e)){t=n.i18n||"i18n/i18n.properties";return this._getLocalized(e,t)}return e}var r=i.getManifestEntry("sap.ui5");if(r&&r.config&&r.config.resourceBundle&&r.config.titleResource){e=r.config.titleResource;t=r.config.resourceBundle;return this._getLocalized(e,t)}return},_getLocalized:function(e,t){var i=new n({bundleUrl:sap.ui.require.toUrl(this._oComponent.getMetadata().getComponentName())+"/"+t});return i.getResourceBundle().getText(e.replace(/^{{/,"").replace(/}}$/,""))},_isLocalizationKey:function(e){return e.indexOf("{{")===0&&e.indexOf("}}")>0}});var u=e.extend("HeaderInfo",{constructor:function(t,i,n){e.call(this);this._oConfig=i;this._oAppInfo=n;this._aHierarchy=[];this._defaultTitle=this._oAppInfo.getDefaultTitle();this._oCurrentViewInfo={oTitleInfo:{text:this._defaultTitle}}},registerView:function(e){if(this._oConfig.bMoveTitle===true){if(!e.oTitleInfo&&e.oSubTitleInfo){e.oTitleInfo=e.oSubTitleInfo}this._oCurrentViewInfo=e;var t=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:undefined;if(t!==s.getTitle()){s.setTitle(t)}this._updateHierarchy()}this._setBackNavigation(e.oBackButton,e.oAdaptOptions)},_setBackNavigation:function(e,t){if(t&&t.bHideBackButton===false){return}var i;if(e){i=e.firePress.bind(e)}s.setBackNavigation(i)},_updateHierarchy:function(){if(this._oConfig.bHierarchy===false){return}if(!this._oCurrentViewInfo){return}var e=true,t="#"+o.getHash();for(var i=this._aHierarchy.length-1;i>=0;i--){var n=this._aHierarchy[i],r=n.id===this._oCurrentViewInfo.sViewId,a=n.intent===t;if(r||a){e=false;n=this._updateHierarchyEntry(n);this._aHierarchy[i]=n;this._aHierarchy=this._aHierarchy.slice(0,i+1);if(r){n.intent=t}break}}if(e){this._aHierarchy.push(this._createHierarchyEntry())}var f=[];for(var u=this._aHierarchy.length-2;u>=0;u--){f.push(this._aHierarchy[u])}s.setHierarchy(this._deleteUndefinedProperties(f))},_createHierarchyEntry:function(){var e="#"+o.getHash(),t={id:this._oCurrentViewInfo.sViewId,title:this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle,subtitle:this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined,intent:e};return t},_updateHierarchyEntry:function(e){e.id=this._oCurrentViewInfo.sViewId;e.title=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle;e.subtitle=this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined;return e},_deleteUndefinedProperties:function(e){e.forEach(function(e){for(var t in e){if(e.hasOwnProperty(t)&&!e[t]&&t!=="title"){delete e[t]}}});return e}});var h=e.extend("sap.ushell.Fiori20Adapter",{constructor:function(t,i){e.call(this);this._oComponent=t;this._oConfig=i;this._oHeaderInfo=new u(t,i,new f(t));if(r){r.attachViewChange(this._onViewChange,this)}},init:function(){if(!r){return}var e=a({},this._oConfig);r.traverse(this._oComponent.getAggregation("rootControl"),e)},destroy:function(){if(r){r.detachViewChange(this._onViewChange,this)}},_onViewChange:function(e){this._oHeaderInfo.registerView(e.getParameters())}});h.applyTo=function(e,n,r,o){var a=e instanceof i?e:t.getOwnerComponentFor(e);if(!a){a=n}if(a&&!a._fioriAdapter){s=o;a._fioriAdapter=new h(a,r);a._fioriAdapter.init()}};return h});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20AdapterTest", ["sap/base/Log","sap/base/util/isEmptyObject","sap/base/util/UriParameters","sap/base/util/Version","sap/ui/core/Configuration","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/UIComponent","sap/ushell/Fiori20Adapter"],function(e,i,t,a,r,n,s,o,u){"use strict";var l={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_ALLOWLIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(e){var i=this._getURLParamConfiguration();if(!i){i=this._getMetadataConfiguration(e)}if(!i){i=this._getDefaultConfiguration(e)}i.iSearchDepth=i.iSearchDepth||l.I_DEFAULT_SEARCH_DEPTH;if(typeof i.iSearchDepth==="string"&&!isNaN(i.iSearchDepth)){i.iSearchDepth=parseInt(i.iSearchDepth,10)}return i},_getURLParamConfiguration:function(){if(typeof r.getFiori2Adaptation!=="function"){return}var e=t.fromQuery(window.location.search);if(!e.get(l.S_FIORI20ADAPTER_URL_PARAM_NAME)){return}var i=r.getFiori2Adaptation();var a;var n;if(typeof i==="boolean"){a=i}else if(i&&i.length>=1){n=i}if(!n&&a===undefined){return}return{bStylePage:n?n.indexOf("style")>-1:a,bMoveTitle:n?n.indexOf("title")>-1:a,bHideBackButton:n?n.indexOf("back")>-1:a,bCollapseHeader:n?n.indexOf("collapse")>-1:a,bHierarchy:n?n.indexOf("hierarchy")>-1:a}},_getMetadataConfiguration:function(e){var t=e.getMetadata("config").getConfig(l.S_FIORI20ADAPTER_METADATA_PARAM_NAME);var a;var r;if(typeof t==="boolean"){a=t}else if(typeof t==="object"&&!i(t)){r=t}if(!r&&a===undefined){return}return{bStylePage:r?this._isSgnTrue(r.style):a,bMoveTitle:r?this._isSgnTrue(r.title):a,bHideBackButton:r?this._isSgnTrue(r.back):a,bCollapseHeader:r?this._isSgnTrue(r.collapse):a,bHierarchy:r?this._isSgnTrue(r.hierarchy):a,bLateAdaptation:r?this._isSgnTrue(r.lateAdaptation):l.B_DEFAULT_LATE_ADAPTATION}},_getDefaultConfiguration:function(e){var i=this._hasMinVersionSmallerThan(e,"1.42")&&this._isAllowed(e);return{bStylePage:i,bMoveTitle:i,bHideBackButton:i,bCollapseHeader:i,bHierarchy:i}},_isAllowed:function(e){var i=e.getMetadata().getName();for(var t=0;t<l.A_ALLOWLIST.length;t++){var a=l.A_ALLOWLIST[t].substring(0,l.A_ALLOWLIST[t].length-2);if(this._isPrefixedString(i,a)){return true}}return false},_isAdaptationRequired:function(e){for(var i in e){if(e[i]===true){return true}}return false},_isPrefixedString:function(e,i){return e&&i&&e.substring(0,i.length)===i},_hasMinVersionSmallerThan:function(e,i){var t=e.getMetadata().getManifestEntry("sap.ui5");var r=true;if(t&&t.dependencies&&t.dependencies.minUI5Version){var n=new a(t.dependencies.minUI5Version);r=n.compareTo(new a(i))<0}return r},_isSgnTrue:function(e){return e===true||e==="true"}};o._fnOnInstanceInitialized=function(i){var t=i.getAggregation("rootControl");if(!t||t.getId()==="navContainerFlp"||i.getId().indexOf("application-")!==0){return}var a=l.getConfiguration(i);if(!l._isAdaptationRequired(a)){return}if(!n.service||!s||typeof s.get!=="function"){e.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return}var r={onBeforeRendering:function(){t.removeEventDelegate(r);var n=s.get("sap.ushell.ui5service.ShellUIService"),o=n&&n.createInstance();if(!n||!o){e.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return}o.then(function(e){if(e&&e.getUxdVersion()===2){u.applyTo(t,i,a,e)}},function(i){e.warning("Fiori20Adapter not loaded as ShellUIService is not available",i,"sap.ushell.Fiori20AdapterTest")})}};t.addEventDelegate(r)}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/System", [],function(){"use strict";var t=function(t){this._oData=t};t.prototype.getAlias=function(){return this._oData.alias};t.prototype.getBaseUrl=function(){return this._oData.baseUrl};t.prototype.getClient=function(){return this._oData.client};t.prototype.getClientRole=function(){return this._oData.clientRole};t.prototype.getName=function(){return this._oData.system};t.prototype.getPlatform=function(){return this._oData.platform};t.prototype.getProductVersion=function(){return this._oData.productVersion};t.prototype.getProductName=function(){return this._oData.productName};t.prototype.getSystemName=function(){return this._oData.systemName};t.prototype.getSystemRole=function(){return this._oData.systemRole};t.prototype.getTenantRole=function(){return this._oData.tenantRole};t.prototype.isTrial=function(){return!!this._oData.isTrialSystem};t.prototype.getSysInfoBar=function(){return!!this._oData.sysInfoBar};t.prototype.getSysInfoBarColor=function(){return this._oData.sysInfoBarColor};t.prototype.getSysInfoBarMainText=function(){return this._oData.sysInfoBarMainText};t.prototype.getSysInfoBarSecondaryText=function(){return this._oData.sysInfoBarSecondaryText};t.prototype.getSysInfoBarIcon=function(){return this._oData.sysInfoBarIcon};t.prototype.adjustUrl=function(t){if(t.indexOf("/")!==0||t==="/"){throw new Error("Invalid URL: "+t)}if(this._oData.baseUrl===";o="){if(this._oData.alias){t=t+";o="+this._oData.alias}}else if(this._oData.baseUrl){t=this._oData.baseUrl.replace(/\/$/,"")+t}if(this._oData.client){t+=(t.indexOf("?")>=0?"&":"?")+"sap-client="+this._oData.client}return t};t.prototype.toString=function(){return JSON.stringify(this._oData)};return t},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/TechnicalParameters", ["sap/ushell/utils/type"],function(e){"use strict";var t={"sap-navigation-scope":{injectFrom:"inboundParameter",sticky:true,stickyName:"sap-navigation-scope-filter",isIntentParameter:true,getValue:function(e,t,r,n){return new Promise(function(s,u){if(n==="UI5"){s(a(e,t))}else{s(i(e,r))}})},bExposeAsAppInfo:false},"sap-fiori-id":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,r,n){return new Promise(function(u,o){if(n==="UI5"){u(a(e,t)||s("/sap.fiori/registrationIds",t))}else{u(i(e,r))}})},bExposeAsAppInfo:true},"sap-ui-fl-max-layer":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(a.bind(null,e,t))},bExposeAsAppInfo:false},"sap-ui-fl-control-variant-id":{injectFrom:"startupParameter",isIntentParameter:false,getValue:function(e,t){return Promise.resolve().then(a.bind(null,e,t))},bExposeAsAppInfo:false},"sap-ui-fl-version":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(a.bind(null,e,t))},bExposeAsAppInfo:false},"sap-ui-app-id-hint":{injectFrom:"startupParameter",isIntentParameter:true,getValue:n,bExposeAsAppInfo:false},"sap-ach":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,r,n){return new Promise(function(u,o){if(n==="UI5"){u(a(e,t)||s("/sap.app/ach",t))}else{u(i(e,r))}})},bExposeAsAppInfo:true},"sap-prelaunch-operations":{injectFrom:"inboundParameter",isIntentParameter:true,getValue:n,bExposeAsAppInfo:false},"sap-app-origin-hint":{injectFrom:"startupParameter",isIntentParameter:false,getValue:n,bExposeAsAppInfo:false},"sap-app-origin":{injectFrom:"startupParameter",isIntentParameter:false,getValue:n,bExposeAsAppInfo:false}};function r(e,t,r){return new Promise(function(n){var a=o({bExposeAsAppInfo:true}).map(function(e){return e.name});var s=Object.values(a).map(function(n){return u(n,e,t,r)});var i={};Promise.allSettled(s).then(function(e){Object.keys(a).forEach(function(t,r){if(e[r].status==="fulfilled"){i[a[t]]=e[r]}});n(i)})})}function n(e){return Promise.reject(e+" is reserved for shell internal usage only")}function a(e,t){var r=t.getComponentData()||{};var n=r.technicalParameters||{};return n[e]}function s(t,r){var n=r.getManifestEntry(t);if(n&&!e.isArray(n)){n=[n]}return n}function i(e,t){var r=t.getReservedParameters();return r&&r[e]}function u(e,r,n,a){if(!t[e]){return Promise.reject(e+" is not a known technical parameter")}return t[e].getValue(e,r,n,a)}function o(e){if(!e){e={}}return Object.keys(t).filter(function(r){var n=t[r];return Object.keys(e).every(function(t){var r=e[t];var a=n.hasOwnProperty(t);if(a){return n[t]===r}return false})}).map(function(e){return Object.keys(t[e]).reduce(function(r,n){r[n]=t[e][n];return r},{name:e})})}function p(){return Object.keys(t)}function f(e){return t.hasOwnProperty(e)}function c(e,t,r,n){if(n==="UI5"){return a(e,t)}return i(e,r)}return{getParameterValue:u,getParameterValueSync:c,getParameters:o,getParameterNames:p,isTechnicalParameter:f,getTechnicalParametersAppInfo:r}},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UI5ComponentType", [],function(){"use strict";return{Application:"Application",Plugin:"Plugin",Visualization:"Visualization"}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor", ["sap/base/Log","sap/ui/thirdparty/URI","sap/ui/thirdparty/URITemplate","sap/ushell/_URLTemplateProcessor/DefinitionParameterSetBuilder","sap/ushell/_URLTemplateProcessor/DependencyGraph","sap/ushell/_URLTemplateProcessor/Resolvers","sap/ushell/_URLTemplateProcessor/TemplateParameterParser","sap/ushell/_URLTemplateProcessor/utils"],function(e,r,t,a,n,o,s,i){"use strict";function p(r){e.debug(r,"sap.ushell.URLTemplateProcessor")}function l(e){if(typeof e==="undefined"){return"<undefined>"}if(typeof e==="string"){if(e===""){return"<empty string>"}return"'"+e+"'"}if(typeof e==="number"){return"(number) "+e}if(typeof e==="boolean"){return"(bool) "+e}var r;if(typeof e==="object"){r=JSON.stringify(e);if(r.length>255){r=r.substr(0,255)+"..."}}else{r="{other type}"}return r}function u(e){var r=Object.keys(e).filter(function(r){return typeof e[r]==="object"&&e[r].hasOwnProperty("renameTo")});var t=[];r.forEach(function(r){var a=e[r];if(a.hasOwnProperty("renameTo")){t.push(function(e,t){var n=t;n=t.replace(new RegExp(r+"=","g"),a.renameTo+"=");return n})}});return t}function f(e,r,t,a,n){var o=c(e,r,t,a,n);return m(e,o)}function c(e,r,t,u,f){p("[TEMPLATE EXPANSION] "+e.urlTemplate);var c=a.buildDefinitionParameterSet(e.parameters,r,f)||{};var m=i.removeArrayParameterNotation(t[f]||{});var d=s.parseTemplateParameterSet(c,f);var v=s.parseTemplateParameterSetAsLiterals(m);var y=i.mergeObject(v,d);p("- parsed template parameters: "+JSON.stringify(y,null,3));var P=n.buildDependencyGraph(y);p("- created dependency graph: "+JSON.stringify(P,null,3));var h=n.getDependencyResolutionOrder(P);p("- resolving in order: "+h.join(" > "));var T=o.resolveAllParameters(y,h,r,t,u,f);Object.keys(T).forEach(function(e){var r=T[e];p(e+" --\x3e "+l(r))});return{oDefinitionParamsSet:c,oResolvedParameters:T}}function m(e,t){var a=u(t.oDefinitionParamsSet||{});var n=e.urlTemplate;var o=r.expand(n,t.oResolvedParameters).toString();p("- created URL: "+o);a.forEach(function(e){o=e(n,o)});if(a.length>0){p("- created URL (post expansion): "+o)}return o}return{prepareExpandData:c,expand:f}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5NativeServiceFactory", ["sap/ui/core/service/ServiceFactory"],function(e){"use strict";var r={_servicePromises:{},createServiceFactory:function(r){var i=this._servicePromises;var c=e.extend("sap.ushell.ui5Service."+r+"Factory",{createInstance:function(){var e=i[r];if(!e){e=new Promise(function(e,i){sap.ui.require(["sap/ushell/ui5service/"+r],function(r){var c;if(!r){i()}c=new r;e(c)})});i[r]=e}return e}});return new c}};return r});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5ServiceFactory", ["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/isPlainObject"],function(e,t,n,r,c){"use strict";var i;function o(e){i=e}function u(){return i}function a(e){return!!/^[^_].+/.test(e)}function s(e){var t,n=[];for(t in e){n.push(t)}return n}function f(e,t,r){var c=t[r];t[r]=function(){var i,o,a=u();if(!e||e.scopeObject.getId()!==a){n.warning("Call to "+r+" is not allowed","This may be caused by an app component other than the active '"+a+"' that tries to call the method","sap.ushell.Ui5ServiceFactory");return undefined}o=new Array(arguments.length);for(i=0;i<o.length;++i){o[i]=arguments[i]}return c.apply(t,o)}}function p(e,t,n,r){s(e).filter(a).filter(function(n){var r=e[n];t[n]=r;return typeof r==="function"}).forEach(function(c){t[c]=t[c].bind(e);if(r){f(n,t,c)}})}function l(e){var t;if(typeof e==="undefined"){return true}if(!c(e)){return false}if(!e.scopeType){return false}t=r.get("scopeObject.getId",e);if(typeof t!=="function"){return false}return true}function v(e,t,n){var r={};if(n){n=typeof e==="object"}p(t,r,e,n);if(n&&e.scopeType==="component"&&e.scopeObject&&e.scopeObject.getId){o(e.scopeObject.getId())}return r}function h(e){return sap.ushell.Container.getServiceAsync(e)}function y(r,c){var i=e.extend("sap.ushell.ui5service."+r+"Factory",{createInstance:function(e){return new Promise(function(i,o){h(r).then(function(u){var a,s,f;if(!l(e)){n.error("Invalid context for "+r+" service interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");o("Invalid Context for "+r+" service");return}s=v(e,u,c);f=t.extend("sap.ushell.ui5service."+r,{getInterface:function(){return s}});a=new f(e);i(a)},function(e){o(e)})})}});return new i}return{createServiceFactory:y}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/User", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/base/EventProvider","sap/ui/core/Configuration","sap/ui/core/Core","sap/ui/core/LocaleData","sap/ui/thirdparty/URI"],function(e,t,n,i,o,r,a){"use strict";function s(e){if(e===undefined){return undefined}return t({},e)}function h(e){var t;if(e.host&&typeof e.host==="function"&&e.host()){t=e.host();if(typeof e.protocol==="function"&&e.protocol()){t=e.protocol()+"://"+t}return t}return""}function m(e){return e.indexOf("sap_")===0}var u=function(s){var c=[],g,p,l,f,d=new n;this.getEmail=function(){return s.email};this.getFirstName=function(){return s.firstName};this.getFullName=function(){return s.fullName};this.getTimeZone=function(){return s.timeZone};this.getInitials=function(){var e=s.fullName||"",t="",n=true;for(var i=0,o=e.length;i<o;++i){if(e[i]===" "){n=true}else if(n){n=false;t+=e[i]}}return t};this.getId=function(){return s.id};this.getLanguage=function(){return s.language};this.getLanguageBcp47=function(){return s.languageBcp47};this.getLanguageText=function(){var e=i.getLocale(),t=new r(e),n=i.getLanguageTag();n=n.replace("-","_");var o=t.getLanguages(),a=o[n]||this.getLanguage().toUpperCase();return a};this.getLastName=function(){return s.lastName};this.getImage=function(){return s.image};this.setImage=function(e){s.image=e;d.fireEvent("onSetImage",e)};this.attachOnSetImage=function(e,t){d.attachEvent("onSetImage",e,t)};this.isJamActive=function(){return s.isJamActive===true};this.isLanguagePersonalized=function(){return s.isLanguagePersonalized===true};this.getTheme=function(e){if(e===u.prototype.constants.themeFormat.ORIGINAL_THEME){return f.originalTheme.theme}if(e===u.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return l.theme+(l.locationPath?"@"+l.locationOrigin+l.locationPath:"")}if(e===u.prototype.constants.themeFormat.NWBC){if(m(l.theme)){return l.theme}return this.getTheme(u.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}return l.theme};this.getThemeRoot=function(e){if(s.ranges&&s.ranges.theme&&s.ranges.theme[e]&&s.ranges.theme[e].themeRoot){return s.ranges.theme[e].themeRoot}return""};this.setTheme=function(t){if(this.isSetThemePermitted()===false){var n="setTheme not permitted";e.error(n);throw new Error(n)}l=this._amendTheme({theme:t,root:this.getThemeRoot(t)},p);if(t!==f.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},f.originalTheme.theme,t);f=l}this.applyTheme(t)};this.applyTheme=function(e){var t=this;var n=this._amendTheme({theme:e,root:this.getThemeRoot(e)},p),i;l=n;if(n.suppliedRoot){o.applyTheme(n.theme,n.suppliedRoot+"/UI5/")}else if(n.path){o.applyTheme(n.theme,n.path+"/UI5/")}else{o.applyTheme(n.theme)}sap.ui.require(["sap/ushell/components/applicationIntegration/AppLifeCycle"],function(e){i=t.getTheme(u.prototype.constants.themeFormat.NWBC);e.postMessageToIframeApp("sap.ushell.appRuntime","themeChange",{currentThemeId:i,themeServiceRoute:window.location.protocol+"//"+window.location.host+"/comsapuitheming.runtime/themeroot/v1"})})};this.setLanguage=function(e){if(e){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},s.language,e);s.language=e}};this.getAccessibilityMode=function(){return s.accessibility};this.setAccessibilityMode=function(t){if(this.isSetAccessibilityPermitted()===false){var n="setAccessibilityMode not permitted";e.error(n);throw new Error(n)}s.accessibility=t};this.isAdminUser=function(){return s.isAdminUser===true};this.isSetAccessibilityPermitted=function(){return s.setAccessibilityPermitted};this.isSetThemePermitted=function(){return s.setThemePermitted};this.getContentDensity=function(){return s.contentDensity};this.setContentDensity=function(t){if(this.isSetContentDensityPermitted()===false){var n="setContentDensity not permitted";e.error(n);throw new Error(n)}e.debug("[000] setContentDensity",t,"User");this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},s.contentDensity,t);s.contentDensity=t};this.isSetContentDensityPermitted=function(){return s.setContentDensityPermitted};this.getChangedProperties=function(){e.debug("[000] user: getChangedProperties: aChangedProperties",JSON.stringify(c),"User");return t([],c)};this.setChangedProperties=function(t,n,i){e.debug("[000] setChangedProperties",[t.name,n,i],"User");c.push({propertyName:t.propertyName,name:t.name,oldValue:n,newValue:i})};this.resetChangedProperties=function(){e.debug("[000] resetChangedProperties","User");c=[]};this.resetChangedProperty=function(t){e.debug("[000] resetChangedProperty: sPropertyName:",t,"User");c=c.filter(function(e){return!(t===e.propertyName)})};this.getTrackUsageAnalytics=function(){return s.trackUsageAnalytics};this.setTrackUsageAnalytics=function(e){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},s.trackUsageAnalytics,e);s.trackUsageAnalytics=e};this.setImageConsent=function(e){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},s.isImageConsent,e);s.isImageConsent=e};this.getImageConsent=function(){return s.isImageConsent};this.getImportBookmarksFlag=function(){return s.importBookmarks||null};this.setImportBookmarksFlag=function(e){this.setChangedProperties({propertyName:"importBookmarks",name:"MYHOME_IMPORT_FROM_CLASSIC"},this.getImportBookmarksFlag()||"",e);s.importBookmarks=e};this.getShowMyHome=function(){return s.showMyHome!==false};this.setShowMyHome=function(e){e=!!e;this.setChangedProperties({propertyName:"showMyHome",name:"MYHOME_ENABLEMENT"},s.showMyHome,e);s.showMyHome=e};this.getDetectDarkMode=function(){return s.detectDarkMode!==false};this.setDetectDarkMode=function(e){e=!!e;this.setChangedProperties({propertyName:"detectDarkMode",name:"THEME_DARKMODE_AUTO_DETECTION"},s.detectDarkMode,e);s.detectDarkMode=e};p={locationPathUi5:new a(sap.ui.require.toUrl("")).absoluteTo(document.location).pathname(),locationPathCustom:s.themeRoot||"",locationOrigin:h(new a(document.location))};if(!p.locationPathUi5){e.warning("User: Could not set UI5 location path")}if(!p.locationPathCustom){e.warning("User: Could not set location path for custom themes")}if(!p.locationOrigin){e.warning("User: Could not set front-end server location origin")}g=s.bootTheme||{theme:"",root:""};l=this._amendTheme(g,p);f=l};u.prototype._amendTheme=function(e,t){if(!e||!e.theme||!t){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""}}function n(e,t){var n=new a(e);var i=h(n);return{locationOrigin:i||t.locationOrigin,locationPath:i?n.path():e}}var i={originalTheme:s(e)};var o;if(i.originalTheme.theme.indexOf("@")>0){var r=i.originalTheme.theme.split("@",2);i.theme=r[0];i.suppliedRoot=r[1];o=n(r[1],t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.theme=i.originalTheme.theme;if(i.originalTheme.root){i.suppliedRoot=i.originalTheme.root;o=n(i.originalTheme.root,t);i.locationPath=o.locationPath;i.path=i.locationPath;i.locationOrigin=o.locationOrigin;return i}i.suppliedRoot="";if(m(i.theme)){i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathUi5;i.path="";return i}i.locationOrigin=t.locationOrigin;i.locationPath=t.locationPathCustom;i.path=i.locationPath;return i};u.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return u},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_ApplicationType/guiResolution", ["sap/base/Log","sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/_ApplicationType/systemAlias","sap/ushell/_ApplicationType/utils","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping","sap/ushell/services/_ClientSideTargetResolution/Utils"],function(e,t,s,a,r,n,i){"use strict";function u(e,t){t.forEach(function(t){delete e[t]})}function o(e,t){return t&&t.signature&&t.signature&&t.signature.parameters&&t.signature.parameters[e]&&t.signature.parameters[e].required===true}function p(e,t){var s=o("DYNP_OKCODE",t)||o("DYNP_NO1ST",t);var a=[];if(s){return[]}var r=l(e);function n(e){return e.toUpperCase()}var i=Object.keys(r).map(n).sort();function u(e,t){if(e.length!==t.length){return false}return e.every(function(s,a){return e[a]===t[a]})}if(u(["DYNP_NO1ST","DYNP_OKCODE"],i)||u(["DYNP_OKCODE"],i)||u(["DYNP_NO1ST"],i)){a=Object.keys(r)}return a}function l(e){var t=i.filterObject(e,c);return t}function c(e,t){var s;if(arguments.length===1){s=e.split(/[=](.+)?/);if(s.length>1){return c.apply(null,s)}}return!(e.indexOf("sap-")===0||e.indexOf("saml")===0||e.charAt(0)==="~")}function m(e,t,s){var a=e.inbound,n=a&&a.resolutionResult,i;if(!(!a||!n||!n["sap.gui"]||!(n.applicationType==="TR"))){i=S(e,t,s)}else if(!(!a||!n||!(n.applicationType==="TR")||!(n.url.indexOf("/~canvas;")>=0)||!(n.url.indexOf("app/transaction/APB_LPD_CALL_")===-1))){i=h(e,t,s)}else if(!(!a||!n||!(n.applicationType==="TR")||!(n.url.indexOf("/~canvas;")>=0)||!(n.url.indexOf("app/transaction/APB_LPD_CALL_")>=0))){i=P(e,t,s)}else if(!(!a||!n||!(n.applicationType==="TR")||!(n.url.indexOf("/its/webgui")>=0)||!(n.url.indexOf("APB_LPD_CALL_")===-1))){i=g(e,t,s)}else if(!(!a||!n||!(n.applicationType==="TR")||!(n.url.indexOf("/its/webgui")>=0)||!(n.url.indexOf("APB_LPD_CALL_")!==-1))){i=v(e,t,s)}if(i){return i.then(function(e){if(e.url){e.url=r.appendParametersToUrl("sap-iframe-hint=GUI",e.url)}return e})}throw new Error("Cannot generate TR resolution result")}function f(e,t,r,n){var i,u;e=encodeURIComponent(e);i="/gui/sap/its/webgui?%7etransaction="+e+"&%7enosplash=1";u=new s(i);return a.spliceSapSystemIntoURI(u,a.LOCAL_SYSTEM_ALIAS,t,r,"NATIVEWEBGUI",a.SYSTEM_ALIAS_SEMANTICS.apply,n)}function d(e,t,s,a){var n,i="P_OBJECT"+a,u=132;var o=r.getURLParsing().privparamsToString(t,"%25","%21");if(!o){return e}var p="";y("P_OBJECT",e,s,a,function(e){var t=e.replace(i,"");p=decodeURIComponent(t);if(p.length>0){p=p+"%25"}return i});o=p+o;var l={pObjX:"",pObject:""};o.match(new RegExp(".{1,"+u+"}","g")).map(function(e){return encodeURIComponent(e)}).forEach(function(e,t){var r="P_OBJECT";var n="pObject";if(t>0){r="P_OBJ"+t;n="pObjX"}var i=l[n].length===0?"":s;l[n]=l[n]+i+r+a+e});n=[l.pObjX,l.pObject].filter(function(e){return e.length>0}).join(s);var c=y("P_OBJECT",e,s,a,function(e){return n});if(c.found){return c.query}return e+(e.length===0?"":s)+n}function y(e,t,s,a,r){var n=false,i=e+a;var u=t.split(s).map(function(e){if(e.indexOf(i)!==0){return e}n=true;return r(e)}).filter(function(e){return typeof e!=="undefined"}).join(s);return{found:n,query:u}}function v(e,n,i){var u=e.inbound,o=u&&u.resolutionResult,p={};var l=new s(n);var c=t({},e.mappedIntentParamsPlusSimpleDefaults);var m=c["sap-system"]&&c["sap-system"][0];var f=c["sap-system-src"]&&c["sap-system-src"][0];p["sap-system"]=m;delete c["sap-system"];if(typeof f==="string"){p["sap-system-src"]=f;delete c["sap-system-src"]}return a.spliceSapSystemIntoURI(l,o.systemAlias,m,f,"NATIVEWEBGUI",o.systemAliasSemantics||a.SYSTEM_ALIAS_SEMANTICS.applied,i).then(function(e){var t=e.search();var s=t.split("&").map(function(e){var t;if(e.indexOf("?%7etransaction")===0||e.indexOf("%7etransaction")===0){t=d(e,c,"%3b","%3d");return t}return e}).join("&");e.search(s);["additionalInformation","applicationDependencies"].forEach(function(e){if(u.resolutionResult.hasOwnProperty(e)){p[e]=u.resolutionResult[e]}});p.url=e.toString();p.text=u.title;p.applicationType="TR";r.setSystemAlias(p,u.resolutionResult);return p})}function S(e,t,s){var a=e.inbound,i=a&&a.resolutionResult,u=e.mappedIntentParamsPlusSimpleDefaults||{};var o=i.systemAlias;if(u["sap-system"]){o=u["sap-system"][0]}var p;if(u["sap-system-src"]){p=u["sap-system-src"][0]}return f(a.resolutionResult["sap.gui"].transaction,o,p,s).then(function(t){n.mapParameterNamesAndRemoveObjects(e);var s=R(e.inbound,e.mappedIntentParamsPlusSimpleDefaults,t);if(s&&e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult["sap.platform.runtime"]){s["sap.platform.runtime"]=e.inbound.resolutionResult["sap.platform.runtime"]}s["sap-system"]=o;r.setSystemAlias(s,a.resolutionResult);return s})}function P(e,n,i){var u=e.inbound,o=u&&u.resolutionResult;var p={};var l=new s(n);var c=t({},e.mappedIntentParamsPlusSimpleDefaults);var m=c["sap-system"]&&c["sap-system"][0];var f=c["sap-system-src"]&&c["sap-system-src"][0];p["sap-system"]=m;delete c["sap-system"];if(typeof f==="string"){p["sap-system-src"]=f;delete c["sap-system-src"]}return a.spliceSapSystemIntoURI(l,o.systemAlias,m,f,"WEBGUI",o.systemAliasSemantics||a.SYSTEM_ALIAS_SEMANTICS.applied,i).then(function(e){var t=e.search();t=d(t,c,"&","=");e.search(t);["additionalInformation","applicationDependencies"].forEach(function(e){if(u.resolutionResult.hasOwnProperty(e)){p[e]=u.resolutionResult[e]}});p.url=e.toString();p.text=u.title;p.applicationType="NWBC";r.setSystemAlias(p,u.resolutionResult);return p})}function h(e,n,i){var o=e.inbound,l=o&&o.resolutionResult;var c={};var m=new s(n);var f=t({},e.mappedIntentParamsPlusSimpleDefaults);var d=f["sap-system"]&&f["sap-system"][0];var y=f["sap-system-src"]&&f["sap-system-src"][0];c["sap-system"]=d;delete f["sap-system"];if(typeof y==="string"){c["sap-system-src"]=y;delete f["sap-system-src"]}var v=p(f,o||{});u(f,v);return a.spliceSapSystemIntoURI(m,l.systemAlias,d,y,"WEBGUI",c.systemAliasSemantics||a.SYSTEM_ALIAS_SEMANTICS.applied,i).then(function(e){var t=r.getURLParsing().paramsToString(f);var s=e.search();if(t){s=s+(s.indexOf("?")<0?"?":"&")+t}e.search(s);["additionalInformation","applicationDependencies"].forEach(function(e){if(o.resolutionResult.hasOwnProperty(e)){c[e]=o.resolutionResult[e]}});c.url=e.toString();c.text=o.title;c.applicationType="NWBC";r.setSystemAlias(c,o.resolutionResult);return c})}function g(e,r,n){var i=e.inbound,u=i&&i.resolutionResult,o={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true,"sap-system-src":true};var p=new s(r);var l=t({},e.mappedIntentParamsPlusSimpleDefaults);var c=l["sap-system"]&&l["sap-system"][0];var m=l["sap-system-src"]&&l["sap-system-src"][0];Object.keys(l).forEach(function(e){if(o[e.toLowerCase()]){delete l[e]}});return a.spliceSapSystemIntoURI(p,u.systemAlias,c,m,"NATIVEWEBGUI",u.systemAliasSemantics||a.SYSTEM_ALIAS_SEMANTICS.applied,n).then(function(t){var s=R(e.inbound,e.mappedIntentParamsPlusSimpleDefaults,t);return s})}function R(s,a,n){var i={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true};var o={};var l=t({},a);var m=l["sap-system"]&&l["sap-system"][0];var f=l["sap-system-src"]&&l["sap-system-src"][0];o["sap-system"]=m;if(typeof f==="string"){o["sap-system-src"]=f}Object.keys(l).forEach(function(e){if(i[e.toLowerCase()]){delete l[e]}});var d=p(l,s||{});u(l,d);var y=b(l);u(l,Object.keys(y));var v=n.search();var S=v.split("&").map(function(t){var s;if(!c(t)){if(t.indexOf("=")>=0){s=t.split("=");if(!y.hasOwnProperty(s[0])){y[s[0]]=s[1]}}else{e.error("Found no '=' separator of Webgui non-business parameter. Parameter will be skipped.","'"+t+"'","sap.ushell.services.ClientSideTargetResolution")}return undefined}var a;if(t.indexOf("?%7etransaction")===0||t.indexOf("%7etransaction")===0){a=I(t,l,"%3b","%3d");return a}return t}).filter(function(e){return typeof e!=="undefined"}).join("&");var P=r.getURLParsing().paramsToString(y);S=[S,P.replace("~","%7e")].join("&");n.search(S);["additionalInformation","applicationDependencies","sap.platform.runtime"].forEach(function(e){if(s.resolutionResult.hasOwnProperty(e)){o[e]=s.resolutionResult[e]}});o.url=n.toString();o.text=s.title;o.applicationType="TR";r.setSystemAlias(o,s.resolutionResult);return o}function b(e){var t;t=i.filterObject(e,function(e,t){return!c(e,t)});return t}function O(e){var t="^(.+?)(%20|(%20)(.+))?$",s=new RegExp(t,"i"),a,r={hasParameters:null,transactionParamName:"",transactionCode:"",parameters:[]};var n=e.split("=");if(n.length>2){return{error:"Found more than one assignment ('=') in the transaction query parameter",details:"Only one '=' sign is expected in "+e}}if(n.length<2||typeof n[1]==="undefined"||n[1].length===0){return{error:"The transaction query parameter must specify at least the transaction name",details:"Got "+e+" instead."}}r.transactionParamName=n[0];a=n[1];var i=a.match(s);if(!i){return{error:"Cannot parse ~transaction query parameter value.",details:a+" should match /"+t+"/"}}r.transactionCode=i[1];if(i[2]&&i[2]!=="%20"){var u=i[4]||"";u.split("%3b").forEach(function(e){var t=e.split("%3d"),s=t[0];if(s&&typeof s==="string"&&s.length>0){r.parameters.push({name:s,value:t[1]})}})}r.hasParameters=false;if(r.parameters.length>0){r.hasParameters=true;r.transactionCode=r.transactionCode.replace(/^[*]/,"")}return r}function I(t,s){var a=O(t);if(a.error){e.error(a.error,a.details,"sap.ushell.services.ClientSideTargetResolution");return t}var n=a.parameters.map(function(e){return e.name.toUpperCase()+"%3d"+e.value});var i,u=true;if(s.hasOwnProperty("DYNP_SKIP_SEL_SCREEN")){i=s["DYNP_SKIP_SEL_SCREEN"];delete s["DYNP_SKIP_SEL_SCREEN"];if(i[0]===""||i[0]===" "||i[0]==="0"||i[0]===0||i[0]&&i[0].toLowerCase()==="false"){u=false}}var o={};Object.keys(s).forEach(function(e){o[e.toUpperCase()]=s[e]});var p=r.getURLParsing().privparamsToString(o,"%3b","%3d");if(p){if(Object.keys(s).length>0){p+="%3b"}n.push(p)}var l=n.length>0;return a.transactionParamName+"="+(l&&u?"*":"")+a.transactionCode+(l?"%20":"")+n.join("%3b")}function T(e,t,s){return new Promise(function(a,i){var u;if(e.params["sap-system-src"]){u=e.params["sap-system-src"][0]}var o=e.params["sap-system"]?e.params["sap-system"][0]:undefined;var p=e.params["sap-ui2-tcode"]?e.params["sap-ui2-tcode"][0]:undefined;f(p,o,u,s).then(function(e){delete t.intentParamsPlusAllDefaults["sap-ui2-tcode"];n.mapParameterNamesAndRemoveObjects(t);var s=R(t.inbound,t.mappedIntentParamsPlusSimpleDefaults,e);if(s&&t.inbound&&t.inbound.resolutionResult&&t.inbound.resolutionResult["sap.platform.runtime"]){s["sap.platform.runtime"]=t.inbound.resolutionResult["sap.platform.runtime"]}s["sap-system"]=o;s.text=p;s.url=r.appendParametersToUrl("sap-iframe-hint=GUI",s.url);a(s)}).catch(function(e){i(e)})})}return{generateTRResolutionResult:m,resolveEasyAccessMenuIntentWebgui:T,injectEffectiveParametersIntoWebguiQueryParam:I,injectEffectiveParametersIntoWebguiPobjectParam:d,amendGuiParam:y,parseWebguiTransactionQueryParam:O,getWebguiNonBusinessParameters:b,getWebguiBusinessParameters:l,isWebguiBusinessParameter:c,buildNativeWebGuiURI:f,constructFullWebguiResolutionResult:S}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_ApplicationType/systemAlias", ["sap/ui/thirdparty/URI","sap/ushell/utils","sap/base/util/isPlainObject","sap/base/Log"],function(e,t,n,r){"use strict";var i="";var a={apply:"apply",applied:"applied"};function o(e){return(e.protocol()||"").length>0}function s(e,n,r){var i=typeof n==="string";var a=[e];if(i){a.unshift(n)}var o=t.generateLocalStorageKey("sap-system-data",a);var s=t.getLocalStorage();var f=s.getItem(o);var p={};if(f){try{p=JSON.parse(f)}catch(e){return Promise.reject("Cannot parse system data from local storage at key '"+o+"'. Data: "+f)}return Promise.resolve(p)}else if(i){return Promise.reject("Cannot find data for system '"+e+"' in local storage using key '"+o+"'")}if(!r){return Promise.reject("fallback: the adapter does not implement resolveSystemAlias")}return new Promise(function(t,n){r(e).done(function(e){t(e)}).catch(function(e){n(e)})})}function f(t,n,a,o,f){var p=a;var u=new Promise(function(u,l){s(t,n,f).catch(function(e){l(e)}).then(function(n){var s=m(n);if(!s.isValid){g(s);l("Invalid system alias definition");return}var h=d(n,new e(window.location.toString()).protocol());var v=n[h];var w;var P;var R;if(t===i&&v.host===""&&(v.port===0||v.port==="")){h=""}p.protocol(h);p.hostname(v.host);p.port(v.port);y(p,o,v.pathPrefix,f).catch(function(e){l(e)}).then(function(e){w=e.query();if(typeof n.client==="string"&&n.client!==""){w=w+(w.length>0?"&":"")+"sap-client="+n.client}if(typeof n.language==="string"&&n.language!==""){P=n.language}else{R=sap.ushell.Container.getUser();if(!R){r.error("Cannot retieve the User object via sap.ushell.Container while determining sap-language","will default to 'en' language","sap.ushell.services.ClientSideTargetResolution");P="en"}else{P=R.getLanguage()}}w=w+(w.length>0?"&":"")+"sap-language="+P;e.query(w);if(n.hasOwnProperty("rfc")&&o==="NATIVEWEBGUI"){var t=c(n.rfc,v.host,e);var i=e.path()+";"+t;e.path(i);a._parts.path=i}u(e)})})});return u}function p(e,t,n,r,i,o,s){if(o!==a.apply&&o!==a.applied){throw new Error("Invalid system alias semantic was provided: '"+o+"'")}if(o===a.applied&&(typeof n==="undefined"||t===n)){return Promise.resolve(e)}if(o===a.apply&&typeof t==="undefined"&&typeof n==="undefined"){return Promise.resolve(e)}if(i==="URL"&&o===a.applied){return u(e,t,n,r,s)}var p=new Promise(function(f,p){if(o===a.apply){f({targetUri:e,alias:n||t,sapSystemSrc:n?r:undefined});return}l(e,t,undefined,i,s).catch(function(e){p(e)}).then(function(e){f({targetUri:e,alias:n})})}).then(function(e){return f(e.alias,e.sapSystemSrc,e.targetUri,i,s)});return p}function u(t,n,r,a,p){var u=new Promise(function(u,c){if(n===i||typeof n==="undefined"){if(o(t)){u(t);return}u(f(r,a,t,"URL",p).then(function(e){return e}))}u(s(n,a,p).catch(function(e){c(e)}).then(function(n){var i=d(n,new e(window.location.toString()).protocol()),o=n[i],s;if((t.protocol()||"").toLowerCase()===i&&(t.hostname()||"")===o.host&&t.path().indexOf(o.pathPrefix)===0){t.protocol("");t.hostname("");s=t.path().replace(o.pathPrefix,"");t.path(s);v(t,["sap-language","sap-client"]);return f(r,a,t,"URL",p).then(function(e){return e})}return t}))});return u}function c(e,t){var n,i,a,o,s;a=!!e.systemId;if(a){o=[e.systemId&&"~sysid="+e.systemId,e.loginGroup&&"~loginGroup="+e.loginGroup,e.sncNameR3&&"~messageServer="+encodeURIComponent(e.sncNameR3),e.sncNameR3&&"~sncNameR3="+encodeURIComponent(e.sncNameR3),e.sncQoPR3&&"~sncQoPR3="+e.sncQoPR3].filter(function(e){return typeof e==="string"&&e!==""})}else{s=e.host||"";i=s.toLowerCase()===t.toLowerCase();n=/^[/][HGMR][/].*/.test(s);if(s.length>0&&!i&&!n){r.error("Invalid connect string provided in 'host' field of system alias","Data for rfc destination provided are: "+JSON.stringify(e,null,3),"sap.ushell.services.ClientSideTargetResolution")}o=[s&&!n&&!i&&"~rfcHostName="+s,n&&"~connectString="+encodeURIComponent(s),e.service&&"~service="+e.service,e.sncNameR3&&"~sncNameR3="+encodeURIComponent(e.sncNameR3),e.sncQoPR3&&"~sncQoPR3="+e.sncQoPR3].filter(function(e){return typeof e==="string"&&e!==""})}return o.join(";").replace(/(%[A-F0-9]{2})/g,function(e){return e.toLowerCase()})}function l(e,t,n,r,i){var a=new Promise(function(a,o){if(typeof t==="undefined"){a(h(e,t,r,undefined,i));return}a(s(t,n,i).then(function(n){return h(e,t,r,n,i)}))});return a}function h(t,r,i,a,o){t.protocol("");t.hostname("");t.port("");var f=new Promise(function(f){var p,u;v(t,["sap-client","sap-language"]);if(!n(a)||typeof r!=="string"){f(t)}u=d(a,new e(window.location.toString()).protocol());p=a[u];var c=new Promise(function(e,t){var n=typeof p.pathPrefix==="string"&&p.pathPrefix;if(n!==""){e(n)}else{s("",undefined,o).catch(function(e){t(e)}).then(function(t){var n=t[u];e(n.pathPrefix)})}}).then(function(e){var n;if(e&&e.length>0){n=t.path();n=n.replace(e,"");if(e==="/sap/bc/"){n=n.replace("/sap(====)/bc/","")}if(n.indexOf("/")!==0){n="/"+n}t.path(n)}if(i==="NATIVEWEBGUI"&&a.hasOwnProperty("rfc")){n=t.path();n=n.split(";").filter(function(e){return e.indexOf("~sysid=")!==0&&e.indexOf("~service=")!==0&&e.indexOf("~loginGroup=")!==0&&e.indexOf("~messageServer=")!==0&&e.indexOf("~sncNameR3=")!==0&&e.indexOf("~sncQoPR3=")!==0}).join(";");t.path(n)}return t});f(c)});return f}function d(e,t){if(e.hasOwnProperty("https")){return"https"}if(e.hasOwnProperty("http")){return"http"}r.error("Cannot select which system alias to pick between http/https","make sure they are provided in the given system alias collection","sap.ushell.services.ClientSideTargetResolution");return undefined}function g(e){r.error("Invalid system alias definition: "+e.debug,"ERRORS:"+e.errors.map(function(e){return"\n - "+e}).join(""),"sap.ushell.ApplicationType")}function m(e){function t(e){var t=[];if(typeof e.host!=="string"){t.push("host field must be a string")}if(typeof e.port!=="number"&&typeof e.port!=="string"){t.push("port field must be a number or a string")}if(typeof e.pathPrefix!=="string"){t.push("pathPrefix field must be a string")}return t}var n=[],r=e.hasOwnProperty("https"),i=e.hasOwnProperty("http");if(!i&&!r){n.push("at least one of 'http' or 'https' fields must be defined")}if(r){t(e.https).forEach(function(e){n.push("https>"+e)})}if(i){t(e.http).forEach(function(e){n.push("http>"+e)})}if(n.length>0){return{isValid:false,errors:n,debug:JSON.stringify(e,null,3)}}return{isValid:true}}function v(e,t){var n={},r;t.forEach(function(e){n[e]=true});r=e.query();r=r.split("&").filter(function(e){var t=(e.split("=")[0]||"").toLowerCase();return!n.hasOwnProperty(t)}).join("&");e.query(r)}function y(t,n,r,i){var a;var o=new Promise(function(o){if(n==="URL"&&r.length===0){o(t);return}o(s("",undefined,i).then(function(i){var o=d(i,new e(window.location.toString()).protocol());var s=i[o].pathPrefix;var f=r===s;if(r.length>0&&!f){if((n==="WDA"||n==="WEBGUI")&&t.path().indexOf("~canvas")>=0){a=t.path();a="/~canvas"+a.split("~canvas")[1];t.path(a)}}function p(e){var n=e+t.path();t.path(n.replace(/\/+/g,"/"));return t}if(r.length===0){if(n==="WCF"&&s==="/sap/bc/"){return p("/sap(====)/bc/")}return p(s)}return p(r)}))});return o}return{LOCAL_SYSTEM_ALIAS:i,SYSTEM_ALIAS_SEMANTICS:a,spliceSapSystemIntoURI:p,isAbsoluteURI:o,_stripURI:l,_selectSystemAliasDataName:d,_constructNativeWebguiParameters:c}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_ApplicationType/utils", ["sap/ushell/utils/UrlParsing","sap/ushell/_ApplicationType/systemAlias"],function(e,s){"use strict";function a(){return e}function t(e,a,t){if(!t||t===s.SYSTEM_ALIAS_SEMANTICS.applied){return s.isAbsoluteURI(e)&&!a}if(t===s.SYSTEM_ALIAS_SEMANTICS.apply){return s.isAbsoluteURI(e)}throw new Error("Invalid system alias semantics: '"+t+"'")}function r(e,s){var a,t,r;if(typeof s==="string"){r=s}else{r=decodeURI(s.toString())}if(e){var n=r.match(/#.*/);if(n){t=n;a=r.replace(n,"")}else{a=r;t=""}r=a+(r.indexOf("?")<0?"?":"&")+e+t}return r}function n(s,a){var t=a.match(/#.*/);var n=t&&t[0];if(!n){var i=e.paramsToString(s);return r(i,a)}var l=e.parseShellHash(n);Object.keys(s).forEach(function(e){var a=s[e];l.params[e]=[a]});var p=Object.keys(l.params).reduce(function(e,s){var a=l.params[s];var t=a.map(function(e){return encodeURIComponent(e)});e[encodeURIComponent(s)]=t;return e},{});l.params=p;var u=a.replace(n,"");var o=e.constructShellHash(l);return u+"#"+o}function i(e,s){if(e["sap-system"]&&e["sap-system"]!=null&&e["sap-system"]!=undefined&&e["sap-system"]!=""){e.systemAlias=e["sap-system"]}else{e.systemAlias=s.systemAlias}if(e.systemAlias===undefined){delete e.systemAlias}}return{getURLParsing:a,appendParametersToUrl:r,appendParametersToIntentURL:n,absoluteUrlDefinedByUser:t,setSystemAlias:i}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_ApplicationType/wdaResolution", ["sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/thirdparty/URI","sap/ushell/_ApplicationType/systemAlias","sap/ushell/_ApplicationType/utils"],function(s,a,e,t,r){"use strict";function n(a,e){return new Promise(function(t,n){var i=s({},a);if(e.length>0){i["sap-ushell-defaultedParameterNames"]=[JSON.stringify(e)]}delete i["sap-system"];sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(s){s.compactParams(i,["sap-xapp-state","sap-xapp-state-data","sap-ushell-defaultedParameterNames","sap-intent-params","sap-iframe-hint","sap-keep-alive","sap-wd-configId"],undefined,true).fail(function(s){n(s)}).done(function(s){var a=r.getURLParsing().paramsToString(s);t(a)})}).catch(function(s){n(s)})})}function i(s,a){var e=s.search();if(a){e=e+(e.indexOf("?")<0?"?":"&")+a}return s.search(e).toString()}function p(a,n,i,p,l){var m,c,f,d,y,v=s({},p);if(n){v["sap-wd-configId"]=n}if(v["sap-system"]){m=v["sap-system"][0];delete v["sap-system"]}if(v.hasOwnProperty("sap-system-src")){c=v["sap-system-src"][0];delete v["sap-system-src"]}y=r.getURLParsing().paramsToString(v);if(i){f=u(a,y)}else{f=o(a,y)}d=new e(f);return t.spliceSapSystemIntoURI(d,t.LOCAL_SYSTEM_ALIAS,m,c,"WDA",t.SYSTEM_ALIAS_SEMANTICS.apply,l)}function u(s,a){return"/ui2/nwbc/~canvas;window=app/wda/"+s+"/"+"?"+a}function o(s,a){var e=s.indexOf("/")!==0;if(e){s="sap/"+s}return"/webdynpro/"+s+"?"+a}function l(s,a,e,t){var n={"sap-system":e,url:a,text:s.title,applicationType:"NWBC"};if(typeof t==="string"){n["sap-system-src"]=t}r.setSystemAlias(n,s.resolutionResult);["additionalInformation","applicationDependencies"].forEach(function(a){if(s.resolutionResult.hasOwnProperty(a)){n[a]=s.resolutionResult[a]}});n.url=r.appendParametersToUrl("sap-iframe-hint="+(n.url.indexOf("/ui2/nwbc/")>=0?"NWBC":"WDA"),n.url);return n}function m(s,e,t){var r=a.get("inbound.resolutionResult",s);var u=s.mappedIntentParamsPlusSimpleDefaults||{};var o=r.systemAlias;if(u["sap-system"]){o=u["sap-system"][0]}var m;if(u["sap-system-src"]){m=u["sap-system-src"][0]}var c={"sap-system":[o]};if(typeof m==="string"){c["sap-system-src"]=[m]}var f=r["sap.wda"].compatibilityMode;if(f===undefined){f=true}return Promise.all([p(r["sap.wda"].applicationId,r["sap.wda"].configId,f,c,t),n(u,s.mappedDefaultedParamNames)]).then(function(a){var e=a[0];var t=a[1];var r=i(e,t);var n=u["sap-system"]&&u["sap-system"][0];var p=u["sap-system-src"]&&u["sap-system-src"][0];var o=l(s.inbound,r,n,p);return o})}function c(s,a,r){var p=s.inbound,u=p&&p.resolutionResult,o=s.mappedIntentParamsPlusSimpleDefaults;var m=new e(a);var c=o["sap-system"]&&o["sap-system"][0];var f=o["sap-system-src"]&&o["sap-system-src"][0];return Promise.all([t.spliceSapSystemIntoURI(m,u.systemAlias,c,f,"WDA",u.systemAliasSemantics||t.SYSTEM_ALIAS_SEMANTICS.applied,r),n(o,s.mappedDefaultedParamNames)]).then(function(s){var a=s[0];var e=s[1];var t=i(a,e);var r=l(p,t,c,f);return r},function(s){return Promise.reject(s)})}function f(s,e,t,n){var i=s.params["sap-ui2-wd-app-id"][0];var u=(a.get("params.sap-ui2-wd-conf-id",s)||[])[0];var o=Object.keys(s.params).reduce(function(a,e){if(e!=="sap-ui2-wd-app-id"&&e!=="sap-ui2-wd-conf-id"){a[e]=s.params[e]}return a},{});return p(i,u,n,o,t).then(function(a){var t=s.params.hasOwnProperty("sap-system-src")&&s.params["sap-system-src"][0];var n=s.params.hasOwnProperty("sap-system")&&s.params["sap-system"][0];var p={url:a.toString(),applicationType:"NWBC",text:i,additionalInformation:"","sap-system":n};if(typeof t==="string"){p["sap-system-src"]=t}if(e&&e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult["sap.platform.runtime"]){p["sap.platform.runtime"]=e.inbound.resolutionResult["sap.platform.runtime"]}p.url=r.appendParametersToUrl("sap-iframe-hint="+(p.url.indexOf("/ui2/nwbc/")>=0?"NWBC":"WDA"),p.url);return p})}return{resolveEasyAccessMenuIntentWDA:f,constructFullWDAResolutionResult:m,constructWDAResolutionResult:c}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_Config/utils", [],function(){"use strict";function t(t,r){var n=[];var e=[];var o=r;var a=false;var i=t.split("/");i.shift();i.forEach(function(t){if(!a&&o.hasOwnProperty(t)){o=o[t];n.push(t);return}a=true;e.push(t)});return{contractPart:"/"+n.join("/"),nonContractPart:e}}function r(t){return t&&t.isA&&t.isA("sap.ui.model.Context")}function n(t,r,n,e){var o=n;r.forEach(function(n,a){if(a===r.length-1){o[n]=e;return}if(!o.hasOwnProperty(n)){throw new Error("Cannot find "+n+" inside "+t)}o=o[n]})}function e(t){var r=function(r){return t+r};if(typeof t==="object"){var n="/";r=function(r){var e=r.split(n);e.shift();var o=e.shift();return t[o]+(e.length>0?n+e.join(n):"")}}return r}function o(t,n,o){var a=e(o);var i=a(t);if(r(n)&&t.charAt(0)!=="/"){var c=n.getPath()+"/"+t;i=a(c)}return i}function a(r,e,a,i){a.setData=function(t,r){throw new Error("not yet implemented")};a.setProperty=function(a,c,u){var f=o(a,u,i);var s=t(f,e);if(s.nonContractPart.length===0){r.emit(s.contractPart,c);return}var p=r.last(s.contractPart);n(s.contractPart,s.nonContractPart,p,c);r.emit(s.contractPart,p)};return a}function i(t,r,n,e){var o,i,c,u;if(typeof n==="string"){var f=n;u=f;var s=t.last(f);if(Object.prototype.toString.apply(s)!=="[object Object]"){throw new Error("Cannot bind on leaf property of Configuration: '"+f+"'")}o=new e(s);c=o.setData.bind(o);t.on(f).do(function(t){c(t)});return a(t,r,o,u)}if(Object.prototype.toString.apply(n)==="[object Object]"){var p=n;var v=Object.keys(p).reduce(function(r,n){var e=p[n];r[n]=t.last(e);t.on(e).do(function(t,r){i("/"+t,r)}.bind(null,n));return r},{});o=new e(v);i=o.setProperty.bind(o);return a(t,r,o,p)}throw new Error("Invalid parameter provided to createModel. Must be an object or a string.")}return{createModel:i}},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/DefinitionParameterSetBuilder", ["sap/ushell/_URLTemplateProcessor/TemplateParameterParser","sap/ushell/_URLTemplateProcessor/Resolvers","sap/ushell/_URLTemplateProcessor/utils","sap/ushell/utils/type"],function(e,r,t,a){"use strict";var s="/payload/parameters/names";function o(s,o,l){if(!s||!s.names){return{}}if(!s.hasOwnProperty("mergeWith")){return s.names}var u=s&&s.mergeWith;if(Array.isArray(u)===false&&typeof u!=="string"){throw new Error("The value of 'mergeWith' can only be a string or an array")}var p=s&&s.names;var h=i(s.mergeWith,o,l,{});var f=h.map(function(t){var s=e.parsePath(l,t);n(s);var i=r.resolvePath(s,{},o,{},{});if(!a.isPlainObject(i)){throw new Error("Cannot merge parameters from '"+t+"'. The path must point to an object")}return i}).reduce(function(e,r){e=t.mergeObject(e,r);return e},{});return t.mergeObject(f,p)}function n(e){if(e.pathType==="relative"){throw new Error("Please only specify absolute paths via mergeWith")}e.value.forEach(function(e){if(e.type!=="literal"){throw new Error("Please do not specify references in mergeWith paths")}})}function i(t,a,o,l){if(Array.isArray(t)){return t.slice().reverse()}if(typeof t==="string"){if(l[t]){throw new Error("Detected circular dependency of templates caused by mergeWith statements: ensure the template merges its parameters with a base template.")}l[t]=true;var u=e.parsePath(o,t);n(u);var p=r.resolvePath(u,{},a,{},{});if(!p){throw new Error("The specified mergeWith path does cannot be resolved: '"+t+"'")}var h=s.split("/").slice(1).reduce(function(e,r){if(e.result&&e.obj&&e.obj.hasOwnProperty(r)){e.obj=e.obj[r]}else{e.result=false}return e},{obj:p,result:true}).result;if(!h){throw new Error(t+" does not contain "+s+". Please make sure "+t+" points to the root of a URL template.")}return i(p.payload.parameters.mergeWith,a,o,l).concat([t+s])}return[]}return{buildDefinitionParameterSet:o}},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/DependencyGraph", ["sap/base/util/deepExtend"],function(e){"use strict";function n(e){return typeof e==="string"||e.type==="wildcard"||e.type==="literal"||e.type==="intentParameter"||e.type==="reference"}function r(e){return e.type==="reference"&&!e.namespace}function t(e,n,t){if(!e.hasOwnProperty(n)){e[n]=[]}if(r(t)){e[n].push(t.value)}}function i(e){var n={};var r=t.bind(null,n);Object.keys(e).forEach(function(n){var t=e[n];a(t,n,r)});return n}function u(e){var n=e.type;if(n==="expression"){return[e.value]}if(n==="function"){return(e.args||[]).concat(e.params||[])}if(n==="pipe"||n==="path"){return e.value}throw new Error("Unknown type encountered while building dependency graph: '"+n+"'")}function a(e,r,t){t(r,e);if(n(e)){return}var i=u(e);i.forEach(function(e){a(e,r,t)})}function c(n){var r=e({},n);var t,i,u=[],a={};do{var c=Object.keys(r);t=c.length;c.forEach(function(e){if(r[e].length>0){r[e]=r[e].filter(function(e){var n=!a[e];var t=r.hasOwnProperty(e);return n&&t})}if(r[e].length===0){delete r[e];u.push(e);a[e]=true}});i=Object.keys(r).length}while(t!==i);if(i!==0){throw new Error("Graph of dependencies contains cyclic references")}return u}return{buildDependencyGraph:i,getDependencyResolutionOrder:c}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/Functions", ["sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/_URLTemplateProcessor/utils","sap/ushell/utils/type"],function(e,n,r,t){"use strict";var i={url:{args:["urlPart?"],minValues:0,maxValues:0,fn:function(e){var r=new n;var t=["protocol","scheme","username","password","hostname","port","host","userinfo","authority","origin","subdomain","domain","tld","pathname","path","directory","filename","suffix","search","query","hash","fragment","resource"];var i="toString";if(e.urlPart){if(t.indexOf(e.urlPart)===-1){throw new Error("The URL part '"+e.urlPart+"' is not valid. Please use one of "+t.join(", "))}i=e.urlPart}return r[i]()}},if:{args:["trueCondition"],minValues:1,maxValues:2,fn:function(e,n){var r=u(n);if(a(e.trueCondition)){return r.length===1?undefined:r.pop()}return r[0]}},and:{args:["emptyCondition?"],minValues:1,fn:function(e,n){var t=u(n);if(typeof e.emptyCondition==="undefined"&&e.length>0){return undefined}if(typeof e.emptyCondition!=="undefined"&&a(e.emptyCondition)){return undefined}var i=t.pop();var o=t.every(r.hasValue);return o?i:undefined}},or:{args:["emptyCondition?"],minValues:1,fn:function(e,n){var t=u(n);if(typeof e.emptyCondition==="undefined"&&e.length>0){return undefined}if(typeof e.emptyCondition!=="undefined"&&a(e.emptyCondition)){return undefined}return t.reduce(function(e,n){if(r.hasValue(e)){return e}return r.hasValue(n)?n:undefined})}},replace:{args:["strRegExp","strReplace","flags?"],minValues:1,maxValues:1,fn:function(e,n){var r=new RegExp(e.strRegExp,e.flags);var a=e.strReplace||"";if(typeof n===undefined||n===null){return n}if(t.isArray(n)){if(n.length===1){return i.replace.fn.call(this,e,n[0])}return n.map(function(n){return i.replace.fn.call(this,e,n)})}if(t.isPlainObject(n)){return Object.keys(n).reduce(function(r,t){var a=n[t];r[t]=i.replace.fn.call(this,e,a);return r},{})}if(typeof n==="string"){return n.replace(r,a)}return i.replace.fn.call(this,e,n+"")}},join:{args:["macroSeparator?","microSeparator?"],minValues:1,fnPipe:function(e,n){var r=[n];return i.join.fn.call(this,e,r)},fn:function(e,n){var i=e.macroSeparator||"";var a=e.microSeparator||"";n=n.map(function(e){if(!t.isPlainObject(e)&&!t.isArray(e)){return e}var n=Object.prototype.toString.apply(e);if(n==="[object Object]"){var u=r.removeArrayParameterNotation(e);return Object.keys(u).sort().map(function(n){return n+a+e[n]}).join(i)}if(n==="[object Array]"){return e.join(i)}});return n.join(i)}},match:{args:["strRegex"],minValues:1,fnPipe:function(e,n){var r=e.strRegex;var t=new RegExp(r);return Object.keys(n).reduce(function(e,r){if(t.exec(r)){e[r]=n[r]}return e},{})},fn:function(e,n){if(n===undefined){return undefined}var r=e.strRegex;var i=new RegExp(r);var a=n.filter(function(e){var n;if(t.isPlainObject(e)){n=Object.keys(e)}else if(t.isArray(e)){n=e}else{n=[""+e]}return n.some(i.exec.bind(i))});return a.length===n.length?true:undefined}},not:{args:[],minValues:1,fnPipe:function(e,n){return Object.keys(n).length>0?undefined:""},fn:function(e,n){var r=i.and.fn(e,n);return r===undefined?"":undefined}},stringify:{args:[],minValues:1,fn:function(e,n){if(t.isArray(n)){if(n.length===0){return""}if(n.length===1){n=n[0]}}if(typeof n==="string"){return n}return JSON.stringify(n)}},encodeURIComponent:{args:[],minValues:1,maxValues:1,fnPipe:function(e,n){return Object.keys(n).reduce(function(e,r){e[r]=encodeURIComponent(n[r]);return e},{})},fn:function(e,n){var r=n[0];if(typeof r!=="string"){return r}return encodeURIComponent(r)}}};function a(e){if(typeof e==="undefined"){return true}if(typeof e==="string"){return e===""}if(typeof e==="object"){return Object.keys(e).length===0}if(typeof e==="number"){return e===0}if(typeof e==="boolean"){return e===false}throw new Error("Unexpected type for value")}function u(e){var n;if(t.isArray(e)){n=e}else if(t.isPlainObject(e)){n=[e]}else if(e===undefined){return[]}else{throw new Error("Unexpected type")}return n}function o(e,n,r){if(r!==undefined&&!t.isPlainObject(r)){throw new Error("Invalid value type passed to '"+e+"' in pipe context. An object is expected.")}}function f(e,n,i){if(i!==undefined&&!t.isArray(i)){throw new Error("Invalid value type passed to '"+e+"' in value context. An array is expected.")}var a=t.isArray(i)?i.length:0;if(r.hasValue(n.maxValues)&&a>n.maxValues){throw new Error("Too many values were passed to '"+e+"'. Please pass maximum "+n.maxValues+" values.")}if(r.hasValue(n.minValues)&&a<n.minValues){throw new Error("Too few values were passed to '"+e+"'. Please pass minimum "+n.minValues+" values.")}}function s(e){var n=false;e.map(l).reduce(function(e,r){if(!e&&r){n=true}return r},true);return n}function l(e){return e.charAt(e.length-1)!=="?"}function c(e){return e.substr(0,e.length-1)}function p(n,r){var t=e([],i[n].args);if(s(t)){throw new Error("Invalid argument signature. Make sure all optional arguments appear in the end.")}var a={length:r.length};var u=t.filter(l);var o=u>r.length;if(o){throw new Error(n+" requires "+u+" arguments but "+r.length+" was specified")}r.forEach(function(e){var n=t.shift();var i=!l(n);if(i){n=c(n)}if(r.length>0){a[n]=e}});return a}function d(e,n,r,t){if(!i.hasOwnProperty(n)){throw"Invalid function: "+n}var a=p(n,r);if(e){o(n,i[n],t)}else{f(n,i[n],t)}if(e){if(!i[n].fnPipe){throw new Error("The function '"+n+"' cannot be executed in pipe context")}return i[n].fnPipe(a,t)}return i[n].fn(a,t)}function m(e){return e.split("").map(function(e){if(e==="["){return"[\\[]"}return"["+e+"]"}).join("")}function h(){var e=Object.keys(i);return e.map(m).join("|")}return{getPossibleFunctionsRegExpString:h,applyFunctionInValueContext:d.bind(null,false),applyFunctionInPipeContext:d.bind(null,true),_setURIDependency:function(e){n=e}}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/Resolvers", ["sap/base/util/deepExtend","sap/ushell/_URLTemplateProcessor/Functions","sap/ushell/_URLTemplateProcessor/utils"],function(e,r,n){"use strict";var t={literal:o,expression:p,reference:c,function:s,path:i,pipe:u};function a(e,r,n){var t=null;var a=[];var o=false;var i=r.join("/");t=e;if(typeof t==="undefined"){o=true}r.forEach(function(e,r){if(o){return}a.push(e);if(!t.hasOwnProperty(e)){t=undefined;o=true;return}if(!t.hasOwnProperty(e)){throw new Error("Cannot find path '"+i+"' in given structure: '"+e+"' seems to be missing in the object.")}t=t[e]});return t}function o(e){return e.value}function i(e,r,n,t,o,i){var u=e.value.map(function(e){return l(e,r,n,t,o,i)});var s=e.pathType==="relative";var p=s?t:n;return a(p,u,r)}function u(n,t,a,o,i,u){var s=n.value;if(s[0].type!=="wildcard"){throw new Error("Leading wildcard expected in pipe expression")}if(s[0].value!=="*"){throw new Error("Unsupported wildcard expression: "+s[0].value)}return s.slice(1).reduce(function(e,n){if(n.type!=="function"){throw new Error("Invalid operation specified in pipe expression")}return r.applyFunctionInPipeContext(n.name,n.args.map(function(e){return l(e,t,a,o,i,u)}),e)},e({},i[u]||{}))}function s(e,n,t,a,o,i){var u=e.name;var s=e.args.map(function(e){return l(e,n,t,a,o,i)});var p=e.params.map(function(e){return l(e,n,t,a,o,i)});return r.applyFunctionInValueContext(u,s,p)}function p(e,r,n,a,o,i){var u=e.value;if(t[u.type]){return l(u,r,n,a,o,i)}throw new Error("unknown expression type: "+u.type)}function c(e,r,n,t,a,o){var i=e.value;if(!e.hasOwnProperty("namespace")){return r[i]}var u=e.namespace;var s="The template attemps to take the value '"+i+"' from '"+u+"' namespace.";if(!a.hasOwnProperty(u)){throw new Error(s+" However this value was not defined at runtime. The template should reference only defined values.")}var p=a[u];var c=i===".";if(c){return p}if(typeof p!=="object"){throw new Error(s+" However the runtime did not define the namespace as an object. The template cannot access the desired value using the object notation in this case.")}return p[i]}function l(e,r,n,a,o,i){var u=e.type;if(t[u]){return t[u](e,r,n,a,o,i)}throw new Error("Cannot resolve unknown parameter type: '"+u+"'")}function f(e,r,n,t,a,o){var i={};r.forEach(function(r){var u=e[r];var s=l(u,i,n,a,t,o);i[r]=s});return i}return{resolveLiteral:o,resolveExpression:p,resolveReference:c,resolveFunction:s,resolvePath:i,resolvePipe:u,resolveParameterValue:l,resolveAllParameters:f}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/TemplateParameterParser", ["sap/ushell/_URLTemplateProcessor/Functions"],function(r){"use strict";function e(e,t){var a=p();var u=a.exec(t);if(u===null){throw new Error("Cannot parse expression: '"+t+"'")}var s=h(t);if(s.indexOf("*")===0){return n(e,s)}var f="^("+r.getPossibleFunctionsRegExpString()+")[^a-z]";var v=new RegExp(f);if(v.exec(s)){return o(e,s)}return i(e,s)}function n(r,e){var n=f(r,e,"|");var t=n.shift();return{type:"pipe",value:[{type:"wildcard",value:t}].concat(n.map(o.bind(null,r)))}}function t(r){var e=r.substr(1);var n;if(e.indexOf(":")>=0){var t=e.split(":");n=t[0];e=t[1]}var a={type:"reference",value:e};if(n){a.namespace=n}return a}function a(r,e){var n=e.split("/");var t="relative";if(n[0]===""){t="absolute";n.shift()}if(n[0]==="."){n.shift()}return{type:"path",pathType:t,value:n.map(u.bind(null,r))}}function i(r,e){if(e.charAt(0)==="{"&&e.charAt(e.length-1)==="}"){return i(r,h(e))}if(e.indexOf(".")===0||e.indexOf("/")===0){return a(r,e)}if(e.charAt(0)==="'"&&e.charAt(e.length-1)==="'"){return s(h(e))}if(e.charAt(0)==="&"){return t(e)}return{type:"reference",value:e,namespace:r}}function u(r,e){if(e.charAt(0)==="{"&&e.charAt(e.length-1)==="}"){return i(r,h(e))}return{type:"literal",value:e}}function s(r){return{type:"literal",value:r}}function o(r,e){var n=e.split(/[(\s]/)[0];var t=d(e,n);t=t.replace(/^\s+/,"");var a="";if(t.charAt(0)==="("){var u=t.search(/([)]\s)|([)]$)/);if(u===-1){throw new Error("Cannot find termination of function '"+t+"' in '"+e+"'")}a=t.substr(1,u-1);t=d(t,"("+a+")");t=t.replace(/^\s+/,"")}var s=t;return{type:"function",name:n,args:f(r,a,",").map(function(r){return r.charAt(0)==="{"?h(r):"'"+r+"'"}).map(i.bind(null,r)),params:f(r,s,",").map(i.bind(null,r))}}function f(r,e,n){if(!e){return[]}var t=e.split(n).reduce(function(r,e,t){if(t===0){r.push(e);return r}var a=r.length-1;var i=r[a];var u=i.length>0&&i.charAt(i.length-1)==="\\";var s="";if(u){s=r.pop();s=s.substr(0,s.length-1)+n}r.push(s+e);return r},[]);return t}function v(r,n){var t=n;var a=null;if(Object.prototype.toString.apply(n)==="[object Object]"){t=n.value;a=n.renameTo}var i=g(t);if(i){return s(t)}var u="expression";var o=e(r,t);var f={type:u,value:o};if(a){o.renameTo=a}return f}function c(r){var e=r.indexOf("{")===0;var n=p();var t=n.exec(r);if(!t){if(e){throw new Error("Expression was expected. But "+r+" does not look like a valid expression")}return null}return t[1]}function p(){var e="[a-zA-Z0-9]+?:";var n="((&("+e+")?)?[.a-zA-Z0-9_-]+?)";var t="('(.*?)')";var a="([^' ]*?)";var i="{("+n+")}";var u="("+"[.]?([/]("+n+"|"+i+"))+"+")";var s="("+u+"|"+t+"|"+n+"|"+i+")";var o="("+s+"(,"+s+")*)";var f="("+a+"|"+i+")";var v="("+f+"(,"+f+")*)";var c="("+"[(]"+v+"[)]"+")?";var p=r.getPossibleFunctionsRegExpString();var l="("+"("+p+")"+"("+c+")"+")";var h="([*]([|]"+l+")*)";var d="^{("+h+"|"+"(("+l+")([ ]("+o+"))?)"+"|"+"("+s+")"+")}$";var g=new RegExp(d);return g}function l(r){return c(r)!==null}function h(r){var e=r.split("");e.shift();e.pop();return e.join("")}function d(r,e){if(r.indexOf(e)===0){return r.substr(e.length)}throw new Error("Given string does not start with prefix '"+e+"'")}function g(r){return typeof r==="string"&&!l(r)}function x(r,e){return Object.keys(r).reduce(function(n,t){var a=r[t];n[t]=v(e,a);return n},{})}function m(r,e){return Object.keys(r).reduce(function(e,n){var t=r[n];e[n]=s(t);return e},{})}return{parseTemplateParameterSet:x,parseTemplateParameterSetAsLiterals:m,parsePath:a,_isExpression:l,_parseList:f,_parseParameterValue:v}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/utils", ["sap/base/util/deepExtend"],function(e){"use strict";function r(e){return e!==null&&typeof e!=="undefined"}function t(e){return Object.keys(e).reduce(function(r,t){var n=e[t];if(Object.prototype.toString.apply(n)==="[object Array]"){r[t]=n[0]}else if(typeof n==="string"){r[t]=n}else{throw new Error("Parameters should be passed as strings or array of strings")}return r},{})}function n(r,t){var n=e({},r);var u=e({},t);return Object.keys(u).reduce(function(e,r){e[r]=u[r];return e},n)}return{mergeObject:n,hasValue:r,removeArrayParameterNotation:t}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications", ["sap/base/util/ObjectPath"],function(t){"use strict";var n={};n.getId=function(n){return t.get(["sap.app","id"],n)};n.getTitle=function(n){return t.get(["sap.app","title"],n)};n.getSubTitle=function(n){return t.get(["sap.app","subTitle"],n)};n.getIcon=function(n){return t.get(["sap.ui","icons","icon"],n)};n.getInfo=function(n){return t.get(["sap.app","info"],n)};n.getKeywords=function(n){return t.get(["sap.app","tags","keywords"],n)};n.getContentProviderId=function(n){return t.get(["sap.app","contentProviderId"],n)};n.getInbounds=function(n){return t.get(["sap.app","crossNavigation","inbounds"],n)};n.getInbound=function(n,e){return t.get(["sap.app","crossNavigation","inbounds",e],n)};n.getInboundTarget=function(n,e,i){var r=t.get([e],n)||{};var a=this.getInbound(r,i);if(!r||!a){return}return{semanticObject:a.semanticObject,action:a.action}};n.getTechnicalAttributes=function(n){return t.get(["sap.app","tags","technicalAttributes"],n)};return n});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppCommunicationMgr", ["sap/ushell/appRuntime/ui5/AppRuntimePostMessage","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/Log"],function(e,jQuery,s,t){"use strict";var n="sap.ushell.appRuntime.ui5.AppCommunicationMgr";var i,r=[],a=0;function o(){this.init=function(s){var t=this;i=e.getHandlers();t.handleMessageEvent=o.prototype._handleMessageEvent.bind(t,t);addEventListener("message",t.handleMessageEvent);if(s===true){t.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid");setInterval(function(){t.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid")},2500)}};this.destroy=function(){removeEventListener("message",this.handleMessageEvent)};this._handleMessageResponse=function(e){if(e.request_id&&r[e.request_id]){var s=r[e.request_id];delete r[e.request_id];if(e.status==="success"){s.resolve(e.body.result)}else{s.reject()}}};this._handleMessageRequest=function(e,r,a){var o=this,u=s.create("sap-ushell-config.services.PostMessage.config"),g=a&&a.service,d,c,l,p,f;t.debug("App Runtime received post message request from origin '"+r.origin+"': "+JSON.stringify(a),null,n);if(!g){return}if(u&&u.enabled===false){t.warning("App Runtime received message for "+c+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,n);return}if(!this._isTrustedPostMessageSource(e,r)){t.warning("App Runtime received message from untrusted origin '"+r.origin+"': "+JSON.stringify(r.data),null,n);return}if(g==="sap.ushell.services.MessageBroker"){g=g.concat("._execute")}if(g.indexOf(".")>0){d=g.split(".");l=d[d.length-1];c=g.substr(0,g.length-l.length-1)}else{t.warning("App Runtime received message with invalid service name ("+g+") :"+JSON.stringify(r.data),null,n);return}var h={oMessage:r,oMessageData:a,oContainer:e};try{p=i[c];f=p&&p.oServiceCalls[l];if(f&&f.executeServiceCallFn){f.executeServiceCallFn(h).then(function(e){var s=e&&e.hasOwnProperty("_noresponse_")?true:false;if(!s){o.sendResponseMessage(r,a,"success",{result:e})}},function(e){o.sendResponseMessage(r,a,"error",{message:e})})}else{t.warning("App Runtime received message with unknown service name ("+a.service+") :"+JSON.stringify(r.data),null,n)}}catch(e){t.warning("Error in processing message: "+e.message+") :"+JSON.stringify(r.data),null,n)}};this._getCFLPWindow=function(){return window.parent};this._isTrustedPostMessageSource=function(e,s){var t=false,n=e._getCFLPWindow();if(n){t=s.source===n}return t};this.sendResponseMessage=function(e,s,i,r){var a=JSON.stringify({type:"response",service:s.service,request_id:s.request_id,status:i,body:r});t.debug("Sending post message response to origin ' "+e.origin+"': "+a,null,n);if(typeof e.source!=="object"||e.source===null){t.debug("Cannot send response message to origin ' "+e.origin,"`source` member of request message is not an object",n);return}e.source.postMessage(a,e.origin)};this._getTargetWindow=function(){return window.parent};this.postMessage=function(e){var s,n=this._getTargetWindow();if(e){try{if(e.type==="request"&&!e.request_id){e.request_id=this.getId()}s=JSON.stringify(e);n.postMessage(s,"*")}catch(s){t.error("Message '"+e+"' cannot be posted: "+s,"sap.ui5Isolation.AppCommunicationMgr")}}};this.sendMessageToOuterShell=function(e,s,t,n,i){var a=new jQuery.Deferred,o={type:"request",service:e,body:s||{},request_id:t};this.postMessage(o);r[o.request_id]=a;if(n){setTimeout(function(){a.resolve(i)},n)}return a.promise()};this.getId=function(){return"SAPUI5_APPRUNTIME_MSGID_"+ ++a}}o.prototype._handleMessageEvent=function(e,s){if(s===undefined){return}var i=s.data;if(typeof i==="string"){try{i=JSON.parse(s.data,this)}catch(e){t.debug("Message received from origin '"+s.origin+"' cannot be parsed: "+e,i,n);return}}if(i.type==="request"){return e._handleMessageRequest(e,s,i)}else if(i.type==="response"){return e._handleMessageResponse(i)}};return new o});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimeContext", ["sap/base/assert"],function(t){"use strict";function e(){var t=false,e="",n;this.setAppLifeCycleAgent=function(t){n=t};this.setIsScube=function(e){t=e};this.getIsScube=function(){return t};this.setRemoteSystemId=function(t){e=t};this.getRemoteSystemId=function(){return e};this.checkDataLossAndContinue=function(){return n?n.checkDataLossAndContinue():true}}return new e});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimePostMessage", ["sap/base/util/deepExtend","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface"],function(e,i){"use strict";var n={};function t(){this.getHandlers=function(){return n};this.registerCommHandlers=function(i){var t=[];Object.keys(i).forEach(function(e){var n=i[e];if(n.oServiceCalls){Object.keys(n.oServiceCalls).forEach(function(i){t.push({action:i,service:e})})}});e(n,i);return t};this.registerCommunicationHandler=function(e,i){var t=n[e],r=[];if(!t){t=n[e]={oServiceCalls:{}}}if(i.oServiceCalls){Object.keys(i.oServiceCalls).forEach(function(n){t.oServiceCalls[n]=i.oServiceCalls[n];r.push({action:n,service:e})})}return r};this.registerCommunicationHandlers=function(e){var i=this;Object.keys(e).forEach(function(n){i.registerCommunicationHandler(n,e[n])})};this._getPostMesageInterface=function(e,i){var t=n[e],r;if(t&&t.oRequestCalls&&t.oRequestCalls[i]){r=t.oRequestCalls[i]}return r}}var r=new t;i.init(false,r.registerCommunicationHandlers.bind(r));return r});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI", ["sap/ushell/appRuntime/ui5/AppRuntimePostMessage","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(){this.getHandlers=function(){return e.getHandlers()};this.registerCommHandlers=function(t){var n=e.registerCommHandlers(t);s.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.subscribe",n)};this.registerCommunicationHandler=function(t,n){var i=e.registerCommunicationHandler(t,n);s.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.subscribe",i)};this._getPostMesageInterface=function(s,t){return e._getPostMesageInterface(s,t)}}return new t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimeService", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],function(e){"use strict";function n(){this.sendMessageToOuterShell=function(n,u,s,t,i){return e.sendMessageToOuterShell(n,u,s,t,i)}}return new n});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/SessionHandlerAgent", ["sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/URI","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,s,i,jQuery){"use strict";function n(){this.init=function(){var t=this;e.registerCommunicationHandler("sap.ushell.sessionHandler",{oServiceCalls:{logout:{executeServiceCallFn:function(e){return t.handleLogoutEvent(e)}},extendSessionEvent:{executeServiceCallFn:function(e){return t.handleExtendSessionEvent(e)}}}});this.attachUserEvents();this.userActivityHandler()};this.handleLogoutEvent=function(){var e=new jQuery.Deferred,t=this;this.detachUserEvents();sap.ushell.Container.getFLPUrl(true).then(function(s){if(t.isSameDomain(s,document.URL)===false){sap.ushell.Container.logout().then(e.resolve,e.resolve)}else{e.resolve()}});return e.promise()};this.isSameDomain=function(e,t){var n,o,r=false;try{n=new s(e);o=new s(t);if(n.origin()===o.origin()){r=true}}catch(s){i.error("Check for same domain of iframe and FLP failed: "+e+" "+t,s,"sap.ushell.appRuntime.ui5.SessionHandlerAgent")}return r};this.handleExtendSessionEvent=function(){sap.ushell.Container.sessionKeepAlive();return(new jQuery.Deferred).resolve().promise()};this.attachUserEvents=function(){jQuery(document).on("mousedown.sessionTimeout mousemove.sessionTimeout",this.userActivityHandler.bind(this));jQuery(document).on("keyup.sessionTimeout",this.userActivityHandler.bind(this));jQuery(document).on("touchstart.sessionTimeout",this.userActivityHandler.bind(this))};this.detachUserEvents=function(){jQuery(document).off("mousedown.sessionTimeout mousemove.sessionTimeout");jQuery(document).off("keydown.sessionTimeout");jQuery(document).off("touchstart.sessionTimeout")};this.userActivityHandler=function(e){if(this.oUserActivityTimer!==undefined){return}var s=this;this.oUserActivityTimer=setTimeout(function(){t.sendMessageToOuterShell("sap.ushell.sessionHandler.notifyUserActive",{});s.oUserActivityTimer=undefined},1e3)}}var o=new n;return o});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/performance/FesrEnhancer", ["sap/ui/performance/trace/FESR","sap/ui/performance/trace/Interaction","sap/ushell/utils/type"],function(e,t,r){"use strict";var n={_fnOriginalOnBeforeCreated:undefined,_currentAppShortId:undefined,init:function(){if(e.getActive()){this._fnOriginalOnBeforeCreated=e.onBeforeCreated;e.onBeforeCreated=this._onBeforeCreatedHandler.bind(this)}},_onBeforeCreatedHandler:function(e,t){if(this._currentAppShortId){e.appNameShort=this._currentAppShortId}if(e.interactionType===1&&(e.stepName==="undetermined_startup"||e.stepName==="undetermined_appruntime_app_startup")){e.stepName="APPRT@APP_START"}return e},reset:function(){if(e.getActive()){e.onBeforeCreated=this._fnOriginalOnBeforeCreated;this.setAppShortId()}},startInteraction:function(){if(e.getActive()){t.start("appruntime_app_startup")}},setAppShortId:function(t){function n(e,t){var n=e.getManifestEntry(t)||[];if(!r.isArray(n)){n=[n]}return typeof n[0]==="string"?n[0]:undefined}if(e.getActive()){try{if(t){var i=t.getInstance().getComponentData().technicalParameters||{},a=t.getMetadata();this._currentAppShortId=i["sap-fiori-id"]||n(a,"/sap.fiori/registrationIds")}else{this._currentAppShortId=undefined}}catch(e){this._currentAppShortId=undefined}}}};return n},true);
/*!
 * Copyright (c) 2009-2023 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils", ["sap/base/util/ObjectPath"],function(e){"use strict";var t={getAppLifeCycleService:function(){var e=t.getContainer();return e.getServiceAsync("AppLifeCycle").catch(function(e){var t="Error getting AppLifeCycle service from ushell container: "+e;throw new Error(t)})},getContainer:function(){var t=e.get("sap.ushell.Container");if(!t){throw new Error("Illegal state: shell container not available; this component must be executed in a unified shell runtime context.")}return t},getCurrentRunningApplication:function(){return t.getAppLifeCycleService().then(function(e){return e.getCurrentApplication()})}};return t});
/*!
 * Copyright (c) 2009-2023 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus", function(){"use strict";return{STATUS_STARTING:"starting",STATUS_STARTED:"started",STATUS_STOPPING:"stopping",STATUS_STOPPED:"stopped"}},true);
/*!
 * Copyright (c) 2009-2023 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions", ["sap/base/util/UriParameters","sap/ui/Device","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(e,t,n){"use strict";var a={_getAppDescriptor:function(e){if(e&&e.getMetadata){var t=e.getMetadata();if(t&&t.getManifest){return t.getManifest()}}return{}},checkRestartRTA:function(t){var n=e.fromQuery(window.location.search);var a=n.get("sap-ui-layer");t=a||t;return!!window.sessionStorage.getItem("sap.ui.rta.restart."+t)},checkUI5App:function(){return n.getCurrentRunningApplication().then(function(e){if(e){var t=e.applicationType==="UI5";var n=e.componentInstance&&e.componentInstance.getManifestEntry&&e.componentInstance.getManifestEntry("sap.app").type==="application";return t&&n}return false})},checkDesktopDevice:function(){return t.system.desktop}};return a},true);
/*!
 * Copyright (c) 2009-2023 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer", ["sap/base/Log","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(e,n){"use strict";var t={getRenderer:function(e){var t=n.getContainer();return new Promise(function(n,r){var i=t.getRenderer();if(i){e.oRenderer=i;n(i)}else{e._onRendererCreated=function(t){i=t.getParameter("renderer");if(i){e.oRenderer=i;n(i)}else{r("Illegal state: shell renderer not available after recieving 'rendererCreated' event.")}};t.attachRendererCreatedEvent(e._onRendererCreated,e)}})},createActionButton:function(n,t,r){return this.getRenderer(n).then(function(e){e.addActionButton("sap.ushell.ui.launchpad.ActionItem",{id:n.mConfig.id,text:n.mConfig.i18n.getText(n.mConfig.text),icon:n.mConfig.icon,press:t,visible:r},true,false,[e.LaunchpadState.App])}).catch(function(t){e.error(t,undefined,n.mConfig.sComponentName)})},exit:function(){}};return t},true);
/*!
 * Copyright (c) 2009-2023 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger", ["sap/ui/thirdparty/hasher","sap/ui/core/BusyIndicator","sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(t,i,e,s){"use strict";var r=e.STATUS_STARTING;var n=e.STATUS_STARTED;var o=e.STATUS_STOPPING;var a=e.STATUS_STOPPED;var h=function(t){this.mConfig=t;this.sStatus=e.STATUS_STOPPED;this.oStartingPromise=null;this.oStoppingPromise=null;var i=s.getContainer();i.registerDirtyStateProvider(this._dirtyStateProvider.bind(this));this.oInitPromise=i.getServiceAsync("URLParsing").then(function(t){this.oURLParsingService=t}.bind(this)).catch(function(t){throw new Error("Error during retrieval of URLParsing ushell service: "+t)})};function u(){return new Promise(function(t,i){sap.ui.require(["sap/ui/rta/api/startAdaptation"],t,i)})}function p(){return s.getCurrentRunningApplication().then(function(t){return t.componentInstance})}function l(t,i){var e;if(t instanceof Error){e=i.getText("TECHNICAL_ERROR")}else if(typeof t==="string"){e=t}sap.ui.require(["sap/ui/rta/Utils","sap/m/MessageBox"],function(t,s){s.error(e,{title:i.getText("ERROR_TITLE"),onClose:null,styleClass:t.getRtaStyleClassName()})})}h.prototype.getInitPromise=function(){return this.oInitPromise};h.prototype._onRtaFailed=function(t){i.hide();this._oRTA=t.getSource();this.mConfig.onErrorHandler();l(t.getParameter("error"),this.mConfig.i18n)};h.prototype._startRta=function(){this.sStatus=r;sap.ui.getCore().getEventBus().subscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this);i.show(0);var e;return p().then(function(t){e=t;return sap.ui.getCore().loadLibrary("sap.ui.rta",{async:true})}).then(u.bind(this)).then(function(i){this.sOldHash=t.getHash();var s={rootControl:e,flexSettings:{layer:this.mConfig.layer,developerMode:this.mConfig.developerMode}};return i(s,this.mConfig.loadPlugins,this.mConfig.onStartHandler,this._onRtaFailed.bind(this),this.mConfig.onStopHandler)}.bind(this)).then(function(t){i.hide();this._oRTA=t;this.sStatus=n}.bind(this)).catch(function(t){i.hide();if(t.reason==="flexEnabled"){this.handleFlexDisabledOnStart()}else if(t==="Reload triggered"){this.sStatus=a}}.bind(this))};h.prototype._stopRta=function(){this.sStatus=o;return this._oRTA.stop.apply(this._oRTA,arguments).then(function(){this.exitRta()}.bind(this))};h.prototype.triggerStartRta=function(){var t=this.sStatus;switch(t){case r:break;case n:this.oStartingPromise=Promise.resolve();break;case o:this.oStartingPromise=this.oStoppingPromise.then(function(){return this._startRta()}.bind(this));break;case a:this.oStartingPromise=this._startRta();break;default:}if(t!==r){this.oStartingPromise.then(function(){this.oStartingPromise=null}.bind(this))}return this.oStartingPromise};h.prototype.triggerStopRta=function(){var t=this.sStatus;switch(t){case r:this.oStoppingPromise=this.oStartingPromise.then(function(){return this._stopRta.apply(this,arguments)}.bind(this));break;case n:this.oStoppingPromise=this._stopRta.apply(this,arguments);break;case o:break;case a:this.oStoppingPromise=Promise.resolve();break;default:}if(t!==o){this.oStoppingPromise.then(function(){this.oStoppingPromise=null}.bind(this))}return this.oStoppingPromise};h.prototype.handleFlexDisabledOnStart=function(){sap.ui.require(["sap/ui/rta/util/showMessageBox","sap/m/MessageBox"],function(t,i){t(this.mConfig.i18n.getText("MSG_FLEX_DISABLED"),{icon:i.Icon.INFORMATION,title:this.mConfig.i18n.getText("HEADER_FLEX_DISABLED"),actions:[i.Action.OK],initialFocus:null,isCustomAction:false})}.bind(this))};h.prototype._dirtyStateProvider=function(){if(this._oRTA&&this.sStatus===n){var i=t.getHash();var e=this.oURLParsingService.parseShellHash(i);var s=this.oURLParsingService.parseShellHash(this.sOldHash);this.sOldHash=i;if(e.semanticObject===s.semanticObject&&e.action===s.action&&e.appSpecificRoute!==s.appSpecificRoute){return false}return this._oRTA.canSave()}return false};h.prototype.exitRta=function(){if(this._oRTA){this._oRTA.destroy();this.sStatus=a;this.oStartingPromise=null;this.oStoppingPromise=null;this._oRTA=null}sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this)};h.prototype._onAppClosed=function(){this.triggerStopRta(true,true)};return h},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaAgent/Component", ["sap/ui/core/Component","sap/ui/fl/write/api/FeaturesAPI","sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer","sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger","sap/base/Log"],function(e,t,i,n,s,r,o){"use strict";var a;function u(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",layer:"CUSTOMER",developerMode:false}}function p(e){return new Promise(function(t,i){a.postMessageToFlp("user.postapi.rtaPlugin","switchToolbarVisibility",{visible:e}).done(t).fail(i)})}function h(){return new Promise(function(e,t){a.postMessageToFlp("user.postapi.rtaPlugin","activatePlugin").done(e).fail(t)})}function l(){return i.checkUI5App().then(function(e){if(e){a.postMessageToFlp("user.postapi.rtaPlugin","showAdaptUI").fail(function(e){throw new Error(e)})}})}function d(){this.oTrigger.triggerStopRta(true,true)}return e.extend("sap.ushell.appRuntime.ui5.plugins.rtaAgent.Component",{metadata:{manifest:"json"},init:function(){this.mConfig=u();this._oPluginPromise=Promise.resolve();a=this.getComponentData().oPostMessageInterface;return t.isKeyUser().then(function(e){if(e){return h()}return Promise.reject()}).then(function(){this.mConfig.i18n=this.getModel("i18n").getResourceBundle();this.mConfig.onStartHandler=this._onStartHandler.bind(this);this.mConfig.onErrorHandler=this._onErrorHandler.bind(this);this.mConfig.onStopHandler=this._onStopHandler.bind(this);this.oTrigger=new r(this.mConfig);return this.oTrigger.getInitPromise()}.bind(this)).then(function(){this._registerPostMessages();return this._restartRtaIfRequired()}.bind(this)).then(function(){return n.getAppLifeCycleService()}).then(function(e){e.attachAppLoaded(this._onAppLoaded,this);return s.getRenderer(this)}.bind(this)).then(function(e){this.oRenderer=e}.bind(this)).then(l).catch(function(e){if(e){o.error(e)}})},getPluginPromise:function(){return this._oPluginPromise},_registerPostMessages:function(){a.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{startUIAdaptation:{executeServiceCallFn:function(){sap.ui.getCore().getEventBus().subscribe("sap.ushell","appClosed",d.bind(this));this.oRenderer.addTopHeaderPlaceHolder();this.oTrigger.triggerStartRta(this);return a.createPostMessageResult()}.bind(this)}},outCalls:{activatePlugin:{},showAdaptUI:{}}}})},_restartRtaIfRequired:function(){return i.checkUI5App().then(function(e){if(e){if(i.checkRestartRTA(this.mConfig.layer)){return p(false).then(function(){this.oRenderer.addTopHeaderPlaceHolder();return this.oTrigger.triggerStartRta(this)}.bind(this))}}return undefined}.bind(this))},_onAppLoaded:function(){i.checkUI5App().then(function(e){if(e){this._restartRtaIfRequired().then(function(){return l()})}}.bind(this))},_onStopHandler:function(){this._exitAdaptation()},_onStartHandler:function(){},_onErrorHandler:function(){this._exitAdaptation()},_exitAdaptation:function(){sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","appClosed",d.bind(this));p(true);this.oTrigger.exitRta();this.oRenderer.removeTopHeaderPlaceHolder()},exit:function(){sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","appClosed",d.bind(this));p(true);this._oPluginPromise=this._oPluginPromise.then(n.getAppLifeCycleService.bind(n)).then(function(e){e.detachAppLoaded(this._onAppLoaded,this)}.bind(this))}})});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaShell/Component", ["sap/ui/core/Component","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ui/thirdparty/jquery"],function(e,t,i,jQuery){"use strict";var n;function s(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaShell",layer:"CUSTOMER",id:"RTA_AppRuntime_Plugin_ActionButton",text:"RTA_BUTTON_TEXT",icon:"sap-icon://wrench",visible:false}}function r(e,t){if(e){e.setHeaderVisibility(t,false)}}function a(e){return new Promise(function(t,i){r(e,false);n.postMessageToApp("user.postapi.rtaPlugin","startUIAdaptation").done(t).fail(i)})}return e.extend("sap.ushell.appRuntime.ui5.plugins.rtaShell.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){this.mConfig=s();n=this.getComponentData().oPostMessageInterface;this._registerPostMessages()},_registerPostMessages:function(){n.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{activatePlugin:{executeServiceCallFn:function(){return n.createPostMessageResult(this._initPlugin())}.bind(this)},showAdaptUI:{executeServiceCallFn:function(){this._changeActionButtonVisibility(true);return n.createPostMessageResult()}.bind(this)},switchToolbarVisibility:{executeServiceCallFn:function(e){var t=e.oMessageData.body.visible;r(this.oRenderer,t);return n.createPostMessageResult()}.bind(this)}},outCalls:{startUIAdaptation:{}}}})},_initPlugin:function(){if(this.bIsInitialized){return(new jQuery.Deferred).resolve()}this.bIsInitialized=true;this.mConfig.i18n=this.getModel("i18n").getResourceBundle();return new jQuery.Deferred(function(e){t.getRenderer(this).then(function(e){this.oRenderer=e}.bind(this)).then(function(){return t.createActionButton(this,a.bind(undefined,this.oRenderer),this.mConfig.visible)}.bind(this)).then(function(){return i.getAppLifeCycleService()}).then(function(e){e.attachAppLoaded(this._onAppLoaded,this)}.bind(this)).catch(function(e){this.bIsInitialized=false;return Promise.reject(e)}.bind(this)).then(e.resolve,e.reject)}.bind(this)).promise()},_changeActionButtonVisibility:function(e){var t=sap.ui.getCore().byId(this.mConfig.id);if(t){t.setVisible(e)}},_onAppLoaded:function(){this._changeActionButtonVisibility(false)},exit:function(){if(this.oRenderer){r(this.oRenderer,false)}return i.getAppLifeCycleService().then(function(e){e.detachAppLoaded(this._onAppLoaded,this);if(this._onRendererCreated){var t=i.getContainer();t.detachRendererCreatedEvent(this._onRendererCreated,this)}}.bind(this))}})});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/scriptAgent/Component", ["sap/ui/core/Component","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,a,jQuery,t){"use strict";return e.extend("sap.ushell.appRuntime.ui5.plugins.scriptAgent.Component",{init:function(){var e=this.getComponentData(),s=(new a).search(true),n;if(!e.hasOwnProperty("config")){return}if(e.config.hasOwnProperty("scube")){if(s.hasOwnProperty("sap-wa-debug")&&s["sap-wa-debug"]==="dev"){n="https://education3.hana.ondemand.com/education3/web_assistant/framework/FioriAgent.js"}else if(s.hasOwnProperty("sap-wa-debug")&&s["sap-wa-debug"]==="prev"){n="https://webassistant-outlook.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}else{n="https://webassistant.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}}else{n=e.config.url}jQuery.ajaxSetup({cache:true});try{jQuery.getScript(n)}catch(e){t.error(e)}jQuery.ajaxSetup({cache:false})}})});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent", ["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){"use strict";var t=function(){this.init=function(){document.addEventListener("keydown",function(t){var y=false,i;if(t.altKey&&!t.ctrlKey&&!t.shiftKey){if(t.keyCode===65||t.keyCode===70||t.keyCode===72||t.keyCode===77||t.keyCode===78||t.keyCode===83){y=true}}else if(t.ctrlKey&&!t.altKey&&!t.shiftKey){if(t.keyCode===188||t.keyCode===112||t.keyCode===83){y=true}}else if(t.ctrlKey&&t.shiftKey&&!t.altKey){if(t.keyCode===70){y=true}}if(y){i={altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,keyCode:t.keyCode,key:t.key};if(t.keyCode===188){i.key=","}e.sendMessageToOuterShell("sap.ushell.services.ShellUIService.processHotKey",i)}}.bind(this),true)}};return new t},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer", ["sap/base/util/ObjectPath","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions"],function(e,t,r,jQuery){"use strict";var s=[];function n(){var n=this;e.set("sap.ushell.renderers.fiori2.Renderer",n);["init","createContent","createExtendedShellState","applyExtendedShellState","showLeftPaneContent","showHeaderItem","showRightFloatingContainerItem","showRightFloatingContainer","showToolAreaItem","showFloatingActionButton","showHeaderEndItem","setHeaderVisibility","showSubHeader","showSignOutItem","showSettingsItem","setFooter","setShellFooter","setFooterControl","hideHeaderItem","removeToolAreaItem","removeRightFloatingContainerItem","hideLeftPaneContent","hideFloatingActionButton","hideSubHeader","removeFooter","getCurrentViewportState","addShellSubHeader","addSubHeader","addUserAction","addActionButton","addFloatingButton","addFloatingActionButton","addSidePaneContent","addLeftPaneContent","addHeaderItem","addRightFloatingContainerItem","addToolAreaItem","getModelConfiguration","addUserPreferencesEntry","addUserPreferencesGroupedEntry","setHeaderTitle","setLeftPaneVisibility","showToolArea","setHeaderHiding","setFloatingContainerContent","setFloatingContainerVisibility","getFloatingContainerVisiblity","getRightFloatingContainerVisibility","setFloatingContainerDragSelector","createTriggers","convertButtonsToActions","createItem","addEntryInShellStates","removeCustomItems","addCustomItems","addRightViewPort","addLeftViewPort","getShellController","getViewPortContainerCurrentState","ViewPortContainerNavTo","switchViewPortStateByControl","setUserActionsMenuSelected","getUserActionsMenuSelected","setNotificationsSelected","getNotificationsSelected","addShellDanglingControl","getShellConfig","reorderUserPrefEntries","addUserProfilingEntry","logRecentActivity","setCurrentCoreView","getCurrentCoreView"].forEach(function(e){n[e]=function(){r.error("'Renderer' api '"+e+"' is not supported when UI5 application is running inside an iframe (sap.ushell.appRuntime.ui5.renderers.fiori2.Renderer)")}});this.LaunchpadState={App:"app",Home:"home"};this._addButtonHandler=function(e,t){s[e]=t};this.handleHeaderButtonClick=function(e){if(s[e]!==undefined){s[e]()}};this.addHeaderItem=function(e,t,r,s,n){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];r=arguments[1];s=arguments[2];n=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderItem",t,r,s,n)};this.addHeaderEndItem=function(e,t,r,s,n){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];r=arguments[1];s=arguments[2];n=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderEndItem",t,r,s,n)};this.showHeaderItem=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.showHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.showHeaderEndItem=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.showHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderItem=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.hideHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderEndItem=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.hideHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this._addHeaderItem=function(e,r,s){if(r.click!==undefined){this._addButtonHandler(r.id,r.click)}else if(r.press!==undefined){this._addButtonHandler(r.id,r.press)}t.sendMessageToOuterShell(e,{sId:r.id,sTooltip:r.tooltip,sIcon:r.icon,iFloatingNumber:r.floatingNumber,bVisible:s,bCurrentState:true})};this.setHeaderTitle=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.setHeaderTitle",{sTitle:e})};this.setHeaderVisibility=function(e,r,s){t.sendMessageToOuterShell("sap.ushell.services.Renderer.setHeaderVisibility",{bVisible:e,bCurrentState:r,aStates:s})};this.createShellHeadItem=function(e){if(e.press!==undefined){this._addButtonHandler(e.id,e.press);delete e.press}t.sendMessageToOuterShell("sap.ushell.services.Renderer.createShellHeadItem",{params:e})};this.showActionButton=function(e,r,s){t.sendMessageToOuterShell("sap.ushell.services.Renderer.showActionButton",{aIds:e,bCurrentState:r,aStates:s})};this.hideActionButton=function(e,r,s){t.sendMessageToOuterShell("sap.ushell.services.Renderer.hideActionButton",{aIds:e,bCurrentState:r,aStates:s})};this.addUserAction=function(e){if(e.oControlProperties.press!==undefined){this._addButtonHandler(e.oControlProperties.id,e.oControlProperties.press);delete e.oControlProperties.press}t.sendMessageToOuterShell("sap.ushell.services.Renderer.addUserAction",{oParameters:e})};this.addTopHeaderPlaceHolder=function(){if(jQuery("#rmheader").length===0){jQuery("body").prepend("<div id='rmheader' class='sapUshellHeaderPlaceHolder'></div>");jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","calc(100% - 2.75rem)")}};this.removeTopHeaderPlaceHolder=function(){jQuery("#rmheader").remove();jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","100%")};this.updateHeaderItem=function(e,r){return t.sendMessageToOuterShell("sap.ushell.services.Renderer.updateHeaderItem",{sId:e,oControlProperties:r})};this.destroyButton=function(e){return t.sendMessageToOuterShell("sap.ushell.services.Renderer.destroyButton",{aIds:e})}}return new n});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions", ["sap/base/util/ObjectPath","sap/base/util/uid","sap/ushell/EventHub","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/core/Core"],function(e,t,n,i,r){"use strict";function s(e){setTimeout(function(){r.getEventBus().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"})},0);n.emit("RendererLoaded",{rendererName:"fiori2"})}function o(e,t){setTimeout(function(){r.getEventBus().publish("sap.ushell.renderers.fiori2.Renderer",e,t)},0)}function u(e,t,n){}function a(e,t,n){}function d(e,t,n){}function c(e,t,n){}function f(e,n,r){var s=Array.isArray(e)?e:[e],o=[n],u=[];if(r!==undefined){o.push(r)}s.forEach(function(e){var n=t()+"-apprt";e.idAppRuntime=n;sap.ushell.renderers.fiori2.Renderer._addButtonHandler(n,function(){e.firePress()});u.push({id:n,text:e.getText(),icon:e.getIcon(),tooltip:e.getTooltip(),aStates:o})});return i.sendMessageToOuterShell("sap.ushell.services.Renderer.addOptionsActionSheetButton",u)}function h(e,t,n){var r=Array.isArray(e)?e:[e],s=[t],o=[];if(n!==undefined){s.push(n)}r.forEach(function(e){o.push({id:e.idAppRuntime,aStates:s})});return i.sendMessageToOuterShell("sap.ushell.services.Renderer.removeOptionsActionSheetButton",o)}function p(e,t,n){}function l(e,t){}function m(e,t,n){}function v(e,t,n){}function A(e,t,n){}function E(e,t,n){}function H(){return{}}function b(e,t,n,i){}function g(e,t){}function S(e){}function R(e){}function B(e){}function y(e,t){}function I(e){}function O(e){}function P(){}function T(){this.addHeaderItem=d;this.setHeaderItemVisibility=b;this.addSubHeader=u;this.removeSubHeader=a;this.addHeaderEndItem=A;this.removeHeaderItem=c;this.removeHeaderEndItem=E;this.addEndUserFeedbackCustomUI=g;this.addOptionsActionSheetButton=f;this.removeOptionsActionSheetButton=h;this.setFooter=O;this.removeFooter=P;this.addUserPreferencesEntry=S;this.addUserPreferencesGroupedEntry=R;this.setHeaderTitle=B;this.setHeaderHiding=I;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=m;this.removeFloatingActionButton=v;this.setLeftPaneContent=p;this.removeLeftPaneContent=l;this.setLeftPaneVisibility=y;this.getConfiguration=H}var L=new T;var C={publishExternalEvent:o,init:s};e.set("sap.ushell.renderers.fiori2.utils",C);e.set("sap.ushell.renderers.fiori2.RendererExtensions",L);return L});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppConfiguration", ["sap/base/util/ObjectPath","sap/m/library","sap/ui/core/IconPool","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/EventHub","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions","sap/ushell/resources","sap/ushell/services/AppConfiguration"],function(t,e,i,s,n,o,p,a){"use strict";var l=e.ButtonType;function u(){var e=[];var u=false;t.set("sap.ushell.services.AppConfiguration",this);a.constructor.call(this);n.on("appWidthChange").do(function(t){var e=document.body;e.classList.toggle("sapUiSizeCompact",t);e.classList.toggle("sapUShellApplicationContainerLimitedWidth",!t);e.classList.toggle("sapUShellApplicationContainer",!t)});this.setApplicationFullWidth=function(t){if(u===true||u==="true"){n.emit("appWidthChange",t)}else{s.sendMessageToOuterShell("sap.ushell.services.AppConfiguration.setApplicationFullWidth",{bValue:t})}};this.setFullWidthFromManifest=function(t){u=t};this.addApplicationSettingsButtons=function(t){for(var s=0;s<t.length;s++){var n=t[s];n.setIcon(n.getIcon()||i.getIconURI("customize"));if(p.i18n.getText("userSettings")===n.getProperty("text")){n.setProperty("text",p.i18n.getText("userAppSettings"))}n.setType(l.Unstyled)}o.removeOptionsActionSheetButton(e,"app").done(function(){e=t;o.addOptionsActionSheetButton(e,"app")})}}return new u},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent", ["sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/util/extend","sap/base/util/UriParameters","sap/ui/thirdparty/URI","sap/ui/Device","sap/ui/core/BusyIndicator","sap/ushell/appRuntime/ui5/performance/FesrEnhancer","sap/ushell/EventHub","sap/base/Log","sap/ui/thirdparty/hasher","sap/ui/core/Core","sap/ushell/utils/UrlParsing","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/assert","sap/ushell/resources"],function(e,t,s,n,a,r,i,p,o,u,l,f,c,h,d,g){"use strict";function m(){var m=this,A,v,C=true,y={},I,S={},b={},P={},R={},w,N,O,F,H;this.init=function(s,n,a,r,i,p){this.resetCurrentApp();A=s;I=n;N=a;if(r!==undefined){C=r}this.addAppInfoToCache(i,p);e.registerCommHandlers({"sap.ushell.services.appLifeCycle":{oServiceCalls:{create:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);return m.create(t)}},destroy:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);return m.destroy(t)}},store:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);return m.store(t)}},restore:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);return m.restore(t)}}}}});o.on("disableKeepAliveRestoreRouterRetrigger").do(function(e){if(e.componentId&&b[e.componentId]){b[e.componentId]=e.disable}});t.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.setup",{isStateful:true,isKeepAlive:true,isIframeValid:true,isIframeBusy:true});if(!g.browserI18n){g.browserI18n=g.getTranslationModel(window.navigator.language).getResourceBundle()}F=g.browserI18n.getText("dataLossExternalMessage");window.onbeforeunload=function(){if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getDirtyFlag()){return F}return undefined}};this.create=function(e){return new Promise(function(s,o){var u,g,A,v,C="",y;t.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsBusy",{bValue:true});p.startInteraction();u=e.body.sUrl;if(h.getIsScube()){A=n.fromURL(u).get("sap-remote-intent");d(typeof A==="string","AppLifeCycleAgent::create - sAppIntent must be string");if(e.body.sHash.indexOf("Shell-startIntent")===0){v=c.parseShellHash(e.body.sHash);C=v.params["sap-shell-so"]+"-"+v.params["sap-shell-action"]}}else{g=n.fromURL(u).get("sap-ui-app-id");d(typeof g==="string","AppLifeCycleAgent::create - sAppId must be string")}l.disableCFLPUpdate=true;l.replaceHash(e.body.sHash);l.disableCFLPUpdate=false;if(r.browser.chrome){i.show(0)}if(O){O._resetBackNavigationCallback()}f.getEventBus().publish("launchpad","appOpening",{});m.getAppInfo(g,u,A).then(function(e){if(h.getIsScube()&&C.length>0){y=Object.keys(S).find(function(t){return S[t].sAppIntent===C&&S[t].ui5ComponentName===e.oResolvedHashFragment.ui5ComponentName});if(y){m.destroy({body:{sCacheId:y}})}}m.expandSapIntentParams(new a(u).query(true)).then(function(n){I(g,n,e.oResolvedHashFragment,A,e.oParsedHash).then(function(e){N(e);t.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsBusy",{bValue:false});f.getEventBus().publish("sap.ushell","appOpened",{});s({deletedKeepAliveId:y})})})})})};this.destroy=function(e){function s(e){var t=e.sId||"<unkown>";try{e.destroy()}catch(e){u.error("exception when trying to close sapui5 application with id '"+t+"' when running inside the appruntim iframe '"+document.URL+"'. This error must be fixed in order for the iframe to operate properly.\n",e.stack,"sap.ushell.appRuntime.ui5.services.AppLifeCycleAgent::destroy")}}if(w.oApp===undefined){t.sendMessageToOuterShell("sap.ushell.appRuntime.isInvalidIframe",{bValue:true});return Promise.resolve()}var n=e.body.sCacheId;if(n&&S[n]){if(S[n].oApp===w.oApp){this.resetCurrentApp()}delete b[S[n].oApp.sId];s(S[n].oApp);delete S[n]}else if(w.oApp){delete b[w.oApp.sId];s(w.oApp);this.resetCurrentApp()}sap.ushell.Container.cleanDirtyStateProviderArray();if(O){O._resetBackNavigationCallback()}p.setAppShortId();f.getEventBus().publish("sap.ushell","appClosed",{});return Promise.resolve()};this.store=function(e){var s=e.body.sCacheId,n=this.cloneCurrentAppEntry(w),a;if(w.oApp===undefined){t.sendMessageToOuterShell("sap.ushell.appRuntime.isInvalidIframe",{bValue:true});return Promise.resolve()}S[s]=n;if(O){R[s]=O._getBackNavigationCallback()}a=n.oApp.getComponentInstance();n.oApp.setVisible(false);if(sap.ushell.Container){P[s]=sap.ushell.Container.getAsyncDirtyStateProviders();sap.ushell.Container.cleanDirtyStateProviderArray()}if(a){if(a.isKeepAliveSupported&&a.isKeepAliveSupported()===true){a.deactivate()}else{if(a.suspend){a.suspend()}if(a.getRouter&&a.getRouter()){a.getRouter().stop()}}}f.getEventBus().publish("sap.ushell","appClosed",{});return Promise.resolve()};this.restore=function(e){var s=e.body.sCacheId,n=S[s],a=n.oApp.getComponentInstance(),r=b[n.oApp.sId];l.disableCFLPUpdate=true;l.replaceHash(e.body.sHash);l.disableCFLPUpdate=false;f.getEventBus().publish("launchpad","appOpening",{});n.oApp.setVisible(true);if(P[s]&&sap.ushell.Container){sap.ushell.Container.setAsyncDirtyStateProviders(P[s])}if(O){O.setBackNavigation(R[s])}if(a){if(a.isKeepAliveSupported&&a.isKeepAliveSupported()===true){a.activate()}else{if(a.restore){a.restore()}if(a.getRouter&&a.getRouter()&&a.getRouter().initialize){if(r===false){a.getRouter().initialize()}else{a.getRouter().initialize(true)}}}w=this.cloneCurrentAppEntry(n)}f.getEventBus().publish("sap.ushell","appOpened",{});setTimeout(function(){t.sendMessageToOuterShell("sap.ushell.services.AppLifeCycle.setNewAppInfo",{info:n.oAppAttributes})},500);return Promise.resolve()};this.expandSapIntentParams=function(e){return new Promise(function(n,r){if(e.hasOwnProperty("sap-intent-param")){var i=e["sap-intent-param"];t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:i}).then(function(t){delete e["sap-intent-param"];var r=s({},e,new a("?"+t).query(true),true);n(r)},function(t){n(e)})}else{n(e)}})};this.addAppParamsToIntent=function(e,t){return m.expandSapIntentParams(new a(e).query(true)).then(function(e){return m.getApplicationParameters(e)})};this.getApplicationParameters=function(e){return new Promise(function(s){var n,r,i;function p(e,t){var s="";if(e&&e.length>0){s=(e.startsWith("?")?"":"?")+e}if(t&&t.length>0){s+=(s.length>0?"&":"?")+t}return s}if(e.hasOwnProperty("sap-startup-params")){n=new a("?"+e["sap-startup-params"]).query(true);if(n.hasOwnProperty("sap-intent-param")){r=n["sap-intent-param"];delete n["sap-intent-param"]}i=new a("?").query(n).toString();if(r){t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:r}).then(function(e){s(p(i,e))},function(e){s(p(i))})}else{s(p(i))}}else{s("")}})};this.getAppInfo=function(e,t,s){return new Promise(function(n){if(s){m.addAppParamsToIntent(t,s).then(function(e){if(e.length>0){e=new a(e).removeSearch("sap-remote-system").removeSearch("sap-ushell-defaultedParameterNames").toString()}sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(t){t.resolveHashFragmentLocal("#"+s+e).done(function(t){var a=c.parseShellHash("#"+s+e);n({oResolvedHashFragment:t,oParsedHash:a})}).fail(function(e){})})})}else{var r=function(){v.getAppInfo(e,t).then(function(t){m.addAppInfoToCache(e,t);n({oResolvedHashFragment:t})})};if(C===true&&y[e]){n({oResolvedHashFragment:JSON.parse(JSON.stringify(y[e]))})}else if(v){r()}else{sap.ui.require([A.replace(/\./g,"/")],function(e){v=e;r()})}}})};this.addAppInfoToCache=function(e,t){if(e&&t&&C===true&&y[e]===undefined){y[e]=JSON.parse(JSON.stringify(t))}};this.setCurrentApp=function(e,t,s){this.resetCurrentApp();w.oApp=e;w.sAppIntent=t;w.ui5ComponentName=s;if(w.oApp){b[w.oApp.sId]=true}};this.setCurrentAppAttributes=function(e){w.oAppAttributes=e};this.resetCurrentApp=function(){w={oApp:undefined,sAppIntent:undefined,ui5ComponentName:undefined,oAppAttributes:{}}};this.cloneCurrentAppEntry=function(e){return{oApp:e.oApp,sAppIntent:e.sAppIntent,ui5ComponentName:e.ui5ComponentName,oAppAttributes:e.oAppAttributes}};this.setShellUIService=function(e){O=e};this.setShellNavigationService=function(e){H=e};this.checkDataLossAndContinue=function(){if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getDirtyFlag(H.getNavigationContext())){if(window.confirm(F)){sap.ushell.Container.setDirtyFlag(false);return true}else{return false}}return true}}return new m},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppState", ["sap/ushell/services/AppState","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/AppState","sap/ushell/utils","sap/ui/thirdparty/jquery"],function(e,t,s,a,jQuery){"use strict";function p(a,p,n,r){e.call(this,a,p,n,r);this.createEmptyAppStateOrig=this.createEmptyAppState;this.createEmptyAppState=function(e,t,s,a){var p=this.createEmptyAppStateOrig(e,t,s,a);if(typeof t==="boolean"&&p._bTransient!==t){p._bTransient=t;p._sKey=this._getGeneratedKey(t)}return p};this.getAppState=function(e){var a=new jQuery.Deferred;t.sendMessageToOuterShell("sap.ushell.services.AppState.getAppState",{sKey:e}).done(function(e){sap.ushell.Container.getServiceAsync("AppState").then(function(t){var p=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient,e._iPersistencyMethod,e._oPersistencySettings);a.resolve(p)})});return a.promise()};this._saveAppState=function(e,s,a,p,n,r,i){return t.sendMessageToOuterShell("sap.ushell.services.AppState._saveAppState",{sKey:e,sData:s,sAppName:a,sComponent:p,bTransient:n,iPersistencyMethod:r,oPersistencySettings:i})};this._loadAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState._loadAppState",{sKey:e})};e.prototype.deleteAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.deleteAppState",{sKey:e})};this.getAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:e})};this.createNewInAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.createNewInAppState",{sData:e})};this.updateInAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.updateInAppState",{sData:e})};this.getInAppStateData=function(){return t.sendMessageToOuterShell("sap.ushell.services.AppState.getInAppStateData")};this.makeStatePersistent=function(e,s,a){return t.sendMessageToOuterShell("sap.ushell.services.AppState.makeStatePersistent",{sKey:e,iPersistencyMethod:s,oPersistencySettings:a})}}p.prototype=e.prototype;p.hasNoAdapter=e.hasNoAdapter;p.WindowAdapter=e.WindowAdapter;return p},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Bookmark", ["sap/ushell/services/Bookmark","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,o){"use strict";function s(s,r,t){e.call(this,s,r,t);this.addBookmark=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmarkUI5",{oParameters:e,vContainer:s})};this.getShellGroupIDs=function(){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.getShellGroupIDs")};this.addBookmarkByGroupId=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmark",{oParameters:e,groupId:s})};this.addCatalogTileToGroup=function(e,s,r){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCatalogTileToGroup",{sCatalogTileId:e,sGroupId:s,oCatalogData:r})};this.countBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.countBookmarks",{sUrl:e})};this.deleteBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteBookmarks",{sUrl:e})};this.updateBookmarks=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateBookmarks",{sUrl:e,oParameters:s})};this.getContentNodes=function(){var e=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.getContentNodes");return new Promise(function(o,s){e.done(function(e){o(e)}).fail(function(e){s(e)})})};this.addCustomBookmark=function(e,s,r){var t=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCustomBookmark",{sVizType:e,oConfig:s,vContentNodes:r});return new Promise(function(e,o){t.done(function(o){e(o)}).fail(function(e){o(e)})})};this.countCustomBookmarks=function(e){var s=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.countCustomBookmarks",{oIdentifier:e});return new Promise(function(e,o){s.done(function(o){e(o)}).fail(function(e){o(e)})})};this.updateCustomBookmarks=function(e,s){var r=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateCustomBookmarks",{oIdentifier:e,oConfig:s});return new Promise(function(e,o){r.done(function(o){e(o)}).fail(function(e){o(e)})})};this.deleteCustomBookmarks=function(e){var s=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteCustomBookmarks",{oIdentifier:e});return new Promise(function(e,o){s.done(function(o){e(o)}).fail(function(e){o(e)})})};this.addBookmarkToPage=function(e,s){return new Promise(function(r,t){o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmarkToPage",{oParameters:e,sPageId:s}).done(r).fail(t)})}}s.prototype=e.prototype;s.hasNoAdapter=e.hasNoAdapter;return s},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CommonDataModel", ["sap/ushell/services/CommonDataModel","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(t,o,n,a){e.call(this,t,o,n,a);this.getAllPages=function(){return new Promise(function(e){s.sendMessageToOuterShell("sap.ushell.services.CommonDataModel.getAllPages").done(e)})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Container", ["sap/ushell/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy","sap/ushell/appRuntime/ui5/SessionHandlerAgent"],function(e,n,t,r,i){"use strict";function s(){var e,r=false,s=[];this.bootstrap=function(a,u){return sap.ushell.bootstrap(a,u).then(function(a){e=sap.ushell.Container._getAdapter();sap.ushell.Container.inAppRuntime=function(){return true};sap.ushell.Container.runningInIframe=sap.ushell.Container.inAppRuntime;sap.ushell.Container.getFLPUrl=function(e){return n.sendMessageToOuterShell("sap.ushell.services.Container.getFLPUrl",{bIncludeHash:e})};sap.ushell.Container.getFLPUrlAsync=function(e){return sap.ushell.Container.getFLPUrl(e)};sap.ushell.Container.getRenderer=function(){return t};sap.ushell.Container.logout=function(){return e.logout()};sap.ushell.Container.getFLPPlatform=function(){return n.sendMessageToOuterShell("sap.ushell.services.Container.getFLPPlatform")};sap.ushell.Container.extendSession=function(){i.userActivityHandler()};sap.ushell.Container.setDirtyFlag=function(e){r=e};sap.ushell.Container.getDirtyFlag=function(e){return r||sap.ushell.Container.handleDirtyStateProvider(e)};sap.ushell.Container.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}s.push(e)};sap.ushell.Container.handleDirtyStateProvider=function(e){var n=false;if(s.length>0){for(var t=0;t<s.length&&n===false;t++){n=n||(s[t](e)||false)}}return n};sap.ushell.Container.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}var n=-1;for(var t=s.length-1;t>=0;t--){if(s[t]===e){n=t;break}}if(n>=0){s.splice(n,1)}};sap.ushell.Container.cleanDirtyStateProviderArray=function(){s=[];r=false};sap.ushell.Container.setAsyncDirtyStateProvider=function(){};sap.ushell.Container.getAsyncDirtyStateProviders=function(){return s};sap.ushell.Container.setAsyncDirtyStateProviders=function(e){s=e}})}}return new s},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CrossApplicationNavigation", ["sap/ushell/services/CrossApplicationNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/AppState","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/base/util/deepClone","sap/ushell/utils/UrlParsing"],function(e,s,t,jQuery,i,n,a,r){"use strict";function o(o,l,p){e.call(this,o,l,p);this.backToPreviousApp=function(){if(n.checkDataLossAndContinue()){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.backToPreviousApp")}};this.expandCompactHashLocal=this.expandCompactHash;this.expandCompactHash=function(e){if(n.getIsScube()){return this.expandCompactHashLocal(e)}return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.expandCompactHash",{sHashFragment:e})};this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){if(n.getIsScube()){return this.getDistinctSemanticObjectsLocal()}return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects")};this.getLinksLocal=this.getDistinctSemanticObjects;this.getLinks=function(e){var t=new jQuery.Deferred;function i(e){if(Array.isArray(e)){e.forEach(function(e){if(e[0]){delete e[0].ui5Component}})}else{delete e.ui5Component}}if(n.getIsScube()){this.getLinksLocal(e).then(function(n){i(e);s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getLinks",e).done(function(e){if(n.length===0){t.resolve(e)}else{e=e.concat(n);t.resolve(e)}})})}else{i(e);s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getLinks",e).done(t.resolve,t.reject)}return t.promise()};this.getPrimaryIntent=function(e,t){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent",{sSemanticObject:e,mParameters:t})};this.getSemanticObjectLinks=function(e,t,i,n,a,r){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{sSemanticObject:e,mParameters:t,bIgnoreFormFactor:i,sAppStateKey:a,bCompactIntents:r})};this.historyBack=function(e){if(n.checkDataLossAndContinue()){s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.historyBack",{iSteps:e})}};this.isIntentSupported=function(e,t){if(n.getIsScube()){var i=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(s){s.isIntentSupported(e,t).done(i.resolve,i.reject)});return i.promise()}return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{aIntents:e})};this.isNavigationSupported=function(e,t,i){var r=function(e){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{aIntents:e})};if(i===true){return r(e)}if(n.getIsScube()){var o=new jQuery.Deferred,l;l=e.map(function(e){if(typeof e==="object"){var s=e;if(e.params&&e.params.hasOwnProperty("sap-app-origin")){s=a(e);delete s.params["sap-app-origin"]}return s}return e});sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(e){e.isNavigationSupported(l,t).done(o.resolve,o.reject)});return o.promise()}return r(e)};this.toExternal=function(e,t){if(n.getIsScube()){if(e.target&&e.target.shellHash){var i=r.parseShellHash(e.target.shellHash);if(i.params){delete i.params["sap-app-origin"];e.target.shellHash=r.constructShellHash(i)}}else if(e.params){delete e.params["sap-app-origin"]}sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(s){s.toExternal(e,t)})}else if(n.checkDataLossAndContinue()){s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}return(new jQuery.Deferred).resolve().promise()};this.getAppState=function(e,i){var n=new jQuery.Deferred;s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppState",{sAppStateKey:i}).done(function(e){sap.ushell.Container.getServiceAsync("AppState").then(function(s){var i=new t(s,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);n.resolve(i)})});return n.promise()};this.resolveIntentLocal=this.resolveIntent;this.resolveIntent=function(e){if(n.getIsScube()){return this.resolveIntentLocal(e)}return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.resolveIntent",{sHashFragment:e})};this.hrefForExternalAsync=function(e){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForExternal",{oArgs:e})};this.hrefForAppSpecificHashAsync=function(e){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash",{sAppHash:e})};this.isInitialNavigation=function(){i.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");return false};this.isInitialNavigationAsync=function(){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isInitialNavigation",{})}}o.prototype=e.prototype;o.hasNoAdapter=e.hasNoAdapter;return o},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/LaunchPage", ["sap/ushell/services/LaunchPage","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(t,r,o){e.call(this,t,r,o);this.getGroupsForBookmarks=function(){return s.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getGroupsForBookmarks")}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Menu", ["sap/ushell/services/Menu","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(){e.call(this,arguments);this.getSpacesPagesHierarchy=function(){return new Promise(function(e){s.sendMessageToOuterShell("sap.ushell.services.Menu.getSpacesPagesHierarchy").done(e)})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/MessageBroker", ["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){"use strict";var s={};var n=function(){};n.prototype.connect=function(s){return new Promise(function(n,t){e.sendMessageToOuterShell("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:s,messageName:"connect"}).then(function(e){if(e.status==="accepted"){n(e.activeClients)}else{t()}})})};n.prototype.disconnect=function(n){delete s[n];e.sendMessageToOuterShell("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:n,messageName:"disconnect"})};n.prototype.subscribe=function(n,t,c,i){return new Promise(function(a,r){s[n]={fnMessageCallback:c,fnClientConnectionCallback:i};e.sendMessageToOuterShell("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:n,messageName:"subscribe",subscribedChannels:t}).then(function(e){if(e.status==="accepted"){a();if(e.activeClients){setTimeout(function(){e.activeClients.foreach(function(e){i("clientSubscribed",e.clientId,e.channels)})},1)}}else{r()}})})};n.prototype.unsubscribe=function(s,n){return new Promise(function(t,c){e.sendMessageToOuterShell("sap.ushell.services.MessageBroker",{channelId:"sap.ushell.MessageBroker",clientId:s,messageName:"unsubscribe",subscribedChannels:n}).then(function(e){if(e.status==="accepted"){t()}else{c()}})})};n.prototype.publish=function(s,n,t,c,i,a){e.sendMessageToOuterShell("sap.ushell.services.MessageBroker",{clientId:n,channelId:s,targetClientIds:i,messageName:c,data:a},t)};n.prototype.addAcceptedOrigin=function(e){};n.prototype.removeAcceptedOrigin=function(e){};n.prototype.getAcceptedOrigins=function(){};n.prototype.getAcceptedOrigins=function(){};n.prototype.handleMessage=function(e){return new Promise(function(n,t){if(e.channelId==="sap.ushell.MessageBroker"){if(e.messageName==="clientSubscribed"||e.messageName==="clientUnsubscribed"){Object.keys(s).forEach(function(n){s[n].fnClientConnectionCallback(e.messageName,e.clientId,e.channels)})}}n({_noresponse_:true});return})};n.hasNoAdapter=true;return n},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/NavTargetResolution", ["sap/ushell/services/NavTargetResolution","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery"],function(e,t,s,jQuery){"use strict";function n(n,r,i,a){e.call(this,n,r,i,a);this.getDistinctSemanticObjectsLocal=this.getDistinctSemanticObjects;this.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred,n=[],r;n.push(s.getIsScube()?this.getDistinctSemanticObjectsLocal():Promise.resolve([]));n.push(t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects"));Promise.allSettled(n).then(function(t){r=t[0].status==="fulfilled"?t[0].value:[];r=r.concat(t[1].status==="fulfilled"?t[1].value:[]);r=r.filter(function(e,t,s){return s.indexOf(e)==t}).sort();e.resolve(r)});return e.promise()};this.expandCompactHash=function(e){if(e&&e.indexOf("sap-intent-param")>0){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.expandCompactHash",{sHashFragment:e})}return(new jQuery.Deferred).resolve(e).promise()};this.resolveHashFragmentLocal=this.resolveHashFragment;this.resolveHashFragment=function(e){if(s.getIsScube()){var n=new jQuery.Deferred;this.resolveHashFragmentLocal(e).done(n.resolve).fail(function(){return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e}).done(n.resolve).fail(n.reject)});return n.promise()}else{return t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e})}};this.isIntentSupportedLocal=this.isIntentSupported;this.isIntentSupported=function(e){var n=new jQuery.Deferred,r=[],i,a;r.push(s.getIsScube()?this.isIntentSupportedLocal(e):Promise.resolve(undefined));r.push(t.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.isIntentSupported",{aIntents:e}));Promise.allSettled(r).then(function(t){i=t[0].status==="fulfilled"?t[0].value:undefined;a=t[1].status==="fulfilled"?t[1].value:undefined;if(i&&a){Object.keys(i).forEach(function(e){i[e].supported=i[e].supported||a[e].supported})}else if(i||a){i=i||a}else{i={};e.forEach(function(e){i[e]={supported:undefined}})}n.resolve(i)});return n.promise()}}n.prototype=e.prototype;n.hasNoAdapter=e.hasNoAdapter;return n},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ReferenceResolver", ["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){"use strict";function s(){this.resolveReferences=function(s,r){return e.sendMessageToOuterShell("sap.ushell.services.ReferenceResolver.resolveReferences",{aReferences:s})}}s.hasNoAdapter=true;return s});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellNavigation", ["sap/ushell/services/ShellNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ushell/utils/UrlParsing"],function(e,t,s,a){"use strict";function i(i,n,l){e.call(this,i,n,l);this.toExternal=function(e,i,n){if(!s.checkDataLossAndContinue()){return}if(s.getIsScube()){sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(i){var n=a.constructShellHash(e);i.isIntentSupportedLocal([n]).then(function(i){if(i[n].supported===true){if(e.target.shellHash){e=a.parseShellHash(e.target.shellHash);e.target={semanticObject:e.semanticObject,action:e.action};delete e["semanticObject"];delete e["action"]}e.params["sap-shell-so"]=e.target.semanticObject;e.params["sap-shell-action"]=e.target.action;e.params["sap-remote-system"]=s.getRemoteSystemId();e.target.semanticObject="Shell";e.target.action="startIntent";return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})})})}else{t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}};this.toAppHash=function(e,s){t.sendMessageToOuterShell("sap.ushell.services.ShellNavigation.toExternal",{sAppHash:e,bWriteHistory:s})}}i.prototype=e.prototype;i.hasNoAdapter=e.hasNoAdapter;return i},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellUIService", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","../../../ui5service/_ShellUIService/shelluiservice.class.factory","sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/thirdparty/jquery","sap/ushell/utils/UrlParsing","sap/ushell/utils/clone"],function(e,t,s,i,a,r,n,jQuery,l,c){"use strict";var u=i({serviceRegistry:e,serviceFactory:t,service:s});var o,p=false,h;var v=u.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(e){o=e;return r.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setTitle",{sTitle:e})},getTitle:function(){return o},setHierarchy:function(e){var t=function(e){r.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:e})};if(n.getIsScube()===true&&Array.isArray(e)&&e.length>0){f(e).then(function(e){t(e)});return}t(e)},setRelatedApps:function(e){var t=function(e){r.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:e})};if(n.getIsScube()===true&&Array.isArray(e)&&e.length>0){f(e).then(function(e){t(e)});return}t(e)},setBackNavigation:function(e){if(!p){p=true;a.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{handleBackNavigation:{executeServiceCallFn:function(e){if(h){h()}else if(n.checkDataLossAndContinue()){window.history.back()}return(new jQuery.Deferred).resolve().promise()}}}}})}h=e;r.sendMessageToOuterShell("sap.ushell.ui5service.ShellUIService.setBackNavigation",{callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}})},_getBackNavigationCallback:function(){return h},_resetBackNavigationCallback:function(){this.setBackNavigation()}});function f(e){return new Promise(function(t){var s=c(e);var i=[];var a;i=s.map(function(e){return{target:{shellHash:e.intent}}});sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.isNavigationSupported(i,undefined,true).then(function(e){for(var i=0;i<e.length;i++){if(!e[i].supported){a=l.parseShellHash(s[i].intent);a.params["sap-shell-so"]=a.semanticObject;a.params["sap-shell-action"]=a.action;a.params["sap-remote-system"]=n.getRemoteSystemId();a.semanticObject="Shell";a.action="startIntent";s[i].intent="#"+l.constructShellHash(a)}}t(s)})})})}return v});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/UserInfo", ["sap/ushell/services/UserInfo","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/util/ObjectPath"],function(e,s,t){"use strict";function r(t,r){e.call(this,t,r);this.getThemeList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getThemeList")};this.updateUserPreferences=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.updateUserPreferences",{language:sap.ushell.Container.getUser().getLanguage()})};this.getLanguageList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getLanguageList")};this.getShellUserInfo=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getShellUserInfo")}}t.set("sap.ushell.services.UserInfo",r);r.prototype=e.prototype;r.hasNoAdapter=e.hasNoAdapter;return r});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/ContainerAdapter", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/ushell/User","sap/ui/core/Configuration"],function(e,t,r,jQuery,s,o){"use strict";var i=function(i,n,a){var u,d,l,f,c,p;this.load=function(){var e;d=r.get("config.systemProperties.logoutUrl",a);l=r.get("config.systemProperties.logoutMethod",a)||"GET";f=r.get("config.systemProperties.csrfTokenUrl",a);c=r.get("config.systemProperties.sessionKeepAlive.url",a);p=r.get("config.systemProperties.sessionKeepAlive.method",a);e=t({id:""},r.get("config.userProfile.defaults",a));u=new s(e);g(e);return(new jQuery.Deferred).resolve().promise()};this.getSystem=function(){return i};this.getUser=function(){return u};this._getLogoutUrl=function(){return d};this._setWindowLocation=function(e){window.location.href=e};this.logout=function(){var t=new jQuery.Deferred,r=this;if(l==="POST"){e.info("performing logout from system via POST",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");jQuery.ajax({type:"HEAD",url:f,headers:{"X-CSRF-Token":"Fetch"},success:function(s,o,i){jQuery.ajax({type:"POST",url:d,headers:{"X-CSRF-Token":i.getResponseHeader("X-CSRF-Token")},success:function(e){r._setWindowLocation(e);t.resolve()},error:function(){e.error("Logging out via POST failed",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})},error:function(){e.error("fetching X-CSRF-Token for logout via POST failed for system: "+i.getAlias(),undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})}else{try{if(typeof d==="string"&&d.length>0){this._logoutViaHiddenIFrame(t,d);setTimeout(t.resolve,4e3)}else{t.resolve()}}catch(r){e.error("logout from iframe "+document.URL+" failed",r,"sap.ushell.appRuntime.ui5.SessionHandlerAgent");t.resolve()}}return t.promise()};this._logoutViaHiddenIFrame=function(e,t){var r=document.createElement("iframe"),s=t.replace(/"/g,'\\"');window.addEventListener("message",function(r){if((r.data&&r.data.url)===t){e.resolve()}});r.style.visibility="hidden";r.setAttribute("src",t);function o(){this.contentWindow.parent.postMessage({url:s,request_id:"dummy-logout-id"},"*")}r.addEventListener("load",o);r.addEventListener("error",o);document.body.appendChild(r)};this.sessionKeepAlive=function(){if(typeof c==="string"&&c.length>0&&typeof p==="string"&&p.length>0){var t=new XMLHttpRequest;t.open(p,c,true);t.onreadystatechange=function(){if(this.readyState===4){e.debug("Server session was extended")}};t.send()}};function g(e){var t=o.getFormatSettings();if(e.sapDateFormat){t.setLegacyDateFormat(e.sapDateFormat)}if(e.sapDateCalendarCustomizing){t.setLegacyDateCalendarCustomizing(e.sapDateCalendarCustomizing)}if(e.sapNumberFormat){t.setLegacyNumberFormat(e.sapNumberFormat)}if(e.sapTimeFormat){t.setLegacyTimeFormat(e.sapTimeFormat)}if(typeof e.currencyFormats==="object"){t.addCustomCurrencies(e.currencyFormats)}}};return i},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/EmptyAdapter", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var e=function(){this.getSite=function(){return(new jQuery.Deferred).resolve({}).promise()}};return e});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/Ui5ComponentLoaderAdapter", [],function(){"use strict";function n(){}return n},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/ui/UIProxy", ["sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/m/Button","sap/base/util/ObjectPath"],function(e,t,n){"use strict";function s(){n.set("sap.ushell.ui.shell.ShellHeadItem",function(t){var n=this;Object.keys(t).forEach(function(e){n[e]=t[e];n["get"+e[0].toUpperCase()+e.slice(1)]=function(){return t[e]}});e.createShellHeadItem(t)})}return new s});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.constants", [],function(){"use strict";return{uiDebugKey:"sap-ui-debug",bootScriptId:"sap-ui-bootstrap",bwcBootScriptId:"sap-ushell-bootstrap",configMetaPrefix:"sap.ushellConfig",ushellConfigNamespace:"sap-ushell-config"}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.create.configcontract.core", ["sap/ushell/bootstrap/common/common.debug.mode"],function(e){"use strict";var n={};function a(a){var o={};function r(e,n){var o=n.split("/");var r=o.slice(0,o.length-1).join("/");var i=o.pop();if(e.hasOwnProperty(r)){return e[r][i]}var s=o.reduce(function(e,n){if(!e||!e.hasOwnProperty(n)){return{}}return e[n]},a);e[r]=s;return s[i]}function i(e,a){var i=r(o,e);n[e]=a;return i!==undefined?i:a}function s(){var e="renderers/fiori2/componentData/config/enableBackGroundShapes";var a=!!r(o,e);if(a){a=!i("ushell/spaces/enabled",false)}n[e]=a;return a}function l(){return i("renderers/fiori2/componentData/config/enablePersonalization",i("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true))}function t(){var e=i("renderers/fiori2/componentData/config/rootIntent","");if(e){e="#"+e}return e}var c=i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",true);var p={enableEasyAccessOnTablet:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuOnTablet",false),enableEasyAccessSAPMenu:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",c),enableEasyAccessSAPMenuSearch:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenuSearch",true),enableEasyAccessUserMenu:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",c),enableEasyAccessUserMenuSearch:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuSearch",true)};function u(e){if(c===true){return p[e]?p[e+"Search"]:false}return false}var f={core:{site:{siteId:i("ushell/site/siteId",null)},extension:{enableHelp:i("renderers/fiori2/componentData/config/enableHelp",false),SupportTicket:i("services/SupportTicket/config/enabled",false),enableTileColors:i("ushell/extension/enableTileColors",false)},services:{allMyApps:{enabled:i("services/AllMyApps/config/enabled",true),showHomePageApps:i("services/AllMyApps/config/showHomePageApps",true),showCatalogApps:i("services/AllMyApps/config/showCatalogApps",true)}},navigation:{enableInPlaceForClassicUIs:{GUI:i("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:i("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:i("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true,flpURLDetectionPattern:i("services/ClientSideTargetResolution/config/flpURLDetectionPattern","[/]FioriLaunchpad.html[^#]+#[^-]+?-[^-]+"),enableWdaCompatibilityMode:i("ushell/navigation/wdaCompatibilityMode",false)},spaces:{enabled:i("ushell/spaces/enabled",false),configurable:i("ushell/spaces/configurable",false),myHome:{userEnabled:true,enabled:i("startupConfig/spacesMyhome",false),myHomeSpaceId:i("startupConfig/spacesMyhomeSpaceid",null),myHomePageId:i("startupConfig/spacesMyhomePageid",null),presetSectionId:"3WO90XZ1DX1AS32M7ZM9NBXEF"},hideEmptySpaces:{enabled:i("ushell/spaces/enabled",false)&&i("ushell/spaces/hideEmptySpaces/enabled",false),userEnabled:true},extendedChangeDetection:{enabled:i("ushell/spaces/extendedChangeDetection/enabled",true)},homeNavigationTarget:i("renderers/fiori2/componentData/config/homeNavigationTarget",undefined)},workPages:{enabled:i("ushell/spaces/enabled",false)&&i("ushell/workPages/enabled",false),contentApiUrl:i("ushell/workPages/contentApiUrl","/cep/graphql"),navigationApiUrl:i("ushell/workPages/navigationApiUrl","/navigation/api/v2"),myHome:{pageId:i("ushell/spaces/myHome/myHomePageId",null)}},homeApp:{enabled:i("ushell/spaces/enabled",false)&&!!i("ushell/homeApp/component",false),component:i("ushell/homeApp/component",{})},menu:{enabled:i("ushell/spaces/enabled",false)&&i("ushell/menu/enabled")!==false||i("ushell/menu/enabled",false),personalization:{enabled:i("ushell/menu/personalization/enabled",false)},visibleInAllStates:i("ushell/menu/visibleInAllStates",false)},darkMode:{enabled:i("ushell/darkMode/enabled",false),supportedThemes:i("ushell/darkMode/supportedThemes",[{dark:"sap_fiori_3_dark",light:"sap_fiori_3"},{dark:"sap_fiori_3_hcb",light:"sap_fiori_3_hcw"},{dark:"sap_horizon_dark",light:"sap_horizon"},{dark:"sap_horizon_hcb",light:"sap_horizon_hcw"}])},contentProviders:{providerInfo:{enabled:i("ushell/contentProviders/providerInfo/enabled",false),userConfigurable:i("ushell/contentProviders/providerInfo/enabled",false)&&i("ushell/contentProviders/providerInfo/userConfigurable",false),showContentProviderInfoOnVisualizations:i("ushell/contentProviders/providerInfo/enabled",false)&&i("ushell/contentProviders/providerInfo/userConfigurable",false)}},productSwitch:{enabled:!!i("ushell/productSwitch/url",""),url:i("ushell/productSwitch/url","")},shellHeader:{application:{},centralAreaElement:null,headEndItems:[],headItems:[],headerVisible:true,showLogo:false,ShellAppTitleState:undefined,rootIntent:i("renderers/fiori2/componentData/config/rootIntent",""),homeUri:t(),title:""},themePreview:{sapHorizonEnabled:i("renderers/fiori2/componentData/config/sapHorizonEnabled",false)},companyLogo:{accessibleText:i("ushell/companyLogo/accessibleText","")},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},shell:{cacheConfiguration:i("renderers/fiori2/componentData/config/cacheConfiguration",{}),enableAbout:i("renderers/fiori2/componentData/config/enableAbout",true),enablePersonalization:l(),enableRecentActivity:i("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:i("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:true,sessionTimeoutIntervalInMinutes:i("renderers/fiori2/componentData/config/sessionTimeoutIntervalInMinutes",-1),enableFeaturePolicyInIframes:i("renderers/fiori2/componentData/config/enableFeaturePolicyInIframes",true),favIcon:i("renderers/fiori2/componentData/config/favIcon",undefined),model:{enableSAPCopilotWindowDocking:undefined,enableBackGroundShapes:s(),personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,enableTrackingActivity:undefined,searchAvailable:false,searchFiltering:true,searchTerm:"",isPhoneWidth:false,enableNotifications:i("services/Notifications/config/enabled",false),enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",migrationConfig:undefined,allMyAppsMasterLevel:undefined,userStatus:undefined,userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userImage:{personPlaceHolder:null,account:"sap-icon://account"},currentState:{stateName:"blank",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:false,showRecentActivity:true,search:"",paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]},currentSpaceAndPage:undefined}},home:{disableSortedLockedGroups:i("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableHomePageSettings:i("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableRenameLockedGroup:i("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:i("renderers/fiori2/componentData/config/enableTileActionsIcon",i("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTransientMode:i("ushell/home/enableTransientMode",false),featuredGroup:{enable:i("ushell/home/featuredGroup/enable",false),frequentCard:i("ushell/home/featuredGroup/frequentCard",true)&&i("ushell/home/featuredGroup/enable",false),recentCard:i("ushell/home/featuredGroup/recentCard",true)&&i("ushell/home/featuredGroup/enable",false)},homePageGroupDisplay:i("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:i("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:i("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:i("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:i("ushell/home/tilesWrappingType","Normal"),segments:i("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false},catalog:{enabled:l()||i("renderers/fiori2/componentData/config/enableAppFinder",false),appFinderDisplayMode:i("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined),easyAccessNumbersOfLevels:i("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:i("renderers/fiori2/componentData/config/enableSearchFiltering",i("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",i("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:i("renderers/fiori2/componentData/config/enableCatalogSelection",i("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:i("renderers/fiori2/componentData/config/applications/Shell-home/enableTagFiltering",i("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:c,enableEasyAccessSAPMenu:c?p.enableEasyAccessSAPMenu:false,enableEasyAccessOnTablet:c?p.enableEasyAccessOnTablet:false,enableEasyAccessSAPMenuSearch:u("enableEasyAccessSAPMenu"),enableEasyAccessUserMenu:c?p.enableEasyAccessUserMenu:false,enableEasyAccessUserMenuSearch:u("enableEasyAccessUserMenu"),enableHideGroups:i("renderers/fiori2/componentData/config/enableHideGroups",i("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:i("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)},esearch:{defaultSearchScopeApps:i("renderers/fiori2/componentData/config/esearch/defaultSearchScopeApps",false),searchBusinessObjects:i("renderers/fiori2/componentData/config/esearch/searchBusinessObjects",true),searchScopeWithoutAll:i("renderers/fiori2/componentData/config/esearch/searchScopeWithoutAll",false)},stableIDs:{enabled:i("ushell/stableIDs/enabled",true),migratePersonalization:i("ushell/stableIDs/migratePersonalization",true)},customPreload:{enabled:!e.isDebug()&&i("ushell/customPreload/enabled",false),coreResourcesComplement:i("ushell/customPreload/coreResourcesComplement",[])},ui5:{timeZoneFromServerInUI5:i("ui5/timeZoneFromServerInUI5",false)}}};return f}function o(){return n}return{createConfigContract:a,getDefaultConfiguration:o}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.debug.mode", ["./common.constants"],function(t){"use strict";var e;var n=/[?&]sap-ui-debug=(true|x|X)(&|$)/.test(window.location.search);if(!n){try{e=window.localStorage.getItem(t.uiDebugKey);n=!!e&&/^(true|x|X)$/.test(e)}catch(t){}}return{isDebug:function(){return n}}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.core-min", ["./common.debug.mode","./common.load.script"],function(o,e){"use strict";var r={};r.load=function(r){var i;if(typeof r!=="object"){throw new Error("Mandatory preload bundle configuration is not provided")}if(o.isDebug()){sap.ui.require(["sap/ui/core/Core"],function(o){o.boot()})}if(r.enabled===false){throw new Error("Disabling the custom preload bundles is not yet supported")}i=r&&r.coreResources||[];i.forEach(function(o){e.loadScript(sap.ui.require.toUrl(o))})};return r});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.script", [],function(){"use strict";function e(e,t,r,n){return new Promise(function(i,d){function o(e){e.target.removeEventListener("load",o);e.target.removeEventListener("error",o);if(e.type==="error"){d()}i()}var a=document.createElement("script");a.src=e;a.async=!!n;a.addEventListener("load",o);a.addEventListener("error",o);if(t){a.id=t}if(r){a.setAttribute("defer","")}document.head.appendChild(a)})}return{loadScript:e}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/HeaderManager", ["sap/base/util/ObjectPath","sap/ui/Device","sap/ushell/components/_HeaderManager/PropertyStrategiesFactory","sap/ushell/components/StateHelper","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/utils/clone"],function(e,t,a,r,n,o,l,s){"use strict";var i={application:{},centralAreaElement:null,headEndItems:[],headItems:[],headerVisible:true,showLogo:false,ShellAppTitleState:undefined,rootIntent:n.last("/core/shellHeader/rootIntent"),homeUri:n.last("/core/shellHeader/homeUri"),title:""};var d;var u;var c="endItemsOverflowBtn";var h;var f={blank:{},"blank-home":{},home:{headItems:[]},app:{headItems:["backBtn"]},minimal:{headItems:[]},standalone:{headItems:["backBtn"]},embedded:{headItems:["backBtn"]},"embedded-home":{headItems:[]},headerless:{headItems:["backBtn"],headerVisible:false},merged:{headItems:["backBtn"]},"headerless-home":{headerVisible:false},"merged-home":{},lean:{headItems:[]},"lean-home":{}};var m=[];function p(e,a){var r=e&&e.appState?e.appState:"home";d=D(e);u=a;h=t.media.getCurrentRange(t.media.RANGESETS.SAP_STANDARD).name;I();v();k(r);B()}function S(){b()}function v(){var e=o.on("setHeaderCentralAreaElement").do(function(e){P({propertyName:"centralAreaElement",value:e.id,aStates:r.getPassStates(e.states),bCurrentState:!!e.currentState,bDoNotPropagate:!!e.bDoNotPropagate})});m.push(e);m.push(o.on("updateHeaderOverflowState").do(g));t.media.attachHandler(g,this,t.media.RANGESETS.SAP_STANDARD);m.push(n.on("/core/shellHeader/headEndItems").do(E));m.push(n.on("/core/shell/model/currentSpaceAndPage").do(A))}function b(){if(m){m.forEach(function(e){e.off()})}t.media.detachHandler(g,this,t.media.RANGESETS.SAP_STANDARD)}function g(e){if(e&&e.name){h=e.name}I();E()}function I(e){var t=n.last("/core/shell/model/currentState/stateName");var a=t==="merged"||t==="headerless";var r=!a;P({propertyName:"showLogo",value:r,aStates:["home","app","blank","blank-home","minimal","lean"],bCurrentState:false,bDoNotPropagate:true})}function A(e){if(n.last("/core/spaces/enabled")&&n.last("/core/spaces/homeNavigationTarget")==="origin_page"){var t=e?encodeURI(e.hash):i.rootIntent;var a=this&&this.updateStates||P;a({propertyName:"homeUri",value:"#"+t})}}function E(e){var t=n.last("/core/shellHeader/headEndItems");var a=t.indexOf(c)>-1;var r=e&&e.name||h;if(r==="Phone"&&!a&&t.length>2){N([c],false,["home","app"])}else if(r!=="Phone"&&a){var o=sap.ui.getCore().byId("headEndItemsOverflow");if(o){o.destroy()}H([c],false,["home","app"])}}function N(e,t,a,r){P({propertyName:"headEndItems",value:e,aStates:a,bCurrentState:!!t,bDoNotPropagate:!!r})}function H(e,t,a){P({propertyName:"headEndItems",value:e,aStates:a,bCurrentState:!!t,action:"remove",bDoNotPropagate:false})}function C(e,t){var a={};Object.keys(e).forEach(function(r){var n=e[r];a[r]=Object.keys(n).reduce(function(e,t){e[t]=n[t];return e},s(t))});return a}function P(t){var o=t.propertyName;var l=!t.bCurrentState?r.getAllStateToUpdate(t.aStates,t.bDoNotPropagate):[];var s=n.last("/core/shellHeader");var i=n.last("/core/shell/model/currentState/stateName");var u=t.value;if(o.charAt(0)==="/"){o=o.substring(1)}var c=a(o,t.action);if(!c){return}if(!t.bCurrentState){d=O(d,o,c,l,u)}if(l.indexOf(i)>-1||t.bCurrentState){var h=e.get(o.split("/"),s);var f=c.execute(h,u);if(h!==f){e.set(o.split("/"),f,s);w(o,s)}}if(t.bCurrentState){T(o,c,u)}}function y(e){var t;for(t in e){if(e.hasOwnProperty(t)){l.updateProperties(d[t],e[t])}}}function k(e){var t=d[e];if(!t){throw new Error("the state ("+e+") does not exist")}n.emit("/core/shellHeader",s(t))}function B(e){var t=n.last("/core/shellHeader");var a;var r;if(u&&u.customShellState){a=u.customShellState.currentState}if(e&&u.extendedShellStates[e]){r=u.extendedShellStates[e].customState.currentState}n.emit("/core/shellHeader",x(t,a,r))}function x(e,t,r){var o={};Object.keys(e).forEach(function(n){var l=a(n);var i=s(e[n]);if(l){if(r){i=l.execute(i,r[n])}if(t){i=l.execute(i,t[n])}}o[n]=i});o.ShellAppTitleState=n.last("/core/shellHeader/ShellAppTitleState");return o}function D(e){if(e){i.rootIntent=e.rootIntent;i.homeUri="#"+e.rootIntent}var t=C(f,i);function a(e,t){for(var a in t){if(a==="blank"||a==="blank-home"){continue}if(e==="openCatalogBtn"&&(a==="lean"||a==="lean-home")){continue}if(e==="ContactSupportBtn"){if(["home","app","minimal","standalone","embedded","embedded-home","lean"].indexOf(a)===-1){continue}}var r=t[a].headEndItems.indexOf(e);if(r===-1){t[a].headEndItems.push(e)}}}function r(e,t){var a;for(a in t){t[a].title=e}}if(e){if(e.moveContactSupportActionToShellHeader){a("ContactSupportBtn",t)}if(e.moveAppFinderActionToShellHeader){a("openCatalogBtn",t)}if(e.title){r(e.title,t)}}return t}function O(t,a,r,n,o){if(n.length===0){return t}var l=s(t);n.forEach(function(t){var n=l[t];if(n){var s=r.execute(e.get(a.split("/"),n),o);e.set(a.split("/"),s,n)}});return l}function T(t,a,r){if(!u){return}var n=u.customShellState.currentState;var o=a.execute(e.get(t.split("/"),n),r);e.set(t.split("/"),o,n)}function w(e,t){var a=e.split("/").shift();n.emit("/core/shellHeader/"+a,t[a])}function _(e){var t;try{t=d[e]}catch(e){t=undefined}return t}function R(e,t){var a;try{a=_(e)[t]}catch(e){a=undefined}return a}function U(e){d=e}return{init:p,destroy:S,switchState:k,updateStates:P,recalculateState:B,extendStates:y,handleCurrentSpaceAndPage:A,handleEndItemsOverflow:E,validateShowLogo:I,_createInitialState:D,_generateBaseHeaderState:C,_getBaseState:_,_getBaseStateMember:R,_resetBaseStates:U}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/StateHelper", [],function(){"use strict";function e(e){var a=[],n;e=e||[];for(n=0;n<e.length;n++){if(e[n]!==undefined){if(e[n]!=="home"&&e[n]!=="app"){throw new Error("sLaunchpadState value is invalid")}a.push(e[n])}}if(!a.length){a=["app","home"]}return a}function a(e,a){var n=[];if(e==="app"&&!a){var t=["app","minimal","standalone","embedded","headerless","merged","blank","lean"];n=n.concat(t)}else if(e==="home"&&!a){var r=["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"];n=n.concat(r)}else{n.push(e)}return n}function n(n,t){var r=t?n:e(n);return r.reduce(function(e,n){var r=a(n,t);if(r){e=e.concat(r)}return e},[])}return{getAllStateToUpdate:n,getModelStates:a,getPassStates:e}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/AddHeadEndItemsStrategy", ["sap/base/Log"],function(e){"use strict";function t(t,n){var r=0,i,o;if(!t||!n){return false}var u=n.some(function(t){var n=!sap.ui.getCore().byId(t);if(n){e.warning("Failed to find control with id '{id}'".replace("{id}",t))}return n});if(u){return false}if(n.length===1&&n[0]==="endItemsOverflowBtn"){return true}for(i=0;i<t.length;i++){o=t[i];if(o!=="endItemsOverflowBtn"){r++}if(r+n.length>10){e.warning("maximum of six items has reached, cannot add more items.");return false}if(n.indexOf(o)>-1){return false}}return true}function n(e,t){var n=e.concat(t);var r={sf:-3,copilotBtn:-1,NotificationsCountButton:1,endItemsOverflowBtn:2,userActionsMenuHeaderButton:3,productSwitchBtn:4};n.sort(function(e,t){var n=r[e]||0,i=r[t]||0;if(n===i){return e.localeCompare(t)}return n-i});return n}function r(e,r){var i=e;if(t(e,r)){i=n(e,r)}return i}return{execute:r}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/AddHeadItemsStrategy", [],function(){"use strict";function n(n,t){return n.indexOf(t)===-1?n.concat(t):n}function t(t,e){return e.reduce(n,t)}function e(n){return function(t){return n.indexOf(t)===-1}}function r(n,r){return t(n,r.filter(e(["backBtn"]))).length<=3}function i(n,t){var e=[],r=n.concat(t);if(n.indexOf("backBtn")>-1||t.indexOf("backBtn")>-1){e.push("backBtn")}if(e.length<3){for(var i=0;i<r.length;i++){var u=r[i];if(e.indexOf(u)===-1){e.push(u)}if(e.length>=3){break}}}return e}function u(n,t){var e=n;if(r(n,t)){e=i(n,t)}return e}return{execute:u}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/ExtendApplicationPropertyStrategy", ["sap/base/util/deepExtend"],function(e){"use strict";function t(t,n){if(!n){n={}}return e({},t,n)}return{execute:t}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/PropertyStrategiesFactory", ["./AddHeadItemsStrategy","./AddHeadEndItemsStrategy","./ExtendApplicationPropertyStrategy","./RemoveItemsStrategy","./SetHeadPropertyStrategy"],function(e,a,t,r,i){"use strict";return function(s,c){var n;switch(s){case"headItems":if(c==="remove"){n=r}else{n=e}break;case"headEndItems":if(c==="remove"){n=r}else{n=a}break;case"homeUri":case"showLogo":case"headerVisible":case"centralAreaElement":case"title":n=i;break;case"application":n=t;break;case"application/hierarchy":case"application/icon":case"application/relatedApps":case"application/title":n=i;break;default:n=null;break}return n}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/RemoveItemsStrategy", ["sap/base/Log"],function(e){"use strict";function n(e,n){return n.some(function(n){return e.indexOf(n)>=0})}function t(e,n){return e.filter(function(e){return n.indexOf(e)===-1})}function i(i,r){var u=i;if(n(i,r)){u=t(i,r)}else{e.warning("You cannot remove item: "+r+", the item does not exists.")}return u}return{execute:i}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/SetHeadPropertyStrategy", [],function(){"use strict";function n(n){return n!==undefined}function e(e,u){if(n(u)){return u}return e}return{execute:e}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/AppLifeCycle", ["sap/ushell/components/applicationIntegration/elements/model","sap/ushell/components/applicationIntegration/Storage","sap/ushell/components/applicationIntegration/application/BlueBoxHandler","sap/ushell/ui5service/ShellUIService","sap/ushell/components/applicationIntegration/application/Application","sap/ushell/components/applicationIntegration/relatedServices/RelatedServices","sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements","sap/ushell/components/applicationIntegration/configuration/AppMeta","sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ui/Device","sap/ushell/Config","sap/ushell/ApplicationType","sap/base/util/deepExtend","sap/base/util/UriParameters","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/EventHub","sap/ushell/utils/UrlParsing","sap/ui/core/Core","sap/ui/thirdparty/hasher","sap/ushell/services/_MessageBroker/MessageBrokerEngine"],function(e,t,i,n,a,r,s,o,l,p,u,f,c,h,d,jQuery,g,C,m,v,A,y){"use strict";function S(){var S,I=["URL"],b,E,T,R={},U=false,F={},w={home:{embedded:"embedded-home",headerless:"headerless-home",merged:"blank-home",blank:"blank-home"},app:{minimal:"minimal",app:"app",standalone:"standalone",embedded:"embedded",headerless:"headerless",merged:"merged",home:"home",blank:"blank",lean:"lean"}},O,P=[],B={},x=false,L={FULL:"true",RESTRICTED:"restricted"};if(window.QUnit===undefined){y.connect("FLP")}this.shellElements=function(){return s};this.service=function(){return r};this.isCurrentApp=function(e){return F.appId===e};this.isAppWithSimilarShellHashInCache=function(e,i){var n=t.get(e);if(n){if(n.shellHash===i){return true}return false}return false};this.isAppInCache=function(e){return!!t.get(e)};this.normalizeAppId=function(e){var t="-component",i=e.endsWith(t);if(i){return e.substring(0,e.length-t.length)}return e};this.onComponentCreated=function(e,i,n){var a=n.component,r=this.normalizeAppId(a.getId());if(this.isAppInCache(r)){t.get(r).app=a;this.active(r)}else{F.app=a;if(a.active){a.active()}}};this.onGetMe=function(e,t,i){i.AppLifeCycle=this};this.store=function(e){var i=t.get(e);if(i){a.store(i);o.store(i.meta);i.stateStored=true}};this.destroy=function(e,n,r){var l=t.get(e),p,u;function f(){if(n&&n.getUrl){i.deleteStateFul(n.getUrl())}a.destroy(n);s.destroy(n);o.destroy(n)}this.removeControl(e);if(l){p=i.getStateFul(n.getUrl());if(p&&i.isStatefulContainerSupported(p)){var c=i.getHandler();u=c.destroy(p,e)}else{l.container.destroy();i.deleteStateFul(n.getUrl());u=Promise.resolve()}t.remove(e);if(r){u.then(r.resolve)}}else{var h=n&&n.sendBeforeAppCloseEvent&&n.sendBeforeAppCloseEvent();if(h===undefined){f();if(r){r.resolve()}}else{h.then(function(){f();if(r){r.resolve()}},function(e){f();if(r){r.resolve()}g.error("FLP got a failed response from the iframe for the 'sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent' message sent",e,"sap.ushell.components.applicationIntegration.AppLifeCycle.js")})}}};this.restore=function(e){var i=t.get(e);if(i&&i.stateStored===true){a.restore(i);r.restore(i.service);o.restore(i.meta)}};this.active=function(e){var i=t.get(e);if(i){a.active(i.app)}};this.handleExitStateful=function(e,n,a){var s,o=i.getHandler();if(t.get(e)){s=i.getStorageKey(n);if(r.isBackNavigation()===true&&!a){v.getEventBus().publish("sap.ushell","appClosed",n);t.remove(s);return o.destroy(n)}else{v.getEventBus().publish("sap.ushell","appClosed",n);return o.store(n,s)}}return o.destroy(n)};this.handleExitApplication=function(e,n,s,o,l,p){var u=this,f,c,h;if(s&&o&&o.getIframeReusedForApp&&o.getIframeReusedForApp()===true){o.setProperty("iframeReusedForApp",false,true);a.postMessageToIframeApp(o,"sap.ushell.sessionHandler","afterApplicationShow",{},false)}if(e&&n){if(n.getUrl()&&i.isStatefulContainerSupported(i.getStateFul(n.getUrl()))){c=!p?this.handleExitStateful(e,n,l):undefined}else if(t.get(e)){if(r.isBackNavigation()===true&&!l){h=new jQuery.Deferred;this.destroy(e,n,h);c=h.promise()}else{this.store(e)}v.getEventBus().publish("sap.ushell","appClosed",n)}else if(n.getIsStateful&&n.getIsStateful()){if(l){c=n.postMessageRequest("sap.gui.triggerCloseSessionImmediately")}}else{f=I.indexOf(n.getApplicationType)>=0;if(this.isAppOfTypeCached(e,f)===false){h=new jQuery.Deferred;this.destroy(e,n,h);c=h.promise()}}if(l===true){if(c===undefined){this.closeKeepAliveApps(M)}else{c.then(function(){u.closeKeepAliveApps(M)})}}if(e.indexOf("Shell-appfinder-component")>0){v.getEventBus().publish("sap.ushell","appFinderAfterNavigate")}}v.getEventBus().publish("relatedServices","resetBackNavigation");if(c===undefined){c=(new jQuery.Deferred).resolve().promise()}return c};function M(e){return e.value.keepAliveMode===L.RESTRICTED}this.closeKeepAliveApps=function(e,i){try{var n=this,a=[];t.forEach(function(t){if(e.apply(this,[t])===true){a.push(t.value)}});a.forEach(function(e){var t;if(i){t=new jQuery.Deferred;i.push(t.promise())}n.destroy(e.appId,e.container,t)})}catch(e){g.error("Error: sap.ushell.services.appLifeCycle.closeOtherKeepAliveRestrictedApps:"+e)}};this.onBeforeNavigate=function(e,n,r,s){if(e&&n){if(n._getIFrame&&n._getIFrame()&&(i.isStatefulContainerSupported(i.getStateFul(n.getUrl()))||t.get(e)||n.getIsStateful&&n.getIsStateful())){a.postMessageToIframeApp(n,"sap.ushell.sessionHandler","beforeApplicationHide",{},false)}}};this.onAfterNavigate=function(e,i,n,r){var s=n.indexOf("Shell-appfinder-component")>0||n.indexOf("Shell-home-component")>0||n.indexOf("pages-component-container")>0||n.indexOf("homeApp-component-container")>0||n.indexOf("workPageRuntime-component-container")>0||n.indexOf("runtimeSwitcher-component-container")>0;this.handleExitApplication(e,i,n,r,s,!s);if(s===true){a.setActiveAppContainer(undefined)}if(n){if(t.get(n)){this.restore(n)}else{}}};this.storeApp=function(e,n,a,r,o){if(!this.isAppInCache(e)){if(n.setProperty){n.setProperty("isKeepAlive",true,true)}t.set(e,{service:{},shellHash:r,appId:e,stt:"loading",appRelatedElements:s.getAppRelatedElement(),container:n,meta:l.getMetadata(a),app:undefined,keepAliveMode:o&&(o.globalValue||o.paramValue),appTarget:a,ui5ComponentName:a&&a.ui5ComponentName,enableRouterRetrigger:true,stateStored:false});R[r]=e;i.setStorageKey(n,e);return true}return false};this.restoreApp=function(e){if(this.isAppInCache(e)){F=t.get(e);if(i.getStorageKey(F.container)){i.setStorageKey(F.container,e)}}};this.isAppOfTypeCached=function(e,t,i){var n;if(e==="application-Shell-startIntent"){return false}if(!U&&e.indexOf(b)!==-1){return true}if(!U&&(e.indexOf("Shell-appfinder-component")>0||e.indexOf("Shell-home-component")>0||e.indexOf("pages-component-container")>0||e.indexOf("homeApp-component-container")>0||e.indexOf("workPageRuntime-component-container")>0||e.indexOf("runtimeSwitcher-component-container")>0)){return true}n=d.fromURL(window.location.href).get("sap-keep-alive");if(n===L.FULL||n===L.RESTRICTED){if(i){i.globalValue=n}return true}return false};this.isCachedEnabledAsAppParameter=function(e,t,i){var n;if(e&&e.semanticObject==="Shell"&&e.action==="startIntent"){return false}n=e&&e.params&&e.params["sap-keep-alive"];if(n===L.FULL||n===L.RESTRICTED){if(i){i.paramValue=n}return true}if(t&&t.url){n=d.fromURL(t.url).get("sap-keep-alive");if(n===L.FULL||n===L.RESTRICTED){if(i){i.paramValue=n}return true}}return false};this.calculateAppType=function(e){if(e.applicationType==="URL"&&e.additionalInformation&&e.additionalInformation.startsWith("SAPUI5.Component=")){return"SAPUI5"}return e.applicationType};this.getStatefulCapabilities=function(e){if(e.appCapabilities&&e.appCapabilities&&e.appCapabilities.statefulContainer){return e.appCapabilities.statefulContainer}return undefined};this.isNotifyInnerAppRouteChangeEnabled=function(e){if(e.appCapabilities&&e.appCapabilities.notifyInnerAppRouteChange){return true}return false};this.isStatefulCapabilityEnabled=function(e){var t=this.getStatefulCapabilities(e);if(t&&(t.enabled===true||t===true)){return true}return false};this.isGUICapabilityEnabled=function(e){var t=this.getStatefulCapabilities(e);if(t&&t.protocol==="GUI"){return true}return false};this.isFLPCapabilityEnabled=function(e){return!this.isGUICapabilityEnabled(e)&&this.isStatefulCapabilityEnabled(e)};this.isGUIStatefulCapabilityEnabled=function(e){return this.isGUICapabilityEnabled(e)&&this.isStatefulCapabilityEnabled(e)};this.reloadCurrentApp=function(e){var n=i.getById(e.sAppContainerId);if(n){var a=n.getUrl();i.removeCapabilities(n);var r=[];t.forEach(function(e){if(e.value.container===n){r.push(e.key)}});r.forEach(t.remove);this.destroy(e.sAppContainerId,n);i.deleteStateFul(a)}sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){try{t.hashChanger.treatHashChanged(e.sCurrentHash)}catch(e){g.error("Error when trying to re-load the current displayed application",e,"sap.ushell.services.AppLifeCycle")}})};this.openApp=function(e,t,n,a){var r,s,o=I.indexOf(t.applicationType)>=0,p,u,f={globalValue:undefined,paramValue:undefined};var c="application"+e;r=i.getStateFul(t.url);if(r&&i.isStatefulContainerSupported(r)){if(this.isAppOfTypeCached(c,o,f)||this.isCachedEnabledAsAppParameter(n,t,f)){if(!this.isAppInCache(c)){this.storeApp(c,r,t,a,f)}this.restoreApp(c)}else{F={appId:c,stt:"loading",container:r,meta:l.getMetadata(t),app:undefined}}}else if(this.isAppOfTypeCached(c,o,f)||this.isCachedEnabledAsAppParameter(n,t,f)){if(!this.isAppInCache(c)){s=n.semanticObject+"-"+n.action;p=i.getById("application-"+s)||this.getControl(s);if(p){u=p.getUrl();i.removeCapabilities(p);this.destroy("application-"+s,p);i.deleteStateFul(u)}r=this.createApplicationContainer(e,t);this.storeApp(c,r,t,a,f);i.set(t.url,r)}this.restoreApp(c)}else if(t.applicationType==="TR"||t.appCapabilities&&t.appCapabilities.appFrameworkId==="GUI"){r=this.getWebGuiV1StatefulContainer(t.url);if(n){s=n.semanticObject+"-"+n.action;p=i.getById("application-"+s)||this.getControl(s);if(p&&(!r||p!==r)){u=p.getUrl();i.removeCapabilities(p);this.destroy("application-"+s,p);i.deleteStateFul(u);this.removeWebGuiV1StatefulContainer(u)}}if(!r){r=this.createApplicationContainer(e,t);i.set(t.url,r)}F={appId:c,stt:"loading",container:r,meta:l.getMetadata(t),app:undefined}}else{if(r){s=n.semanticObject+"-"+n.action;this.removeApplication(s)}else if(t.applicationType==="URL"||t.applicationType==="TR"||t.applicationType==="NWBC"){s=n.semanticObject+"-"+n.action;p=i.getById("application-"+s)||this.getControl(s);if(p){u=p.getUrl();i.removeCapabilities(p);this.destroy("application-"+s,p);i.deleteStateFul(u)}}r=this.createApplicationContainer(e,t);i.set(t.url,r);if(i.isCapUT(r,"isFLP")){i.setCapabilities(r,[{service:"sap.ushell.services.appLifeCycle",action:"create"},{service:"sap.ushell.services.appLifeCycle",action:"destroy"}])}F={appId:c,stt:"loading",container:r,meta:l.getMetadata(t),app:undefined}}};this.getAppMeta=function(){return o};this.evict=function(e){var t,n=e.value,a=e.key;this.removeControl(a);if(n.container.getUrl&&n.container.getUrl()){t=i.getStateFul(n.container.getUrl())}if(t){var r=i.getHandler();r.destroy(t,a)}else{n.container.destroy()}};this.addEvents=function(){var e=false;return function(){if(!e){e=true;var i=this;C.on("disableKeepAliveRestoreRouterRetrigger").do(function(e){var i=e.intent.semanticObject+"-"+e.intent.action;var n="application-"+i;if(t.get(n)){t.get(n).enableRouterRetrigger=e.disable}});C.on("setApplicationFullWidth").do(function(e){i.setApplicationFullWidth(e.bValue)});C.on("reloadCurrentApp").do(function(e){i.reloadCurrentApp(e)})}}}();this.init=function(e,a,r,l,p,f,c){var h=this,d;if(u.system.phone){d=10;if(c&&c.limit&&c.limit.phone){d=c.limit.phone}}else if(u.system.tablet){d=10;if(c&&c.limit&&c.limit.tablet){d=c.limit.tablet}}else if(u.system.desktop){d=15;if(c&&c.limit&&c.limit.desktop){d=c.limit.desktop}}else{d=10}E=new n({scopeObject:p.ownerComponent,scopeType:"component"});T=e;S=a;b=r;o.init(b);U=l;i.init({oShellUIService:E},c,this);t.init(d,function(e){this.evict(e)}.bind(this));this.registerShellCommunicationHandler({"sap.ushell.services.appLifeCycle":{oRequestCalls:{create:{isActiveOnly:true,distributionType:["URL"],fnResponseHandler:function(e){e.then(function(e){g.info("sap.ushell.services.appLifeCycle.create:"+e)}).catch(function(e){g.error("Error: sap.ushell.services.appLifeCycle.create:"+e)})}},destroy:{isActiveOnly:true,distributionType:["URL"],fnResponseHandler:function(e){e.then(function(e){g.info("sap.ushell.services.appLifeCycle.destroy:"+e)}).catch(function(e){g.error("Error: sap.ushell.services.appLifeCycle.destroy:"+e)})}},store:{isActiveOnly:true,distributionType:["URL"],fnResponseHandler:function(e){e.then(function(e){g.info("sap.ushell.services.appLifeCycle.store:"+e)}).catch(function(e){g.error("Error: sap.ushell.services.appLifeCycle.store:"+e)})}},restore:{isActiveOnly:true,distributionType:["URL"],fnResponseHandler:function(e){e.then(function(e){g.info("sap.ushell.services.appLifeCycle.restore:"+e)}).catch(function(e){g.error("Error: sap.ushell.services.appLifeCycle.restore:"+e)})}}},oServiceCalls:{subscribe:{executeServiceCallFn:function(e){i.mapCapabilities(e.oContainer,e.oMessageData.body);return(new jQuery.Deferred).resolve({}).promise()}},setup:{executeServiceCallFn:function(e){var t=e.oMessageData&&e.oMessageData.body,n=[],a=e.oContainer.getApplicationType(),r=e.oContainer.getFrameworkId(),s=false;if(t){if(e.oContainer.getIsKeepAlive()===true&&(a==="GUI"||a==="TR"||a==="NWBC"||a==="WDA"||a==="WCF"||r==="GUI"||r==="WDA"||r==="NWBC"||r==="WCF")){s=true}if(t.isStateful===true&&!s){n.push({action:"create",service:"sap.ushell.services.appLifeCycle"});n.push({action:"destroy",service:"sap.ushell.services.appLifeCycle"})}if(t.isIframeValid===true){n.push({action:"iframeIsValid",service:"sap.ushell.appRuntime"})}if(t.isIframeBusy===true){n.push({action:"iframeIsBusy",service:"sap.ushell.appRuntime"})}if(t.session&&t.session.bLogoutSupport===true){n.push({action:"logout",service:"sap.ushell.sessionHandler"})}if(n.length>0){i.mapCapabilities(e.oContainer,n)}}return(new jQuery.Deferred).resolve().promise()}}}},"sap.gui":{oServiceCalls:{loadFinished:{executeServiceCallFn:function(e){var t=e.oContainer.getApplicationType(),i=e.oContainer.getFrameworkId();if((t==="GUI"||t==="TR"||t==="NWBC"||i==="GUI"||i==="NWBC")&&e.oContainer.getIsKeepAlive()===false){h.setWebGuiV1StatefulContainer(e.oContainer);e.oContainer.setIsStateful(true);F={appId:e.oContainer.getId(),stt:"loading",container:e.oContainer,meta:undefined,app:undefined}}return(new jQuery.Deferred).resolve({}).promise()}}}}});v.getEventBus().subscribe("sap.ushell","appComponentLoaded",this.onComponentCreated,this);v.getEventBus().subscribe("sap.ushell","getAppLifeCycle",this.onGetMe,this);s.init(this.getElementsModel(),f);this.addEvents()};this.addControl=function(e){S.addCenterViewPort(e)};this.removeControl=function(e){var t=i.getById(e),n=i.isStatefulContainerSupported(t);if(!n){S.removeCenterViewPort(e,true)}};this.removeApplication=function(e){var t=this.getControl(e);if(t){this.removeControl(t.getId());t.destroy()}};this.getControl=function(e){return S&&(S.getViewPortControl("centerViewPort","application-"+e)||S.getViewPortControl("centerViewPort","applicationShellPage-"+e))};this.getViewPortContainer=function(){return S};this.navTo=function(e){S.navTo("centerViewPort",e,"show")};this.getCurrentApplication=function(){return F};this.setApplicationFullWidth=function(e){var t=this.getCurrentApplication();if(t.container){t.container.toggleStyleClass("sapUShellApplicationContainerLimitedWidth",!e)}};this.createComponent=function(e,t){function i(t){return t.value.ui5ComponentName===e.ui5ComponentName}var n=[],r=new jQuery.Deferred;this.shellElements().setDangling(true);this.closeKeepAliveApps(i,n);Promise.all(n).then(function(){a.createComponent(e,t).done(r.resolve).fail(r.reject)});return r.promise()};this.getAppContainer=function(e,t,i,n,a){t.shellUIService=E.getInterface();t.targetNavigationMode=i?"explace":"inplace";this.openApp(e,t,n,a);if(P.length>0){F.container.registerShellCommunicationHandler(P)}if(B.UI5APP){F.container.setIframeHandlers(B.UI5APP)}return F.container};this.getShellUIService=function(){return E};this.initShellUIService=function(e){E._attachHierarchyChanged(o.onHierarchyChange.bind(this));E._attachTitleChanged(o.onTitleChange.bind(this));E._attachRelatedAppsChanged(o.onRelatedAppsChange.bind(this));E._attachBackNavigationChanged(e.fnOnBackNavigationChange.bind(this))};this.getElementsModel=function(){return e};this.activeContainer=function(e){var t=this.getWebGuiV1AllApplicationContainers();t.forEach(function(e){g.info("Deactivating container "+e.getId());e.setActive(false)});i.forEach(function(t){if(t&&t!==e){try{g.info("Deactivating container "+t.getId());t.setActive(false)}catch(e){}}});if(e){g.info("Activating container "+e.getId());e.setActive(true)}};this.showApplicationContainer=function(e){this.navTo(e.getId());if(e.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){e.toggleStyleClass("sapUShellApplicationContainerIframeHidden",false)}else{e.toggleStyleClass("hidden",false)}a.setActiveAppContainer(e);g.info("New application context opened successfully in an existing transaction UI session.")};this.reuseStateFulContainerAndRestore=function(e,t,n,a,r,s){var o=this,l=R[a];if(i.getStorageKey(e)){i.setStorageKey(e,l)}return n.restore(e,l,r,s).then(function(){o.showApplicationContainer(e)},function(e){g.error(e&&e.message||e)})};this.reuseStateFulContainer=function(e,n,a,r,s,o,l){var p=this;R[s]=a;if(i.getStorageKey(e)){i.setStorageKey(e,a)}this.initAppMetaParams();return r.create(e,n,a,o,l).then(function(i){if(i&&i.deletedKeepAliveId){t.remove(i.deletedKeepAliveId)}p.showApplicationContainer(e)},function(e){g.error(e&&e.message||e)})};this.initAppMetaParams=function(){if(!this.getAppMeta().getIsHierarchyChanged()){E.setHierarchy()}if(!this.getAppMeta().getIsTitleChanged()){var e=A.getHash();if(e&&e.indexOf("Shell-startIntent")===0){E.setTitle("",true)}else{E.setTitle()}}if(!this.getAppMeta().getIsRelatedAppsChanged()){E.setRelatedApps()}if(!x){E.setBackNavigation()}};this.reuseApplicationContainer=function(e,t,i){var n=this;e.setProperty("iframeReusedForApp",true,true);return e.setNewApplicationContext(t,i).then(function(){n.navTo(e.getId());if(e.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){e.toggleStyleClass("sapUShellApplicationContainerIframeHidden",false)}else{e.toggleStyleClass("hidden",false)}g.info("New application context opened successfully in an existing transaction UI session.")},function(e){g.error(e&&e.message||e)})};this.createApplicationContainer=function(e,t){return a.createApplicationContainer(e,t)};this.publishNavigationStateEvents=function(e,t,i){var n,a=e.getId?e.getId():"",r=this;var s=l.getMetadata(),o=s.icon,p=s.title;e.addEventDelegate({onAfterRendering:i});n=e.exit;e.exit=function(){if(n){n.apply(this,arguments)}r.getAppMeta()._applyContentDensityByPriority();setTimeout(function(){var e=h({},t);delete e.componentHandle;e.appId=a;e.usageIcon=o;e.usageTitle=p;v.getEventBus().publish("sap.ushell","appClosed",e);g.info("app was closed")},0);var e=r._publicEventDataFromResolutionResult(t);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appClosed",e)}};this._publicEventDataFromResolutionResult=function(e){var t={};if(!e){return e}["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(i){t[i]=e[i]});Object.freeze(t);return t};this.getInMemoryInstance=function(e,i,n,a){var r="application-"+e,s=t.get(r),o="",l=false,p;if(s){if(a!==null&&a!==undefined&&a!==""){o=a.toLowerCase();l=o.indexOf("shell-home")>=0||o.indexOf("launchpad-openflppage")>=0||o.indexOf("launchpad-openworkpage")>=0||o.indexOf("shell-appfinder")>=0}p=l&&(typeof n==="string"&&n.length>0);if(s.shellHash===i&&!p){return{isInstanceSupported:true,appId:s.appId,container:s.container}}return{isInstanceSupported:false,appId:s.appId,container:s.container}}return{isInstanceSupported:false,appId:undefined,container:undefined}};this.handleOpenStateful=function(e,n,a,r,s,o,l,p){var u=i.getHandler(),f;r.setProperty("iframeReusedForApp",true,true);if(t.get(a)&&e===false){f=this.reuseStateFulContainerAndRestore(r,a,u,o,s,p)}else{f=this.reuseStateFulContainer(r,s.url,a,u,o,s,p);if(n){if(!this.isAppInCache(a)){this.storeApp(a,r,s,o,l)}}}return f};this.handleControl=function(e,n,a,s,o,u,f){var h=this,d,C,A=I.indexOf(s.applicationType)>=0,y="application-"+e,b,E,T,R=false,U,w,O,P=new jQuery.Deferred,B,x,L,M,H,W=(new jQuery.Deferred).resolve().promise(),D={globalValue:undefined,paramValue:undefined},V,k,N,G,K=false;H=i.getStateFul(s.url);if(H&&i.isStatefulContainerSupported(H)){V=(new Date).getTime()-H.getIsIframeValidTime().time;if(i.isIframeBusySupported(H)&&H.getIsIframeBusy()===true||i.isIframeIsValidSupported(H)&&V>=3500||H.getIsInvalidIframe()===true){g.warning("Destroying statefull container iframe due to unresponsiveness ("+H.getId()+")","reason: "+(H.getIsIframeBusy()===true?"iframe is still creating a different app":"no ping from the iframe in the last '"+V+"' ms"),"sap.ushell.components.applicationIntegration.AppLifeCycle");i.removeCapabilities(H);this.destroy(y,H);i.deleteStateFul(s.url);H=undefined;f=undefined}}if(typeof f==="string"){k=m.parseShellHash(f);if(k){N="application-"+k.semanticObject+"-"+k.action;M=t.get(N)}if(M){L=M.container}else{G=S.getCurrentCenterPage?S.getCurrentCenterPage():undefined;if(G){L=v.byId(G)}}}C=L?i.isStatefulContainerSupported(L):false;if(L&&C){if(M){r.store(M.service)}W=this.handleExitApplication(N,L,undefined,undefined,false,false);if(L===H){K=true}}W.then(function(){E=h.isAppOfTypeCached(y,A,D)||h.isCachedEnabledAsAppParameter(a,s,D);T=h.calculateAppType(s);U=c.getDefaultFullWidthSetting(T);d=i.getStateFul(s.url);C=i.isStatefulContainerSupported(d);if(!C){if(F&&y!==F.appId){d=undefined}b=t.get("application"+n);if(b){d=b.container;if(!C&&E&&d!==undefined){w=true}}}var r,f;r=s.appCapabilities&&s.appCapabilities.fullWidth;x=l.getMetadata(s);if(U===true){if(s.fullWidth===false||s.fullWidth==="false"||x.fullWidth===false||x.fullWidth==="false"||r===false){f=false}}else if(s.fullWidth===true||s.fullWidth==="true"||x.fullWidth===true||x.fullWidth==="true"){f=true}if(f===undefined){f=U}if(C){if(!d){d=o(e,x,a,s,n,f,u);h.restoreApp(d.getId());h.navTo(d.getId());R=true}}else if(!h.isWebGuiV1StatefulContainer(s.url)&&d&&!E){O=new jQuery.Deferred;h.destroy(d.getId(),d,O);O.then(function(){d=o(e,x,a,s,n,f,u)})}else if(!d){d=o(e,x,a,s,n,f,u)}if(O===undefined){O=(new jQuery.Deferred).resolve()}if(d&&d.getDeffedControlCreation){B=d.getDeffedControlCreation()}else{B=Promise.resolve()}O.then(function(){B.then(function(){if(!h.isWebGuiV1StatefulContainer(s.url)&&!C){if(w===true){v.getEventBus().publish("launchpad","appOpening",s)}h.restoreApp(d.getId());h.navTo(d.getId());if(w===true){h.initAppMetaParams();v.getEventBus().publish("sap.ushell","appOpened",s)}}var e=(new jQuery.Deferred).resolve().promise();if(C){if(s.appCapabilities&&s.appCapabilities.appFrameworkId==="UI5"){d.setProperty("active",true,true)}e=h.handleOpenStateful(R,E,"application"+n,d,s,u,D,K)}else if(h.isWebGuiV1StatefulContainer(s.url)){e=h.reuseApplicationContainer(d,"TR",s.url)}e.then(function(){S.switchState("Center");p.setPerformanceMark("FLP -- centerViewPort");h.activeContainer(d);P.resolve()})})})});return P.promise()};this.switchViewState=function(i,n,a){var r=i,o;if(w[i]&&w[i][T]){r=w[i][T]}var l=f.last("/core/shell/model/currentState/stateName")==="home";if(!l&&(!F.appId||!t.get(F.appId))){e.destroyManageQueue()}o=t.get("application"+a);if(o){s.restore(o)}else{s.assignNew(i)}e.switchState(r,n,a);this.shellElements().setDangling(false);this.shellElements().processDangling();if(i==="searchResults"){this.getElementsModel().setProperty("/lastSearchScreen","");if(!A.getHash().indexOf("Action-search")===0){var p=v.getModel("searchModel");A.setHash("Action-search&/searchTerm="+p.getProperty("/uiFilter/searchTerms")+"&dataSource="+JSON.stringify(p.getProperty("/uiFilter/dataSource").getJson()))}}};this.registerShellCommunicationHandler=function(e){a.registerShellCommunicationHandler(e)};this.registerIframeCommunicationHandler=function(e,t){B[t]=e};this.postMessageToIframeApp=function(e,t,n,r){function s(i){if(e==="sap.ushell.sessionHandler"&&t==="logout"){if(i&&i.getApplicationType&&",WCF,GUI,TR,WDA,".indexOf(i.getApplicationType())>0){return false}}return true}var o,l=a.getActiveAppContainer(),p=false,u=[];if(i.hasIFrame(l)&&(i.isCapabilitySupported(l,e,t)||a.isAppTypeSupported(l,e,t))&&s(l)===true){u.push(a.postMessageToIframeApp(l,e,t,n,r));p=true}if(!a.isActiveOnly(e,t)){i.forEach(function(o){if(p===true&&o===l){return}if(i.hasIFrame(o)){if((i.isCapabilitySupported(o,e,t)||a.isAppTypeSupported(o,e,t))&&s(o)===true){u.push(a.postMessageToIframeApp(o,e,t,n,r))}}})}o=a.getResponseHandler(e,t);var f=Promise.all(u);if(o){o(f)}return f};this.postMessageToIframeAppAccordingToPolicy=function(e,t,n,r,s){var o,l=a.getActiveAppContainer(),p=[];if(i.hasIFrame(l)&&a.isAppTypeSupportedByPolicy(l,s)){p.push(a.postMessageToIframeApp(l,e,t,n,r))}if(!s.isActiveOnly){i.forEach(function(s){if(i.hasIFrame(s)){if(i.isCapabilitySupported(s,e,t)||a.isAppTypeSupported(s,e,t)){p.push(a.postMessageToIframeApp(s,e,t,n,r))}}})}o=a.getResponseHandler(e,t);var u=Promise.all(p);if(o){o(u)}return u};this.setBackNavigationChanged=function(e){x=e};this.getBackNavigationChanged=function(){return x};this.parseStatefulContainerConfiguration=function(){O={}};this.isWebGuiV1StatefulContainer=function(e){var t;if(e){t=i._getBlueBoxCacheKey(e);return O[t]!==undefined}else{return false}};this.getWebGuiV1StatefulContainer=function(e){var t;if(e){t=i._getBlueBoxCacheKey(e);return O[t]}else{return undefined}};this.setWebGuiV1StatefulContainer=function(e){var t=e.getUrl(),n;if(t){n=i._getBlueBoxCacheKey(t);O[n]=e}};this.removeWebGuiV1StatefulContainer=function(e){var t=e.getUrl(),n;if(t){n=i._getBlueBoxCacheKey(t);delete O[n]}};this.getWebGuiV1AllApplicationContainers=function(){return Object.keys(O).map(function(e){return O[e]}).filter(function(e){return!!e})}}return new S},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/Storage", [],function(){"use strict";function t(){var t,e;function i(t){this.size=0;if(typeof t=="number"){this.limit=t}else{this.limit=10}this.map={};this.head=null;this.tail=null}i.prototype.LRUnode=function(t,e){if(typeof t!="undefined"&&t!==null){this.key=t}if(typeof e!="undefined"&&e!==null){this.value=e}this.prev=null;this.next=null};i.prototype.setHead=function(t){t.next=this.head;t.prev=null;if(this.head!==null){this.head.prev=t}this.head=t;if(this.tail===null){this.tail=t}this.size++;this.map[t.key]=t};i.prototype.set=function(t,n){var s=new i.prototype.LRUnode(t,n);if(this.map[t]){this.map[t].value=s.value;this.remove(s.key)}else if(this.size>=this.limit){var h=this.map[this.tail.key];delete this.map[this.tail.key];this.size--;this.tail=this.tail.prev;this.tail.next=null;if(e){e(h)}}this.setHead(s)};i.prototype.get=function(t){if(this.map[t]){var e=this.map[t].value;var n=new i.prototype.LRUnode(t,e);this.remove(t);this.setHead(n);return e}else{return null}};i.prototype.remove=function(t){var e=this.map[t];if(e.prev!==null){e.prev.next=e.next}else{this.head=e.next}if(e.next!==null){e.next.prev=e.prev}else{this.tail=e.prev}delete this.map[t];this.size--};i.prototype.removeAll=function(t){this.size=0;this.map={};this.head=null;this.tail=null;if(typeof t=="number"){this.limit=t}};i.prototype.forEach=function(t){var e=this.head,i=0;while(e){t.apply(this,[e,i,this]);i++;e=e.next}};i.prototype.toJSON=function(){var t=[],e=this.head;while(e){t.push({key:e.key,value:e.value});e=e.next}return t};i.prototype.toString=function(){var t="",e=this.head;while(e){t+=String(e.key)+":"+e.value;e=e.next;if(e){t+="\n"}}return t};this.init=function(n,s){t=new i(n);e=s};this.get=function(e){return t.get(e)};this.set=function(e,i){t.set(e,i)};this.remove=function(e){t.remove(e)};this.forEach=function(e){t.forEach(e)};this.length=function(){return t.size}}return new t},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/Application", ["sap/ushell/components/container/ApplicationContainer","sap/ushell/components/applicationIntegration/application/PostMessageAPI","sap/ushell/utils","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/UI5ComponentType","sap/base/Log","sap/base/util/ObjectPath","sap/ui/core/Core"],function(e,t,r,jQuery,i,s,n,a,o){"use strict";var p,l,u=e.getMetadata().getJSONKeys();function c(){var i=this;this.handleMessageEvent=function(t,s,a,o){var p=s.data;if(o===undefined){o=false}if(typeof p==="string"){try{p=JSON.parse(s.data)}catch(e){n.debug("Message received from origin '"+s.origin+"' cannot be parsed: "+e,p,"sap.ushell.components.container.ApplicationContainer");return}}if(p.action==="pro54_setGlobalDirty"&&localStorage.getItem(t.globalDirtyStorageKey)===sap.ushell.Container.DirtyState.PENDING){if(!e.prototype._isTrustedPostMessageSource(t,s)){n.warning("Received message from untrusted origin: "+s.origin,p,"sap.ushell.components.container.ApplicationContainer");return}n.debug("getGlobalDirty() pro54_setGlobalDirty SetItem key:"+t.globalDirtyStorageKey+" value: "+p.parameters.globalDirty,null,"sap.ushell.components.container.ApplicationContainer");r.localStorageSetItem(t.globalDirtyStorageKey,p.parameters.globalDirty,true)}else{i.handleServiceMessageEvent(t,s,p,a,o)}};this.handleServiceMessageEvent=function(i,s,o,p,l){var u=a.get("sap-ushell-config.services.PostMessage.config")||a.create("sap-ushell-config.services.PostMessage.config"),c=o&&o.service,f,g,d,h,v=false,y=t.getAPIs(),m;n.debug("Received post message request from origin '"+s.origin+"': "+JSON.stringify(o),null,"sap.ushell.components.container.ApplicationContainer");if(l===undefined){l=false}if(o.type!=="request"||!c){return}if(c==="sap.ushell.services.MessageBroker"){if(l===true){c=c.concat("._execute")}else{return}}for(var b in y){if(y.hasOwnProperty(b)){if(c.indexOf(b)!==-1){g=y[b];d=b;v=true;break}}}if(v===false){if(p.bPluginsStatusChecked===false||p.bKeepMessagesForPlugins===true){p.bApiRegistered=false}else{A("error",{code:-1,message:"Unknown service name: '"+c+"'"})}return}m=c.indexOf("user.postapi.")===0;f=c.split(".")[3];if(u&&u.enabled===false){n.warning("Received message for "+f+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,"sap.ushell.components.container.ApplicationContainer");return}if(l===false&&!e.prototype._isTrustedPostMessageSource(i,s)){n.warning("Received message from untrusted origin '"+s.origin+"': "+JSON.stringify(s.data),null,"sap.ushell.components.container.ApplicationContainer");return}function S(e,t){var r;if(t===true){r={oMessage:s,oMessageData:o}}else{r={matchesLocalSid:I,getLocalSystemInSidForma:R,storeSapSystemData:M,executeSetBackNavigationService:C,sendResponseMessage:A,oMessage:s,oMessageData:o,oContainer:i}}try{e(r).done(function(e){var t=e&&e.hasOwnProperty("_noresponse_")?true:false;if(!t){A("success",{result:e})}}).fail(function(e){A("error",{message:e})})}catch(e){A("error",{message:e.message})}}function A(e,t){var r=JSON.stringify({type:"response",service:o.service,request_id:o.request_id,status:e,body:t});n.debug("Sending post message response to origin ' "+s.origin+"': "+r,null,"sap.ushell.components.container.ApplicationContainer");if(typeof s.source!=="object"||s.source===null){n.debug("Cannot send response message to origin ' "+s.origin,"`source` member of request message is not an object","sap.ushell.components.container.ApplicationContainer");return}s.source.postMessage(r,s.origin)}function C(t,r){var s=new jQuery.Deferred,n;if(r.body&&r.body.callbackMessage&&r.body.callbackMessage.service){n=e.prototype._backButtonPressedCallback.bind(null,t.source,r.body.callbackMessage.service,t.origin)}s.resolve(i.getShellUIService().setBackNavigation(n));return s.promise()}function M(e,t){var i,s,a,o=[e.id];if(arguments.length>1){o.unshift(t)}try{a=JSON.stringify(e)}catch(e){n.error("Cannot stringify and store expanded system data: "+e)}if(a){s=r.getLocalStorage();i=r.generateLocalStorageKey("sap-system-data",o);s.setItem(i,a)}}function R(){var e=sap.ushell.Container.getLogonSystem();var t=e.getName();var r=e.getClient();return"sid("+t+"."+r+")"}function I(e){return R().toLowerCase()===e.toLowerCase()}h=g.oServiceCalls[c.replace(d+".","")];if(h&&h.executeServiceCallFn){S(h.executeServiceCallFn,m)}else{A("error",{code:-1,message:"Unknown service name: '"+c+"'"})}};this.init=function(e){l=e};this.restoreArray=function(e){var t=[],r=0;while(e[r]){t.push(e[r]);r++}return t};this._createWaitForRendererCreatedPromise=function(){var e,t;t=sap.ushell.Container.getRenderer();if(t){n.debug("Shell controller._createWaitForRendererCreatedPromise: shell renderer already created, return empty array.");return[]}e=new Promise(function(e,r){var i;i=function(){n.info("Shell controller: resolving component waitFor promise after shell renderer created event fired.");e();sap.ushell.Container.detachRendererCreatedEvent(i)};t=sap.ushell.Container.getRenderer();if(t){n.debug("Shell controller: resolving component waitFor promise immediately (shell renderer already created");e()}else{sap.ushell.Container.attachRendererCreatedEvent(i)}});return[e]};this.createComponent=function(e,t){var r=this,i=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(n){n.createComponent(e,t,r._createWaitForRendererCreatedPromise(),s.Application).then(i.resolve,i.reject)});return i.promise()};this.stripURL=function(e){var t=e.indexOf("?"),r=e.indexOf("#"),i;if(t>=0){i=e.substr(0,t)}else if(r>=0){i=e.substr(0,r)}else{i=e}return i};this.createApplicationContainer=function(t,r){var i={};this._cleanTargetResolution(r,i);p=new e("application"+t,r);this._restoreTargetResolution(r,i);if(r.appCapabilities){p.setProperty("frameworkId",r.appCapabilities.appFrameworkId,true)}p.setHandleMessageEvent(this.handleMessageEvent);l.setAppCapabilities(p,r);return p};this.active=function(e){if(e){if(e.active){e.active()}}};this.restore=function(e){var t;if(e.container&&e.container._getIFrame&&e.container._getIFrame()!=undefined){this.postMessageToIframeApp(e.container,"sap.ushell.appRuntime","keepAliveAppShow",{},false)}if(e.app){o.getEventBus().publish("sap.ushell","appKeepAliveActivate",e.appTarget);if(e.app.getUrl){t=e.app.getUrl();p=l.get(this.stripURL(t));if(p){l.restoreApp(p.sApplication)}}if(e.app.isKeepAliveSupported&&e.app.isKeepAliveSupported()===true){e.app.activate()}else{if(e.app.restore){e.app.restore()}if(e.app.getRouter&&e.app.getRouter()&&e.app.getRouter().initialize){if(e.enableRouterRetrigger===false){e.app.getRouter().initialize()}else{e.app.getRouter().initialize(true)}}if(e.app.setInitialConfiguration){e.app.setInitialConfiguration()}}p=e.app}};this.store=function(e){var t;if(e.container&&e.container._getIFrame&&e.container._getIFrame()!=undefined){this.postMessageToIframeApp(e.container,"sap.ushell.appRuntime","keepAliveAppHide",{},false)}if(e.app){o.getEventBus().publish("sap.ushell","appKeepAliveDeactivate",e.appTarget);if(e.app.getUrl){t=e.app.getUrl();p=l.get(this.stripURL(t));if(p){l.storeApp(p.sApplication)}}if(e.app.isKeepAliveSupported&&e.app.isKeepAliveSupported()===true){e.app.deactivate()}else{if(e.app.suspend){e.app.suspend()}if(e.app.getRouter&&e.app.getRouter()){e.app.getRouter().stop()}}}};this.destroy=function(e){var t,r,i=false;if(e){if(e.getUrl){t=e.getUrl();r=l.get(this.stripURL(t));if(l.isStatefulContainerSupported(r)){i=true;l.destroyApp(r.sApplication)}}if(e.destroy&&i===false){try{e.destroy()}catch(t){n.error("exception when trying to close sapui5 application with id '"+(e.sId||"<unknown>")+"'. This error must be fixed in order for FLP to operate properly.\n",t.stack,"sap.ushell.components.applicationIntegration.application.Application::destroy")}}}};this.setActiveAppContainer=function(e){p=e};this.getActiveAppContainer=function(){return p};function u(e){try{var t=e.data;if(typeof t==="string"&&t.indexOf("sap.ushell.services.MessageBroker")>0){try{t=JSON.parse(e.data);if(typeof t==="object"&&t.type==="request"&&t.service==="sap.ushell.services.MessageBroker"){sap.ushell.Container.getServiceAsync("MessageBroker").then(function(t){var r=t.getAcceptedOrigins().find(function(t){return t===e.origin});if(r===undefined){return}i.handleMessageEvent(undefined,e,{},true)})}}catch(e){return}}}catch(e){n.error(e.message,e.stack)}}if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getServiceAsync){sap.ushell.Container.getServiceAsync("MessageBroker").then(function(e){if(e.isEnabled()){addEventListener("message",u.bind(i))}})}}c.prototype._cleanTargetResolution=function(e,t){var r;if(e){for(r in e){if(u[r]===undefined){t[r]=e[r];delete e[r]}}}};c.prototype._restoreTargetResolution=function(e,t){var r;if(e){for(r in t){e[r]=t[r]}}};c.prototype.getResponseHandler=function(e,r){return t.getResponseHandler(e,r)};c.prototype.isActiveOnly=function(e,r){return t.isActiveOnly(e,r)};c.prototype.isAppTypeSupported=function(e,r,i){var s=t._getPostMesageInterface(r,i);return this.isAppTypeSupportedByPolicy(e,s)};c.prototype.isAppTypeSupportedByPolicy=function(e,t){if(e&&e.getAdditionalInformation&&e.getAdditionalInformation().startsWith("SAPUI5.Component=")){return false}var r=t;if(!r||!r.distributionType){return false}if(r.distributionType.indexOf("all")>=0){return true}if(r.distributionType.indexOf("URL")>=0){return false}if(e.getApplicationType&&r.distributionType.indexOf(e.getApplicationType())>=0){return true}return false};c.prototype.postMessageToIframeApp=function(e,t,r,i,s){var n=t+"."+r,a=this.createPostMessageRequest(n,i);return this.postMessageToIframe(a,e,s)};c.prototype.createPostMessageRequest=function(e,t){var r=Date.now().toString();return{type:"request",request_id:r,service:e,body:t}};c.prototype.createPostMessageResponse=function(e,t,r,i){return{type:"response",request_id:t,service:e,status:i?"success":"error",body:r}};c.prototype.postMessageToIframe=function(e,t,r){var s=t._getIFrame(),n,a;if(!s||!t._getIFrameUrl){return Promise.resolve()}n=new i(t._getIFrameUrl(s));a=n.protocol()+"://"+n.host();return this.postMessageToIframeObject(e,s,a,r,true)};c.prototype.postMessageToIframeObject=function(e,t,r,i,s){var a=e.request_id;return new Promise(function(o,p){function l(r){var i;try{if((s===true?t.contentWindow:t)!==r.source){return}if(typeof r.data==="string"&&r.data.indexOf("{")===0){try{i=JSON.parse(r.data)}catch(e){i={}}}else{return}if(!i.request_id||a!==i.request_id){return}if(i.status==="success"){o(i)}else{p(i)}window.removeEventListener("message",l)}catch(t){o();n.warning("Obtained bad response from framework in response to message "+e.request_id);n.debug("Underlying framework returned invalid response data: '"+r.data+"'")}}if(!t){o()}else{var u=JSON.stringify(e);n.debug("Sending postMessage "+u+" to iframe with domain '"+r+"'");if(i){window.addEventListener("message",l,false);if(s===true){t.contentWindow.postMessage(u,r)}else{t.postMessage(u,r)}}else{if(s===true){t.contentWindow.postMessage(u,r)}else{t.postMessage(u,r)}o()}}})};c.prototype.registerShellCommunicationHandler=function(e){t.registerShellCommunicationHandler(e)};c.prototype._getPostMesageInterface=function(e,r){return t._getPostMesageInterface(e,r)};return new c},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/BlueBoxHandler", ["sap/ushell/components/applicationIntegration/application/BlueBoxesCache","sap/ushell/components/applicationIntegration/application/Application","sap/ushell/components/container/ApplicationContainer","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/ui/core/Core","sap/ui/thirdparty/hasher"],function(e,t,i,jQuery,s,a,p){"use strict";function n(){var n=this,r,u={isStateful:{handler:function(e,t){if(e&&(e.enabled===true||e===true)){return true}return false}},isGUI:{handler:function(e,t){if(e&&e.protocol==="GUI"){return true}return false}},isGUIStateful:{handler:function(e,t){return n.isCapUT(t,"isGUI")&&n.isCapUT(t,"isStateful")}},isFLP:{handler:function(e,t){return!n.isCapUT(t,"isGUI")&&n.isCapUT(t,"isStateful")}}},l={},o={},f={setup:function(e,t){},create:function(e,s,n,r,u){var o=new jQuery.Deferred,f,c;function h(){if(f){f["sap-flp-url"]=sap.ushell.Container.getFLPUrl(true);f["system-alias"]=e.getSystemAlias();c["sap-flp-params"]=f}a.getEventBus().publish("launchpad","appOpening",r);t.postMessageToIframeApp(e,"sap.ushell.services.appLifeCycle","create",c,true).then(function(t){l[e].currentAppTarget=r;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(i){if(u===true){i.prepareCurrentAppObject("URL",undefined,false,e)}a.getEventBus().publish("sap.ushell","appOpened",r);o.resolve(t&&t.body&&t.body.result)})})}s=i.prototype._checkNwbcUrlAdjustment(e,r.applicationType,s);c={sCacheId:n,sUrl:s,sHash:p.getHash()};if(s.indexOf("sap-iframe-hint=GUI")>0||s.indexOf("sap-iframe-hint=WDA")>0||s.indexOf("sap-iframe-hint=WCF")>0){var d=[];var C=i.prototype._getParamKeys(s,d);if(C.length>0){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.getAppStateData(C).then(function(e){f={};d.forEach(function(t,i){if(e[i][0]){f[t]=e[i][0]}});h()},function(){h()})})}else{f={};h()}}else{h()}return o.promise()},destroy:function(e,i){var s;sap.ushell.Container.setAsyncDirtyStateProvider(undefined);s=t.postMessageToIframeApp(e,"sap.ushell.services.appLifeCycle","destroy",{sCacheId:i},true);s.then(function(){a.getEventBus().publish("sap.ushell","appClosed",l[e].currentAppTarget);l[e].currentAppTarget=undefined});return s},store:function(e,i){var s;sap.ushell.Container.setAsyncDirtyStateProvider(undefined);s=t.postMessageToIframeApp(e,"sap.ushell.services.appLifeCycle","store",{sCacheId:i},true);s.then(function(){a.getEventBus().publish("sap.ushell","appClosed",l[e].currentAppTarget);l[e].currentAppTarget=undefined});return s},restore:function(e,i,s,n){return new Promise(function(r){a.getEventBus().publish("launchpad","appOpening",s);t.postMessageToIframeApp(e,"sap.ushell.services.appLifeCycle","restore",{sCacheId:i,sUrl:s.url,sHash:p.getHash()},true).then(function(){l[e].currentAppTarget=s;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(t){if(n===true){t.prepareCurrentAppObject("URL",undefined,false,e)}a.getEventBus().publish("sap.ushell","appOpened",s);r()})})})}},c=[{service:"sap.ushell.services.appLifeCycle",action:"create"},{service:"sap.ushell.services.appLifeCycle",action:"destroy"}];this.init=function(i,a,p){e.init();t.init(this);r=p;if(a){s(o,a.supportedTypes)}};this.isStatefulContainerSupported=function(e){var t=this.isCapabilitySupported(e,"sap.ushell.services.appLifeCycle","create")&&this.isCapabilitySupported(e,"sap.ushell.services.appLifeCycle","destroy");return t};this.isKeepAliveSupported=function(e){var t=this.isCapabilitySupported(e,"sap.ushell.services.appLifeCycle","store")&&this.isCapabilitySupported(e,"sap.ushell.services.appLifeCycle","restore");return t};this.isIframeIsValidSupported=function(e){return this.isCapabilitySupported(e,"sap.ushell.appRuntime","iframeIsValid")};this.isIframeBusySupported=function(e){return this.isCapabilitySupported(e,"sap.ushell.appRuntime","iframeIsBusy")};this.mapCapabilities=function(e,t){this.setCapabilities(e,t)};this.getCapabilities=function(e){return l[e].oCapMap};this.isCapabilitySupported=function(e,t,i){if(l[e]&&l[e].oCapMap&&l[e].oCapMap[t]){return!!l[e].oCapMap[t][i]}return false};this.setCapabilities=function(e,t){var i;if(!l[e]){this.initBlueBoxBD(e)}if(!l[e].oCapMap){l[e].oCapMap={}}i=l[e].oCapMap;Object.keys(t).forEach(function(e){var s=t[e],a;if(!i[s.service]){i[s.service]={}}a=i[s.service];a[s.action]=true});if(!e.getIsStateful()&&this.isStatefulContainerSupported(e)){e.setIsStateful(true)}};this.removeCapabilities=function(e){if(l[e]){l[e].oCapMap={};e.setIsStateful(false)}};this.hasIFrame=function(e){if(e&&e._getIFrame){return true}return false};this.initBlueBoxBD=function(e){l[e]={BlueBox:e}};this.setAppCapabilities=function(e,t){if(!l[e]){this.initBlueBoxBD(e)}l[e].currentAppTarget=t;l[e].appCapabilities=t.appCapabilities;if(t.appCapabilities&&t.appCapabilities.statefulContainer===true){this.setCapabilities(e,c)}};this.forEach=function(e){var t;for(t in l){if(l.hasOwnProperty(t)){e(l[t].BlueBox)}}};this.isCapByTarget=function(e,t){if(e.appCapabilities===undefined){return false}if(u[t]&&e&&e.appCapabilities){return u[t].handler(e.appCapabilities)}return e.appCapabilities[t]||false};this.isCapUT=function(e,t){var i=l[e];if(i===undefined||i.appCapabilities===undefined){return false}if(u[t]&&i){return u[t].handler(i.appCapabilities,e)}return i.appCapabilities[t]||false};this.setStorageKey=function(e,t){if(!l[e]){this.initBlueBoxBD(e)}l[e].sStorageKey=t};this.getStorageKey=function(e){if(!l[e]){return undefined}return l[e].sStorageKey};this.getHandler=function(){return f};this._getBlueBoxCacheKey=function(t){return e.getBlueBoxCacheKeyValues(t).sKey};this.deleteStateFul=function(e){return this.delete(e)};this.getStateFul=function(t){return e.get(t)};this.destroyApp=function(e){r.postMessageToIframeApp("sap.ushell.services.appLifeCycle","destroy",{appId:e})};this.openApp=function(e){r.postMessageToIframeApp("sap.ushell.services.appLifeCycle","create",{appId:e,sHash:p.getHash()})};this.storeApp=function(e){r.postMessageToIframeApp("sap.ushell.services.appLifeCycle","store",{appId:e,sHash:p.getHash()})};this.restoreApp=function(e){r.postMessageToIframeApp("sap.ushell.services.appLifeCycle","restore",{appId:e,sHash:p.getHash()})};this.delete=function(t){e.remove(t)};this.get=function(t){return e.get(t)};this.getById=function(t){return e.getById(t)};this.set=function(t,i){e.add(t,i)}}return new n},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/BlueBoxesCache", ["sap/ui/thirdparty/URI","sap/base/Log"],function(e,n){"use strict";var i={};function r(){i={}}function t(){return Object.keys(i).length}function a(e,n){var r=u(e);i[r.sKey]={oContainer:n,oKeyValues:r}}function s(e){var n=u(e).sKey;if(i[n]){delete i[n]}}function o(e){if(e===undefined||t()===0){return undefined}var n=u(e).sKey;return n&&i.hasOwnProperty(n)?i[n].oContainer:undefined}function f(e){for(var n in i){if(i.hasOwnProperty(n)){var r=i[n].oContainer;if(r.sId===e){return r}}}return undefined}function u(i){var r,t,a,s="",o="",f="",u="",p={sKey:"",sOrigin:"",sIframeHint:"",sUI5Version:"",sKeepAlive:""};if(i===undefined||i===""||i==="../"){p.sKey=i;return p}try{r=new e(i);if(i.charAt(0)==="/"){t=window.location.origin}else{t=r.origin()}if(t===undefined||t===""){t=r.path();if(t===undefined||t===""){t=i}}a=r.query(true);if(a.hasOwnProperty("sap-iframe-hint")){p.sIframeHint=a["sap-iframe-hint"];s="@"+p.sIframeHint}if(a.hasOwnProperty("sap-ui-version")){p.sUI5Version=a["sap-ui-version"];o="@"+p.sUI5Version}if((s==="@GUI"||s==="@WDA"||s==="@WCF")&&a.hasOwnProperty("sap-keep-alive")){p.sKeepAlive=a["sap-keep-alive"];f="@"+p.sKeepAlive+"-"+i}if(a.hasOwnProperty("sap-testcflp-iframeid")){u="@"+a["sap-testcflp-iframeid"]}}catch(e){n.error("URL '"+i+"' can not be parsed: "+e,"sap.ushell.components.applicationIntegration.application.BlueBoxHandler");t=i}p.sOrigin=t;p.sKey=t+s+o+f+u;return p}return{init:r,getSize:t,add:a,remove:s,get:o,getById:f,getBlueBoxCacheKeyValues:u}},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/PostMessageAPI", ["sap/ushell/utils","sap/ui/core/library","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/UIComponent","sap/ushell/services/AppConfiguration","sap/ushell/EventHub","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface","sap/ui/thirdparty/URI","sap/base/util/deepExtend","sap/ushell/Config","sap/ushell/utils/UrlParsing","sap/ui/core/Core","sap/m/Button","sap/m/library","sap/ui/thirdparty/hasher","sap/ushell/resources","sap/ushell/ui/shell/ShellHeadItem","sap/ui/core/Configuration"],function(e,t,jQuery,r,n,a,o,s,i,l,c,u,p,d,f,g,v,h,y){"use strict";var C="sap.ushell.";var S=new n;var m=f.URLHelper;var D={"sap.ushell.services.CrossApplicationNavigation":{oServiceCalls:{hrefForExternal:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.hrefForExternalAsync(e.oMessageData.body.oArgs,undefined,true).then(t.resolve,t.reject)});return t.promise()}},getSemanticObjectLinks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getSemanticObjectLinks(e.oMessageData.body.sSemanticObject,e.oMessageData.body.mParameters,e.oMessageData.body.bIgnoreFormFactors,undefined,undefined,e.oMessageData.body.bCompactIntents).then(t.resolve,t.reject)});return t.promise()}},isIntentSupported:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.isIntentSupported(e.oMessageData.body.aIntents).then(t.resolve,t.reject)});return t.promise()}},isNavigationSupported:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.isNavigationSupported(e.oMessageData.body.aIntents).then(t.resolve,t.reject)});return t.promise()}},backToPreviousApp:{executeServiceCallFn:function(){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.backToPreviousApp()});return(new jQuery.Deferred).resolve().promise()}},historyBack:{executeServiceCallFn:function(e){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.historyBack(e.oMessageData.body.iSteps)});return(new jQuery.Deferred).resolve().promise()}},getAppStateData:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getAppStateData(e.oMessageData.body.sAppStateKey).then(t.resolve,t.reject)});return t.promise()}},toExternal:{executeServiceCallFn:function(t){var r=new jQuery.Deferred,n=l({},t.oMessageData.body.oArgs);e.storeSapSystemToLocalStorage(n);sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.toExternal(n).then(r.resolve,r.reject)});return r.promise()}},registerBeforeAppCloseEvent:{executeServiceCallFn:function(e){e.oContainer.setProperty("beforeAppCloseEvent",{enabled:true,params:e.oMessageData.body},true);return(new jQuery.Deferred).resolve().promise()}},expandCompactHash:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.expandCompactHash(e.oMessageData.body.sHashFragment).then(t.resolve,t.reject)});return t.promise()}},getDistinctSemanticObjects:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.getDistinctSemanticObjects().then(e.resolve,e.reject)});return e.promise()}},getLinks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getLinks(e.oMessageData.body).then(t.resolve,t.reject)});return t.promise()}},getPrimaryIntent:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getPrimaryIntent(e.oMessageData.body.sSemanticObject,e.oMessageData.body.mParameters).then(t.resolve,t.reject)});return t.promise()}},hrefForAppSpecificHash:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.hrefForAppSpecificHashAsync(e.oMessageData.body.sAppHash).then(t.resolve,t.reject)});return t.promise()}},isInitialNavigation:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.isInitialNavigationAsync().then(function(t){e.resolve(t)})});return e.promise()}},getAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getAppState(S,e.oMessageData.body.sAppStateKey).done(function(e){delete e._oServiceInstance;t.resolve(e)})});return t.promise()}},setInnerAppRoute:{executeServiceCallFn:function(e){var t=u.parseShellHash(g.getHash()),r;if(t.appSpecificRoute===e.oMessageData.body.appSpecificRoute){return(new jQuery.Deferred).resolve().promise()}t.appSpecificRoute=e.oMessageData.body.appSpecificRoute;r="#"+u.constructShellHash(t);g.disableBlueBoxHashChangeTrigger=true;if(e.oMessageData.body.writeHistory===true||e.oMessageData.body.writeHistory==="true"){g.setHash(r)}else{g.replaceHash(r)}g.disableBlueBoxHashChangeTrigger=false;return(new jQuery.Deferred).resolve().promise()}},setInnerAppStateData:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;b.prototype._createNewInnerAppState(e).then(t.resolve);return t.promise()}},resolveIntent:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.resolveIntent(e.oMessageData.body.sHashFragment).then(t.resolve,t.reject)});return t.promise()}}}},"sap.ushell.ui5service.ShellUIService":{oServiceCalls:{setTitle:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(e.oContainer.getShellUIService().setTitle(e.oMessageData.body.sTitle)).promise()}},setBackNavigation:{executeServiceCallFn:function(e){return e.executeSetBackNavigationService(e.oMessage,e.oMessageData)}}}},"sap.ushell.services.ShellUIService":{oServiceCalls:{setTitle:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(e.oContainer.getShellUIService().setTitle(e.oMessageData.body.sTitle)).promise()}},setHierarchy:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(e.oContainer.getShellUIService().setHierarchy(e.oMessageData.body.aHierarchyLevels)).promise()}},setRelatedApps:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(e.oContainer.getShellUIService().setRelatedApps(e.oMessageData.body.aRelatedApps)).promise()}},setDirtyFlag:{executeServiceCallFn:function(e){sap.ushell.Container.setDirtyFlag(e.oMessageData.body.bIsDirty);return(new jQuery.Deferred).resolve().promise()}},showShellUIBlocker:{executeServiceCallFn:function(e){var t=e.oMessageData.body.bShow;M(t);sap.ui.getCore().getEventBus().publish("sap.ushell.services.ShellUIService","showShellUIBlocker",{bShow:t});return(new jQuery.Deferred).resolve().promise()}},getFLPUrl:{executeServiceCallFn:function(e){var t=false;if(e.oMessageData.body&&e.oMessageData.body.bIncludeHash===true){t=true}return(new jQuery.Deferred).resolve(sap.ushell.Container.getFLPUrl(t)).promise()}},getShellGroupIDs:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.getShellGroupIDs(e.oMessageData.body?e.oMessageData.body.bGetAll:undefined).then(t.resolve,t.reject)});return t.promise()}},addBookmark:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.addBookmarkByGroupId(e.oMessageData.body.oParameters,e.oMessageData.body.groupId).then(t.resolve,t.reject)});return t.promise()}},addBookmarkDialog:{executeServiceCallFn:function(e){sap.ui["require"](["sap/ushell/ui/footerbar/AddBookmarkButton"],function(e){var t=new e;t.firePress({})});return(new jQuery.Deferred).resolve().promise()}},getShellGroupTiles:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("LaunchPage").then(function(r){r.getTilesByGroupId(e.oMessageData.body.groupId).then(t.resolve,t.reject)});return t.promise()}},sendUrlAsEmail:{executeServiceCallFn:function(e){var t=c.last("/core/shellHeader/application").title;var r=t===undefined?v.i18n.getText("linkToApplication"):v.i18n.getText("linkTo")+" '"+t+"'";b.prototype._sendEmail("",r,document.URL,"","",document.URL,true);return(new jQuery.Deferred).resolve().promise()}},sendEmailWithFLPButton:{executeServiceCallFn:function(e){var t=c.last("/core/shellHeader/application").title;var r=t===undefined?v.i18n.getText("linkToApplication"):v.i18n.getText("linkTo")+" '"+t+"'";b.prototype._sendEmail("",r,document.URL,"","",document.URL,e.oMessageData.body.bSetAppStateToPublic);return(new jQuery.Deferred).resolve().promise()}},sendEmail:{executeServiceCallFn:function(e){b.prototype._sendEmail(e.oMessageData.body.sTo,e.oMessageData.body.sSubject,e.oMessageData.body.sBody,e.oMessageData.body.sCc,e.oMessageData.body.sBcc,e.oMessageData.body.sIFrameURL,e.oMessageData.body.bSetAppStateToPublic);return(new jQuery.Deferred).resolve().promise()}},processHotKey:{executeServiceCallFn:function(e){var t;try{t=new KeyboardEvent("keydown",e.oMessageData.body)}catch(a){var r=document.createEvent("KeyboardEvent"),n="";if(e.oMessageData.body.altKey){n+="Alt "}if(e.oMessageData.body.ctrlKey){n+="Control "}if(e.oMessageData.body.shiftKey){n+="Shift "}r.initKeyboardEvent("keydown",false,false,null,e.oMessageData.body.key,e.oMessageData.body.keyCode,n,0,false);t=r}document.dispatchEvent(t);return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.Container":{oServiceCalls:{setDirtyFlag:{executeServiceCallFn:function(e){sap.ushell.Container.setDirtyFlag(e.oMessageData.body.bIsDirty);return(new jQuery.Deferred).resolve().promise()}},registerDirtyStateProvider:{executeServiceCallFn:function(e){if(e.oMessageData.body.bRegister){b.prototype.registerAsyncDirtyStateProvider(e)}else{b.prototype.deregisterAsyncDirtyStateProvider(e)}return(new jQuery.Deferred).resolve().promise()}},getFLPUrl:{executeServiceCallFn:function(e){var t=false;if(e.oMessageData.body&&e.oMessageData.body.bIncludeHash===true){t=true}return(new jQuery.Deferred).resolve(sap.ushell.Container.getFLPUrl(t)).promise()}},getFLPConfig:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getFLPConfig().then(function(e){t.resolve(e)});return t.promise()}},getFLPPlatform:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getFLPPlatform().then(t.resolve);return t.promise()}}}},"sap.ushell.services.AppState":{oServiceCalls:{getAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r.getAppState(e.oMessageData.body.sKey).done(function(e){delete e._oServiceInstance;t.resolve(e)}).fail(function(e){delete e._oServiceInstance;t.resolve(e)})});return t.promise()}},_saveAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r._saveAppState(e.oMessageData.body.sKey,e.oMessageData.body.sData,e.oMessageData.body.sAppName,e.oMessageData.body.sComponent,e.oMessageData.body.bTransient,e.oMessageData.body.iPersistencyMethod,e.oMessageData.body.oPersistencySettings).then(t.resolve,t.reject)});return t.promise()}},_loadAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r._loadAppState(e.oMessageData.body.sKey).then(t.resolve,t.reject)});return t.promise()}},deleteAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r.deleteAppState(e.oMessageData.body.sKey).then(t.resolve,t.reject)});return t.promise()}},makeStatePersistent:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r.makeStatePersistent(e.oMessageData.body.sKey,e.oMessageData.body.iPersistencyMethod,e.oMessageData.body.oPersistencySettings).then(t.resolve,t.reject)});return t.promise()}}}},"sap.ushell.services.Bookmark":{oServiceCalls:{addBookmarkUI5:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){b.prototype._stripBookmarkServiceUrlForLocalContentProvider(e.oMessageData.body.oParameters,r);sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.addBookmark(e.oMessageData.body.oParameters,e.oMessageData.body.vContainer,r.id).then(t.resolve,t.reject)})})});return t.promise()}},addBookmark:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.addBookmarkByGroupId(e.oMessageData.body.oParameters,e.oMessageData.body.groupId).then(t.resolve,t.reject)});return t.promise()}},getShellGroupIDs:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(t){t.getShellGroupIDs().then(e.resolve,e.reject)});return e.promise()}},addCatalogTileToGroup:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.addCatalogTileToGroup(e.oMessageData.body.sCatalogTileId,e.oMessageData.body.sGroupId,e.oMessageData.body.oCatalogData).then(t.resolve,t.reject)});return t.promise()}},countBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.countBookmarks(e.oMessageData.body.sUrl,r.id).then(t.resolve,t.reject)})})});return t.promise()}},deleteBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.deleteBookmarks(e.oMessageData.body.sUrl,r.id).then(t.resolve,t.reject)})})});return t.promise()}},updateBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.updateBookmarks(e.oMessageData.body.sUrl,e.oMessageData.body.oParameters,r.id).then(t.resolve,t.reject)})})});return t.promise()}},getContentNodes:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(t){t.getContentNodes().then(e.resolve,e.reject)});return e.promise()}},addCustomBookmark:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.addCustomBookmark(e.oMessageData.body.sVizType,e.oMessageData.body.oConfig,e.oMessageData.body.vContentNodes,r.id).then(t.resolve,t.reject)})})});return t.promise()}},countCustomBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){e.oMessageData.body.oIdentifier.contentProviderId=r.id;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.countCustomBookmarks(e.oMessageData.body.oIdentifier).then(t.resolve,t.reject)})})});return t.promise()}},updateCustomBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){e.oMessageData.body.oIdentifier.contentProviderId=r.id;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.updateCustomBookmarks(e.oMessageData.body.oIdentifier,e.oMessageData.body.oConfig).then(t.resolve,t.reject)})})});return t.promise()}},deleteCustomBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){e.oMessageData.body.oIdentifier.contentProviderId=r.id;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.deleteCustomBookmarks(e.oMessageData.body.oIdentifier).then(t.resolve,t.reject)})})});return t.promise()}},addBookmarkToPage:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.addBookmarkToPage(e.oMessageData.body.oParameters,e.oMessageData.body.sPageId,r.id).then(t.resolve,t.reject)})})});return t.promise()}}}},"sap.ushell.services.AppLifeCycle":{oServiceCalls:{getFullyQualifiedXhrUrl:{executeServiceCallFn:function(e){var t="",r="",n=new jQuery.Deferred,a=e.oMessageData.body.path;if(a!==""&&a!==undefined&&a!==null){sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(e){e.getCurrentApplication().getSystemContext().then(function(e){r=e.getFullyQualifiedXhrUrl(a);var o="",s="",l="",c=sap.ushell.Container.getFLPUrl(true),u=new i(c);if(u.protocol()!==null&&u.protocol()!==undefined&&u.protocol()!==""){s=u.protocol()+"://"}if(u.hostname()!==null&&u.hostname()!==undefined&&u.hostname()!==""){o=u.hostname()}if(u.port()!==null&&u.port()!==undefined&&u.port()!==""){l=":"+u.port()}t=s+o+l+r;n.resolve(t)})})}return n.promise()}},getSystemAlias:{executeServiceCallFn:function(e){var t=e.oContainer.getSystemAlias();if(t===null||t===undefined){t=""}return(new jQuery.Deferred).resolve(t).promise()}},setNewAppInfo:{executeServiceCallFn:function(e){sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(t){t.setAppInfo(e.oMessageData.body,true)});return(new jQuery.Deferred).resolve().promise()}},updateCurrentAppInfo:{executeServiceCallFn:function(e){sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(t){t.setAppInfo(e.oMessageData.body,false)});return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.AppConfiguration":{oServiceCalls:{setApplicationFullWidth:{executeServiceCallFn:function(e){a.setApplicationFullWidth(e.oMessageData.body.bValue);return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.appRuntime":{oRequestCalls:{innerAppRouteChange:{isActiveOnly:true,distributionType:["all"]},keepAliveAppHide:{isActiveOnly:true,distributionType:["all"]},keepAliveAppShow:{isActiveOnly:true,distributionType:["all"]},hashChange:{isActiveOnly:true,distributionType:["URL"]},setDirtyFlag:{isActiveOnly:true,distributionType:["URL"]},getDirtyFlag:{isActiveOnly:true,distributionType:["URL"]},themeChange:{isActiveOnly:false,distributionType:["all"]},uiDensityChange:{isActiveOnly:false,distributionType:["all"]}},oServiceCalls:{hashChange:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;g.disableBlueBoxHashChangeTrigger=true;g.replaceHash(e.oMessageData.body.newHash);g.disableBlueBoxHashChangeTrigger=false;var n=e.oMessageData.body.direction;if(n){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.hashChanger.fireEvent("hashReplaced",{hash:e.hashChanger.getHash(),direction:n});r.debug("PostMessageAPI.hashChange :: Informed by the Iframe, to change the "+"History direction property in FLP to: "+n);t.resolve()})}else{t.resolve()}return t.promise()}},iframeIsValid:{executeServiceCallFn:function(e){e.oContainer.setProperty("isIframeValidTime",{time:(new Date).getTime()},true);return(new jQuery.Deferred).resolve().promise()}},iframeIsBusy:{executeServiceCallFn:function(e){e.oContainer.setProperty("isIframeBusy",e.oMessageData.body.bValue,true);return(new jQuery.Deferred).resolve().promise()}},isInvalidIframe:{executeServiceCallFn:function(e){e.oContainer.setProperty("isInvalidIframe",e.oMessageData.body.bValue,true);return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.UserInfo":{oServiceCalls:{getThemeList:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){e.getThemeList().then(t.resolve,t.reject)});return t.promise()}},getShellUserInfo:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){e.getShellUserInfo().then(t.resolve,t.reject)});return t.promise()}},getLanguageList:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){e.getLanguageList().then(t.resolve,t.reject)});return t.promise()}},updateUserPreferences:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;if(e.oMessageData.body.language){sap.ushell.Container.getUser().setLanguage(e.oMessageData.body.language);sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){e.updateUserPreferences().then(function(){sap.ushell.Container.getUser().resetChangedProperty("language");t.resolve()},t.reject)})}else{t.resolve()}return t.promise()}},openThemeManager:{executeServiceCallFn:function(e){o.emit("openThemeManager",Date.now());return(new jQuery.Deferred).resolve().promise()}},getLocaleData:{executeServiceCallFn:function(e){var t={},r=y.getFormatSettings();t.dateFormatShort=r.getDatePattern("short");t.dateFormatMedium=r.getDatePattern("medium");t.numberFormatGroup=r.getNumberSymbol("group");t.numberFormatDecimal=r.getNumberSymbol("decimal");t.timeFormatShort=r.getTimePattern("short");t.timeFormatMedium=r.getTimePattern("medium");t.calendarMapping=r.getLegacyDateCalendarCustomizing();t.timeZone=y.getTimezone();t.currencyFormats=r.getCustomCurrencies();return(new jQuery.Deferred).resolve(t).promise()}}}},"sap.ushell.services.ShellNavigation":{oServiceCalls:{toExternal:{executeServiceCallFn:function(e){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){t.toExternal(e.oMessageData.body.oArgs,undefined,e.oMessageData.body.bWriteHistory)});return(new jQuery.Deferred).resolve().promise()}},toAppHash:{executeServiceCallFn:function(e){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){t.toAppHash(e.oMessageData.body.sAppHash,e.oMessageData.body.bWriteHistory)});return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.NavTargetResolution":{oServiceCalls:{getDistinctSemanticObjects:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(t){t.getDistinctSemanticObjects().then(e.resolve,e.reject)});return e.promise()}},expandCompactHash:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(r){r.expandCompactHash(e.oMessageData.body.sHashFragment).then(t.resolve,t.reject)});return t.promise()}},resolveHashFragment:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(r){r.resolveHashFragment(e.oMessageData.body.sHashFragment).then(t.resolve,t.reject)});return t.promise()}},isIntentSupported:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(r){r.isIntentSupported(e.oMessageData.body.aIntents).then(t.resolve,t.reject)});return t.promise()}},isNavigationSupported:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(r){r.isNavigationSupported(e.oMessageData.body.aIntents).then(t.resolve,t.reject)});return t.promise()}}}},"sap.ushell.services.Renderer":{oServiceCalls:{addHeaderItem:{executeServiceCallFn:function(e){F("addHeaderItem",e);return(new jQuery.Deferred).resolve().promise()}},addHeaderEndItem:{executeServiceCallFn:function(e){F("addHeaderEndItem",e);return(new jQuery.Deferred).resolve().promise()}},showHeaderItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},showHeaderEndItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").showHeaderEndItem(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},hideHeaderItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").hideHeaderItem(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},hideHeaderEndItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").hideHeaderEndItem(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},setHeaderTitle:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").setHeaderTitle(e.oMessageData.body.sTitle);return(new jQuery.Deferred).resolve().promise()}},setHeaderVisibility:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").setHeaderVisibility(e.oMessageData.body.bVisible,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},createShellHeadItem:{executeServiceCallFn:function(e){var t=e.oMessageData.body.params;t.press=function(){e.oContainer.postMessageRequest("sap.ushell.appRuntime.buttonClick",{buttonId:t.id})};new h(t);return(new jQuery.Deferred).resolve().promise()}},showActionButton:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").showActionButton(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},hideActionButton:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").hideActionButton(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},addUserAction:{executeServiceCallFn:function(e){e.oMessageData.body.oParameters.oControlProperties.press=function(){e.oContainer.postMessageRequest("sap.ushell.appRuntime.buttonClick",{buttonId:e.oMessageData.body.oParameters.oControlProperties.id})};sap.ushell.Container.getRenderer("fiori2").addUserAction(e.oMessageData.body.oParameters);return(new jQuery.Deferred).resolve().promise()}},addOptionsActionSheetButton:{executeServiceCallFn:function(e){var t=Array.isArray(e.oMessageData.body)?e.oMessageData.body:[e.oMessageData.body];t.forEach(function(t){if(p.byId(t.id)){p.byId(t.id).destroy()}new d({id:t.id,text:t.text,icon:t.icon,tooltip:t.tooltip,press:function(){e.oContainer.postMessageRequest("sap.ushell.appRuntime.buttonClick",{buttonId:t.id})}});sap.ushell.Container.getRenderer("fiori2").showActionButton([t.id],true,t.aStates)});return(new jQuery.Deferred).resolve().promise()}},removeOptionsActionSheetButton:{executeServiceCallFn:function(e){var t=Array.isArray(e.oMessageData.body)?e.oMessageData.body:[e.oMessageData.body];t.forEach(function(e){sap.ushell.Container.getRenderer("fiori2").hideActionButton(e.id,true,e.aStates);if(p.byId(e.id)){p.byId(e.id).destroy()}});return(new jQuery.Deferred).resolve().promise()}},updateHeaderItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").updateHeaderItem(e.oMessageData.body.sId,e.oMessageData.body.oControlProperties);return(new jQuery.Deferred).resolve().promise()}},destroyButton:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").destroyButton(e.oMessageData.body.aIds);return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.LaunchPage":{oServiceCalls:{getGroupsForBookmarks:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("LaunchPage").then(function(t){t.getGroupsForBookmarks().then(e.resolve,e.reject)});return e.promise()}}}},"sap.ushell.services.Menu":{oServiceCalls:{getSpacesPagesHierarchy:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Menu").then(function(t){t.getSpacesPagesHierarchy().then(function(t){e.resolve(t)})});return e.promise()}}}},"sap.ushell.services.CommonDataModel":{oServiceCalls:{getAllPages:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(t){t.getAllPages().then(function(t){e.resolve(t)})});return e.promise()}}}},"sap.ushell.services.MessageBroker":{oServiceCalls:{_execute:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("MessageBroker").then(function(r){if(r.isEnabled()){sap.ui.require(["sap/ushell/services/_MessageBroker/MessageBrokerEngine"],function(r){r.processPostMessage(e).then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)})})}});return t.promise()}}}},"sap.ushell.services.SearchableContent":{oServiceCalls:{getApps:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("SearchableContent").then(function(r){var n;try{n=e.oMessageData.body.oOptions}catch(e){n={}}r.getApps(n).then(function(e){t.resolve(e)})});return t.promise()}}}},"sap.ushell.services.ReferenceResolver":{oServiceCalls:{resolveReferences:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("ReferenceResolver").then(function(r){r.resolveReferences(e.oMessageData.body.aReferences).then(t.resolve,t.reject)});return t.promise()}}}}};function b(){this._getBrowserURL=function(){return document.URL};Object.keys(D).forEach(function(e){if(e.indexOf(C)!==0){throw new Error("All Post Message APIs must start with '"+C+"' - "+e)}});s.init(true,b.prototype.registerShellCommunicationHandler.bind(this))}b.prototype.getAPIs=function(){return D};function A(e,t){var r=D[e],n;if(r){if(t.oServiceCalls){Object.keys(t.oServiceCalls).forEach(function(e){r.oServiceCalls[e]=t.oServiceCalls[e]})}if(t.oRequestCalls){Object.keys(t.oRequestCalls).forEach(function(e){r.oRequestCalls[e]=t.oRequestCalls[e]})}return}n={oRequestCalls:{},oServiceCalls:{}};if(t.oServiceCalls){Object.keys(t.oServiceCalls).forEach(function(e){n.oServiceCalls[e]=t.oServiceCalls[e]})}if(t.oRequestCalls){Object.keys(t.oRequestCalls).forEach(function(e){n.oRequestCalls[e]=t.oRequestCalls[e]})}D[e]=n}b.prototype._getPostMesageInterface=function(e,t){var r,n=this.getAPIs();if(n[e]){r=n[e];if(r&&r.oRequestCalls&&r.oRequestCalls[t]){return r.oRequestCalls[t]}}return undefined};b.prototype.registerShellCommunicationHandler=function(e){Object.keys(e).forEach(function(t){A(t,e[t])})};b.prototype.isActiveOnly=function(e,t){var r=this._getPostMesageInterface(e,t);if(r){return r.isActiveOnly}return undefined};b.prototype.getResponseHandler=function(e,t){var r=this._getPostMesageInterface(e,t);if(r){return r.fnResponseHandler}return undefined};b.prototype._createNewInnerAppState=function(e){return new Promise(function(t){var r,n,a,o,s;sap.ushell.Container.getServiceAsync("AppState").then(function(i){r=i.createEmptyAppState();if(e.oMessageData.body.sData!==undefined){try{s=JSON.parse(e.oMessageData.body.sData)}catch(t){s=e.oMessageData.body.sData}}else{s=""}r.setData(s);r.save();o=r.getKey();n=g.getHash();if(n.indexOf("&/")>0){if(n.indexOf("sap-iapp-state=")>0){a=/(?:sap-iapp-state=)([^&/]+)/.exec(n)[1];n=n.replace(a,o)}else{n=n+"/sap-iapp-state="+o}}else{n=n+"&/sap-iapp-state="+o}g.disableBlueBoxHashChangeTrigger=true;g.replaceHash(n);g.disableBlueBoxHashChangeTrigger=false;t(o)})})};function M(e){if(e===true){if(p.byId("shell-header")){p.byId("shell-header").setBlocked(true);var t=jQuery("#shell-header-blockedLayer");t.addClass("sapUshellShellBlocked")}if(p.byId("menuBar")){p.byId("menuBar").setBlocked(true);var r=jQuery("#menuBar-blockedLayer");r.addClass("sapUshellMenuBarBlocked")}}else if(e===false){if(p.byId("shell-header")){p.byId("shell-header").setBlocked(false)}if(p.byId("menuBar")){p.byId("menuBar").setBlocked(false)}}}function F(e,t){sap.ushell.Container.getRenderer("fiori2")[e]("sap.ushell.ui.shell.ShellHeadItem",{id:t.oMessageData.body.sId,tooltip:t.oMessageData.body.sTooltip,icon:t.oMessageData.body.sIcon,floatingNumber:t.oMessageData.body.iFloatingNumber,press:function(){t.oContainer.postMessageRequest("sap.ushell.appRuntime.buttonClick",{buttonId:t.oMessageData.body.sId})}},t.oMessageData.body.bVisible,t.oMessageData.body.bCurrentState||true,t.oMessageData.body.aStates)}b.prototype.registerAsyncDirtyStateProvider=function(e){sap.ushell.Container.setAsyncDirtyStateProvider(function(t){return new Promise(function(r){var n=e.oContainer.createPostMessageRequest("sap.ushell.appRuntime.handleDirtyStateProvider",{oNavigationContext:t}),a;e.oContainer.postMessageToCurrentIframe(n,true).then(function(e){if(a){clearTimeout(a)}r(e&&e.body&&e.body.result||false)});a=setTimeout(function(){r(false)},2500)})})};b.prototype.deregisterAsyncDirtyStateProvider=function(e){sap.ushell.Container.setAsyncDirtyStateProvider(undefined)};b.prototype._sendEmail=function(e,t,n,a,o,s,i){var l=this._getBrowserURL&&this._getBrowserURL()||document.URL;function c(e,r,a,o,s,i){t=t&&t.includes(e)?t.replace(e,r):t;n=n&&n.includes(e)?n.replace(e,r):n;t=t&&a&&s&&t.includes(a)?t.replace(a,s):t;t=t&&o&&i&&t.includes(o)?t.replace(o,i):t;n=n&&a&&s&&n.includes(a)?n.replace(a,s):n;n=n&&o&&i&&n.includes(o)?n.replace(o,i):n}if(i){sap.ushell.Container.getServiceAsync("AppState").then(function(i){i.setAppStateToPublic(s).done(function(r,i,u,p,d){if(p!==undefined){l=l.replace(i,p)}if(d!==undefined){l=l.replace(u,d)}c(s,l,i,u,p,d);m.triggerEmail(e,t,n,a,o)}).fail(r.error)})}else{c(s,l);m.triggerEmail(e,t,n,a,o)}};b.prototype._stripBookmarkServiceUrlForLocalContentProvider=function(e,t){if(!e||!e.serviceUrl||!t){return}if(t.id===""||t.id==="saas_approuter"){e.serviceUrl=undefined;r.warning("Dynamic data bookmarks tiles are not supported for local content providers",null,"sap/ushell/components/applicationIntegration/application/PostMessageAPI")}};return new b});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface", ["sap/base/util/deepExtend","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";var s="user.postapi.";function t(){var e,s;this.init=function(t,n){e=t;s=n};this.getInterface=function(){var t={};t.registerPostMessageAPIs=n.bind(null,s);t[e===true?"postMessageToApp":"postMessageToFlp"]=r.bind(null,e);t.createPostMessageResult=i;return t}}function n(t,n,r){var i={status:"success",desc:""};var u={isActiveOnly:true,distributionType:["all"],fnResponseHandler:function(){}};if(n===undefined||Object.keys(n).length<=0){i.status="error";i.desc="no handler was found to register";return i}if(r===undefined){r=false}Object.keys(n).forEach(function(t){if(typeof t!=="string"){i.status="error";i.desc="oPostMessageAPIs should contain only string keys"}else if(r===false&&t.indexOf(s)!==0){i.status="error";i.desc="all user custom Message APIs must start with '"+s+"'"}else{Object.keys(n[t]).forEach(function(s){if(s=="inCalls"){n[t].oServiceCalls=n[t][s];delete n[t][s]}else if(s=="outCalls"){Object.keys(n[t][s]).forEach(function(r){n[t][s][r]=e({},u,n[t][s][r])});n[t].oRequestCalls=n[t][s];delete n[t][s]}else{i.status="error";i.desc="api should contain either 'inCalls' or 'outCalls'"}})}});if(i.status==="success"){t(n)}return i}function r(e,s,t,n){var r=new jQuery.Deferred;if(n===undefined){n={}}if(e){sap.ui.require(["sap/ushell/components/applicationIntegration/AppLifeCycle"],function(e){e.postMessageToIframeApp(s,t,n,true).then(function(e){r.resolve(e&&e[0]&&e[0].body.result)})})}else{sap.ui.require(["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){e.sendMessageToOuterShell(s+"."+t,n).done(function(e){r.resolve(e)})})}return r.promise()}function i(e){if(e===undefined){e={}}return(new jQuery.Deferred).resolve(e).promise()}return new t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/configuration/AppMeta", ["sap/base/util/extend","sap/ushell/services/AppConfiguration","sap/ushell/components/applicationIntegration/elements/model","sap/ui/Device","sap/ushell/Config","sap/ushell/utils","sap/ushell/resources","sap/ushell/EventHub","sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements","sap/ui/performance/Measurement","sap/ui/util/Mobile","sap/ui/core/Core"],function(e,t,n,i,a,s,o,r,l,c,u,p){"use strict";function h(){var h;var f;var m;var d;this.getIsTitleChanged=function(){return h};this.getIsRelatedAppsChanged=function(){return d};this.getHierarchyDefaultValue=function(){var e=[];var t=a.last("/core/shell/model/currentState/stateName");if(t&&(t==="app"||t==="embedded")){e=[{icon:"sap-icon://home",title:o.i18n.getText("actionHomePage"),intent:m?"#"+m:"#"}];var n=a.last("/core/shell/model/currentSpaceAndPage");if(n!==undefined){e.splice(0,0,{icon:"sap-icon://space-navigation",title:n.pageTitle,subtitle:n.pageTitle!==n.spaceTitle?n.spaceTitle:undefined,intent:"#"+n.hash})}}return e};this.init=function(e){m=e};this.getIsHierarchyChanged=function(){return f};this.onHierarchyChange=function(t){f=true;var i=t.getParameters().data,s=[],o=a.last("/core/shell/model/currentState/stateName");if(!i){i=[]}var r=this.getHierarchyDefaultValue();i.forEach(function(t,n){s[n]=e({},t)});s=s.concat(r);if(o==="home"){n.updateStateProperty("application/hierarchy",s,false,["home"])}n.updateStateProperty("application/hierarchy",s,true)}.bind(this);this.onRelatedAppsChange=function(e){d=true;var t=e.getParameters().data,i=a.last("/core/shell/model/currentState/stateName");if(!t){t=[]}if(i==="home"){n.updateStateProperty("application/relatedApps",t,false,["home"])}n.updateStateProperty("application/relatedApps",t,true)};this.resetShellUIServiceHandlers=function(){d=false;f=false;h=false};this.onTitleChange=function(e){h=true;var t=e.getParameters().data;if(!t&&!(e.getParameters().bAcceptEmptyString===true)){t=this.getAppMeta().getTitleDefaultValue()}var i=a.last("/core/shell/model/currentState/stateName");if(i==="home"){n.updateStateProperty("application/title",t,false,["home"])}n.updateStateProperty("application/title",t,true);l.genericSetItem("application/title",t);window.document.title=t;s.setPerformanceMark("FLP -- title change");r.emit("TitleChanged",t)};this._getDefaultFavIcon=function(e){var t=e.get("sapUiShellFavicon");if(t){var n=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(t);if(n){t=n[1]}else if(t==="''"||t==="none"){t=null}}var i=a.last("/core/shell/favIcon");if(i&&t===null){return i}if(!t){var s=sap.ui.require.toUrl("sap/ushell");return s+"/themes/base/img/launchpad_favicon.ico"}return t};this.getFavIconHref=function(){var e=document.querySelector('link[rel="shortcut icon"]');return e&&e.getAttribute("href")||""};this.getAppIcon=function(){var e="sap-icon://folder",n=t.getMetadata();if(n&&n.icon){e=n.icon}return e};this.setAppIcons=function(e){c.start("FLP:ShellController.setAppIcons","setValues","FLP");sap.ui.require(["sap/ui/core/theming/Parameters"],function(t){if(p.isThemeApplied()){this.setValues(e,t)}else{p.attachThemeChanged(function(){this.setValues(e,t)}.bind(this))}}.bind(this));c.end("FLP:ShellController.setAppIcons")};this.setValues=function(e,t){var n=sap.ui.require.toUrl("sap/ushell"),a=e&&e.homeScreenIconPhone||n+"/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png",s=e&&e["homeScreenIconPhone@2"]||n+"/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png",o=e&&e.homeScreenIconTablet||n+"/themes/base/img/launchicons/72_iPad_Desktop_Launch.png",r=e&&e["homeScreenIconTablet@2"]||n+"/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png",l=e&&e.favIcon||this._getDefaultFavIcon(t),c=this.getFavIconHref();if(i.os.ios){u.setIcons({phone:a,"phone@2":s,tablet:o,"tablet@2":r,favicon:l,precomposed:false})}else if(c!==l){u.setIcons({phone:"","phone@2":"",tablet:"","tablet@2":"",favicon:l,precomposed:true})}};this._applyContentDensityByPriority=function(e,n){return new Promise(function(a){sap.ushell.Container.getServiceAsync("UserInfo").then(function(s){var o;if(e===undefined){if(i.system.combi){var r=s.getUser(),l="autoDetect";if(r){l=r.getContentDensity()}switch(l){case"cozy":e=false;break;case"compact":e=true;break;default:o=t.getMetadata();if(o.compactContentDensity&&!o.cozyContentDensity){e=true}else{e=false}}}else{o=t.getMetadata();if(o.compactContentDensity&&!o.cozyContentDensity){e=true}else if(!o.compactContentDensity&&o.cozyContentDensity){e=false}else{e=this._isCompactContentDensityByDevice()}}}this._applyContentDensityClass(e,n).then(a)}.bind(this))}.bind(this))};this._applyContentDensityClass=function(e,t){return new Promise(function(n,i){function a(e){document.body.classList.toggle("sapUiSizeCompact",e);document.body.classList.toggle("sapUiSizeCozy",!e);if(t===true){sap.ui.require(["sap/ushell/components/applicationIntegration/AppLifeCycle"],function(t){t.postMessageToIframeApp("sap.ushell.appRuntime","uiDensityChange",{isTouch:e?"0":"1"})})}n()}if(e===undefined){sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){var t=e.getUser?e.getUser():undefined;var n;if(t&&t.getContentDensity()==="compact"){n=true}else if(t&&t.getContentDensity()==="cozy"){n=false}else{n=this._isCompactContentDensityByDevice()}a(n)}.bind(this))}else{a(!!e)}}.bind(this))}.bind(this);this._isCompactContentDensityByDevice=function(){return!i.support.touch||i.system.combi};this.getTitleDefaultValue=function(){var e="",n=t.getMetadata();if(n&&n.title){e=n.title}return e};this.create=function(){};this.restore=function(e){this._applyContentDensityByPriority();this.setAppIcons(e)};this.store=function(e){};this.destroy=function(e){}}return new h},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/elements/model", ["sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/components/HeaderManager","sap/ushell/components/StateHelper","sap/ui/performance/Measurement","sap/base/Log","sap/base/util/deepExtend","sap/base/util/extend","sap/ushell/utils/UrlParsing","sap/ui/core/Core"],function(t,e,n,a,i,o,s,r,l,h,u){"use strict";var f;var d;function c(){return{home:{actions:["ContactSupportBtn"]},app:{actions:["ContactSupportBtn","aboutBtn"]},minimal:{actions:["ContactSupportBtn","aboutBtn"]},standalone:{actions:["ContactSupportBtn","aboutBtn"]},embedded:{actions:["ContactSupportBtn","aboutBtn"]},"embedded-home":{actions:["ContactSupportBtn","aboutBtn"]},lean:{actions:["ContactSupportBtn","aboutBtn"]}}}function g(){return{blank:{stateName:"blank",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},"blank-home":{stateName:"blank-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},home:{stateName:"home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,search:"",paneContent:[],actions:["openCatalogBtn","userSettingsBtn"],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]},app:{stateName:"app",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],search:"",actions:["openCatalogBtn","userSettingsBtn"],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]},minimal:{stateName:"minimal",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:["openCatalogBtn","userSettingsBtn"],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},standalone:{stateName:"standalone",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},embedded:{stateName:"embedded",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},"embedded-home":{stateName:"embedded-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},headerless:{stateName:"headerless",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},merged:{stateName:"merged",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},"headerless-home":{stateName:"headerless-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},"merged-home":{stateName:"merged-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},lean:{stateName:"lean",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:false,paneContent:[],search:"",actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]},"lean-home":{stateName:"lean-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:false,paneContent:[],search:"",actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]}}}function m(t,e){return Object.keys(t).reduce(function(n,a){if(!e[a]){n[a]=t[a]}return n},{})}function S(t,e){return e!==undefined}function p(){return true}function C(t,e){var n=e.split("/");var a=t;n.shift();n.forEach(function(t){if(!a){return}a=a[t]});return a}function v(t,e,n){var a=t.split("/");var i=n;a.shift();var o=a.pop();a.forEach(function(t){i=i[t]});i[o]=e}function w(){var w;var A;var I;var b;var R;var _;var F;var y;var B;var H;this.createDefaultTriggers=function(e){var n=function(t,e,n){if(n.sProperty==="actions"){var a=C(n.oModel,n.path);if(a&&a.length===0&&n.aIds&&n.aIds.length>0){this._renderShellState()}}}.bind(this);var a=function(t){function e(t,e){var n=h.getHash(t),a=h.getHash(e),i=h.parseShellHash(n).appSpecificRoute,o=h.parseShellHash(a).appSpecificRoute;return i!==o}var n=e(t.oldURL,t.newURL);if(n){this.addHeaderItem(["backBtn"],true)}}.bind(this);this.createTriggersOnBaseStates([{sName:"onAddFirstAction",fnRegister:function(){u.getEventBus().subscribe("launchpad","updateShell",n,this)},fnUnRegister:function(){u.getEventBus().unsubscribe("launchpad","updateShell",n,this)}}],["blank","blank-home"],e);var i=this;var o;this.createTriggersOnBaseStates([{sName:"onAddFirstAction",fnRegister:function(){window.addEventListener("hashchange",a);var e=0;o=t.on("AppRendered").do(function(){e++;if(e>=2){i.addHeaderItem(["backBtn"],true)}})},fnUnRegister:function(){window.removeEventListener("hashchange",a);if(o){o.off()}}}],["lean","lean-home"],e)};this.init=function(t,n){f=g();d=c();A=e.last("/core/shell/model");w={};R={};_=false;y=false;B=[];H=true;b=n;F=undefined;if(t){o.start("FLP:ElementsModel.init","moveShellHeaderEndItems","FLP");if(t.moveContactSupportActionToShellHeader){this._removeCustomDataActionBtnFromUserActionsMenu("ContactSupportBtn")}if(t.moveAppFinderActionToShellHeader){this._removeActionFromUserActionsMenu("openCatalogBtn")}if(t.moveUserSettingsActionToShellHeader){this._removeActionFromUserActionsMenu("userSettingsBtn")}o.end("FLP:ElementsModel.init")}var a=t&&t.appState?t.appState:"home";this.createDefaultTriggers(a);this.switchState(a)};this.destroy=function(){A=undefined;w=undefined;b=undefined;R=undefined;_=undefined;H=undefined;y=undefined;F=undefined;f=undefined;d=undefined};this.getModel=function(){var t=sap.ushell.Container.getRenderer("fiori2");if(!t){return undefined}return t._oShellView.getModel()};this._removeCustomDataActionBtnFromUserActionsMenu=function(t){for(var e in d){var n=d[e];var a=n.actions;var i=a.indexOf(t);if(i!==-1){d[e].actions.splice(i,1)}}};this._removeActionFromUserActionsMenu=function(t){var e;for(e in f){var n=f[e];if(e==="blank"||e==="blank-home"){continue}var a=n.actions;var i=a.indexOf(t);if(i!==-1){f[e].actions.splice(i,1)}}};this.destroyManageQueue=function(){this._destroyManageQueue(["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"])};this.switchState=function(t){var n=r({},f[t]);var i=m(n,{aTriggers:true});e.emit("/core/shell/model/currentState",i);a.switchState(t);I=b.customShellState;F=undefined;this._renderShellState();return n};this.setLeftPaneVisibility=function(t,e,n){this.updateStateProperty("showPane",t,e,n)};this.setHeaderHiding=function(){s.warning("Application Life Cycle model: headerHiding property is deprecated and has no effect")};this._createHeaderEventPayload=function(t,e,n,a,i,o){var s={propertyName:t,value:e,aStates:a,bCurrentState:n,action:o,bDoNotPropagate:i};return s};this.setHeaderVisibility=function(t,e,n){var i=this._createHeaderEventPayload("headerVisible",t,e,n,false);a.updateStates(i)};this.showLogo=function(t,e){this.updateShowLogo(true,t,e,false)};this.updateShowLogo=function(t,e,n,i){var o=this._createHeaderEventPayload("showLogo",t,e,n,i);a.updateStates(o)};this.addHeaderItem=function(t,e,n){if(t.length){var i=this._createHeaderEventPayload("headItems",t,e,n,false);a.updateStates(i)}};this.removeHeaderItem=function(t,e,n){var i=this._createHeaderEventPayload("headItems",t,e,n,false,"remove");a.updateStates(i)};this.addHeaderEndItem=function(t,e,n,i){if(t.length){var o=this._createHeaderEventPayload("headEndItems",t,e,n,i);a.updateStates(o)}};this.removeHeaderEndItem=function(t,e,n){var i=this._createHeaderEventPayload("headEndItems",t,e,n,false,"remove");a.updateStates(i)};this.addSubHeader=function(t,e,n){if(t.length){this._addShellItem("subHeader",t,e,n)}};this.removeSubHeader=function(t,e,n){this._removeShellItem("subHeader",t,e,n)};this.addActionButton=function(t,e,n){this._addActionButton("actions",t,e,n)};this.removeActionButton=function(t,e,n){this._removeShellItem("actions",t,e,n)};this.addToolAreaItem=function(t,e,n,a){if(t.length){this._addToolAreaItem("toolAreaItems",t,e,n,a)}};this.removeToolAreaItem=function(t,e,n){this._removeShellItem("toolAreaItems",t,e,n)};this.addLeftPaneContent=function(t,e,n){if(t.length){this._addShellItem("paneContent",t,e,n)}};this.removeLeftPaneContent=function(t,e,n){this._removeShellItem("paneContent",t,e,n)};this.addRightFloatingContainerItem=function(t,e,n){if(t.length){this._addRightFloatingContainerItem("RightFloatingContainerItems",t,e,n)}};this.removeRightFloatingContainerItem=function(t,e,n){this._removeShellItem("RightFloatingContainerItems",t,e,n)};this.showSettingsButton=function(t,e){this.addActionButton(["userSettingsBtn"],t,e,false)};this.showSignOutButton=function(t,e){this.addActionButton(["logoutBtn"],t,e,false)};this.showRightFloatingContainer=function(t){this._showRightFloatingContainer(t)};this.addFloatingActionButton=function(t,e,n){if(t.length){this._addShellItem("floatingActions",t,e,n)}};this.removeFloatingActionButton=function(t,e,n){this._removeShellItem("floatingActions",t,e,n)};this.updateStateProperty=function(t,e,n,i,o){if(t.startsWith("application")){var s=this._createHeaderEventPayload(t,e,n,i,false);a.updateStates(s);return}this._setShellItem(t,e,n,i,S,v,o)};this._handleTriggers=function(t){var e,n,a=[],i={};H=false;while(B.length>0){e=B.pop();if(t[e.sName]){a.push(e);i[e.sName]=e}else{e.fnUnRegister(this)}}for(var o in t){if(t.hasOwnProperty(o)){if(!i[o]){n=t[o];n.fnRegister(this);a.push(n)}}}B=a;H=true};this._registerTriggers=function(t){H=false;t.forEach(function(t){t.fnRegister(this);B.push(t)});H=true};function P(t,e){var n=[];if(!e.aTriggers){e.aTriggers=[]}t.forEach(function(t){var a={sName:t.sName,fnRegister:t.fnRegister,fnUnRegister:t.fnUnRegister};e.aTriggers.push(a);n.push(a)});return n}this.createTriggersOnState=function(t){var e=P(t,f);if(!_){this._registerTriggers(e)}};this.createTriggersOnBaseStates=function(t,e,n){var a=[];e.forEach(function(e){var n=f[e];a=P(t,n)});var i=e.indexOf(n)>=0;if(i&&!_){this._registerTriggers(a)}};this.createTriggers=function(t,e,n){var a=A.currentState;if(e===true){this.createTriggersOnState(t,a);return}this.createTriggersOnBaseStates(t,n,a.stateName)};this.showShellItem=function(t,e,n){var a=i.getModelStates(e),o="/currentState"+t,s;for(var r=0;r<a.length;r++){s=f[a[r]].stateName;f[s][t.split("/")[1]]=n}if(A.currentState.stateName===e){v(o,n,A);if(!_){this._renderShellState()}}};this.addCustomItems=function(t,e,n,a){if(this._isValidStateEntry(t)){this._isValidStateEntry(t).fnAdd(e,n,a)}else{throw new Error("Invalid state entry:"+t)}};this.removeCustomItems=function(t,e,n,a){if(this._isValidStateEntry(t)){this._isValidStateEntry(t).fnRemove(e,n,a)}else{throw new Error("Invalid state entry:"+t)}};this.applyExtendedShellState=function(t){F=t;this._renderShellState()};this.addEntryInShellStates=function(t,e,n,a,i){var o,s;if(!w[t]){w[t]={fnAdd:n,fnHide:a};var r=this._getStatesList();for(o=0;o<r.length;o++){s=r[o];f[s][t]=i[s]}this["remove"+e]=a;this["add"+e]=n}else{throw new Error("State entry already exsists:"+t)}};this.addElementToManagedQueue=function(t){var n=e.last("/core/shell/model/currentState/stateName"),a,i=t.getId();if(!b){b={extendedShellStates:{},aTriggers:[],customShellState:this._createCustomShellState("custom")}}a=b.extendedShellStates;if(!a[n]){a[n]={managedObjects:[],customState:undefined}}a[n].managedObjects.push(i);var o=R[i];if(o){o.nRefCount++}else{o={oItem:t,nRefCount:1};R[i]=o}};this.updateNeededTriggersMap=function(t,e){var n;if(!e){return}for(n=0;n<e.length;n++){t[e[n].sName]=e[n]}};this._renderShellState=function(){var t=e.last("/core/shell/model/currentState/stateName"),n,i,o=r({},f[t]),s=b,l,h={};if(_){return}if(s&&s.customShellState){l=s.customShellState.currentState}var u={currentState:r({},o)};A=u;_=true;if(F&&s.extendedShellStates&&s.extendedShellStates[F]){n=s.extendedShellStates[F].customState;i=n.currentState;this._addCustomShellStates(i)}if(l){this._addCustomShellStates(l)}A=e.last("/core/shell/model");if(o&&o.aTriggers){this.updateNeededTriggersMap(h,o.aTriggers)}if(i&&i.aTriggers){this.updateNeededTriggersMap(h,i.aTriggers)}if(l&&l.aTriggers){this.updateNeededTriggersMap(h,l.aTriggers)}if(H){this._handleTriggers(h)}delete u.currentState.aTriggers;var d=m(u.currentState,{aTriggers:true});a.recalculateState(F);e.emit("/core/shell/model/currentState",d);_=false};this._addCustomShellStates=function(t){this.addToolAreaItem(t.toolAreaItems,false,true);this.addSubHeader(t.subHeader,true);this.addRightFloatingContainerItem(t.RightFloatingContainerItems,true);this.addActionButton(t.actions,true,undefined,false);this.addLeftPaneContent(t.paneContent,true);this.addFloatingActionButton(t.floatingActions,true);this.showRightFloatingContainer(t.showRightFloatingContainer)};this._createCustomShellState=function(t){var e={currentState:{stateName:t,headEndItems:[],paneContent:[],headItems:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],application:{},showRightFloatingContainer:undefined,headerHeading:undefined}};var n=d[t];if(n){l(e.currentState,n)}return e};this._showRightFloatingContainer=function(t){this._setShellItem("showRightFloatingContainer",t,true,[],S,v)};this._addActionButton=function(t,e,a,i){function o(t,e,a){var i=C(a,t);var o=i.indexOf("logoutBtn");if(o>-1){i.splice.apply(i,[o,0].concat(e))}else{i=i.concat(e)}var s=n.removeDuplicatedActions(i);function r(t){var e=[],n=["recentActivitiesBtn","frequentActivitiesBtn","openCatalogBtn","userSettingsBtn","ActionModeBtn","EditModeBtn","ContactSupportBtn"];for(var a=0;a<n.length;a++){var i=t.indexOf(n[a]);if(i>-1){e.push(t.splice(i,1)[0])}}e=e.concat(t);return e}var l=r(s);v(t,l,a)}this._setShellItem(t,e,a,i,p,o)};this.setFloatingContainerContent=function(t,e,n,a){function i(t,e,n){return e.length===1}function o(t,e,n){v(t,e,n)}this._setShellItem(t,e,n,a,i,o)};this._addShellItem=function(t,e,n,a){function i(t,e,n){if(t.length>0){s.warning("You can only add one item. Replacing existing item: "+t[0]+" in state: "+n+", with the new item: "+e[0]+".")}return true}function o(t,n,a){v(t,e.slice(0),a)}this._setShellItem(t,e,n,a,i,o)};this._addRightFloatingContainerItem=function(t,e,n,a){function i(t,e,n){var a=C(n,t);a=a.concat(e);v(t,a,n)}this._setShellItem(t,e,n,a,p,i)};this._addToolAreaItem=function(t,e,n,a,o){function s(t,e,n){var a=C(n,t),i,o;if(typeof e==="string"){e=[e]}for(o=0;o<e.length;o++){i=e[o];if(a.indexOf(i)<0){a.push(i)}}v(t,a,n)}if(n){var r,l=i.getPassStates(o);for(r=0;r<l.length;r++){this.showShellItem("/toolAreaVisible",l[r],true)}}this._setShellItem(t,e,a,o,p,s)};this._removeShellItem=function(t,e,n,a){function i(t,e){var n,a,i;for(i=0;i<e.length;i++){a=e[i];n=t.indexOf(a);if(n<0){s.warning("You cannot remove Item: "+a+", the Item does not exists.");return false}}return true}function o(t,e,n){var a=C(n,t),i,o,s;for(s=0;s<e.length;s++){o=e[s];i=a.indexOf(o);if(i>-1){a.splice(i,1)}}v(t,a,n)}this._setShellItem(t,e,n,a,i,o)};this._setShellItem=function(t,e,n,a,o,s,r){var l,h;var d=Array.isArray(e)?e.slice(0):e;if(n===true){l="/currentState/"+t;h=C(A,l);if(o(h,d,"currentState")===false){return}if(!y&&!_){s(l,d,I);u.getEventBus().publish("launchpad","updateShell",{oModel:A,path:l,aIds:d,sProperty:t});this._renderShellState()}else{s(l,d,A)}}else{var c=r?a:i.getPassStates(a),g,m=A.currentState.stateName;for(g=0;g<c.length;g++){var S=c[g],p;h=C(f[S],"/"+t);if(o(h,d,S)===false){continue}var v=i.getModelStates(S,r);for(p=0;p<v.length;p++){l="/"+v[p]+"/"+t;s(l,d,f);if(m===v[p]){if(!_){this._renderShellState()}}}}}};this._getStatesList=function(){return Object.keys(f)};this._destroyManageQueue=function(){var t,e,n,a,i,o;a=b.extendedShellStates;for(i in a){if(a.hasOwnProperty(i)){o=a[i].managedObjects;for(t=0;t<o.length;t++){e=o[t];n=R[e];n.nRefCount--;if(n.nRefCount===0){n.oItem.destroy();R[e]=null}}delete a[i]}}};this._isValidStateEntry=function(t){return!!w[t]};this.getModelToUpdate=function(){return A};this.setModelToUpdate=function(t,e){y=e;A=t};this._getManagedElements=function(){return R};this.extendStates=function(t){var e;for(e in t){if(t.hasOwnProperty(e)){n.updateProperties(f[e],t[e])}}};this.getBaseStateMember=function(t,e){return f[t][e]};this.getCustomStateDeltaMember=function(t,e){return d[t][e]};this.getAllStatesInDelta=function(){return Object.keys(d)}}var A=new w;return A},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/relatedServices/RelatedServices", ["sap/ui/core/Core"],function(t){"use strict";function i(){var i=false,a,e=false;this.resetBackNavigationFlag=function(){e=false};t.getEventBus().subscribe("relatedServices","resetBackNavigation",this.resetBackNavigationFlag,this);this._defaultBackNavigation=function(){window.history.back()};this.isBackNavigation=function(){return e};this.navigateBack=function(){var t=this;e=true;if(i===true){this._defaultBackNavigation()}else if(a){a()}else{sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(i){i.isInitialNavigationAsync().then(function(a){if(a){i.toExternal({target:{shellHash:"#"},writeHistory:false});return}t._defaultBackNavigation()})})}};this.setNavigateBack=function(t){i=false;a=t};this.resetNavigateBack=function(){i=true;a=undefined};this.restore=function(t){i=t.bDefaultBrowserBack;a=t.fnCustomBackNavigation};this.store=function(t){t.bDefaultBrowserBack=i;t.fnCustomBackNavigation=a}}return new i},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements", ["sap/base/Log","sap/base/util/extend"],function(e,t){"use strict";function a(){var a=[];var n;var i;var s={};var o;var r=false;var l={};var d;var h=[];var c={home:{actions:[]},app:{actions:["aboutBtn"]},minimal:{actions:["aboutBtn"]},standalone:{actions:["aboutBtn"]},embedded:{actions:["aboutBtn"]},"embedded-home":{actions:["aboutBtn"]},lean:{actions:["aboutBtn"]}};var u={home:{NWBC:{headerless:"headerless",default:"minimal"},TR:{headerless:"minimal",default:"minimal"},default:{default:"home"}},app:{NWBC:{headerless:"headerless",default:"app"},TR:{headerless:"minimal",default:"app"},default:{default:"app"}}};this.init=function(e,t){n=e;if(t&&t.length>0){Object.keys(c).forEach(function(e){c[e].actions=t.concat(c[e].actions)})}};this.processDangling=function(){for(var e=0;e<a.length;e++){var t=a.pop();t.func.apply(this,t.args)}};this.setDangling=function(e){r=e};this.calculateElementsState=function(e,t,a,n){var i=u[e]?u[e]:u.default;var s=i[n?undefined:t]?i[t]:i.default;return s[a]?s[a]:s.default};this.createCustomShellState=function(e){var a={currentState:{stateName:e,headEndItems:[],paneContent:[],headItems:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],application:{},showRightFloatingContainer:undefined,headerHeading:undefined}};var n=c[e];if(n){t(a.currentState,n)}return a};this.createExtendedShellState=function(e,t){var a;var n=this.createCustomShellState(e);a=i.extendedShellStates;if(a[e]){return false}o=n;t();if(a[e]){a[e].customState=n}else{a[e]={managedObjects:[],customState:n}}o=i.customShellState;return true};this.assignNew=function(e){s=this.createCustomShellState(e);i.customShellState=s;i.aTriggers=[];i.extendedShellStates={};i.oCheckPoints={};this._updateModel();o=i.customShellState};this._genericSetItem=function(e,t){var a=e.split("/");var i=a.pop();var s=a.reduce(function(e,t){return e[t]},o.currentState);s[i]=t;n._renderShellState()};this._genericAddItems=function(e,t){var a=o.currentState[e];o.currentState[e]=a.concat(t);n._renderShellState()};this.genericSetItem=function(e,t){if(r){a.push({func:this._genericSetItem,args:arguments})}else{this._genericSetItem(e,t)}};this.genericAddItems=function(e,t){if(r){a.push({func:this.genericAddItems,args:arguments})}else{this._genericAddItems(e,t)}};this.setShellModelForApplications=function(t,a){var n=["paneContent","headItems","RightFloatingContainerItems","toolAreaItems","floatingActions","showRightFloatingContainer","headEndItems","headerVisible","subHeader","actions"];if(n.indexOf(t)>-1){this.genericSetItem(t,a)}else{e.error("Not a valid attribute:"+t)}};this.addShellModelForApplications=function(t,a){var n=["paneContent","headItems","RightFloatingContainerItems","toolAreaItems","floatingActions","showRightFloatingContainer","headEndItems","headerVisible","subHeader","actions"];if(n.indexOf(t)>-1){this.genericAddItems(t,a)}else{e.error("Not a valid attribute:"+t)}};this.setStateModelToUpdate=function(e){o=e};this.getStateModelToUpdate=function(){return o};this.model=function(){if(!i){this.create()}d={customShellState:i.customShellState,aTriggers:i.aTriggers,extendedShellStates:i.extendedShellStates,oCheckPoints:i.oCheckPoints};return d};this._updateModel=function(){if(d){d.customShellState=i.customShellState;d.aTriggers=i.aTriggers;d.extendedShellStates=i.extendedShellStates;d.oCheckPoints=i.oCheckPoints}};this.getAppRelatedElement=function(){return{customShellState:i.customShellState,aTriggers:i.aTriggers,extendedShellStates:i.extendedShellStates,oCheckPoints:i.oCheckPoints}};this.create=function(){i={extendedShellStates:{},oCheckPoints:l,aTriggers:h,customShellState:{currentState:{stateName:"app",headEndItems:[],paneContent:[],headItems:[],actions:["aboutBtn"],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],application:{},showRightFloatingContainer:undefined,headerHeading:undefined}}};o=i.customShellState;this._updateModel();return i};this.restore=function(e){if(e&&e.appRelatedElements){var t=e.appRelatedElements;i.aTriggers=t.aTriggers;i.extendedShellStates=t.extendedShellStates;i.oCheckPoints=t.oCheckPoints;i.customShellState=t.customShellState}this._updateModel();o=i.customShellState};this.store=function(e){};this.clean=function(){i=undefined};this.destroy=function(e){}}return new a},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/container/ApplicationContainer", ["sap/base/Log","sap/base/security/encodeXML","sap/base/util/deepEqual","sap/base/util/uid","sap/base/util/UriParameters","sap/m/MessagePopover","sap/m/Text","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/mvc/View","sap/ui/core/routing/History","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/ApplicationType","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/System","sap/ushell/User","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ui/core/Core","sap/ui/thirdparty/hasher","sap/ui/core/Configuration"],function(e,t,a,n,r,o,i,s,p,l,u,f,d,c,jQuery,g,m,h,y,v,C,I,b,_,A,P,S,E){"use strict";var x="sap.ushell.components.container.",w=x+"ApplicationContainer",U="sap.ushell.Container.dirtyState.",R="autoplay;battery;camera;display-capture;geolocation;gyroscope;magnetometer;microphone;midi;clipboard-write;clipboard-read;fullscreen;serial;",T,M,D,L=false,F=false,O=[],N=0,H=0,V;var j=["sap-ach","sap-fiori-id","sap-hide-intent-link","sap-priority","sap-tag","sap-ui-app-id-hint","sap-ui-debug","sap-ui-fl-control-variant-id","sap-ui-fl-max-layer","sap-ui-tech-hint","sap-ui2-tcode","sap-ui2-wd-app-id","sap-ui2-wd-conf-id","sap-ushell-cdm-site-url","sap-ushell-navmode","sap-ushell-next-navmode","sap-ushell-url","sap-app-origin-hint"];function W(e){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.isUrlSupported(e.url).done(function(){e.promise.resolve({allowed:true,id:e.id})}).fail(function(){e.promise.resolve({allowed:false,id:e.id})})})}function k(e){var t={asyncURLHandler:Ie.prototype._adaptIsUrlSupportedResultForMessagePopover};if(o&&o.setDefaultHandlers){o.setDefaultHandlers(t)}y.emit("StepDone",e.stepName)}y.once("initMessagePopover").do(k);T=new _.Map;function q(e){return T.get(e.getId())}function B(){return M}function J(e){var t=r.fromURL(e).mParams,a=t["sap-xapp-state"],n=t["sap-xapp-state-data"],o;delete t["sap-xapp-state"];delete t["sap-xapp-state-data"];o={startupParameters:t};if(n){o["sap-xapp-state"]=n}if(a){o["sap-xapp-state"]=a}return o}function K(e,t){return C.i18n.getText(e,t)}function z(){return new u({size:"2rem",src:"sap-icon://error",tooltip:Ie.prototype._getTranslatedText("an_error_has_occured")})}function G(t){var a=t.getAggregation("child"),n;if(a instanceof p){n=a.getComponentInstance().getMetadata().getName().replace(/\.Component$/,"");e.debug("unloading component "+n,null,w)}t.destroyAggregation("child")}function $(t,a,n){return new Promise(function(r){var o,i,l,u,d,c={},g,m;function h(e){e.setWidth(t.getWidth());e.setHeight(t.getHeight());e.addStyleClass("sapUShellApplicationContainer");t.setAggregation("child",e,true)}o=a.indexOf("?");if(o>=0){u=Ie.prototype._getParameterMap(a);c=u.startupParameters;a=a.slice(0,o)}if(a.slice(-1)!=="/"){a+="/"}if(/\.view\.(\w+)$/i.test(n)){l=/^SAPUI5=(?:([^/]+)\/)?([^/]+)\.view\.(\w+)$/i.exec(n);if(!l){e.error("Invalid SAPUI5 URL",n,w);r(Ie.prototype._createErrorControl());return}d=l[1];g=l[2];m=l[3].toUpperCase();if(d){g=d+"."+g}else{i=g.lastIndexOf(".");if(i<1){e.error("Missing namespace",n,w);return Ie.prototype._createErrorControl()}d=g.slice(0,i)}}else{d=n.replace(/^SAPUI5=/,"")}var y={};var v=d.replace(/\./g,"/");y[d]=a+v;sap.ui.loader.config({paths:y});Ie.prototype._destroyChild(t);if(g){if(t.getApplicationConfiguration()){c.config=t.getApplicationConfiguration()}f.create({id:t.getId()+"-content",type:m,viewData:c||{},viewName:g}).then(function(e){t.fireEvent("applicationConfiguration");h(e);r(e)})}else{e.debug("loading component "+d,null,w);var C=u?{startupParameters:u.startupParameters}:{startupParameters:{}};if(u&&u["sap-xapp-state-data"]){C["sap-xapp-state"]=u["sap-xapp-state-data"]}if(u&&u["sap-xapp-state"]){C["sap-xapp-state"]=u["sap-xapp-state"]}if(t.getApplicationConfiguration()){C.config=t.getApplicationConfiguration()}s.create({id:t.getId()+"-component",componentData:C,name:d}).then(function(e){t.fireEvent("applicationConfiguration",{configuration:e.getMetadata().getConfig()});var a=new p({id:t.getId()+"-content",component:e});h(a);r(a)})}})}function Q(e,t){setTimeout(function(){P.getEventBus().publish("sap.ushell",e,t)},0)}function X(t,a,n){var r=this,o,i={oControl:undefined,oPromise:undefined},l,u,f,d={startupParameters:{}},c,g=t.getComponentHandle(),m,h;function y(e){t.fireEvent("applicationConfiguration",{configuration:e.getMetadata().getConfig()});u=new p({id:t.getId()+"-content",component:e});u.setHeight(t.getHeight());u.setWidth(t.getWidth());u.addStyleClass("sapUShellApplicationContainer");t._disableRouterEventHandler=Ie.prototype._disableRouter.bind(r,e);P.getEventBus().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",t._disableRouterEventHandler);t.setAggregation("child",u,true);sap.ushell.Container.getServiceAsync("PluginManager").then(function(t){m=t.getPluginLoadingPromise("RendererExtensions");h=m&&m.state();if(h==="pending"){m.done(function(){Ie.prototype._publishExternalEvent("appComponentLoaded",{component:e})}).fail(function(){Ie.prototype._publishExternalEvent("appComponentLoaded",{component:e})})}if(h==="resolved"||h==="rejected"){Ie.prototype._publishExternalEvent("appComponentLoaded",{component:e})}});return u}l=a.indexOf("?");if(l>=0){f=Ie.prototype._getParameterMap(a);d={startupParameters:f.startupParameters};if(f["sap-xapp-state-data"]){d["sap-xapp-state"]=f["sap-xapp-state-data"]}if(f["sap-xapp-state"]){d["sap-xapp-state"]=f["sap-xapp-state"]}a=a.slice(0,l)}if(t.getApplicationConfiguration()){d.config=t.getApplicationConfiguration()}if(a.slice(-1)!=="/"){a+="/"}Ie.prototype._destroyChild(t);c={id:t.getId()+"-component",name:n,componentData:d};e.debug("Creating component instance for "+n,JSON.stringify(c),w);P.getEventBus().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:n});if(g){var v=g.getInstance(c);i.oControl=y(v)}else{o=new jQuery.Deferred;var C={};var I=n.replace(/\./g,"/");C[I]=a;sap.ui.loader.config({paths:C});e.error("No component handle available for '"+n+"'; fallback to component.load()",null,w);s.create({id:t.getId()+"-component",name:n,manifest:false,componentData:d}).then(function(e){o.resolve(y(e))});i.oPromise=o.promise()}return i}function Y(t){var a;if(t instanceof s&&typeof t.getRouter==="function"){a=t.getRouter();if(a&&typeof a.stop==="function"){e.info("router stopped for instance "+t.getId());a.stop()}}}function Z(e){var t=document.createElement("a"),a=r.fromURL(e).get("sap-client"),n;t.href=e;n=t.protocol+"//"+t.host;return new I({alias:a?n+"?sap-client="+a:n,baseUrl:n,client:a||undefined,platform:"abap"})}function ee(e,t){var a=false,n=e.getDomRef(),r,o;if(e.getIframeWithPost()===true&&n&&n.getAttribute&&n.getAttribute("sap-iframe-app")=="true"){n=jQuery("#"+n.getAttribute("id")+"-iframe")[0]}if(n){r=g(e._getIFrameUrl(n)||window.location&&window.location.href||"");o=r.protocol()+"://"+r.host();a=t.source===n.contentWindow||t.origin===o}return a}function te(t,a,r){var o=JSON.stringify({type:"request",service:a,request_id:n(),body:{}});e.debug("Sending post message request to origin ' "+r+"': "+o,null,"sap.ushell.components.container.ApplicationContainer");t.postMessage(o,r)}function ae(){var e=this.getDomRef();if(!e||e.tagName!=="IFRAME"){if(this.getIframeWithPost()===true&&e&&e.getAttribute&&e.getAttribute("sap-iframe-app")=="true"){return jQuery("#"+e.getAttribute("id")+"-iframe")[0]}return null}return e}function ne(e){var t;if(e===undefined){e=this._getIFrame()}if(this.getIframeWithPost()===true){t=jQuery("#"+e.getAttribute("id").replace("-iframe","-form"))[0].action;if(t===undefined&&(new g).query(true).hasOwnProperty("sap-isolation-enabled")){t=e.src}}else{t=e.src}return t}function re(t,a){var n=t&&t.getUi5ComponentName&&t.getUi5ComponentName(),r=a.data,o=typeof r==="string"&&r.indexOf("sap.ushell.appRuntime.iframeIsValid")>0;if(t&&!t.getActive()&&o!==true){e.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(r)+"' on inactive container '"+t.getId()+"'","Only active containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return}if(typeof n==="string"){e.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(r)+"' on container of UI5 application '"+n+"'","Only non UI5 application containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return}var i={bPluginsStatusChecked:L,bKeepMessagesForPlugins:F,bApiRegistered:true};D(t,a,i);Ie.prototype._handlePostMessagesForPluginsPostLoading(t,a,i)}function oe(t,a,n){var r,o;if(n.bApiRegistered!==false){return}sap.ushell.Container.getServiceAsync("PluginManager").then(function(n){if(L===false){L=true;r=n.getPluginLoadingPromise("RendererExtensions");o=r&&r.state();if(o==="pending"){F=true;r.always(function(){var t;F=false;e.debug("Processing post messages queue after 'RendererExtensions' plugins loaded, queue size is: "+O.length,null,"sap.ushell.components.container.ApplicationContainer");for(var a=0;a<O.length;a++){t=O[a];try{Ie.prototype._handleMessageEvent.call(t.that,t.oContainer,t.oMessage)}catch(t){e.error(t.message||t,null,"sap.ushell.components.container.ApplicationContainer")}}O=[]})}}if(F===true){O.push({index:N++,that:this,oContainer:t,oMessage:a})}})}function ie(){L=false;F=false;O=[];N=0}function se(e,t){var a=e._getIFrame(),n=e.getApplicationType();if(_.isApplicationTypeEmbeddedInIframe(e.getApplicationType(n))&&a){var r=new g(e._getIFrameUrl(a));var o=r.protocol()+"://"+r.host();a.contentWindow.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),o);t.preventDefault()}}function pe(e,t,a){e.openStart("div",t).accessibilityState(t).class("sapUShellApplicationContainer").style("height",t.getHeight()).style("width",t.getWidth()).openEnd();if(a){e.renderControl(a)}e.close("div")}function le(e,t,a,n){if(n===undefined){n=false}if(_.isApplicationTypeEmbeddedInIframe(t)||e&&_.isApplicationTypeEmbeddedInIframe(e.getFrameworkId())){var r=e&&e.getTargetNavigationMode();a=Ie.prototype._adjustNwbcUrl(a,t,r,e&&e.getIsStateful(),n);if(e&&n===false){_.localStorageSetItem(e.globalDirtyStorageKey,sap.ushell.Container.DirtyState.INITIAL)}}return a}function ue(e,t,a,n,o){if(o===undefined){o=false}var i,s=function(){var e=_.getParameterValueBoolean("sap-accessibility");if(e!==undefined){return e}return sap.ushell.Container.getUser().getAccessibilityMode()},p=function(){var t=r.fromURL(e)||{mParams:{}};if(t.mParams["sap-theme"]===undefined){return sap.ushell.Container.getUser().getTheme(b.prototype.constants.themeFormat.NWBC)}return undefined},l=function(){var t=false,a=r.fromURL(e)||{mParams:{}};t=E.getStatistics()&&a.mParams["sap-statistics"]===undefined;return t},u=function(){var e=S&&S.getHash(),t="",a;if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){a=/(?:sap-iapp-state=)([^&/]+)/.exec(e);if(a&&a.length===2){t=a[1]}}return t},f=function(){var e="";var t=!!jQuery("body.sapUiSizeCompact").length;var a=!!jQuery("body.sapUiSizeCozy").length;if(t===true){e="0"}else if(a){e="1"}return e};e+=e.indexOf("?")>=0?"&":"?";e+="sap-ie=edge";i=p();if(i){e+=e.indexOf("?")>=0?"&":"?";e+="sap-theme="+encodeURIComponent(i)}if(s()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-accessibility=X"}if(l()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-statistics=true"}var d=f();if(d&&d.length>0){e+=e.indexOf("?")>=0?"&":"?";e+="sap-touch="+d}if(o===false){if(a){e+=e.indexOf("?")>=0?"&":"?";e+="sap-target-navmode="+encodeURIComponent(a)}if(t==="TR"||t==="GUI"){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=2"}else if(n){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=1"}var c=u();if(c&&c.length>0){e+=e.indexOf("?")>=0?"&":"?";e+="sap-iapp-state="+c}var g=0;if(h.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){g=h.last("/core/shell/sessionTimeoutIntervalInMinutes")}e+=e.indexOf("?")>=0?"&":"?";e+="sap-ushell-timeout="+g;return _.appendSapShellParam(e,t)}return e}function fe(e,t,a,n){var r=t.getAggregation("child"),o,i;if(!r||t._bRecreateChild){i=Ie.prototype._createUi5Component(t,a,n);if(i.oControl!==undefined){t._bRecreateChild=false;Ie.prototype._renderControlInDiv(e,t,i.oControl)}else{t.oDeferredControlCreation=new jQuery.Deferred;Ie.prototype._renderControlInDiv(e,t);i.oPromise.then(function(e){t._bRecreateChild=false;o=P.createRenderManager();o.renderControl(e);o.flush(jQuery("#"+t.getId())[0]);o.destroy();t.oDeferredControlCreation.resolve()})}}else{Ie.prototype._renderControlInDiv(e,t,r)}}function de(e,t,n){var r=e.getProperty(t);if(a(r,n)){return}e.setProperty(t,n);e._bRecreateChild=true}function ce(t,a,n,o,i){var s,p=true,l=false;localStorage.removeItem(a.globalDirtyStorageKey);a.oDeferredControlCreation=undefined;if(i&&i.indexOf("SAPUI5.Component=")===0&&n===m.URL.type){fe(t,a,o,i.replace(/^SAPUI5\.Component=/,""));return}if(i&&i.indexOf("SAPUI5=")===0&&n===m.URL.type){Ie.prototype._renderControlInDiv(t,a,undefined,"open");a.oDeferredControlCreation=new jQuery.Deferred;Ie.prototype._createUi5View(a,o,i).then(function(e){var n,r=jQuery("#"+a.getId());if(r&&r.length>0){n=P.createRenderManager();n.renderControl(e);n.flush(jQuery("#"+a.getId())[0]);n.destroy()}else{t.renderControl(e)}a.oDeferredControlCreation.resolve()});Ie.prototype._renderControlInDiv(t,a,undefined,"close");return}e.debug('Not resolved as "SAPUI5.Component=" or "SAPUI5=" , '+"will attempt to load into iframe "+i);if(!a.getActive()){e.debug("Skipping rendering container iframe","Container '"+a.getId()+"' is inactive");return}try{o=a.getFrameSource(n,o)}catch(n){e.error(n.message||n,null,w);a.fireEvent("applicationConfiguration");t.renderControl(Ie.prototype._createErrorControl());return}if(sap.ushell.Container){s=Ie.prototype._getLogoutHandler(a);if(!s){if(_.isApplicationTypeEmbeddedInIframe(n)){s=Ie.prototype._logout.bind(null,a);T.put(a.getId(),s);sap.ushell.Container.attachLogoutEvent(s);sap.ushell.Container.addRemoteSystem(Ie.prototype._createSystemForUrl(o))}}else if(!_.isApplicationTypeEmbeddedInIframe(n)){sap.ushell.Container.detachLogoutEvent(s);T.remove(a.getId())}}o=Ie.prototype._checkNwbcUrlAdjustment(a,n,o);var u=r.fromURL(document.URL);if(u.has("sap-iframe-params")){var f=u.get("sap-iframe-params")||"",d=f.split(",");if(d.length>0){var c=new g(o);d.forEach(function(e){if(e&&e.length>0){if(u.has(e)){c.addQuery(e,u.get(e))}}});o=c.toString()}}if(V){V.then(function(e){e.addAcceptedOrigin(new g(o).origin())})}if(n==="TR"){a.setProperty("iframePostAllParams",true,true)}if(u.get("sap-post")==="false"){p=false}else if(window.QUnit!==undefined){p=a.getIframeWithPost()}if(p===true&&a.getOpenWithPostByAppParam()===false){p=false}if(u.get("sap-post")==="true"){l=true}if(p===true&&(n==="NWBC"||n==="TR"||n==="WDA"||n==="WCF")||l===true){a.setProperty("iframeWithPost",true,true);a.oDeferredRenderer=new jQuery.Deferred;o=Ie.prototype._filterURLParams(o);var y=[];var v=Ie.prototype._getParamKeys(o,y);Ie.prototype._generateRootElementForIFrame(t,a,true);if(v.length>0){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.getAppStateData(v).then(function(e){var n;var r=jQuery("#"+a.getId());if(r.length>0){n=P.createRenderManager();Ie.prototype._buildHTMLElements(n,a,e,y,o);n.flush(r[0]);n.destroy()}else{Ie.prototype._buildHTMLElements(t,a,e,y,o)}setTimeout(a.oDeferredRenderer.resolve,0)},function(e){Ie.prototype._buildHTMLElements(t,a,undefined,y,o);setTimeout(a.oDeferredRenderer.resolve,0)})})}else{Ie.prototype._buildHTMLElements(t,a,undefined,y,o);setTimeout(a.oDeferredRenderer.resolve,0)}Ie.prototype._generateRootElementForIFrame(t,a,false);return}if(a.getFrameworkId&&a.getFrameworkId()==="UI5"&&a.getIsStateful&&a.getIsStateful()===true){a.setProperty("isIframeBusy",true,true)}a.fireEvent("applicationConfiguration");t.openStart("iframe",a).accessibilityState(a).attr("src",o).attr("title",C.i18n.getText("AppilcationContainer.IframeTitle")).attr("sap-iframe-idx",++H).class("sapUShellApplicationContainer").style("height",a.getHeight()).style("width",a.getWidth());if(h.last("/core/shell/enableFeaturePolicyInIframes")===true){t.attr("allow",R)}t.openEnd().close("iframe")}function ge(e){var t=new g(e);t=t.removeSearch(j);return t.toString()}function me(t,a){var n=[],r;if(t.indexOf("sap-intent-param=")>0){r=/(?:sap-intent-param=)([^&/]+)/.exec(t);if(r&&r.length===2){n.push([r[1]]);a.push("sap-intent-param-data")}}if(t.indexOf("sap-xapp-state=")>0){r=/(?:sap-xapp-state=)([^&/]+)/.exec(t);if(r&&r.length===2){n.push([r[1]]);a.push("sap-xapp-state-data")}}else if(t.indexOf("sap-xapp-state-data=")>0){r=/(?:sap-xapp-state-data=)([^&/]+)/.exec(t);if(r&&r.length===2){try{var o=decodeURIComponent([r[1]]);n.push([o]);a.push("sap-xapp-state-data")}catch(t){e.error("Invalid encoding of the sap-xapp-state-data parameter in the url: ",r[1])}}}if(t.indexOf("sap-iapp-state=")>0){r=/(?:sap-iapp-state=)([^&/]+)/.exec(t);if(r&&r.length===2){n.push([r[1]]);a.push("sap-iapp-state-data")}}return n}function he(e,t,a,n,o){var i=t.getId()+"-form",s="",p=false;if(a===undefined){a=[]}a.push([sap.ushell.Container.getFLPUrl(true)]);n.push("sap-flp-url");a.push([t.getSystemAlias()]);n.push("system-alias");var l="";var u={};n.forEach(function(e,t){if(a[t][0]){u[e]=a[t][0]}});var f=o;l=JSON.stringify(u);var d={};if(t.getIframePostAllParams()===true){d=r.fromURL(o);s=ye(t,d,false);if(s!==""){o=ve(o,d)}}t.fireEvent("applicationConfiguration");e.openStart("form").attr("id",i).attr("method","post").attr("name",i).attr("target",t.getId()+"-iframe").attr("action",o).style("display","none").openEnd();e.voidStart("input").attr("name","sap-flp-params").attr("value",l).voidEnd();if(t.getIframePostAllParams()===true){ye(t,d,true,e)}e.close("form");var c=t.sId;if(t.hasStyleClass("sapUShellApplicationContainerIframeHidden")){p=true;t.toggleStyleClass("sapUShellApplicationContainerIframeHidden",false)}t.sId+="-iframe";e.openStart("iframe",t).attr("name",t.getId()).accessibilityState(t).attr("sap-orig-src",f).attr("title",C.i18n.getText("AppilcationContainer.IframeTitle")).attr("sap-iframe-idx",++H).class("sapUShellApplicationContainer").style("height",t.getHeight()).style("width",t.getWidth());if(h.last("/core/shell/enableFeaturePolicyInIframes")===true){e.attr("allow",R.replaceAll(";"," "+new g(o).origin()+";"))}e.openEnd().close("iframe");t.sId=c;if(p){t.toggleStyleClass("sapUShellApplicationContainerIframeHidden",true)}}function ye(e,t,a,n){var r="";var o="";if(t.has("sap-iframe-hint")){r=t.get("sap-iframe-hint")}var i=t.mParams;if(e.getApplicationType()==="TR"||r==="GUI"){var s,p;for(s in i){if(s==="sap-iframe-hint"||s==="sap-keep-alive"){continue}p=i[s][0];if(a===true){n.voidStart("input").attr("name",s).attr("value",p).voidEnd()}else{o+="*"}}}return o}function ve(e,t){var a=t.get("sap-iframe-hint"),n=t.get("sap-keep-alive"),r=new g(e).query("");if(typeof a==="string"){r.addSearch("sap-iframe-hint",a)}if(typeof n==="string"){r.addSearch("sap-keep-alive",n)}return r.toString()}function Ce(e,t,a){if(a){e.openStart("div",t).attr("sap-iframe-app","true").class("sapUShellApplicationContainer").style("height",t.getHeight()).style("width",t.getWidth()).openEnd()}else{e.close("div")}}var Ie=l.extend(w,{metadata:{properties:{additionalInformation:{defaultValue:"",type:"string"},application:{type:"object"},applicationConfiguration:{type:"object"},applicationType:{defaultValue:"URL",type:x+"ApplicationType"},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},navigationMode:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},text:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},visible:{defaultValue:true,type:"boolean"},active:{defaultValue:true,type:"boolean"},"sap-system":{type:"string"},applicationDependencies:{type:"object"},componentHandle:{type:"object"},ui5ComponentName:{type:"string"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},shellUIService:{type:"object"},appIsolationService:{type:"object"},reservedParameters:{type:"object"},coreResourcesFullyLoaded:{type:"boolean"},isStateful:{defaultValue:false,type:"boolean"},iframeHandlers:{defaultValue:"",type:"string"},openWithPostByAppParam:{defaultValue:true,type:"boolean"},iframeWithPost:{defaultValue:false,type:"boolean"},beforeAppCloseEvent:{type:"object"},extendedInfo:{type:"object"},systemAlias:{defaultValue:"",type:"string"},iframePostAllParams:{defaultValue:false,type:"boolean"},isKeepAlive:{defaultValue:false,type:"boolean"},frameworkId:{defaultValue:"",type:"string"},iframeReusedForApp:{defaultValue:false,type:"boolean"},isIframeValidTime:{defaultValue:{time:0},type:"object"},isIframeBusy:{defaultValue:false,type:"boolean"},isInvalidIframe:{defaultValue:false,type:"boolean"}},events:{applicationConfiguration:{}},aggregations:{child:{multiple:false,type:"sap.ui.core.Control",visibility:"hidden"}},library:"sap.ushell",designtime:"sap/ushell/designtime/ApplicationContainer.designtime"},exit:function(){var e,t=this;if(sap.ushell.Container){e=Ie.prototype._getLogoutHandler(t);if(e){sap.ushell.Container.detachLogoutEvent(e);T.remove(t.getId())}}localStorage.removeItem(t.globalDirtyStorageKey);if(t._unloadEventListener){removeEventListener("unload",t._unloadEventListener)}if(t._disableRouterEventHandler){P.getEventBus().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",t._disableRouterEventHandler)}if(t._storageEventListener){removeEventListener("storage",t._storageEventListener)}if(t._messageEventListener){removeEventListener("message",t._messageEventListener)}Ie.prototype._destroyChild(t);if(l.exit){l.exit.apply(t)}},setHandleMessageEvent:function(e){D=e},init:function(){var t=this;t.globalDirtyStorageKey=U+n();t._unloadEventListener=t.exit.bind(t);addEventListener("unload",t._unloadEventListener);t._storageEventListener=function(a){var n=t.getApplicationType();if(a.key===t.globalDirtyStorageKey&&a.newValue===sap.ushell.Container.DirtyState.PENDING&&_.isApplicationTypeEmbeddedInIframe(n)){var r=t._getIFrame();if(r){e.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.components.container.ApplicationContainer");var o=new g(t._getIFrameUrl(r));var i=o.protocol()+"://"+o.host();r.contentWindow.postMessage(JSON.stringify({action:"pro54_getGlobalDirty"}),i)}}};addEventListener("storage",t._storageEventListener);t._messageEventListener=Ie.prototype._handleMessageEvent.bind(null,t);addEventListener("message",t._messageEventListener);if(!V&&sap.ushell.Container&&sap.ushell.Container.getServiceAsync){V=sap.ushell.Container.getServiceAsync("MessageBroker")}},onAfterRendering:function(){var e=this;this.rerender=function(){};if(c.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto")}if(this.oDeferredRenderer){this.oDeferredRenderer.done(function(){var t=document.getElementById(e.getId()+"-form");if(t){t.submit()}})}},renderer:{apiVersion:2,render:function(t,a){var n=a.getApplication(),r=a.launchpadData,o;if(!a.getVisible()){Ie.prototype._renderControlInDiv(t,a);return}if(a.bTestControl){Ie.prototype._renderControlInDiv(t,a,a.oTestControl)}else if(a.error){delete a.error;Ie.prototype._renderControlInDiv(t,a,Ie.prototype._createErrorControl())}else if(!n){Ie.prototype._render(t,a,a.getApplicationType(),a.getUrl(),a.getAdditionalInformation())}else if(!n.isResolvable()){Ie.prototype._render(t,a,n.getType(),n.getUrl(),"")}else if(r){Ie.prototype._render(t,a,r.applicationType,r.Absolute.url.replace(/\?$/,""),r.applicationData)}else{e.debug("Resolving "+n.getUrl(),null,w);n.resolve(function(t){e.debug("Resolved "+n.getUrl(),JSON.stringify(t),w);a.launchpadData=t;Ie.prototype._destroyChild(a)},function(e){var t=n.getMenu().getDefaultErrorHandler();if(t){t(e)}Ie.prototype._destroyChild(a);a.error=e});o=new i({text:Ie.prototype._getTranslatedText("loading",[n.getText()])});Ie.prototype._destroyChild(a);a.setAggregation("child",o);Ie.prototype._renderControlInDiv(t,a,o)}}}});Ie.prototype.getFrameSource=function(e,t){if(!Object.prototype.hasOwnProperty.call(m.enum,e)){throw new Error("Illegal application type: "+e)}return t};Ie.prototype.setUrl=function(e){de(this,"url",e)};Ie.prototype.setAdditionalInformation=function(e){de(this,"additionalInformation",e)};Ie.prototype.setApplicationType=function(e){de(this,"applicationType",e)};Ie.prototype.createPostMessageRequest=function(e,t){var a=Date.now().toString();return{type:"request",request_id:a,service:e,body:t}};Ie.prototype.setNewTRApplicationContext=function(e){var t=new jQuery.Deferred,a=this._getIFrame(),n,r,o=this;if(!a){return t.promise().reject({message:"Expected an existing TR application application frame but found none."})}function i(){if(r){r["sap-flp-url"]=sap.ushell.Container.getFLPUrl(true);r["system-alias"]=o.getSystemAlias();n["sap-flp-params"]=r}var e=o.createPostMessageRequest("sap.its.startService",n);o.postMessageToIframe(e,a,true).then(function(){t.resolve()}).catch(function(e){t.reject({eventData:e,message:"Failed to change application context."})})}e=_.appendSapShellParam(e);e=Ie.prototype._filterURLParams(e);n={url:e};if(this.getIframeWithPost&&this.getIframeWithPost()===true){var s=[];var p=Ie.prototype._getParamKeys(e,s);if(p.length>0){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.getAppStateData(p).then(function(e){r={};s.forEach(function(t,a){if(e[a][0]){r[t]=e[a][0]}});i()},function(e){i()})})}else{r={};i()}}else{i()}return t.promise()};Ie.prototype.postMessageToIframe=function(t,a,n){var r=this;var o=t.request_id;return new Promise(function(i,s){function p(a){var n={};try{if(typeof a.data==="string"&&a.data.indexOf("{")===0){try{n=JSON.parse(a.data)}catch(e){n={}}}else{return}if(!n.request_id||o!==n.request_id){return}if(n.status==="success"){i(n)}else{s(n)}window.removeEventListener("message",p)}catch(n){i();e.warning("Obtained bad response from framework in response to message "+t.request_id);e.debug("Underlying framework returned invalid response data: '"+a.data+"'")}}var l=JSON.stringify(t);e.debug("Sending postMessage "+l+" to application container '"+r.getId()+"'");var u=new g(r._getIFrameUrl(a));var f=u.protocol()+"://"+u.host();if(n){window.addEventListener("message",p,false);a.contentWindow.postMessage(l,f)}else{a.contentWindow.postMessage(l,f);i()}})};Ie.prototype.postMessageToCurrentIframe=function(e,t){if(t===undefined){t=false}var a=this._getIFrame();if(!a){if(t){return Promise.reject({message:"Expected opened iframe not found."})}return}return this.postMessageToIframe(e,a,t)};Ie.prototype.setNewApplicationContext=function(e,t){var a=this;var n=this["setNew"+e+"ApplicationContext"];if(!n){return Promise.reject({message:"Unsupported application type"})}var r=this._getIFrame();if(!r){return Promise.reject({message:"Expected an existing TR application application frame but found none."})}var o=this.createPostMessageRequest("sap.gui.triggerCloseSessionImmediately",{});return this.postMessageToIframe(o,r,true).then(function(){return n.call(a,t)},function(e){return Promise.reject({eventData:e,message:"Failed to change application context."})})};Ie.prototype.onApplicationOpened=function(e){var t=this.getIsStateful();if(!t){return Promise.resolve()}var a=this.getApplicationType();if(a==="TR"&&e!=="TR"){var n=this._getIFrame();if(!n){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."})}var r=this.createPostMessageRequest("sap.gui.triggerCloseSession",{});return this.postMessageToIframe(r,n,false).catch(function(e){return Promise.reject({eventData:e,message:"Failed to change application context."})})}return Promise.resolve()};Ie.prototype.postMessageRequest=function(e,t){var a=this._getIFrame();if(!a){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."})}var n=this.createPostMessageRequest(e,t||{});return this.postMessageToIframe(n,a,false).catch(function(e){return Promise.reject({eventData:e,message:"Failed to post message."})})};Ie.prototype.sendBeforeAppCloseEvent=function(){var e=this.getBeforeAppCloseEvent&&this.getBeforeAppCloseEvent(),t;if(e&&e.enabled&&e.enabled===true){t=this.createPostMessageRequest("sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent",e.params);return this.postMessageToIframe(t,this._getIFrame(),true)}return undefined};Ie.prototype.getDeffedControlCreation=function(e){return this.oDeferredControlCreation?this.oDeferredControlCreation.promise():jQuery.Deferred().resolve().promise()};Ie.prototype._getCommunicationHandlers=B;Ie.prototype._adaptIsUrlSupportedResultForMessagePopover=W;Ie.prototype._getLogoutHandler=q;Ie.prototype._getParameterMap=J;Ie.prototype._getTranslatedText=K;Ie.prototype._createErrorControl=z;Ie.prototype._destroyChild=G;Ie.prototype._createUi5View=$;Ie.prototype._publishExternalEvent=Q;Ie.prototype._createUi5Component=X;Ie.prototype._disableRouter=Y;Ie.prototype._createSystemForUrl=Z;Ie.prototype._isTrustedPostMessageSource=ee;Ie.prototype._handleMessageEvent=re;Ie.prototype._logout=se;Ie.prototype._renderControlInDiv=pe;Ie.prototype._checkNwbcUrlAdjustment=le;Ie.prototype._adjustNwbcUrl=ue;Ie.prototype._render=ce;Ie.prototype._getParamKeys=me;Ie.prototype._buildHTMLElements=he;Ie.prototype._buildHTMLForAllPostParams=ye;Ie.prototype._generateRootElementForIFrame=Ce;Ie.prototype._backButtonPressedCallback=te;Ie.prototype._getIFrame=ae;Ie.prototype._getIFrameUrl=ne;Ie.prototype._filterURLParams=ge;Ie.prototype._resetPluginsLoadIndications=ie;Ie.prototype._handlePostMessagesForPluginsPostLoading=oe;return Ie},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/iconfonts", ["sap/ui/core/IconPool"],function(e){"use strict";var i={};i.registerFiori2IconFont=function(){e.registerFont({fontFamily:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts"),lazy:true});e.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"TNTIcons",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts"),lazy:true});var i={fontFamily:"BusinessSuiteInAppSymbols",collectionName:"BusinessSuiteInAppSymbols",icons:[["icon-heart","e000"],["icon-quarter","e001"],["icon-year","e002"],["icon-equalizer","e003"],["icon-component","e004"],["icon-component-private","e005"],["icon-raw-material","e006"],["icon-sms","e007"],["icon-add-note","e008"],["icon-change-time-horizon","e009"],["icon-table-chart-customization","e00a"],["icon-delegated-important-task","e00b"],["icon-forklift","e00c"],["icon-coins","e00d"],["icon-filter-menu","e00e"],["icon-target-to-date","e00f"],["icon-program","e010"],["icon-phase","e011"],["icon-checklist","e012"],["icon-mirrored-task","e013"],["icon-sub-project","e014"],["icon-checklist-item","e015"],["icon-adhoc-analysis","e016"],["icon-change-analysis","e017"],["icon-review-demands","e018"],["icon-project-definition","e019"],["icon-data-access","e01a"],["icon-define-shortage","e01b"],["icon-review-supplies","e01c"],["icon-change-log","e01d"],["icon-priority-1","e01e"],["icon-priority-2","e01f"],["icon-jam","e020"],["icon-milestone","e021"],["icon-bulleting-with-numbers","e022"],["icon-decrease-indent","e023"],["icon-increase-indent","e024"],["icon-bold","e025"],["icon-italic","e026"],["icon-strike-through","e027"],["icon-underline","e028"],["icon-save-as","e029"],["icon-segmentation","e02A"],["icon-context-menu","e02B"],["icon-snapshot","e02C"],["icon-substraction-b-a","e02D"],["icon-substraction-a-b","e02E"],["icon-intersection","e02F"],["icon-union","e030"],["icon-top","e031"],["icon-bottom","e032"],["icon-page-up","e033"],["icon-page-down","e034"],["icon-create-dashboard","e035"],["icon-excelsius-file","e036"],["icon-open-folder","e037"],["icon-neutral","e038"],["icon-split-segmentation","e039"],["icon-manage-budget","e03A"],["icon-blocked","e03B"],["icon-pipette","e03C"],["icon-top-recipe","e03D"],["icon-recipe","e03E"],["icon-ingredients","e03F"],["icon-multiple-charts","e040"],["icon-descending-bars","e041"],["icon-descending-stacked-bars","e042"],["icon-scatter-plot","e043"],["icon-spill","e044"],["icon-fire","e045"],["icon-stratification","e046"],["icon-relationship","e047"],["icon-margin-decomposition","e048"],["icon-control-group","e049"],["icon-bullet-chart","e04A"],["icon-responsible-area","e04B"],["icon-increase","e04C"],["icon-decrease","e04D"],["icon-current-stock","e04E"],["icon-expedite","e04F"],["icon-postpone","e050"],["icon-approved","e051"],["icon-partially-delivered","e052"],["icon-line-bar-chart","e053"],["icon-expand-all","e054"],["icon-submission","e055"],["icon-change-request","e056"],["icon-column-unselected","e057"],["icon-column-selected","e058"],["icon-row-unselected","e059"],["icon-row-selected","e05A"],["icon-stock-requirements","e05B"],["icon-gender-male-and-female","e05C"],["icon-icon-marital-status","e05D"],["icon-birthday","e05E"],["icon-classification","e05F"],["icon-marked-for-deletion","e060"],["icon-bullet-chart","e061"],["icon-remove-filter","e062"],["icon-bank-account","e063"],["icon-savings-account","e064"],["icon-debit-card","e065"],["icon-vip-customer","e066"],["icon-undesirable-customer","e067"],["icon-answered-change-request","e068"],["icon-collected-change-request","e069"],["icon-draw-freehand","e06A"],["icon-draw-circle","e06B"],["icon-completed","e06C"],["icon-answered","e06D"],["icon-traffic-cone","e06E"],["icon-traffic-lights","e06F"],["icon-container","e070"],["icon-container-loading","e071"],["icon-traffic-jam","e072"],["icon-products","e073"],["icon-sidepanel","e074"],["icon-split-screen","e075"],["icon-truck-driver","e076"],["icon-keep-segment","e077"],["icon-exclude-segment","e078"],["icon-separate-segments","e079"],["icon-distribute-segments","e07A"],["icon-next-open-item","e07B"],["icon-where-used","e07C"],["icon-outbound-delivery","e07D"],["icon-outbound-delivery-inactive","e07E"],["icon-outbound-delivery-active","e07F"],["icon-target","e080"],["icon-source","e081"],["icon-material","e082"],["icon-due-date","e083"],["icon-overdue","e084"],["icon-set-as-default","e085"],["icon-face-very-bad","e086"],["icon-face-bad","e087"],["icon-face-skeptical","e088"],["icon-face-neutral","e089"],["icon-face-astonished","e08A"],["icon-face-happy","e08B"],["icon-face-very-happy","e08C"],["icon-face-awful","e08D"],["icon-face-devastated","e08E"],["icon-face-okey-dokey","e08F"],["icon-alarm","e090"],["icon-activate","e091"],["icon-segment-preview-reference-objects","e092"],["icon-radius","e093"],["icon-polygon-black","e094"],["icon-polygon-white","e095"],["icon-polygon","e096"],["icon-no-filter","e097"],["icon-grip","e098"],["icon-water","e09A"],["icon-liquid","e09C"],["icon-gas","e09B"],["icon-gas-2","e09d"],["icon-water-2","e09e"],["icon-operator","e09f"],["icon-target-filter","e0a0"],["icon-equipment","e0A1"],["icon-gis-layer","e0A2"],["icon-section","e0A3"],["icon-kohorte","e0A4"],["icon-female","e0A5"],["icon-male","e0A6"],["icon-model","e0A7"],["icon-hourglass","e0A8"],["icon-plain-grid-layout","e0A9"],["icon-top-panel-layout","e0AA"],["icon-2x1-grid-layout","e0AB"],["icon-1x2-grid-layout","e0AC"],["icon-side-panel-left-layout","e0AD"],["icon-2x2-grid-layout","e0AE"],["icon-inverse-t-layout","e0AF"],["icon-t-layout","e0B0"],["icon-top-side-panel-layout","e0B1"],["icon-side-top-panel-layout","e0B2"],["icon-4x4-grid-layout","e0B3"],["icon-add-point","e0B4"],["icon-add-polyline","e0B5"],["icon-add-polygone","e0B6"],["icon-email-send-delayed","e0B7"],["icon-email-not-opened","e0B8"],["icon-link-not-clicked","e0B9"],["icon-sms-send-delayed","e0BA"],["icon-ab-testing","e0BB"],["icon-tv","e0BC"],["icon-radio","e0BD"],["icon-outdoor","e0BE"],["icon-event","e0BF"],["icon-paid-search","e0C0"],["icon-display-ads","e0C1"],["icon-call-center","e0C2"],["icon-social","e0C3"],["icon-event2","e0C4"],["icon-official-service-group","e0C5"],["icon-time-deposit","e0C6"],["icon-early-widthdrawal-for-time-deposits","e0C7"],["icon-aggregated-view","e0C8"],["icon-detailed-view","e0C9"],["icon-rescheduling","e0CA"],["icon-resequencing","e0CB"],["icon-movement-warning","e0CC"],["icon-multiple-warnings","e0CD"],["icon-box-truck","e0CE"],["icon-box-truck-empty","e0CF"],["icon-tractor","e0C0"],["icon-driver","e0D1"],["icon-driver-warning","e0D2"],["icon-overlap","e0D3"],["icon-expand-overlap","e0D4"],["icon-collapse-overlap","e0D5"],["icon-utilization","e0D6"],["icon-expand-utilization","e0D7"],["icon-collapse-utilization","e0D8"],["icon-trailer","e0D7"],["icon-container-closed","e0DA"],["icon-railcar","e0DB"],["icon-warehouse","e0DC"],["icon-goods","e0DD"],["icon-ship","e0DE"],["icon-truck-driver","e0DF"],["icon-return-delivery","e0E0"],["icon-return-order","e0E1"],["icon-contract","e0E2"],["icon-business-partner","e0E3"],["icon-business-partner-verified","e0E4"],["icon-business-partner-anonymous","e0E5"],["icon-business-partner-self-identified","e0E6"],["icon-money-withdrawal","e0E7"],["icon-truck-load","e0E8"],["icon-truck-load-unload","e0ea"],["icon-truck-unload","e0e9"],["icon-pharmacy","e0eb"],["icon-medicine-syrup","e0ec"],["icon-reminder","e0ed"],["icon-medicine-pill","e0ee"],["icon-medicine-ointment","e0ef"],["icon-medicine-drops","e0f0"],["icon-blood-test","e0f1"],["icon-temperature","e0f2"],["icon-allergies","e0f9"],["icon-immunization","e0f8"],["icon-blood-pressure","e0f7"],["icon-health-tracking","e0f6"],["icon-weight","e0f5"],["icon-foot-steps","e0f4"],["icon-medicine-inhaler","e0f3"],["icon-rescheduling2","e0fa"],["icon-resequencing2","e0fb"],["icon-no-time-change","e0fc"],["icon-time-change","e0fd"],["icon-smart-matcher","e0fe"],["icon-3d","e0ff"],["icon-parallel-sequence","e100"],["icon-alternative-sequence","e101"],["icon-main-sequence","e102"],["icon-refinery","e103"],["icon-terminal","e104"],["icon-vessel","e105"],["icon-barge","e106"],["icon-road","e107"],["icon-pipeline","e108"],["icon-delay","e109"],["icon-legal-section","e10a"],["icon-causes","e10b"],["icon-effects","e10c"],["icon-shared-by-me","e10d"],["icon-shared-with-me","e10e"],["icon-main-milestone","e10f"],["icon-indicator-groups","e110"],["icon-alert-groups","e111"],["icon-function-alert","e112"],["icon-function-hierarchy","e113"],["icon-rfid","e114"],["icon-input","e115"],["icon-software-item","e116"],["icon-product-view","e117"],["icon-software-item-variant","e118"],["icon-lighthouse","e119"],["icon-demand-unit","e11a"],["icon-fma-management","e11b"],["icon-fma-validation","e11c"],["icon-fma-analytics","e11d"],["icon-class","e11e"],["icon-overview","e11f"],["icon-production","e120"],["icon-subclass","e121"],["icon-variant-configuration","e122"],["icon-sum","e123"],["icon-add-outside","e124"],["icon-compressor","e125"],["icon-dehydrator","e126"],["icon-heater-treater","e127"],["icon-pump","e128"],["icon-separator","e129"],["icon-well-completion","e12a"],["icon-well","e12b"],["icon-meter-chained","e12c"],["icon-cluster-chained","e12d"],["icon-tank-chained","e12e"],["icon-empty-trailer","e12f"],["icon-door","e130"],["icon-loading-point","e131"],["icon-stock-warehouse","e132"],["icon-gate","e133"],["icon-timeseries-waterfall-chart","e134"],["icon-expand-collapse-level-2","e135"],["icon-expand-collapse-level-3","e136"],["icon-recycle","e137"],["icon-stages-warning","e138"],["icon-empty-warning","e139"],["icon-ps-text","e140"],["icon-activity","e141"],["icon-activity-element","e142"],["icon-transformer","e143"],["icon-generation","e144"],["icon-consumer","e145"],["icon-storage","e146"],["icon-circuit-breaker","e147"],["icon-grid","e148"],["icon-applied_filter","e149"],["icon-thumb-sideway","e14a"],["icon-thumb-sideway-filled","e14b"],["icon-thumb-up-filled","e14c"],["icon-thumb-down-filled","e14d"],["icon-multi-container","e14e"],["icon-network-header","e150"],["icon-late","e151"],["icon-created","e152"],["icon-dispatched-deallocate","e153"],["icon-confirmed","e154"],["icon-unfirmed","e155"],["icon-firmed","e156"],["icon-unsaved-changes","e157"],["icon-project-definition-2","e158"],["icon-asterisk","e159"],["icon-equal","e15a"],["icon-not-equal","e15b"],["icon-fixed-cell","e15c"],["icon-partially-fixed-cell","e15d"],["icon-stripes-pattern","e15e"],["icon-feature-dictionary","e15f"],["icon-variant-planning","e160"],["icon-requirement-model","e161"],["icon-bottle","e162"],["icon-bottle-cap","e163"],["icon-pallet","e164"],["icon-foil","e165"],["icon-tray","e166"],["icon-unknown-dependency","e167"],["icon-layer","e168"],["icon-move-folder","e169"],["icon-remove-folder","e16a"],["icon-match-case","e16b"],["icon-match-whole-word","e16c"],["icon-remove-total","e16d"],["icon-after-total","e16e"],["icon-before-total","e16f"],["icon-workbook-filter","e170"],["icon-update-filter","e171"],["icon-cell-lock","e172"],["icon-monitor-assembly-sequence","e173"],["icon-monitor-just-in-time-calls","e174"],["icon-manage-charging-stations","e175"]]};var n={fontFamily:"SAP-Icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0020","e0c3"],["F0021","e10d"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]},o={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E214"],["F0429","E2A6"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10N","E2B5"],["FK10N","E2B6"],["FS10N","E2B7"],["FBL5N","E2B8"],["FBL1N","E2B9"],["FFS01","E2BA"],["FBL3N","E2BB"],["FCOA1","E2BC"]]},c={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]},F={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2EA"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"]]},E={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F0263","E321"],["F0266","E322"],["F2001","E31E"],["F0839","E320"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E384"],["F0718","E383"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]},t={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"],["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"]]},a={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F1068","E3BA"],["F0955","E3B9"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"],["F1476","E3C7"]]},r={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1520","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]},l={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1562","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"],["partner-enablement","E40A"]]},s={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]},d={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","E700"],["Open","E701"],["Blocked","E702"],["Partially Blocked","E703"],["Open1","E704"],["Partially Adopted","E705"],["Due","E706"],["Overdue","E707"],["Sort","E708"],["Missing Parts","E709"],["Fire","E70A"],["Dangerous Chemicals","E70B"],["Share","E70C"],["Entertainment","E70D"],["Gift","E70E"],["QR Code","E70F"],["Wifi-Online","E710"],["Wifi-Offline","E711"],["Sunrise","E712"],["Sunset","E713"],["Afternoon","E714"],["Night","E715"],["Loading Date","E715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71A"],["Heavy Rain","e71B"],["Foggy","e71C"],["Snow","e71D"],["Risk Assessment","e71E"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72A"],["Location Assets","e72B"],["Transport Systems","e72C"],["Field","e72D"],["Field Group","e72E"],["Record","e730"],["Record Group","e731"]]},u={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(n,c,o,d,F,E,u,t,a,r,l,s,i)};i.registerFonts=function(){var i,n,o,c;for(n=0;n<arguments.length;n=n+1){i=arguments[n];for(o=0;o<i.icons.length;o=o+1){c={};c.fontFamily=i.fontFamily;c.content=i.icons[o][1];c.overWrite=false;c.suppressMirroring=true;e.addIcon(i.icons[o][0],i.collectionName,c)}}};return i},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/library", ["sap/ui/core/Core","sap/ui/core/library","sap/m/library"],function(e,l,a){"use strict";var s=e.initLibrary({name:"sap.ushell",version:"1.115.1",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.FloatingNumberType"],interfaces:[],controls:["sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.services._VisualizationInstantiation.VizInstance","sap.ushell.services._VisualizationInstantiation.VizInstanceAbap","sap.ushell.services._VisualizationInstantiation.VizInstanceCdm","sap.ushell.services._VisualizationInstantiation.VizInstanceLaunchPage","sap.ushell.services._VisualizationInstantiation.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.SidePane","sap.ushell.ui.shell.SubHeader","sap.ushell.ui.shell.SysInfoBar","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:["sap.ushell.ui.launchpad.AccessibilityCustomData"],extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});s.AllMyAppsState={FirstLevel:"FirstLevel",SecondLevel:"SecondLevel",Details:"Details",FirstLevelSpread:"FirstLevelSpread"};s.AllMyAppsProviderType={HOME:0,EXTERNAL:1,CATALOG:2};s.AppTitleState={ShellNavMenuOnly:"ShellNavMenuOnly",AllMyAppsOnly:"AllMyAppsOnly",ShellNavMenu:"ShellNavMenu",AllMyApps:"AllMyApps"};s.ContentNodeType={HomepageGroup:"HomepageGroup",Space:"Space",Page:"Page"};s.components=s.components||{};s.components.container=s.components.container||{};s.components.container.ApplicationType={NWBC:"NWBC",SAPUI5:"SAPUI5",TR:"TR",URL:"URL",WCF:"WCF",WDA:"WDA"};s.DisplayFormat={Standard:"standard",Compact:"compact",Flat:"flat",FlatWide:"flatWide",StandardWide:"standardWide"};s.NavigationState={InProgress:"InProgress",Finished:"Finished"};s.ui=s.ui||{};s.ui.launchpad=s.ui.launchpad||{};s.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};s.ui.tile=s.ui.tile||{};s.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};s.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};s.VisualizationLoadState={Loading:"Loading",Loaded:"Loaded",InsufficientRoles:"InsufficientRoles",OutOfRoleContext:"OutOfRoleContext",NoNavTarget:"NoNavTarget",Failed:"Failed",Disabled:"Disabled"};s.AppType={OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",URL:"External Link",APP:"Application"};s.FloatingNumberType={None:"None",Notifications:"Notifications",OverflowButton:"OverflowButton"};return s});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/navigationMode", ["sap/base/Log","sap/base/util/isPlainObject","sap/ushell/Config"],function(e,n,a){"use strict";var i={};var o=function(n){var a=true;if(n){if(typeof n!=="object"){a=false}else{Object.keys(n).forEach(function(e){if(["GUI","WDA","WCF"].indexOf(e)===-1){a=false}else if(typeof n[e]!=="boolean"){a=false}})}}if(!a){e.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean","Actual parameter: "+JSON.stringify(n),"sap.ushell.services.navigationMode")}};var t=function(e){switch(e){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined}};i._isInplaceEnabledForApplicationType=function(e){var i=a.last("/core/navigation/enableInPlaceForClassicUIs");o(i);if(n(i)){return i[t(e)]}return false};i.compute=function(n,a,o){var t;var d={};if(["inplace","explace"].indexOf(a)>=0){d["sap-ushell-next-navmode"]=a}if(["inplace","explace","frameless"].indexOf(o)>=0){t=i._getInternalNavigationMode(o,n);e.debug("Navigation mode was forced to "+t+" because sap-ushell-navmode parameter was set to "+o+" for target","sap.ushell.navigationMode");d.navigationMode=t;d.explicitNavMode=true;return d}if(i._isInplaceEnabledForApplicationType(n)===true){d.navigationMode=i._getInternalNavigationMode("inplace",n);d.explicitNavMode=false}return d};i._getInternalNavigationMode=function(n,a){var i={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},URL:{inplace:"embedded",explace:"newWindow",frameless:"newWindow"},WCF:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"}};if(!i.hasOwnProperty(a)){e.error(a+" is not a valid application type","expected one of "+Object.keys(i).join(", "),"sap.ushell.navigationMode");return null}if(n!=="inplace"&&n!=="explace"&&n!=="frameless"){e.error(n+" is not a valid external navigation mode","expected one of 'inplace', 'explace' or 'frameless'","sap.ushell.navigationMode");return null}if(a==="SAPUI5"&&n==="frameless"){e.error("'"+n+"' is not a valid external navigation mode for application type '"+a+"'","falling back to internal navigation mode '"+i.SAPUI5.frameless+"'","sap.ushell.navigationMode")}return i[a][n]};i.getExternalNavigationMode=function(n){var a={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!a.hasOwnProperty(n)){e.error(n+" is not a recognized internal navigation mode","expected one of "+Object.keys(a).join(","),"sap.ushell.navigationMode");return null}return a[n]};var d=["NWBC","WDA","TR","WCF"];i.getNavigationMode=function(n,a){var i=n.additionalInformation,o=n.applicationType,t,r;if(d.indexOf((a||{}).applicationType)>-1&&!(a||{}).explicitNavMode){return"newWindowThenEmbedded"}if(n.appCapabilities&&n.appCapabilities.navigationMode){return n.appCapabilities.navigationMode}if((i===null||typeof i==="string"||typeof i==="undefined")&&(o==="URL"||o==="SAPUI5")){if(i&&i.indexOf("managed=")===0){if(i==="managed=FioriWave1"){return"embedded"}if(i==="managed="){return"newWindow"}return undefined}if(i&&i.indexOf("SAPUI5.Component=")===0){t="[a-zA-Z0-9_]+";r=["^SAPUI5.Component=",t,"([.]",t,")*$"].join("");if(!new RegExp(r).test(i)){e.warning(["The UI5 component name in",i,"is not valid.","Please use names satisfying",r].join(" "))}return"embedded"}return"newWindow"}if(d.indexOf(o)>-1){return"newWindowThenEmbedded"}return undefined};i.computeNavigationModeForHomepageTiles=function(e,n,a){var i={applicationType:e,additionalInformation:n};if(d.indexOf(e)>-1&&a){return"embedded"}return this.getNavigationMode(i)};return i},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/ShellLayout", ["sap/base/Log"],function(e){"use strict";var a={RootDomRef:"shellLayout",ShellHeader:"header-shellArea",RendererRootView:"canvas",SidePane:"sidePane-shellArea",Footer:"footer-shellArea",ToolArea:"toolArea-shellArea",SubHeader:"subHeader-shellArea",NavigationBar:"navigationBar-shellArea",FloatingActions:"floatingActions-shellArea",FloatingContainer:"floatingContainer-shellArea",FloatingContainerDockStart:"floatingContainerDockStart-shellArea",FloatingContainerDockEnd:"floatingContainerDockEnd-shellArea",ShellShapes:"shapes-shellArea",RightFloatingContainer:"rightFloatingContainer-shellArea",BackgroundImage:"backgroundImage-shellArea",HelpContent:"helpContent-shellArea"};function t(t){var o=document.getElementById(t);a.RendererRootView=t;var l=["<div id='shellLayout' class='sapUshellFlexRow'>","    <div id='backgroundImage-shellArea' data-sap-ui-root-content=true></div>","    <div id='shapes-shellArea' data-sap-ui-root-content=true></div>","    <div id='sapUshellPopupWithinArea' class='sapUshellFlexGrowShrink sapUshellFlexRow'>","        <div id='floatingContainerDockStart-shellArea' class='sapUshellFloatingContainerDock' data-sap-ui-root-content=true></div>","        <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>","            <div id='header-shellArea' data-sap-ui-root-content=true></div>","            <div id='subHeader-shellArea' data-sap-ui-root-content=true></div>","            <div class='sapUshellFlexGrowShrink sapUshellFlexRow'>","                <aside id='toolArea-shellArea' class='sapUshellPositionRelative' data-sap-ui-root-content=true></aside>","                <div id='sidePane-shellArea' data-sap-ui-root-content=true></div>","                <div class='sapUshellFlexGrowShrink sapUshellFlexColumn'>","                    <div id='navigationBar-shellArea' data-sap-ui-root-content=true></div>","                    <div class='sapUshellFlexGrowShrink sapUshellPositionRelative sapUshellOverflowHidden sapUshellFlexColumn'>","                        <div id='"+a.RendererRootView+"' class='sapUshellFlexGrowShrink sapUshellPositionRelative sapUshellShell' data-sap-ui-root-content=true></div>","                        <div id='floatingActions-shellArea' data-sap-ui-root-content=true></div>","                        <div id='rightFloatingContainer-shellArea' data-sap-ui-root-content=true></div>","                    </div>","                </div>","            </div>","            <footer id='footer-shellArea' class='sapUshellPositionStatic sapMPageFooter' data-sap-ui-root-content=true></footer>","        </div>","        <div id='floatingContainerDockEnd-shellArea' class='sapUshellFloatingContainerDock' data-sap-ui-root-content=true></div>","        <div id='floatingContainer-shellArea' data-sap-ui-root-content=true></div>","    </div>","    <div id='helpContent-shellArea' data-sap-ui-root-content=true></div>","</div>"].join("\n");var i=Object.keys(a).some(function(e){if(e==="RendererRootView"){return false}var t=a[e];return!!document.getElementById(t)});if(i){e.warning("Found a ShellArea element. Did not apply the layout","sap.ushell.renderers.fiori2.ShellLayout");return}document.body.insertAdjacentHTML("afterbegin","<div id='tmp'>"+l+"</div>");var n=document.getElementById("tmp");o.replaceWith.apply(o,Array.from(n.childNodes));n.remove()}function o(){var e=document.getElementById(a.RootDomRef);if(e){document.getElementById(a.RootDomRef).remove()}}return{applyLayout:t,destroyLayout:o,LAYOUT_MAPPING:a}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/resources", ["sap/ui/core/Configuration","sap/ui/model/resource/ResourceModel"],function(e,r){"use strict";var o={};o.getTranslationModel=function(e){if(!this._oResourceModel){this._oResourceModel=new r({bundleUrl:sap.ui.require.toUrl("sap/ushell/renderers/fiori2/resources/resources.properties"),bundleLocale:e})}return this._oResourceModel};o.i18nModel=o.getTranslationModel(e.getLanguage());o.i18n=o.i18nModel.getResourceBundle();return o},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppConfiguration", ["sap/base/i18n/ResourceBundle","sap/base/Log","sap/base/util/ObjectPath","sap/m/library","sap/ui/core/Configuration","sap/ui/core/IconPool","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/util/Mobile","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/UrlParsing","sap/ushell/utils"],function(t,e,n,i,a,r,s,jQuery,o,u,p,c,l){"use strict";var f=i.ButtonType;function h(){var i={},h=true,g=null,m=[],d=[];u.on("AppRendered").do(y.bind(this));function y(){h=false;while(d.length>0){d.shift()()}}this.addActivity=function(t){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("UserRecents").then(function(n){n.addActivity(t).done(e.resolve).fail(e.reject)}).catch(e.reject);return e.promise()};this.setApplicationInInitMode=function(){h=true};this.getApplicationRequestQueue=function(){return d};this.getCurrentApplication=function(){return g};this.getCurrentAppliction=this.getCurrentApplication;this.getMetadata=function(t){if(!t){t=g}if(t){var e=s&&s.getHash?s.getHash():"";var n=this._getMemoizationKey(e);return this._getMetadata(t,n)}return{}};this._getMemoizationKey=function(t){var e=t.split("?");var n=e[0];var i=e[1];i=this._processParams(i);if(i){return n+i}var a=c.parseShellHash(t);n=a?a.semanticObject+"-"+a.action:"";return n};this._processParams=function(t){if(t){var e="";var n={};t.split("&").forEach(function(t){var e=t.split("=");n[e[0]]=e[1]});var i=Object.keys(n).sort();var a="";i.forEach(function(t,i){e=i?"&":"?";a+=e+t+"="+n[t]});return a}return""};this._getMetadata=function(t,e){if(!i.hasOwnProperty(e)||!i[e].complete){this.addMetadata(t,e)}if(!i[e]){i[e]={complete:false}}if(!i[e].title){i[e].title=t.text||p.i18n.getText("default_app_title")}return i[e]};this.setCurrentApplication=function(t){g=t;d.splice(0)};this.setHeaderHiding=function(){e.warning("Application configuration headerHiding property is deprecated and has no effect")};this.addApplicationSettingsButtons=function(t){if(h){d.push(function(){I(t)})}else{I(t)}};function I(t){var e,n=[],i=sap.ushell.Container.getRenderer("fiori2");for(e=0;e<t.length;e++){var a=t[e];n.push(a.getId());a.setIcon(a.getIcon()||r.getIconURI("customize"));if(p.i18n.getText("userSettings")===a.getProperty("text")){a.setProperty("text",p.i18n.getText("userAppSettings"))}a.setType(f.Unstyled)}if(sap.ushell.Container&&i){if(m.length){i.hideActionButton(m,true)}m=n;i.showActionButton(n,true,undefined,true)}}this.setWindowTitle=function(t){window.document.title=t};this.setIcons=function(t){o.setIcons(t)};this.setApplicationFullWidth=function(t){u.emit("setApplicationFullWidth",{bValue:t,date:Date.now()})};this.getApplicationName=function(t){var e,n=t&&t.additionalInformation||null;if(n){e=/^SAPUI5\.Component=(.+)$/i.exec(n);if(e){return e[1]}}return null};this.getApplicationUrl=function(t){var e=t&&t.url||null,n="P_TCODE",i;if(e){if(t.applicationType==="NWBC"&&e.indexOf(n)){return e}i=e.indexOf("?");if(i>=0){e=e.slice(0,i)}if(e.slice(-1)!=="/"){e+="/"}}return e};this.getPropertyValueFromConfig=function(t,e,n){var i;if(n&&t.hasOwnProperty(e+"Resource")){i=n.getText(t[e+"Resource"])}else if(t.hasOwnProperty(e)){i=t[e]}return i};this.getPropertyValueFromManifest=function(t,e,i){var a=e[i].manifestEntryKey,r=e[i].path,s=t.getManifestEntry(a);return n.get(r||"",s)};this.addMetadata=function(n,r){try{var s=this.getApplicationName(n),o=this.getApplicationUrl(n),u,p,c={fullWidth:{manifestEntryKey:"sap.ui",path:"fullWidth"},hideLightBackground:{manifestEntryKey:"sap.ui",path:"hideLightBackground"},title:{manifestEntryKey:"sap.app",path:"title"},icon:{manifestEntryKey:"sap.ui",path:"icons.icon"},favIcon:{manifestEntryKey:"sap.ui",path:"icons.favIcon"},homeScreenIconPhone:{manifestEntryKey:"sap.ui",path:"icons.phone"},"homeScreenIconPhone@2":{manifestEntryKey:"sap.ui",path:"icons.phone@2"},homeScreenIconTablet:{manifestEntryKey:"sap.ui",path:"icons.tablet"},"homeScreenIconTablet@2":{manifestEntryKey:"sap.ui",path:"icons.tablet@2"},startupImage320x460:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x920:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x1096:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x1096"},startupImage768x1004:{manifestEntryKey:"sap.ui",path:"icons.startupImage768x1004"},startupImage748x1024:{manifestEntryKey:"sap.ui",path:"icons.startupImage748x1024"},startupImage1536x2008:{manifestEntryKey:"sap.ui",path:"icons.startupImage1536x2008"},startupImage1496x2048:{manifestEntryKey:"sap.ui",path:"icons.startupImage1496x2048"},compactContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.compact"},cozyContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.cozy"}},f,h,g,m,d,y,I,x=n&&n.componentHandle;if(r){if(!i.hasOwnProperty(r)){i[r]={complete:false}}if(!i[r].complete){if(x){u=x.getMetadata()}else if(s){e.warning("No component handle available for '"+s+"'; SAPUI5 component metadata is incomplete",null,"sap.ushell.services.AppConfiguration");return}if(u){p=u.getConfig();m=u.getManifest()!==undefined;i[r].complete=true;if(p){y=p.resourceBundle||"";if(y){if(y.slice(0,1)!=="/"){y=o+y}I=t.create({url:y,locale:a.getLanguage()})}}for(d in c){if(c.hasOwnProperty(d)){if(m){i[r][d]=this.getPropertyValueFromManifest(u,c,d)}if(p&&i[r][d]===undefined){i[r][d]=this.getPropertyValueFromConfig(p,d,I)}}}i[r].version=u.getVersion();i[r].technicalName=u.getComponentName()}else if(l.isApplicationTypeEmbeddedInIframe(n.applicationType)){var v="/~canvas;window=app/wda/",b=n.url.indexOf(v),E="/sap/bc/webdynpro/sap/",A="/bc/gui/sap/its/webgui",w=n.url.indexOf(A);if(b>=0){i[r].technicalName=n.url.substring(b+v.length,n.url.indexOf("/",b+v.length))}if(n.url.indexOf(E)>=0){i[r].technicalName=new RegExp(E+"(.*)[?]").exec(n.url)[1]}i[r].complete=true;if(w>=0){var P="etransaction=",C=n.url.indexOf(P,w+A.length),K=n.url.indexOf("&",C),O=K>=0?K:n.url.length;i[r].technicalName=decodeURIComponent(n.url.substring(C+P.length,O))+" (TCODE)"}}else{e.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration")}}f=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];h=o&&o[o.length-1]==="/"?o.substring(0,o.length-1):o;g=function(t){if(t.match(/^https?:\/\/.*/)){return false}return t&&t[0]!=="/"};f.forEach(function(t){var e=i[r][t],n=null;if(e){n=g(e)?h+"/"+e:e}i[r][t]=n})}}catch(t){e.warning("Application configuration could not be parsed")}}}return new h},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppState", ["sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/ushell/services/_AppState/AppState","sap/ushell/services/_AppState/AppStatePersistencyMethod","sap/ushell/services/_AppState/Sequentializer","sap/ushell/services/_AppState/SequentializingAdapter","sap/ushell/services/_AppState/WindowAdapter","sap/ushell/utils"],function(e,jQuery,t,n,s,i,r,a){"use strict";function o(e){return a.isDefined(e)&&a.isDefined(e.transient)?!!e.transient:true}function p(e,t,n,s){this._oConfig=s&&s.config;this._sSessionKey="";this._oAdapter=new i(e);this._oAdapter=new r(this,this._oAdapter,s)}p.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey()}return this._sSessionKey};p.prototype.getAppState=function(e){var n=new jQuery.Deferred;var s=this;var i;this._loadAppState(e).done(function(e,r,a,o){i=new t(s,e,false,r,undefined,undefined,undefined,a,o);n.resolve(i)}).fail(function(){i=new t(s,e);n.resolve(i)});return n.promise()};p.prototype._getGeneratedKey=function(e){var t=a.generateRandomKey();if(e){t=("TAS"+t).substring(0,41)}else{t=("AS"+t).substring(0,40)}return t};p.prototype.createEmptyAppState=function(s,i,r,a){var p;var d="";var f="";var u=i||o(this._oConfig);var c=this._getGeneratedKey(u);if(r!==undefined&&!this.isPersistencyMethodSupported(r)){r=undefined;a=undefined}if(s){if(!e.isA(s,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}if(s.getMetadata&&s.getMetadata()&&typeof s.getMetadata().getName==="function"){d=s.getMetadata().getName()||""}if(!d&&s.getMetadata&&s.getMetadata().getComponentName){d=s.getMetadata().getComponentName()}if(s.getMetadata&&s.getMetadata()&&typeof s.getMetadata().getManifest==="function"&&typeof s.getMetadata().getManifest()==="object"&&typeof s.getMetadata().getManifest()["sap.app"]==="object"){f=s.getMetadata().getManifest()["sap.app"].ach||""}}if(u===true){r=a=undefined}else if(r===undefined&&this.isPersistencyMethodSupported(n.PersonalState)){r=n.PersonalState;a=undefined}p=new t(this,c,true,undefined,d,f,u,r,a);return p};p.prototype.createEmptyUnmodifiableAppState=function(){var e=this._getGeneratedKey();var n=new t(this,e,false);return n};p.prototype._saveAppState=function(e,t,s,i,r,p,d){var f=this._getSessionKey();var u=a.isDefined(r)?r:o(this._oConfig);if(u){p=undefined;d=undefined}else if(p!==undefined){if(!this.isPersistencyMethodSupported(p)){if(this.isPersistencyMethodSupported(n.PersonalState)){p=n.PersonalState}else{p=undefined}d=undefined}}return this._oAdapter.saveAppState(e,f,t,s,i,u,p,d)};p.prototype._keyIsJson=function(e){if(typeof e==="string"&&e.indexOf("{")===0){try{JSON.parse(e);return true}catch(e){return false}}return false};p.prototype._loadAppState=function(e){if(this._keyIsJson(e)){return(new jQuery.Deferred).resolve(e,e).promise()}return this._oAdapter.loadAppState(e)};p.prototype.deleteAppState=function(e){return this._oAdapter.deleteAppState(e)};p._getSequentializer=function(){return new s};p.prototype.getSupportedPersistencyMethods=function(){if(this._oAdapter.getSupportedPersistencyMethods){return this._oAdapter.getSupportedPersistencyMethods()}return[]};p.prototype.isPersistencyMethodSupported=function(e){var t=this.getSupportedPersistencyMethods();if(t.length>0&&e!==undefined){return t.indexOf(e)>=0}return false};p.prototype.setAppStateToPublic=function(e){var t=d(e,"sap-xapp-state");var s=d(e,"sap-iapp-state");var i=(new jQuery.Deferred).resolve();var r=(new jQuery.Deferred).resolve();var a=new jQuery.Deferred;var o;var p;if(t!==undefined){i=this.makeStatePersistent(t,n.PublicState).done(function(n){if(t!==n){e=e.replace(t,n);o=n}}).fail(a.reject)}if(s!==undefined){r=this.makeStatePersistent(s,n.PublicState).done(function(t){if(s!==t){e=e.replace(s,t);p=t}}).fail(a.reject)}jQuery.when(i,r).done(function(){a.resolve(e,t,s,o,p)});return a.promise()};function d(e,t){var n=new RegExp("(?:"+t+"=)([^&/]+)");var s=n.exec(e);var i;if(s&&s.length===2){i=s[1]}return i}p.prototype.makeStatePersistent=function(e,t,n){var s=new jQuery.Deferred;if(this.getSupportedPersistencyMethods().length===0){return s.resolve(e)}if(this._keyIsJson(e)){return s.resolve(e)}if(this.isPersistencyMethodSupported(t)){this.getAppState(e).done(function(i){if(i._iPersistencyMethod!==t){i.bTransient=false;i._iPersistencyMethod=t;i._oPersistencySettings=n;if(e.startsWith("TAS")){e=e.substring(1,e.length)}this._saveAppState(e,i._sData,i._sAppName,i._sACHComponent,false,t,n).done(function(){s.resolve(e)}).fail(s.reject)}else{s.resolve(e)}}.bind(this)).fail(s.reject)}else{s.reject("AppState.makeStatePersistent - adapter does not support persistence method: "+t)}return s.promise()};p.WindowAdapter=r;p.hasNoAdapter=false;return p},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Bookmark", ["sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/library","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log"],function(jQuery,e,r,o,t,a){"use strict";var n="sap.ushell.services.Bookmark";var i="X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG";var s=r.ContentNodeType;function u(){this._oLaunchPageServicePromise=sap.ushell.Container.getServiceAsync("LaunchPage");if(e.last("/core/spaces/enabled")){this._oPagesServicePromise=sap.ushell.Container.getServiceAsync("Pages")}this._addBookmarkToContentNodes=function(e,r,o,t){var a=r.map(function(r){if(r&&r.hasOwnProperty("type")&&r.isContainer){switch(r.type){case s.Page:return this.addBookmarkToPage(e,r.id,t);case s.HomepageGroup:return new Promise(function(e,o){this._oLaunchPageServicePromise.then(function(t){t.getGroupById(r.id).done(e).fail(o)})}.bind(this)).then(function(r){return this.addBookmarkToHomepageGroup(e,r,o,t)}.bind(this));default:return Promise.reject("Bookmark Service: The API needs to be called with a valid content node type. '"+r.type+"' is not supported.")}}return Promise.reject("Bookmark Service: Not a valid content node.")}.bind(this));return Promise.all(a)};this.addBookmark=function(r,o,t){var i=new jQuery.Deferred;var s=e.last("/core/shell/enablePersonalization");var u=e.last("/core/spaces/enabled");var c=e.last("/core/spaces/myHome/enabled");if(!s&&(!u||!c)){return i.resolve().promise()}this._checkBookmarkParameters(r).then(function(){if(typeof o==="undefined"&&u){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getDefaultSpace()}).then(function(e){var r=e&&e.children&&e.children[0];return r}).then(function(e){return this._addBookmarkToContentNodes(r,[e],false,t)}.bind(this))}if((typeof o==="undefined"||!o.hasOwnProperty("type"))&&!Array.isArray(o)){return this.addBookmarkToHomepageGroup(r,o,false,t)}var e=[].concat(o);return this._addBookmarkToContentNodes(r,e,false,t)}.bind(this)).then(i.resolve).catch(function(e){a.error("Error during Bookmark creation: ",e,n);i.reject(e)});return i.promise()};this.addCustomBookmark=function(e,r,a,n){var i=o(r);var s=t(i,{vizType:e,vizConfig:{"sap.flp":{chipConfig:i.chipConfig},"sap.platform.runtime":{includeManifest:!i.loadManifest}}});delete s.chipConfig;delete s.loadManifest;var u=[].concat(a);return this._addBookmarkToContentNodes(s,u,true,n)};this.addBookmarkToHomepageGroup=function(r,o,t,a){if(e.last("/core/spaces/enabled")){var n="Bookmark Service: The API is not available in spaces mode.";return Promise.reject(n)}return new Promise(function(e,n){this._oLaunchPageServicePromise.then(function(i){var s;if(t){s=i.addCustomBookmark(r,o,a)}else{s=i.addBookmark(r,o,a)}s.done(function(r){var t={tile:r,group:o};sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",t);e()}).fail(n)})}.bind(this))};this.addBookmarkToPage=function(r,o,t){if(!e.last("/core/spaces/enabled")){return Promise.reject("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad homepage mode, use 'addBookmark' instead.")}var a=e.last("/core/shell/enablePersonalization");var n=e.last("/core/spaces/myHome/enabled");var i=e.last("/core/spaces/myHome/myHomePageId");if(!a&&(!n||n&&o!==i)){return Promise.reject("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.")}if(r&&(typeof r.title!=="string"||typeof r.url!=="string")){return Promise.reject("Bookmark Service - Invalid bookmark data.")}return this._oPagesServicePromise.then(function(e){return e.addBookmarkToPage(o,r,undefined,t)})};this.addBookmarkByGroupId=function(r,o,t){var a=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){var n="Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.";return a.reject(n).promise()}this._oLaunchPageServicePromise.then(function(e){e.getGroups().done(function(e){var n=e.find(function(e){return e.id===o})||null;this.addBookmark(r,n,t).done(a.resolve).fail(a.reject)}.bind(this)).fail(a.reject)}.bind(this)).catch(a.reject);return a.promise()};this.getShellGroupIDs=function(r){var o=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){var t="Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.";return o.reject(t).promise()}this._oLaunchPageServicePromise.then(function(e){e.getGroupsForBookmarks(r).done(function(r){r=r.map(function(r){return{id:e.getGroupId(r.object),title:r.title}});o.resolve(r)}).fail(o.reject)});return o.promise()};this._doAddCatalogTileToGroup=function(e,r,o,t){this._oLaunchPageServicePromise.then(function(n){if(t){n.getGroups().fail(e.reject).done(function(i){var s=i.some(function(a){if(n.getGroupId(a)===t){this._addToGroup(o,e,r,a);return true}}.bind(this));if(!s){var u="Group '"+t+"' is unknown";a.error(u,null,"sap.ushell.services.Bookmark");e.reject(u)}}.bind(this))}else{n.getDefaultGroup().fail(e.reject).done(function(t){this._addToGroup(o,e,r,t)}.bind(this))}}.bind(this));return e.promise()};this._isSameCatalogTile=function(e,r,o){var t=o.getCatalogTileId(r);if(t===undefined){return false}return t.indexOf(e)===0};this._addToGroup=function(e,r,o,t){return this._oLaunchPageServicePromise.then(function(n){n.getCatalogTiles(e).fail(r.reject).done(function(i){var s=n.getGroupId(t);var u=i.some(function(e){if(this._isSameCatalogTile(o,e,n)){n.addTile(e,t).fail(r.reject).done(function(){r.resolve();sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","catalogTileAdded",s)});return true}}.bind(this));if(!u){var c="No tile '"+o+"' in catalog '"+n.getCatalogId(e)+"'";a.error(c,null,"sap.ushell.services.Bookmark");r.reject(c)}}.bind(this))}.bind(this))};this.addCatalogTileToGroup=function(r,o,t){var n=new jQuery.Deferred;var s;a.error("Deprecated API call of 'sap.ushell.Bookmark.addCatalogTileToGroup'. Please use 'addBookmark' instead",null,"sap.ushell.services.Bookmark");if(e.last("/core/spaces/enabled")){s="Bookmark Service: The API 'addCatalogTileToGroup' is not supported in launchpad spaces mode.";return n.reject(s).promise()}this._oLaunchPageServicePromise.then(function(e){var u=t?this._isMatchingRemoteCatalog:this._isLegacyHANACatalog;t=t||{id:i};e.onCatalogTileAdded(r);e.getCatalogs().fail(n.reject).done(function(i){var c;i.forEach(function(r){if(u(r,t,e)){if(!c){c=r}else{a.warning("More than one matching catalog: "+JSON.stringify(t),null,"sap.ushell.services.Bookmark")}}});if(c){this._doAddCatalogTileToGroup(n,r,c,o)}else{s="No matching catalog found: "+JSON.stringify(t);a.error(s,null,"sap.ushell.services.Bookmark");n.reject(s)}}.bind(this))}.bind(this));return n.promise()};this._checkBookmarkParameters=function(e){return Promise.resolve().then(function(){if(!e){throw new Error("Invalid Bookmark Data: No bookmark parameters passed.")}var r=e.dataSource;var o;if(r){if(r.type!=="OData"){throw new Error("Invalid Bookmark Data: Unknown data source type: "+r.type)}o=r.settings&&r.settings.odataVersion;var t=["2.0","4.0"];if(!t.includes(o)){throw new Error("Invalid Bookmark Data: Unknown OData version in the data source: "+o)}}if(e.serviceUrl){return sap.ushell.Container.getServiceAsync("ReferenceResolver").then(function(o){if(o.hasSemanticDateRanges(e.serviceUrl)&&!r){throw new Error("Invalid Bookmark Data: Provide a data source to use semantic date ranges.")}})}})};this._isMatchingRemoteCatalog=function(e,r,o){var t=o.getCatalogData(e);return t.remoteId===r.remoteId&&t.baseUrl.replace(/\/$/,"")===r.baseUrl.replace(/\/$/,"")};this._isLegacyHANACatalog=function(e,r,o){return o.getCatalogId(e)===i};this.countBookmarks=function(r,o){var t=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(e){return e.countBookmarks({url:r,contentProviderId:o})}).then(t.resolve,t.reject)}else{this._oLaunchPageServicePromise.then(function(e){e.countBookmarks(r,o).done(t.resolve).fail(t.reject)})}return t.promise()};this.countCustomBookmarks=function(r){if(!r||!r.url||!r.vizType){return Promise.reject("countCustomBookmarks: Some required parameters are missing.")}if(e.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(e){return e.countBookmarks(r)})}return this._oLaunchPageServicePromise.then(function(e){return e.countCustomBookmarks(r)})};this.deleteBookmarks=function(r,o){var t=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(e){return e.deleteBookmarks({url:r,contentProviderId:o})}).then(t.resolve,t.reject)}else{this._oLaunchPageServicePromise.then(function(e){e.deleteBookmarks(r,o).done(function(e){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",r);t.resolve(e)}).fail(t.reject)})}return t.promise()};this.deleteCustomBookmarks=function(r){if(!r||!r.url||!r.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.")}if(e.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(e){return e.deleteBookmarks(r)})}return this._oLaunchPageServicePromise.then(function(e){return e.deleteCustomBookmarks(r)}).then(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",r.url)})};this.updateBookmarks=function(r,o,t){var a=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(e){return e.updateBookmarks({url:r,contentProviderId:t},o)}).then(a.resolve,a.reject)}else{this._oLaunchPageServicePromise.then(function(e){e.updateBookmarks(r,o,t).done(a.resolve).fail(a.reject)})}return a.promise()};this.updateCustomBookmarks=function(r,o){if(!r||!r.url||!r.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.")}var a=t({},o,{vizConfig:{"sap.flp":{chipConfig:o.chipConfig},"sap.platform.runtime":{includeManifest:!o.loadManifest}}});delete a.chipConfig;delete a.loadManifest;if(e.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(e){return e.updateBookmarks(r,a)})}return this._oLaunchPageServicePromise.then(function(e){return e.updateCustomBookmarks(r,a)})};this.getContentNodes=function(){if(e.last("/core/spaces/enabled")){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getContentNodes()})}return new Promise(function(e,r){this._oLaunchPageServicePromise.then(function(o){o.getGroupsForBookmarks().done(function(r){var t=r.map(function(e){return{id:o.getGroupId(e.object),label:e.title,type:s.HomepageGroup,isContainer:true}});e(t)}).fail(r)})}.bind(this))}}u.hasNoAdapter=true;return u},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel", ["sap/ushell/services/_CommonDataModel/PersonalizationProcessor","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/ushell/services/_CommonDataModel/SiteConverter","sap/base/util/isEmptyObject","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/Version","sap/ushell/Config","sap/base/util/includes","sap/base/util/values","sap/ushell/library","sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/base/Log","sap/ui/core/Manifest"],function(e,t,jQuery,i,n,r,o,s,a,l,u,p,h,c,f,d,g,P){"use strict";var v=c.DisplayFormat;var _=c.ContentNodeType;var y="sap.ushell.services.CommonDataModel";var m={STATIC_LAUNCHER:"sap.ushell.StaticAppLauncher",DYNAMIC_LAUNCHER:"sap.ushell.DynamicAppLauncher",CARD:"sap.ushell.Card"};function z(t,i,r,o){this._oAdapter=t;this._oPersonalizationProcessor=new e;this._oSiteDeferred=new jQuery.Deferred;this._oOriginalSite={};this._oPersonalizedSite={};this._oContentProviderIndex={};this._oSiteConverter=new n;this._oPersonalizationDeltas={};this._bLoadPersonalization=f.isFlpHomeIntent();this._oManifestCache={};this._oGetSitePromise=t.getSite().then(function(e){this._oOriginalSite=s({},e);if(this._bLoadPersonalization){this._loadAndApplyPersonalization(e)}return e}.bind(this)).fail(function(e){this._oSiteDeferred.reject(e);this._bLoadPersonalization=true}.bind(this))}z.prototype._loadAndApplyPersonalization=function(e){var t=new l(e._version);if(t.compareTo("3.1.0")<0){this._oAdapter.getPersonalization(t).then(function(t){if(t){this._oPersonalizationDeltas=o(t)}else{this._oPersonalizationDeltas={version:"3.0.0",_version:"3.0.0"}}this._triggerMixinPersonalisationInSite(e,t)}.bind(this)).fail(this._oSiteDeferred.reject)}else{this._oPersonalizedPages={};this._ensureStandardVizTypesPresent(this._oOriginalSite).then(function(e){this._oOriginalSite=e;this._oOriginalSite=this._ensureProperDisplayFormats(this._oOriginalSite);this._oSiteDeferred.resolve(this._oOriginalSite)}.bind(this))}};z.prototype._applyPagePersonalization=function(e,t){var i=e.identification.id;if(Object.keys(t).length){var n=t.classicHomePage;if(n&&n.version==="3.1.0"){Object.keys(n).forEach(function(e){if(!t[e]){t[e]=n[e]}});delete t.classicHomePage;t._version=t.version}var r=new l(t._version||t.version);if(r.compareTo("3.1.0")<0){t={classicHomePage:t,_version:"3.1.0",version:"3.1.0"}}}this._oPersonalizationDeltas=t;var s=o(t[i],20)||{};var a=this._oSiteConverter.convertTo("3.0.0",o(e,20));return this._triggerMixinPersonalisationInSite(a,s).then(function(e){this._oPersonalizedPages[i]=this._oSiteConverter.convertTo("3.1.0",o(e,20));return this._oPersonalizedPages[i]}.bind(this))};z.prototype._migratePersonalizedPages=function(e){if(typeof this._oAdapter.migratePersonalizedPages!=="function"){return Promise.resolve(e)}return this._oAdapter.migratePersonalizedPages(e).then(function(e){if(e.length===0){return null}return this.save(e)}.bind(this)).then(function(){return e})};z.prototype._triggerMixinPersonalisationInSite=function(e,t){return new Promise(function(i,n){this._oPersonalizationProcessor.mixinPersonalization(e,t).done(function(e){this._oPersonalizedSite=this._ensureCompleteSite(e);this._oPersonalizedSite=this._ensureGroupsOrder(this._oPersonalizedSite);this._ensureStandardVizTypesPresent(this._oPersonalizedSite).then(function(e){this._oPersonalizedSite=e;this._oPersonalizedSite=this._ensureProperDisplayFormats(this._oPersonalizedSite);this._oSiteDeferred.resolve(this._oPersonalizedSite);i(this._oPersonalizedSite)}.bind(this)).catch(n)}.bind(this)).fail(function(e){this._oSiteDeferred.reject(e);n()}.bind(this))}.bind(this))};z.prototype.getHomepageGroups=function(){var e=new jQuery.Deferred;this.getSite().then(function(t){var i=t&&t.site&&t.site.payload&&t.site.payload.groupsOrder?t.site.payload.groupsOrder:[];e.resolve(i)});return e.promise()};z.prototype.getGroups=function(){var e=new jQuery.Deferred;this.getSite().then(function(t){var i=[];Object.keys(t.groups).forEach(function(e){i.push(t.groups[e])});e.resolve(i)});return e.promise()};z.prototype.getGroup=function(e){var t=new jQuery.Deferred;this.getSite().then(function(i){var n=i.groups[e];if(n){t.resolve(n)}else{t.reject("Group "+e+" not found")}});return t.promise()};z.prototype.getSite=function(){if(!this._bLoadPersonalization){this.getSiteWithoutPersonalization().then(this._loadAndApplyPersonalization.bind(this));this._bLoadPersonalization=true}return this._oSiteDeferred.promise()};z.prototype.getSiteWithoutPersonalization=function(){return this._oGetSitePromise};z.prototype.getPage=function(e){var t=u.last("/core/shell/enablePersonalization");var i=u.last("/core/spaces/myHome/enabled");var n=u.last("/core/spaces/myHome/myHomePageId");var r=u.last("/core/stableIDs/enabled");var o=u.last("/core/stableIDs/migratePersonalization");return Promise.resolve(this._oGetSitePromise).then(function(){if(this._oPersonalizedPages[e]){return this._oPersonalizedPages[e]}if(t||i&&e===n){return Promise.all([this._getPageFromAdapter(e),this._oAdapter.getPersonalization(this._oOriginalSite._version)]).catch(function(){return Promise.reject("CommonDataModel Service: Cannot get page "+e)}).then(function(e){return this._applyPagePersonalization(e[0],e[1]).catch(function(){return Promise.reject("Personalization Processor: Cannot mixin the personalization.")})}.bind(this)).then(function(e){if(r&&o){return this._migratePersonalizedPages([e]).then(function(e){return e[0]})}return e}.bind(this))}return this._getPageFromAdapter(e)}.bind(this))};z.prototype._getPageFromAdapter=function(e){if(!this._oAdapter.getPage){return Promise.resolve(o(this._oOriginalSite.pages[e],20))}return this._oAdapter.getPage(e).then(function(t){return Promise.all([this.getCachedVisualizations(),this.getCachedVizTypes()]).then(function(i){var n=i[0];var r=i[1];this._oOriginalSite.pages[e]=t;this._oOriginalSite.visualizations=n;this._oOriginalSite.vizTypes=r;return o(t,20)}.bind(this))}.bind(this))};z.prototype._filterForProperPages=function(e){return e.filter(function(e){return!!e})};z.prototype.getPages=function(e){var t=u.last("/core/shell/enablePersonalization");var i=u.last("/core/spaces/myHome/enabled");var n=u.last("/core/spaces/myHome/myHomePageId");var r=u.last("/core/stableIDs/enabled");var o=u.last("/core/stableIDs/migratePersonalization");return Promise.resolve(this._oGetSitePromise).then(function(){if(t||i){return Promise.all([this._getPagesFromAdapter(e),this._oAdapter.getPersonalization(this._oOriginalSite._version)]).catch(function(){return Promise.reject("CommonDataModel Service: Cannot get pages")}).then(function(e){var i=e[0];var s=e[1];return Promise.all(Object.keys(i).map(function(e){if(this._oPersonalizedPages[e]){return Promise.resolve(this._oPersonalizedPages[e])}if(!t&&e!==n){return Promise.resolve(i[e])}return this._applyPagePersonalization(i[e],s).catch(function(){return Promise.reject("Personalization Processor: Cannot mixin the personalization.")})}.bind(this))).then(function(e){if(r&&o){return this._migratePersonalizedPages(e)}return e}.bind(this)).then(function(e){return this._filterForProperPages(e)}.bind(this))}.bind(this))}return this._getPagesFromAdapter(e).then(function(e){return this._filterForProperPages(h(e))}.bind(this))}.bind(this))};z.prototype._getPagesFromAdapter=function(e){if(!this._oAdapter.getPages){var t={};for(var i in this._oOriginalSite.pages){if(p(e,this._oOriginalSite.pages[i].identification.id)){t[i]=this._oOriginalSite.pages[i]}}return Promise.resolve(o(t,20))}return this._oAdapter.getPages(e).then(function(e){return Promise.all([this.getCachedVisualizations(),this.getCachedVizTypes()]).then(function(t){var i=t[0];var n=t[1];this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=n;Object.keys(e).forEach(function(t){this._oOriginalSite.pages[t]=e[t]}.bind(this));return o(e,20)}.bind(this))}.bind(this))};z.prototype.getAllPages=function(e){if(e&&e.personalizedPages){return this._getAllPersonalizedPages()}return this._getAssignedPageIds().then(function(e){return this.getPages(e)}.bind(this))};z.prototype._getAssignedPageIds=function(){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getContentNodes()}).then(function(e){var t=[];e.forEach(function(e){this._collectPageIds(e,t)}.bind(this));return t}.bind(this))};z.prototype._collectPageIds=function(e,t){if(e.type===_.Page){if(t.indexOf(e.id)===-1){t.push(e.id)}}if(e.children!==undefined){e.children.forEach(function(e){this._collectPageIds(e,t)}.bind(this))}};z.prototype._getAllPersonalizedPages=function(){return Promise.resolve(this._oGetSitePromise).then(function(){return Promise.all([this._getAssignedPageIds(),new Promise(function(e,t){this._oAdapter.getPersonalization(this._oOriginalSite._version).done(e).catch(t)}.bind(this))])}.bind(this)).then(function(e){var t=e[0];var i=e[1];var n=[];Object.keys(i).forEach(function(e){if(e==="version"||e==="_version"){return}if(!t.includes(e)){return}var r=i[e];if(Object.keys(r).length>1){n.push(e)}});if(n.length>0){return this.getPages(n)}return[]}.bind(this))};z.prototype.getApplications=function(){return new Promise(function(e,t){this.getSite().then(function(i){var n=i.applications;if(n){e(n)}else{t("CDM applications not found.")}}).fail(t)}.bind(this))};z.prototype.getVizTypes=function(){if(typeof this._oAdapter.getVizTypes==="function"){return Promise.all([this._getSiteProperty("vizTypes"),this._oAdapter.getVizTypes()]).then(function(e){var t=e[0];var i=e[1];return a(t,i)})}return this.getCachedVizTypes()};z.prototype.getCachedVizTypes=function(){var e=Promise.resolve();if(typeof this._oAdapter.getCachedVizTypes==="function"){e=this._oAdapter.getCachedVizTypes()}return Promise.all([this._getSiteProperty("vizTypes"),e]).then(function(e){var t=e[0];var i=e[1];return a(t,i)})};z.prototype.getVizType=function(e){var t=Promise.resolve();if(typeof this._oAdapter.getVizType==="function"){t=this._oAdapter.getVizType(e)}return Promise.all([this._getSiteProperty("vizTypes"),t]).then(function(t){var i=t[0];var n=t[1];if(n){i[e]=n}return i[e]})};z.prototype.getVisualizations=function(){if(typeof this._oAdapter.getVisualizations==="function"){return Promise.all([this._getSiteProperty("visualizations"),this._oAdapter.getVisualizations()]).then(function(e){var t=e[0];var i=e[1];return a(t,i)})}return this.getCachedVisualizations()};z.prototype.getCachedVisualizations=function(){var e=Promise.resolve();if(typeof this._oAdapter.getCachedVisualizations==="function"){e=this._oAdapter.getCachedVisualizations()}return Promise.all([this._getSiteProperty("visualizations"),e]).then(function(e){var t=e[0];var i=e[1];return a(t,i)})};z.prototype._getSiteProperty=function(e){return new Promise(function(i,n){this.getSite().then(function(r){var o=t.get(e,r);if(o){i(o)}else{var s=e.toString();n("CDM "+s+" not found.")}}).fail(n)}.bind(this))};z.prototype.getGroupFromOriginalSite=function(e){var t=new jQuery.Deferred;if(typeof e==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[e]){t.resolve(s({},this._oOriginalSite.groups[e]))}else{t.reject("Group does not exist in original site.")}return t.promise()};z.prototype.getOriginalPage=function(e){return o(this._oOriginalSite.pages[e],20)};z.prototype.save=function(e){var t=new jQuery.Deferred;if(this._oOriginalSite._version==="3.1.0"){if(!e){return t.reject("No page id was provided").promise()}if(typeof e==="string"){e=[e]}this._saveCdmVersion31(e).then(t.resolve).catch(t.reject)}else{this._saveCdmVersion30().then(t.resolve).catch(t.reject)}return t.promise()};z.prototype._saveCdmVersion30=function(){var e=this._oOriginalSite;var t=this._oPersonalizedSite;return new Promise(function(i,n){this._oPersonalizationProcessor.extractPersonalization(o(t,20),o(e,20)).done(i).fail(n)}.bind(this)).catch(function(){return Promise.reject("Personalization Processor: Cannot extract personalization.")}).then(function(e){if(!r(e)){if(this._oPersonalizationDeltas.version===undefined||this._oPersonalizationDeltas._version===undefined){this._oPersonalizationDeltas.version=this._oOriginalSite._version;this._oPersonalizationDeltas._version=this._oOriginalSite._version}this._oPersonalizationDeltas=e;return this._setPersonalization(this._oPersonalizationDeltas)}return Promise.resolve()}.bind(this))};z.prototype._saveCdmVersion31=function(e){var t=e.map(function(e){var t=this._oSiteConverter.convertTo("3.0.0",this._oOriginalSite.pages[e]);var i=this._oSiteConverter.convertTo("3.0.0",this._oPersonalizedPages[e]);return new Promise(function(n,r){this._oPersonalizationProcessor.extractPersonalization(o(i,20),o(t,20)).done(function(t){n({pageId:e,personalization:t})}).fail(function(t){g.error("Cannot extract personalization of page "+e+": "+t,null,y);n()})}.bind(this))}.bind(this));return Promise.all(t).then(function(e){var t=false;e.forEach(function(e){if(!e){return}if(!r(e.personalization)){t=true;if(this._oPersonalizationDeltas.version===undefined||this._oPersonalizationDeltas._version===undefined){this._oPersonalizationDeltas.version=this._oOriginalSite._version;this._oPersonalizationDeltas._version=this._oOriginalSite._version}this._oPersonalizationDeltas[e.pageId]=e.personalization}}.bind(this));if(t){return this._setPersonalization(this._oPersonalizationDeltas)}return Promise.resolve()}.bind(this))};z.prototype._setPersonalization=function(e,t){if(this._oPendingPersonalizationDeferred){if(!this._oNextPersonalizationQuery){this._oNextPersonalizationQuery={fnNextCall:null,aPromiseResolvers:[]}}return new Promise(function(i,n){this._oNextPersonalizationQuery.fnNextCall=this._setPersonalization.bind(this,e,t);this._oNextPersonalizationQuery.aPromiseResolvers.push({resolve:i,reject:n})}.bind(this))}this._oPendingPersonalizationDeferred=this._oAdapter.setPersonalization(e,t);return new Promise(function(e,t){this._oPendingPersonalizationDeferred.then(e).fail(t).always(function(){delete this._oPendingPersonalizationDeferred;if(this._oNextPersonalizationQuery){var e=this._oNextPersonalizationQuery.fnNextCall();this._cleanupPersonalizationQueuePromises(e,this._oNextPersonalizationQuery.aPromiseResolvers);delete this._oNextPersonalizationQuery}}.bind(this))}.bind(this))};z.prototype._cleanupPersonalizationQueuePromises=function(e,t){t.forEach(function(t){e.then(t.resolve).catch(t.reject)})};z.prototype.registerContentProvider=function(){g.error("CommonDataModel.registerContentProvider is obsolete and should not be used.")};z.prototype._ensureCompleteSite=function(e){if(e.groups){var t=e.groups;Object.keys(t).forEach(function(e){if(!t[e]){delete t[e]}else{if(!t[e].payload){t[e].payload={}}if(!t[e].payload.links){t[e].payload.links=[]}if(!t[e].payload.tiles){t[e].payload.tiles=[]}if(!t[e].payload.groups){t[e].payload.groups=[]}}})}return e};z.prototype._ensureGroupsOrder=function(e){var i=t.get("site.payload.groupsOrder",e);var n=e.groups;var r=0;if(!i){return e}while(r<i.length){var o=i[r];if(!n[o]){i.splice(r,1)}else{r++}}return e};z.prototype.getPlugins=function(){var e=function(e,i){var n=Object.keys(i).length;if(n===0){return{}}if(!i.hasOwnProperty("Shell-plugin")){g.error("Cannot find inbound with id 'Shell-plugin' for plugin '"+e+"'","plugin startup configuration cannot be determined correctly",y);return{}}if(n>1){g.warning("Multiple inbounds are defined for plugin '"+e+"'","plugin startup configuration will be determined using "+"the signature of 'Shell-plugin' inbound.",y)}var r=t.get("signature.parameters",i["Shell-plugin"])||{};return Object.keys(r).reduce(function(e,i){var n=t.get(i+".defaultValue.value",r);if(typeof n==="string"){e[i]=n}return e},{})};var n=function(e){Object.keys(e).filter(function(t){return typeof e[t]==="object"}).forEach(function(t){e[t]=n(e[t])});return Object.freeze(e)};var r;return function(o){if(o!==undefined){r=o}if(r){return jQuery.when(r)}r={};return this.getSiteWithoutPersonalization().then(function(o){var s=o.applications||{};Object.keys(s).filter(function(e){return t.get("type",this[e]["sap.flp"])==="plugin"},s).forEach(function(n){var o;var s=this[n];var l={};if(!i(s["sap.platform.runtime"])){g.error("Cannot find 'sap.platform.runtime' section for plugin '"+n+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else if(!i(s["sap.platform.runtime"].componentProperties)){g.error("Cannot find 'sap.platform.runtime/componentProperties' "+"section for plugin '"+n+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else{l=s["sap.platform.runtime"].componentProperties}r[n]={url:l.url,component:s["sap.ui5"].componentName};var u=t.get("crossNavigation.inbounds",s["sap.app"])||{};o=e(n,u);var p=a(l.config||{},o);if(p){r[n].config=p}if(l.asyncHints){r[n].asyncHints=l.asyncHints}var h=t.get("deviceTypes",s["sap.ui"]);if(h){r[n].deviceTypes=h}},s);return n(r)},function(e){return e})}}();z.prototype._mapDisplayFormats=function(e){var t={tile:v.Standard,standard:v.Standard,link:v.Compact,compact:v.Compact,flat:v.Flat,flatWide:v.FlatWide,tileWide:v.StandardWide,standardWide:v.StandardWide};var i=Object.keys(t).filter(function(t){return e.indexOf(t)>-1});return i.map(function(e){return t[e]})};z.prototype._ensureProperDisplayFormats=function(e){if(e.vizTypes){Object.keys(e.vizTypes).forEach(function(i){if(e.vizTypes[i]["sap.flp"]&&e.vizTypes[i]["sap.flp"].vizOptions){var n=e.vizTypes[i];var r=t.get("vizOptions.displayFormats.supported",n["sap.flp"]);var o=t.get("vizOptions.displayFormats.default",n["sap.flp"]);if(r){e.vizTypes[i]["sap.flp"].vizOptions.displayFormats.supported=this._mapDisplayFormats(r)}if(o){e.vizTypes[i]["sap.flp"].vizOptions.displayFormats.default=this._mapDisplayFormats([o])[0]}}}.bind(this))}if(e.hasOwnProperty("pages")){Object.keys(e.pages).forEach(function(t){var i=e.pages[t];if(i.payload&&i.payload.sections){var n=i.payload.sections;Object.keys(n).forEach(function(e){var t=n[e];Object.keys(t.viz).forEach(function(e){var i=t.viz[e];if(i.displayFormatHint){var n=this._mapDisplayFormats([i.displayFormatHint])[0];i.displayFormatHint=n||i.displayFormatHint}}.bind(this))}.bind(this))}}.bind(this))}else if(e.hasOwnProperty("groups")){Object.keys(e.groups).forEach(function(t){var i=e.groups[t];i.payload.tiles.forEach(function(e){if(e.displayFormatHint){var t=this._mapDisplayFormats([e.displayFormatHint])[0];e.displayFormatHint=t||e.displayFormatHint}}.bind(this))}.bind(this))}return e};z.prototype._ensureStandardVizTypesPresent=function(e){if(!(e._version&&e._version.startsWith("3."))){return Promise.resolve(e)}if(!e.vizTypes){e.vizTypes={}}var t=[];var i={};i[m.STATIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncher/manifest.json";i[m.DYNAMIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json";i[m.CARD]="sap/ushell/services/_CommonDataModel/vizTypeDefaults/cardManifest.json";Object.keys(i).forEach(function(n){if(!e.vizTypes[n]){var r=i[n];var o=this._loadManifest(r).then(function(t){e.vizTypes[n]=t});t.push(o)}}.bind(this));if(t.length===0){return Promise.resolve(e)}return Promise.all(t).then(function(){return e})};z.prototype._loadManifest=function(e){if(!this._oManifestCache[e]){var t=sap.ui.require.toUrl(e);this._oManifestCache[e]=P.load({manifestUrl:t,async:true}).then(function(e){return e.getRawJson()})}return this._oManifestCache[e].then(function(e){return o(e)})};z.prototype.getMenuEntries=function(e){return new Promise(function(i,n){this.getSite().then(function(n){var r=t.get("menus."+e+".payload.menuEntries",n);i(o(r)||[])})}.bind(this))};z.prototype.getContentProviderIds=function(){return new Promise(function(e,t){this.getSite().then(function(t){var i=Object.keys(t.systemAliases);var n={};h(t.applications).forEach(function(e){var t=d.getContentProviderId(e);if(p(i,t)){n[t]=true}});e(Object.keys(n))})}.bind(this))};z.hasNoAdapter=false;return z},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ContentExtensionAdapterFactory", ["sap/ushell/Config","sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig","sap/ui/thirdparty/jquery"],function(e,r,jQuery){"use strict";var n={};n.getAdapters=function(r){var t=n._getConfigAdapters(r);var a={};var i=t.map(function(r){var t=e.last(r.configSwitch);if(!t){return Promise.resolve()}var i=n._getAdapter(r);i.then(function(e){a[r.contentProviderName]=e});return i});return new Promise(function(e){jQuery.when.apply(jQuery,i).then(function(){e(a)})})};n._getConfigAdapters=function(e){if(!e){e=r._getConfigAdapters()}if(!Array.isArray(e)){e=[e]}return e};n._getAdapter=function(e){var r=new jQuery.Deferred;var t=e.configHandler?e.configHandler():{};var a=e.adapter.replace(/\./g,"/");sap.ui.require([a],function(){var a=n._getAdapterInstance(e.adapter,e.system,null,t);r.resolve(a)});return r.promise()};n._getAdapterInstance=function(e,r,n,t){var a=sap.ui.require(e.replaceAll(".","/"));if(a){var i={config:t||{}};return new a(r,n,i)}return null};return n});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CrossApplicationNavigation", ["sap/ushell/services/AppConfiguration","sap/ushell/services/_CrossApplicationNavigation/utils","sap/ushell/utils/type","sap/ushell/TechnicalParameters","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/merge","sap/ushell/utils","sap/ushell/ApplicationType","sap/ushell/UI5ComponentType","sap/base/Log","sap/ushell/utils/UrlParsing","sap/base/util/deepClone","sap/ui/base/Object"],function(e,t,n,a,r,i,s,jQuery,o,p,c,l,u,f,h,v,g){"use strict";function m(m,d,A){var y;if(A&&A.config){y=A.config}function S(a,r){var i;var o;var p;if(typeof a!=="string"&&!s(a)&&a!==undefined){f.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(a===undefined){return undefined}var c=e.getCurrentApplication();if(r){if(typeof r.getComponentData!=="function"||!s(r.getComponentData())||!r.getComponentData().startupParameters||!s(r.getComponentData().startupParameters)){f.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation")}else{var l=r.getComponentData().startupParameters;if(l.hasOwnProperty("sap-system")){i=l["sap-system"][0]}if(l.hasOwnProperty("sap-ushell-next-navmode")){o=l["sap-ushell-next-navmode"][0]}}}else{if(c&&c["sap-system"]){i=c["sap-system"]}else if(c&&c.url){i=new URL(c.url,window.location.href).searchParams.get("sap-system")}if(c&&c["sap-ushell-next-navmode"]){o=c["sap-ushell-next-navmode"]}else if(c&&c.url){o=new URL(c.url,window.location.href).searchParams.get("sap-ushell-next-navmode")}}if(c){p=c.contentProviderId}var u=t._injectParameters({type:n,inject:{"sap-system":i,"sap-ushell-navmode":o,"sap-app-origin-hint":p},injectEmptyString:{"sap-app-origin-hint":true},args:a});return u}function C(e){if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return e}if(!y||!y["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return e}}if(typeof e!=="string"&&!s(e)&&e!==undefined){f.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(e===undefined){return undefined}if(s(e)){var t=i({},e);if(t.target&&t.target.shellHash){if(typeof t.target.shellHash==="string"){if(t.target.shellHash!=="#"&&t.target.shellHash!==""){t.target.shellHash=C(t.target.shellHash)}}return t}t.params=t.params||{};t.params["sap-ushell-enc-test"]=["A B%20C"];return t}var n=e;if(!/[?&]sap-system=/.test(n)){var a=n.indexOf("?")>-1?"&":"?";n+=a+"sap-ushell-enc-test="+encodeURIComponent("A B%20C")}return n}this._extractInnerAppRoute=function(e){var t=this;if(typeof e==="string"){var n=e.split("&/");var a=n.shift();return{intent:a,innerAppRoute:n.length>0?"&/"+n.join("&/"):""}}if(Object.prototype.toString.apply(e)==="[object Object]"){var r=o.get("target.shellHash",e);if(typeof r==="string"){var i=t._extractInnerAppRoute(r);e.target.shellHash=i.intent;return{intent:e,innerAppRoute:i.innerAppRoute}}if(e.hasOwnProperty("appSpecificRoute")){var s=e.appSpecificRoute;delete e.appSpecificRoute;var p=typeof s==="string"&&s.indexOf("&/")!==0&&s.length>0;return{innerAppRoute:p?"&/"+s:s,intent:e}}return{intent:e,innerAppRoute:""}}f.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:e}};this._injectInnerAppRoute=function(e,t){var n=this;if(!t){return e}if(typeof e==="string"){return e+t}if(Object.prototype.toString.apply(e)==="[object Object]"){var a=o.get("target.shellHash",e);if(typeof a==="string"){e.target.shellHash=n._injectInnerAppRoute(a,t);return e}e.appSpecificRoute=t}return e};this.hrefForExternal=function(e,i,s){if(typeof i!=="object"&&i!==undefined&&i!==null){s=i;i=undefined}if(s){var o=new jQuery.Deferred;this.hrefForExternalAsync(e,i).then(o.resolve).catch(o.reject);return o.promise()}f.error("Deprecated option 'bAsync=false'. Please use 'bAsync=true' instead",null,"sap.ushell.services.CrossApplicationNavigation");var c=p({},e);var l=this._extractInnerAppRoute(c);var u=l.intent;t.addXAppStateFromParameter(u,"sap-xapp-state-data");c=S(u,i);c=t.injectStickyParameters({args:c,appLifeCycle:r,technicalParameters:a,type:n});c=C(c);c=this._injectInnerAppRoute(c,l.innerAppRoute);var h=sap.ushell.Container.getService("ShellNavigation");if(!h){f.debug("Shell not available, no Cross App Navigation");return""}return h.hrefForExternal(c,undefined,i,s)};this.hrefForExternalAsync=function(e,i){var s=p({},e);var o=this._extractInnerAppRoute(s);var c=o.intent;return Promise.resolve().then(function(){return t.addXAppStateFromParameterAsync(c,"sap-xapp-state-data")}).then(function(){s=S(c,i);return t.injectStickyParametersAsync({args:s,appLifeCycle:r,technicalParameters:a,type:n})}).then(function(e){s=e;s=C(s);s=this._injectInnerAppRoute(s,o.innerAppRoute);return sap.ushell.Container.getServiceAsync("ShellNavigation")}.bind(this)).then(function(e){return new Promise(function(t,n){e.hrefForExternal(s,undefined,i,true).done(t).fail(n)})}).catch(function(){f.debug("Shell not available, no Cross App Navigation");return""})};this.expandCompactHash=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(n){n.expandCompactHash(e).done(t.resolve).fail(t.reject)});return t.promise()};this.backToPreviousApp=function(){return this.isInitialNavigationAsync().then(function(e){if(e){return this.toExternal({target:{shellHash:"#"},writeHistory:false})}this.historyBack();return undefined}.bind(this))};this.historyBack=function(e){var t=-1;if(e&&typeof e==="number"){if(e<=0){f.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.CrossApplicationNavigation#historyBack")}t=e*-1}window.history.go(t)};this.isInitialNavigation=function(){f.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var e=o.get("sap.ushell.Container");var t=e&&typeof e.getService==="function"&&e.getService("ShellNavigation");if(!t){f.debug("ShellNavigation service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true}var n=t.isInitialNavigation();if(typeof n==="undefined"){return true}return n};this.isInitialNavigationAsync=function(){return sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){var t=e.isInitialNavigation();if(typeof t==="undefined"){return true}return t}).catch(function(){f.debug("ShellNavigation service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true})};this.toExternal=function(e,i){var s=e.writeHistory;var o=p({},e);var c=p({},o);this._processShellHashWithParams(o);var l=this._extractInnerAppRoute(o);var u=l.intent;var h;var v;return Promise.all([sap.ushell.Container.getServiceAsync("AppLifeCycle"),sap.ushell.Container.getServiceAsync("ShellNavigation")]).then(function(e){var t=e[0];h=e[1];v=t.getCurrentApplication();return v&&v.getIntent()}).then(function(e){this._checkIfAppNeedsToBeReloaded(c,v,e,h.hashChanger);return t.addXAppStateFromParameterAsync(u,"sap-xapp-state-data")}.bind(this)).then(function(){o=S(u,i);return t.injectStickyParametersAsync({args:o,appLifeCycle:r,technicalParameters:a,type:n})}).then(function(e){o=e;o=C(o);delete o.writeHistory;o=this._injectInnerAppRoute(o,l.innerAppRoute);return h.toExternal(o,i,s)}.bind(this)).catch(function(e){f.error("CrossAppNavigation.toExternal failed",e,"sap.ushell.services.CrossApplicationNavigation")})};this._checkIfAppNeedsToBeReloaded=function(e,t,n,a){if(!t||!n||!e||!e.target){return}if(e.target.shellHash){var r=h.parseShellHash(e.target.shellHash)||{};e.target={semanticObject:r.semanticObject,action:r.action,contextRaw:r.contextRaw};e.appSpecificRoute=r.appSpecificRoute;e.params=Object.assign({},e.params,r.params)}if(e.appSpecificRoute){return}if(t.applicationType!=="UI5"){return}if(e.target.semanticObject!==n.semanticObject){return}if(e.target.action!==n.action){return}var i={};if(e.params){Object.keys(e.params).forEach(function(t){var n=e.params[t];var a=Array.isArray(n)?n:[n];i[t]=a.map(function(e){return e.toString()})})}if(!a.haveSameIntentParameters(i,n.params)){return}a.setReloadApplication(true)};this.hrefForAppSpecificHash=function(e){f.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.hrefForAppSpecificHash'. Please use 'hrefForAppSpecificHashAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var t=o.get("sap.ushell.Container");if(t&&typeof t.getService==="function"){var n=t.getService("ShellNavigation");if(n){return n.hrefForAppSpecificHash(e)}}f.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(e)};this.hrefForAppSpecificHashAsync=function(e){return sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){return t.hrefForAppSpecificHash(e)}).catch(function(){f.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(e)})};this.getPrimaryIntent=function(e,t){var n={};var a;var r=/^#\w+-displayFactSheet(?:$|\?.)/;n.tags=["primaryAction"];n.semanticObject=e;if(t){n.params=t}return this.getLinks(n).then(function(e){if(e.length===0){delete n.tags;n.action="displayFactSheet";a=function(e,t){var n;if(e.intent===t.intent){return 0}n=r.test(e.intent)^r.test(t.intent);if(n){return r.test(e.intent)?-1:1}return e.intent<t.intent?-1:1};return this.getLinks(n)}a=function(e,t){if(e.intent===t.intent){return 0}return e.intent<t.intent?-1:1};return e}.bind(this)).then(function(e){return e.length===0?null:e.sort(a)[0]})};this.getSemanticObjectLinks=function(e,i,s,o,p,l){var u=new jQuery.Deferred;Promise.resolve().then(function(){return t.injectStickyParametersAsync({args:{params:i},appLifeCycle:r,technicalParameters:a,type:n})}).then(function(t){t=S(t,o).params;t=C({params:t}).params;var n;if(Array.isArray(e)){n=[];e.forEach(function(e){n.push([{semanticObject:e[0],params:e[1],ignoreFormFactor:!!e[2],ui5Component:e[3],appStateKey:e[4],compactIntents:!!e[5]}])})}else{n={semanticObject:e,params:t,ignoreFormFactor:s,ui5Component:o,appStateKey:p,compactIntents:!!l}}return Promise.all([sap.ushell.Container.getServiceAsync("NavTargetResolution"),n])}).then(function(e){var t=e[0];var n=e[1];c.invokeUnfoldingArrayArguments(t.getLinks.bind(t),[n]).done(u.resolve).fail(u.reject)});return u.promise()};this.getLinks=function(e){var t;t=c.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[e]);return t};this._getLinks=function(e){var s=new jQuery.Deferred;if(typeof e==="undefined"){e={}}var o=i({},e);o.compactIntents=!!o.compactIntents;o.action=o.action||undefined;o.paramsOptions=t.extractGetLinksParameterOptions(o.params);Promise.resolve().then(function(){return t.injectStickyParametersAsync({args:o,appLifeCycle:r,technicalParameters:a,type:n})}).then(function(e){o=e;var n;if(o.params){n=t.extractGetLinksParameterDefinition(o.params)}else{n=o.params}var a=S({params:n},o.ui5Component).params;a=C({params:a}).params;if(o.appStateKey){a["sap-xapp-state"]=[o.appStateKey];delete o.appStateKey}o.params=a;return sap.ushell.Container.getServiceAsync("NavTargetResolution")}).then(function(e){e.getLinks(o).done(s.resolve).fail(s.reject)});return s.promise()};this.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(t){t.getDistinctSemanticObjects().done(e.resolve).fail(e.reject)});return e.promise()};this.isIntentSupported=function(e,t){var n=new jQuery.Deferred;var a={};var r=e.map(function(e){var n=S(e,t);a[n]=e;return n});sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(e){e.isIntentSupported(r).done(function(e){var t={};Object.keys(e).forEach(function(n){t[a[n]]=e[n]});n.resolve(t)}).fail(n.reject.bind(n))});return n.promise()};this.isNavigationSupported=function(e,t){var n=new jQuery.Deferred;var a=v(e).map(function(e){var n=this._extractInnerAppRoute(e);return S(n.intent,t)}.bind(this));sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(e){e.isNavigationSupported(a).done(n.resolve).fail(n.reject)});return n.promise()};this.isUrlSupported=function(e){var t=new jQuery.Deferred;if(typeof e!=="string"){t.reject();return t.promise()}if(h.isIntentUrl(e)){var n=h.getHash(e);this.isIntentSupported(["#"+n]).done(function(e){if(e["#"+n]&&e["#"+n].supported){t.resolve()}else{t.reject()}}).fail(function(){t.reject()})}else{t.resolve()}return t.promise()};this.createComponentInstance=function(e,t,n){var a=new jQuery.Deferred;var r=sap.ushell.Container;var i;this.createComponentData(e,t).then(function(e){r.getServiceAsync("Ui5ComponentLoader").then(function(t){return t.modifyComponentProperties(e,u.Application).then(function(e){i=e;return t})}).then(function(e){if(n){n.runAsOwner(function(){t(i)})}else{t(i)}function t(t){t.loadDefaultDependencies=false;e.instantiateComponent(t).then(function(e){a.resolve(e.componentHandle.getInstance())},function(e){e=e||"";f.error("Cannot create UI5 component: "+e,e.stack,"sap.ushell.services.CrossApplicationNavigation");a.reject(e)})}})},function(e){a.reject(e)});return a.promise()};this.createComponentData=function(e,t){return new Promise(function(n,a){var r=sap.ushell.Container;if(!t){t={}}else{var s=Object.keys(t).length;if(s>1||s===1&&!t.componentData){a("`oConfig` argument should either be an empty object or contain only the `componentData` property.");return}}if(t.componentData){delete t.componentData.startupParameters;delete t.componentData.config;delete t.componentData["sap-xapp-state"]}var o=h.constructShellHash(h.parseShellHash(e));if(!o){a("Navigation intent invalid!");return}r.getServiceAsync("NavTargetResolution").then(function(s){s.resolveHashFragment("#"+o).then(function(s){function o(e){e=i({},e,t);if(!e.ui5ComponentName){if(e.additionalInformation){e.ui5ComponentName=e.additionalInformation.replace(/^SAPUI5\.Component=/,"")}else if(e.name){e.ui5ComponentName=e.name}}return e}if(s.applicationType===l.URL.type&&s.appCapabilities&&s.appCapabilities.appFrameworkId==="UI5"&&sap.ushell.Container.inAppRuntime()){sap.ui.require(["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(t){t.getAppInfo(s.appCapabilities.technicalAppComponentId).then(function(t){if(t.hasOwnProperty("oResolvedHashFragment")){t=t.oResolvedHashFragment}t=o(t);if(t.url&&e.indexOf("?")>0){t.url+="?"+e.split("?")[1]}p({ui5ComponentName:s.appCapabilities.technicalAppComponentId,applicationDependencies:t,url:t.url})})})}else if(s.applicationType!==l.URL.type&&!/^SAPUI5\.Component=/.test(s.additionalInformation)){a("The resolved target mapping is not of type UI5 component.")}else{p(s)}function p(e){r.getServiceAsync("Ui5ComponentLoader").then(function(t){e=o(e);e.loadDefaultDependencies=false;t.createComponentData(e).then(function(e){n(e)},function(e){e=e||"";f.error("Cannot get UI5 component data: "+e,e.stack,"sap.ushell.services.CrossApplicationNavigation");a(e)})})}})})})};this.createEmptyAppState=function(e,t,n,a){f.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.createEmptyAppState'. Please use 'createEmptyAppStateAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var r=sap.ushell.Container.getService("AppState");if(!g.isA(e,"sap.ui.core.UIComponent")){throw new Error("The passed oAppComponent must be a UI5 Component.")}return r.createEmptyAppState(e,t,n,a)};this.createEmptyAppStateAsync=function(e,t,n,a){if(!g.isA(e,"sap.ui.core.UIComponent")){return Promise.reject("The passed oAppComponent must be a UI5 Component.")}return sap.ushell.Container.getServiceAsync("AppState").then(function(r){return r.createEmptyAppState(e,t,n,a)})};this.getStartupAppState=function(e){this._checkComponent(e);var t=e.getComponentData()&&e.getComponentData()["sap-xapp-state"]&&e.getComponentData()["sap-xapp-state"][0];return this.getAppState(e,t)};this._checkComponent=function(e){if(!g.isA(e,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}};this.getAppState=function(e,t){var n;var a=new jQuery.Deferred;this._checkComponent(e);sap.ushell.Container.getServiceAsync("AppState").then(function(r){if(typeof t!=="string"){if(t!==undefined){f.error("Illegal Argument sAppStateKey ")}setTimeout(function(){n=r.createEmptyUnmodifiableAppState(e);a.resolve(n)},0);return}r.getAppState(t).done(a.resolve).fail(a.reject)});return a.promise()};this.getAppStateData=function(e){return c.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[e])};this._getAppStateData=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(n){if(typeof e!=="string"){if(e!==undefined){f.error("Illegal Argument sAppStateKey ")}setTimeout(function(){t.resolve(undefined)},0)}else{n.getAppState(e).done(function(e){t.resolve(e.getData())}).fail(t.resolve.bind(t,undefined))}});return t.promise()};this.saveMultipleAppStates=function(e){var t=[];var n=new jQuery.Deferred;e.forEach(function(e){t.push(e.save())});jQuery.when.apply(this,t).done(function(){n.resolve(t)}).fail(function(){n.reject("save failed")});return n.promise()};this._processShellHashWithParams=function(e){if(e&&e.processParams===true&&e.target&&e.target.shellHash&&e.params){var t=h.parseShellHash(e.target.shellHash);e.target={semanticObject:t.semanticObject,action:t.action,contextRaw:t.contextRaw};e.appSpecificRoute=t.appSpecificRoute;e.params=Object.assign({},e.params,t.params)}};this.getSupportedAppStatePersistencyMethods=function(){f.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.getSupportedAppStatePersistencyMethods'. Please use 'getSupportedAppStatePersistencyMethodsAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var e=sap.ushell.Container.getService("AppState");return e.getSupportedPersistencyMethods()};this.getSupportedAppStatePersistencyMethodsAsync=function(){return sap.ushell.Container.getServiceAsync("AppState").then(function(e){return e.getSupportedPersistencyMethods()})};this.makeStatePersistent=function(e,t,n){var a=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r.makeStatePersistent(e,t,n).done(a.resolve).fail(a.reject)});return a.promise()};this.resolveIntent=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(n){n.resolveHashFragment(e).then(function(e){t.resolve({url:e.url})}).fail(function(e){t.reject(e)})});return t.promise()}}m.hasNoAdapter=true;return m},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/LaunchPage", ["sap/base/Log","sap/base/util/extend","sap/ushell/services/ContentExtensionAdapterFactory","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/services/_AppState/AppStatePersistencyMethod","sap/ushell/Config","sap/m/library","sap/m/GenericTile"],function(e,t,r,jQuery,i,o,n,a,s){"use strict";var u=a.LoadState;function l(o){var a=this,l=[],d=r.getAdapters();this.oAdapters={default:o};d.then(function(e){t(this.oAdapters,e)}.bind(this));this.getGroups=function(){if(n.last("/core/spaces/enabled")){return(new jQuery.Deferred).resolve([]).promise()}var t=new jQuery.Deferred;d.then(function(){var r=Object.keys(a.oAdapters).map(function(e){return a._getAdapter(e).getGroups()});jQuery.when.apply(jQuery,r).done(function(){var e=[].concat.apply([],arguments);t.resolve(e)}).fail(function(){e.error("getGroups failed")})});return t.promise()};this.getGroupsForBookmarks=function(t){var r=new jQuery.Deferred;this.getGroups().then(function(o){this.getDefaultGroup().then(function(e){if(o.length>0){o=o.filter(function(e){if(t===true){return this.isGroupVisible(e)}return!this.isGroupLocked(e)&&this.isGroupVisible(e)}.bind(this));o=o.map(function(t){return{title:t===e&&i.i18n.getText("my_group")||this.getGroupTitle(t),object:t}}.bind(this))}r.resolve(o)}.bind(this),function(t){e.error("getGroupsForBookmarks - getDefaultGroup - failed: "+t.message)})}.bind(this),function(t){e.error("getGroupsForBookmarks - getGroups - failed: "+t.message)});return r.promise()};this.getGroupTilesForSearch=function(e){var t=this._getAdapter(e.contentProvider);if(t.getGroupTileClones){return t.getGroupTileClones(e)}return Promise.resolve(this.getGroupTiles(e))};this.getDefaultGroup=function(){var t=this._getAdapter().getDefaultGroup();t.fail(function(){e.error("getDefaultGroup failed")});return t};this.getGroupTitle=function(e){return this._getAdapter(e.contentProvider).getGroupTitle(e)};this.getGroupId=function(e){return this._getAdapter(e.contentProvider).getGroupId(e)};this.getGroupById=function(e){var t=new jQuery.Deferred;this.getGroups().then(function(r){t.resolve(r.find(function(t){return this.getGroupId(t)===e}.bind(this)))}.bind(this));return t.promise()};this.getGroupTiles=function(e){return this._getAdapter(e.contentProvider).getGroupTiles(e)};this.getTilesByGroupId=function(e){var t=new jQuery.Deferred,r=this;this.getGroupById(e).then(function(i){if(i){var o=r._getAdapter(i.contentProvider).getGroupTiles(i);if(o){o=o.map(function(t){return{id:r.getTileId(t),title:r.getTileTitle(t),subtitle:r.getCatalogTilePreviewSubtitle(t),url:r.getCatalogTileTargetURL(t),icon:r.getCatalogTilePreviewIcon(t),groupId:e}})}else{o=[]}t.resolve(o)}else{t.resolve([])}});return t.promise()};this.getLinkTiles=function(e){return this._getAdapter(e.contentProvider).getLinkTiles(e)};this.addGroupAt=function(t,r){var i,o=r,n=this._getAdapter();if(n.addGroupAt){i=n.addGroupAt(t,r);i.fail(function(){e.error("addGroup "+t+" failed")})}else{var a=new jQuery.Deferred;i=n.addGroup(t);i.done(function(e){var t=this.moveGroup(e,o),r=e;t.done(function(){a.resolve(r)});t.fail(function(){a.reject()})}.bind(this));i.fail(function(){e.error("addGroup "+t+" failed");a.reject()});return a.promise()}return i};this.addGroup=function(t){var r=this._getAdapter().addGroup(t);r.fail(function(){e.error("addGroup "+t+" failed")});return r};this.removeGroup=function(t,r){var i=this._getAdapter(t.contentProvider).removeGroup(t,r);i.fail(function(){e.error("Fail to removeGroup "+a.getGroupTitle(t))});return i};this.resetGroup=function(t,r){var i=this._getAdapter(t.contentProvider).resetGroup(t,r);i.fail(function(){e.error("Fail to resetGroup "+a.getGroupTitle(t))});return i};this.isGroupRemovable=function(e){return this._getAdapter(e.contentProvider).isGroupRemovable(e)};this.isGroupLocked=function(e){var t=this._getAdapter(e.contentProvider);if(typeof t.isGroupLocked==="function"){return t.isGroupLocked(e)}return false};this.isGroupFeatured=function(e){var t=this._getAdapter(e.contentProvider);if(typeof t.isGroupFeatured==="function"){return t.isGroupFeatured(e)}return false};this.moveGroup=function(t,r){var i=this._getAdapter(t.contentProvider).moveGroup(t,r);i.fail(function(){e.error("Fail to moveGroup "+a.getGroupTitle(t))});return i};this.setGroupTitle=function(t,r){var i=this._getAdapter(t.contentProvider).setGroupTitle(t,r);i.fail(function(){e.error("Fail to set Group title: "+a.getGroupTitle(t))});return i};this.hideGroups=function(t){var r=new jQuery.Deferred,i=this._getAdapter();if(typeof i.hideGroups!=="function"){r.reject("hideGroups() is not implemented in the Adapter.")}else{i.hideGroups(t).done(function(){r.resolve()}).fail(function(t){e.error("Fail to store groups visibility."+t);r.reject()})}return r.promise()};this.isGroupVisible=function(e){var t=this._getAdapter(e.contentProvider);if(typeof t.isGroupVisible==="function"){return t.isGroupVisible(e)}return true};this.addTile=function(t,r){return this._getAdapter(r.contentProvider).addTile(t,r).fail(function(r,i){e.error("Fail to add Tile: "+a.getCatalogTileId(t),i,"sap.ushell.services.LaunchPage")})};this.removeTile=function(t,r,i){var o=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(n){this._getAdapter(t.contentProvider).removeTile(t,r,i).done(function(){var e=this.getCatalogTileTargetURL(r);this.deleteURLStatesPersistentData(e,n);o.resolve()}.bind(this)).fail(function(t){e.error("Fail to remove Tile: "+this.getTileId(r));o.reject(t)}.bind(this))}.bind(this)).catch(o.reject);return o.promise()};this.moveTile=function(t,r,i,o,n,s){var u=this._getAdapter().moveTile(t,r,i,o,n,s);u.fail(function(){e.error("Fail to move Tile: "+a.getTileId(t))});return u};this.isLinkPersonalizationSupported=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(typeof r.isLinkPersonalizationSupported==="function"){return r.isLinkPersonalizationSupported(e)}return false};this.getTileId=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getTileId(e)};this.getTileTitle=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getTileTitle(e)};this.getTileType=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(r.getTileType){return r.getTileType(e)}return"tile"};this.getTileView=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t).getTileView(e);if(!jQuery.isFunction(r.promise)){r=(new jQuery.Deferred).resolve(r).promise()}return r};this.getCardManifest=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCardManifest(e)};this.getAppBoxPressHandler=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(r.getAppBoxPressHandler){return r.getAppBoxPressHandler(e)}return undefined};this.getTileSize=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getTileSize(e)};this.getTileTarget=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getTileTarget(e)};this.getTileDebugInfo=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(typeof r.getTileDebugInfo==="function"){return r.getTileDebugInfo(e)}return undefined};this.isTileIntentSupported=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(typeof r.isTileIntentSupported==="function"){return r.isTileIntentSupported(e)}return true};this.refreshTile=function(e){var t=e&&e.contentProvider;this._getAdapter(t).refreshTile(e)};this.setTileVisible=function(e,t){var r=e&&e.contentProvider;this._getAdapter(r).setTileVisible(e,t)};this.registerTileActionsProvider=function(e){if(typeof e!=="function"){throw new Error("Tile actions Provider is not a function")}l.push(e)};this.getTileActions=function(e){var t=[],r,i=e&&e.contentProvider,o=this._getAdapter(i);if(typeof o.getTileActions==="function"){r=o.getTileActions(e);if(r&&r.length){t.push.apply(t,r)}}for(var n=0;n<l.length;n++){r=l[n](e);if(r&&r.length){t.push.apply(t,r)}}return t};this.getCatalogs=function(){return this._getAdapter().getCatalogs()};this.isCatalogsValid=function(){return this._getAdapter().isCatalogsValid()};this.getCatalogData=function(t){var r=this._getAdapter();if(typeof r.getCatalogData!=="function"){e.warning("getCatalogData not implemented in adapter",null,"sap.ushell.services.LaunchPage");return{id:this.getCatalogId(t)}}return r.getCatalogData(t)};this.getCatalogError=function(e){return this._getAdapter().getCatalogError(e)};this.getCatalogId=function(e){return this._getAdapter().getCatalogId(e)};this.getCatalogTitle=function(e){return this._getAdapter().getCatalogTitle(e)};this.getCatalogTiles=function(t){var r=this._getAdapter().getCatalogTiles(t);r.fail(function(){e.error("Fail to get Tiles of Catalog: "+a.getCatalogTitle(t))});return r};this.getCatalogTileId=function(e){return this._getAdapter(e.contentProvider).getCatalogTileId(e)};this.getStableCatalogTileId=function(e){var t=this._getAdapter(e.contentProvider);if(t&&!t.getStableCatalogTileId){return null}return t.getStableCatalogTileId(e)};this.getCatalogTileTitle=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileTitle(e)};this.getCatalogTileSize=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileSize(e)};this.getCatalogTileViewControl=function(e){var t=e&&e.contentProvider;var r=this._getAdapter(t);if(typeof r.getCatalogTileViewControl==="function"){return r.getCatalogTileViewControl(e)}var i=new jQuery.Deferred;var o=this.getCatalogTileView(e);i.resolve(o);return i.promise()};this.getCatalogTileView=function(t){e.error("Deprecated API call of 'sap.ushell.LaunchPage.getCatalogTileView'. Please use 'getCatalogTileViewControl' instead",null,"sap.ushell.services.LaunchPage");var r=t&&t.contentProvider;var i=this._getAdapter(r);if(i.getCatalogTileView){return i.getCatalogTileView(t)}var o=this.getTileTitle(t)||this.getCatalogTileTitle(t);return this._createErrorTile(o,"The LaunchPageAdapter does not support getCatalogTileView")};this._createErrorTile=function(e,t){var r=new s({state:u.Failed,header:e,subheader:t||""}).addStyleClass("sapUshellTileError");return r};this.getCatalogTileTargetURL=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileTargetURL(e)};this.getCatalogTileTags=function(e){var t=e&&e.contentProvider;var r=this._getAdapter(t);if(typeof r.getCatalogTileTags==="function"){return r.getCatalogTileTags(e)}return[]};this.getCatalogTileKeywords=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileKeywords(e)};this.getCatalogTilePreviewTitle=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTilePreviewTitle(e)};this.getCatalogTilePreviewInfo=function(e){var t=e&&e.contentProvider;if(this._getAdapter(t).getCatalogTilePreviewInfo){return this._getAdapter(t).getCatalogTilePreviewInfo(e)}return""};this.getCatalogTilePreviewSubtitle=function(e){var t=e&&e.contentProvider;var r=this._getAdapter(t);if(r.getCatalogTilePreviewSubtitle){return r.getCatalogTilePreviewSubtitle(e)}return undefined};this.getCatalogTilePreviewIcon=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTilePreviewIcon(e)};this.addBookmark=function(t,r,i){var o=new jQuery.Deferred;if(this._hasRequiredBookmarkParameters(t)){if(r&&this.isGroupLocked(r)){var n="Tile cannot be added, target group ("+this.getGroupTitle(r)+")is locked!";e.error(n);return o.reject(n)}this.changeURLStatesToPersistent(t.url).done(function(n){var a=r&&r.contentProvider;t.url=n;this._getAdapter(a).addBookmark(t,r,i).done(o.resolve).fail(function(){e.error("Fail to add bookmark for URL: "+t.url+" and Title: "+t.title);o.reject()})}.bind(this)).fail(function(r){e.error(r||"Fail to change url states to persistent: "+t.url);o.reject()})}return o.promise()};this.addCustomBookmark=function(t,r,i){var o=new jQuery.Deferred;if(this._hasRequiredBookmarkParameters(t)){if(r&&this.isGroupLocked(r)){var n="Tile cannot be added, target group ("+this.getGroupTitle(r)+")is locked!";e.error(n);return o.reject(n)}this.changeURLStatesToPersistent(t.url).done(function(n){var a=r&&r.contentProvider;t.url=n;this._getAdapter(a).addCustomBookmark(t,r,i).done(o.resolve).fail(function(){e.error("Fail to add bookmark for URL: "+t.url+" and Title: "+t.title);o.reject()})}.bind(this)).fail(function(r){e.error(r||"Fail to change url states to persistent: "+t.url);o.reject()})}return o.promise()};this._hasRequiredBookmarkParameters=function(t){if(!t.title){e.error("Add Bookmark - Missing title");throw new Error("Title missing in bookmark configuration")}if(!t.url){e.error("Add Bookmark - Missing URL");throw new Error("URL missing in bookmark configuration")}return true};this.countBookmarks=function(t,r){if(!t||typeof t!=="string"){e.error("Fail to count bookmarks. No valid URL");throw new Error("Missing URL")}var i=this._getAdapter().countBookmarks(t,r);i.fail(function(){e.error("Fail to count bookmarks")});return i};this.countCustomBookmarks=function(e){if(!e.url||!e.vizType){return Promise.reject("countCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().countCustomBookmarks(e)};this.deleteBookmarks=function(t,r){var i=new jQuery.Deferred;if(!t||typeof t!=="string"){return i.reject(new Error("Missing URL")).promise()}sap.ushell.Container.getServiceAsync("AppState").then(function(o){this._getAdapter().deleteBookmarks(t,undefined,r).done(function(e){this.deleteURLStatesPersistentData(t,o);i.resolve(e)}.bind(this)).fail(function(r){e.error("Fail to delete bookmark for: "+t);i.reject(r)})}.bind(this)).catch(i.reject);return i.promise()};this.deleteCustomBookmarks=function(e){if(!e.url||!e.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().deleteCustomBookmarks(e)};this.updateBookmarks=function(t,r,i){if(!t||typeof t!=="string"){e.error("Fail to update bookmark. No valid URL");throw new Error("Missing URL")}if(!r||typeof r!=="object"){e.error("Fail to update bookmark. No valid parameters, URL is: "+t);throw new Error("Missing parameters")}var o=new jQuery.Deferred;this.changeURLStatesToPersistent(r.url).done(function(n){r.url=n;this._getAdapter().updateBookmarks(t,r,undefined,i).done(o.resolve).fail(function(){e.error("Fail to update bookmark for: "+t);o.reject()})}.bind(this)).fail(function(t){e.error(t||"Fail to change url states to persistent: "+r.url);o.reject()});return o.promise()};this.updateCustomBookmarks=function(e,t){if(!e.url||!e.vizType||!t){return Promise.reject("updateCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().updateCustomBookmarks(e,t)};this.onCatalogTileAdded=function(e){this._getAdapter().onCatalogTileAdded(e)};this.changeURLStatesToPersistent=function(t){var r=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(i){if(i.getSupportedPersistencyMethods().length===0){r.resolve(t);return}if(t&&t.length>0){try{i.setAppStateToPublic(t).done(r.resolve).fail(r.reject)}catch(t){e.error("error in converting transient state to personal persistent when bookmark is added",t,"sap.ushell.services.LaunchPage");r.reject()}}else{r.resolve(t)}});return r.promise()};this.deleteURLStatesPersistentData=function(t,r){if(r.getSupportedPersistencyMethods().length===0){return}if(t&&t.length>0){try{var i=g(t,"sap-xapp-state"),o=g(t,"sap-iapp-state");if(i!==undefined||o!==undefined){this.countBookmarks(t).done(function(e){if(e===0){if(i!==undefined){r.deleteAppState(i)}if(o!==undefined){r.deleteAppState(o)}}})}}catch(t){e.error("error in deleting persistent state when bookmark is deleted",t,"sap.ushell.services.LaunchPage")}}};function g(e,t){var r=new RegExp("(?:"+t+"=)([^&/]+)"),i=r.exec(e),o;if(i&&i.length===2){o=i[1]}return o}}l.prototype._getAdapter=function(e){return this.oAdapters[e]||this.oAdapters.default};l.hasNoAdapter=false;return l},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Menu", ["sap/ushell/Config","sap/ushell/library","sap/ushell/utils","sap/ui/model/json/JSONModel","sap/base/util/deepClone","sap/base/Log","sap/ushell/resources"],function(e,t,n,r,i,o,a){"use strict";var s=t.ContentNodeType;function u(){this._init.apply(this,arguments)}u.prototype._init=function(e){this.oAdapter=e;this.oModel=new r([]);this.oModel.setSizeLimit(1e3);this.bIsMenuModelFilled=false;this._aBlockedList=[]};u.prototype.isMenuEnabled=function(){return this.oAdapter.isMenuEnabled()};u.prototype.getMenuEntries=function(){return this.oAdapter.getMenuEntries().then(function(t){if(e.last("/core/homeApp/enabled")){var n={title:a.i18n.getText("HomeApp.Menu.Title"),"help-id":"homeApp-menuEntry",description:"",icon:undefined,type:"IBN",target:{semanticObject:"Shell",action:"home",parameters:[],innerAppRoute:undefined},isHomeEntry:true,menuEntries:[]};t.splice(0,0,n)}return t}).then(function(e){return e.map(function(e){e.uid=n.generateUniqueId([]);if(e.menuEntries){e.menuEntries.forEach(function(e){e.uid=n.generateUniqueId([])})}return e})})};u.prototype.getSpacesPagesHierarchy=function(){var e;if(this.oAdapter.getContentNodeEntries){e=this.oAdapter.getContentNodeEntries()}else{e=this.getMenuEntries()}return e.then(function(e){return{spaces:e.reduce(function(e,t){var n;if(t.menuEntries&&t.menuEntries.length){n=this._getAccessiblePages(t.menuEntries)}else{n=this._getAccessiblePages([t])}if(n.length){e.push({title:t.title,id:n[0].spaceId,pages:n.map(function(e){return{title:e.title,id:e.id}})})}return e}.bind(this),[])}}.bind(this)).catch(function(){return{spaces:[]}})};u.prototype.getContentNodes=function(e,t){if(!e){e=Object.values(s)}t=!!t;return this.oAdapter.getContentNodes().then(function(n){n=i(n);var r=this._filterContentNodes(n,e,t);return r}.bind(this))};u.prototype._filterContentNodes=function(e,t,n){if(!Array.isArray(e)){return[]}return e.reduce(function(e,r){r.children=this._filterContentNodes(r.children,t,n);var i=t.includes(r.type);if(i||n&&r.children.length){e.push(r)}return e}.bind(this),[])};u.prototype.getDefaultSpace=function(){if(e.last("/core/menu/personalization/enabled")){return Promise.all([this.getMenuModel(),this.getContentNodes([s.Space,s.Page])]).then(function(e){var t=e[0];var n=e[1];var r=t.getData().filter(function e(t){return t.type!=="separator"&&t.pinned}).filter(function e(t){return n.some(function e(n){return t.id===n.id&&n.children.length})}).reduce(function e(t,n){return t.pinnedSortOrder<n.pinnedSortOrder?t:n},{});var i=n.find(function e(t){return r.id===t.id});return i})}return this.getContentNodes([s.Space,s.Page]).then(function(e){var t=e.find(function(e){return e.children.length});return t})};u.prototype.getMyHomeSpace=function(){if(!e.last("/core/spaces/myHome/enabled")){return Promise.resolve(null)}var t=e.last("/core/spaces/myHome/myHomeSpaceId");return this.getContentNodes([s.Space,s.Page]).then(function(e){return e.find(function(e){return e.type===s.Space&&e.id===t})||null})};u.prototype._getAccessiblePages=function(e){return e.filter(function(e){return e&&e.type==="IBN"&&e.target&&e.target.semanticObject==="Launchpad"&&e.target.action==="openFLPPage"}).map(function(e){var t=e.target.parameters.find(function(e){return e.name==="spaceId"});var n=e.target.parameters.find(function(e){return e.name==="pageId"});return{title:e.title,id:n&&n.value,spaceId:t&&t.value}})};u.prototype.hasMultiplePages=function(e){return this.getContentNodes([s.Space,s.Page]).then(function(t){var n=t.find(function(t){return t.type===s.Space&&t.id===e});return n&&n.children.length>1})};u.prototype.isSpacePageAssigned=function(e,t){return this.getContentNodes([s.Space,s.Page]).then(function(n){var r=n.find(function(t){return t.type===s.Space&&t.id===e});if(!r){return false}var i=r.children.find(function(e){return e.type===s.Page&&e.id===t});return!!i})};u.prototype.getSpaceAndPageTitles=function(e,t){return this.getContentNodes([s.Space,s.Page]).then(function(n){var r,i;r=n.find(function(t){return t.type===s.Space&&t.id===e});if(r){i=r.children.find(function(e){return e.type===s.Page&&e.id===t})}if(i){return{spaceTitle:r.label,pageTitle:i.label}}return null})};u.prototype.getMenuModel=function(){if(this.bIsMenuModelFilled){return Promise.resolve(this.oModel)}var t;if(e.last("/core/menu/personalization/enabled")){t=this._getMenuEntriesWithPersonalizationData()}else{t=this.getMenuEntries()}return t.then(function(e){var t=e;this.oModel.setData(t);this.bIsMenuModelFilled=true;return this.oModel}.bind(this))};u.prototype._getMenuEntriesWithPersonalizationData=function(){return Promise.all([this.getMenuEntries(),this.oAdapter.getMenuPersonalization()]).then(function(e){var t=e[0];var n=e[1];var r;var i={type:"separator",pinned:true};if(t[0].isHomeEntry){t.splice(1,0,i)}else{t.splice(0,0,i)}if(!n){r=t.map(function e(t,n){t.pinned=true;t.pinnedSortOrder=n;return t})}else{var o=1;if(t[0].isHomeEntry){o=2}r=t.map(function e(t){t.pinned=n.pinnedSpaces.includes(t.id);t.pinnedSortOrder=n.pinnedSpaces.indexOf(t.id);if(t.pinnedSortOrder>-1){t.pinnedSortOrder=t.pinnedSortOrder+o}return t});t[0].pinned=true;t[0].pinnedSortOrder=0;if(t[0].isHomeEntry){t[1].pinned=true;t[1].pinnedSortOrder=1}}return r})};u.prototype._extractPersonalization=function(){var e={version:"1.0.0",pinnedSpaces:[]};var t=this.oModel.getData();e.pinnedSpaces=t.filter(function e(t){return!t.isHomeEntry&&t.type!=="separator"&&t.pinned}).sort(function(e,t){return e.pinnedSortOrder-t.pinnedSortOrder}).map(function(e){return e.id});return e};u.prototype.savePersonalization=function(){var e=this._extractPersonalization();return sap.ushell.Container.getServiceAsync("Personalization").then(function(t){var n;n={container:"sap.ushell.menuPersonalization",item:"data"};var r={validity:"Infinity",keyCategory:t.constants.keyCategory.FIXED_KEY,writeFrequency:t.constants.writeFrequency.HIGH,clientStorageAllowed:false};return new Promise(function(i,o){t.getPersonalizer(n,r).setPersData(e).done(i).fail(o)})})};u.prototype.moveMenuEntry=function(e,t){var n=this.oModel.getData();var r=n.find(function(t){return t.pinnedSortOrder===e});r.pinnedSortOrder=t-.5;n.map(function(e){return e}).sort(function(e,t){return e.pinnedSortOrder-t.pinnedSortOrder}).forEach(function(e,t){e.pinnedSortOrder=t});this.oModel.refresh(true)};u.prototype.isPinned=function(t){if(e.last("/core/menu/personalization/enabled")===false){return Promise.resolve(true)}return this.getMenuModel().then(function(e){return e.getData().some(function(e){return e.id===t&&e.pinned})})};u.prototype.isWorkPage=function(e){if(this.oAdapter.isWorkPage){return this.oAdapter.isWorkPage(e)}return Promise.resolve(false)};u.prototype._getNodeInfo=function(e,t,n,r){var i;for(var o=0;o<t.length;o++){if(!n){r=this._getManagerIdInNodeTree(e,t[o])}if(t[o].id===e){return{node:t[o],isRootNode:!n,managerId:r||null}}if(t[o].menuEntries&&t[o].menuEntries.length>0){i=this._getNodeInfo(e,t[o].menuEntries,true,r);if(i.node){return i}}}return{node:null,isRootNode:false,managerId:null}};u.prototype._nodeManagementPermitted=function(e,t,n){var r=this._getNodeInfo(e,t);if(!r.node){o.error("Node with id "+e+" cannot be found and will be skipped.");return false}if(!!r.managerId&&r.managerId!==n){o.error("Node with id "+e+" cannot be managed by '"+n+"'"+" because it is already managed by '"+r.managerId+"'.");return false}return true};u.prototype._getManagerIdInNodeTree=function(e,t,n){if(t.id===e){return n||t.managerId}if(t.managerId){n=t.managerId}if(t.menuEntries&&t.menuEntries.length>0){for(var r=0;r<t.menuEntries.length;++r){n=this._getManagerIdInNodeTree(e,t.menuEntries[r],n)}return n}return null};u.prototype._updateNode=function(e,t,r){var o=i(r||{});function a(e){if(e){e.uid=e.uid||n.generateUniqueId([]);(e.menuEntries||[]).forEach(a)}}a(o);return t.map(function(t){if(t.id===e){return o}if(t.menuEntries&&t.menuEntries.length>0){t.menuEntries=this._updateNode(e,t.menuEntries,o)}return t}.bind(this))};u.prototype._createEntryProviders=function(e,t,n){var r=n.getData();var i={};var o;for(var a=0;a<t.length;++a){o=t[a];if(!this._nodeManagementPermitted(o,r,e)){continue}i[o]={setData:function(e,t){var i=this._updateNode(e,r,t);n.setData(i)}.bind(this,o)}}return i};u.prototype._isManagerBlocked=function(e){return this._aBlockedList.indexOf(e)>-1};u.prototype._setManagerBlocked=function(e){this._aBlockedList.push(e)};u.prototype.getEntryProvider=function(e,t){if(this._isManagerBlocked(e)){o.error("ManagerId '"+e+"' is already listed as an entry manager.");return Promise.reject("ManagerId "+e+" is already listed as an entry manager.")}this._setManagerBlocked(e);return this.getMenuModel().then(function(n){return this._createEntryProviders(e,t,n)}.bind(this))};u.hasNoAdapter=false;return u});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolution", ["sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/utils/UrlShortening","sap/ushell/utils/HttpClient","sap/ushell/navigationMode","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/Log"],function(e,t,n,i,r,a,jQuery,s,o,l,u){"use strict";function c(c,p,f,h){var d=h&&h.config,g=function(e){var t=this._isClientSideTargetResolutionEnabled()?this._resolveHashFragmentClientSide(e):c.resolveHashFragment(e);return t}.bind(this),v,m=[{name:"DefaultAdapter",isApplicable:function(){return true},resolveHashFragment:g.bind(this)}],S;var b=new r;this._isClientSideTargetResolutionEnabled=function(){return!!(d&&d.enableClientSideTargetResolution)};this._nextResolveHashFragment=function(e,t){var n=e.pop();if(n.isApplicable(t)){u.info("NavTargetResolution: custom resolver "+n.name+" resolves "+t);var i=this._nextResolveHashFragment.bind(this,e);return n.resolveHashFragment(t,i)}return this._nextResolveHashFragment(e,t)};this._resolveHashFragmentClientSide=function(e){var t=this._validateHashFragment(e),n;if(!t.success){return(new jQuery.Deferred).reject(e+" is not a valid hash fragment").promise()}n=t.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(n)};this._resolveHashFragmentClientSideAndFixApplicationType=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(n){n.resolveHashFragment(e).done(function(e){if(e&&e.applicationType==="SAPUI5"){e.applicationType="URL"}t.resolve(e)}).fail(t.reject)}).catch(t.reject);return t.promise()};this._validateHashFragment=function(e){var n="",i={success:false};if(e&&e.charAt(0)!=="#"){throw new t.Error("Hash fragment expected in _validateHashFragment","sap.ushell.services.NavTargetResolution")}n=e.substring(1);if(n){i.success=true}i.hashFragmentWithoutHash=n;return i};this.expandCompactHash=function(e){var t,r=new jQuery.Deferred;t=n.parseShellHash(e);if(t&&t.params&&t.params["sap-intent-param"]){sap.ushell.Container.getServiceAsync("AppState").then(function(n){n.getAppState(t.params["sap-intent-param"][0]).done(function(t){var n=t.getData("sap-intent-param");var a=e;if(n){a=i.expandParamGivenRetrievalFunction(e,"sap-intent-param",function(){return n})}r.resolve(a)}).fail(function(){r.resolve(e)})}).catch(r.reject)}else{r.resolve(e)}return r.promise()};var R=["NWBC","WDA","TR"];this._adjustResolutionResultForUi5Components=function(e){var t,n;if(typeof e!=="object"){return}delete e["sap.platform.runtime"];if(e&&e.applicationType&&e.applicationType==="SAPUI5"){e.applicationType="URL"}if(e.applicationType==="URL"){t=/^SAPUI5\.Component=(.*)/.exec(e.additionalInformation);n=t&&t[1];if(n){e.ui5ComponentName=n}}};this._getSapSystem=function(e,t){var n;if(t&&t["sap-system"]){return t["sap-system"]}if(t&&t.url){n=new URL(t.url,window.location.href).searchParams.get("sap-system");if(n){return n}}if(R.indexOf(t.applicationType)>=0&&e&&e.substring(1)){n=new URL(e.substring(1),window.location.href).searchParams.get("sap-system");if(n){return n}}return undefined};this.resolveTarget=function(e){var i;var r=o({},e);var a=new jQuery.Deferred;s.average("sap.ushell.navigation.resolveTarget");t.storeSapSystemToLocalStorage(r);i=n.constructShellHash(r);sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(e){e.resolveHashFragment("#"+i).done(function(e){s.end("sap.ushell.navigation.resolveTarget");a.resolve({url:e.url,text:e.text,externalNavigationMode:e.targetNavigationMode==="explace"})}).fail(a.reject)}).catch(a.reject);return a.promise()};this.resolveHashFragment=function(t){var n=new jQuery.Deferred;s.average("sap.ushell.navigation.resolveHashFragment");this.expandCompactHash(t).done(function(i){var r=jQuery.when();if(i.indexOf("sap-ushell-enc-test")>=0){var o=/sap-ushell-enc-test=([^&]*)(&.*)?$/.exec(i);if(o){var u=o[1];if(u!=="A%20B%2520C"){r=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Message").then(function(e){e.error("This navigation is flagged as erroneous because"+" (likely the calling procedure) generated a wrong encoded hash."+" Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.","Navigation encoding wrong");r.resolve()}).catch(r.reject)}i=i.replace(/sap-ushell-enc-test=([^&]*)&/,"");i=i.replace(/[&?]sap-ushell-enc-test=([^&]*)$/,"")}}var p=this._invokeResolveHashChain(i);if(typeof c.processPostResolution==="function"){p=c.processPostResolution(i,p)}jQuery.when(p,r).done(function(i){this._adjustResolutionResultForUi5Components(i);if(l(i)){if(!i.hasOwnProperty("navigationMode")){i.navigationMode=a.getNavigationMode(i,e.getCurrentApplication())}i.targetNavigationMode=a.getExternalNavigationMode(i.navigationMode)}if(l(i)&&!i.hasOwnProperty("sap-system")){var r=this._getSapSystem(t,i);if(r){i["sap-system"]=r}}s.end("sap.ushell.navigation.resolveHashFragment");n.resolve(i)}.bind(this)).fail(n.reject)}.bind(this)).fail(n.reject);return n.promise().done(function(e){return this._recordNavigation("resolveHashFragment",{sHashFragment:t},e)}.bind(this))};this._invokeResolveHashChain=function(e){var t=m.map(function(e){return e});return this._nextResolveHashFragment(t,e).done(function(e){S=e})};this.baseResolveHashFragment=g.bind(this);this._getGetLinksResolver=function(e){var t;if(this._isClientSideTargetResolutionEnabled()){t=this._getLinksClientSide.bind(this);return{resolver:t,warning:undefined,isGetSemanticObjectLinksCall:false}}if(Object.prototype.toString.apply(e.paramsOptions)==="[object Array]"&&e.paramsOptions.length>0){u.warning("Parameter options supplied to #getLinks will be ignored because FLP is not configured to use sap.ushell.services.ClientSideTargetResolution for target resolution","provided parameters options: "+JSON.stringify(e.paramsOptions,null,4),"sap.ushell.services.NavTargetResolution")}t=c&&c.getLinks&&c.getLinks.bind(c);if(t){return{resolver:t,warning:undefined,isGetSemanticObjectLinksCall:false}}t=c&&c.getSemanticObjectLinks&&c.getSemanticObjectLinks.bind(c);if(t){return{resolver:t,warning:e.hasOwnProperty("action")?"the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.":undefined,isGetSemanticObjectLinksCall:true}}return{resolver:undefined,warning:"Cannot determine resolver for getLinks method",isGetSemanticObjectLinksCall:undefined}};this.getLinks=function(e){var t=e.semanticObject;var n=e.params;var i=e.ignoreFormFactor;var r=e.ui5Component;var a=e.appStateKey;var s=e.compactIntents;var o=new jQuery.Deferred;if(/\?/.test(t)){throw new Error("Parameter must not be part of semantic object")}var l=n===undefined?undefined:JSON.parse(JSON.stringify(n));if(a){l=l||{};l["sap-xapp-state"]=encodeURIComponent(a)}var c=this._getGetLinksResolver(e);if(c.warning){u.warning("A problem occurred while determining the resolver for getLinks",c.warning,"sap.ushell.services.NavTargetResolution")}var p=c.resolver;if(p){var f=function(e){if(s){this._shortenGetSemanticObjectLinksResults(e,r).done(o.resolve)}else{o.resolve(e)}}.bind(this);if(c.isGetSemanticObjectLinksCall){var h={target:{semanticObject:t,action:"dummyAction"},params:l};sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.hrefForExternal(h,true,r,true).done(function(e){var n=e.params||l;p(t,n,i).done(f).fail(o.reject)}).fail(o.reject)})}else{p(e).done(f).fail(o.reject)}}else{o.resolve([])}return o.promise().done(function(t){return this._recordNavigation("getLinks",{oArgs:e},t)}.bind(this))};this.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(t){t.getDistinctSemanticObjects().done(e.resolve).fail(e.reject)}).catch(e.reject);return e.promise().done(function(e){return this._recordNavigation("getDistinctSemanticObjects",{},e)}.bind(this))}if(c&&c.getDistinctSemanticObjects){return c.getDistinctSemanticObjects.call(c)}u.error("Cannot execute getDistinctSemanticObjects method","ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method","sap.ushell.services.NavTargetResolution");return e.reject("Cannot execute getDistinctSemanticObjects").promise()};this._getLinksClientSide=function(e){var t=new jQuery.Deferred;var i=new jQuery.Deferred;if((e.params||{}).hasOwnProperty("sap-intent-param")){var r="#"+e.semanticObject+"-dummyAction?"+n.paramsToString(e.params);this.expandCompactHash(r).done(function(e){var t=n.parseShellHash(e);i.resolve(t.params)}).fail(t.reject)}else{i.resolve(e.params)}i.done(function(){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(n){n.getLinks(e).done(t.resolve).fail(t.reject)}).catch(t.reject)});return t.promise()};this._shortenGetSemanticObjectLinksResults=function(e,t){var i=[];var r=0;var a=e.length;var s=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(o){e.forEach(function(e){var l=n.parseShellHash(e.intent);var c=o.compactParams(l.params,undefined,t);i.push(c);i[r].done(function(t,r){i[t]={text:e.text,intent:"#"+l.semanticObject+"-"+l.action+"?"+n.paramsToString(r)}}.bind(null,r)).fail(function(t,n){u.warning("Cannot shorten GetSemanticObjectLinks result, using expanded form","Failure message: "+n+"; intent had title ''"+e.title+"'' and link ''"+e.intent+"'","sap.ushell.services.NavTargetResolution");i[t]={text:e.text,intent:e.intent}}.bind(null,r)).always(function(){a--;if(a===0){s.resolve(i)}});r++})}).catch(s.reject);return s.promise()};this.isIntentSupported=function(e){var t={};var n=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(t){t.isIntentSupported(e).done(n.resolve).fail(n.reject)}).catch(n.reject);return n.promise()}if(c.isIntentSupported){return c.isIntentSupported(e)}e.forEach(function(e){t[e]={supported:undefined}});return n.resolve(t).promise()};this.isNavigationSupported=function(e){var t=new jQuery.Deferred,i=[];i=e.map(function(e){if(typeof e==="string"){return e}return"#"+n.constructShellHash(e)});this.isIntentSupported(i).done(function(e){var n=i.map(function(t){return e[t]||{supported:false}});t.resolve(n)}).fail(t.reject.bind(t));return t.promise().done(function(t){return this._recordNavigation("isNavigationSupported",{aIntents:e},t)}.bind(this))};this._recordNavigation=function(e,t,n){var i=d&&d.usageRecorder||{};if(i.enabled){var r=i.serviceUrl||"/navigation/api/v2/record";b.post(r,{headers:{"content-type":"application/json; charset=utf-8"},data:{function:e,parameters:JSON.stringify(t),result:JSON.stringify(n)}})}return n};this.registerCustomResolver=function(e){if(typeof e.name!=="string"){u.error("NavTargetResolution: Custom Resolver must have name {string} member");return false}if(typeof e.isApplicable!=="function"){u.error("NavTargetResolution: Custom Resolver must have isApplicable member");return false}if(typeof e.resolveHashFragment!=="function"){u.error('NavTargetResolution: Custom Resolver must have "resolveHashFragment" member');return false}m.push(e);return true};if(d&&Array.isArray(d.resolveLocal)){v=d.resolveLocal.map(function(e){return e.linkId});this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(e){if(e===""){return"#"}var t=n.parseShellHash(e.substring(1));if(!t){return"#"}e="#"+t.semanticObject+"-"+t.action;return e},_getIndex:function(e){var t=this.cleanHash(e);return v.indexOf(t.substring(1))},isApplicable:function(e){return this._getIndex(e)>=0},resolveHashFragment:function(e){var t,i=this._getIndex(e),r,a,s,o;t=new jQuery.Deferred;r=JSON.parse(JSON.stringify(d.resolveLocal[i].resolveTo));a=n.parseShellHash(e);if(a&&a.params){o=n.paramsToString(a.params);if(o){s=r.url.indexOf("?")>=0;r.url=r.url+(s?"&":"?")+o}}t.resolve(r);return t.promise()}})}this.registerCustomResolver({name:"LocalResolver",aElement:undefined,cleanHash:function(e){if(e===""){return undefined}var t=n.parseShellHash(e.substring(1));if(!t){return undefined}e="#"+t.semanticObject+"-"+t.action;return e},isApplicable:function(e){e=this.cleanHash(e);if(!e){return false}return e==="#Test-url"||e==="#Test-local1"||e==="#Test-local2"||e==="#Test-config"||e==="#Test-clear"},parseUrl:function(e){if(!this.aElement){this.aElement=window.document.createElement("a")}this.aElement.href=e;return this.aElement},resolveHashFragment:function(e){var n=new jQuery.Deferred,i=null,r,a,s,o,l,c=this;e=this.cleanHash(e);if(!e){return false}i={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp"},none:{applicationType:"URL",url:"",additionalInformation:""}};function p(e){if(localStorage){return localStorage[e]}return undefined}function f(e){if(t.calculateOrigin(c.parseUrl(e))!==t.calculateOrigin(window.location)){return undefined}return e}function h(e){return new URLSearchParams(window.location.search).get(e)}function g(e,t){if(localStorage){localStorage[e]=t}}if(i[e]){r=i[e]}else if(e==="#Test-clear"){g("sap.ushell.#Test-local1",undefined);g("sap.ushell.#Test-local2",undefined);u.info("NavTargetResolution: Local storage keys for #Test have been cleared");r=i["#Test-config"]}else if(e==="#Test-local1"||e==="#Test-local2"||e==="#Test-url"){r=p("sap.ushell."+e);if(!r||r==="undefined"){a={applicationType:"URL"}}else{a=JSON.parse(r)}if(window.location.hostname==="localhost"||d&&d.allowTestUrlComponentConfig){o="sap-ushell-test-"+e.substring(6);s=h(o+"-additionalInformation");if(s){a.additionalInformation=s}l=h(o+"-url");if(l){a.url=f(l)}}if(!a.url){u.info("NavTargetResolution: No configured app for "+e+" found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? ");u.info("NavTargetResolution: Defaulting to config app ...\n");n.reject("URL is not resolvable");return n.promise()}a.url=f(a.url);r=a}if(r.url===undefined){n.reject("URL is not resolvable");return n.promise()}u.info("NavTargetResolution: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url="+encodeURIComponent(r&&r.url||"")+"&sap-ushell-test-local1-additionalInformation="+encodeURIComponent(r&&r.additionalInfo||"")+"#Test-local1");u.info("NavTargetResolution: Resolving "+e+" to "+JSON.stringify(r));n.resolve(r);return n.promise()}});this.getCurrentResolution=function(){return S}}c.hasNoAdapter=false;return c},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager", ["sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface","sap/ushell/services/_PluginManager/Extensions","sap/ushell/UI5ComponentType","sap/ushell/utils"],function(e,jQuery,n,i,t,o){"use strict";var r="sap.ushell.services.PluginManager";var a="sap-ushell-plugin-type";var s="RendererExtensions";var l="sap.ushell.components.shell.defaults";var u=[s,"UserDefaults","UserImage","AppWarmup"];function g(g,c,f){var p=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};this._sPluginAgentsNames="";this._oConfig=f&&f.config||{};if(this._oConfig.isBlueBox===undefined){this._oConfig.isBlueBox=false}u.forEach(function(e){p._oPluginCollection[e]={};p._oCategoryLoadingProgress[e]=new jQuery.Deferred});this._handlePluginCreation=function(n,i,t,a){var s=this,l=s._oPluginCollection[n][i];o.setPerformanceMark("FLP -- PluginManager.loadPlugin["+n+"]["+i+"]");try{if(l.hasOwnProperty("component")){if(s._mInitializedComponentPromise.hasOwnProperty(l.component)){s._mInitializedComponentPromise[l.component].then(function(){s._instantiateComponent(l,t,a)},function(){s._instantiateComponent(l,t,a)})}else{s._mInitializedComponentPromise[l.component]=s._instantiateComponent(l,t,a)}}else{e.error("Invalid plugin configuration. The plugin "+i+" must contain a <component> key",r)}}catch(n){e.error("Error while loading bootstrap plugin: "+l.component||"",r);if(t){t.reject(n)}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js"};this._handleXhrAuthentication=function(n,i){var t;if(n&&["true",true,"X"].indexOf(n["sap-ushell-xhr-authentication"])>-1){if(!i){e.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,r);return jQuery.when()}if(n.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){t=parseInt(n["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(t)){e.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",i,"': '",n["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,r)}else{sap.ushell.Container.setXhrLogonTimeout(i,t)}}return jQuery.ajax(i+"/"+this._getFileNameForXhrAuth(),{dataType:"text"})}return jQuery.when()};this._instantiateComponent=function(n,o,a){var s=new jQuery.Deferred,l=JSON.parse(JSON.stringify(n)),u={ui5ComponentName:l.component,url:l.url,getExtensions:i.bind(null,n.component)};function g(n){return function(i){n=n||"Cannot create UI5 plugin component: (componentId/appdescrId :"+u.ui5ComponentName+")\n"+i+" properties "+JSON.stringify(u)+"\n This indicates a plugin misconfiguration, see e.g. Note 2316443.";i=i||"";e.error(n,i.stack,r);if(o){o.reject.apply(this,arguments)}s.reject.apply(this,arguments)}}l.name=l.component;delete l.component;u.applicationDependencies=l;if(l.config){u.applicationConfiguration=l.config;delete l.config}u.loadDefaultDependencies=false;if(a!==undefined){u.oPostMessageInterface=a}sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(e){this._handleXhrAuthentication(u.applicationConfiguration,l.url).done(function(){e.createComponent(u,{},[],t.Plugin).done(function(e){if(o){o.resolve(e)}s.resolve.apply(this,arguments)}).fail(g())}).fail(g("XHR logon for FLP plugin failed"))}.bind(this)).catch(g());return s.promise()};this.getSupportedPluginCategories=function(){return JSON.parse(JSON.stringify(u))};this.getRegisteredPlugins=function(){return JSON.parse(JSON.stringify(this._oPluginCollection))};this.registerPlugins=function(n){var i=this,t,o,l,g=[],c,f;if(!n){return}if(this._oConfig.isBlueBox===true){c=new URLSearchParams(window.location.search).get("sap-plugins");if(c&&c.length>0){c=","+c+","}else{c=undefined}}Object.keys(n).sort().forEach(function(p){t=n[p]||{};o=t.config||{};l=o[a]||"";if(t.enabled===false){return}if(!i._isFormFactorSupported(t)){e.info("Plugin '"+p+"' filtered from result: form factor not supported");return}if(i._oConfig.isBlueBox===true){if(t.config&&t.config["sap-plugin-agent"]===true){f=t.config["sap-plugin-agent-id"]||p;if(c){if(c.indexOf(","+f+",")<0){return}}else{return}}}if(t.enabled===undefined){t.enabled=true}if(t.hasOwnProperty("module")){var d=(t.module||"").replace(/\./g,"/");e.error("Plugin "+p+" cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.",r);try{sap.ui.requireSync(d)}catch(n){e.error("Plugin module "+d+" is not found.")}return}if(o&&o.hasOwnProperty(a)){if(u&&Array.prototype.indexOf.call(u,l)!==-1){if(g.indexOf(l)===-1){g.push(l)}i._oPluginCollection[l][p]=JSON.parse(JSON.stringify(t))}else{e.warning("Plugin "+p+" will not be inserted into the plugin collection of the PluginManager, because of unsupported category "+l,r)}}else{i._oPluginCollection[s][p]=JSON.parse(JSON.stringify(t));if(g.indexOf(s)===-1){g.push(s)}}});try{if(i._oConfig.isBlueBox!==true){i._buildNamesOfPluginsWithAgents()}}catch(n){e.error("failed to build plugin agents names list",n.message||n.toString(),"sap.ushell.services.PluginManager")}g.forEach(function(e){if(i._oCategoryLoadingProgress.hasOwnProperty(e)&&i._oCategoryLoadingProgress[e].state()==="resolved"){i.loadPlugins(e)}})};this._isFormFactorSupported=function(e){var n=e.deviceTypes,i=o.getFormFactor();if(n&&n[i]===false){return false}return true};this.getPluginLoadingPromise=function(e){if(this._oCategoryLoadingProgress.hasOwnProperty(e)){return this._oCategoryLoadingProgress[e].promise()}};this.loadPlugins=function(i){var t=this,a,g,c,f;o.setPerformanceMark("FLP -- PluginManager.startLoadPlugins["+i+"]");if(i===s){f=n.getInterface()}if(u&&Array.prototype.indexOf.call(u,i)!==-1){if(t._oCategoryLoadingProgress[i].pluginLoadingTriggered===undefined){t._oCategoryLoadingProgress[i].pluginLoadingTriggered=true}if(Object.keys(t._oPluginCollection[i]).length>0){a=[];c=Object.keys(t._oPluginCollection[i]);if(new URLSearchParams(window.location.search).get("sap-ushell-xx-pluginmode")==="discard"&&(i==="RendererExtensions"||i==="AppWarmup")){c=c.filter(function(e){return t._oPluginCollection[i][e].component===l})}c.forEach(function(e){var n=t._oPluginCollection[i][e];if(!n.loaded){n.loaded=true;g=new jQuery.Deferred;a.push(g.promise());t._handlePluginCreation(i,e,g,f)}});if(a.length>0){jQuery.when.apply(undefined,a).done(function(){o.setPerformanceMark("FLP -- PluginManager.endLoadPlugins["+i+"]");t._oCategoryLoadingProgress[i].resolve()}).fail(t._oCategoryLoadingProgress[i].reject.bind())}}else{t._oCategoryLoadingProgress[i].resolve()}}else{e.error("Plugins with category "+i+" cannot be loaded by the PluginManager",r);t._oCategoryLoadingProgress[i].reject("Plugins with category "+i+" cannot be loaded by the PluginManager")}return t._oCategoryLoadingProgress[i].promise()};this._buildNamesOfPluginsWithAgents=function(){var e=this,n="",i;Object.keys(e._oPluginCollection).forEach(function(t){Object.keys(e._oPluginCollection[t]).forEach(function(o){i=e._oPluginCollection[t][o];if(i&&i.enabled&&i.enabled===true){if(i.config&&i.config["sap-plugin-agent"]===true){n+=(i.config["sap-plugin-agent-id"]||o)+","}}})});if(n.endsWith(",")){n=n.slice(0,-1)}this._sPluginAgentsNames=n};this._getNamesOfPluginsWithAgents=function(){return this._sPluginAgentsNames}}g.hasNoAdapter=true;return g},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigation", ["sap/ushell/services/ShellNavigationHashChanger","sap/m/MessageBox","sap/ui/core/routing/HashChanger"],function(t,i,e){"use strict";var a=i.Action;var n=i.Icon;function s(i,s,h){function r(){sap.ui.require(["sap/m/MessageBox"],function(t){t.show("Due to a configuration change on the server,\nclient and server are out of sync.\n We strongly recommend to reload the page soon.\nReload page now?",{icon:n.ERROR,title:"Client out of sync with server.",actions:[a.YES,a.NO],onClose:function(t){if(t===a.YES){window.setTimeout(function(){window.location.reload()},0)}}})})}var o=h&&h.config;this.hashChanger=new t(o);this._navigationFilterForForwardingToRegisteredRouters=function(t,i){var e=this._aRouters.some(function(t){return t.match(i)});if(e){var a=t.getCurrentApplication();var n=a&&a.componentInstance&&!a.homePage;if(n){var s=a.componentInstance.getRouter();if(s){s.stop()}}return this.NavigationFilterStatus.Keep}return this.NavigationFilterStatus.Continue};this.getNavigationContext=function(){var t=this.hashChanger.getCurrentNavigationState();var i=!this.hashChanger.isInnerAppNavigation(t.oldHash,t.newHash);return{status:t.status,isCrossAppNavigation:i,innerAppRoute:this.hashChanger.getHash()}};this.isInitialNavigation=function(){return this._bIsInitialNavigation};this.setIsInitialNavigation=function(t){this._bIsInitialNavigation=t};this.hrefForExternal=function(t,i,e,a){return this.hashChanger.hrefForExternal(t,i,e,a)};this.hrefForAppSpecificHash=function(t){return this.hashChanger.hrefForAppSpecificHash(t)};this.compactParams=function(t,i,e,a){return this.hashChanger.compactParams(t,i,e,a)};this.toExternal=function(t,i,e){return this.hashChanger.toExternal(t,i,e)};this.toAppHash=function(t,i){this.hashChanger.toAppHash(t,i)};this.init=function(t){this._bIsInitialNavigation=true;hasher.prependHash="";e.replaceHashChanger(this.hashChanger);var i=sap.ui.getCore().getEventBus();i.subscribe("sap.ui.core.UnrecoverableClientStateCorruption","RequestReload",r);this.hashChanger.initShellNavigation(t);this._enableHistoryEntryReplacedDetection();return this};this._enableHistoryEntryReplacedDetection=function(){this._lastHashChangeMode=null;this._fnOriginalSetHash=hasher.setHash;this._fnOriginalReplaceHash=hasher.replaceHash;hasher.setHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="setHash";return this._fnOriginalSetHash.apply(hasher,arguments)}.bind(this);hasher.replaceHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="replaceHash";return this._fnOriginalReplaceHash.apply(hasher,arguments)}.bind(this)};this.wasHistoryEntryReplaced=function(){return this._lastHashChangeMode==="replaceHash"};this.resetHistoryEntryReplaced=function(){this._lastHashChangeMode=null};this.replaceHashWithoutNavigation=function(t){hasher.changed.active=false;this._fnOriginalSetHash(t);hasher.changed.active=true};this.NavigationFilterStatus=this.hashChanger.NavigationFilterStatus;this.registerNavigationFilter=function(t){this.hashChanger.registerNavigationFilter(t)};this._aRouters=[];this.registerExtraRouter=function(t){this._aRouters.push(t)};this.unregisterNavigationFilter=function(t){this.hashChanger.unregisterNavigationFilter(t)};this.registerNavigationFilter(function(){if(!this._hashChangedByApp){this.resetHistoryEntryReplaced()}this._hashChangedByApp=undefined;return this.NavigationFilterStatus.Continue}.bind(this));this.registerPrivateFilters=function(t){this.registerNavigationFilter(this._navigationFilterForForwardingToRegisteredRouters.bind(this,t))}}s.hasNoAdapter=true;return s},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigationHashChanger", ["sap/ushell/library","sap/ushell/utils/UrlShortening","sap/ushell/utils/UrlParsing","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/hasher","sap/ushell/TechnicalParameters","sap/base/util/merge","sap/base/util/isEmptyObject","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/deepEqual"],function(e,t,a,i,r,n,s,o,jQuery,h,p){"use strict";var l=e.NavigationState;var u={HASH_SET:{name:"hashSet",historyEntry:true},HASH_REPLACED:{name:"hashReplaced",historyEntry:false},SHELL_HASH_CHANGED:{name:"shellHashChanged",historyEntry:true,usedByUi5HistoryDetection:true,ui5EventParameterNames:{oldHash:"oldAppSpecificRouteNoSeparator",newHash:"newAppSpecificRouteNoSeparator"},updateHashOnly:true},SHELL_HASH_PARAMETER_CHANGED:{name:"shellHashParameterChanged",historyEntry:null},HASH_CHANGED:{name:"hashChanged",historyEntry:false,usedByUi5HistoryDetection:true,ui5EventParameterNames:{newHash:"newHash",fullHash:"fullHash"}}};var c=i.extend("sap.ushell.services.ShellNavigationHashChanger",{constructor:function(e){this.oServiceConfig=e;this._oNavigationState={};i.apply(this);this._initializedByShellNav=false;this._bReloadApplication=false;this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:"Continue",Custom:"Custom",Abandon:"Abandon",Keep:"Keep"};this.getRelevantEventsInfo=function(){return this._getAllEvents().filter(function(e){return e.usedByUi5HistoryDetection}).map(function(e){var t={name:e.name,paramMapping:e.ui5EventParameterNames};if(e.updateHashOnly!==undefined){t.updateHashOnly=e.updateHashOnly}return t})}}});c.prototype.privgetCurrentShellHash=function(){var e=this.privsplitHash(r.getHash());return{hash:"#"+(e&&e.shellPart?e.shellPart:"")}};c.prototype.privconstructHash=function(e){var t=this.privgetCurrentShellHash();t.hash+=e;return t};c.prototype.privconstructShellHash=function(e){return a.constructShellHash(e)};c.prototype.privsplitHash=function(e){if(e===undefined||e===null||e===""){return{shellPart:null,appSpecificRoute:null,intent:null,params:null}}var t=a.parseShellHash(e);if(t===undefined||t===null){return null}var i=t.params&&!o(t.params)?t.params:null;var r=t.appSpecificRoute;t.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(t))||null,appSpecificRoute:r||null,intent:t.semanticObject&&t.action&&t.semanticObject+"-"+t.action+(t.contextRaw||"")||null,params:i}};c.prototype.privsetHash=function(e,t,a){r.prependHash="";e=this.privstripLeadingHash(e);t=t||"";if(a===undefined){a=true}if(a){this.fireEvent(u.HASH_SET.name,{sHash:t});r.setHash(e)}else{this.fireEvent(u.HASH_REPLACED.name,{sHash:t});r.replaceHash(e)}};c.prototype.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};c.prototype.registerNavigationFilter=function(e){if(typeof e!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters.push(e)};c.prototype.unregisterNavigationFilter=function(e){if(typeof e!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters=this.aNavigationFilters.filter(function(t){return t!==e})};function f(e,t,a){this.oAppState=undefined;this.oPromise=(new jQuery.Deferred).resolve();this.getNextKey=function(){this.oAppState=e.createEmptyAppState(t,a);return this.oAppState.getKey()};this.store=function(e){var t;this.oAppState.setData(e);t=this.oAppState.save();this.oPromise=jQuery.when(this.oPromise,t)};this.getPromise=function(){return this.oPromise}}c.prototype.compactParams=function(e,i,r,n){var s=new jQuery.Deferred;var o=a.constructShellHash({target:{semanticObject:"SO",action:"action"},params:e});if(e===undefined||Object.keys(e).length===0){return s.resolve(e).promise()}sap.ushell.Container.getServiceAsync("AppState").then(function(e){var h=new f(e,r,n);var p=t.compactHash(o,i,h);var l=a.parseParameters(p.hash.match(/\?.*/)[0]);var u=h.getPromise();u.done(function(){s.resolve(l)}).fail(function(e){s.reject(e)})});return s.promise()};c.prototype.hrefForExternal=function(e,t,a,i){function r(e,t){if(t===true){e.hash=encodeURI(e.hash)}else{e=encodeURI(e)}return e}if(i){var n=new jQuery.Deferred;this.hrefForExternalNoEncAsync(e,t,a).then(function(e){n.resolve(r(e,t))}).catch(n.reject.bind(n));return n}var s=this.hrefForExternalNoEnc(e,t,a);return r(s,t)};c.prototype.hrefForExternalNoEnc=function(e,t,a,i){h.error("Deprecated API call of 'sap.ushell.services.ShellNavigationHashChanger.hrefForExternalNoEnc'. Please use 'hrefForExternalNoEncAsync' instead",null,"sap.ushell.services.ShellNavigationHashChanger");if(i){var r=new jQuery.Deferred;this.hrefForExternalNoEncAsync(e,t,a).then(r.resolve).catch(r.reject);return r.promise()}var n;var s=sap.ushell.Container.getService("AppState");var o=new f(s,a);var p=this.privhrefForExternalNoEnc(e,o);if(t===true){n={hash:p.hash,params:p.params,skippedParams:p.skippedParams}}else{n=p.hash}return n};c.prototype.hrefForExternalNoEncAsync=function(e,t,a){return sap.ushell.Container.getServiceAsync("AppState").then(function(i){var r;var n=new f(i,a);var s=this.privhrefForExternalNoEnc(e,n);if(t===true){r={hash:s.hash,params:s.params,skippedParams:s.skippedParams}}else{r=s.hash}return new Promise(function(e,t){n.getPromise().done(function(){e(r)}).fail(t)})}.bind(this))};c.prototype.privhrefForExternalNoEnc=function(e,a){var i;if(e===undefined){return this.privgetCurrentShellHash()}if(e&&e.target&&(typeof e.target.semanticObject==="string"||typeof e.target.shellHash==="string")){i="#"+this.privconstructShellHash(e);return t.compactHash(i,undefined,a)}return this.privgetCurrentShellHash()};c.prototype.privgetAppHash=function(e){var t;if(e&&e.target&&typeof e.target.shellHash==="string"){var i=a.parseShellHash(e.target.shellHash);t=i&&i.appSpecificRoute;t=t&&t.substring(2)}return t};c.prototype.hrefForAppSpecificHash=function(e){return encodeURI(this.privconstructHash(this.privappHashPrefix+e).hash)};c.prototype.toExternal=function(e,t,a){return sap.ushell.Container.getServiceAsync("AppState").then(function(i){var r=new f(i,t);var n=this.privhrefForExternalNoEnc(e,r).hash;var s=this.privgetAppHash(e);this.privsetHash(n,s,a)}.bind(this))};c.prototype.toAppHash=function(e,t){var a=this.privconstructHash(this.privappHashPrefix+e).hash;this.privsetHash(a,e,t)};c.prototype.initShellNavigation=function(e){if(this._initializedByShellNav){h.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false}this.privfnShellCallback=e;r.changed.add(this.treatHashChanged,this);if(!r.isActive()){r.initialized.addOnce(this.treatHashChanged,this);r.init()}else{this.treatHashChanged(r.getHash())}this._initializedByShellNav=true;return true};c.prototype.init=function(){if(this._initialized){h.info("init already called on this ShellNavigationHashChanger instance.");return false}var e=this.privsplitHash(r.getHash());var t=(e&&e.appSpecificRoute||"  ").substring(2);var a=t?"&/":"";var i=e&&e.shellPart||"";this.fireEvent(u.HASH_CHANGED.name,{newHash:t,fullHash:i+a+t});this._initialized=true;return true};c.prototype._removeInnerAppSeparator=function(e){return(e||"").replace("&/","")};c.prototype._setNavigationStatus=function(e){this._oNavigationState.status=e};c.prototype._trackNavigation=function(e,t){this._oNavigationState.newHash=e;this._oNavigationState.oldHash=t};c.prototype.getCurrentNavigationState=function(){return this._oNavigationState};c.prototype.treatHashChanged=function(e,i){this._trackNavigation(e,i);this._setNavigationStatus(l.InProgress);if(this.inAbandonFlow){this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}var n;e=t.expandHash(e);i=t.expandHash(i);var s=this.privsplitHash(e);var o=this.privsplitHash(i);if(!s){var p=new Error("Illegal new hash - cannot be parsed: '"+e+"'");this.fireEvent(u.SHELL_HASH_CHANGED.name,{newShellHash:e,newAppSpecificRoute:null,fullHash:e,oldShellHash:o?o.shellPart:i,error:p});this.privfnShellCallback(e,null,o?o.shellPart:i,o?o.appSpecificRoute:null,p);this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(!o){o={shellPart:i,appSpecificRoute:null}}for(var c=0;c<this.aNavigationFilters.length;c++){try{var f;var v=this.aNavigationFilters[c].call(undefined,e,i);var H=v;if(typeof v!=="string"){H=v.status;f=v.hash}if(H===this.NavigationFilterStatus.Custom){if(f&&f.length>0){this.inAbandonFlow=true;r.replaceHash(f);this.inAbandonFlow=false}this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(H===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;r.replaceHash(i);this.inAbandonFlow=false;this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(H===this.NavigationFilterStatus.Keep){n=true}}catch(e){h.error("Error while calling Navigation filter! ignoring filter...",e.message,"sap.ushell.services.ShellNavigation")}}if(n){this.fireEvent(u.HASH_CHANGED.name,{newHash:e,oldHash:i,fullHash:e});this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}var S=i===undefined;var g=this._compareHashes(s,o,S);var d=g.sameIntent&&g.sameParameters&&g.sameAppSpecificRoute;if(d){h.info("Navigation happened but hash stayed the same",null,"sap.ushell.services.ShellNavigation");this.fireEvent(u.HASH_CHANGED.name,{newHash:this._removeInnerAppSeparator(s.appSpecificRoute),oldHash:this._removeInnerAppSeparator(o.appSpecificRoute),fullHash:e});this._setNavigationStatus(l.Finished);sap.ui.getCore().getEventBus().publish("relatedServices","resetBackNavigation");this.setReloadApplication(false);return}var m=g.sameIntent&&g.sameParameters;if(m){if(this.getReloadApplication()){this.setReloadApplication(false)}else{var A=this._removeInnerAppSeparator(s.appSpecificRoute);var y=this._removeInnerAppSeparator(o.appSpecificRoute);h.info("Inner App Hash changed from '"+y+"' to '"+A+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(u.HASH_CHANGED.name,{newHash:A,oldHash:y,fullHash:e});this._setNavigationStatus(l.Finished);sap.ui.getCore().getEventBus().publish("relatedServices","resetBackNavigation");return}}if(g.sameIntent&&this.hasListeners(u.SHELL_HASH_PARAMETER_CHANGED.name)){var E=a.paramsToString(s.params);var N=a.paramsToString(o.params);h.info("Shell hash parameters changed from '"+N+"' to '"+E+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(u.SHELL_HASH_PARAMETER_CHANGED.name,{oNewParameters:s.params,oOldParameters:o.params});this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}h.info("Outer shell hash changed from '"+i+"' to '"+e+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(u.SHELL_HASH_CHANGED.name,{newShellHash:s.shellPart,newAppSpecificRoute:s.appSpecificRoute,fullHash:e,oldShellHash:o.shellPart,oldAppSpecificRoute:o.appSpecificRoute,error:"",oldAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(o.appSpecificRoute),newAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(s.appSpecificRoute)});this.privfnShellCallback(s.shellPart,s.appSpecificRoute,o.shellPart,o.appSpecificRoute);if(g.sameIntent){sap.ui.getCore().getEventBus().publish("relatedServices","resetBackNavigation")}this._setNavigationStatus(l.Finished);this.setReloadApplication(false)};c.prototype._parametersChanged=function(e,t){return!p(e,t)};c.prototype._compareHashes=function(e,t,a){return{sameIntent:this._haveSameIntent(e,t)&&!a,sameParameters:this.haveSameIntentParameters(e.params,t.params),sameAppSpecificRoute:e.appSpecificRoute===t.appSpecificRoute}};c.prototype.setHash=function(e){this.toAppHash(e,true)};c.prototype.replaceHash=function(e){this.toAppHash(e,false)};c.prototype.getHash=function(){return this.getAppHash()};c.prototype.getAppHash=function(){var e=this.privsplitHash(r.getHash());var t=(e&&e.appSpecificRoute||"  ").substring(2);return t};c.prototype.destroy=function(){r.changed.remove(this.treatHashChanged,this);i.prototype.destroy.apply(this,arguments)};c.prototype._getAllEvents=function(){return Object.keys(u).map(function(e){return u[e]})};c.prototype.getReplaceHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===false}).map(function(e){return e.name})};c.prototype.getSetHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===true}).map(function(e){return e.name})};c.prototype.isInnerAppNavigation=function(e,t){var a=this.privsplitHash(e)||{};var i=this.privsplitHash(t)||{};var r=t===undefined;var n=this._haveSameIntent(a,i)&&!r;var s=this.haveSameIntentParameters(a.params,i.params);return n&&s};c.prototype._haveSameIntent=function(e,t){return e.intent===t.intent};c.prototype._removeNonIntentParameters=function(e){var t=n.getParameters({isIntentParameter:false});var a;if(e){for(var i=0;i<t.length;i++){a=t[i];if(e[a.name]){delete e[a.name]}}}return e||{}};c.prototype.haveSameIntentParameters=function(e,t){var a=s({},e);var i=s({},t);return!this._parametersChanged(this._removeNonIntentParameters(a),this._removeNonIntentParameters(i))};c.prototype.getReloadApplication=function(){return this._bReloadApplication};c.prototype.setReloadApplication=function(e){this._bReloadApplication=e};return c});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLParsing", ["sap/base/Log","sap/ui/base/Object","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(t,e,s,r){"use strict";function n(){this.getShellHash=function(t){return r.getShellHash(t)};this.getHash=function(t){return r.getHash(t)};this.isIntentUrl=function(e){t.error("Deprecated API call of 'sap.ushell.URLParsing.isIntentUrl'. Please use 'isIntentUrlAsync' instead",null,"sap.ushell.services.URLParsing");return r.isIntentUrl(e)};this.isIntentUrlAsync=function(t){return r.isIntentUrlAsync(t)};this.parseParameters=function(t){return r.parseParameters(t)};this.paramsToString=function(t){return r.paramsToString(t)};this.privparamsToString=function(t,e,s){return r.privparamsToString(t,e,s)};this.parseShellHash=function(t){return r.parseShellHash(t)};this.privstripLeadingHash=function(t){return r.privstripLeadingHash(t)};this.splitHash=function(t){return r.splitHash(t)};this.constructShellHash=function(t){return r.constructShellHash(t)};this.addSystemToServiceUrl=function(t,r){var n,a,i=r;if(!t||t.indexOf("/")!==0||t.indexOf("//")===0){throw new s.Error("Invalid URL: "+t,"sap.ushell.services.URLParsing")}if(e.isA(r,"sap.ui.core.Component")){a=typeof r.getComponentData==="function"&&r.getComponentData();i=a&&a.startupParameters&&a.startupParameters["sap-system"]&&a.startupParameters["sap-system"][0]}n=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(!i&&!r&&n&&n.url){i=new URL(n.url,window.location.href).searchParams.get("sap-system")}if(/^[^?]*(;mo([/;?]|$))/.test(t)){}else if(/^[^?]*(;o=([/;?]|$))/.test(t)){t=t.replace(/;o=([/;?]|$)/,(i?";o="+i:"")+"$1")}else if(!/^[^?]*;o=/.test(t)&&i){t=t.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+i+"$2")}sap.ushell.Container.addRemoteSystemForServiceUrl(t);return t}}n.hasNoAdapter=true;return n},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLShortening", ["sap/ushell/utils/UrlShortening"],function(n){"use strict";function e(){this.compactHash=n.compactHash.bind(n);this.checkHashLength=n.checkHashLength.bind(n);this.expandHash=n.expandHash.bind(n);this.expandParamGivenRetrievalFunction=n.expandParamGivenRetrievalFunction.bind(n)}e.hasNoAdapter=true;return e},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentHandle", function(){"use strict";var t=function(t){this._oComponent=t};t.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],function(){})};t.prototype.getInstance=function(){return this._oComponent};t.prototype.getMetadata=function(){return this._oComponent.getMetadata()};return t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentLoader", ["sap/ushell/Config","sap/ushell/utils","sap/ushell/services/Ui5ComponentHandle","sap/ushell/services/_Ui5ComponentLoader/utils","sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(e,o,t,n,r,jQuery){"use strict";function s(s,a,i,c){this._oServiceConfig=c&&c.config||{};this._oAdapter=s;this._logStackTrace=function(e,o){var t=JSON.stringify(e,null,4);n.logInstantiateComponentError(e.name,o+"",o.status,o.stack,t);return Promise.reject(o)};this.modifyComponentProperties=function(e,o){if(!this._oAdapter.modifyComponentProperties){return Promise.resolve(e)}return this._oAdapter.modifyComponentProperties(e.componentProperties,o).then(function(o){e.componentProperties=o;return e})};this.createComponent=function(e,o,t,n){var r=new jQuery.Deferred,s=this;this.createComponentData(e,o,t).then(function(e){return s.modifyComponentProperties(e,n)}).then(function(e){s.instantiateComponent(e).then(r.resolve,r.reject)},function(){r.resolve(e)});return r.promise()};this.createComponentData=function(t,r,s){var a=this;return new Promise(function(i,c){var l={};var u=t||{};var p=n.shouldLoadCoreExt(u);var m=e.last("/core/customPreload/enabled");var d=p&&m;var C=n.shouldLoadDefaultDependencies(u,a._oServiceConfig);var f=o.getParameterValueBoolean("sap-ushell-nocb");var h=u.applicationDependencies||{};var v=n.constructAppComponentId(r||{});var P=e.last("/core/customPreload/coreResourcesComplement");var g;var R;n.logAnyApplicationDependenciesMessages(h.name,h.messages);if(!u.ui5ComponentName){c();return}delete u.loadCoreExt;delete u.loadDefaultDependencies;g=n.createComponentData(u.componentData||{},u.url,u.applicationConfiguration,u.reservedParameters);if(u.getExtensions){g.getExtensions=u.getExtensions;delete u.getExtensions}if(u.oPostMessageInterface){g.oPostMessageInterface=u.oPostMessageInterface;delete u.oPostMessageInterface}R=n.createComponentProperties(d,C,f,s,u.applicationDependencies||{},u.ui5ComponentName,u.url,v,P);l.componentData=g;l.componentProperties=R;l.appPropertiesSafe=u;l.loadCoreExt=p;i(l)})};this.instantiateComponent=function(e){var o=e.componentProperties;var s=e.componentData;var a=e.appPropertiesSafe;var i=e.loadCoreExt;t.onBeforeApplicationInstanceCreated.call(null,o);var c=new jQuery.Deferred;n.createUi5Component(o,s).then(function(e){var o=new t(e);a.componentHandle=o;var n=i;if(n){a.coreResourcesFullyLoaded=n;r.emit("CoreResourcesComplementLoaded",{status:"success"})}c.resolve(a)}).fail(this._logStackTrace.bind(this,o)).catch(c.reject);return c.promise()};this.getCoreResourcesComplementBundle=function(){return e.last("/core/customPreload/enabled")?e.last("/core/customPreload/coreResourcesComplement"):[]};this.loadCoreResourcesComplement=function(){if(!this.loadCoreResourcesComplementPromise){this.loadCoreResourcesComplementPromise=new Promise(function(e,o){n.loadBundle(this.getCoreResourcesComplementBundle()).then(function(){r.emit("CoreResourcesComplementLoaded",{status:"success"});e()}).catch(function(){r.emit("CoreResourcesComplementLoaded",{status:"failed"});o()})}.bind(this));this.loadCoreResourcesComplementPromise.finally(function(){this.loadCoreResourcesComplementPromise=undefined}.bind(this))}return this.loadCoreResourcesComplementPromise};r.once("loadCoreResourcesComplement").do(function(){this.loadCoreResourcesComplement()}.bind(this))}s.hasNoAdapter=false;return s});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserInfo", ["sap/base/Log","sap/ushell/Config","sap/ushell/User"],function(e,t,r){"use strict";function s(t,r){this.getId=function(){return sap.ushell.Container.getUser().getId()};this.getFirstName=function(){return sap.ushell.Container.getUser().getFirstName()};this.getLastName=function(){return sap.ushell.Container.getUser().getLastName()};this.getFullName=function(){return sap.ushell.Container.getUser().getFullName()};this.getEmail=function(){return sap.ushell.Container.getUser().getEmail()};this.getUser=function(){return sap.ushell.Container.getUser()};this.getShellUserInfo=function(){return Promise.resolve({id:this.getId(),email:this.getEmail(),firstName:this.getFirstName(),lastName:this.getLastName(),fullName:this.getFullName()})};this.getThemeList=function(){var r=t.getThemeList();r.fail(function(){e.error("getThemeList failed")});return r};this.updateUserPreferences=function(){var r=t.updateUserPreferences(sap.ushell.Container.getUser());r.fail(function(){e.error("updateAttributes: ")});return r};this.getLanguageList=function(){var r=t.getLanguageList();r.fail(function(){e.error("getLanguageList failed")});return r};this.getUserSettingList=function(){var r=t.getUserProfilePropertyValueLists();r.fail(function(){e.error("getUserProfilePropertyValueLists failed")});return r};this.getUserSettingListEditSupported=function(){if(typeof t.getUserProfilePropertyValueLists!=="undefined"){return true}return false}}s.hasNoAdapter=false;return s},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/AppState", ["sap/base/Log","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";function e(e,n,r,a,o,h,c,p,_){this._oServiceInstance=e;this._sKey=n;this._sData=a;this._sAppName=o;this._sACHComponent=h;this._bTransient=c;this._bModifiable=r;this._sPersistencyMethod=p;this._oPersistencySettings=_;if(this._bModifiable){this.setData=function(e){try{this._sData=JSON.stringify(e)}catch(e){t.error("Data can not be serialized","sap.ushell.services.AppState.AppState");this._sData=undefined}};this.save=s.bind(this);this.delete=i.bind(this)}}function s(){var t=new jQuery.Deferred;this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient,this._sPersistencyMethod,this._oPersistencySettings).done(function(){t.resolve()}).fail(function(e){t.reject(e)});return t.promise()}function i(){var t=new jQuery.Deferred;this._oServiceInstance._deleteAppState(this._sKey).done(function(){t.resolve()}).fail(function(e){t.reject(e)});return t.promise()}e.prototype.getData=function(){var e;if(this._sData===undefined||this._sData===""){return undefined}try{e=JSON.parse(this._sData)}catch(e){t.error("Could not parse ["+this._sData+"]"+e)}return e};e.prototype.getPersistencyMethod=function(){return this._sPersistencyMethod};e.prototype.getPersistencySettings=function(){return this._oPersistencySettings};e.prototype.getKey=function(){return this._sKey};return e});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/AppStatePersistencyMethod", [],function(){"use strict";function t(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState"}return new t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/LimitedBuffer", [],function(){"use strict";function t(t){this.index=-1;this.capacity=t;this.array=[]}t.prototype._clear=function(){this.array=[];this.index=-1};t.prototype.addAsHead=function(t,i,e,a){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:t,value:i,persistencyMethod:e,persistencySettings:a}};t.prototype.getByKey=function(t){var i,e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){return this.array[e]}}return undefined};t.prototype.deleteByKey=function(t){var i,e,a=false;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){delete this.array[e];a=true}}return a};return t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/Sequentializer", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function e(){this.oLastPromise=new jQuery.Deferred;this.oLastPromise.resolve()}e.prototype.addToQueue=function(e){var r=new jQuery.Deferred;this.oLastPromise.always(function(){var t=e();t.done(function(){r.resolve.apply(r,arguments)}).fail(function(){r.reject.apply(r,arguments)})});this.oLastPromise=r;return r.promise()};return e});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/SequentializingAdapter", ["sap/ushell/services/_AppState/Sequentializer"],function(e){"use strict";function t(t){this._oSequentializer=new e;this._oUnderlyingAdapter=t}t.prototype.saveAppState=function(e,t,r,n,i,p,d){var o;o=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,e,t,r,n,i,p,d);return this._oSequentializer.addToQueue(o)};t.prototype.loadAppState=function(e){return this._oUnderlyingAdapter.loadAppState(e)};t.prototype.deleteAppState=function(e){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.deleteAppState){return this._oUnderlyingAdapter.deleteAppState(e)}};t.prototype.getSupportedPersistencyMethods=function(){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.getSupportedPersistencyMethods){return this._oUnderlyingAdapter.getSupportedPersistencyMethods()}return[]};return t});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/WindowAdapter", ["sap/ushell/services/_AppState/LimitedBuffer","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var r=500;var a=18;function o(){this._init.apply(this,arguments)}o.prototype._init=function(t,a,p){var n=p&&p.config&&p.config.initialAppStates||{};var i=p&&p.config&&p.config.initialAppStatesPromise;this._oServiceInstance=t;this._oBackendAdapter=a;if(!o.prototype.data){o.prototype.data=new e(r)}if(i){i.then(function(e){if(typeof e==="object"){Object.keys(e).forEach(function(t){o.prototype.data.addAsHead(t,e[t])})}})}Object.keys(n).forEach(function(e){o.prototype.data.addAsHead(e,n[e])})};o.prototype.saveAppState=function(e,t,r,a,p,n,i,s){this.sComponent=p;var d=new jQuery.Deferred;o.prototype.data.addAsHead(e,r,i,s);if(this._oBackendAdapter&&!n){return this._oBackendAdapter.saveAppState(e,t,r,a,p,i,s)}d.resolve();return d.promise()};o.prototype._checkIfTransient=function(e){return e.startsWith("TAS")};o.prototype.loadAppState=function(e){var r=new jQuery.Deferred,p=o.prototype.data.getByKey(e);if(p){setTimeout(function(){r.resolve(e,p.value,p.persistencyMethod,p.persistencySettings)},0);return r.promise()}try{if(window.opener&&window.opener.sap&&window.opener.sap.ushell){var n=window.opener.sap.ui.require("sap/ushell/services/AppState").WindowAdapter.prototype.data.getByKey(e);if(n){r.resolve(e,n.value);return r.promise()}}}catch(e){if(e.code===a){t.warning("AppState.js - loadAppState: Opener is not of the same origin and cannot be used for AppState resolving.")}else{t.warning("AppState.js - loadAppState: Opener is a FLP but AppState could not get resolved from there.")}}if(this._oBackendAdapter&&!this._checkIfTransient(e)){this._oBackendAdapter.loadAppState(e).done(function(e,t,a,p){o.prototype.data.addAsHead(e,t);r.resolve(e,t,a,p)}).fail(r.reject.bind(r));return r.promise()}r.reject("AppState.js - loadAppState: Application State could not be loaded");return r.promise()};o.prototype.deleteAppState=function(e){var t=new jQuery.Deferred;o.prototype.data.deleteByKey(e);if(this._oBackendAdapter&&this._oBackendAdapter.deleteAppState&&!this._checkIfTransient(e)){return this._oBackendAdapter.deleteAppState(e)}t.resolve();return t.promise()};o.prototype.getSupportedPersistencyMethods=function(){if(this._oBackendAdapter&&this._oBackendAdapter.getSupportedPersistencyMethods){return this._oBackendAdapter.getSupportedPersistencyMethods()}return[]};return o});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/ParameterMapping", ["sap/base/Log"],function(e){"use strict";function a(a){var t={},n=a.intentParamsPlusAllDefaults;Object.keys(n).sort().forEach(function(s){var i=r(s,a.inbound.signature,n[s]);if(Array.isArray(a.intentParamsPlusAllDefaults[s])){if(t[i]){e.error('collision of values during parameter mapping : "'+s+'" -> "'+i+'"')}else{t[i]=a.intentParamsPlusAllDefaults[s]}}});a.mappedIntentParamsPlusSimpleDefaults=t}function r(e,a,r){if(!r||!Array.isArray(r)){return e}if(a&&a.parameters&&a.parameters[e]&&a.parameters[e].renameTo){return a.parameters[e].renameTo}return e}return{mapParameterNamesAndRemoveObjects:a,getRenameParameterName:r}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/Utils", ["sap/base/util/deepExtend"],function(e){"use strict";function r(e,r,t){var n={};r.forEach(function(a){var i=t[a].dominatedBy;var u=i.some(function(t){var n=!!e[t];var i=t!==a;var u=r.indexOf(t)===-1;return n&&u&&i});if(u){n[a]=true}});return n}function t(e){var r={},t={};Object.keys(e).forEach(function(n){var a=e[n].renameTo||n;t[a]=t[a]||{renameTo:a,dominatedBy:[]};t[a].dominatedBy.push(n);t[a].dominatedBy=t[a].dominatedBy.sort();r[n]=t[a]});return r}function n(r,t,n){var a=n?r:e({},r);Object.keys(a).forEach(function(e){if(t(e)===false){delete a[e]}});return a}function a(e,r){var t;t=Object.keys(e).reduce(function(t,n){var a=e[n];if(r(n,a)){t[n]=a}return t},{});return t}function i(e,r){return r.every(function(r){var t,n,a;a=r.name;n=r.options;t=e[a];return Object.keys(n).every(function(e){var r=n[e];if(e==="required"){return!!(t||{}).required===r}return false})})}function u(e,r){var t={};e.forEach(function(e){if(r[e]){t[e]=r[e];delete r[e]}});return t}return{inboundSignatureMeetsParameterOptions:i,filterObjectKeys:n,filterObject:a,constructParameterDominatorMap:t,findDominatedDefaultParameters:r,extractParameters:u}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CommonDataModel/PersonalizationProcessor", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],function(e,r,i,o,t,jQuery){"use strict";function a(){}a.prototype._getItemIndex=function(e,r){var i;for(i=0;i<e.length;i++){if(e[i].id===r){break}}i=i>=e.length?-1:i;return i};a.prototype._applyRenameGroup=function(e,r,i){var o,t=false;if(!r){return false}if(e&&i&&i.groups&&i.groups[e]){o=i.groups[e];if(o.identification&&o.identification.title){i.groups[e].identification.title=r;t=true}}return t};a.prototype._applyGroupVisibility=function(e,r,i){var o=false;if(r===undefined){return false}if(e&&i&&i.groups&&i.groups[e]){i.groups[e].identification.isVisible=r;o=true}return o};a.prototype.mixinPersonalization=function(e,r){var i=new jQuery.Deferred,t=this;if(!r||o(r)){return i.resolve(e).promise()}if(r.groups){Object.keys(r.groups).forEach(function(i){var o=r.groups[i];if(e.groups[i]){if(o.identification){if(o.identification.title){t._applyRenameGroup(i,o.identification.title,e)}if(o.identification.hasOwnProperty("isVisible")&&o.identification.isVisible===false){t._applyGroupVisibility(i,false,e)}}}})}this._applyAddGroups(e,r);if(r.removedGroups&&Array.isArray(r.removedGroups)){r.removedGroups.forEach(function(r){t._applyRemoveGroup(e,r)})}this._applyMoveGroup(e,r);this._applyItemChanges(e,r);this._applyTileSettings(e,r);return i.resolve(e).promise()};a.prototype._applyAddGroups=function(e,i){var o=[];e.site=e.site||{};e.site.payload=e.site.payload||{};e.site.payload.groupsOrder=e.site.payload.groupsOrder||[];e.groups=e.groups||{};if(Array.isArray(i.groupOrder)){e.site.payload.groupsOrder.forEach(function(e){if(i.groupOrder.indexOf(e)===-1){if(i.removedGroups&&i.removedGroups.indexOf(e)===-1||!i.removedGroups){o.push(e)}}})}if(Array.isArray(i.groupOrder)&&i.addedGroups&&Object.keys(i.addedGroups).length>0){Object.keys(i.addedGroups).forEach(function(o){e.groups[o]=r(i.addedGroups[o],20);e.groups[o].payload.isPreset=false});e.site.payload.groupsOrder=i.groupOrder}o.forEach(function(r){e.site.payload.groupsOrder.push(r)})};a.prototype._checkRenameGroup=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.title!==i[e].identification.title){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.title=r[e].identification.title}}}return o};a.prototype._applyTileSettings=function(e,r){var i,o;if(!r.modifiedTiles){return}i=Object.keys(e.groups).map(function(e){return this[e]},e.groups);o=Object.keys(r.modifiedTiles).map(function(e){return this[e]},r.modifiedTiles);i.some(function(e){["tiles","links"].forEach(function(r){if(e.payload[r]){e.payload[r].some(function(e){var r;o.some(function(i,o){if(i.id===e.id){if(i.title!==undefined){e.title=i.title}if(i.subTitle!==undefined){e.subTitle=i.subTitle}if(i.info!==undefined){e.info=i.info}if(i.displayFormatHint!==undefined){e.displayFormatHint=i.displayFormatHint}r=o;return true}return false});if(r!==undefined){o.splice(r,1)}return o.length===0})}});return o.length===0})};a.prototype._checkGroupVisibility=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.isVisible!==i[e].identification.isVisible&&typeof r[e].identification.isVisible==="boolean"){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.isVisible=r[e].identification.isVisible}}}return o};a.prototype._addGroupToPersonalizationDelta=function(e,r,o){var t=false,a,s;if(e&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&e.groups&&o&&e.groups[o]&&r){a=e.site.payload.groupsOrder;s=e.groups[o];r.addedGroups=r.addedGroups||{};r.addedGroups[o]={};r.addedGroups[o].identification=i({},s.identification);r.addedGroups[o].payload=i({},s.payload);r.addedGroups[o].payload.tiles=[];r.addedGroups[o].payload.links=[];r.groupOrder=a;t=true}return t};a.prototype.extractPersonalization=function(e,r){var i=new jQuery.Deferred,t,a={},s,p,n=this;if(e&&e.groups&&r&&r.groups){t=e.groups;s=r.groups;p=this._getExtractHelperObject(r,e,a);Object.keys(s).forEach(function(i){n._checkRemoveGroup(e,a,i);n._extractFromOriginalSiteOneGroup(r,p,i,"tiles");n._extractFromOriginalSiteOneGroup(r,p,i,"links")});Object.keys(t).forEach(function(r){if(s[r]){n._checkRenameGroup(r,t,s,a);n._checkGroupVisibility(r,t,s,a)}else{n._addGroupToPersonalizationDelta(e,a,r)}n._extractFromPersonalizedSiteOneGroup(e,p,r,"tiles");n._extractFromPersonalizedSiteOneGroup(e,p,r,"links")});this._checkMoveGroup(e,r,a);this._cleanupRemovedGroups(r,a);if(p.oPersonalizationDelta.movedTiles&&o(p.oPersonalizationDelta.movedTiles)){delete p.oPersonalizationDelta.movedTiles}if(p.oPersonalizationDelta.movedLinks&&o(p.oPersonalizationDelta.movedLinks)){delete p.oPersonalizationDelta.movedLinks}}if(r._version){a._version=r._version}return i.resolve(a).promise()};a.prototype._checkRemoveGroup=function(e,r,i){var o=false;if(e&&e.groups&&r&&i){if(!e.groups[i]){r.removedGroups=r.removedGroups||[];r.groupOrder=r.groupOrder||[];if(r.removedGroups.indexOf(i)===-1){r.removedGroups.push(i)}if(e.site&&e.site.payload&&e.site.payload.groupsOrder&&Array.isArray(e.site.payload.groupsOrder)){r.groupOrder=e.site.payload.groupsOrder.slice(0)}}o=true}return o};a.prototype._applyRemoveGroup=function(e,r){var i,o,t;if(e&&e.groups&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&r){i=e.groups;o=e.site.payload.groupsOrder;t=o.indexOf(r);if(!(t===-1)){o.splice(t,1);delete i[r];return true}}return false};a.prototype._checkMoveGroup=function(e,r,i){var o,t,a=false,s=false;if(e.site&&e.site.payload&&Array.isArray(e.site.payload.groupsOrder)&&r.site&&r.site.payload&&Array.isArray(r.site.payload.groupsOrder)){o=e.site.payload.groupsOrder;t=r.site.payload.groupsOrder;if(o.length===t.length){a=function(){var e=false,r;for(r=0;r<t.length;r++){if(t[r]!==o[r]){e=true;break}}return e}();if(a){i.groupOrder=o;s=true}}}return s};a.prototype._applyMoveGroup=function(e,r){var i=false;if(Array.isArray(r.groupOrder)){e.site=e.site||{};e.site.payload=e.site.payload||{};if(!Array.isArray(e.site.payload.groupsOrder)){e.site.payload.groupsOrder=[]}if(e.site.payload.groupsOrder.length===r.groupOrder.length){e.site.payload.groupsOrder=r.groupOrder;i=true}}return i};a.prototype._getHashedItemsFromSite=function(e){var r=null;if(e&&e.groups){if(Object.keys(e.groups).length>0){r={};Object.keys(e.groups).forEach(function(i){var o=e.groups[i],t;r[i]={};if(o.payload){["tiles","links"].forEach(function(e){r[i][e]={};if(Array.isArray(o.payload[e])){t=o.payload[e];t.forEach(function(o,t){var a;if(o&&o.id){a=o.id;r[i][e][a]={iIndex:t,sItemId:o}}})}})}})}}return r};a.prototype._getExtractHelperObject=function(e,r,i){var o=null;o={};o.oHashedItemsOriginal=this._getHashedItemsFromSite(e)||{};o.oHashedItemsPersonalized=this._getHashedItemsFromSite(r);o.oPersonalizationDelta=i;return o};a.prototype._extractFromOriginalSiteOneGroup=function(e,r,i,o){var t=false,a,s,p,n="movedTiles";o=o||"tiles";if(o!=="tiles"){n="movedLinks"}p=function(e,r){s[e]=s[e]?s[e]:{};s[e].fromGroup=r;s[e].toGroup=null};if(r&&r.oHashedItemsPersonalized&&r.oPersonalizationDelta&&e&&e.groups&&e.groups[i]&&e.groups[i].payload&&Array.isArray(e.groups[i].payload[o])){a=e.groups[i].payload[o];r.oPersonalizationDelta[n]=r.oPersonalizationDelta[n]?r.oPersonalizationDelta[n]:{};s=r.oPersonalizationDelta[n];if(r.oHashedItemsPersonalized[i]){a.forEach(function(e){if(!r.oHashedItemsPersonalized[i][o][e.id]){p(e.id,i)}});t=true}else{a.forEach(function(e){p(e.id,i)});t=true}}return t};a.prototype._extractPersonalizationDeltaForTile=function(e,r,i,a){var s=t.get(["oHashedItemsOriginal",i,a,e.id,"sItemId"],r);if(!s){return false}var p={};if(e.title!==s.title){p.title=e.title}if(e.subTitle!==s.subTitle){p.subTitle=e.subTitle}if(e.info!==s.info){p.info=e.info}if(e.displayFormatHint!==s.displayFormatHint&&!(e.displayFormatHint==="default"&&!s.displayFormatHint)){p.displayFormatHint=e.displayFormatHint}if(o(p)){return false}if(!r.oPersonalizationDelta.modifiedTiles){r.oPersonalizationDelta.modifiedTiles={}}var n=r.oPersonalizationDelta.modifiedTiles;p.id=e.id;n[e.id]=p;return true};a.prototype._extractFromPersonalizedSiteOneGroup=function(r,i,o,t){var a=false,s,p,n=false,l,u=this,d="movedTiles";t=t||"tiles";if(t!=="tiles"&&t!=="links"){return a}if(t!=="tiles"){d="movedLinks"}if(i&&i.oPersonalizationDelta&&r&&r.groups&&r.groups[o]&&r.groups[o].payload&&Array.isArray(r.groups[o].payload[t])){l=r.groups[o].payload[t];i.oPersonalizationDelta[d]=i.oPersonalizationDelta[d]?i.oPersonalizationDelta[d]:{};s=i.oPersonalizationDelta[d];p=[];l.forEach(function(r,a){if(!r){return}p.push(r.id);if(i.oHashedItemsOriginal[o]&&i.oHashedItemsOriginal[o][t][r.id]){if(s[r.id]){e.error("Extract personalization failed","The Tile ID "+r.id+" is not unique in the site","PersonalizationProcessor");delete s[r.id]}if(i.oHashedItemsOriginal[o][t][r.id].iIndex!==a){n=true}u._extractPersonalizationDeltaForTile(r,i,o,t)}else{n=true;if(s[r.id]){if(s[r.id].fromGroup&&s[r.id].fromGroup!==o){if(!s[r.id].toGroup){s[r.id].toGroup=o;u._extractPersonalizationDeltaForTile(r,i,s[r.id].fromGroup,t)}}}else{s[r.id]={};s[r.id].fromGroup=null;s[r.id].toGroup=o;s[r.id].item=r}}});if(n){i.oPersonalizationDelta.groups=i.oPersonalizationDelta.groups||{};i.oPersonalizationDelta.groups[o]=i.oPersonalizationDelta.groups[o]||{};i.oPersonalizationDelta.groups[o].payload=i.oPersonalizationDelta.groups[o].payload||{};if(t==="tiles"){i.oPersonalizationDelta.groups[o].payload.tileOrder=p}else{i.oPersonalizationDelta.groups[o].payload.linkOrder=p}}a=true}return a};a.prototype._cleanupRemovedGroups=function(e,r){var i,o;if(r.removedGroups&&r&&Array.isArray(r.removedGroups)&&r.removedGroups.length>0){r.removedGroups.forEach(function(t){if(e&&e.groups&&e.groups[t]&&e.groups[t].payload){[{sType:"tiles",sPersonalizationDeltaType:"movedTiles"},{sType:"links",sPersonalizationDeltaType:"movedLinks"}].forEach(function(a){if(Array.isArray(e.groups[t].payload[a.sType])){i=e.groups[t].payload[a.sType];i.forEach(function(e){if(r[a.sPersonalizationDeltaType]){o=r[a.sPersonalizationDeltaType][e.id];if(o&&o.fromGroup&&o.fromGroup===t&&!o.toGroup){delete r[a.sPersonalizationDeltaType][e.id]}}})}})}})}};a.prototype._setItemOrderOnSiteCollection=function(e,r){var i=true,o=e.length,t,a={},s,p,n,l;if(!Array.isArray(e)||!Array.isArray(e)||e.length!==r.length){return false}t=e.splice(0,e.length);for(s=0;s<r.length;s++){n=r[s];p=t.shift();if(p&&n===p.id){e.push(p)}else if(a[n]){e.push(a[n]);delete a[n];if(p){a[p.id]=p}}else if(p){a[p.id]=p;l=false;while(t.length>0){p=t.shift();if(n===p.id){e.push(p);l=true;break}else{a[p.id]=p}}if(!l){i=false}}}if(e.length!==o){i=false}return i};a.prototype._setItemOrderOnSiteGroupForItemType=function(e,r,i){var o=true,t,a;if(i==="tiles"||i==="links"){a=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(r.payload&&Array.isArray(r.payload[a])&&r.payload[a].length>0){if(e.payload&&Array.isArray(e.payload[i])&&e.payload[i].length>0){t=this._setItemOrderOnSiteCollection(e.payload[i],r.payload[a]);if(!t){o=false}}else{o=false}}return o};a.prototype._setItemOrderOnSite=function(e,r){var i=true,o,t=this;if(e.groups&&r.groups){Object.keys(r.groups).forEach(function(a){if(r.groups[a]&&e.groups[a]){o=t._setItemOrderOnSiteGroupForItemType(e.groups[a],r.groups[a],"tiles");if(!o){i=false}o=t._setItemOrderOnSiteGroupForItemType(e.groups[a],r.groups[a],"links");if(!o){i=false}}})}return i};a.prototype._applyMoveItemsWithoutOrder=function(e,r,i){var t=true,a,s,p="tileOrder",n,l,u,d=[],f=this;function y(o,t){var a=true;if(e.groups[t]&&e.groups[t].payload&&r.groups&&r.groups[t]&&r.groups[t].payload&&Array.isArray(r.groups[t].payload[p])&&r.groups[t].payload[p].length>0){if(!Array.isArray(e.groups[t].payload[i])){e.groups[t].payload[i]=[]}e.groups[t].payload[i].push(o)}else{a=false}return a}if(i==="tiles"||i==="links"){s=i==="tiles"?"movedTiles":"movedLinks";p=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(!e||!e.groups||!e.site||!e.site.payload||!Array.isArray(e.site.payload.groupsOrder)||!r){return false}if(r[s]){Object.keys(r[s]).forEach(function(p){n=r[s][p];if(n.fromGroup){if(n.toGroup){if(n.fromGroup!==n.toGroup){if(e.groups[n.fromGroup]&&e.groups[n.fromGroup].payload&&Array.isArray(e.groups[n.fromGroup].payload[i])){d=e.groups[n.fromGroup].payload[i];l=f._getItemIndex(d,p);if(l>=0){u=d.splice(l,1);a=y(u[0],n.toGroup);if(!a){t=false}}else{t=false}}else{t=false}}else{t=false}}else if(e.groups[n.fromGroup]&&e.groups[n.fromGroup].payload&&Array.isArray(e.groups[n.fromGroup].payload[i])){d=e.groups[n.fromGroup].payload[i];l=f._getItemIndex(d,p);if(l>=0){d.splice(l,1)}else{t=false}}else{t=false}}else if(n.toGroup){if(n.item&&!o(n.item)){a=y(n.item,n.toGroup);if(!a){t=false}}else{t=false}}else{t=false}})}return t};a.prototype._applyItemChanges=function(e,r){var i=true,o;o=this._applyMoveItemsWithoutOrder(e,r,"tiles");if(!o){i=false}o=this._applyMoveItemsWithoutOrder(e,r,"links");if(!o){i=false}if(r.groups){o=this._setItemOrderOnSite(e,r);if(!o){i=false}}return i};return a});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CommonDataModel/SiteConverter", ["sap/base/Log"],function(e){"use strict";var i=function(){};i.prototype.convertTo=function(i,t){if(t._version==="3.0.0"||t.identification&&t.payload){switch(i){case"3.0.0":return this._convertPageToSite(t);case"3.1.0":return this._convertSiteToPage(t);default:e.error("The received version for the site/page conversion is not supported");return{}}}else{e.error("The site converter did not receive a correct page/site object.");return{}}};i.prototype._convertPageToSite=function(e){var i={groups:{},_version:"3.0.0",site:{identification:e.identification,payload:{groupsOrder:e.payload.layout.sectionOrder}}};var t=e.payload.sections;for(var o=0;o<Object.keys(t).length;o++){var r=Object.keys(t)[o];var a=e.payload.sections[r];i.groups[r]={identification:{id:a.id,title:a.title},payload:{tiles:this._convertVizPayloadObjectToArray(a)}};if("visible"in a){i.groups[r].identification.isVisible=a.visible}if("preset"in a){i.groups[r].payload.isPreset=a.preset}if("locked"in a){i.groups[r].payload.locked=a.locked}if("default"in a){i.groups[r].payload.isDefaultGroup=a.default}}return i};i.prototype._convertSiteToPage=function(e){var i={identification:e.site.identification,payload:{layout:{sectionOrder:e.site.payload.groupsOrder},sections:{}}};var t=e.groups;var o;var r;var a;for(var n=0;n<Object.keys(t).length;n++){o=Object.keys(t)[n];r=e.groups[o];a=this._createVizPayloadObject(r.payload.tiles);i.payload.sections[o]={id:r.identification.id,title:r.identification.title,layout:a.layout,viz:a.viz};var s=i.payload.sections[o];if("isVisible"in r.identification){s.visible=r.identification.isVisible}if("isPreset"in r.payload){s.preset=r.payload.isPreset}if("locked"in r.payload){s.locked=r.payload.locked}if("isDefaultGroup"in r.payload){s.default=r.payload.isDefaultGroup}}return i};i.prototype._createVizPayloadObject=function(e){var i=[];var t={};var o=e.reduce(function(e,t){i.push(t.id);e[t.id]=t;return e},{});t.layout={vizOrder:i};t.viz=o;return t};i.prototype._convertVizPayloadObjectToArray=function(e){return e.layout.vizOrder.reduce(function(i,t){i.push(e.viz[t]);return i},[])};return i});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig", ["sap/ushell/Config","sap/ushell/System","sap/ushell/services/_ContentExtensionAdapterFactory/FeaturedGroupConfig"],function(e,t,r){"use strict";var a={};var n=[{contentProviderName:"featured",adapter:"sap.ushell.adapters.cdm.v3.StaticGroupsAdapter",configSwitch:"/core/home/featuredGroup/enable",system:{alias:"",platform:"cdm"},configHandler:function(){var t=e.last("/core/shell/enableRecentActivity")&&e.last("/core/shell/model/currentState/showRecentActivity"),a=t&&e.last("/core/home/featuredGroup/frequentCard"),n=t&&e.last("/core/home/featuredGroup/recentCard");return r.getMockAdapterConfig(a,n)}}];a._getConfigAdapters=function(){n.forEach(function(e){e.system=new t(e.system)});return n};return a});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ContentExtensionAdapterFactory/FeaturedGroupConfig", ["sap/ushell/resources"],function(e){"use strict";var t={},a=e.i18n.getText("featuredGroup.title"),i=e.i18n.getText("recentActivities"),n=e.i18n.getText("frequentActivities"),r=e.i18n.getText("top",4),s={_version:"3.0.0",site:{identification:{version:"3.0",id:"c9dcc1f3-dec0-4db4-91d3-639bf38d91ce",title:"Featured Group",description:"Sample site for featured group cards"},payload:{groupsOrder:["FeaturedGroupCards"]}},catalogs:{},vizTypes:{"sap.ushell.Card":{"sap.app":{id:"sap.ushell.Card",type:"card",applicationVersion:{version:"1.0.0"}},"sap.ui":{deviceTypes:{desktop:true,tablet:true,phone:true}}}},visualizations:{FrequentCard:{vizType:"sap.ushell.Card",businessApp:"fin.cash.bankmaster.manage.BusinessApp",target:{appId:"fin.cash.bankmaster.manage",inboundId:"Bank-manage",parameters:{}},vizConfig:{"sap.flp":{columns:"4",rows:"4"},"sap.app":{id:"FrequentCard",type:"card"},"sap.card":{extension:"module:sap/ushell/ui/cards/FrequentActivitiesExtension",data:{extension:{method:"getData"}},type:"List",header:{title:n,status:{text:r},actions:[{type:"Navigation",parameters:{openUI:"FrequentActivities"}}]},content:{maxItems:4,item:{title:{value:"{Name}"},description:{value:"{Description}"},highlight:"{Highlight}",icon:{src:"{Icon}",label:"icon"},actions:[{type:"Navigation",enabled:"{Enabled}",parameters:{title:"{Name}",url:"{Url}",intentSemanticObject:"{Intent/SemanticObject}",intentAction:"{Intent/Action}",intentAppRoute:"{Intent/AppSpecificRoute}",intentParameters:"{Intent/Parameters}"}}]}}}}},RecentCard:{vizType:"sap.ushell.Card",businessApp:"fin.cash.bankmaster.manage.BusinessApp",target:{appId:"fin.cash.bankmaster.manage",inboundId:"Bank-manage",parameters:{}},vizConfig:{"sap.flp":{columns:"4",rows:"4"},"sap.app":{id:"RecentCard",type:"card"},"sap.card":{extension:"module:sap/ushell/ui/cards/RecentActivitiesExtension",type:"List",data:{extension:{method:"getData"}},header:{title:i,status:{text:r},actions:[{type:"Navigation",parameters:{openUI:"RecentActivities"}}]},content:{maxItems:4,item:{title:{label:"{{title_label}}",value:"{Name}"},description:{label:"{{description_label}}",value:"{Description}"},icon:{src:"{Icon}",label:"icon"},highlight:"{Highlight}",actions:[{type:"Navigation",enabled:"{Enabled}",parameters:{title:"{Name}",url:"{Url}",intentSemanticObject:"{Intent/SemanticObject}",intentAction:"{Intent/Action}",intentAppRoute:"{Intent/AppSpecificRoute}",intentParameters:"{Intent/Parameters}"}}]}}}}}},applications:{},groups:{FeaturedGroupCards:{identification:{id:"FeaturedGroupCards",title:a},contentProvider:"featured",isFeatured:true,payload:{locked:true,tiles:[{id:"frequentCard",vizId:"FrequentCard",contentProvider:"featured"},{id:"recentCard",vizId:"RecentCard",contentProvider:"featured"}],links:[],groups:[]}}},systemAliases:{}};t.getMockAdapterConfig=function(e,t){var a=s.groups.FeaturedGroupCards.payload.tiles,i=s.visualizations;for(var n=0;n<a.length;n++){var r=a[n],p=!e&&r.vizId==="FrequentCard",o=!t&&r.vizId==="RecentCard";if(p||o){delete i[r.vizId];a.splice(n,1);n--}}return s};return t},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CrossApplicationNavigation/utils", ["sap/base/util/ObjectPath","sap/base/Log","sap/ushell/utils/UrlParsing"],function(e,t,r){"use strict";var a={};a.extractGetLinksParameterOptions=function(e){return a.parseGetLinksParameters(e).filter(function(e){return Object.keys(e.options).length>0}).map(function(e){return{name:e.name,options:e.options}})};a.extractGetLinksParameterDefinition=function(e){return a.parseGetLinksParameters(e).reduce(function(e,t){e[t.name]=t.value;return e},{})};a.parseGetLinksParameters=function(e){if(Object.prototype.toString.apply(e)!=="[object Object]"){return[]}var t=JSON.parse(JSON.stringify(e));return Object.keys(t).map(function(e){var r=t[e];var a={};if(Object.prototype.toString.apply(r)==="[object Object]"){r=r.value;delete t[e].value;a=t[e]}return{name:e,value:r,options:a}})};a.safeParseToObject=function(e){try{return JSON.parse(e)}catch(r){t.error("Cannot parse the given string to object",e,"sap.ushell.services.CrossApplicationNavigation")}return null};a.createAppStateFromData=function(e){t.error("Deprecated API call of '_CrossApplicationNavigation.utils.createAppStateFromData'. Please use 'createAppStateFromDataAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");var r=sap.ushell.Container.getService("AppState");var a=r.createEmptyAppState(null);a.setData(e);a.save();return a.getKey()};a.createAppStateFromDataAsync=function(e){return sap.ushell.Container.getServiceAsync("AppState").then(function(t){var r=t.createEmptyAppState(null);r.setData(e);r.save();return r.getKey()})};a.extractParameter=function(n,i){var s;var c=null;if(typeof n==="string"){if(n.indexOf(i+"=")===-1){return{intent:n,data:null}}var p=r.parseShellHash(n);if(!p){return{intent:n,data:null}}c=p.params[i];delete p.params[i];s=r.constructShellHash(p);return{intent:s,data:c}}if(Object.prototype.toString.apply(n)==="[object Object]"){var o=e.get("target.shellHash",n);if(typeof o==="string"){var u=a.extractParameter(o,i);n.target.shellHash=u.intent;return{intent:n,data:u.data}}var l=n.params;if(l&&l[i]){c=typeof l[i]==="string"?[l[i]]:l[i];delete l[i]}return{intent:n,data:c}}t.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:n}};a.addXAppStateFromParameter=function(e,t){var r=a.extractParameter(e,t);var n=r.intent;var i=r.data&&r.data[0];if(!i){return}var s=a.safeParseToObject(i);if(!s){return}var c=a.createAppStateFromData(s);a.injectParameter(n,"sap-xapp-state",c)};a.addXAppStateFromParameterAsync=function(e,t){var r=a.extractParameter(e,t);var n=r.intent;var i=r.data&&r.data[0];if(!i){return Promise.resolve()}var s=a.safeParseToObject(i);if(!s){return Promise.resolve()}return a.createAppStateFromDataAsync(s).then(function(e){a.injectParameter(n,"sap-xapp-state",e)})};a.injectParameter=function(t,n,i){if(typeof t==="string"){var s=r.parseShellHash(t);s.params[n]=i;return r.constructShellHash(s)}if(Object.prototype.toString.apply(t)==="[object Object]"){var c=e.get("target.shellHash",t);if(typeof c==="string"){t.target.shellHash=a.injectParameter(c,n,i);return t}if(!t.params){t.params={}}t.params[n]=i}return t};a._injectParameters=function(e){var t=e.inject;var r=e.injectEmptyString||{};var n=e.type;var i=e.args;function s(e,t){return e||e===""&&t}if(n.isPlainObject(i)){if(i.target&&i.target.shellHash){if(typeof i.target.shellHash==="string"){i.target.shellHash=a._injectParameters({inject:t,injectEmptyString:r,type:e.type,args:i.target.shellHash})}return i}var c=Object.keys(t).reduce(function(e,a){var n=t[a];var i=r[a]===true;if(s(n,i)&&typeof e==="string"){var c=new RegExp("[&]"+a);var p=!c.test(e);if(p){var o=e?"&":"";e+=o+a+"="+n}}else if(s(n,i)&&!e.hasOwnProperty(a)){e[a]=n}return e},i.params||{});if(c&&Object.keys(c).length>0){i.params=c}return i}var p=i;if(p){Object.keys(t).forEach(function(e){var a=t[e];var n=r[e]===true;var i=new RegExp("[?&]"+e);var c=!i.test(p);if(s(a,n)&&c){var o=p.indexOf("?")>-1?"&":"?";p+=o+e+"="+a}})}return p};a.injectStickyParameters=function(e){t.error("Deprecated API call of '_CrossApplicationNavigation.utils.injectStickyParameters'. Please use 'injectStickyParametersAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");var r=sap.ushell.Container.getService("AppLifeCycle");return a._injectStickyParameters(e,r)};a.injectStickyParametersAsync=function(e){return sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(t){return a._injectStickyParameters(e,t)})};a._injectStickyParameters=function(e,t){if(!t||Object.keys(t).length<=0){return e.args}var r=t.getCurrentApplication();if(!r||Object.keys(r).length<=0){return e.args}var n=e.appLifeCycle;var i=e.technicalParameters;var s=i.getParameters({sticky:true}).reduce(function(e,t){var a=t.name;var s=r.componentInstance;var c=r.applicationType;var p;if(c==="UI5"){p={}}else{p=n.getCurrentApplication().container}var o=i.getParameterValueSync(a,s,p,c);var u=t.stickyName||a;e[u]=o;return e},{});var c={type:e.type,inject:s,args:e.args};return a._injectParameters(c)};return a});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_MessageBroker/MessageBrokerEngine", ["sap/base/Log","sap/base/util/deepExtend"],function(e,s){"use strict";var n=true,r={},t={},i={},a={};r[window.location.origin]=true;var c=function(){this.setEnabled=function(e){n=e};this.processPostMessage=function(s){if(!n){return Promise.reject()}var r=s.oMessageData,t=r.body,i=s.oMessage,a=i.origin,c=i.source;t.requestId=r.request_id;if(!c){var l="Missing iframe object in PostMessage request";e.error(l,null,"sap.ushell.services.MessageBroker");return Promise.reject(l)}return this._handlePostMessageRequest(t,c,a)};this.connect=function(s){var r;if(!n){return Promise.reject()}if(typeof s!=="string"||!s.length){r="Missing required parameter client id"}else if(i[s]){r="Client is already connected"}else{i[s]=true;return Promise.resolve()}e.error(r,null,"sap.ushell.services.MessageBroker");return Promise.reject(r)};this.disconnect=function(s){var r;if(!n){return Promise.reject()}if(typeof s!=="string"||!s.length){r="Missing required parameter client id"}else if(!i[s]){r="Client is already disconnected"}else{for(var c in t){var l=t[c];for(var o in l){var u=l[o];if(u.clientId===s){l.splice(o,1);break}}}if(a[s]&&a[s].channels.length){this._emitEvent("clientUnsubscribed",s,a[s].channels);delete a[s]}delete i[s];return Promise.resolve()}e.error(r,null,"sap.ushell.services.MessageBroker");return Promise.reject(r)};this.subscribe=function(s,r,c,l,o,u){var d,f="clientSubscribed",h=[],g=false;if(!n){return Promise.reject()}if(typeof s!=="string"||!s.length||!r.length||typeof o!=="object"&&(typeof c!=="function"||typeof l!=="function")){d="Missing required parameter(s)"}else if(!i[s]){d="Client is not connected"}else{for(var v in r){var p=r[v];var b={clientId:s,subscribedChannels:r,messageCallback:c,clientConnectionCallback:l,iframe:o||{},origin:u||"",isUI5:!o};if(!t[p.channelId]){t[p.channelId]=[]}var m=t[p.channelId].find(function(e){return e.clientId===s});if(!m){t[p.channelId].push(b)}if(a[s]){var I=a[s].channels.find(function(e){return e.channelId===p.channelId});if(!I){a[s].channels.push(p)}}}if(!a[s]){g=true;var M={clientId:s,channels:r};a[s]=M;h=Object.values(a).filter(function(e){return e.clientId!==s})}if(Object.keys(a).length>1){this._emitEvent(f,s,r)}if(g){setTimeout(function(){if(h.length){h.forEach(function(e){if(!o){l(f,e.clientId,e.channels)}else{var s={clientId:e.clientId,channels:e.channels,channelId:"sap.ushell.MessageBroker",messageName:f};var n=this._buildPostMessageObject("event",s);this._sendPostMessageToClient(n,o,u,false)}}.bind(this))}}.bind(this),1e3)}return Promise.resolve()}e.error(d,null,"sap.ushell.services.MessageBroker");return Promise.reject(d)};this.unsubscribe=function(s,r){var c;if(!n){return Promise.reject()}if(typeof s!=="string"||!s.length||!Array.isArray(r)||!r.length){c="Missing required parameter(s)";e.error(c,null,"sap.ushell.services.MessageBroker");return Promise.reject(c)}if(!i[s]){c="Client is not connected";e.error(c,null,"sap.ushell.services.MessageBroker");return Promise.reject(c)}for(var l in r){var o=r[l];if(t[o.channelId]){var u=t[o.channelId];for(var d in u){var f=u[d];if(f.clientId===s){var h=a[s].channels;a[s].channels=h.filter(function(e){return e.channelId!==o.channelId});u.splice(d,1);break}}}else{var g="Unknown channel Id: "+o.channelId;e.warning(g,null,"sap.ushell.services.MessageBroker")}}this._emitEvent("clientUnsubscribed",s,r);return Promise.resolve()};this.publish=function(s,r,a,c,l,o){var u,d=[];if(!n){return Promise.reject()}if(!i[r]){u="Client is not connected";e.error(u,null,"sap.ushell.services.MessageBroker");return Promise.reject(u)}if(!t[s]){u="Unknown channel Id: "+s;e.error(u,null,"sap.ushell.services.MessageBroker");return Promise.reject(u)}var f=t[s].find(function(e){return e.clientId===r});if(!f){u="Client is not subscribed to the provided channel";e.error(u,null,"sap.ushell.services.MessageBroker");return Promise.reject(u)}for(var h in l){var g=l[h];if(g==="*"){d=t[s].concat();break}else{var v=t[s].find(function(e){return e.clientId===g});if(v){d.push(this._deepCopy(v))}}}if(d.length){this._sendMessage(d,s,a,c,r,o);return Promise.resolve()}u="Target client(s) not found in the provided channel";e.error(u,null,"sap.ushell.services.MessageBroker");return Promise.reject(u)};this.addAcceptedOrigin=function(s){if(!n){return}if(typeof s==="string"&&s.length>0){r[s]=true}else{e.warning("Missing required parameter sOrigin",null,"sap.ushell.services.MessageBroker")}};this.removeAcceptedOrigin=function(e){if(!n){return}delete r[e]};this.getAcceptedOrigins=function(){if(!n){return}return Object.keys(r)};this.getSubscribedClients=function(){if(!n){return}return this._deepCopy(t)};this._emitEvent=function(e,s,n){var r={};for(var i in t){var a=t[i];for(var c in a){var l=a[c];if(l.clientId!==s&&!r[l.clientId]){var o={clientId:s,channels:n};if(l.isUI5!==false){l.clientConnectionCallback(e,s,n)}else{o.channelId="sap.ushell.MessageBroker";o.messageName=e;var u=this._buildPostMessageObject("event",o);this._sendPostMessageToClient(u,l.iframe,l.origin,false)}r[l.clientId]=true}}}};this._sendMessage=function(e,s,n,r,t,i){for(var a in e){var c=e[a];if(c.clientId!==t){if(c.isUI5!==false){c.messageCallback(t,s,r,i)}else{var l={clientId:t,channelId:s,messageName:r,data:i};var o=this._buildPostMessageObject("request",l);this._sendPostMessageToClient(o,c.iframe,c.origin,false)}}}};this._callApi=function(e,s){return this[e].apply(this,s)};this._handlePostMessageRequest=function(e,s,n){return new Promise(function(r,t){var i,a=false,c=e.clientId,l=e.channelId,o=e.requestId,u=e.messageName,d=e.subscribedChannels,f=e.targetClientIds,h=e.data;var g={connect:[c],disconnect:[c],subscribe:[c,d,null,null,s,n],unsubscribe:[c,d],publish:[l,c,o,u,f,h]};var v={channelId:l,clientId:c,messageName:u,requestId:o};switch(u){case"connect":case"disconnect":case"subscribe":case"unsubscribe":i=u;a=true;break;default:i="publish";break}var p=this._buildPostMessageObject("response",v);this._callApi(i,g[i]).then(function(e){return r({_noresponse_:true})}).catch(function(e){a=false;return t(e)}).finally(function(){if(a){p.body.status="accepted";this._sendPostMessageToClient(p,s,n,false)}}.bind(this))}.bind(this))};this._sendPostMessageToClient=function(e,s,n,r){return new Promise(function(t,i){sap.ui.require(["sap/ushell/components/applicationIntegration/application/Application"],function(a){a.postMessageToIframeObject(e,s,n,r).then(t,i)})})};this._buildPostMessageObject=function(e,s){function n(e,s){var n=Date.now().toString();return{type:"request",request_id:n,service:e,body:s}}function r(e,s,n,r){return{type:"response",request_id:s,service:e,status:r?"success":"error",body:n}}var t="sap.ushell.services.MessageBroker",i={request:{channelId:s.channelId,clientId:s.clientId,messageName:s.messageName},response:{channelId:s.channelId,clientId:s.clientId,correlationMessageId:s.requestId,messageName:s.messageName},event:{channelId:s.channelId,clientId:s.clientId,messageName:s.messageName}};switch(e){case"event":i.event.channels=s.channels;break;case"request":if(s.data){i[e].data=s.data}break}var a={request:[t,i.request],response:[t,s.requestId,i.response,true],event:[t,i.event]};var c=e==="response"?r:n;return c.apply(this,a[e])};this._buildFunctionName=function(e,s){s=s.charAt(0).toUpperCase()+s.substring(1);return e+s};this._deepCopy=function(e){return s(e)}};return new c},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_PluginManager/Extensions", ["sap/ushell/services/_PluginManager/HeaderExtensions","sap/ushell/services/_PluginManager/MenuExtensions"],function(e,n){"use strict";var r={Header:i,Menu:s};function s(e){return Promise.resolve(n(e))}function i(){return Promise.resolve(e)}function u(e,n){var s=r[n];if(!s){return Promise.reject("Unsupported extension: '"+n+"'")}return s(e)}return u});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_PluginManager/HeaderExtensions", ["sap/ushell/EventHub"],function(e){"use strict";function t(t,n,r){e.emit("setHeaderCentralAreaElement",{id:t,currentState:n,states:r})}return{setHeaderCentralAreaElement:t}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_PluginManager/MenuExtensions", [],function(){"use strict";function n(n){return function e(r){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getEntryProvider(n,r)})}}return function(e){return{getMenuEntryProvider:n(e)}}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Ui5ComponentLoader/utils", ["sap/base/Log","sap/base/util/deepExtend","sap/base/util/UriParameters","sap/ui/core/Component","sap/ui/core/util/AsyncHintsHelper","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/bootstrap/common/common.load.core-min"],function(e,a,t,r,n,jQuery,s,i){"use strict";function o(e,a){var t=new jQuery.Deferred;e.componentData=a;if(e.manifest===undefined){e.manifest=false}else if(a.technicalParameters&&a.technicalParameters.hasOwnProperty("sap-ui-fl-version")){if(typeof e.manifest==="string"&&e.manifest.length>0){var n=new s(e.manifest);n.addQuery("version",a.technicalParameters["sap-ui-fl-version"][0]);e.manifest=n.toString()}}r.create(e).then(function(e){t.resolve(e)},function(e){t.reject(e)});return t.promise()}function p(e){var a=true;if(e.hasOwnProperty("loadCoreExt")){a=e.loadCoreExt}return a}function u(e,a){var t=true;if(e.hasOwnProperty("loadDefaultDependencies")){t=e.loadDefaultDependencies}if(a&&a.hasOwnProperty("loadDefaultDependencies")){t=t&&a.loadDefaultDependencies}return t}function c(e){var a=e.semanticObject||null;var t=e.action||null;if(!a||!t){return null}return"application-"+a+"-"+t+"-component"}function l(e){return e&&e.indexOf("?")>=0}function f(e){var a=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return e.replace(a,"")}function d(e){if(!e){return e}var a=e.indexOf("?");if(a>=0){return e.slice(0,a)}return e}function m(a,t,r,n,s){var i="The issue is most likely caused by application "+a,o="Failed to load UI5 component with properties: '"+s+"'.";if(n){o+=" Error likely caused by:\n"+n}else{o+=" Error: '"+t+"'"}if(r==="parsererror"){i+=", as one or more of its resources could not be parsed"}i+=". Please create a support incident and assign it to the support component of the respective application.";e.error(i,o,a)}function y(e){var a=t.fromURL(e||window.location.href).mParams,r=a["sap-xapp-state"],n=a["sap-xapp-state-data"],s;delete a["sap-xapp-state"];delete a["sap-xapp-state-data"];s={startupParameters:a};if(n){s["sap-xapp-state"]=n}if(r){s["sap-xapp-state"]=r}return s}function h(a,t){if(!Array.isArray(t)){return}t.forEach(function(t){var r=String.prototype.toLowerCase.call(t.severity||"");r=["trace","debug","info","warning","error","fatal"].indexOf(r)!==-1?r:"error";e[r](t.text,t.details,a)})}function v(a){if(!Array.isArray(a)){e.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null}return Promise.all(a.map(function(e){return sap.ui.loader._.loadJSResourceAsync(e)})).catch(function(t){e.error("Ui5ComponentLoader: failed to load bundle resources: ["+a.join(", ")+"]");return Promise.reject(t)})}function x(e,t,r,s,i,o,p,u,c){var l=a({},i);if(!l.asyncHints){l.asyncHints=t?{libs:["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"]}:{}}if(e){l.asyncHints.preloadBundles=l.asyncHints.preloadBundles||[];l.asyncHints.preloadBundles=l.asyncHints.preloadBundles.concat(c)}if(s){l.asyncHints.waitFor=s}if(!l.name){l.name=o}if(p){l.url=d(p)}if(u){l.id=u}if(r&&l.asyncHints){n.modifyUrls(l.asyncHints,f)}return l}function P(e,t,r,n){var s=a({startupParameters:{}},e);if(r){s.config=r}if(n){s.technicalParameters=n}if(l(t)){var i=y(t);s.startupParameters=i.startupParameters;if(i["sap-xapp-state-data"]){s["sap-xapp-state"]=i["sap-xapp-state-data"]}if(i["sap-xapp-state"]){s["sap-xapp-state"]=i["sap-xapp-state"]}}return s}return{constructAppComponentId:c,getParameterMap:y,logAnyApplicationDependenciesMessages:h,logInstantiateComponentError:m,shouldLoadCoreExt:p,shouldLoadDefaultDependencies:u,urlHasParameters:l,removeParametersFromUrl:d,createUi5Component:o,loadBundle:v,createComponentProperties:x,createComponentData:P}},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellHeadItem", ["sap/base/util/ObjectPath","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ushell/library","sap/ushell/resources"],function(e,t,a,i,r,o){"use strict";var n=r.FloatingNumberType;var l=t.extend("sap.ushell.ui.shell.ShellHeadItem",{metadata:{library:"sap.ushell",properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},enabled:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},target:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Accessibility",defaultValue:null},ariaHidden:{type:"boolean",group:"Accessibility",defaultValue:false},ariaHaspopup:{type:"string",group:"Accessibility",defaultValue:""},text:{type:"string",group:"Appearance",defaultValue:null},floatingNumber:{type:"int",group:"Appearance",defaultValue:null},floatingNumberMaxValue:{type:"int",group:"Appearance",defaultValue:999},floatingNumberType:{type:"string",group:"Appearance",defaultValue:n.None}},events:{press:{}}},renderer:{apiVersion:2,render:function(e,t){var i=t.getTarget();e.openStart("a",t);e.attr("tabindex","0");if(i){e.attr("href",i)}e.attr("role",i?"link":"button");var r=t.getAriaLabel();if(r){e.attr("aria-label",r)}var o=t.getAriaHidden();if(o){e.attr("aria-hidden",o)}var n=t.getAriaHaspopup();if(n){e.attr("aria-haspopup",n)}e.attr("aria-describedby",t._oAriaDescribedbyText.getId());if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getFloatingNumber()>0){e.attr("data-counter-content",t.floatingNumberFormatter());e.class("sapUshellShellHeadItmCounter")}e.class("sapUshellShellHeadItm");if(!t.getEnabled()){e.class("sapUshellShellHeadItmDisabled")}if(t.getSelected()){e.class("sapUshellShellHeadItmSel")}var l=t.getText();var s=t.getTooltip_AsString();if(l||s){e.attr("title",s||l)}e.openEnd();e.openStart("span");e.class("sapUshellShellHeadItmCntnt");var u=t.getIcon();var p=a.isIconURI(u)&&a.getIconInfo(u);if(p){e.style("font-family",p.fontFamily);e.openEnd();e.text(p.content)}else{e.openEnd();e.voidStart("img");e.attr("id",t.getId()+"-img-inner");e.attr("src",u);e.voidEnd()}e.close("span");e.close("a")}}});l.prototype.init=function(){this._oAriaDescribedbyText=new i(this.getId()+"-describedby").toStatic();this.addDependent(this._oAriaDescribedbyText)};l.prototype.onBeforeRendering=function(){switch(this.getFloatingNumberType()){case n.None:this._oAriaDescribedbyText.setText("");break;default:var e=this.getFloatingNumber();if(!e){this._oAriaDescribedbyText.setText("")}else{var t=this.getFloatingNumberMaxValue();this._oAriaDescribedbyText.setText(e>t?o.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",t):o.i18n.getText("NotificationToggleButton.NewNotifications",e))}break}};l.prototype.tooltipFormatter=function(e){var t=typeof e!=="undefined"?e:this.getFloatingNumber();var a=this.getFloatingNumberMaxValue();switch(this.getFloatingNumberType()){default:case n.None:return"";case n.Notifications:if(!t){return o.i18n.getText("NotificationToggleButton.NoNewNotifications")}return t>a?o.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",a):o.i18n.getText("NotificationToggleButton.NewNotifications",t);case n.OverflowButton:var i=o.i18n.getText("shellHeaderOverflowBtn_tooltip");if(!t){return i}i+=" ("+(t>a?o.i18n.getText("NotificationToggleButton.NewNotifications.MaxExceeded",a):o.i18n.getText("NotificationToggleButton.NewNotifications",t))+")";return i}};l.prototype.floatingNumberFormatter=function(e){var t=typeof e!=="undefined"?e:this.getFloatingNumber();var a=this.getFloatingNumberMaxValue();return t>a?a+"+":t.toString()};l.prototype.onclick=function(e){if(this.getEnabled()){this.firePress();if(!this.getTarget()){e.preventDefault()}}};l.prototype.onkeyup=function(e){var t=e.originalEvent;var a=t.key;var i=t.shiftKey;if(["Enter"," "].includes(a)&&!i){this.onclick(e)}};e.set("sap.ui.unified.ShellHeadItem",l);return l},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/ShellUIService", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","./_ShellUIService/shelluiservice.class.factory"],function(e,r,c,i){"use strict";return i({serviceRegistry:e,serviceFactory:r,service:c})},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/UserStatus", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/ui/base/EventProvider"],function(e,t,a,r){"use strict";var s={statusChanged:"statusChanged",serviceStateChanged:"serviceStateChanged"};var i=a.extend("sap.ushell.ui5service.UserStatus",{init:function(){i.prototype.isEnabled=false;e.register("sap.ushell.ui5service.UserStatus",new t(i));this.oEventProvider=new r;i.prototype.AvailableStatus={AVAILABLE:"AVAILABLE",AWAY:"AWAY",BUSY:"BUSY",APPEAR_OFFLINE:"APPEAR_OFFLINE"}},exit:function(){this.oEventProvider.destroy()}});i.prototype.setEnabled=function(e){this.oEventProvider.fireEvent(s.serviceStateChanged,{data:e});i.prototype.isEnabled=e;return};i.prototype.setStatus=function(e){if(!i.prototype.isEnabled){throw new Error("Unable to change status because the UserStatus service is disabled.")}if(!i.prototype.AvailableStatus[e]&&e!==null){throw new Error("Enter a valid status.")}this.oEventProvider.fireEvent(s.statusChanged,{data:e})};i.prototype.attachStatusChanged=function(e){this.oEventProvider.attachEvent(s.statusChanged,e)};i.prototype.detachStatusChanged=function(e){this.oEventProvider.detachEvent(s.statusChanged,e)};return i});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/_ShellUIService/shelluiservice.class.factory", ["sap/ui/base/EventProvider","sap/ui/thirdparty/hasher","sap/base/util/isPlainObject","sap/base/util/Version","sap/base/Log","sap/ushell/utils/UrlParsing","sap/ui/core/Configuration"],function(e,t,n,r,i,a,o){"use strict";return function(s){var c=s.serviceRegistry,l=s.serviceFactory,u=s.service;var h;var d=new e;var p={hierarchyChanged:"hierarchyChanged",relatedAppsChanged:"relatedAppsChanged",titleChanged:"titleChanged",backNavigationChanged:"backNavigationChanged"};var v;var f=u.extend("sap.ushell.ui5service.ShellUIService",{init:function(){var e=this,t=this.getInterface();t.init=function(){e._amendPublicServiceInstance.call(e,this)};c.register("sap.ushell.ui5service.ShellUIService",new l(t))},_setActiveComponentId:function(e){v=e},_getActiveComponentId:function(){return v},_shouldEnableAutoHierarchy:function(e){return typeof e.getManifestEntry==="function"&&e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy")==="auto"},_shouldEnableAutoTitle:function(e){return typeof e.getManifestEntry==="function"&&e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle")==="auto"},_enableAutoHierarchy:function(e){var t=this;var n=e.getRouter&&e.getRouter();if(!n){i.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}n.attachTitleChanged(function(e){var n=e.getParameter("history");t.setHierarchy(n.reverse().map(function(e){var n=t._getCurrentShellHashWithoutAppRoute();return{title:e.title,intent:n+"&/"+e.hash}}))})},_enableAutoTitle:function(e){var t=this;var n=e.getRouter&&e.getRouter();if(!n){i.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}var r=n.getTitleHistory()[0];if(r&&r.title){setTimeout(function(){t.setTitle(r.title)},0)}n.attachTitleChanged(function(e){var n=e.getParameter("title");t.setTitle(n)})},_getCurrentShellHashWithoutAppRoute:function(){var e="#"+t.getHash();var n=a.getShellHash(e);if(!n){i.error("Cannot get the current shell hash","UrlParsing service returned a falsy value for "+e,"sap.ushell.ui5service.ShellUIService");return""}return"#"+n},_getEventProvider:function(){return d},_getLastSetTitle:function(){return h},_ensureArrayOfObjectOfStrings:function(e,t){var r=Array.isArray(e)&&e.every(function(e){return n(e)&&Object.keys(e).length>0&&Object.keys(e).every(function(t){return typeof e[t]==="string"})});if(!r){i.error("'"+t+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.ShellUIService")}return r},_ensureFunction:function(e,t){var n=typeof e;if(n!=="function"){i.error("'"+t+"' was called with invalid arguments","the parameter should be a function, got '"+n+"' instead","sap.ushell.ui5service.ShellUIService");return false}return true},_ensureString:function(e,t){var n=typeof e;if(n!=="string"){i.error("'"+t+"' was called with invalid arguments","the parameter should be a string, got '"+n+"' instead","sap.ushell.ui5service.ShellUIService");return false}return true},_addCallAllowedCheck:function(e,t){var n=this;e[t]=function(){var r=e.getContext();if(!r||r.scopeObject.getId()!==v){i.warning("Call to "+t+" is not allowed","This may be caused by an app component other than the active '"+v+"' that tries to call the method","sap.ushell.ui5service.ShellUIService");return undefined}if(t==="setHierarchy"&&r.scopeType==="component"&&r.scopeObject&&n._shouldEnableAutoHierarchy(r.scopeObject)){i.warning("Call to "+t+" is not allowed","The app defines that setHierarchy should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined}if(t==="setTitle"&&r.scopeType==="component"&&r.scopeObject&&n._shouldEnableAutoTitle(r.scopeObject)){i.warning("Call to "+t+" is not allowed","The app defines that setTitle should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined}return n[t].apply(e,arguments)}},_amendPublicServiceInstance:function(e){var t=this,n;n=e.getContext();if(typeof n==="undefined"){return}["setTitle","setHierarchy","setRelatedApps","setBackNavigation"].forEach(function(n){t._addCallAllowedCheck(e,n)});var r=n.scopeObject;if(n.scopeType==="component"&&r){this._setActiveComponentId(r.getId());if(this._shouldEnableAutoHierarchy(r)){this._enableAutoHierarchy(r)}if(this._shouldEnableAutoTitle(r)){this._enableAutoTitle(r)}return}i.error("Invalid context for ShellUIService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.ShellUIService")},setHierarchy:function(e){if(typeof e!=="undefined"&&!f.prototype._ensureArrayOfObjectOfStrings(e,"setHierarchy")){return}var t=this.getContext().scopeObject;d.fireEvent(p.hierarchyChanged,{data:e,component:t})},setTitle:function(e){if(typeof e!=="undefined"&&!f.prototype._ensureString(e,"setTitle")){return}var t=this.getContext().scopeObject,n;h=e;n={data:e,component:t};if(typeof arguments[1]==="boolean"&&arguments[1]){n.bAcceptEmptyString=true}d.fireEvent(p.titleChanged,n)},setBackNavigation:function(e){if(typeof e!=="undefined"&&!f.prototype._ensureFunction(e,"setBackNavigation")){return}var t=this.getContext().scopeObject;d.fireEvent(p.backNavigationChanged,{data:e,component:t})},getTitle:function(){return this._getLastSetTitle()},setRelatedApps:function(e){if(typeof e!=="undefined"&&!f.prototype._ensureArrayOfObjectOfStrings(e,"setRelatedApps")){return}var t=this.getContext().scopeObject;d.fireEvent(p.relatedAppsChanged,{data:e,component:t})},getUxdVersion:function(){if(new r(o.getVersion()).compareTo("1.37.0")>=0){return 2}return 1},_attachHierarchyChanged:function(e){this._getEventProvider().attachEvent(p.hierarchyChanged,e)},_detachHierarchyChanged:function(e){this._getEventProvider().detachEvent(p.hierarchyChanged,e)},_attachTitleChanged:function(e){this._getEventProvider().attachEvent(p.titleChanged,e)},_attachBackNavigationChanged:function(e){this._getEventProvider().attachEvent(p.backNavigationChanged,e)},_detachBackNavigationChanged:function(e){this._getEventProvider().detachEvent(p.backNavigationChanged,e)},_detachTitleChanged:function(e){this._getEventProvider().detachEvent(p.titleChanged,e)},_attachRelatedAppsChanged:function(e){this._getEventProvider().attachEvent(p.relatedAppsChanged,e)},_detachRelatedAppsChanged:function(e){this._getEventProvider().detachEvent(p.relatedAppsChanged,e)}});return f}});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils", ["sap/base/Log","sap/base/util/ObjectPath","sap/base/util/uid","sap/base/util/UriParameters","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/utils/clone","sap/ushell/utils/UrlParsing","sap/ushell/utils/objectOperations","sap/ushell/utils/type","sap/ui/core/Configuration"],function(e,t,r,n,i,jQuery,a,o,s,u,l,c){"use strict";var f={};f.isArray=l.isArray;f.isPlainObject=l.isPlainObject;f.isDefined=l.isDefined;f.clone=o;f.getMember=u.getMember;f.updateProperties=u.updateProperties;f.getNestedObjectProperty=u.getNestedObjectProperty;f.removeDuplicatedActions=function(e){if(Array.isArray(e)){var t=e.reduce(function(e,t){if(e.indexOf(t)<0){e.push(t)}return e},[]);return t}return e};f.storeSapSystemData=function(t,r){var n,i,a,o=[t.id];if(arguments.length>1){o.unshift(r)}try{a=JSON.stringify(t)}catch(t){e.error("Cannot stringify and store expanded system data: "+t)}if(a){i=f.getLocalStorage();n=f.generateLocalStorageKey("sap-system-data",o);i.setItem(n,a)}};f.getLocalSystemInSidFormat=function(){var e=sap.ushell.Container.getLogonSystem(),t=e.getName(),r=e.getClient();return"sid("+t+"."+r+")"};f.matchesLocalSid=function(e){return f.getLocalSystemInSidFormat().toLowerCase()===e.toLowerCase()};f.storeSapSystemToLocalStorage=function(e){var t=(e||{}).params;if(!t||!t.hasOwnProperty("sap-system")){return}if(f.isPlainObject(t["sap-system"])){var r=t["sap-system"],n=t["sap-system-src"];if(typeof n==="string"){f.storeSapSystemData(r,n);t["sap-system-src"]=n}else{f.storeSapSystemData(r)}t["sap-system"]=r.id}else if(f.matchesLocalSid(t["sap-system"])){delete t["sap-system"]}};f.setPerformanceMark=function(e,t){if(performance&&performance.mark){if(!t){t={}}if(t.bUseUniqueMark){if(t.bUseLastMark){performance.clearMarks(e)}else if(performance.getEntriesByName(e,"mark").length>0){return}}performance.mark(e)}};f.setPerformanceMeasure=function(e,t,r){if(performance&&performance.measure&&t&&r){performance.measure(e,t,r)}};f.Error=function(t,r){this.name="sap.ushell.utils.Error";this.message=t;e.error(t,null,r)};f.Error.prototype=new Error;f.localStorageSetItem=function(t,r,n){var i;try{localStorage.setItem(t,r);if(n){i=document.createEvent("StorageEvent");i.initStorageEvent("storage",false,false,t,"",r,"",localStorage);dispatchEvent(i)}}catch(t){e.warning("Error calling localStorage.setItem(): "+t,null,"sap.ushell.utils")}};f.getLocalStorage=function(){return window.localStorage};f.getLocalStorageItem=function(e){return window.localStorage.getItem(e)};f.generateUniqueId=function(e){var t,r,n;if(Array.isArray(e)){r=e;n=function(e){return r.indexOf(e)===-1}}else{n=e}do{t=f._getUid()}while(!n(t));return t};f._getUid=function(){return r()};f.reload=function(){location.reload()};f.calculateOrigin=function(e){var t;if(e.origin){return e.origin}if(e.protocol&&e.hostname){return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")}if(e.href){t=new a(e.href);return t.protocol()+"://"+t.hostname()+(t.port()?":"+t.port():"")}return undefined};f.getPrivateEpcm=function(){if(window.external&&window.external&&typeof window.external.getPrivateEpcm!=="undefined"){return window.external.getPrivateEpcm()}return undefined};f.hasNativeNavigationCapability=function(){return f.isFeatureBitEnabled(1)};f.getShellType=function(){return f.isFeatureBitEnabled(1)?"NWBC":"FLP"};f.hasNativeLogoutCapability=function(){return f.isFeatureBitEnabled(2)};f.hasNavigationModeCapability=function(){return f.isFeatureBitEnabled(4)};f.hasFLPReadyNotificationCapability=function(){return f.isFeatureBitEnabled(8)};f.hasFLPReady2NotificationCapability=function(){return f.isFeatureBitEnabled(16)};f.isFeatureBitEnabled=function(t){var r="0",n;n=f.getPrivateEpcm();if(n){try{r=n.getNwbcFeatureBits();e.debug("Detected epcm getNwbcFeatureBits returned feature bits: "+r)}catch(t){e.error("failed to get feature bit vector via call getNwbcFeatureBits on private epcm object",t.stack,"sap.ushell.utils")}}return(parseInt(r,16)&t)>0};f.isApplicationTypeEmbeddedInIframe=function(e){return e==="NWBC"||e==="TR"||e==="WCF"};f.appendSapShellParam=function(e,t){var r=t==="TR"?"":"-NWBC",n=f.getUi5Version();if(n){e+=e.indexOf("?")>=0?"&":"?";e+="sap-shell="+encodeURIComponent("FLP"+n+r)}return e};function p(e){var t=/\d+\.\d+\.\d+/.exec(e);if(t&&t[0]){return t[0]}return undefined}f.getUi5VersionAsync=function(){return new Promise(function(t,r){sap.ui.require(["sap/ui/VersionInfo"],function(r){r.load().then(function(e){t(p(e.version))}).catch(function(){e.error("sap ui version could not be determined, using Configuration.getVersion() (core version) as fallback");t(p(c.getVersion()))})})})};f.getUi5Version=function(){var t;try{t=sap.ui.getVersionInfo().version}catch(r){e.error("sap ui version could not be determined, using Configuration.getVersion() (core version) as fallback "+r);t=c.getVersion()}return p(t)};f.isNativeWebGuiNavigation=function(e){var r=t.get("applicationType",e);var n=t.get("appCapabilities.nativeNWBCNavigation",e);if(this.hasNativeNavigationCapability()&&(r==="TR"||n)){return true}return false};f.Map=function(){this.entries={}};f.Map.prototype.put=function(e,t){var r=this.get(e);this.entries[e]=t;return r};f.Map.prototype.containsKey=function(e){if(typeof e!=="string"){throw new f.Error("Not a string key: "+e,"sap.ushell.utils.Map")}return Object.prototype.hasOwnProperty.call(this.entries,e)};f.Map.prototype.get=function(e){if(this.containsKey(e)){return this.entries[e]}};f.Map.prototype.keys=function(){return Object.keys(this.entries)};f.Map.prototype.remove=function(e){delete this.entries[e]};f.Map.prototype.toString=function(){var e=["sap.ushell.utils.Map("];e.push(JSON.stringify(this.entries));e.push(")");return e.join("")};f.getParameterValueBoolean=function(e,t){var r=n.fromQuery(t||window.location.search),i=r.getAll(e),a=["true","x"],o=["false",""],s;if(!i||i.length===0){return undefined}s=i[0].toLowerCase();if(a.indexOf(s)>=0){return true}if(o.indexOf(s)>=0){return false}return undefined};f.call=function(t,r,n){var i;if(n){setTimeout(function(){f.call(t,r,false)},0);return}try{t()}catch(t){i=t.message||t.toString();e.error("Call to success handler failed: "+i,t.stack,"sap.ushell.utils");if(r){r(i)}}};f.handleTilesVisibility=function(){f.getVisibleTiles()};f.refreshTiles=function(){sap.ui.getCore().getEventBus().publish("launchpad","refreshTiles")};f.setTilesNoVisibility=function(){sap.ui.getCore().getEventBus().publish("launchpad","setTilesNoVisibility")};f.getBasicHash=function(t){if(!f.validHash(t)){e.debug("Utils ; getBasicHash ; Got invalid hash");return false}var r=s.parseShellHash(t);return r?r.semanticObject+"-"+r.action:t};f.validHash=function(e){return e&&e.constructor===String&&e.trim()!==""};f.getFormFactor=function(){var e=i.system;if(e.desktop){return e.SYSTEMTYPE.DESKTOP}if(e.tablet){return e.SYSTEMTYPE.TABLET}if(e.phone){return e.SYSTEMTYPE.PHONE}return undefined};f.getVisibleTiles=function(){var e=document.body.clientHeight;var t=sap.ui.getCore().byId("dashboardGroups");var r=sap.ui.getCore().byId("viewPortContainer");var n=0;var i=[];var a=[];var o=sap.ui.getCore().getEventBus();var s,u,l,c,p,d,g,h,m,y,v,b,w,S,E,C,T;if(window.document.hidden){o.publish("launchpad","onHiddenTab")}if(t&&t.getGroups()&&r){b=jQuery(t.getDomRef());w=b?b.is(":visible"):false;S=t.getGroups();for(s=0;s<S.length;s=s+1){c=S[s];p=c.getTiles();d=c.getLinks();E=[p,d];for(l=0;l<E.length;l++){C=E[l];if(C){for(u=0;u<C.length;u++){g=C[u];if(!w||window.document.hidden){i.push(g)}else{h=jQuery(g.getDomRef());m=h.offset();if(m){y=h.offset().top;v=y+h.height();T=c.getVisible()&&v>n-300&&y<e+300;if(T){a.push({oTile:f.getTileModel(g),iGroup:s,bIsExtanded:!(v>n)||!(y<e)})}else if(a.length>0){o.publish("launchpad","visibleTilesChanged",a);return i}i.push(g)}}}}}}}if(a.length>0){o.publish("launchpad","visibleTilesChanged",a)}return i};f.getTileModel=function(e){var t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject():null};f.getTileObject=function(e){var t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject().object:null};f.recalculateBottomSpace=function(){var e=jQuery("#dashboardGroups").find(".sapUshellTileContainer:visible"),t=e.last(),r=jQuery(".sapUshellShellHead > header").height(),n=t.parent().height(),i=parseInt(t.find(".sapUshellContainerTitle").css("margin-top"),10),a=parseInt(jQuery(".sapUshellDashboardGroupsContainer").css("padding-bottom"),10),o;if(e.length===1){o=0}else{o=jQuery(window).height()-r-n-i-a;o=o<0?0:o}jQuery(".sapUshellDashboardGroupsContainer").css("margin-bottom",o+"px")};f.calcVisibilityModes=function(e,t){var r=true,n=true,a=e.pendingLinks&&e.pendingLinks.length?e.pendingLinks:e.links,o=f.groupHasVisibleTiles(e.tiles,a);if(!o&&(!t||e.isGroupLocked||e.isDefaultGroup||i.system.phone||i.system.tablet&&!i.system.desktop)){r=false}if(!o&&!t){n=false}return[r,n]};f.groupHasVisibleTiles=function(e,t){var r=false,n,i,a=!e?[]:e,o=!t?[]:t;a=a.concat(o);if(!a.length){return false}for(n=0;n<a.length;n=n+1){i=a[n];if(i.isTileIntentSupported){r=true;break}}return r};f.invokeUnfoldingArrayArguments=function(t,r){var n=this,i,a,o,s,u;if(!Array.isArray(r[0])){return t.apply(this,r)}i=r[0];if(i.length===0){return(new jQuery.Deferred).resolve([]).promise()}a=new jQuery.Deferred;o=[];s=[];u=(new jQuery.Deferred).resolve();i.forEach(function(r,i){if(!Array.isArray(r)){var a="Expected Array as nTh Argument of multivalue invocation: "+"first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : "+"multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]";e.error(a);throw new Error(a)}var l=t.apply(n,r),c=new jQuery.Deferred;l.done(function(){var e=Array.prototype.slice.call(arguments);s[i]=e;c.resolve()}).fail(c.reject.bind(c));o.push(c.promise());u=jQuery.when(u,c)});jQuery.when.apply(jQuery,o).done(function(){a.resolve(s)}).fail(function(){a.reject("failure")});return a.promise()};f._getCurrentDate=function(){return new Date};f._convertToUTC=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};f.formatDate=function(e){var t,r,n,i,a,o;var s=sap.ui.require("sap/ushell/resources");if(!s){throw new Error("sap/ushell/resources was not required before utils.formatDate usage!")}t=f._convertToUTC(new Date(e));r=f._convertToUTC(f._getCurrentDate());n=r-t;i=parseInt(n/(1e3*60*60*24),10);if(i>0){if(i===1){return s.i18n.getText("time_day",i)}return s.i18n.getText("time_days",i)}a=parseInt(n/(1e3*60*60),10);if(a>0){if(a===1){return s.i18n.getText("time_hour",a)}return s.i18n.getText("time_hours",a)}o=parseInt(n/(1e3*60),10);if(o>0){if(o===1){return s.i18n.getText("time_minute",o)}return s.i18n.getText("time_minutes",o)}return s.i18n.getText("just_now")};f.toExternalWithParameters=function(e,t,r){return Promise.all([sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("CrossApplicationNavigation")]).then(function(n){var i=n[0];var a=n[1];var o={};var s=t.split("&/");if(s.length>1){o.appSpecificRoute="&/"+s[1]}o.target={semanticObject:e,action:s[0]};if(r&&r.length>0){o.params={};r.forEach(function(e){o.params[e.Key]=e.Value})}return a.toExternal({target:{shellHash:i.constructShellHash(o)}})})};f.moveElementInsideOfArray=function(e,t,r){if(!f.isArray(e)||t===undefined||r===undefined){throw new Error("Incorrect input parameters passed")}if(t>=e.length||r>=e.length||r<0||t<0){throw new Error("Index out of bounds")}var n=e.splice(t,1)[0];e.splice(r,0,n);return e};f.shallowMergeObject=function(e){return Array.prototype.slice.call(arguments,1,arguments.length).map(function(e){return{sourceObject:e,properties:Object.keys(e)}}).reduce(function(e,t){t.properties.forEach(function(r){e[r]=t.sourceObject[r]});return e},e)};f.getLocationHref=function(){return window.location.href};f.getLocationSearch=function(){return window.location.search};f.windowLocationReload=function(){window.location.reload(true)};f.windowLocationAssign=function(e){window.location.assign(e)};f.generateLocalStorageKey=function(e,t){var r=t.length;if(r===0){throw new Error("At least one id should be provided when generating the local storage key")}var n="$";if(r===2){n="#"}else if(r>2){n="@"+r+"@"}return e+n+t.join(":")};f.urlParametersToString=function(e,t,r){return s.privparamsToString(e,t,r)};f.isRootIntent=function(e){if(typeof e!=="string"){throw new Error("The given intent must be a string")}var r="renderers.fiori2.componentData.config.rootIntent";var n=t.get(r,window["sap-ushell-config"])||"#Shell-home";var i=n.replace("#","");var a=e.replace("#","");return a===""||a===i};f.isFlpHomeIntent=function(e){if(!e){e=window.location.hash;if(!e){e=t.get("renderers.fiori2.componentData.config.rootIntent",window["sap-ushell-config"])||"Shell-home"}}else if(typeof e!=="string"){throw new Error("The given intent must be a string")}var r=e.replace("#","");return r.indexOf("Shell-home")===0||r.indexOf("Launchpad-openFLPPage")===0||r.indexOf("Launchpad-openWorkPage")===0};f.generateRandomKey=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var t="";var r=new window.Uint32Array(40);window.crypto.getRandomValues(r);var n=function(t){var n=r[t]%e.length;return e[n]};while(t.length<40){t+=n(t.length)}return t};f.copyToClipboard=function(e){var t;var r=document.createElement("textarea");try{r.contentEditable=true;r.readonly=false;r.textContent=e;document.documentElement.appendChild(r);r.select();document.execCommand("copy");t=true}catch(e){t=false}finally{r.parentNode.removeChild(r)}return t};f._getUserSettingPersContainer=function(){return sap.ushell.Container.getServiceAsync("Personalization").then(function(e){var t={container:"sap.ushell.usersettings.personalization",item:"data"};var r={validity:"Infinity",keyCategory:e.constants.keyCategory.GENERATED_KEY,writeFrequency:e.constants.writeFrequency.HIGH,clientStorageAllowed:false};return e.getPersonalizer(t,r)})};f.getHideEmptySpacesEnabled=function(){return new Promise(function(e){sap.ui.require(["sap/ushell/Config"],function(t){e(t)})}).then(function(e){var t=e.last("/core/spaces/hideEmptySpaces/enabled");if(!t){return Promise.resolve(false)}return f._getUserSettingPersContainer().then(function(e){return new Promise(function(t,r){e.getPersData().done(t).fail(r)})}).then(function(t){var r=(t||{}).hideEmptySpaces!==false;if(e.last("/core/spaces/hideEmptySpaces/userEnabled")!==r){e.emit("/core/spaces/hideEmptySpaces/userEnabled",r)}return r})})};f.setHideEmptySpacesEnabled=function(e){return new Promise(function(e){sap.ui.require(["sap/ushell/Config"],function(t){e(t)})}).then(function(t){var r=t.last("/core/spaces/hideEmptySpaces/enabled");if(!r){return Promise.resolve()}return f._getUserSettingPersContainer().then(function(r){return new Promise(function(e,t){r.getPersData().done(e).fail(t)}).then(function(n){n=n||{};var i=n.hideEmptySpaces!==false;if(i===!!e){return Promise.resolve()}n.hideEmptySpaces=e;return new Promise(function(e,t){r.setPersData(n).done(e).fail(t)}).then(function(){t.emit("/core/spaces/hideEmptySpaces/userEnabled",e)})})})})};f.sanitizeTimeoutDelay=function(e){if(typeof e!=="number"){throw new Error("Invalid type! Expected type 'number'.")}var t=2147483647;return e>t?t:e};return f},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/HttpClient", ["sap/ui/core/Configuration","sap/ui/thirdparty/URI","sap/ushell/utils"],function(e,t,s){"use strict";var r=function(e,s){this._oOngoingRequests={};this._oCSRFTokens={};this._oDefaultOptions={headers:s&&s.headers||{}};if(typeof e==="string"){this._oBasePath=new t(e)}else{this._oDefaultOptions={headers:e&&e.headers||{}}}};r.prototype.get=function(e,t){return this._executeRequest("GET",e,t)};r.prototype.put=function(e,t){return this._executeRequest("PUT",e,t)};r.prototype.post=function(e,t){return this._executeRequest("POST",e,t)};r.prototype.patch=function(e,t){return this._executeRequest("PATCH",e,t)};r.prototype.delete=function(e,t){return this._executeRequest("DELETE",e,t)};r.prototype.options=function(e,t){return this._executeRequest("OPTIONS",e,t)};r.prototype.abortAll=function(){Object.keys(this._oOngoingRequests).forEach(function(e){this._oOngoingRequests[e].abort()}.bind(this))};r.prototype._executeRequest=function(r,o,n){var i=new Error("The provided resource path is not a valid URL.");var a={};var u=e.getStatisticsEnabled();if(u){a["sap-statistics"]=u}try{var h;var c=new t(o);if(!c.is("url")){return Promise.reject(i)}if(this._oBasePath){h=c.absoluteTo(this._oBasePath)}else{h=c}var d=new XMLHttpRequest;d._sapUshellHttpClientId=s.generateUniqueId(Object.keys(this._oOngoingRequests));this._oOngoingRequests[d._sapUshellHttpClientId]=d;var f=Object.assign({},a,this._oDefaultOptions.headers,n&&n.headers);return this._getCSRFTokenHeader(r,h).then(function(e){Object.assign(f,e);return new Promise(function(e,t){var s=h.href();d.onload=this._onLoad.bind(this,e,t,{xhr:d,method:r,url:s,data:n});d.onerror=function(){t.call(this,this._getFormattedResponse(d))}.bind(this);d.onabort=function(){d.bAborted=true;t.call(this,this._getFormattedResponse(d))}.bind(this);d.onloadend=function(){delete this._oOngoingRequests[d._sapUshellHttpClientId]}.bind(this);d.open(r,s);Object.keys(f).forEach(function(e){d.setRequestHeader(e,f[e])});var o=n&&n.data||"";if(typeof o!=="string"){o=JSON.stringify(o)}d.send(o)}.bind(this))}.bind(this))}catch(e){return Promise.reject(i)}};r.prototype._getCSRFTokenHeader=function(e,t){var s="",r="";switch(e){case"HEAD":case"GET":case"OPTIONS":return Promise.resolve({"x-csrf-token":"fetch"});case"POST":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}r=t.href();if(this._oBasePath){r=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("HEAD",r).then(function(e){var t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}}.bind(this));case"PATCH":case"PUT":case"DELETE":s=this._getCSRFTokenKey(t);if(this._oCSRFTokens[s]){return Promise.resolve({"x-csrf-token":this._oCSRFTokens[s]})}r=t.href();if(this._oBasePath){r=this._oBasePath.origin()+this._oBasePath.directory()}return this._executeRequest("OPTIONS",r).then(function(e){var t=this._getCSRFTokenFromHeader(e.responseHeaders);if(!t){throw new Error("CSRF Token couldn't be fetched.")}return{"x-csrf-token":t}}.bind(this));default:return Promise.resolve({})}};r.prototype._onLoad=function(e,s,r){var o=this._getFormattedResponse(r.xhr);var n=this._getCSRFTokenFromHeader(o.responseHeaders);if(n){var i=this._getCSRFTokenKey(new t(r.url));if(n.toLowerCase()==="required"&&o.status===403){delete this._oCSRFTokens[i];return this._executeRequest(r.method,r.url,r.data).then(e).catch(s)}this._oCSRFTokens[i]=n}if(o.status>=200&&o.status<300){return e(o)}return s(o)};r.prototype._getCSRFTokenKey=function(e){if(this._oBasePath){return this._oBasePath.origin()+this._oBasePath.directory()}return e.origin()+e.directory()};r.prototype._getCSRFTokenFromHeader=function(e){var t=e.filter(function(e){return e.name==="x-csrf-token"})[0];return t&&t.value};r.prototype._getFormattedResponse=function(e){return{aborted:e.bAborted||false,status:e.status,statusText:e.statusText,responseText:e.responseText,responseHeaders:e.getAllResponseHeaders().split(/\r\n/g).filter(function(e){return e.length>0}).map(function(e){var t=e.split(":");return{name:t[0].trim(),value:t[1].trim()}})}};return r},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlParsing", ["sap/ui/thirdparty/URI","sap/base/util/UriParameters","sap/base/Log"],function(e,t,n){"use strict";function r(){}var a=/^(([A-Za-z0-9_/]+)-([A-Za-z0-9_/-]+)(~([A-Z0-9a-z=+/]+))?)?([?]([^&]|(&[^/]))*&?)?$/;r.getShellHash=function(e){var t=/[^#]*#(([^&]|&[^/])*)(&\/.*)?/,n=t.exec(e);if(n){return n[1]}return undefined};r.getHash=function(e){var t=/#(.*)/,n=t.exec(e);if(n){return n[1]}return undefined};r.isIntentUrl=function(e){return this._isIntentUrl(e,window.location.href)};r.isIntentUrlAsync=function(e){return new Promise(function(e,t){sap.ushell.Container.getFLPUrlAsync(true).done(e).fail(t)}).then(function(t){return this._isIntentUrl(e,t)}.bind(this))};r._isIntentUrl=function(t,n){var a=/^#/,i,s,o,u,p,c;if(typeof t!=="string"){return false}if(!a.test(t)){i=new e(t).normalize();o=i.protocol()+"://"+i.host()+i.pathname();s=new e(n).normalize();u=s.protocol()+"://"+s.host()+s.pathname();if(o!==u){return false}}p=r.getHash(t);if(!p){return false}c=r.parseShellHash(p);if(c&&c.semanticObject&&c.action){return true}return false};r.parseParameters=function(e){var n=t.fromQuery(e);var r=n.keys();var a=r.next();var i={};while(a.done===false){i[decodeURIComponent(a.value)]=n.getAll(a.value);a=r.next()}return i};function i(e,t,n){var r,a,i,s,o,u="";t=t||"&";n=n||"=";r="";a=null;o=[];for(a in e){if(e.hasOwnProperty(a)){o.push(a)}}o.sort();for(i=0;i<o.length;i=i+1){a=o[i];if(Array.isArray(e[a])){for(s=0;s<e[a].length;s=s+1){u+=r+encodeURIComponent(a)+n+encodeURIComponent(e[a][s]);r=t}}else{u+=r+encodeURIComponent(a)+n+encodeURIComponent(e[a]);r=t}}return u}r.paramsToString=function(e){return i(e)};r.privparamsToString=function(e,t,n){return i(e,t,n)};r.parseShellHash=function(e){var t=a,n,i,s,o,u,p,c;if(!e){return undefined}n=r.splitHash(e);p=t.exec(n.shellPart);if(p){i=p[2];s=p[3];o=p[5];u=p[6];c=r.parseParameters(u);return{semanticObject:i,action:s,contextRaw:o,params:c,appSpecificRoute:n.appSpecificRoute}}if(n.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:n.appSpecificRoute}}return undefined};r.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};r.splitHash=function(e){var t=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/,n,r,i;if(e===undefined||e===null||e===""){return{}}n=t.exec(e);r=n[1];if(r!==""&&!a.test(r)){return{}}i=n[2];if(r||i){return{shellPart:r,appSpecificRoute:i}}return{}};function s(e,t){if(t){return e+t}return e}r.constructShellHash=function(e){var t,a,i,o=null,u,p=[],c="?",f=null;if(!e){return""}if(!e.target){e.target={};e.target.semanticObject=e.semanticObject;e.target.action=e.action;e.target.contextRaw=e.contextRaw}if(e.target.shellHash||e.target.shellHash===""){i=r.privstripLeadingHash(e.target.shellHash);return s(i,e.appSpecificRoute)}if(e.target.semanticObject&&e.target.action){t=e.target.semanticObject+"-"+e.target.action.replace(/[?].*/,"")}else{return s("",e.appSpecificRoute)}if(e.target.contextRaw){t+="~"+e.target.contextRaw}c="?";f=null;p=[];for(f in e.params){if(e.params.hasOwnProperty(f)){p.push(f)}}a=e.params&&JSON.parse(JSON.stringify(e.params))||{};if(e.appStateKey){p.push("sap-xapp-state");a["sap-xapp-state"]=e.appStateKey}p.sort();for(u=0;u<p.length;u=u+1){f=p[u];if(Array.isArray(a[f])){if(a[f].length>1){n.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(o=0;o<a[f].length;o=o+1){t+=c+encodeURIComponent(f)+"="+encodeURIComponent(a[f][o]);c="&"}}else{t+=c+encodeURIComponent(f)+"="+encodeURIComponent(a[f]);c="&"}}return s(t,e.appSpecificRoute)};return r});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlShortening", ["sap/base/Log","sap/ushell/utils/UrlParsing"],function(t,e){"use strict";function a(){var a=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(e,a){var r,s;if(typeof e!=="string"||/^[A-Z0-9]{40,41}$/.test(e)){return e}try{r=JSON.parse(e)}catch(a){t.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return e}s=a&&a.getNextKey();this._storeValue(s,r,a);return s};this.compactHash=function(r,s,i){var n,p,h,c,o,u=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(s){s.forEach(function(t){u.push(t)})}n=e.parseShellHash(r);if(!n){t.error("the URL "+r+" is not compliant. It may break the product and cause unwanted navigation behavior.");return{hash:r}}c="";if(r.charAt(0)==="#"){c="#"}var f=n&&n.params&&n.params["sap-xapp-state"]&&n.params["sap-xapp-state"][0];if(f){n.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(f,i)];r=c+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:n.params,appSpecificRoute:n.appSpecificRoute})}if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}if(n&&(n.params&&n.params[a.ABBREV_PARAM_NAME])){return{hash:r}}p=i&&i.getNextKey();h=this._splitParameters(n.params,u,p);if(!h.key){return{hash:r}}o=e.paramsToString(h.tailParams);this._storeValue(h.key,o,i);return{hash:c+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:h.headParams,appSpecificRoute:n.appSpecificRoute}),params:h.headParams,skippedParams:h.tailParams}};this.checkHashLength=function(r){var s,i,n;if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}s=e.parseShellHash(r);n="";if(r.charAt(0)==="#"){n="#"}i=this._splitParameters(s.params,[],"DummyKey");if(i.key){t.error("Application startup parameter length exceeds "+a.URL_PARAMS_LENGTH_LIMIT+" characters, truncation occured!");delete i.headParams[this.ABBREV_PARAM_NAME];return{hash:n+e.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:i.headParams,appSpecificRoute:s.appSpecificRoute}),params:i.headParams,skippedParams:i.tailParams}}t.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:r}};this._findIndex=function(t,e){var a=t.indexOf(e);if(a>=0){return a}a=-1;t.every(function(t,r){if(t.length>0&&t[t.length-1]==="*"&&t.substring(0,t.length-1)===e.substring(0,t.length-1)){a=r;return false}return true});return a};this._cmpByList=function(t,e,a){var r,s;t=t||[];if(e===a){return 0}r=this._findIndex(t,e);s=this._findIndex(t,a);if(r>=0&&s>=0){if(r-s!==0){return r-s}if(e<a){return-1}if(e>a){return+1}return 0}if(r>=0){return-1}if(s>=0){return+1}if(e<a){return-1}return+1};this._sortByPriority=function(t,e){return t.sort(this._cmpByList.bind(this,e))};this._splitParameters=function(e,a,r){var s,i,n,p={},h={},c=false,o,u,f=0,l,m=[];if(!r||typeof r!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!")}for(s in e){if(Object.prototype.hasOwnProperty.call(e,s)){m.push(s)}}m.sort();m=this._sortByPriority(m,a);for(n=0;n<m.length;n=n+1){s=m[n];o=e[s];if(o.length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(i=0;i<o.length;i=i+1){u=e[s][i];l=s.length+u.length;if(l+f>this.URL_PARAMS_LENGTH_LIMIT){if(h[s]){h[s].push(u)}else{h[s]=[u]}c=true}else if(p[s]){p[s].push(u)}else{p[s]=[u]}f=f+l+1}}if(c){p[this.ABBREV_PARAM_NAME]=[r]}return{key:r,tailParams:h,headParams:p}};this.expandHash=function(t){var e=function(t){return a._retrieveValue(t)};return this.expandParamGivenRetrievalFunction(t,this.ABBREV_PARAM_NAME,e)};this.expandParamGivenRetrievalFunction=function(t,a,r){var s,i,n,p,h;if(typeof t!=="string"){return t}s=e.parseShellHash(t);n=s&&s.params&&s.params[a]&&s.params[a][0];if(!n){return t}p="";if(t.charAt(0)==="#"){p="#"}i=r(n);if(!i){return t}h=this._blendParameters(s.params,a,i);return p+e.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:h,appSpecificRoute:s.appSpecificRoute})};this._retrieveValue=function(){return undefined};this._storeValue=function(t,e,a){if(a&&typeof a.store==="function"){a.store(e)}};this._blendParameters=function(t,a,r){var s=e.parseParameters("?"+r),i;delete t[a];for(i in s){if(Object.prototype.hasOwnProperty.call(s,i)){if(t[i]){t[i]=t[i].concat(s[i])}else{t[i]=s[i]}}}return t}}var r=new a;return r},true);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/WindowUtils", ["sap/base/Log","sap/ui/util/isCrossOriginURL","sap/ushell/utils","sap/base/util/UriParameters"],function(e,r,n,t){"use strict";var i={};i.hasInvalidProtocol=function(e){var r=document.createElement("a");r.setAttribute("href",e);if(r.protocol==="javascript:"){return true}return false};i.isCrossOriginUrl=function(e){return r(e)};i.openURL=function(r,n,t,i){var o=i===undefined?true:i,a=this.isCrossOriginUrl(r);t=t||"";if(o&&this.hasInvalidProtocol(r)){e.fatal("Tried to open a URL with an invalid protocol",null,"sap/ushell/utils/WindowUtils");throw new Error("Tried to open a URL with an invalid protocol")}if(a){if(t.toLowerCase().indexOf("noopener")===-1){if(t!==""){t+=","}t+="noopener"}if(t.toLowerCase().indexOf("noreferrer")===-1){t+=",noreferrer"}window.open(r,n,t);return true}return window.open(r,n,t)};i.getLeanURL=function(r,n){var t=r||n;if(this.hasInvalidProtocol(t)){e.fatal("Tried to construct a lean URL for input containing an invalid protocol",null,"sap/ushell/utils/WindowUtils");return""}if((t||"").charAt(0)!=="#"){return t}var i=window.location.search;if(!i){i="?appState=lean"}else if(i.indexOf("appState=")>=-1){i+="&appState=lean"}return window.location.origin+window.location.pathname+i+t};i._getAdjustedQueryString=function(e,r){if((!e||e.length===0)&&(!r||r.length===0)){return null}var i=t.fromQuery(window.location.search);var o=Array.from(i.keys()).reduce(function(e,r){e[r]=i.getAll(r);return e},{});if(e&&e.length>0){e.forEach(function(e){var r=Object.keys(e)[0];if(r){o[r]=e[r]}})}if(r&&r.length>0){r.forEach(function(e){delete o[e]})}return n.urlParametersToString(o)};i.refreshBrowser=function(e,r){var t=n.getLocationHref();var o=n.getLocationSearch();var a=i._getAdjustedQueryString(e,r);if(a){t=t.replace(o,"?"+a)}if(n.getLocationHref()===t){n.windowLocationReload()}else{n.windowLocationAssign(t)}};return i});
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/clone", ["sap/ushell/utils/type"],function(e){"use strict";function r(r){function n(r){return e.isPlainObject(r)?{}:[]}function t(r){if(r instanceof Promise){return false}return e.isPlainObject(r)||e.isArray(r)}function a(r){if(e.isPlainObject(r)){return Object.keys(r).map(function(e){return{key:e,value:r[e]}})}var n=r.length;var t=[];for(var a=0;a<n;a++){t.push({value:r[a]})}return t}function u(r,n){var t=e.isPlainObject(n)?function(e,r){r[e.key]=e.value}:function(e,r){r.push(e.value)};t(r,n)}function i(e,r,n){r.push(e.length);Array.prototype.push.apply(n,e)}if(!t(r)){return r}var s=n(r);var f=[s];var l=[];var v=[];var c=new WeakMap;c.set(r,s);i(a(r),v,l);while(f.length>0){var o=f.shift();var p=v.shift();l.splice(0,p).forEach(function(e){var r=e.value;if(!t(r)){u(e,o);return}var s=r;var p=c.get(s);if(p){u({key:e.key,value:p},o);return}var h=n(s);c.set(s,h);u({key:e.key,value:h},o);f.push(h);i(a(s),v,l)})}return s}return r},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/objectOperations", [],function(){"use strict";var r={};r.getMember=function(r,e){var n=e.split("."),t=r;if(!r){return undefined}n.forEach(function(r){if(typeof t!=="object"){return undefined}t=t[r.replace(/[|]/g,".")]});return t};r.updateProperties=function(r,e){Object.keys(r).forEach(function(n){if(e.hasOwnProperty(n)){r[n]=e[n]}})};r.getNestedObjectProperty=function(r,e,n){var t="Missing or invalid parameter";if(!r||!Array.isArray(r)||r.length==0||!e){throw new Error(t)}if(Array.isArray(e)&&e.length!=r.length){throw new Error(t)}var i=e;if(!Array.isArray(e)){i=Array.apply(null,Array(r.length)).map(function(){return e})}var u=r.reduce(function(r,e,n){if(r!==undefined){return r}return this.getMember(e,i[n])}.bind(this),undefined);return u!=undefined?u:n};return r},false);
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/type", [],function(){"use strict";function t(t){return Object.prototype.toString.apply(t)==="[object Array]"}function e(t){return Object.prototype.toString.apply(t)==="[object Object]"}function n(t){return typeof t!=="undefined"}return{isArray:t,isPlainObject:e,isDefined:n}},false);
sap.ui.require.preload({
	"sap/ui/thirdparty/URITemplate.js":function(){
/*!
 * URI.js - Mutating URLs
 * URI Template Support - http://tools.ietf.org/html/rfc6570
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
(function(e,r){"use strict";if(typeof module==="object"&&module.exports){module.exports=r(require("./URI"))}else if(typeof define==="function"&&define.amd){define(["./URI"],r)}else{e.URITemplate=r(e.URI,e)}})(this,function(e,r){"use strict";var t=r&&r.URITemplate;var a=Object.prototype.hasOwnProperty;function n(e){if(n._cache[e]){return n._cache[e]}if(!(this instanceof n)){return new n(e)}this.expression=e;n._cache[e]=this;return this}function i(e){this.data=e;this.cache={}}var s=n.prototype;var o={"":{prefix:"",separator:",",named:false,empty_name_separator:false,encode:"encode"},"+":{prefix:"",separator:",",named:false,empty_name_separator:false,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:false,empty_name_separator:false,encode:"encodeReserved"},".":{prefix:".",separator:".",named:false,empty_name_separator:false,encode:"encode"},"/":{prefix:"/",separator:"/",named:false,empty_name_separator:false,encode:"encode"},";":{prefix:";",separator:";",named:true,empty_name_separator:false,encode:"encode"},"?":{prefix:"?",separator:"&",named:true,empty_name_separator:true,encode:"encode"},"&":{prefix:"&",separator:"&",named:true,empty_name_separator:true,encode:"encode"}};n._cache={};n.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g;n.VARIABLE_PATTERN=/^([^*:.](?:\.?[^*:.])*)((\*)|:(\d+))?$/;n.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_.]/;n.LITERAL_PATTERN=/[<>{}"`^| \\]/;n.expand=function(e,r,t){var a=o[e.operator];var i=a.named?"Named":"Unnamed";var s=e.variables;var p=[];var l,f,d;for(d=0;f=s[d];d++){l=r.get(f.name);if(l.type===0&&t&&t.strict){throw new Error('Missing expansion value for variable "'+f.name+'"')}if(!l.val.length){if(l.type){p.push("")}continue}if(l.type>1&&f.maxlength){throw new Error('Invalid expression: Prefix modifier not applicable to variable "'+f.name+'"')}p.push(n["expand"+i](l,a,f.explode,f.explode&&a.separator||",",f.maxlength,f.name))}if(p.length){return a.prefix+p.join(a.separator)}else{return""}};n.expandNamed=function(r,t,a,n,i,s){var o="";var p=t.encode;var l=t.empty_name_separator;var f=!r[p].length;var d=r.type===2?"":e[p](s);var c,u,h;for(u=0,h=r.val.length;u<h;u++){if(i){c=e[p](r.val[u][1].substring(0,i));if(r.type===2){d=e[p](r.val[u][0].substring(0,i))}}else if(f){c=e[p](r.val[u][1]);if(r.type===2){d=e[p](r.val[u][0]);r[p].push([d,c])}else{r[p].push([undefined,c])}}else{c=r[p][u][1];if(r.type===2){d=r[p][u][0]}}if(o){o+=n}if(!a){if(!u){o+=e[p](s)+(l||c?"=":"")}if(r.type===2){o+=d+","}o+=c}else{o+=d+(l||c?"=":"")+c}}return o};n.expandUnnamed=function(r,t,a,n,i){var s="";var o=t.encode;var p=t.empty_name_separator;var l=!r[o].length;var f,d,c,u;for(c=0,u=r.val.length;c<u;c++){if(i){d=e[o](r.val[c][1].substring(0,i))}else if(l){d=e[o](r.val[c][1]);r[o].push([r.type===2?e[o](r.val[c][0]):undefined,d])}else{d=r[o][c][1]}if(s){s+=n}if(r.type===2){if(i){f=e[o](r.val[c][0].substring(0,i))}else{f=r[o][c][0]}s+=f;if(a){s+=p||d?"=":""}else{s+=","}}s+=d}return s};n.noConflict=function(){if(r.URITemplate===n){r.URITemplate=t}return n};s.expand=function(e,r){var t="";if(!this.parts||!this.parts.length){this.parse()}if(!(e instanceof i)){e=new i(e)}for(var a=0,s=this.parts.length;a<s;a++){t+=typeof this.parts[a]==="string"?this.parts[a]:n.expand(this.parts[a],e,r)}return t};s.parse=function(){var e=this.expression;var r=n.EXPRESSION_PATTERN;var t=n.VARIABLE_PATTERN;var a=n.VARIABLE_NAME_PATTERN;var i=n.LITERAL_PATTERN;var s=[];var p=0;var l,f,d;var c=function(e){if(e.match(i)){throw new Error('Invalid Literal "'+e+'"')}return e};r.lastIndex=0;while(true){f=r.exec(e);if(f===null){s.push(c(e.substring(p)));break}else{s.push(c(e.substring(p,f.index)));p=f.index+f[0].length}if(!o[f[1]]){throw new Error('Unknown Operator "'+f[1]+'" in "'+f[0]+'"')}else if(!f[3]){throw new Error('Unclosed Expression "'+f[0]+'"')}l=f[2].split(",");for(var u=0,h=l.length;u<h;u++){d=l[u].match(t);if(d===null){throw new Error('Invalid Variable "'+l[u]+'" in "'+f[0]+'"')}else if(d[1].match(a)){throw new Error('Invalid Variable Name "'+d[1]+'" in "'+f[0]+'"')}l[u]={name:d[1],explode:!!d[3],maxlength:d[4]&&parseInt(d[4],10)}}if(!l.length){throw new Error('Expression Missing Variable(s) "'+f[0]+'"')}s.push({expression:f[0],operator:f[1],variables:l})}if(!s.length){s.push(c(e))}this.parts=s;return this};i.prototype.get=function(e){var r=this.data;var t={type:0,val:[],encode:[],encodeReserved:[]};var n,i,s;if(this.cache[e]!==undefined){return this.cache[e]}this.cache[e]=t;if(String(Object.prototype.toString.call(r))==="[object Function]"){s=r(e)}else if(String(Object.prototype.toString.call(r[e]))==="[object Function]"){s=r[e](e)}else{s=r[e]}if(s===undefined||s===null){return t}else if(String(Object.prototype.toString.call(s))==="[object Array]"){for(n=0,i=s.length;n<i;n++){if(s[n]!==undefined&&s[n]!==null){t.val.push([undefined,String(s[n])])}}if(t.val.length){t.type=3}}else if(String(Object.prototype.toString.call(s))==="[object Object]"){for(n in s){if(a.call(s,n)&&s[n]!==undefined&&s[n]!==null){t.val.push([n,String(s[n])])}}if(t.val.length){t.type=2}}else{t.type=1;t.val.push([undefined,String(s)])}return t};e.expand=function(r,t){var a=new n(r);var i=a.expand(t);return new e(i)};return n});
},
	"sap/ui/thirdparty/caja-html-sanitizer.js":function(){
(function(){
/* Copyright Google Inc.
 * Licensed under the Apache Licence Version 2.0
 * Autogenerated at Tue May 22 10:18:21 PDT 2012
 * \@overrides window
 * \@provides cssSchema, CSS_PROP_BIT_QUANTITY, CSS_PROP_BIT_HASH_VALUE, CSS_PROP_BIT_NEGATIVE_QUANTITY, CSS_PROP_BIT_QSTRING_CONTENT, CSS_PROP_BIT_QSTRING_URL, CSS_PROP_BIT_HISTORY_INSENSITIVE, CSS_PROP_BIT_Z_INDEX, CSS_PROP_BIT_ALLOWED_IN_LINK */
var e=1;var r=2;var t=4;var s=8;var o=16;var i=32;var a=64;var n=128;var c=function(){var e=["rgb(?:\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)|a\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0(?:\\.\\d+)?|\\.\\d+|1(?:\\.0+)?|0|\\d+(?:\\.\\d+)?%)) *\\)"],r=[/^ *$/i,RegExp("^ *(?:\\s*"+e[0]+"|(?:\\s*"+e[0]+")?)+ *$","i"),RegExp("^ *\\s*"+e[0]+" *$","i"),RegExp("^ *\\s*"+e[0]+"\\s*"+e[0]+" *$","i")],t=[["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],["all-scroll","col-resize","crosshair","default","e-resize","hand","help","move","n-resize","ne-resize","no-drop","not-allowed","nw-resize","pointer","progress","row-resize","s-resize","se-resize","sw-resize","text","vertical-text","w-resize","wait"],["-moz-inline-box","-moz-inline-stack","block","inline","inline-block","inline-table","list-item","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],["armenian","circle","decimal","decimal-leading-zero","disc","georgian","lower-alpha","lower-greek","lower-latin","lower-roman","square","upper-alpha","upper-latin","upper-roman"],["100","200","300","400","500","600","700","800","900","bold","bolder","lighter"],["condensed","expanded","extra-condensed","extra-expanded","narrower","semi-condensed","semi-expanded","ultra-condensed","ultra-expanded","wider"],["behind","center-left","center-right","far-left","far-right","left-side","leftwards","right-side","rightwards"],["large","larger","small","smaller","x-large","x-small","xx-large","xx-small"],["-moz-pre-wrap","-o-pre-wrap","-pre-wrap","nowrap","pre","pre-line","pre-wrap"],["dashed","dotted","double","groove","outset","ridge","solid"],["baseline","middle","sub","super","text-bottom","text-top"],["caption","icon","menu","message-box","small-caption","status-bar"],["fast","faster","slow","slower","x-fast","x-slow"],["above","below","higher","level","lower"],["border-box","contain","content-box","cover","padding-box"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["high","low","x-high","x-low"],["absolute","relative","static"],["capitalize","lowercase","uppercase"],["child","female","male"],["bidi-override","embed"],["bottom","top"],["clip","ellipsis"],["continuous","digits"],["hide","show"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["code"],["collapse"],["fixed"],["hidden"],["inherit"],["inset"],["invert"],["justify"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["transparent"],["visible"]];return{"-moz-border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"-moz-border-radius-bottomleft":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-bottomright":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-topleft":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-topright":{cssExtra:r[0],cssPropBits:5},"-moz-box-shadow":{cssExtra:r[1],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"-moz-opacity":{cssPropBits:1,cssLitGroup:[t[47]]},"-moz-outline":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[49],t[52],t[54]]},"-moz-outline-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[49]]},"-moz-outline-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"-moz-outline-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"-o-text-overflow":{cssPropBits:0,cssLitGroup:[t[25]]},"-webkit-border-bottom-left-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-bottom-right-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"-webkit-border-radius-bottom-left":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-bottom-right":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-top-left":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-top-right":{cssExtra:r[0],cssPropBits:5},"-webkit-border-top-left-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-top-right-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-box-shadow":{cssExtra:r[1],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},azimuth:{cssPropBits:5,cssLitGroup:[t[6],t[30],t[42],t[47]]},background:{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){0,2} *$","i"),cssPropBits:23,cssLitGroup:[t[0],t[14],t[17],t[24],t[30],t[35],t[36],t[38],t[42],t[45],t[47],t[51],t[54],t[57],t[58],t[62]]},"background-attachment":{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[35],t[45],t[51],t[58]]},"background-color":{cssExtra:r[2],cssPropBits:130,cssLitGroup:[t[0],t[47],t[62]]},"background-image":{cssExtra:r[0],cssPropBits:16,cssLitGroup:[t[35],t[54]]},"background-position":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[24],t[30],t[35],t[42]]},"background-repeat":{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[17],t[35],t[57]]},border:{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-bottom":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-bottom-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-bottom-left-radius":{cssExtra:r[0],cssPropBits:5},"border-bottom-right-radius":{cssExtra:r[0],cssPropBits:5},"border-bottom-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-collapse":{cssPropBits:0,cssLitGroup:[t[44],t[47],t[59]]},"border-color":{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){1,4} *$","i"),cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-left":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-left-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-left-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-left-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"border-right":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-right-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-right-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-right-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-spacing":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47]]},"border-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-top":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-top-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-top-left-radius":{cssExtra:r[0],cssPropBits:5},"border-top-right-radius":{cssExtra:r[0],cssPropBits:5},"border-top-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-top-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},bottom:{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"box-shadow":{cssExtra:r[1],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"caption-side":{cssPropBits:0,cssLitGroup:[t[24],t[47]]},clear:{cssPropBits:0,cssLitGroup:[t[30],t[40],t[47],t[54]]},clip:{cssExtra:/^ *\s*rect\(\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto) *\) *$/i,cssPropBits:0,cssLitGroup:[t[38],t[47]]},color:{cssExtra:r[2],cssPropBits:130,cssLitGroup:[t[0],t[47]]},content:{cssPropBits:0},"counter-increment":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47],t[54]]},"counter-reset":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47],t[54]]},cue:{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"cue-after":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"cue-before":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},cursor:{cssExtra:r[0],cssPropBits:144,cssLitGroup:[t[1],t[35],t[38],t[47]]},direction:{cssPropBits:0,cssLitGroup:[t[31],t[47]]},display:{cssPropBits:32,cssLitGroup:[t[2],t[47],t[54]]},elevation:{cssPropBits:5,cssLitGroup:[t[13],t[47]]},"empty-cells":{cssPropBits:0,cssLitGroup:[t[27],t[47]]},filter:{cssExtra:/^ *(?:\s*alpha\(\s*opacity\s*=\s*(?:0|\d+(?:\.\d+)?%|[+\-]?\d+(?:\.\d+)?) *\))+ *$/i,cssPropBits:32},float:{cssAlternates:["cssFloat","styleFloat"],cssPropBits:32,cssLitGroup:[t[30],t[47],t[54]]},font:{cssExtra:r[0],cssPropBits:9,cssLitGroup:[t[4],t[7],t[11],t[15],t[29],t[35],t[36],t[47],t[52],t[55],t[60]]},"font-family":{cssExtra:r[0],cssPropBits:8,cssLitGroup:[t[15],t[35],t[47]]},"font-size":{cssPropBits:1,cssLitGroup:[t[7],t[47],t[52]]},"font-stretch":{cssPropBits:0,cssLitGroup:[t[5],t[55]]},"font-style":{cssPropBits:0,cssLitGroup:[t[29],t[47],t[55]]},"font-variant":{cssPropBits:0,cssLitGroup:[t[47],t[55],t[60]]},"font-weight":{cssPropBits:0,cssLitGroup:[t[4],t[47],t[55]]},height:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},left:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},"letter-spacing":{cssPropBits:5,cssLitGroup:[t[47],t[55]]},"line-height":{cssPropBits:1,cssLitGroup:[t[47],t[55]]},"list-style":{cssPropBits:16,cssLitGroup:[t[3],t[28],t[47],t[54]]},"list-style-image":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"list-style-position":{cssPropBits:0,cssLitGroup:[t[28],t[47]]},"list-style-type":{cssPropBits:0,cssLitGroup:[t[3],t[47],t[54]]},margin:{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-bottom":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-left":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-right":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-top":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"max-height":{cssPropBits:1,cssLitGroup:[t[38],t[47],t[54]]},"max-width":{cssPropBits:1,cssLitGroup:[t[38],t[47],t[54]]},"min-height":{cssPropBits:1,cssLitGroup:[t[38],t[47]]},"min-width":{cssPropBits:1,cssLitGroup:[t[38],t[47]]},opacity:{cssPropBits:33,cssLitGroup:[t[47]]},outline:{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[49],t[52],t[54]]},"outline-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[49]]},"outline-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"outline-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},overflow:{cssPropBits:32,cssLitGroup:[t[38],t[46],t[47],t[58],t[63]]},"overflow-x":{cssPropBits:0,cssLitGroup:[t[32],t[38],t[46],t[58],t[63]]},"overflow-y":{cssPropBits:0,cssLitGroup:[t[32],t[38],t[46],t[58],t[63]]},padding:{cssPropBits:1,cssLitGroup:[t[47]]},"padding-bottom":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-left":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-right":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-top":{cssPropBits:33,cssLitGroup:[t[47]]},"page-break-after":{cssPropBits:0,cssLitGroup:[t[30],t[37],t[38],t[39],t[47]]},"page-break-before":{cssPropBits:0,cssLitGroup:[t[30],t[37],t[38],t[39],t[47]]},"page-break-inside":{cssPropBits:0,cssLitGroup:[t[38],t[39],t[47]]},pause:{cssPropBits:5,cssLitGroup:[t[47]]},"pause-after":{cssPropBits:5,cssLitGroup:[t[47]]},"pause-before":{cssPropBits:5,cssLitGroup:[t[47]]},pitch:{cssPropBits:5,cssLitGroup:[t[19],t[47],t[52]]},"pitch-range":{cssPropBits:5,cssLitGroup:[t[47]]},"play-during":{cssExtra:r[0],cssPropBits:16,cssLitGroup:[t[38],t[47],t[53],t[54],t[57]]},position:{cssPropBits:32,cssLitGroup:[t[20],t[47]]},quotes:{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[47],t[54]]},richness:{cssPropBits:5,cssLitGroup:[t[47]]},right:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},speak:{cssPropBits:0,cssLitGroup:[t[47],t[54],t[55],t[61]]},"speak-header":{cssPropBits:0,cssLitGroup:[t[37],t[47],t[56]]},"speak-numeral":{cssPropBits:0,cssLitGroup:[t[26],t[47]]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[t[43],t[47],t[54]]},"speech-rate":{cssPropBits:5,cssLitGroup:[t[12],t[47],t[52]]},stress:{cssPropBits:5,cssLitGroup:[t[47]]},"table-layout":{cssPropBits:0,cssLitGroup:[t[38],t[45],t[47]]},"text-align":{cssPropBits:0,cssLitGroup:[t[30],t[42],t[47],t[50]]},"text-decoration":{cssPropBits:0,cssLitGroup:[t[18],t[47],t[54]]},"text-indent":{cssPropBits:5,cssLitGroup:[t[47]]},"text-overflow":{cssPropBits:0,cssLitGroup:[t[25]]},"text-shadow":{cssExtra:r[1],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"text-transform":{cssPropBits:0,cssLitGroup:[t[21],t[47],t[54]]},"text-wrap":{cssPropBits:0,cssLitGroup:[t[33],t[54],t[55]]},top:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},"unicode-bidi":{cssPropBits:0,cssLitGroup:[t[23],t[47],t[55]]},"vertical-align":{cssPropBits:5,cssLitGroup:[t[10],t[24],t[47]]},visibility:{cssPropBits:32,cssLitGroup:[t[44],t[46],t[47],t[63]]},"voice-family":{cssExtra:r[0],cssPropBits:8,cssLitGroup:[t[22],t[35],t[47]]},volume:{cssPropBits:1,cssLitGroup:[t[16],t[47],t[52]]},"white-space":{cssPropBits:0,cssLitGroup:[t[8],t[47],t[55]]},width:{cssPropBits:33,cssLitGroup:[t[38],t[47]]},"word-spacing":{cssPropBits:5,cssLitGroup:[t[47],t[55]]},"word-wrap":{cssPropBits:0,cssLitGroup:[t[41],t[55]]},"z-index":{cssPropBits:69,cssLitGroup:[t[38],t[47]]},zoom:{cssPropBits:1,cssLitGroup:[t[55]]}}}();if(typeof window!=="undefined"){window["cssSchema"]=c}
// Copyright (C) 2011 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var l;var u;(function(){function e(e){var r=parseInt(e.substring(1),16);if(r>65535){return r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))}else if(r==r){return String.fromCharCode(r)}else if(e[1]<" "){return""}else{return e[1]}}function r(e,r){return'"'+e.replace(/[\u0000-\u001f\\\"<>]/g,r)+'"'}function t(e){return o[e]||(o[e]="\\"+e.charCodeAt(0).toString(16)+" ")}function s(e){return i[e]||(i[e]=(e<""?"%0":"%")+e.charCodeAt(0).toString(16))}var o={"\\":"\\\\"};var i={"\\":"%5c"};var a="[\\t\\n\\f ]";var n=a+"*";var c="[\\n\\f]";var p="[\\ud800-\\udbff][\\udc00-\\udfff]";var d="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+p;var f="[0-9a-fA-F]{1,6}"+a+"?";var h="\\\\"+f;var m="(?:"+f+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+p+")";var g="\\\\"+m;var b="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+d+"|"+g+")";var v="[^'\"\\n\\f\\\\]|\\\\[\\s\\S]";var w="\"(?:'|"+v+')*"'+"|'(?:\"|"+v+")*'";var L="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)";var P="(?:[a-zA-Z_]|"+d+"|"+g+")";var x="(?:[a-zA-Z0-9_-]|"+d+"|"+g+")";var y=x+"+";var B="-?"+P+x+"*";var E="@"+B;var G="#"+y;var k=L;var A="(?:@?-?"+P+"|#)"+x+"*";var T=L+"%";var S=L+B;var C=L+"(?:%|"+B+")?";var z="url[(]"+n+"(?:"+w+"|"+b+"*)"+n+"[)]";var N="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?";var R="\x3c!--";var M="--\x3e";var D=a+"+";var O="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)";var $="(?!url[(])(?=("+B+"))\\1[(]";var j="~=";var I="[|]=";var _="[^]=";var q="[$]=";var F="[*]=";var U="[~|^$*]=";var Y="[^\"'\\\\/]|/(?![/*])";var Z="\\uFEFF";var H=new RegExp([Z,N,z,$,A,w,C,R,M,D,O,U,Y].join("|"),"gi");u=function(r){return r.replace(new RegExp("\\\\(?:"+m+"|"+c+")","g"),e)};l=function(e){e=""+e;var o=e.replace(/\r\n?/g,"\n").match(H)||[];var i=0;var a=" ";for(var c=0,l=o.length;c<l;++c){var p=u(o[c]);var d=p.length;var f=p.charCodeAt(0);p=f=='"'.charCodeAt(0)||f=="'".charCodeAt(0)?r(p.substring(1,d-1),t):f=="/".charCodeAt(0)&&d>1||p=="\\"||p==M||p==R||p=="\ufeff"||f<=" ".charCodeAt(0)?" ":/url\(/i.test(p)?"url("+r(p.replace(new RegExp("^url\\("+n+"[\"']?|[\"']?"+n+"\\)$","gi"),""),s)+")":p;if(a!=p||p!=" "){o[i++]=a=p}}o.length=i;return o}})();if(typeof window!=="undefined"){window["lexCss"]=l;window["decodeCss"]=u}
// Copyright (C) 2011 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var p=function(){var i='url("about:blank")';var n=/[\n\f\r\"\'()*<>]/g;var c={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"};function l(e){if("string"===typeof e){return'url("'+e.replace(n,p)+'")'}else{return i}}function p(e){return c[e]}var d=new RegExp("^"+"(?:"+"([^:/?# ]+)"+":)?");var f=/^(?:https?|mailto)$/i;function h(e,r,t){if(!t){return null}var s=(""+e).match(d);if(s&&(!s[1]||f.test(s[1]))){return t(e,r)}else{return null}}function m(e){var r={};for(var t=e.length;--t>=0;){var s=e[t];for(var o=s.length;--o>=0;){r[s[o]]=b}}return r}function g(e,r){var t=1,s=r+1,o=e.length;while(s<o&&t){var i=e[s++];t+=i==="("?1:i===")"?-1:0}return s}var b={};return function(n,c,p,d){var f=c.cssPropBits;var v=f&(s|o);var w=NaN;var L=0,P=0;for(;L<p.length;++L){var x=p[L].toLowerCase();var y=x.charCodeAt(0),B,E,G,k,A;var T,S;x=y===" ".charCodeAt(0)?"":y==='"'.charCodeAt(0)?v===o&&d?l(h(u(p[L].substring(1,x.length-1)),n,d)):v===s?x:"":y==="#".charCodeAt(0)&&/^#(?:[0-9a-f]{3}){1,2}$/.test(x)?f&r?x:"":"0".charCodeAt(0)<=y&&y<="9".charCodeAt(0)?f&e?f&a?x.match(/^\d{1,7}$/)?x:"":x:"":(B=x.charCodeAt(1),E=x.charCodeAt(2),G="0".charCodeAt(0)<=B&&B<="9".charCodeAt(0),k="0".charCodeAt(0)<=E&&E<="9".charCodeAt(0),y==="+".charCodeAt(0)&&(G||B===".".charCodeAt(0)&&k))?f&e?f&a?x.match(/^\+\d{1,7}$/)?x:"":(G?"":"0")+x.substring(1):"":y==="-".charCodeAt(0)&&(G||B===".".charCodeAt(0)&&k)?f&t?f&a?x.match(/^\-\d{1,7}$/)?x:"":(G?"-":"-0")+x.substring(1):f&e?"0":"":y===".".charCodeAt(0)&&G?f&e?"0"+x:"":"url("===x.substring(0,4)?d&&v&o?l(h(p[L].substring(5,x.length-2),n,d)):"":(x.charAt(x.length-1)==="("&&(A=g(p,L),p.splice(L,A-L,x=p.slice(L,A).join(" "))),T=c.cssLitGroup,S=T?c.cssLitMap||(c.cssLitMap=m(T)):b,S[x]===b||c.cssExtra&&c.cssExtra.test(x))?x:/^\w+$/.test(x)&&v===s?w+1===P?(p[w]=p[w].substring(0,p[w].length-1)+" "+x+'"',x=""):(w=P,'"'+x+'"'):"";if(x){p[P++]=x}}if(P===1&&p[0]===i){P=0}p.length=P}}();function d(e,r){var t=[];var s=[];var o=0,i;for(i=0;i<e.length;++i){if(!(e[i]==" "&&(e[i-1]==">"||e[i+1]==">"))){e[o++]=e[i]}}e.length=o;var a=e.length,n=0;for(i=0;i<a;++i){if(e[i]==","){c(n,i);n=i+1}}c(n,a);function c(o,i){var a=false;if(e[o]===" "){++o}if(i-1!==o&&e[i]===" "){--i}var n=[];var c=o;var l="";for(var u=o;u<i;++u){var p=e[u];var d=p===">";if(d||p===" "){l=f(c,u,false);if(!l||d&&/^html/i.test(l)){return}c=u+1;n.push(l,d?" > ":" ")}}l=f(c,i,true);if(!l){return}n.push(l);function f(t,s,o){var i=t,n=s;var c,l,u,p,d;c="";if(t<s){p=e[t].toLowerCase();if(p==="*"||p==="body"&&t+1!==s&&!o||"number"===typeof(d=g.ELEMENTS[p])&&!(d&g.eflags.UNSAFE)){++t;c=p}}l="";while(t<s){p=e[t];if(p.charAt(0)==="#"){if(/^#_|__$|[^#0-9A-Za-z:_\-]/.test(p)){return null}l+=p+"-"+r}else if(p==="."){if(++t<s&&/^[0-9A-Za-z:_\-]+$/.test(p=e[t])&&!/^_|__$/.test(p)){l+="."+p}else{return null}}else{break}++t}u="";if(t<s&&e[t]===":"){p=e[++t];if(p==="visited"||p==="link"){if(!/^[a*]?$/.test(c)){return null}a=true;u=":"+p;c="a";++t}}if(t===s){return c+l+u}return null}var h=n.join("");if(/^body\b/.test(h)){h=".vdoc-body___."+r+h.substring(4)}else{h="."+r+" "+h}(a?t:s).push(h)}return[s,t]}var f=function(){var e={};var r={braille:e,embossed:e,handheld:e,print:e,projection:e,screen:e,speech:e,tty:e,tv:e};function t(e){var r=false;for(var t=0,s=e.length;t<s-1;++t){var o=e[t];if(":"===e[t+1]){r=!(c[o].cssPropBits&n)}if(r){e[t]=""}if(";"===o){r=false}}return e.join("")}return function(s,o,i){var a=void 0;var n=[];var l=false;h(s,{startStylesheet:function(){a=[]},endStylesheet:function(){},startAtrule:function(t,s){if(l){t=null}else if(t==="@media"){s=s.filter(function(t){return r[t]==e});if(s.length){a.push(t,s.join(","),"{")}else{t=null}}else{if(t==="@import"){if(window.console){window.console.log("@import "+s.join(" ")+" elided")}}t=null}l=!t;n.push(t)},endAtrule:function(){var e=n.pop();if(!l){a.push(";")}u()},startBlock:function(){if(!l){a.push("{")}},endBlock:function(){if(!l){a.push("}");l=true}},startRuleset:function(e){var r=void 0;var t=false;if(!l){var s=d(e,o);var i=s[0];r=s[1];if(!i.length&&!r.length){l=true}else{var c=i.join(", ");if(!c){c="head > html";t=true}a.push(c,"{")}}n.push(l?null:{historySensitiveSelectors:r,endOfSelectors:a.length-1,removeHistoryInsensitiveSelectors:t})},endRuleset:function(){var e=n.pop();var r=a.length;if(!l){a.push("}");if(e){var s=e.historySensitiveSelectors;if(s.length){var o=a.slice(e.endOfSelectors);a.push(s.join(", "),t(o))}}}if(e&&e.removeHistoryInsensitiveSelectors){a.splice(e.endOfSelectors-1,r+1)}u()},declaration:function(e,r){if(!l){var t=c[e];if(t){p(e,t,r,i);if(r.length){a.push(e,":",r.join(" "),";")}}}}});function u(){l=n.length!==0&&n[n.length-1]!==null}return a.join("")}}();if(typeof window!=="undefined"){window["sanitizeCssProperty"]=p;window["sanitizeCssSelectors"]=d;window["sanitizeStylesheet"]=f}
// Copyright (C) 2010 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var h;var m;(function(){h=function(r,t){var s=l(r);if(t.startStylesheet){t.startStylesheet()}for(var o=0,i=s.length;o<i;){o=s[o]===" "?o+1:e(s,o,i,t)}if(t.endStylesheet){t.endStylesheet()}};function e(e,t,o,i){if(t<o){var a=e[t];if(a.charAt(0)==="@"){return r(e,t,o,i,true)}else{return s(e,t,o,i)}}else{return t}}function r(e,r,s,o,i){var a=r++;while(r<s&&e[r]!=="{"&&e[r]!==";"){++r}if(r<s&&(i||e[r]===";")){var n=a+1,c=r;if(n<s&&e[n]===" "){++n}if(c>n&&e[c-1]===" "){--c}if(o.startAtrule){o.startAtrule(e[a].toLowerCase(),e.slice(n,c))}r=e[r]==="{"?t(e,r,s,o):r+1;if(o.endAtrule){o.endAtrule()}}return r}function t(e,o,i,a){++o;if(a.startBlock){a.startBlock()}while(o<i){var n=e[o].charAt(0);if(n=="}"){++o;break}if(n===" "||n===";"){o=o+1}else if(n==="@"){o=r(e,o,i,a,false)}else if(n==="{"){o=t(e,o,i,a)}else{o=s(e,o,i,a)}}if(a.endBlock){a.endBlock()}return o}function s(e,r,t,s){var i=r,n=o(e,r,t,true);if(n<0){n=~n;return r===n?n+1:n}r=n;if(n>i&&e[n-1]===" "){--n}var c=e[r];++r;if(c!=="{"){return r}if(s.startRuleset){s.startRuleset(e.slice(i,n))}while(r<t){c=e[r];if(c==="}"){++r;break}if(c===" "){r=r+1}else{r=a(e,r,t,s)}}if(s.endRuleset){s.endRuleset()}return r<t?r+1:r}function o(e,r,t,s){var o=r;var i;var a=[],n=-1;for(;r<t;++r){i=e[r].charAt(0);if(i==="["||i==="("){a[++n]=i}else if(i==="]"&&a[n]==="["||i===")"&&a[n]==="("){--n}else if(i==="{"||i==="}"||i===";"||i==="@"||i===":"&&!s){break}}if(n>=0){r=~(r+1)}return r}var i=/^-?[a-z]/i;function a(e,r,t,s){var a=e[r++];if(!i.test(a)){return r+1}var n;if(r<t&&e[r]===" "){++r}if(r==t||e[r]!==":"){while(r<t&&(n=e[r])!==";"&&n!=="}"){++r}return r}++r;if(r<t&&e[r]===" "){++r}var c=r,l=o(e,r,t,false);if(l<0){l=~l}else{var u=[],p=0;for(var d=c;d<l;++d){n=e[d];if(n!==" "){u[p++]=n}}if(l<t){do{n=e[l];if(n===";"||n==="}"){break}p=0}while(++l<t);if(n===";"){++l}}if(p&&s.declaration){s.declaration(a.toLowerCase(),u)}}return l}m=function(e,r){var t=l(e);for(var s=0,o=t.length;s<o;){s=t[s]!==" "?a(t,s,o,r):s+1}}})();if(typeof window!=="undefined"){window["parseCssStylesheet"]=h;window["parseCssDeclarations"]=m}
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */var g={};g.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10};g.ATTRIBS={"*::accesskey":0,"*::class":9,"*::contenteditable":0,"*::contextmenu":0,"*::dir":0,"*::draggable":0,"*::dropzone":0,"*::hidden":0,"*::id":4,"*::lang":0,"*::onabort":2,"*::onblur":2,"*::oncanplay":2,"*::oncanplaythrough":2,"*::onchange":2,"*::onclick":2,"*::oncontextmenu":2,"*::oncuechange":2,"*::ondblclick":2,"*::ondrag":2,"*::ondragend":2,"*::ondragenter":2,"*::ondragleave":2,"*::ondragover":2,"*::ondragstart":2,"*::ondrop":2,"*::ondurationchange":2,"*::onemptied":2,"*::onended":2,"*::onerror":2,"*::onfocus":2,"*::oninput":2,"*::oninvalid":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onloadeddata":2,"*::onloadedmetadata":2,"*::onloadstart":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onmousewheel":2,"*::onpause":2,"*::onplay":2,"*::onplaying":2,"*::onprogress":2,"*::onratechange":2,"*::onreadystatechange":2,"*::onreset":2,"*::onscroll":2,"*::onseeked":2,"*::onseeking":2,"*::onselect":2,"*::onshow":2,"*::onstalled":2,"*::onsubmit":2,"*::onsuspend":2,"*::ontimeupdate":2,"*::onvolumechange":2,"*::onwaiting":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"a::href":1,"a::hreflang":0,"a::media":0,"a::rel":0,"a::target":0,"a::type":0,"area::alt":0,"area::coords":0,"area::href":1,"area::hreflang":0,"area::media":0,"area::rel":0,"area::shape":0,"area::target":10,"area::type":0,"audio::autoplay":0,"audio::controls":0,"audio::loop":0,"audio::mediagroup":0,"audio::preload":0,"audio::src":1,"base::href":1,"base::target":10,"blockquote::cite":1,"body::onafterprint":2,"body::onbeforeprint":2,"body::onbeforeunload":2,"body::onblur":2,"body::onerror":2,"body::onfocus":2,"body::onhashchange":2,"body::onload":2,"body::onmessage":2,"body::onoffline":2,"body::ononline":2,"body::onpagehide":2,"body::onpageshow":2,"body::onpopstate":2,"body::onredo":2,"body::onresize":2,"body::onscroll":2,"body::onstorage":2,"body::onundo":2,"body::onunload":2,"button::autofocus":0,"button::disabled":0,"button::form":0,"button::formaction":1,"button::formenctype":0,"button::formmethod":0,"button::formnovalidate":0,"button::formtarget":10,"button::name":8,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"col::span":0,"colgroup::span":0,"command::checked":0,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"del::cite":1,"del::datetime":0,"details::open":0,"embed::height":0,"embed::src":1,"embed::type":0,"embed::width":0,"fieldset::disabled":0,"fieldset::form":0,"fieldset::name":8,"form::accept-charset":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::target":10,"html:: manifest":1,"iframe::height":0,"iframe::name":7,"iframe::sandbox":0,"iframe::seamless":0,"iframe::src":1,"iframe::srcdoc":10,"iframe::width":0,"img::alt":0,"img::height":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::width":0,"input::accept":0,"input::alt":0,"input::autocomplete":0,"input::autofocus":0,"input::checked":0,"input::dirname":0,"input::disabled":0,"input::form":0,"input::formaction":1,"input::formenctype":0,"input::formmethod":0,"input::formnovalidate":0,"input::formtarget":10,"input::height":0,"input::list":0,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::step":0,"input::size":0,"input::src":1,"input::type":0,"input::value":0,"input::width":0,"ins::cite":1,"ins::datetime":0,"keygen::autofocus":0,"keygen::challenge":0,"keygen::disabled":0,"keygen::form":0,"keygen::keytype":0,"keygen::name":8,"label::for":5,"label::form":0,"link::href":1,"link::hreflang":0,"link::media":0,"link::rel":0,"link::sizes":0,"link::type":0,"li::value":0,"map::name":7,"menu::label":0,"menu::type":0,"meta::charset":0,"meta::content":0,"meta::http-equiv":0,"meta::name":7,"meter::form":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::optimum":0,"meter::value":0,"object::data":1,"object::form":0,"object::height":0,"object::name":8,"object::type":0,"object::usemap":11,"object::width":0,"ol::reversed":0,"ol::start":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":5,"output::form":0,"output::name":8,"param::name":8,"param::value":0,"progress::form":0,"progress::max":0,"progress::value":0,"q::cite":1,"script::async":0,"script::charset":0,"script::defer":0,"script::src":1,"script::type":0,"select::autofocus":0,"select::disabled":0,"select::form":0,"select::multiple":0,"select::name":8,"select::required":0,"select::size":0,"source::media":0,"source::src":1,"source::type":0,"style::media":0,"style::scoped":0,"style::type":0,"table::border":0,"td::colspan":0,"td::headers":6,"td::rowspan":0,"textarea::autofocus":0,"textarea::cols":0,"textarea::disabled":0,"textarea::form":0,"textarea::maxlength":0,"textarea::name":8,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"th::colspan":0,"th::headers":6,"th::rowspan":0,"th::scope":0,"time::datetime":0,"time::pubdate":0,"track::default":0,"track::kind":0,"track::label":0,"track::src":1,"track::srclang":0,"video::autoplay":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0};g.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128};g.ELEMENTS={a:0,abbr:0,address:0,area:2,article:0,aside:0,audio:0,b:0,base:18,bdi:0,bdo:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,cite:0,code:0,col:2,colgroup:1,command:2,datalist:0,dd:1,del:0,details:0,dfn:0,div:0,dl:0,dt:1,em:0,embed:18,fieldset:0,figcaption:0,figure:0,footer:0,form:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,header:0,hgroup:0,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,kbd:0,keygen:2,label:0,legend:0,li:1,link:18,map:0,mark:0,menu:0,meta:18,meter:0,nav:0,noscript:20,object:16,ol:0,optgroup:1,option:1,output:0,p:1,param:18,pre:0,progress:0,q:0,rp:1,rt:1,ruby:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:24,tr:1,track:2,u:0,ul:0,var:0,video:0,wbr:2};g.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};g.URIEFFECTS={"a::href":2,"area::href":2,"audio::src":1,"base::href":2,"blockquote::cite":0,"button::formaction":2,"command::icon":1,"del::cite":0,"embed::src":1,"form::action":2,"html:: manifest":1,"iframe::src":1,"img::src":1,"input::formaction":2,"input::src":1,"ins::cite":0,"link::href":2,"object::data":1,"q::cite":0,"script::src":1,"source::src":1,"track::src":1,"video::poster":1,"video::src":1};g.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0};g.LOADERTYPES={"a::href":2,"area::href":2,"audio::src":1,"base::href":2,"blockquote::cite":2,"button::formaction":2,"command::icon":1,"del::cite":2,"embed::src":1,"form::action":2,"html:: manifest":1,"iframe::src":1,"img::src":1,"input::formaction":2,"input::src":1,"ins::cite":2,"link::href":2,"object::data":0,"q::cite":2,"script::src":1,"source::src":1,"track::src":1,"video::poster":1,"video::src":1};if(typeof window!=="undefined"){window["html4"]=g}// Copyright (C) 2006 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var b=function(e){var r,t,s;if("undefined"!==typeof window){r=window["parseCssDeclarations"];t=window["sanitizeCssProperty"];s=window["cssSchema"]}var o;if("script"==="SCRIPT".toLowerCase()){o=function(e){return e.toLowerCase()}}else{o=function(e){return e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)})}}var i={lt:"<",gt:">",amp:"&",nbsp:"",quot:'"',apos:"'"};var a=/^#(\d+)$/;var n=/^#x([0-9A-Fa-f]+)$/;function c(e){e=o(e);if(i.hasOwnProperty(e)){return i[e]}var r=e.match(a);if(r){return String.fromCharCode(parseInt(r[1],10))}else if(!!(r=e.match(n))){return String.fromCharCode(parseInt(r[1],16))}return""}function l(e,r){return c(r)}var u=/\0/g;function p(e){return e.replace(u,"")}var d=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function f(e){return e.replace(d,l)}var h=/&/g;var m=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;var g=/[<]/g;var b=/>/g;var v=/\"/g;function w(e){return(""+e).replace(h,"&amp;").replace(g,"&lt;").replace(b,"&gt;").replace(v,"&#34;")}function L(e){return e.replace(m,"&amp;$1").replace(g,"&lt;").replace(b,"&gt;")}var P=new RegExp("^\\s*"+"([a-z][a-z-]*)"+"(?:"+("\\s*(=)\\s*"+"("+('(")[^"]*("|$)'+"|"+"(')[^']*('|$)"+"|"+"(?=[a-z][a-z-]*\\s*=)"+"|"+"[^\"'\\s]*")+")")+")?","i");var x=/^(#[0-9]+|#x[0-9a-f]+|\w+);/i;var y="a,b".split(/(,)/).length===3;var B=e.eflags.CDATA|e.eflags.RCDATA;function E(e){return function(r,t){return k(r,e,t)}}var G={};function k(e,r,t){var s=r;var o,i,a;var n=S(e);var c={noMoreGT:false,noMoreEndComments:false};T(r,n,0,c,t)}function A(e,r,t,s,o){return function(){T(e,r,t,s,o)}}function T(r,t,s,i,a){try{if(r.startDoc&&s==0){r.startDoc(a)}var n,c,l;for(var u=s,p=t.length;u<p;){var d=t[u++];var f=t[u];switch(d){case"&":if(x.test(f)){if(r.pcdata){r.pcdata("&"+f,a,G,A(r,t,u,i,a))}u++}else{if(r.pcdata){r.pcdata("&amp;",a,G,A(r,t,u,i,a))}}break;case"</":if(n=/^(\w+)[^\'\"]*/.exec(f)){if(n[0].length===f.length&&t[u+1]===">"){u+=2;l=o(n[1]);if(e.ELEMENTS.hasOwnProperty(l)){if(r.endTag){r.endTag(l,a,G,A(r,t,u,i,a))}}}else{u=C(t,u,r,a,G,i)}}else{if(r.pcdata){r.pcdata("&lt;/",a,G,A(r,t,u,i,a))}}break;case"<":if(n=/^(\w+)\s*\/?/.exec(f)){if(n[0].length===f.length&&t[u+1]===">"){u+=2;l=o(n[1]);if(e.ELEMENTS.hasOwnProperty(l)){if(r.startTag){r.startTag(l,[],a,G,A(r,t,u,i,a))}var h=e.ELEMENTS[l];if(h&B){var m={name:l,next:u,eflags:h};u=R(t,m,r,a,G,i)}}}else{u=z(t,u,r,a,G,i)}}else{if(r.pcdata){r.pcdata("&lt;",a,G,A(r,t,u,i,a))}}break;case"\x3c!--":if(!i.noMoreEndComments){for(c=u+1;c<p;c++){if(t[c]===">"&&/--$/.test(t[c-1])){break}}if(c<p){u=c+1}else{i.noMoreEndComments=true}}if(i.noMoreEndComments){if(r.pcdata){r.pcdata("&lt;!--",a,G,A(r,t,u,i,a))}}break;case"<!":if(!/^\w/.test(f)){if(r.pcdata){r.pcdata("&lt;!",a,G,A(r,t,u,i,a))}}else{if(!i.noMoreGT){for(c=u+1;c<p;c++){if(t[c]===">"){break}}if(c<p){u=c+1}else{i.noMoreGT=true}}if(i.noMoreGT){if(r.pcdata){r.pcdata("&lt;!",a,G,A(r,t,u,i,a))}}}break;case"<?":if(!i.noMoreGT){for(c=u+1;c<p;c++){if(t[c]===">"){break}}if(c<p){u=c+1}else{i.noMoreGT=true}}if(i.noMoreGT){if(r.pcdata){r.pcdata("&lt;?",a,G,A(r,t,u,i,a))}}break;case">":if(r.pcdata){r.pcdata("&gt;",a,G,A(r,t,u,i,a))}break;case"":break;default:if(r.pcdata){r.pcdata(d,a,G,A(r,t,u,i,a))}break}}if(r.endDoc){r.endDoc(a)}}catch(e){if(e!==G){throw e}}}function S(e){var r=/(<\/|<\!--|<[!?]|[&<>])/g;e+="";if(y){return e.split(r)}else{var t=[];var s=0;var o;while((o=r.exec(e))!==null){t.push(e.substring(s,o.index));t.push(o[0]);s=o.index+o[0].length}t.push(e.substring(s));return t}}function C(e,r,t,s,o,i){var a=M(e,r);if(!a){return e.length}if(a.eflags!==void 0){if(t.endTag){t.endTag(a.name,s,o,A(t,e,r,i,s))}}return a.next}function z(e,r,t,s,o,i){var a=M(e,r);if(!a){return e.length}if(a.eflags!==void 0){if(t.startTag){t.startTag(a.name,a.attrs,s,o,A(t,e,a.next,i,s))}if(a.eflags&B){return R(e,a,t,s,o,i)}}return a.next}var N={};function R(r,t,s,o,i,a){var n=r.length;if(!N.hasOwnProperty(t.name)){N[t.name]=new RegExp("^"+t.name+"(?:[\\s\\/]|$)","i")}var c=N[t.name];var l=t.next;var u=t.next+1;for(;u<n;u++){if(r[u-1]==="</"&&c.test(r[u])){break}}if(u<n){u-=1}var p=r.slice(l,u).join("");if(t.eflags&e.eflags.CDATA){if(s.cdata){s.cdata(p,o,i,A(s,r,u,a,o))}}else if(t.eflags&e.eflags.RCDATA){if(s.rcdata){s.rcdata(L(p),o,i,A(s,r,u,a,o))}}else{throw new Error("bug")}return u}function M(r,t){var s=/^(\w+)/.exec(r[t]);var i={name:o(s[1])};if(e.ELEMENTS.hasOwnProperty(i.name)){i.eflags=e.ELEMENTS[i.name]}else{i.eflags=void 0}var a=r[t].substr(s[0].length);var n=t+1;var c=r.length;for(;n<c;n++){if(r[n]===">"){break}a+=r[n]}if(c<=n){return void 0}var l=[];while(a!==""){s=P.exec(a);if(!s){a=a.replace(/^[\s\S][^a-z\s]*/,"")}else if(s[4]&&!s[5]||s[6]&&!s[7]){var u=s[4]||s[6];var p=false;var d=[a,r[n++]];for(;n<c;n++){if(p){if(r[n]===">"){break}}else if(0<=r[n].indexOf(u)){p=true}d.push(r[n])}if(c<=n){break}a=d.join("");continue}else{var f=o(s[1]);var h=s[2]?D(s[3]):f;l.push(f,h);a=a.substr(s[0].length)}}i.attrs=l;i.next=n+1;return i}function D(e){var r=e.charCodeAt(0);if(r===34||r===39){e=e.substr(1,e.length-2)}return f(p(e))}function O(r){var t;var s;var o=function(e,r){if(!s){r.push(e)}};return E({startDoc:function(e){t=[];s=false},startTag:function(o,i,a){if(s){return}if(!e.ELEMENTS.hasOwnProperty(o)){return}var n=e.ELEMENTS[o];if(n&e.eflags.FOLDABLE){return}i=r(o,i);if(!i){s=!(n&e.eflags.EMPTY);return}if(!(n&e.eflags.EMPTY)){t.push(o)}a.push("<",o);for(var c=0,l=i.length;c<l;c+=2){var u=i[c],p=i[c+1];if(p!==null&&p!==void 0){a.push(" ",u,'="',w(p),'"')}}a.push(">")},endTag:function(r,o){if(s){s=false;return}if(!e.ELEMENTS.hasOwnProperty(r)){return}var i=e.ELEMENTS[r];if(!(i&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var a;if(i&e.eflags.OPTIONAL_ENDTAG){for(a=t.length;--a>=0;){var n=t[a];if(n===r){break}if(!(e.ELEMENTS[n]&e.eflags.OPTIONAL_ENDTAG)){return}}}else{for(a=t.length;--a>=0;){if(t[a]===r){break}}}if(a<0){return}for(var c=t.length;--c>a;){var n=t[c];if(!(e.ELEMENTS[n]&e.eflags.OPTIONAL_ENDTAG)){o.push("</",n,">")}}t.length=a;o.push("</",r,">")}},pcdata:o,rcdata:o,cdata:o,endDoc:function(e){for(;t.length;t.length--){e.push("</",t[t.length-1],">")}}})}var $=new RegExp("^"+"(?:"+"([^:/?# ]+)"+":)?");var j=/^(?:https?|mailto)$/i;function I(e,r){if(!r){return null}var t=(""+e).match($);if(t&&(!t[1]||j.test(t[1]))){return r(e)}else{return null}}function _(o,i,a,n){for(var c=0;c<i.length;c+=2){var l=i[c];var u=i[c+1];var p=null,d;if((d=o+"::"+l,e.ATTRIBS.hasOwnProperty(d))||(d="*::"+l,e.ATTRIBS.hasOwnProperty(d))){p=e.ATTRIBS[d]}if(p!==null){switch(p){case e.atype.NONE:break;case e.atype.SCRIPT:u=null;break;case e.atype.STYLE:if("undefined"===typeof r){u=null;break}var f=[];r(u,{declaration:function(e,r){var o=e.toLowerCase();var i=s[o];if(!i){return}t(o,i,r,a);f.push(e+": "+r.join(" "))}});u=f.length>0?f.join(" ; "):null;break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:u=n?n(u):u;break;case e.atype.URI:u=I(u,a);break;case e.atype.URI_FRAGMENT:if(u&&"#"===u.charAt(0)){u=u.substring(1);u=n?n(u):u;if(u!==null&&u!==void 0){u="#"+u}}else{u=null}break;default:u=null;break}}else{u=null}i[c+1]=u}return i}function q(r,t){return function(s,o){if(!(e.ELEMENTS[s]&e.eflags.UNSAFE)){return _(s,o,r,t)}}}function F(e,r){var t=[];O(r)(e,t);return t.join("")}function U(e,r,t){var s=q(r,t);return F(e,s)}return{escapeAttrib:w,makeHtmlSanitizer:O,makeSaxParser:E,makeTagPolicy:q,normalizeRCData:L,sanitize:U,sanitizeAttribs:_,sanitizeWithPolicy:F,unescapeEntities:f}}(g);var v=b.sanitize;if(typeof window!=="undefined"){window["html"]=b;window["html_sanitize"]=v}})();
},
	"sap/ui/thirdparty/crossroads.js":function(){
/** @license
 * crossroads <http://millermedeiros.github.com/crossroads.js/>
 * Author: Miller Medeiros | MIT License
 * v0.12.0 (2013/01/21 13:47)
 */
(function(){var e=function(e){var t,r,i;r=/t(.+)?/.exec("t")[1]==="";function s(e,t){if(e.indexOf){return e.indexOf(t)}else{var r=e.length;while(r--){if(e[r]===t){return r}}return-1}}function n(e,t){var r=s(e,t);if(r!==-1){e.splice(r,1)}}function a(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function o(e){return a(e,"RegExp")}function u(e){return a(e,"Array")}function h(e){return typeof e==="function"}function l(e){var t;if(e===null||e==="null"){t=null}else if(e==="true"){t=true}else if(e==="false"){t=false}else if(e===i||e==="undefined"){t=i}else if(e===""||isNaN(e)){t=e}else{t=parseFloat(e)}return t}function f(e){var t=e.length,r=[];while(t--){r[t]=l(e[t])}return r}function c(e,t){var r=(e||"").replace("?","").split("&"),i=r.length,s={},n,a;while(i--){n=r[i].split("=");a=t?l(n[1]):n[1];s[n[0]]=typeof a==="string"?decodeURIComponent(a):a}return s}function p(){this.bypassed=new e.Signal;this.routed=new e.Signal;this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState()}p.prototype={greedy:false,greedyEnabled:true,ignoreCase:true,ignoreState:false,shouldTypecast:false,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null},create:function(){return new p},addRoute:function(e,t,r){var i=new d(e,t,r,this);this._sortedInsert(i);return i},removeRoute:function(e){n(this._routes,e);e._destroy()},removeAllRoutes:function(){var e=this.getNumRoutes();while(e--){this._routes[e]._destroy()}this._routes.length=0},parse:function(e,t){e=e||"";t=t||[];if(!this.ignoreState&&(e===this._prevMatchedRequest||e===this._prevBypassedRequest)){return}var r=this._getMatchedRoutes(e),i=0,s=r.length,n;if(s){this._prevMatchedRequest=e;this._notifyPrevRoutes(r,e);this._prevRoutes=r;while(i<s){n=r[i];n.route.matched.dispatch.apply(n.route.matched,t.concat(n.params));n.isFirst=!i;this.routed.dispatch.apply(this.routed,t.concat([e,n]));i+=1}}else{this._prevBypassedRequest=e;this.bypassed.dispatch.apply(this.bypassed,t.concat([e]))}this._pipeParse(e,t)},_notifyPrevRoutes:function(e,t){var r=0,i;while(i=this._prevRoutes[r++]){if(i.route.switched&&this._didSwitch(i.route,e)){i.route.switched.dispatch(t)}}},_didSwitch:function(e,t){var r,i=0;while(r=t[i++]){if(r.route===e){return false}}return true},_pipeParse:function(e,t){var r=0,i;while(i=this._piped[r++]){i.parse(e,t)}},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,r=t.length;do{--r}while(t[r]&&e._priority<=t[r]._priority);t.splice(r+1,0,e)},_getMatchedRoutes:function(e){var t=[],r=this._routes,i=r.length,s;while(s=r[--i]){if((!t.length||this.greedy||s.greedy)&&s.match(e)){t.push({route:s,params:s._getParamsArray(e)})}if(!this.greedyEnabled&&t.length){break}}return t},pipe:function(e){this._piped.push(e)},unpipe:function(e){n(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}};t=new p;t.VERSION="0.12.0";t.NORM_AS_ARRAY=function(e,t){return[t.vals_]};t.NORM_AS_OBJECT=function(e,t){return[t]};function d(t,r,i,s){var n=o(t),a=s.patternLexer;this._router=s;this._pattern=t;this._paramsIds=n?null:a.getParamIds(t);this._optionalParamsIds=n?null:a.getOptionalParamsIds(t);this._matchRegexp=n?t:a.compilePattern(t,s.ignoreCase);this.matched=new e.Signal;this.switched=new e.Signal;if(r){this.matched.add(r)}this._priority=i||0}d.prototype={greedy:false,rules:void 0,match:function(e){e=e||"";return this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t=this.rules,r=this._getParamsObject(e),i;for(i in t){if(i!=="normalize_"&&t.hasOwnProperty(i)&&!this._isValidParam(e,i,r)){return false}}return true},_isValidParam:function(e,t,r){var i=this.rules[t],n=r[t],a=false,l=t.indexOf("?")===0;if(n==null&&this._optionalParamsIds&&s(this._optionalParamsIds,t)!==-1){a=true}else if(o(i)){if(l){n=r[t+"_"]}a=i.test(n)}else if(u(i)){if(l){n=r[t+"_"]}a=this._isValidArrayRule(i,n)}else if(h(i)){a=i(n,e,r)}return a},_isValidArrayRule:function(e,t){if(!this._router.ignoreCase){return s(e,t)!==-1}if(typeof t==="string"){t=t.toLowerCase()}var r=e.length,i,n;while(r--){i=e[r];n=typeof i==="string"?i.toLowerCase():i;if(n===t){return true}}return false},_getParamsObject:function(e){var t=this._router.shouldTypecast,i=this._router.patternLexer.getParamValues(e,this._matchRegexp,t),n={},a=i.length,o,u;while(a--){u=i[a];if(this._paramsIds){o=this._paramsIds[a];if(o.indexOf("?")===0&&u){n[o+"_"]=u;u=c(u,t);i[a]=u}if(r&&u===""&&s(this._optionalParamsIds,o)!==-1){u=void 0;i[a]=u}n[o]=u}n[a]=u}n.request_=t?l(e):e;n.vals_=i;return n},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null,r;t=t||this._router.normalizeFn;if(t&&h(t)){r=t(e,this._getParamsObject(e))}else{r=this._getParamsObject(e).vals_}return r},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t)){throw new Error("Generated string doesn't validate against `Route.rules`.")}return t},extrapolate:function(e){var t={};if(!e){return t}var r=this._getParamsObject(e);this._paramsIds.forEach(function(e){if(r.hasOwnProperty(e)){t[e]=r[e]}});return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose();this.switched.dispose();this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}};p.prototype.patternLexer=function(){var e=/[\\.+*?\^$\[\](){}\/'#]/g,t=/^\/|\/$/g,r=/\/$/g,i=/(?:\{|:)([^}:]+)(?:\}|:)/g,s=function(e,t,r){var i=r.lastIndexOf("__CR_RS__"),s=r.indexOf("__CR_RQ__"),a=r.indexOf("__CR_OQ__"),o=r.indexOf("\\/",t),u=Math.min(a===-1?r.length:a,s===-1?r.length:s),h=t+e.length;if(h>=u||h<i||h<o){return n.OS.res_normal}else{return n.OS.res_arsbq}},n={OS:{rgx:/([:})]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:s,res_normal:"\\/?",res_arsbq:"(?:(?:\\/(?=(?:[^\\/?]+)?))|(?:\\/?(?=\\?))|^\\/?|\\/?$)"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?(.+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?(.*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?(?:\\/(?!\\/))?"}},a=1,o=2,u=3,h=a;function l(){var e,t;for(e in n){if(n.hasOwnProperty(e)){t=n[e];t.id="__CR_"+e+"__";t.save="save"in t?t.save.replace("{{id}}",t.id):t.id;t.rRestore=new RegExp(t.id,"g")}}}l();function c(e,t){var r=[],i;e.lastIndex=0;while(i=e.exec(t)){r.push(i[1])}return r}function p(e){return c(i,e)}function d(e){return c(n.OP.rgx,e)}function _(i,s){i=i||"";if(i){if(h===a){i=i.replace(t,"")}else if(h===u){i=i.replace(r,"")}i=g(i,"rgx","save");i=i.replace(e,"\\$&");i=g(i,"rRestore","res");if(h===a){i="\\/?"+i}}if(h!==o){i+="\\/?"}return new RegExp("^"+i+"$",s?"i":"")}function g(e,t,r){var i,s;for(s in n){if(n.hasOwnProperty(s)){i=n[s];e=e.replace(i[t],i[r])}}return e}function v(e,t,r){var i=t.exec(e);if(i){i.shift();if(r){i=f(i)}}return i}function m(e,t){if(typeof e!=="string"){throw new Error("Route pattern should be a string.")}var r=function(e,r){var i,s;if(r.charAt(0)==="?"){s=t[r]||t[r.substring(1)]}else{s=t[r]}if(s!=null){if(typeof s==="object"){var n=[];for(var a in s){n.push(encodeURI(a+"="+s[a]))}i="?"+n.join("&")}else{i=String(s)}if(e.indexOf("*")===-1&&i.indexOf("/")!==-1){throw new Error('Invalid value "'+i+'" for segment "'+e+'".')}}else if(e.indexOf("{")!==-1){throw new Error("The segment "+e+" is required.")}else{i=""}return i};if(!n.OS.trail){n.OS.trail=new RegExp("(?:"+n.OS.id+")+$")}return e.replace(n.OS.rgx,n.OS.save).replace(i,r).replace(n.OS.trail,"").replace(n.OS.rRestore,"/")}return{strict:function(){h=o},loose:function(){h=a},legacy:function(){h=u},getParamIds:p,getOptionalParamsIds:d,getParamValues:v,compilePattern:_,interpolate:m}}();return t};if(typeof define==="function"&&define.amd){define(["signals"],e)}else{window["crossroads"]=e(window["signals"])}})();
},
	"sap/ui/thirdparty/hasher.js":function(){
/*!!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
(function(){var e=function(e){var n=function(n){var t=25,i=n.document,a=n.history,r=e.Signal,o,s,c,f,l,u,p=/#(.*)$/,d=/(\?.*)|(\#.*)/,h=/^\#/,v=!+"\v1",g="onhashchange"in n&&i.documentMode!==7,w=v&&!g,m=location.protocol==="file:";function H(e){return String(e||"").replace(/\W/g,"\\$&")}function y(e){if(!e)return"";var n=new RegExp("^"+H(o.prependHash)+"|"+H(o.appendHash)+"$","g");return e.replace(n,"")}function E(){var e=p.exec(o.getURL());var n=e&&e[1]||"";try{return o.raw?n:decodeURIComponent(n)}catch(e){return n}}function R(){return l?l.contentWindow.frameHash:null}function L(){l=i.createElement("iframe");l.src="about:blank";l.style.display="none";i.body.appendChild(l)}function b(){if(l&&s!==R()){var e=l.contentWindow.document;e.open();e.write("<html><head><title>"+i.title+'</title><script type="text/javascript">var frameHash="'+s+'";<\/script></head><body>&nbsp;</body></html>');e.close()}}function x(e,n){if(s!==e){var t=s;s=e;if(w){if(!n){b()}else{l.contentWindow.frameHash=e}}return function(){o.changed.dispatch(y(e),y(t))}}}if(w){u=function(){var e=E(),n=R(),t;if(n!==s&&n!==e){o.setHash(y(n))}else if(e!==s){t=x(e);t&&t()}}}else{u=function(){var e=E(),n;if(e!==s){n=x(e);n&&n()}}}function I(e,n,t){if(e.addEventListener){e.addEventListener(n,t,false)}else if(e.attachEvent){e.attachEvent("on"+n,t)}}function U(e,n,t){if(e.removeEventListener){e.removeEventListener(n,t,false)}else if(e.detachEvent){e.detachEvent("on"+n,t)}}function z(e){e=Array.prototype.slice.call(arguments);var n=e.join(o.separator);n=n?o.prependHash+n.replace(h,"")+o.appendHash:n;return n}function S(e){e=encodeURI(e);if(v&&m){e=e.replace(/\?/,"%3F")}return e}o={VERSION:"1.2.0",raw:false,appendHash:"",prependHash:"/",separator:"/",changed:new r,stopped:new r,initialized:new r,init:function(){if(f)return;s=E();if(g){I(n,"hashchange",u)}else{if(w){if(!l){L()}b()}c=setInterval(u,t)}f=true;o.initialized.dispatch(y(s))},stop:function(){if(!f)return;if(g){U(n,"hashchange",u)}else{clearInterval(c);c=null}f=false;o.stopped.dispatch(y(s))},isActive:function(){return f},getURL:function(){return n.location.href},getBaseURL:function(){return o.getURL().replace(d,"")},setHash:function(e){var t;e=z.apply(null,arguments);if(e!==s){t=x(e);if(!o.raw){e=S(e)}n.location.hash="#"+e;t&&t()}},replaceHash:function(e){var t,i=n.location.href,a=i.indexOf("#");e=z.apply(null,arguments);if(e!==s){t=x(e);if(!o.raw){e=S(e)}if(a!==-1){i=i.slice(0,a)}n.location.replace(i+"#"+e);t&&t()}},getHash:function(){return y(s)},getHashAsArray:function(){return o.getHash().split(o.separator)},dispose:function(){o.stop();o.initialized.dispose();o.stopped.dispose();o.changed.dispose();l=o=n.hasher=null},toString:function(){return'[hasher version="'+o.VERSION+'" hash="'+o.getHash()+'"]'}};o.initialized.memorize=true;return o}(window);return n};if(typeof define==="function"&&define.amd){define(["signals"],e)}else if(typeof exports==="object"){module.exports=e(require("signals"))}else{window["hasher"]=e(window["signals"])}})();
},
	"sap/ui/thirdparty/signals.js":function(){
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
(function(i){function t(i,t,e,n,s){this._listener=t;this._isOnce=e;this.context=n;this._signal=i;this._priority=s||0}t.prototype={active:true,params:null,execute:function(i){var t,e;if(this.active&&!!this._listener){e=this.params?this.params.concat(i):i;t=this._listener.apply(this.context,e);if(this._isOnce){this.detach()}}return t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function e(i,t){if(typeof i!=="function"){throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}}function n(){this._bindings=[];this._prevParams=null;var i=this;this.dispatch=function(){n.prototype.dispatch.apply(i,arguments)}}n.prototype={VERSION:"1.0.0",memorize:false,_shouldPropagate:true,active:true,_registerListener:function(i,e,n,s){var r=this._indexOfListener(i,n),h;if(r!==-1){h=this._bindings[r];if(h.isOnce()!==e){throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(!e?"":"Once")+"() the same listener without removing the relationship first.")}}else{h=new t(this,i,e,n,s);this._addBinding(h)}if(this.memorize&&this._prevParams){h.execute(this._prevParams)}return h},_addBinding:function(i){var t=this._bindings.length;do{--t}while(this._bindings[t]&&i._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,i)},_indexOfListener:function(i,t){var e=this._bindings.length,n;while(e--){n=this._bindings[e];if(n._listener===i&&n.context===t){return e}}return-1},has:function(i,t){return this._indexOfListener(i,t)!==-1},add:function(i,t,n){e(i,"add");return this._registerListener(i,false,t,n)},addOnce:function(i,t,n){e(i,"addOnce");return this._registerListener(i,true,t,n)},remove:function(i,t){e(i,"remove");var n=this._indexOfListener(i,t);if(n!==-1){this._bindings[n]._destroy();this._bindings.splice(n,1)}return i},removeAll:function(){var i=this._bindings.length;while(i--){this._bindings[i]._destroy()}this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=false},dispatch:function(i){if(!this.active){return}var t=Array.prototype.slice.call(arguments),e=this._bindings.length,n;if(this.memorize){this._prevParams=t}if(!e){return}n=this._bindings.slice();this._shouldPropagate=true;do{e--}while(n[e]&&this._shouldPropagate&&n[e].execute(t)!==false)},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=n;s.Signal=n;if(typeof define==="function"&&define.amd){define(function(){return s})}else{i["signals"]=s}})(this);
},
	"sap/ushell/appRuntime/ui5/AppRuntime.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
prepareModules();sap.ui.define(["sap/ui/core/Core","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/deepExtend","sap/base/util/isEmptyObject","sap/m/library","sap/ui/core/BusyIndicator","sap/ui/core/ComponentContainer","sap/ui/core/Popup","sap/ui/core/routing/History","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/performance/FesrEnhancer","sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent","sap/ushell/appRuntime/ui5/services/AppConfiguration","sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent","sap/ushell/appRuntime/ui5/services/ShellUIService","sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/EventHub","sap/ushell/iconfonts","sap/ushell/UI5ComponentType","sap/ushell/ui5service/UserStatus","sap/ushell/utils/UrlParsing","sap/ushell/utils/WindowUtils","sap/ushell/appRuntime/ui5/AppRuntimeContext","sap/ui/core/Configuration"],function(e,t,i,n,a,s,r,p,u,o,l,jQuery,c,h,d,f,m,g,v,y,C,A,S,R,b,I,P,w,U,M){"use strict";var F=s.URLHelper;m.init();var H,D=(new c).search(true),L,O=false,T,k=false,B=false,E=false,N=false,x=false,_;function W(){this.main=function(){var e,i=Promise.resolve(),n=Promise.resolve(),a=Promise.resolve(),s=H._getURI();jQuery("body").css("height","100%").css("width","100%");h.init(true);f.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsBusy",{bValue:true});this.getPageConfig(s);H.setModulePaths();e=H.loadAdditionalLibs();if(s.hasOwnProperty("sap-remote-intent")){i=f.sendMessageToOuterShell("sap.ushell.services.UserInfo.getLocaleData",undefined,undefined,3e3,{})}U.setAppLifeCycleAgent(y);y.expandSapIntentParams(H._getURI()).then(function(s){var r,p;if(s.hasOwnProperty("sap-remote-intent")===true){U.setIsScube(true);p=s["sap-remote-intent"];if(p===undefined){t.error("Application cannot be opened. 'sAppIntent' is undefined")}U.setRemoteSystemId(s["sap-remote-system"]);H.adjustIframeURL()}else{r=s["sap-ui-app-id"]}H.init();var u=new Promise(function(e){sap.ui.require(["sap/ushell/appRuntime/ui5/services/UserInfo"],e)});if(U.getIsScube()===true){a=H.initServicesContainer()}else{n=H.initServicesContainer()}e.push(a);Promise.all(e).then(function(){if(U.getIsScube()===true){sap.ushell.Container.getServiceAsync("CommonDataModel")}Promise.all([n,H.getAppInfo(r,p),u,i]).then(function(e){var t=e[1].oResolvedHashFragment,i=e[1].oParsedHash,n=e[3]||{};H._setUI5LocaleAttributes(n);A.init();g.init();H._setInitialAppRoute();H.createApplication(r,s,t,p,i).then(function(e){H.renderApplication(e);f.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsBusy",{bValue:false})})})})})};this._setUI5LocaleAttributes=function(e){if(Object.keys(e).length>0){var t=M.getFormatSettings();if(e.dateFormatShort){t.setDatePattern("short",e.dateFormatShort)}if(e.dateFormatMedium){t.setDatePattern("medium",e.dateFormatMedium)}if(e.numberFormatGroup){t.setNumberSymbol("group",e.numberFormatGroup)}if(e.numberFormatDecimal){t.setNumberSymbol("decimal",e.numberFormatDecimal)}if(e.timeFormatShort){t.setTimePattern("short",e.timeFormatShort)}if(e.timeFormatMedium){t.setTimePattern("medium",e.timeFormatMedium)}if(e.calendarMapping){t.setLegacyDateCalendarCustomizing(e.calendarMapping)}if(e.timeZone){M.setTimezone(e.timeZone)}if(e.currencyFormats){t.setCustomCurrencies(e.currencyFormats)}}};this._setInitialAppRoute=function(){var e=P.parseShellHash(l.getHash());if(e&&e.appSpecificRoute&&e.appSpecificRoute.length>0){f.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute",{appSpecificRoute:decodeURIComponent(e.appSpecificRoute)})}};this._getURI=function(){return(new c).query(true)};this.init=function(){R.registerFiori2IconFont();x=this._getURIParams()["sap-manifest-width"];v.setFullWidthFromManifest(x);d.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{hashChange:{executeServiceCallFn:function(e){var t=e.oMessageData.body.sHash;if(typeof t==="string"){var i=P.parseShellHash(t),n=P.parseShellHash(l.getHash());if(i&&n&&i.semanticObject===n.semanticObject&&i.action===n.action){l.replaceHash(t)}}return(new jQuery.Deferred).resolve().promise()}},setDirtyFlag:{executeServiceCallFn:function(e){var t=e.oMessageData.body.bIsDirty;if(t!==sap.ushell.Container.getDirtyFlag()){sap.ushell.Container.setDirtyFlag(t)}return(new jQuery.Deferred).resolve().promise()}},getDirtyFlag:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(sap.ushell.Container.getDirtyFlag()).promise()}},themeChange:{executeServiceCallFn:function(e){var t=e.oMessageData.body.currentThemeId;sap.ushell.Container.getUser().setTheme(t);return(new jQuery.Deferred).resolve().promise()}},buttonClick:{executeServiceCallFn:function(e){sap.ushell.renderers.fiori2.Renderer.handleHeaderButtonClick(e.oMessageData.body.buttonId);return(new jQuery.Deferred).resolve().promise()}},uiDensityChange:{executeServiceCallFn:function(e){var t=e.oMessageData.body.isTouch;jQuery("body").toggleClass("sapUiSizeCompact",t==="0").toggleClass("sapUiSizeCozy",t==="1");return(new jQuery.Deferred).resolve().promise()}},handleDirtyStateProvider:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(sap.ushell.Container.handleDirtyStateProvider(e.oMessageData.body.oNavigationContext)).promise()}}}},"sap.ushell.services.MessageBroker":{oServiceCalls:{_execute:{executeServiceCallFn:function(e){return sap.ushell.Container.getServiceAsync("MessageBroker").then(function(t){return t.handleMessage(e.oMessageData.body)})}}}}})};this.handleLinkElementOpen=function(e,t){try{if(t.isDefaultPrevented&&t.isDefaultPrevented()===true){return}var i=t.target;if(i&&i.tagName==="A"&&i.href&&i.href.indexOf("#")>0){if(i.target==="_blank"){var n=H.rebuildNewAppUrl(i.href,e);if(n!==i.href){w.openURL(n);t.preventDefault()}}else if(i.target===undefined||i.target===""){var a=i.href.split("#"),s=document.URL.split("#");if(a[0]===s[0]){var r=a[1]&&a[1].split("&/"),p=s[1]&&s[1].split("&/");if(typeof r[0]==="string"&&typeof p[0]==="string"&&r[0]!==p[0]){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.toExternal({target:{shellHash:a[1]}})});t.preventDefault()}}}}}catch(e){}};this.rebuildNewAppUrl=function(e,t){var i=e.split("#");if(i[0].length===0||i[0]===document.URL.split("#")[0]){return t+"#"+i[1]}return e};this.getPageConfig=function(e){var t,i={};N=D["sap-spaces"]==="true";t=jQuery("meta[name='sap.ushellConfig.ui5appruntime']")[0];if(t!==undefined){i=JSON.parse(t.content);if(N===true){i.ushell=i.ushell||{};i.ushell.spaces={enabled:true}}}window["sap-ushell-config"]=n({},j(),i);if(e.hasOwnProperty("sap-remote-intent")){var a=window["sap-ushell-config"].bootstrapPlugins;if(a&&a.hasOwnProperty("WAPluginAgent")&&a["WAPluginAgent"].hasOwnProperty("config")){delete a["WAPluginAgent"].config["sap-plugin-agent"]}}};this.setModulePaths=function(){if(window["sap-ushell-config"].modulePaths){var e=Object.keys(window["sap-ushell-config"].modulePaths),t;for(var i in e){t=e[i];(function(e){var t={};t[e.replace(/\./g,"/")]=window["sap-ushell-config"].modulePaths[e];sap.ui.loader.config({paths:t})})(t)}}};this.loadAdditionalLibs=function(){var t=i.get("ui5.libs",window["sap-ushell-config"])||{},n=[];Object.keys(t).forEach(function(i){if(t[i]===true){n.push(e.loadLibrary(i,{async:true}))}});return n};this.adjustIframeURL=function(){};this.initServicesContainer=function(){return new Promise(function(e){sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],function(t){t.bootstrap("apprt",{apprt:"sap.ushell.appRuntime.ui5.services.adapters"}).then(function(){sap.ushell.Container.getFLPUrlAsync().then(function(e){jQuery(document).on("click.appruntime",H.handleLinkElementOpen.bind(H,e));jQuery(document).on("keydown.appruntime",function(t){if(t.code==="Enter"){return H.handleLinkElementOpen(e,t)}})});sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){_=t;_.init(function(){});y.setShellNavigationService(_);H._enableHistoryEntryReplacedDetection();e()})})})})};this._enableHistoryEntryReplacedDetection=function(){this._fnOriginalSetHash=l.setHash;this._fnOriginalReplaceHash=l.replaceHash;l.setHash=function(){if(l.disableCFLPUpdate===true){return this._fnOriginalSetHash.apply(l,arguments)}if(U.checkDataLossAndContinue()){return this._fnOriginalSetHash.apply(l,arguments)}}.bind(this);l.replaceHash=function(){if(l.disableCFLPUpdate===true){return this._fnOriginalReplaceHash.apply(l,arguments)}if(U.checkDataLossAndContinue()){return this._fnOriginalReplaceHash.apply(l,arguments)}}.bind(this)};this._getURIParams=function(){return D};this.getAppInfo=function(e,t){var i,n,s;if(e){i=window["sap-ushell-config"].ui5appruntime.config.appIndex.data;n=window["sap-ushell-config"].ui5appruntime.config.appIndex.module;s=window["sap-ushell-config"].ui5appruntime.config.appIndex.enableCache}return new Promise(function(r){if(e&&i&&!a(i)){y.init(n,H.createApplication.bind(H),H.renderApplication.bind(H),s,e,i);r({oResolvedHashFragment:i})}else{y.init(n,H.createApplication.bind(H),H.renderApplication.bind(H),s);y.getAppInfo(e,document.URL,t).then(r)}})};this.setHashChangedCallback=function(){if(B===true){return}function e(e,t){if(l.disableCFLPUpdate===true){return}if(e&&typeof e==="string"&&e.length>0){if(t&&typeof t==="string"&&t.length>0){var i=e.split("&/"),n=t.split("&/");if(i[0]!==n[0]){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.toExternal({target:{shellHash:e}})});return}}f.sendMessageToOuterShell("sap.ushell.appRuntime.hashChange",{newHash:e,direction:o.getInstance().getDirection()})}}l.changed.add(e.bind(this),this);B=true};this.createApplication=function(e,i,n,a,s){var r=P.getHash(window.location.href);return new Promise(function(o){var l="";if(i.hasOwnProperty("sap-history-dir")){l=i["sap-history-dir"];_.hashChanger.fireEvent("hashReplaced",{hash:_.hashChanger.getHash(),direction:l});t.debug("AppRuntime.createApplication :: Informed by the FLP, to change the History direction "+"property in the Iframe to: "+l)}L=new p({id:(U.getIsScube()===true?a:e)+"-content",width:"100%",height:"100%"});L.addStyleClass("sapAppRuntimeBaseStyle");var c="0";if(D.hasOwnProperty("sap-touch")){c=D["sap-touch"];if(c!=="0"&&c!=="1"){c="0"}}jQuery("body").toggleClass("sapUiSizeCompact",c==="0").toggleClass("sapUiSizeCozy",c==="1");if(E===false){var h=new C({scopeObject:L,scopeType:"component"});h.setBackNavigation();new I({scopeObject:L,scopeType:"component"});y.setShellUIService(h);sap.ushell.renderers.fiori2.utils.init();if(u.attachBlockLayerStateChange){u.attachBlockLayerStateChange(function(e){f.sendMessageToOuterShell("sap.ushell.services.ShellUIService.showShellUIBlocker",{bShow:e.getParameters().visible})})}E=true}(U.getIsScube()?Promise.resolve(""):y.getApplicationParameters(i)).then(function(t){n.url+=t;H.setHashChangedCallback();Promise.all([sap.ushell.Container.getServiceAsync("Ui5ComponentLoader"),sap.ushell.Container.getServiceAsync("AppLifeCycle")]).then(function(t){var i=t[0];var p=t[1];if(n.asyncHints&&Array.isArray(n.asyncHints.libs)){n.asyncHints.libs=n.asyncHints.libs.filter(function(e){return e.name!=="sap.ushell"})}var u,l;if(U.getIsScube()===true){u=n;l=s}else{u={ui5ComponentName:e,applicationDependencies:n,url:n.url};l=P.parseShellHash(r)}i.createComponent(u,l,[],b.Application).then(function(e){var t;if(U.getIsScube()===true){try{if(r&&r.indexOf("Shell-startIntent")===0){t=e.componentHandle.getMetadata().getManifestEntry("/sap.app/title");if(typeof t==="string"){f.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setTitle",{sTitle:t})}}}catch(e){}}L.setComponent(e.componentHandle.getInstance());y.setCurrentApp(L,a||"",u.ui5ComponentName);m.setAppShortId(e.componentHandle);p.prepareCurrentAppObject("UI5",e.componentHandle.getInstance(),false,undefined);var i=p.getCurrentApplication();i.getInfo(["appFrameworkVersion","appSupportInfo","appId","appVersion"]).then(function(e){for(var i in e){if(e[i]===undefined||e[i]===""){delete e[i]}}e.appFrameworkId="UI5";e.technicalAppComponentId=u.ui5ComponentName;if(typeof t==="string"){e.appTitle=t}y.setCurrentAppAttributes(e);setTimeout(function(){f.sendMessageToOuterShell("sap.ushell.services.AppLifeCycle.setNewAppInfo",{info:e})},500)});H.considerChangingTheDefaultFullWidthVal(e);H.overrideUrlHelperFuncs();o(e)})})})})};this.considerChangingTheDefaultFullWidthVal=function(e){if(x===true||x==="true"){S.emit("appWidthChange",false);var t=e.componentHandle.getInstance();var i=t.getMetadata();var n;if(i){n=t.getMetadata().getManifestEntry("/sap.ui/fullWidth");if(n===true||n==="true"){S.emit("appWidthChange",true)}else if(n===undefined){n=t.getMetadata().getManifestEntry("/sap.ui5/config/fullWidth");if(n===true||n==="true"){S.emit("appWidthChange",true)}}}}};this.overrideUrlHelperFuncs=function(){if(O===true){return}O=true;if(F){F.triggerEmail=function(e,t,i,n,a){f.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmail",{sTo:e,sSubject:t,sBody:i,sCc:n,sBcc:a,sIFrameURL:document.URL,bSetAppStateToPublic:true})};T=F.redirect;F.redirect=function(e,t){if(e&&t===true&&e.indexOf("#")>=0){sap.ushell.Container.getFLPUrlAsync().then(function(i){var n=H.rebuildNewAppUrl(e,i);T.call(F,n,t)})}else{T.call(F,e,t)}}}};this.loadPlugins=function(){if(k===true){return}k=true;sap.ushell.Container.getServiceAsync("PluginManager").then(function(e){s(e);if(U.getIsScube()===false){W(e)}e.loadPlugins("RendererExtensions")})};function s(e){e.registerPlugins({RTAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/rtaAgent"),config:{"sap-plugin-agent":true}}})}function W(e){e.registerPlugins({WAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.scriptAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/scriptAgent"),config:{"sap-plugin-agent":true,scube:false}}})}this.renderApplication=function(e){L.placeAt("content");r.hide();setTimeout(function(){if(e.componentHandle.getInstance().active){e.componentHandle.getInstance().active()}H.loadPlugins()},0)}}function j(){return{services:{CrossApplicationNavigation:{module:"sap.ushell.appRuntime.ui5.services.CrossApplicationNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolution:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolution",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigation:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppConfiguration:{module:"sap.ushell.appRuntime.ui5.services.AppConfiguration"},Bookmark:{module:"sap.ushell.appRuntime.ui5.services.Bookmark",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},LaunchPage:{module:"sap.ushell.appRuntime.ui5.services.LaunchPage",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},UserInfo:{module:"sap.ushell.appRuntime.ui5.services.UserInfo",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppState:{module:"sap.ushell.appRuntime.ui5.services.AppState",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},PluginManager:{config:{isBlueBox:true}},Menu:{module:"sap.ushell.appRuntime.ui5.services.Menu",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},CommonDataModel:{module:"sap.ushell.appRuntime.ui5.services.CommonDataModel",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ReferenceResolver:{module:"sap.ushell.appRuntime.ui5.services.ReferenceResolver"},MessageBroker:{module:"sap.ushell.appRuntime.ui5.services.MessageBroker"},Ui5ComponentLoader:{config:{loadDefaultDependencies:false}}},ushell:{customPreload:{enabled:false}}}}var z=new W;H=z;z.main();return z});function prepareModules(){"use strict";sap.ui.require(["sap/ui/core/BusyIndicator"],function(e){try{if(apprtBIdiv){document.body.classList.remove("apprtBIbg");apprtBIdiv.parentNode.removeChild(apprtBIdiv);apprtBIstyle.parentNode.removeChild(apprtBIstyle)}e.show(0)}catch(t){e.show(0)}});if(document.URL.indexOf("ui5appruntime")>0){sap.ui.define("sap/ushell/URLTemplateProcessor",[],function(){return{}});sap.ui.define("sap/ushell/_ApplicationType/wdaResolution",[],function(){return{}});sap.ui.define("sap/ushell/_ApplicationType/guiResolution",[],function(){return{}});if(document.URL.indexOf("sap-ui-app-id=")>0){sap.ui.define("sap/ushell/ApplicationType",[],function(){return{URL:{type:"URL"},WDA:{type:"WDA"},TR:{type:"TR"},NWBC:{type:"NWBC"},WCF:{type:"WCF"},SAPUI5:{type:"SAPUI5"}}})}sap.ui.define("sap/ushell/components/applicationIntegration/AppLifeCycle",[],function(){return{}});sap.ui.define("sap/ushell/services/_AppState/WindowAdapter",[],function(){return function(){}});sap.ui.define("sap/ushell/services/_AppState/SequentializingAdapter",[],function(){return function(){}});sap.ui.define("sap/ushell/services/_AppState/Sequentializer",[],function(){return function(){}});sap.ui.define("sap/ushell/services/Configuration",[],function(){function e(){this.attachSizeBehaviorUpdate=function(){};this.hasNoAdapter=true}e.hasNoAdapter=true;return e});sap.ui.define("sap/ushell/services/_PluginManager/Extensions",[],function(){return function(){}});sap.ui.define("sap/ushell/services/_MessageBroker/MessageBrokerEngine",[],function(){return function(){}});sap.ui.define("sap/ushell/bootstrap/common/common.load.core-min",[],function(){return{loaded:false,load:function(e){}}})}}
this.prepareModules=prepareModules;
},
	"sap/ushell/appRuntime/ui5/BusyIndicator.js":'// Copyright (c) 2009-2023 SAP SE, All Rights Reserved\nvar apprtBIdiv,apprtBIstyle;document.addEventListener("DOMContentLoaded",function(){try{apprtBIstyle=document.createElement("style");apprtBIstyle.type="text/css";apprtBIstyle.innerHTML=".apprtBIbg {background-color:#636363} "+".apprtBIcenter {position: absolute;top: 50%;left: 50%;margin-top: -50px;margin-left: -100px;width: 200px;height: 100px;} "+".apprtBIcir {height: 30px;width: 30px;border-radius:50%;transform: scale(0);background-color:#0854a0;animation: apprtBIscaling 1.8s ease-in-out infinite;display: inline-block;margin:.1rem;} "+".apprtBIcir:nth-child(0) {animation-delay:0s;} "+".apprtBIcir:nth-child(1) {animation-delay:0.2s;} "+".apprtBIcir:nth-child(2) {animation-delay:0.4s;} "+".apprtBIcir:nth-child(3) {animation-delay:0.6s;} "+"@keyframes apprtBIscaling {0%, 100% {transform: scale(0.2);} 40% {transform: scale(1);} 50% {transform: scale(1);}}";document.getElementsByTagName("head")[0].appendChild(apprtBIstyle);document.body.classList.add("apprtBIbg");apprtBIdiv=document.createElement("div");apprtBIdiv.classList.add("apprtBIcenter");document.body.appendChild(apprtBIdiv);var t;t=document.createElement("div");t.classList.add("apprtBIcir");apprtBIdiv.appendChild(t);t=document.createElement("div");t.classList.add("apprtBIcir");apprtBIdiv.appendChild(t);t=document.createElement("div");t.classList.add("apprtBIcir");apprtBIdiv.appendChild(t);document.body.style.height="100%";document.body.style.width="100%"}catch(t){}});\n//# sourceMappingURL=BusyIndicator.js.map',
	"sap/ushell/appRuntime/ui5/libsPreload.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
try{document.getElementById("sap-ui-bootstrap").setAttribute("data-sap-ui-libs","sap.ui.core,sap.m,sap.ui.fl")}catch(t){}try{document.getElementById("sap-ui-bootstrap").setAttribute("data-sap-ui-compatVersion","edge")}catch(t){}
}
},"sap/ushell/core-lib111-preload");
sap.ui.requireSync("sap/ui/core/Core");
// as this module contains the Core, we ensure that the Core has been booted
sap.ui.getCore().boot && sap.ui.getCore().boot();
//# sourceMappingURL=appruntime-min-3.js.map
