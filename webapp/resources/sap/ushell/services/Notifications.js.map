{"version":3,"file":"Notifications.js","names":["sap","ui","define","Log","Core","Configuration","SapPcpWebSocket","JSONModel","OData","hasher","jQuery","ushellUtils","S_DEFAULT_WEBSOCKET_URL","I_DEFAULT_POLLING_INTERVAL","Notifications","oContainerInterface","sParameters","oServiceConfiguration","oModel","tInitializationTimestamp","Date","oServiceConfig","config","aRequestURIs","getNotifications","getNotificationsByType","getNotificationsInGroup","getBadgeNumber","resetBadgeNumber","getNotificationTypesSettings","getNotificationsGroupHeaders","getMobileSupportSettings","getEmailSupportSettings","getWebSocketValidity","getNotificationCount","oWebSocket","initialReadTimer","webSocketRecoveryTimer","pollingTimer","aUpdateNotificationsCallbacks","aUpdateDependencyNotificationsCallbacks","aUpdateNotificationsCountCallbacks","bIntentBasedConsumption","aConsumedIntents","bInitialized","bOnServiceStop","bEnabled","sHeaderXcsrfToken","sDataServiceVersion","tWebSocketRecoveryPeriod","tFioriClientInitializationPeriod","bWebSocketRecoveryAttempted","oOperationEnum","NOTIFICATIONS","NOTIFICATIONS_BY_TYPE","GET_BADGE_NUMBER","RESET_BADGE_NUMBER","GET_SETTINGS","GET_MOBILE_SUPPORT_SETTINGS","NOTIFICATIONS_GROUP_HEADERS","NOTIFICATIONS_IN_GROUP","GET_NOTIFICATIONS_COUNT","VALIDATE_WEBSOCKET_CHANNEL","GET_EMAIL_SUPPORT_SETTINGS","NOTIFICATIONS_BY_DATE_DESCENDING","NOTIFICATIONS_BY_DATE_ASCENDING","NOTIFICATIONS_BY_PRIORITY_DESCENDING","NOTIFICATIONS_BY_TYPE_DESCENDING","oModesEnum","PACKAGED_APP","FIORI_CLIENT","WEB_SOCKET","POLLING","oCurrentMode","bFirstDataLoaded","bHighPriorityBannerEnabled","bUserFlagsReadFromPersonalization","oUserFlagsReadFromPersonalizationDeferred","Deferred","oNotificationSettingsAvailabilityDeferred","bNotificationSettingsMobileSupport","bNotificationSettingsEmailSupport","oUserFlagsReadFromPersonalizationPromise","promise","bUseDummyItems","oDummyItems","iInitialBufferSize","bInvalidCsrfTokenRecoveryMode","bCsrfDataSet","aDismissNotifications","this","isEnabled","enabled","serviceUrl","warning","init","getEventBus","subscribe","destroy","lastNotificationDate","_setWorkingMode","bUpdateDependencyInitiatorExists","_userSettingInitialization","_onSetConnectionToServer","channelID","eventID","data","active","_resumeConnection","_closeConnection","getUnseenNotificationsCount","oDeferred","resolve","getProperty","getNotificationsCount","getNotificationsByTypeWithGroupHeaders","oHeader","getLanguageTag","oRequestObject","sReadNotificationsByTypeWithGroupHeadersUrl","_getRequestURI","requestUri","_getHeaderXcsrfToken","headers","request","oResult","oMessage","response","statusCode","body","reject","error","sReadNotificationsGroupHeadersUrl","getNotificationsBufferInGroup","sGroup","iSkip","iTop","that","oArgs","group","skip","top","aResponse","oResponse","sRequestUri","slice","JSON","stringify","value","setTimeout","_updateCSRF","parse","getNotificationsBufferBySortingType","sSortingType","oReadPromise","_readNotificationsData","done","fail","executeBulkAction","sNotificationGroupId","sActionId","aSucceededNotifications","aFailedNotifications","succededNotifications","failedNotifications","sendBulkAction","res","forEach","oNotificationRes","iIndex","sNotificationId","NotificationId","bSuccess","Success","push","length","dismissBulkNotifications","sendBulkDismiss","executeAction","sActionUrl","oRequestBody","ActionId","method","DataServiceVersion","responseAckJson","responseAck","isSucessfull","message","MessageText","_csrfTokenInvalid","_invalidCsrfTokenRecovery","sParentId","ParentId","markRead","dismissNotification","_addDismissNotifications","registerNotificationsUpdateCallback","callback","registerDependencyNotificationsUpdateCallback","bDependent","dependent","registerNotificationCountUpdateCallback","notificationsSeen","_setNotificationsAsSeen","isFirstDataLoaded","readSettings","oPromise","_readSettingsFromServer","saveSettingsEntry","oEntry","_writeSettingsEntryToServer","getUserSettingsFlags","highPriorityBannerEnabled","setUserSettingsFlags","oFlags","_writeUserSettingsFlagsToPersonalization","_getNotificationSettingsMobileSupport","_getDismissNotifications","filterDismisssedItems","aRecentNotificationsArray","filter","oRecentItem","some","sDismissItem","originalItemId","sId","indexOf","_initializeDismissNotifications","_getNotificationSettingsEmailSupport","clearTimeout","close","unsubscribe","_readUnseenNotificationsCount","bUpdateCustomers","sGetBadgeNumberUrl","read","oResponseData","setProperty","GetBadgeNumber","Number","_setNativeIconBadge","oReturnedObject","readNotificationsCount","sGetNotificationNumberUrl","_getNotificationSettingsAvailability","sResetBadgeNumberUrl","_isFioriClientMode","_isPackagedMode","bUpdateConsumers","oReadUnseesCountPromise","oReadNotificationsPromise","oReadNotificationsCountPromise","aPromises","when","apply","then","_updateNotificationsCountConsumers","_notificationAlert","_updateNotificationsConsumers","_updateDependentNotificationsConsumers","_getDataServiceVersion","oRequiredURI","sReturnedURI","sEncodedConsumedIntents","encodeURI","_getConsumedIntents","basic","undefined","_isIntentBasedConsumption","byIntents","concat","sReadSettingsUrl","results","_readMobileSettingsFromServer","_readChannelSettingsFromServer","_readEmailSettingsFromServer","operation","sRequestUrl","oResponseObject","sUpdatedResponseString","successStatus","_checkWebSocketActivity","IsActive","sSetSettingsUrl","NotificationTypeId","callbackObj","_updateAllConsumers","_getModel","_getMode","aConsumedIntentsFromConfig","intentBasedConsumption","_getIntentsFromConfiguration","consumedIntents","window","fiori_client_appConfig","applications","_registerForPush","_setNativeIconBadgeWithDelay","_performFirstRead","tFioriClientRemainingDelay","_getFioriClientRemainingDelay","_fioriClientStep","sMsg","_addPushNotificationHandler","iBadgeValue","bind","_webSocketStep","_establishWebSocketConnection","_webSocketRecoveryStep","_activatePollingAfterInterval","iPollingInterval","pollingIntervalInSeconds","_activatePolling","sanitizeTimeoutDelay","_formatAsDate","sUnformatted","oNotification","aNewNotifications","nextLastNotificationDate","CreatedAt","Priority","publish","bDeliberateClose","oPcpFields","_getWebSocketObjectObject","webSocketUrl","SUPPORTED_PROTOCOLS","v10","attachMessage","getParameter","Command","attachOpen","bIsActive","info","attachClose","oEvent","mParameters","code","reason","attachError","e","FioriClient","prepackaged","Push","setBadgeNumber","aInput","aTempConsumedIntents","sTempIntent","index","intent","_handlePushedNotification","oNotificationData","sSemanticObject","sAction","oParameters","aParameters","oViewPortContainer","additionalData","foreground","NavigationTargetObject","NavigationTargetAction","NavigationTargetParam","String","Array","isArray","getHash","byId","switchState","toExternalWithParameters","initPush","document","addEventListener","oRequestURI","sConsumedIntents","_revalidateCsrfToken","bAuthorizationError","sCSRFTokenHeader","bCSRFTokenRequired","toLowerCase","oOriginalDeferred","fnFailedFunction","aArgsArray","oSecondCallPromise","_notificationsAscendingSortBy","aNotifications","sPropertyToSortBy","sort","x","y","val1","val2","id","sWebSocketUrl","aVersionProtocol","getOperationEnum","_readUserSettingsFlagsFromPersonalization","_getUserSettingsPersonalizer","oPersonalizer","getPersData","oFlagsData","catch","name","setPersData","oUserSettingsPersonalizerPromise","ushell","Container","getServiceAsync","PersonalizationService","oScope","keyCategory","constants","FIXED_KEY","writeFrequency","LOW","clientStorageAllowed","oPersId","container","item","getPersonalizer","oSettingsPromise","oMobileSettingsPromise","oEmailSettingsPromise","oSettingsStatus","settingsAvailable","mobileAvailable","emailAvailable","bMobileSupportResponseSuccess","bEmailSupportResponseSuccess","hasNoAdapter"],"sources":["Notifications-dbg.js"],"mappings":"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"}