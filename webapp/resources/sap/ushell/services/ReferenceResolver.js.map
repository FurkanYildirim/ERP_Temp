{"version":3,"file":"ReferenceResolver.js","names":["sap","ui","define","Log","deepExtend","isEmptyObject","CalendarType","Configuration","DateFormat","ODataUtilsV2","ODataUtilsV4","jQuery","User","sModuleName","UserEnvReferenceResolver","this","getValue","sReference","oDeferred","Deferred","sValue","getFormatSettings","getLegacyDateFormat","getLegacyNumberFormat","getLegacyTimeFormat","ushell","Container","getUser","getLanguage","getLanguageBcp47","getAccessibilityMode","undefined","getStatistics","getTheme","prototype","constants","themeFormat","THEME_NAME_PLUS_URL","NWBC","resolve","value","promise","ReferenceResolver","oContainerInterface","sParameter","oConfig","_getUserEnvReferenceResolver","oUserEnvReferenceResolver","resolveReferences","aReferences","oSystemContext","that","aReferencePromises","bAllRefsResolvable","oDistinctRefs","oDistinctEnvRefs","oUserDefaultParametersSrvcPromise","getServiceAsync","oResolver","oSystemContextPromise","then","oCstr","getSystemContext","Promise","aRichRefs","map","sRefWithPrefix","sRefName","indexOf","_extractAnyUserDefaultReferenceName","error","full","name","reject","all","aResults","oResolvedSystemContext","oUserDefaultParametersSrvc","Object","keys","forEach","sName","push","when","apply","done","oKnownRefs","iIndex","aRefValues","arguments","oRef","oMergedValue","mergeSimpleAndExtended","sRefParamName","sParamName","extractExtendedUserDefaultReferenceName","extractUserDefaultReferenceName","replace","oValueObject","oMergedExtendedObject","extendedValue","Array","isArray","Ranges","Sign","Option","Low","High","findReferences","sUrl","reReferenceNames","reGetEdmType","reGetName","oCurrentMatch","oCurrentEdmType","oCurrentName","aFoundReferences","exec","edmType","_extractUrlPlaceholders","sFilterRegex","oUrl","aIgnoredReferences","oReference","aExtractedReferences","filter","sReferenceName","test","extractedReferences","ignoredReferences","_replaceUrlPlaceholders","aResolvedPlaceholders","bODataV4","sResolvedUrl","aPlaceholdersWithoutValue","fnFormatODataValue","formatLiteral","bind","formatValue","oResolvedPlaceholder","sDefaultName","sOldResolvedUrl","bPlaceholderWithoutValue","sFormattedValue","window","encodeURIComponent","resolvedUrl","placeholdersWithoutValue","resolveUserDefaultParameters","oPlaceholders","aSimpleUserDefaultReferences","length","url","defaultsWithoutValue","aReferenceNames","oResolvedDefaults","oPlaceholder","oReplacementResult","_loadDynamicDateRange","getCore","loadLibrary","async","fnResolve","require","oDynamicDateRange","_rSemanticDateRangeRegex","resolveSemanticDateRanges","sODataVersion","aSemanticDateRangeReferences","hasSemanticDateRanges","invalidSemanticDates","aValidODataVersions","includes","_resolveSemanticDateRanges","aSemanticDateRanges","getLevel","Level","DEBUG","aResolvedSemanticDateRanges","oElement","debug","JSON","stringify","oDateTimeFormatters","_getDateTimeFormatters","DynamicDateRange","resolveSemanticDateRange","oSemanticDate","oResult","aSemanticDate","split","oDateValue","operator","values","sPosition","slice","aDynamicDate","toDates","oDate","string","format","date","setUTCFullYear","getFullYear","getMonth","getDate","setUTCHours","dateTimeOffsetV4","_oDateTimeFormatters","getDateInstance","pattern","calendarType","Gregorian","hasNoAdapter"],"sources":["ReferenceResolver-dbg.js"],"mappings":"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"}