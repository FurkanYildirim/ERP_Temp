{"version":3,"file":"Container.js","names":["sap","ui","define","assert","Log","deepExtend","extend","ObjectPath","uid","EventProvider","Control","Core","ServiceFactoryRegistry","Measurement","jQuery","URI","MobileSupport","EventHub","System","Ui5NativeServiceFactory","oUi5ServiceFactory","utils","UrlParsing","ShellLayout","S_COMPONENT_NAME","S_DIRTY_STATE_PREFIX","oConfigSetting","oConfig","mPlatformPackages","sFirstInitStack","aAsyncLogoutEventFunctions","closeWindow","close","redirectWindow","document","location","getPlatformPackage","sPlatform","getServiceConfig","sServiceName","services","createAdapter","sName","oSystem","sParameter","bAsync","bUseConfiguredAdapterOnly","oAdapterConfig","adapter","sAdapterName","getAdapterInstanceAsync","AdapterModule","Promise","resolve","reject","require","AdapterClass","oAdapterInstance","config","module","undefined","getPlatform","sModule","replace","getAdapterInstance","requireSync","Container","oAdapter","oEventProvider","isDirty","aRegisteredDirtyMethods","oRenderers","sRemoteSystemPrefix","getSystem","mRemoteSystems","oGlobalDirtyDeferred","fnStorageEventListener","oLocalStorage","getLocalStorage","mServicesByName","Map","mServicesByNamePromise","sSessionTerminationKey","that","this","cancelLogon","oFrameLogonManager","abortLogon","createRenderer","sRendererName","oComponentData","async","sComponentName","oRendererConfig","start","setPerformanceMark","defaultRenderer","Error","renderers","indexOf","componentData","getRendererInstance","Module","ModuleClass","oRenderer","oShellControl","UIComponent","ComponentContainer","component","height","width","replacePlaceAt","replaceDestroy","fireEvent","renderer","getRendererInstanceAsync","RendererClass","oComponentContainer","rootControlLoaded","then","RendererControl","placeAt","sRef","vPosition","oContainer","canvasId","body","id","createElement","setAttribute","classList","add","firstChild","insertBefore","innerHTML","appendChild","applyLayout","emit","Date","now","prototype","call","oControl","fnOriginalDestroy","destroy","isA","getComponentInstance","apply","arguments","error","getRenderer","oRendererControl","aRendererNames","Object","keys","length","warning","DirtyState","CLEAN","DIRTY","MAYBE_DIRTY","PENDING","INITIAL","getGlobalDirty","oDeferred","Deferred","sUid","iPending","oDirtyState","tryResolve","debug","onStorageEvent","oStorageEvent","key","newValue","setItem","removeItem","e","promise","window","addEventListener","always","removeEventListener","i","sStorageKey","getItem","localStorageSetItem","setTimeout","state","getLogonSystem","getUser","getDirtyFlag","bDirty","oNavigationContext","_oShellNavigationService","getNavigationContext","fnAsyncDirtyStateProvider","getDirtyFlagsAsync","bIsDirty","bind","isAsyncDirtyStateProviderSet","setAsyncDirtyStateProvider","setDirtyFlag","sessionKeepAlive","extendSession","registerDirtyStateProvider","fnDirty","push","deregisterDirtyStateProvider","nIndex","splice","getService","_getService","getServiceAsync","oContainerInterface","createRemoteAdapter","ushell","addRemoteSystem","oServiceConfig","sModuleName","sKey","oServiceProperties","createService","ServiceClass","Adapter","getServiceInstance","Async","oService","containsKey","get","hasNoAdapter","oServiceAdapter","useConfiguredAdapterOnly","serviceAdapter","oServiceInstance","put","oServicePromise","Service","getRemoteSystems","sSystemAlias","substring","oSystemData","JSON","parse","suppressOData","OData","stub","sErrorMessage","fnSuccess","fnFailure","abort","read","oRequest","Uri","requestUri","request","oRemoteSystem","sAlias","getAlias","oOldSystem","_isLocalSystem","toString","toUpperCase","oURI","getLocationHref","sClient","getClient","getBaseUrl","origin","addRemoteSystemForServiceUrl","sServiceUrl","oSystemInfo","baseUrl","charAt","aMatches","exec","alias","test","platform","attachLogoutEvent","fnFunction","bAsyncFunction","bFound","attachEvent","detachLogoutEvent","detachEvent","attachRendererCreatedEvent","detachRendererCreatedEvent","defaultLogout","logout","logoutLogonSystem","oDeferredAsyncLogoutEvent","oPromiseAsyncLogoutEvent","arrLogoutEventsPromises","all","done","federatedLogout","aRemoteLogoutPromises","_suppressOData","mSystems","_getRemoteSystems","forEach","when","addFurtherRemoteSystems","registerLogout","fnLogout","setLogonFrameProvider","oLogonFrameProvider","logonFrameProvider","setXhrLogonTimeout","sPath","iTimeout","getFLPConfig","oPromise","oRespObj","URL","getFLPUrl","CDMPromise","oCommonDataModel","getSiteWithoutPersonalization","oSite","scopeId","site","identification","bIncludeHash","sUrl","iHashPosition","getShellHash","substr","getFLPUrlAsync","inAppRuntime","runningInIframe","_getAdapter","getFLPPlatform","bSync","flpPlatform","_closeWindow","_redirectWindow","getEventBus","subscribe","sChannelId","sEventId","oData","logoutRedirect","closeAndRedirectWindow","_getFunctionsForUnitTest","registerInjectableUi5Services","aServicesToRegister","bAddCallProtection","sUshellServiceName","oServiceFactory","createServiceFactory","register","create","bootstrap","mAdapterPackagesByPlatform","init","oError","stack","system","load","_bLoadCDM","oUshellConfig","oUShellPluginManagerConfig","PluginManager","oPluginManagerConfig","loadPluginsFromSite","asyncServices","aServices","handlePlugins","lastSteps","servicesForPreloading","preloadServices","Array","isArray","serviceName","oShellNavigationServicePromise","ShellNavigationService","oPluginManager","oCDM","getPlugins","oCDMSitePlugins","oAllPlugins","bootstrapPlugins","registerPlugins","prepareNWBC","Config","handleDarkMode","hasFLPReady2NotificationCapability","oNWBCInterface","getPrivateEpcm","doEventFlpReady2","hasFLPReadyNotificationCapability","doEventFlpReady","last","DarkModeSupportService","setup"],"sources":["Container-dbg.js"],"mappings":";AA6BAA,IAAIC,GAAGC,OAAO,CACV,kBACA,eACA,2BACA,uBACA,2BACA,oBACA,4BACA,sBACA,mBACA,6CACA,iCACA,2BACA,wBACA,qBACA,sBACA,oBACA,qCACA,+BACA,mBACA,8BACA,2CACD,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,OACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAIA,IAAIC,EAAmB,gCACvB,IAAIC,EAAuB,mCAE3B,IAAIC,EAAiB,CAAC,EACtB,IAAIC,EAGJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EAA6B,GAGjC,SAASC,IACLC,OACJ,CAGA,SAASC,IACLC,SAASC,SAAW,aACxB,CAQA,SAASC,EAAoBC,GACzB,GAAIT,GAAqBA,EAAkBS,GAAY,CACnD,OAAOT,EAAkBS,EAC7B,CACA,MAAO,uBAAyBA,CACpC,CASA,SAASC,EAAkBC,GACvB,OAAQZ,EAAQa,UAAYb,EAAQa,SAASD,IAAkB,CAAC,CACpE,CAcA,SAASE,EAAeC,EAAOC,EAASC,EAAYC,EAAQC,GACxD,IAAIC,EAAiBT,EAAiBI,GAAOM,SAAW,CAAC,EACzD,IAAIC,EAEJ,SAASC,EAAyBC,GAC9B,OAAO,IAAIC,QAAQ,SAAUC,EAASC,GAClCtD,IAAIC,GAAGsD,QAAQ,CAACJ,GAAgB,SAAUK,GACtC,IAAIC,EAAmB,IAAID,EAAab,EAASC,EAC7C,CAAEc,OAAQX,EAAeW,QAAU,CAAC,IAExCL,EAAQI,EACZ,EAAGH,EACP,EACJ,CAEA,GAAIR,IAA8B,KAAM,CACpCG,EAAeF,EAAeY,OAC9B,GAAIV,IAAiBW,UAAW,CAC5B,OAAQf,EAASO,QAAQC,UAAYO,SACzC,CACJ,KAAO,CACHX,EAAeF,EAAeY,QAAUvB,EAAmBO,EAAQkB,eAAiB,IAAMnB,EAAQ,SACtG,CAEA,IAAIoB,EAAUb,EAAac,QAAQ,MAAO,KAC1C,GAAIlB,EAAQ,CACR,OAAOK,EAAwBY,EACnC,CAMA,OAAO,WACH,SAASE,EAAoBb,GACzB,IAAIK,EAAexD,IAAIC,GAAGgE,YAAYd,GACtC,OAAO,IAAIK,EAAab,EAASC,EAC7B,CAAEc,OAAQX,EAAeW,QAAU,CAAC,GAE5C,CACA,OAAOM,EAAmBF,EAC7B,CARM,EASX,CAeA,SAASI,EAAWC,GAChB,IAAIC,EAAiB,IAAI3D,EACzB,IAAI4D,EAAU,MACd,IAAIC,EAA0B,GAC9B,IAAIC,EAAa,CAAC,EAClB,IAAIC,EAAsB,wBAA0BL,EAASM,YAAYZ,cAAgB,iBACzF,IAAIa,EAAiB,CAAC,EACtB,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EAAgBxD,EAAMyD,kBAC1B,IAAIC,EAAkB,IAAI1D,EAAM2D,IAChC,IAAIC,EAAyB,IAAI5D,EAAM2D,IACvC,IAAIE,EAAyB,wBAA0Bf,EAASM,YAAYZ,cAAgB,sBAC5F,IAAIsB,EAAOC,KAcXA,KAAKC,YAAc,WACf,GAAID,KAAKE,mBAAoB,CACzBF,KAAKE,mBAAmBC,YAC5B,CACJ,EA6BAH,KAAKI,eAAiB,SAAUC,EAAe5C,GAE3C,UAAW4C,IAAkB,UAAW,CACpC5C,EAAS4C,EACTA,EAAgB7B,SACpB,CAEA,IAAI8B,EAAiB,CAAEC,QAAS9C,GAChC,IAAI+C,EACJ,IAAIC,EAEJhF,EAAYiF,MAAM,4BAA6B,kBAAmB,OAClEzE,EAAM0E,mBAAmB,0BACzBN,EAAgBA,GAAiB9D,EAAQqE,gBACzC,IAAKP,EAAe,CAChB,MAAM,IAAIQ,MAAM,wBACpB,CACAJ,EAAmBlE,EAAQuE,WAAavE,EAAQuE,UAAUT,IAAmB,CAAC,EAC9EG,EAAiBC,EAAgBlC,SAAW8B,EAAcU,QAAQ,KAAO,EACnE,wBAA0BV,EAAgB,YAC1CA,GACN,GAAII,EAAgBO,eAAiBP,EAAgBO,cAAc1C,OAAQ,CACvEgC,EAAehC,OAASmC,EAAgBO,cAAc1C,MAC1D,CAEA,SAAS2C,EAAqBC,GAC1B,IAAIC,EAAcvG,IAAIC,GAAGgE,YAAYqC,GACrC,IAAIE,EAAY,IAAID,EAAY,CAAEH,cAAeV,IACjD,IAAIe,EACJ,IAAIC,EAAc1G,IAAIC,GAAGgE,YAAY,2BAErC,GAAIuC,aAAqBE,EAAa,CAClC,IAAIC,EAAqB3G,IAAIC,GAAGgE,YAAY,kCAC5CwC,EAAgB,IAAIE,EAAmB,CAAEC,UAAWJ,EAAWK,OAAQ,OAAQC,MAAO,QAC1F,KAAO,CACHL,EAAgBD,CACpB,CAEA,KAAMC,aAAyB/F,GAAU,CACrC,MAAM,IAAIuF,MAAM,sCAAwCR,EAC5D,CAEAsB,EAAeN,GACfO,EAAeP,GACflC,EAAWkB,GAAiBe,EAE5BpC,EAAe6C,UAAU,kBAAmB,CACxCC,SAAUV,IAEd,OAAOC,CACX,CAEA,SAASU,EAA0Bb,GAC/B,OAAO,IAAIlD,QAAQ,SAAUC,EAASC,GAClCtD,IAAIC,GAAGsD,QAAQ,CACX+C,EACA,iCACA,0BACA,8BACD,SAAUc,EAAeT,EAAoBD,GAC5C,IAAIF,EAAY,IAAIY,EAAc,CAAEhB,cAAeV,IAEnD,GAAIc,aAAqBE,EAAa,CAClC,IAAIW,EAAsB,IAAIV,EAAmB,CAC7CC,UAAWJ,EACXK,OAAQ,OACRC,MAAO,OACPnB,MAAO,OAEXoB,EAAeM,GACfL,EAAeK,GACf9C,EAAWkB,GAAiBe,EAC5BA,EAAUc,oBAAoBC,KAAK,WAC/BnD,EAAe6C,UAAU,kBAAmB,CAAEC,SAAUV,IACxDnD,EAAQgE,EACZ,EACJ,MAAO,GAAIb,aAAqB9F,EAAS,CACrCqG,EAAeP,GACfQ,EAAeR,GACfjC,EAAWkB,GAAiBe,EAC5BpC,EAAe6C,UAAU,kBAAmB,CAAEC,SAAUV,IACxDnD,EAAQmD,EACZ,KAAO,CACHlD,EAAO,IAAI2C,MAAM,8BACrB,CACJ,EACJ,EACJ,CAEA,SAASc,EAAgBS,GAIrBA,EAAgBC,QAAU,SAAUC,EAAMC,GACtC,IAAIC,EAAaF,EACjB,IAAIG,EAAW,SACf,IAAIC,EAAO5F,SAAS4F,KACpB,GAAIJ,IAASI,EAAKC,GAAI,CAClBH,EAAa1F,SAAS8F,cAAc,OACpCJ,EAAWK,aAAa,KAAMJ,GAC9BD,EAAWM,UAAUC,IAAI,uBACzB,OAAQR,GACJ,IAAK,QACD,GAAIG,EAAKM,WAAY,CACjBN,EAAKO,aAAaT,EAAYE,EAAKM,YACnC,KACJ,CAEJ,IAAK,OACDN,EAAKQ,UAAY,GAErB,QACIR,EAAKS,YAAYX,GAEzBF,EAAOG,EACPF,EAAY,EAChB,CACApG,EAAYiH,YAAYd,GACxBzG,EAASwH,KAAK,qBAAsBC,KAAKC,OACzCjI,EAAQkI,UAAUnB,QAAQoB,KAAKzD,KAAMsC,EAAMC,EAC/C,CACJ,CAEA,SAASX,EAAgB8B,GACrB,IAAIC,EAAoBD,EAASE,QACjCF,EAASE,QAAU,WACf,GAAIF,EAASG,IAAI,kCAAmC,CAChD,OAAO7F,QAAQC,QAAQyF,EAASI,uBAAuBF,WAAWzB,KAAK,WACnE,OAAOwB,EAAkBI,MAAML,EAAUM,UAC7C,EACJ,CACA,OAAOhG,QAAQC,QAAQ0F,EAAkBI,MAAML,EAAUM,WAC7D,CACJ,CAEA,IAAItF,EAAU8B,EAAe7B,QAAQ,MAAO,KAC5C,GAAIlB,EAAQ,CACR,OAAOsE,EAAyBrD,EACpC,CAEA1D,EAAIiJ,MAAM,mFACV,OAAOhD,EAAoBvC,EAC/B,EAcAsB,KAAKkE,YAAc,SAAU7D,GACzB,IAAI8D,EAEJ9D,EAAgBA,GAAiB9D,EAAQqE,gBAEzC,GAAIP,EAAe,CACf8D,EAAmBhF,EAAWkB,EAClC,KAAO,CACH,IAAI+D,EAAiBC,OAAOC,KAAKnF,GACjC,GAAIiF,EAAeG,SAAW,EAAG,CAC7BJ,EAAmBhF,EAAWiF,EAAe,GACjD,KAAO,CACHpJ,EAAIwJ,QACA,qHACA,KACApI,EACR,CACJ,CAGA,GAAI+H,GAAoBA,EAAiBN,IAAI,kCAAmC,CAC5E,OAAOM,EAAiBL,sBAC5B,CAGA,OAAOK,CACX,EASAnE,KAAKyE,WAAa,CAUdC,MAAO,QAWPC,MAAO,QAWPC,YAAa,cAWbC,QAAS,UAWTC,QAAS,WAcb9E,KAAK+E,eAAiB,WAClB,IAAIC,EAAY,IAAItJ,OAAOuJ,SAC3B,IAAIC,EAAO9J,IACX,IAAI+J,EAAW,EACf,IAAIC,EAAcpF,KAAKyE,WAAWC,MAElC,SAASW,IACL,GAAIF,IAAa,GAAKC,IAAgBrF,EAAK0E,WAAWE,MAAO,CAEzDK,EAAU/G,QAAQmH,GAClBpK,EAAIsK,MACA,+BAAiCF,EACjC,KACA,uBAER,CACJ,CAEA,SAASG,EAAgBC,GACrB,GAAIA,EAAcC,IAAI1E,QAAQ1E,KAA0B,GACjDmJ,EAAcE,WAAa3F,EAAK0E,WAAWK,SAC3CU,EAAcE,WAAa3F,EAAK0E,WAAWI,QAAS,CACvD7J,EAAIsK,MACA,yCAA2CE,EAAcC,IACvD,WAAaD,EAAcE,SAC7B,KACA,wBAEJ,GAAIF,EAAcE,WAAa3F,EAAK0E,WAAWE,OACxCa,EAAcE,WAAa3F,EAAK0E,WAAWG,YAAa,CAC3DQ,EAAcI,EAAcE,QAChC,CACAP,GAAY,EACZE,GACJ,CACJ,CAGA,IACI5F,EAAckG,QAAQT,EAAM,SAC5BzF,EAAcmG,WAAWV,EAC7B,CAAE,MAAOW,GACL7K,EAAIwJ,QAAQ,yCAA2CqB,EAAG,KACtD,wBACJ,OAAOb,EAAU/G,QAAQ+B,KAAKyE,WAAWG,aAAakB,SAC1D,CAEA,GAAIvG,EAAsB,CACtB,MAAM,IAAIsB,MAAM,iCACpB,CAEAtB,EAAuByF,EACvBe,OAAOC,iBAAiB,UAAWT,GACnCP,EAAUiB,OAAO,WACbF,OAAOG,oBAAoB,UAAWX,GACtChG,EAAuBf,SAC3B,GAEA,IAAK,IAAI2H,EAAI1G,EAAc8E,OAAS,EAAG4B,GAAK,EAAGA,GAAK,EAAG,CACnD,IAAIC,EAAc3G,EAAcgG,IAAIU,GACpC,GAAIC,EAAYrF,QAAQ1E,KAA0B,EAAG,CACjD,GAAIoD,EAAc4G,QAAQD,KAAiB,UAAW,CAElD3G,EAAcmG,WAAWQ,GACzBpL,EAAIsK,MACA,qDAAuDc,EACvD,KACA,uBAER,KAAO,CACHjB,GAAY,EACZlJ,EAAMqK,oBAAoBF,EACtBpG,KAAKyE,WAAWI,QAAS,MAC7B7J,EAAIsK,MACA,2CAA6Cc,EAC7C,KACA,uBAER,CACJ,CACJ,CACAf,IAIAkB,WAAW,WACP,GAAIvB,EAAUwB,UAAY,WAAY,CAElCxB,EAAU/G,QAAQ,eAClBjD,EAAIsK,MACA,6DACA,KACA,uBAER,CACJ,EAAGH,EAAW,KAEd,OAAOH,EAAUc,SACrB,EAUA9F,KAAKyG,eAAiB,WAClB,OAAO1H,EAASM,WACpB,EASAW,KAAK0G,QAAU,WACX,OAAO3H,EAAS2H,SACpB,EAeA1G,KAAK2G,aAAe,WAChB,IAAIC,EAAS3H,EACb,IAAI4H,EAAqB7G,KAAK8G,yBAAyBC,uBACvD,IAAK,IAAIZ,EAAI,EAAGA,EAAIjH,EAAwBqF,OAAQ4B,IAAK,CACrDS,EAASA,GAAU1H,EAAwBiH,GAAGU,EAClD,CACA,OAAOD,CACX,EAEA5G,KAAKgH,0BAA4B,KAajChH,KAAKiH,mBAAqB,WACtB,IAAKjH,KAAKgH,0BAA2B,CACjC,OAAOhJ,QAAQC,QAAQ+B,KAAK2G,eAChC,CAEA,IAAIE,EAAqB7G,KAAK8G,yBAAyBC,uBACvD,OAAO/G,KAAKgH,0BAA0BH,GACjC1E,KAAK,SAAU+E,GACZ,OAAOA,GAAYlH,KAAK2G,cAC5B,EAAEQ,KAAKnH,MACf,EAUAA,KAAKoH,6BAA+B,WAChC,cAAcpH,KAAKgH,4BAA8B,UACrD,EAYAhH,KAAKqH,2BAA6B,SAAUL,GACxChH,KAAKgH,0BAA4BA,CACrC,EAYAhH,KAAKsH,aAAe,SAAUJ,GAC1BjI,EAAUiI,CACd,EAQAlH,KAAKuH,iBAAmB,WACpB,GAAIxI,EAASwI,iBAAkB,CAC3BxI,EAASwI,kBACb,CACJ,EAQAvH,KAAKwH,cAAgB,WACjB3L,EAASwH,KAAK,mBAAoBC,KAAKC,MAC3C,EA0BAvD,KAAKyH,2BAA6B,SAAUC,GACxC,UAAWA,IAAY,WAAY,CAC/B,MAAM,IAAI7G,MAAM,6BACpB,CACA3B,EAAwByI,KAAKD,EACjC,EAWA1H,KAAK4H,6BAA+B,SAAUF,GAC1C,UAAWA,IAAY,WAAY,CAC/B,MAAM,IAAI7G,MAAM,6BACpB,CAEA,IAAIgH,GAAU,EACd,IAAK,IAAI1B,EAAIjH,EAAwBqF,OAAS,EAAG4B,GAAK,EAAGA,IAAK,CAC1D,GAAIjH,EAAwBiH,KAAOuB,EAAS,CACxCG,EAAS1B,EACT,KACJ,CACJ,CAEA,GAAI0B,KAAY,EAAG,CACf,MACJ,CAEA3I,EAAwB4I,OAAOD,EAAQ,EAC3C,EAsEA7H,KAAK+H,WAAa,SAAU5K,EAAcK,EAAYC,GAClD,OAAOsC,EAAKiI,YAAYjE,MAAMhE,EAAMiE,UACxC,EA8DAhE,KAAKiI,gBAAkB,SAAU9K,EAAcK,GAG3C,OAAOuC,EAAKiI,YAAY7K,EAAcK,EAAY,KACtD,EAgBAwC,KAAKgI,YAAc,SAAU7K,EAAcK,EAAYC,GACnD,IAAIyK,EAAsB,CAAC,EAa3B,SAASC,EAAqB5K,GAC1B,IAAIyH,EAAY,IAAItJ,OAAOuJ,SAC3B,IAAK1H,EAAS,CACV,MAAM,IAAIsD,MAAM,iBACpB,CAGAmE,EAAU/G,QAAQZ,EAAcF,EAAcI,EAASC,IACvD5C,IAAIwN,OAAOtJ,UAAUuJ,gBAAgB9K,GACrC,OAAOyH,EAAUc,SACrB,CAEA,IAAK3I,EAAc,CACf,MAAM,IAAI0D,MAAM,uBACpB,CACA,GAAI1D,EAAa4D,QAAQ,MAAQ,EAAG,CAEhC,MAAM,IAAIF,MAAM,2BACpB,CACA,IAAIyH,EAAiBpL,EAAiBC,GACtC,IAAIoL,EAAcD,EAAe/J,QAAU,uBAAyBpB,EACpE,IAAIqL,EAAOD,EAAc,KAAO/K,GAAc,IAC9C,IAAIiL,EAAqB,CAAEnK,OAAQgK,EAAehK,QAAU,CAAC,GAE7D,SAASoK,EAAeC,EAAcC,GAClCV,EAAoB7K,cAAgB8K,EACpC,OAAO,IAAIQ,EAAaC,EAASV,EAAqB1K,EAAYiL,EACtE,CAEA,SAASI,EAAoBF,EAAcG,GACvC,IAAIC,EAGJ,GAAIpJ,EAAgBqJ,YAAYR,GAAO,CACnCO,EAAWpJ,EAAgBsJ,IAAIT,EACnC,MAAO,GAAIG,EAAaO,aAAc,CAElCH,EAAW,IAAIJ,EAAaT,EAAqB1K,EAAYiL,EACjE,KAAO,CAEH,IAAIU,EAAkB9L,EAAcF,EAAc4B,EAASM,YACvD7B,EAAYsL,EAAOH,EAAaS,0BACpC,GAAIN,EAAO,CACP,OAAOK,EAAgBhH,KAAK,SAAUkH,GAClC,IAAIC,EAAmBZ,EAAcC,EAAcU,GACnD1J,EAAgB4J,IAAIf,EAAMc,GAC1B,OAAOA,CACX,EACJ,CACAP,EAAWL,EAAcC,EAAcQ,EAC3C,CAEAxJ,EAAgB4J,IAAIf,EAAMO,GAC1B,OAAOD,EAAQ9K,QAAQC,QAAQ8K,GAAYA,CAC/C,CAEA,IAAKpJ,EAAgBqJ,YAAYR,GAAO,CAEpC,GAAI/K,EAAQ,CACR,IAAKoC,EAAuBmJ,YAAYR,GAAO,CAC3C,IAAIgB,EAAkB,IAAIxL,QAAQ,SAAUC,EAASC,GACjDtD,IAAIC,GAAGsD,QAAQ,CAACoK,EAAY5J,QAAQ,OAAQ,MAAO,SAAUgK,GACzD1K,EAAQ4K,EAAmBF,EAAc,MAC7C,EAAGzK,EACP,GACA2B,EAAuB0J,IAAIf,EAAMgB,GACjC,OAAOA,CACX,CACA,OAAO3J,EAAuBoJ,IAAIT,EACtC,EAKA,WAEIxN,EAAIiJ,MAAM,iGACN,KACA,iCAEJ,IAAIwF,EAAU7O,IAAIC,GAAGgE,YAAY0J,EAAY5J,QAAQ,OAAQ,MAC7D,OAAOkK,EAAmBY,EAC7B,EARD,EASJ,CACA,GAAIhM,EAAQ,CAIR,OAAOO,QAAQC,QAAQ0B,EAAgBsJ,IAAIT,GAC/C,CACA,OAAO7I,EAAgBsJ,IAAIT,EAC/B,EASA,SAASkB,IACL,IAAK,IAAIvD,EAAI1G,EAAc8E,OAAS,EAAG4B,GAAK,EAAGA,GAAK,EAAG,CACnD,IAAIqC,EAAO/I,EAAcgG,IAAIU,GAC7B,GAAIqC,EAAKzH,QAAQ3B,KAAyB,EAAG,CACzC,IACI,IAAIuK,EAAenB,EAAKoB,UAAUxK,EAAoBmF,QACtD,IAAIsF,EAAcC,KAAKC,MAAMtK,EAAc4G,QAAQmC,IACnDlJ,EAAeqK,GAAgB,IAAI7N,EAAO+N,EAC9C,CAAE,MAAOhE,GAELpG,EAAcmG,WAAW4C,EAC7B,CACJ,CACJ,CACA,OAAOlJ,CACX,CASA,SAAS0K,IACL,UAAWC,QAAU,YAAa,CAC9B,MACJ,CAEA,SAASC,EAAMC,EAAeC,EAAWC,GACrCrP,EAAIwJ,QAAQ2F,EAAe,KACvB,wBACJ,GAAIE,EAAW,CACX9D,WAAW8D,EAAUlD,KAAK,KAAMgD,GAAgB,IACpD,CAEA,MAAO,CAAEG,MAAO,WAAc,MAAQ,EAC1C,CACAL,MAAMM,KAAO,SAAUC,EAAUJ,EAAWC,GACxC,OAAOH,EAAK,gBACPM,GAAYA,EAASC,IAAMD,EAASE,WAAaF,GAClD,uCACAJ,EAAWC,EACnB,EACAJ,MAAMU,QAAU,SAAUH,EAAUJ,EAAWC,GAC3C,OAAOH,EAAK,mBAAqBM,EAAWA,EAASE,WAAa,IAC9D,uCAAwCN,EAAWC,EAC3D,CACJ,CAUArK,KAAKqI,gBAAkB,SAAUuC,GAqB7B,IAAIC,EAASD,EAAcE,WAC3B,IAAIC,EAAazL,EAAeuL,GAEhC,GAAI7K,KAAKgL,eAAeJ,GAAgB,CACpC,MACJ,CAEA,GAAIG,EAAY,CACZ,GAAIA,EAAWE,aAAeL,EAAcK,WAAY,CACpD,MACJ,CACAjQ,EAAIwJ,QAAQ,aAAeuG,EAAa,OAASH,EAC7C,KAAM,uBACd,KAAO,CACH5P,EAAIsK,MAAM,SAAWsF,EAAe,KAAM,uBAC9C,CACAtL,EAAeuL,GAAUD,EACzB3O,EAAMqK,oBAAoBlH,EAAsByL,EAAQD,EAC5D,EASA5K,KAAKgL,eAAiB,SAAUzN,GAC5B,IAAIsN,EAAStN,EAAQuN,WACrB,GAAID,GAAUA,EAAOK,gBAAkB,QAAS,CAC5C,OAAO,IACX,CACA,IAAIC,EAAO,IAAIxP,EAAIM,EAAMmP,mBACzB,IAAIC,EAAUrL,KAAKyG,iBAAiB6E,aAAe,GACnD,GAAI/N,EAAQgO,eAAiBJ,EAAKK,UAAYjO,EAAQ+N,cAAgBD,EAAS,CAC3E,OAAO,IACX,CAEA,OAAO,KACX,EAWArL,KAAKyL,6BAA+B,SAAUC,GAC1C,IAAIC,EAAc,CAAEC,QAAS,OAE7B,IAAKF,GAAeA,EAAYG,OAAO,KAAO,KAAOH,EAAY3K,QAAQ,QAAU,EAAG,CAClF,MACJ,CAGA,IAAI+K,EAAW,qBAAqBC,KAAKL,GACzC,GAAII,GAAYA,EAASvH,QAAU,EAAG,CAClCoH,EAAYK,MAAQF,EAAS,EACjC,CAGAJ,EAAcA,EAAY/M,QAAQ,WAAY,IAC9C,GAAI,0BAA0BsN,KAAKP,GAAc,CAC7CC,EAAYO,SAAW,OACvBP,EAAYK,MAAQL,EAAYK,OAAS,MAC7C,MAAO,GAAI,gBAAgBC,KAAKP,GAAc,CAC1CC,EAAYO,SAAW,MAC3B,CAEA,GAAIP,EAAYK,OAASL,EAAYO,SAAU,CAC3ClM,KAAKqI,gBAAgB,IAAIvM,EAAO6P,GACpC,CACJ,EAYA3L,KAAKmM,kBAAoB,SAAUC,EAAYC,GAC3C,IAAIC,EAAS,MACb,GAAID,IAAmB,KAAM,CACzBtR,SAAc,IAAiB,WAAY,8DAC3C,IAAK,IAAIoL,EAAI,EAAGA,EAAIzJ,EAA2B6H,OAAQ4B,IAAK,CACxD,GAAIzJ,EAA2ByJ,KAAOiG,EAAY,CAC9CE,EAAS,KACT,KACJ,CACJ,CACA,IAAKA,EAAQ,CACT5P,EAA2BiL,KAAKyE,EACpC,CACJ,KAAO,CACHpN,EAAeuN,YAAY,SAAUH,EACzC,CACJ,EASApM,KAAKwM,kBAAoB,SAAUJ,GAC/BpN,EAAeyN,YAAY,SAAUL,GACrC,IAAK,IAAIjG,EAAI,EAAGA,EAAIzJ,EAA2B6H,OAAQ4B,IAAK,CACxD,GAAIzJ,EAA2ByJ,KAAOiG,EAAY,CAC9C1P,EAA2BoL,OAAO3B,EAAG,GACrC,KACJ,CACJ,CACJ,EAaAnG,KAAK0M,2BAA6B,SAAUN,GACxCpN,EAAeuN,YAAY,kBAAmBH,EAClD,EASApM,KAAK2M,2BAA6B,SAAUP,GACxCpN,EAAeyN,YAAY,kBAAmBL,EAClD,EASApM,KAAK4M,cAAgB,WACjB,IAAI5H,EAAY,IAAItJ,OAAOuJ,SAE3B,SAAShH,IACLc,EAAS8N,OAAO,MAAM5G,OAAO,WACzBxG,EAAcmG,WAAW9F,GACzBkF,EAAU/G,SACd,EACJ,CAEA,SAAS6O,IACL,IAAIC,EAA4B,IAAIrR,OAAOuJ,SAC3C,IAAI+H,EAA2BD,EAA0BjH,UACzD,IAAImH,EAA0B,GAE9B,GAAIvQ,EAA2B6H,OAAS,EAAG,CACvC,IAAK,IAAI4B,EAAI,EAAGA,EAAIzJ,EAA2B6H,OAAQ4B,IAAK,CACxD8G,EAAwBtF,KAAKjL,EAA2ByJ,KAC5D,CACAnI,QAAQkP,IAAID,GAAyB9K,KAAK4K,EAA0B9O,SAIpEsI,WAAWwG,EAA0B9O,QAAS,IAClD,KAAO,CACH8O,EAA0B9O,SAC9B,CAEA+O,EAAyBG,KAAK,WAC1B,GAAInO,EAAe6C,UAAU,SAAU,MAAO,CAC1C5D,GACJ,KAAO,CAEHsI,WAAWtI,EAAS,IACxB,CACJ,EACJ,CAEA,SAASmP,IACL,IAAIC,EAAwB,GAE5B,GAAI7N,EAAwB,CAGxBuG,OAAOG,oBAAoB,UAAW1G,EAC1C,CAEAvD,EAAMqK,oBAAoBxG,EAAwB,WAClDC,EAAKuN,iBACL,IAAIC,EAAWxN,EAAKyN,oBACpBnJ,OAAOC,KAAKiJ,GAAUE,QAAQ,SAAU5C,GACpC,IACIwC,EAAsB1F,KAClBtK,EAAc,YAAakQ,EAAS1C,IAASgC,OAAO,OAE5D,CAAE,MAAOhH,GACL7K,EAAIwJ,QAAQ,gCAAkCqG,EAC1ChF,EAAEoF,WAAY,uBACtB,CACAxL,EAAcmG,WAAWxG,EAAsByL,EACnD,GAMAnP,OAAOgS,KAAK3J,MAAMrI,OAAQ2R,GAAuBF,KAAKL,EAC1D,CAEA,UAAW/N,EAAS4O,0BAA4B,WAAY,CACxD5O,EAAS4O,0BAA0B1H,OAAOmH,EAC9C,KAAO,CACHA,GACJ,CAEA,OAAOpI,EAAUc,SACrB,EAWA9F,KAAK6M,OAAS7M,KAAK4M,cAWnB5M,KAAK4N,eAAiB,SAAUC,GAC5B7N,KAAK6M,OAASgB,CAClB,EAkCA7N,KAAK8N,sBAAwB,SAAUC,GACnC,GAAI/N,KAAKE,mBAAoB,CACzBF,KAAKE,mBAAmB8N,mBAAqBD,CACjD,CACJ,EAeA/N,KAAKiO,mBAAqB,SAAUC,EAAOC,GACvC,GAAInO,KAAKE,mBAAoB,CACzBF,KAAKE,mBAAmBqG,WAAW2H,EAAOC,EAC9C,CACJ,EASAnO,KAAKoO,aAAe,WAChB,IAAIC,EAAW,IAAIrQ,QAAQ,SAAUC,EAASC,GAC1C,IAAIoQ,EAAW,CACXC,IAAKvO,KAAKwO,aAGd,GAAIlS,EAAemS,WAAY,CAC3BnS,EAAemS,WAAWtM,KAAK,SAAUuM,GACrCA,EAAiBC,gCAAgCxM,KAAK,SAAUyM,GAC5DN,EAASO,QAAUD,EAAME,KAAKC,eAAepM,GAC7C1E,EAAQqQ,EACZ,EACJ,EACJ,KAAO,CACHrQ,EAAQqQ,EACZ,CACJ,EAAEnH,KAAKnH,OAEP,OAAOqO,CACX,EAUArO,KAAKwO,UAAY,SAAUQ,GACvB,IAAIC,EAAOhT,EAAMmP,kBACjB,IAAI8D,EAAgBD,EAAKlO,QAAQ7E,EAAWiT,aAAaF,IAEzD,GAAIC,KAAmB,GAAKF,IAAiB,KAAM,CAC/C,OAAOC,CACX,CAGA,OAAOA,EAAKG,OAAO,EAAGF,EAAgB,EAC1C,EAWAlP,KAAKqP,eAAiB,SAAUL,GAC5B,OAAO,IAAItT,OAAOuJ,UAAWhH,QAAQ8B,EAAKyO,UAAUQ,IAAelJ,SACvE,EASA9F,KAAKsP,aAAe,WAChB,OAAO,KACX,EAEAtP,KAAKuP,gBAAkBvP,KAAKsP,aAG5BtP,KAAKwP,YAAc,WACf,OAAOzQ,CACX,EASAiB,KAAKyP,eAAiB,SAAUC,GAC5B,GAAIA,IAAU,KAAM,CAChB,OAAOnT,EAAQoT,WACnB,CACA,OAAO3R,QAAQC,QAAQ1B,EAAQoT,YACnC,EAIA3P,KAAK4P,aAAejT,EACpBqD,KAAK6P,gBAAkBhT,EACvBmD,KAAKwN,kBAAoB9D,EACzB1J,KAAKsN,eAAiBtD,EAItBzO,EAAKuU,cAAcC,UAAU,uBACzB,+BAAgC,SAAUC,EAAYC,EAAUC,GAC5DnQ,EAAK0L,6BAA6ByE,EACtC,GAEJ,UAAWnR,EAASoR,iBAAmB,WAAY,CAC/C3Q,EAAyB,SAAUgG,GAC/B,SAAS4K,IAMLrQ,EAAK6P,eACL7P,EAAK8P,iBACT,CACA,GAAIjV,IAAIwN,OAAOtJ,YAAciB,EAAM,CAG/B,MACJ,CAEA,GAAIyF,EAAcC,IAAI1E,QAAQ3B,KAAyB,GAChDoG,EAAcE,UACdF,EAAcE,WAAajG,EAAc4G,QAAQb,EAAcC,KAAM,CACxExJ,EAAMqK,oBAAoBd,EAAcC,IAAKD,EAAcE,SAC/D,CACA,GAAIF,EAAcC,MAAQ3F,EAAwB,CAC9C,GAAI0F,EAAcE,WAAa,UAAW,CACtC3F,EAAKuN,iBACL,GAAItO,EAAe6C,UAAU,SAAU,MAAO,CAC1CuO,GACJ,KAAO,CAEH7J,WAAW6J,EAAwB,IACvC,CACJ,CACJ,CACJ,EACArK,OAAOC,iBAAiB,UAAWxG,EACvC,CASAQ,KAAKqQ,yBAA2B,WAC5B,MAAO,CACHhT,cAAeA,EAEvB,CACJ,CAWA,SAASiT,EAA+BC,EAAqBC,GACzDD,EAAoB9C,QAAQ,SAAUgD,GAElC,IAAIC,EAAkB1U,EAAmB2U,qBAAqBF,EAAoBD,GAGlFhV,EAAuBoV,SAAS,yBAA2BH,EAAoBC,EACnF,EACJ,CAEAvV,EAAW0V,OAAO,cA+ClBjW,IAAIwN,OAAO0I,UAAY,SAAU7T,EAAW8T,GACxC,IAAI/L,EAAY,IAAItJ,OAAOuJ,SAG3BrJ,EAAcoV,OAEd,GAAIpW,IAAIwN,OAAOtJ,YAAcN,UAAW,CACpC,IAAIyS,EAAS,IAAIpQ,MAAM,iHAAmHpE,GAC1IzB,EAAIiJ,MAAMgN,EACNA,EAAOC,MACP9U,GACJ,MAAM6U,CACV,CACAxU,GAAkB,IAAKoE,OAASqQ,MAGhC3U,EAAUrB,EAAO,CAAC,EAAG6K,OAAO,sBAE5BvJ,EAAoBuU,EAEpB,UAAWhL,OAAO,mCAAqC,WAAY,CAC/DQ,WAAWR,OAAO,iCACtB,CAGAuK,EAA8B,CAC1B,kBACA,aACA,8BACD,MAEHA,EAA8B,CAAC,iBAAkB,OAOjD,IAAIa,EAAS,IAAIrV,EAAO,CAEpBkQ,MAAO,GACPE,SAAU3P,EAAQ2P,UAAYjP,IAElCI,EAAc,YAAa8T,EAAQ,KAAM,MAAkBhP,KAAK,SAAUvE,GACtEA,EAAQwT,OAAOjP,KAAK,WAEhB,SAASkP,IACL,IAAIC,EAAgBvL,OAAO,qBAC3B,IAAKuL,IAAkBA,EAAclU,SAAU,CAC3C,OAAO,KACX,CACA,IAAImU,EAA6BD,EAAclU,SAASoU,cACxD,IAAIC,EAAuBF,GAA8BA,EAA2BjT,OACpF,OAAOmT,GAAwBA,EAAqBC,mBACxD,CAEA9W,IAAIwN,OAAOtJ,UAAY,IAAIA,EAAUlB,GAGrC,IAAI+T,EAAgB,CAAC/W,IAAIwN,OAAOtJ,UAAUmJ,gBAAgB,kBAC1D,GAAIoJ,IAAa,CAEb/U,EAAemS,WAAa7T,IAAIwN,OAAOtJ,UAAUmJ,gBAAgB,mBACjE0J,EAAchK,KAAKrL,EAAemS,WACtC,CACAzQ,QAAQkP,IAAIyE,GAAexP,KAAK,SAAUyP,GACtCC,EAAcD,EAClB,GAAGzP,KAAK2P,GAGR,IAAIC,EAAwB,GAC5B,GAAIxV,EAAQyV,kBAAoBxT,WAAayT,MAAMC,QAAQ3V,EAAQyV,iBAAkB,CACjFzV,EAAQyV,gBAAgBvE,QAAQ,SAAU0E,GACtCJ,EAAsBpK,KAAK/M,IAAIwN,OAAOtJ,UAAUmJ,gBAAgBkK,GACpE,GACAnX,EAAIiJ,MAAM,sDACd,CAEA,IAAImO,EAAiCxX,IAAIwN,OAAOtJ,UAAUmJ,gBAAgB,mBACrE9F,KAAK,SAAUkQ,GACZzX,IAAIwN,OAAOtJ,UAAUgI,yBAA2BuL,CACpD,GAEJN,EAAsBpK,KAAKyK,GAE3BpU,QAAQkP,IAAI6E,GAAuB5P,KAAK,WACpC6C,EAAU/G,SACd,EACJ,GAEA,SAAS4T,EAAeD,GACpB,IAAIU,EAAiBV,EAAU,GAC/B,IAAIW,EAAOX,EAAU,GACrB,IAAIY,EAAaD,EAAOA,EAAKC,aAAe9W,OAAOgS,KAAK,CAAC,GAEzD8E,EAAWrQ,KAAK,SAAUsQ,GACtB,IAAIC,EAAczX,EAAW,CAAC,EAAGsB,EAAQoW,iBAAkBF,GAC3DH,EAAeM,gBAAgBF,EACnC,EACJ,CAEA,SAASZ,IACLe,IAGAjY,IAAIC,GAAGsD,QAAQ,CAAC,qBAAsB,SAAU2U,GAC5CC,EAAeD,EACnB,EACJ,CAEA,SAASD,IACL,GAAI5W,EAAM+W,qCAAsC,CAG5CpY,IAAIC,GAAGsD,QAAQ,CAAC,4BAA6B,SAAU8U,GACnDhX,EAAMiX,iBAAiBC,iBAAiBF,EAC5C,EACJ,MAAO,GAAIhX,EAAMmX,oCAAqC,CAElDnX,EAAMiX,iBAAiBG,iBAC3B,CACJ,CAEA,SAASN,EAAgBD,GACrB,GAAIA,EAAOQ,KAAK,0BAA2B,CACvC1Y,IAAIwN,OAAOtJ,UAAUmJ,gBAAgB,mBAAmB9F,KAAK,SAAUoR,GACnE,GAAIA,GAA0BA,EAAuBC,MAAO,CACxDD,EAAuBC,OAC3B,CACJ,EACJ,CACJ,CACJ,GACA,OAAOxO,EAAUc,SACrB,CACJ"}