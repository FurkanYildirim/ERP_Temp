{"version":3,"file":"BlueBoxHandler.js","names":["sap","ui","define","BlueBoxesCache","Application","ApplicationContainer","jQuery","deepExtend","Core","hasher","BlueBoxHandler","that","this","AppLifeCycle","oCustomCapabilitiesHandlers","isStateful","handler","appCapabilities","oContainer","enabled","isGUI","protocol","isGUIStateful","isCapUT","isFLP","oBlueBoxContainer","oSupportedTypes","oHandlers","setup","oTarget","sStorageKey","create","oInnerControl","sUrl","bNavigationInSameStatefullContainer","oDeferred","Deferred","oFLPParams","oPostParams","callPostMessage","ushell","Container","getFLPUrl","getSystemAlias","getEventBus","publish","postMessageToIframeApp","then","oResult","currentAppTarget","getServiceAsync","oAppLifeCycleService","prepareCurrentAppObject","undefined","resolve","body","result","prototype","_checkNwbcUrlAdjustment","applicationType","sCacheId","sHash","getHash","indexOf","aInfoArray","aKeysArray","_getParamKeys","length","oCANService","getAppStateData","aDataArray","forEach","item","index","promise","destroy","oPromise","setAsyncDirtyStateProvider","store","restore","Promise","fnResolve","url","oBasicStatefulContainerCapabilities","service","action","init","oSetup","inConfig","inAppLifeCycle","supportedTypes","isStatefulContainerSupported","oBlueBox","bIsSupported","isCapabilitySupported","isKeepAliveSupported","isIframeIsValidSupported","isIframeBusySupported","mapCapabilities","aCaps","setCapabilities","getCapabilities","oCapMap","sServiceName","sInterface","oCap","initBlueBoxBD","Object","keys","key","oCapEntry","oCapMapService","getIsStateful","setIsStateful","removeCapabilities","hasIFrame","_getIFrame","BlueBox","setAppCapabilities","statefulContainer","callback","hasOwnProperty","isCapByTarget","attr","oBBInstance","setStorageKey","getStorageKey","getHandler","_getBlueBoxCacheKey","getBlueBoxCacheKeyValues","sKey","deleteStateFul","delete","getStateFul","get","destroyApp","sAppId","appId","openApp","storeApp","restoreApp","remove","getById","sId","set","oIframe","add"],"sources":["BlueBoxHandler-dbg.js"],"mappings":"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"}