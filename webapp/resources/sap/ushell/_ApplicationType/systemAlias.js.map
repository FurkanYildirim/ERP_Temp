{"version":3,"file":"systemAlias.js","names":["sap","ui","define","URI","oUtils","isPlainObject","Log","S_LOCAL_SYSTEM_ALIAS","O_SYSTEM_ALIAS_SEMANTICS","apply","applied","isAbsoluteURI","oURI","protocol","length","_resolveSystemAlias","sSystemAlias","sSystemDataSrc","fnExternalResolver","bSystemDataSrcProvided","aSystemIds","unshift","sKey","generateLocalStorageKey","oLocalStorage","getLocalStorage","sSerializedSystemData","getItem","oSystemData","JSON","parse","oError","Promise","reject","resolve","fnResolve","fnReject","done","oResolvedSystemAlias","catch","vError","_applyAliasToURI","sURIType","fnExternalSystemAliasResolver","oNewURI","oPromise","sErrorMessage","then","oValidation","validateResolvedSystemAlias","isValid","reportResolvedSystemAliasValidationErrors","sSystemAliasDataName","_selectSystemAliasDataName","window","location","toString","oSystemAliasData","sQuery","sLanguage","oUser","host","port","hostname","_interpolatePathPrefixIntoURI","pathPrefix","query","client","language","ushell","Container","getUser","error","getLanguage","hasOwnProperty","sWebguiParameters","_constructNativeWebguiParameters","rfc","sPathWithParameters","path","_parts","spliceSapSystemIntoURI","sSapSystem","sSapSystemDataSrc","sSystemAliasSemantics","Error","_spliceSapSystemIntoUrlURI","oResultPromise","targetUri","alias","sapSystemSrc","undefined","_stripURI","oStrippedURI","oApply","oURIWithSystemAlias","sError","sDeinterpolatedPath","toLowerCase","indexOf","replace","removeParametersFromURI","oSystemAliasDataRfc","sSystemAliasHttpHost","bRfcHostIsConnectString","bRfcHostSameAsHttpHost","bIsLoadBalancing","aTransactionParamSet","sRfcHostName","systemId","loginGroup","sncNameR3","encodeURIComponent","sncQoPR3","filter","o","test","stringify","service","join","sEncodedChars","sSystem","_stripURIWithSystemAlias","fnOuterResolve","oInnerPromise","sSystemAliasPathPrefix","oResolvedLocalSystemAlias","oResolvedLocalSystemAliasData","sTmpPath","split","sParam","sBrowserLocationProtocol","debug","errors","map","validateWebProtocolField","oField","aErrors","push","bHasHttpsField","bHasHttpField","https","forEach","http","aParametersToRemove","oBannedParametersLookup","sTmpQuery","sParamName","sPathPrefixToInterpolate","sLocalPathPrefix","bPathPrefixMatchesLocal","prependPath","sPath","sResultPath","LOCAL_SYSTEM_ALIAS","SYSTEM_ALIAS_SEMANTICS"],"sources":["systemAlias-dbg.js"],"mappings":"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"}