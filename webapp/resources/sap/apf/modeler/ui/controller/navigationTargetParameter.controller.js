sap.ui.define(["sap/ui/core/library","sap/ui/core/mvc/Controller"],function(e){"use strict";var a=e.ValueState;var t;function i(e){var t;var i=o(e);var r=s(e);if(e.oldKey&&e.navigationTarget.getNavigationParameter(e.oldKey)){e.navigationTarget.removeNavigationParameter(e.oldKey);e.configurationEditor.setIsUnsaved()}if(!e.navigationTarget.getNavigationParameter(i)){if(i&&r){t=e.oParentController.getNavigationParameters().indexOf(e.getView());e.configurationEditor.setIsUnsaved();e.navigationTarget.addNavigationParameter(i,r,t)}e.byId("idNavigationParametersKey").setValueState(a.None);e.oldKey=i}else{e.byId("idNavigationParametersKey").setValueState(a.Error);e.oldKey=null}}function r(e){var a=o(e);if(a&&e.navigationTarget.getNavigationParameter(a)){e.configurationEditor.setIsUnsaved();e.navigationTarget.removeNavigationParameter(a)}}function n(e){e.byId("idNavigationParametersKey").setValueStateText(t("navigationParametersKeyErrorState"));e.byId("idNavigationParametersValue").setValueStateText(t("navigationParametersValueErrorState"));e.byId("idNavigationParametersLabel").setText(t("navigationStaticParametersLabel"));e.byId("idNavigationParametersKey").setPlaceholder(t("navigationParametersKey"));e.byId("idNavigationParametersValue").setPlaceholder(t("navigationParametersValue"))}function o(e){return e.byId("idNavigationParametersKey").getValue()}function s(e){return e.byId("idNavigationParametersValue").getValue()}function l(e,a){if(a){e.byId("idNavigationParametersKey").setValue(a.key);e.oldKey=a.key;e.byId("idNavigationParametersValue").setValue(a.value)}}sap.ui.controller("sap.apf.modeler.ui.controller.navigationTargetParameter",{onInit:function(){var e=this.getView().getViewData();t=e.oTextReader;this.oParentController=e.oParentController;this.navigationTarget=e.oNavigationTarget;this.configurationEditor=e.oConfigurationEditor;n(this);l(this,e.parameter)},onExit:function(){var e=this;e.destroy()},onPlus:function(){this.oParentController.addNavigationParameter()},onMinus:function(){r(this);this.oParentController.removeNavigationParameter(this.getView());this.getView().destroy()},checkVisibilityOfPlusMinus:function(){var e=this.oParentController.getNavigationParameters();if(e.length===1){this.byId("idRemoveNavigationParameter").setVisible(false)}else{this.byId("idRemoveNavigationParameter").setVisible(true)}if(e[e.length-1]===this.getView()){this.byId("idAddNavigationParameter").setVisible(true);if(!this.byId("idRemoveNavigationParameter").hasStyleClass("lessIcon")){this.byId("idRemoveNavigationParameter").addStyleClass("lessIcon")}}else{this.byId("idAddNavigationParameter").setVisible(false);this.byId("idRemoveNavigationParameter").removeStyleClass("lessIcon")}},onKeyEntered:function(){this.byId("idNavigationParametersKey").setValueState(a.None);i(this)},onValueEntered:function(){this.byId("idNavigationParametersValue").setValueState(a.None);i(this)},validate:function(){if(s(this)&&!o(this)){this.byId("idNavigationParametersKey").setValueState(a.Error);return false}if(!s(this)&&o(this)){this.byId("idNavigationParametersValue").setValueState(a.Error);return false}if(this.byId("idNavigationParametersKey").getValueState()===a.Error){return false}return true}})});
//# sourceMappingURL=navigationTargetParameter.controller.js.map