{"version":3,"file":"step.js","names":["sap","ui","define","trace","filter","areRequestOptionsEqual","utils","utilsFilter","executeFilterMapping","constants","metadataProperty","jQuery","Step","oMessageHandler","oStepConfig","oFactory","sRepresentationId","oCoreApi","check","undefined","binding","id","apf","core","message","code","errorCheckConfiguration","oLabelDisplayOptions","representationMetadata","labelDisplayOptions","that","this","oBinding","oRequest","oCachedFilter","oCachedRequestOptions","filterMappingCache","responseData","oAdditionalConfigurationProperties","extend","type","title","longTitle","thumbnail","categories","destroy","getRequestConfiguration","getConfigurationById","request","getAdditionalConfigurationProperties","update","oFilterForRequest","callbackAfterRequest","selectionValidationRequest","selectionValidationRequestFilter","getFilter","bFilterChanged","isEqual","oCurrentRequestOptions","getRequestOptions","bRequestOptionsChanged","requestConfig","logCall","getMetadata","service","then","metadata","log","isEmpty","topNSettings","getSelectedRepresentation","requiredFilter","getProperties","requiredFilterProperties","requiredFilterTextProperty","getPropertyMetadata","entityType","push","selectionFilter","sendGetInBatch","logReturn","determineFilter","oCumulatedFilter","callbackFromStepFilterProcessing","newCumulativeFilter","oMergedFilter","adjustCumulativeFilter","mappingRequired","toUrlParam","oRequestConfig","filterMapping","requestForMappedFilter","selectProperties","target","slice","targetPropertyDisplayOption","TEXT","KEY_AND_TEXT","done","propertyMetadata","text","doExecuteFilterMapping","call","bind","oMappingRequest","createRequest","addAnd","copy","mergedFilter","mappedFilter","localCallback","oMappedFilter","oMessageObject","keepSource","getBinding","getContextInfo","oRequestConfiguration","oContextInfo","setData","oDataResponse","oFilterThatHasBeenUsedToRetrieveData","getRepresentationInfo","getSelectedRepresentationInfo","setSelectedRepresentation","getFilterInformation","activeStep","index","filterInformationDeferred","Deferred","key","getTextNotHtmlEncoded","when","getSelectionInformation","getFilterMappingInformation","selectionInformation","filterMappingInformation","resolve","filterMappingDeferred","mappedPropertyLabel","targetPropertyLabelKey","mappedProperty","mappingRequest","getFilterMappingValues","filterMappingValues","resolveInformationPromise","deferred","filterMappingMetadata","textProperty","mappedPropertyMetadata","MetadataProperty","mappedFilterValues","displayOption","conversionToExternalFormatIsRequired","forEach","data","convertToExternalFormat","sortByProperty","value","selectionDeferred","selectableProperty","selectablePropertyLabel","bindingConfig","requiredFilters","length","requiredFilterOptions","fieldDesc","getSortedSelections","resolveDeferred","filterValues","isFilterMapping","metadataPromise","activeStepMetadataPromise","activeStepMetadata","warningIcon","warningText","activeStepEntitySet","filterableProperties","getFilterableProperties","concat","getParameterEntitySetKeyProperties","indexOf","infoIcon","infoText","stepIndex","serialize","stepId","deserialize","oSerializableStep","getAssignedNavigationTargets","navigationTargets","initialize","createBinding","Array","putMessage","createMessageObject","constructor"],"sources":["step-dbg.js"],"mappings":"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"}