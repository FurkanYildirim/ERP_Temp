//@ui5-bundle sap/apf/library-preload.js
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/Component", ["sap/ui/core/UIComponent","sap/apf/api"],function(t,i){"use strict";var p=t.extend("sap.apf.Component",{oApi:null,metadata:{config:{fullWidth:true},name:"CoreComponent",version:"0.0.1",publicMethods:["getApi"],dependencies:{libs:["sap.m","sap.ui.layout","sap.viz","sap.ui.comp","sap.suite.ui.commons"]}},init:function(){if(!this.oApi){this.oApi=new sap.apf.Api(this)}var i=this.oApi.getStartParameterFacade().getApplicationConfigurationPath();if(i){this.oApi.loadApplicationConfig(i)}t.prototype.init.apply(this,arguments)},createContent:function(){t.prototype.createContent.apply(this,arguments);return this.oApi.startApf()},exit:function(){try{this.oApi.destroy()}catch(t){}},getApi:function(){return this.oApi}});return p},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5). (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/abap/LrepConnector", ["sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/base/util/UriParameters","sap/base/util/merge"],function(jQuery,e,t,s){"use strict";var n=function(e){this._initClientParam();this._initLanguageParam();if(e){this._sXsrfToken=e.XsrfToken}this._sLrepUrl="/sap/bc/lrep"};n.DEFAULT_CONTENT_TYPE="application/json; charset=utf-8";n.ROUTES={CONTENT:"/content/",CSRF:"/actions/getcsrftoken/",DATA:"/flex/data/"};n.createConnector=function(e){return new n(e)};n.prototype._initClientParam=function(){var e=a("sap-client");if(e){this._sClient=e}};function a(e){return t.fromQuery(window.location.search).get(e)}n.prototype._initLanguageParam=function(){var e;e=a("sap-language")||a("sap-ui-language");if(e){this._sLanguage=e}};n.prototype._resolveUrl=function(t){if(!t.startsWith("/")){t="/"+t}var s=e(t).absoluteTo("");return s.toString()};n.prototype._getDefaultHeader=function(){return{headers:{"X-CSRF-Token":this._sXsrfToken||"fetch"}}};n.prototype._getDefaultOptions=function(e,t,a){var r;if(!t){t=n.DEFAULT_CONTENT_TYPE}else if(t.indexOf("charset")===-1){t+="; charset=utf-8"}r=s(this._getDefaultHeader(),{type:e,async:true,contentType:t,processData:false,headers:{"Content-Type":t}});if(a&&r.contentType.indexOf("application/json")===0){r.dataType="json";if(typeof a==="object"){r.data=JSON.stringify(a)}else{r.data=a}}else if(a){r.data=a}if(e==="DELETE"){delete r.data;delete r.contentType}return r};n.prototype.send=function(e,t,n,a){t=t||"GET";t=t.toUpperCase();a=a||{};e=this._resolveUrl(e);a=s(this._getDefaultOptions(t,a.contentType,n),a);return this._sendAjaxRequest(e,a)};n.prototype.deleteFile=function(e,t,s,n,a){return this._fileAction("DELETE",e,t,s,n,null,null,a)};n.prototype.upsert=function(e,t,s,n,a,r,i){var o=this;return Promise.resolve(o._fileAction("PUT",e,t,s,n,a,r,i))};n.prototype.listContent=function(e,t){var s=this._sLrepUrl+n.ROUTES.CONTENT;s+=e;var a=[];if(t){a.push({name:"layer",value:t})}s+=this._buildParams(a);return this.send(s,"GET",null,null)};n.prototype._fileAction=function(e,t,s,a,r,i,o,u){var l=this._sLrepUrl+n.ROUTES.CONTENT;l+=t+"/"+s+"."+a;var f=[];f.push({name:"layer",value:r});if(u){f.push({name:"changelist",value:u})}l+=this._buildParams(f);var p={contentType:o||n.DEFAULT_CONTENT_TYPE};return this.send(l,e.toUpperCase(),i,p)};n.prototype._getMessagesFromXHR=function(e){var t;var s;var n;var a;s=[];try{t=JSON.parse(e.responseText);if(t&&t.messages&&t.messages.length>0){n=t.messages.length;for(a=0;a<n;a++){s.push({severity:t.messages[a].severity,text:t.messages[a].text})}}}catch(e){}return s};n.prototype._sendAjaxRequest=function(e,t){var s=this._sLrepUrl;if(!s){return Promise.reject({status:"warning",messages:[{severity:"warning",text:"Flexibility Services requests were not sent. The UI5 bootstrap is configured to not send any requests."}]})}var a=s+n.ROUTES.CSRF;var r={headers:{"X-CSRF-Token":"fetch"},type:"HEAD"};if(this._sClient){r.headers["sap-client"]=this._sClient}return new Promise(function(s,n){function i(e,t,n){var a=n.getResponseHeader("X-CSRF-Token");this._sXsrfToken=a||this._sXsrfToken;var r=n.getResponseHeader("etag");var i={status:t,etag:r,response:e};s(i);jQuery.each(this._aSentRequestListeners,function(e,t){t(i)})}function o(e,t,s,n){var a=new Error(n);a.status=s;a.code=t.statusCode().status;a.messages=this._getMessagesFromXHR(t);if(!a.stack){try{throw a}catch(t){e(t)}}else{e(a)}}function u(s,a,r){this._sXsrfToken=r.getResponseHeader("X-CSRF-Token");t.headers=t.headers||{};t.headers["X-CSRF-Token"]=this._sXsrfToken;jQuery.ajax(e,t).done(i).fail(o.bind(this,n))}function l(e,s,n,i,l){if(n.status===403){jQuery.ajax(a,r).done(u.bind(this)).fail(function(){s({status:"error"})})}else if(t&&t.type==="DELETE"&&n.status===404){e()}else{o.call(this,s,n,i,l)}}var f=true;if(t&&t.type){if(t.type==="GET"||t.type==="HEAD"){f=false}else if(this._sXsrfToken&&this._sXsrfToken!=="fetch"){f=false}}if(f){jQuery.ajax(a,r).done(u.bind(this)).fail(o.bind(this,n))}else{jQuery.ajax(e,t).done(i.bind(this)).fail(l.bind(this,s,n))}}.bind(this))};n.prototype._buildParams=function(e){if(!e){e=[]}if(this._sClient){e.push({name:"sap-client",value:this._sClient})}if(this._sLanguage){e.push({name:"sap-language",value:this._sLanguage})}var t="";var s=e.length;for(var n=0;n<s;n++){if(n===0){t+="?"}else if(n>0&&n<s){t+="&"}t+=e[n].name+"="+e[n].value}return t};n.prototype.getStaticResource=function(e,t,s,a){var r=this._sLrepUrl+n.ROUTES.CONTENT;r+=e+"/"+t+"."+s;var i=[];if(!a){i.push({name:"dt",value:"true"})}r+=this._buildParams(i);return this.send(r,"GET",null,null)};n.prototype.getFileAttributes=function(e,t,s,a){var r=this._sLrepUrl+n.ROUTES.CONTENT;r+=e+"/"+t+"."+s;var i=[];i.push({name:"metadata",value:"true"});if(a){i.push({name:"layer",value:a})}r+=this._buildParams(i);return this.send(r,"GET",null,null)};return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/api", ["sap/apf/ui/instance","sap/apf/core/instance","sap/apf/core/messageHandler","sap/apf/core/messageDefinition","sap/apf/core/constants","sap/apf/core/utils/filterSimplify","sap/ui/thirdparty/datajs","sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/externalContext","sap/apf/utils/startFilterHandler","sap/apf/utils/startFilter","sap/apf/utils/filterIdHandler","sap/apf/utils/serializationMediator","sap/apf/utils/navigationHandler","sap/apf/utils/startParameter","sap/apf/messageCallbackForStartup","sap/apf/ui/representations/RepresentationInterfaceProxy","sap/base/Log","sap/m/App","sap/m/Text","sap/ui/thirdparty/jquery"],function(t,e,r,n,a,i,s,o,c,u,f,p,l,d,g,h,m,v,C,F,P,jQuery){"use strict";function S(s,c,v){var S;var A;var y;var H;var x;var R;var b;var T;var M;var k;var E;var w;var q;var I=true;var j=jQuery.Deferred();var L=new jQuery.Deferred;var B;var O;this.type="api";this.constants={};this.constants.eventTypes=a.eventTypes;this.destroy=function(){S.activateOnErrorHandling(false);S.setMessageCallback(undefined);S.setLifeTimePhaseShutdown();if(w&&w.destroy){w.destroy()}if(A){A.destroy()}w=undefined;A=undefined;S=undefined;y=undefined;H=undefined};this.activateOnErrorHandling=function(t){return A.activateOnErrorHandling(t)};this.getStartParameterFacade=function(){return A.getStartParameterFacade()};this.getLogMessages=function(){return A.getLogMessages()};this.createStep=function(t,e,r){return A.createStep(t,e,r)};this.getActiveStep=function(){return A.getActiveStep()};this.getCategories=function(){return A.getCategories()};this.getSteps=function(){return A.getSteps()};this.getStepTemplates=function(){return A.getStepTemplates()};this.getFacetFilterConfigurations=function(){return A.getFacetFilterConfigurations()};this.getApplicationConfigProperties=function(){return A.getApplicationConfigProperties()};this.moveStepToPosition=function(t,e,r){return A.moveStepToPosition(t,e,r)};this.removeStep=function(t,e){return A.removeStep(t,e)};this.resetPath=function(){return A.resetPath()};this.setActiveStep=function(t){return A.setActiveStep(t)};this.stepIsActive=function(t){return A.stepIsActive(t)};this.updatePath=function(t){return A.updatePath(t)};this.getApfLocation=function(){return A.getUriGenerator().getApfLocation()};this.readPaths=function(t){return A.readPaths(t)};this.savePath=function(t,e,r){A.savePath(t,e,r)};this.openPath=function(t,e,r){return A.openPath(t,e,r)};this.deletePath=function(t,e){return A.deletePath(t,e)};this.addFacetFilter=function(t){w.getLayoutView().getController().addFacetFilter(t)};this.getEventCallback=function(t){return w.getEventCallback(t)};this.putMessage=function(t){return A.putMessage(t)};this.createMessageObject=function(t){return A.createMessageObject(t)};this.getTextHtmlEncoded=function(t,e){return A.getTextHtmlEncoded(t,e)};this.getTextNotHtmlEncoded=function(t,e){return A.getTextNotHtmlEncoded(t,e)};if(!v){this.loadApplicationConfig=function(t){A.loadApplicationConfig(t)}}else{this.loadApplicationConfig=function(t){}}this.createFilter=function(){return A.createFilter()};this.addPathFilter=function(t){return b.add(t)};this.updatePathFilter=function(t,e){b.update(t,e)};this.getPathFilter=function(t){return b.get(t)};this.createReadRequest=function(t){return A.createReadRequest(t)};this.createReadRequestByRequiredFilter=function(t){return A.createReadRequestByRequiredFilter(t)};this.selectionChanged=function(t){w.selectionChanged(t)};this.createApplicationLayout=function(){if(!B){B=(new F).addStyleClass("sapApf")}return B};this.startApf=function(){var t;var e=this;var r=this.createApplicationLayout();L.done(function(){try{if(this.fnBeforeApfStartupCallback&&typeof this.fnBeforeApfStartupCallback==="function"){this.fnBeforeApfStartupCallback.apply(s,[this])}j.resolve();w.createApplicationLayout(r).then(function(){t=H.checkMode();var r=w.handleStartup(t);r.done(function(){if(e.fnAfterApfStartupCallback&&typeof e.fnAfterApfStartupCallback==="function"){e.fnAfterApfStartupCallback.apply(s,[e])}S.setLifeTimePhaseRunning()})})}catch(t){I=false}}.bind(this));return r};this.addMasterFooterContent=function(t){return w.addMasterFooterContentRight(t)};this.setEventCallback=function(t,e){switch(t){case a.eventTypes.contextChanged:w.setEventCallback(t,e);return true;case a.eventTypes.printTriggered:w.setEventCallback(t,e);return true;case a.eventTypes.format:this.customFormat(e);return true;default:return false}};this.customFormat=function(t){w.setCustomFormatExit(t)};this.setCallbackBeforeApfStartup=function(t){this.fnBeforeApfStartupCallback=t};this.setCallbackAfterApfStartup=function(t){this.fnAfterApfStartupCallback=t};this.getPropertyValuesOfExternalContext=function(t){var e=jQuery.Deferred();R.getCombinedContext().then(function(r){var n=r.getFilterTermsForProperty(t);var a=[];n.forEach(function(t){var e={Low:t.getValue(),Option:t.getOp(),High:t.getHighValue()};a.push(e)});e.resolve(a)});return e.promise()};this.startupSucceeded=function(){return I};if(s&&s.getInjections instanceof Function){if(!c){c={}}jQuery.extend(c,c,s.getInjections())}y=new(c&&c.constructors&&c.constructors.StartParameter||h)(s,v);S=new(c&&c.constructors&&c.constructors.MessageHandler||r);S.activateOnErrorHandling(true);S.setLifeTimePhaseStartup();S.loadConfig(n,true);q=c&&c.functions&&c.functions.messageCallbackForStartup||m;S.setMessageCallback(q);if(c&&c.functions&&c.functions.isUsingCloudFoundryProxy){O=c.functions.isUsingCloudFoundryProxy}else{O=function(){return false}}try{A=new(c&&c.constructors&&c.constructors.CoreInstance||e.constructor)({functions:{isUsingCloudFoundryProxy:O,getCumulativeFilter:function(){return x.getCumulativeFilter()},getCombinedContext:function(){return R.getCombinedContext()},ajax:c&&c.functions&&c.functions.ajax,serializeApfState:function(t,e){return E.serialize(t,e)},deserializeApfState:function(t){return E.deserialize(t)},odataRequest:c&&c.functions&&c.functions.odataRequest,getComponentName:function(){if(v&&v.manifest&&v.manifest["sap.app"]){return v.manifest["sap.app"].id}return s.getMetadata().getComponentName()}},instances:{messageHandler:S,startParameter:y,datajs:c&&c.instances&&c.instances.datajs||OData,component:s},constructors:{Request:c&&c.constructors&&c.constructors.Request,Metadata:c&&c.constructors&&c.constructors.Metadata,MetadataFactory:c&&c.constructors&&c.constructors.MetadataFactory,ResourcePathHandler:c&&c.constructors&&c.constructors.ResourcePathHandler,TextResourceHandler:c&&c.constructors&&c.constructors.TextResourceHandler,SessionHandler:c&&c.constructors&&c.constructors.SessionHandler,Persistence:c&&c.constructors&&c.constructors.Persistence},manifests:v,exits:c&&c.exits,coreProbe:c&&c.coreProbe,corePromise:L});M={instances:{startParameter:y,component:s,messageHandler:S},functions:{getConfigurationProperties:A.getApplicationConfigProperties,ajax:A.ajax}};R=new(c&&c.constructors&&c.constructors.ExternalContext||u)(M);T={functions:{getFacetFilterConfigurations:this.getFacetFilterConfigurations,getReducedCombinedContext:A.getReducedCombinedContext,createRequest:A.getFunctionCreateRequest()},instances:{messageHandler:S,onBeforeApfStartupPromise:j.promise()},constructors:{StartFilter:p}};x=new(c&&c.constructors&&c.constructors.StartFilterHandler||f)(T);k={functions:{setRestrictionByProperty:x.setRestrictionByProperty,getRestrictionByProperty:x.getRestrictionByProperty},instances:{messageHandler:S}};b=new(c&&c.constructors&&c.constructors.FilterIdHandler||l)(k);E=new(c&&c.constructors&&c.constructors.SerializationMediator||d)({instances:{coreApi:A,filterIdHandler:b,startFilterHandler:x,messageHandler:S}});var z={constructors:{FilterReduction:i.FilterReduction},functions:{getCumulativeFilterUpToActiveStep:A.getCumulativeFilterUpToActiveStep,getNavigationTargets:A.getNavigationTargets,getActiveStep:A.getActiveStep,createRequest:A.getFunctionCreateRequest(),getXappStateId:A.getStartParameterFacade().getXappStateId,isFilterReductionActive:A.getStartParameterFacade().isFilterReductionActive,getAllParameterEntitySetKeyProperties:A.getMetadataFacade().getAllParameterEntitySetKeyProperties},instances:{messageHandler:S,component:s,serializationMediator:E}};H=new(c&&c.constructors&&c.constructors.NavigationHandler||g)(z);w=new(c&&c.constructors&&c.constructors.UiInstance||t)({oCoreApi:A,oFilterIdHandler:b,oSerializationMediator:E,oNavigationHandler:H,oComponent:s,oStartParameter:y,oStartFilterHandler:x,functions:c&&c.functions||{},exits:c&&c.exits||{}})}catch(t){I=false;this.startApf=function(){return new P({text:""})};this.loadApplicationConfig=function(){return""};C.error("Caught exception during creation of APF API")}if(A){A.createRepresentation=function(t,e){var r=t.replaceAll(".","/");var n=sap.ui.requireSync(r)||o.extractFunctionFromModulePathString(t);var a=new sap.apf.ui.representations.RepresentationInterfaceProxy(A,w);return new n(a,e)}}if(c&&c.probe&&typeof c.probe==="function"){c.probe({apfApi:this,coreApi:A,component:s,uiApi:w,messageHandler:S,serializationMediator:E,navigationHandler:H,startParameter:y,injectedFunctionsNavigationHandler:z&&z.functions,startFilterHandler:x,externalContext:R,filterIdHandler:b,corePromise:L})}}sap.apf.Api=S;return S},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/base/Component", ["sap/ui/core/UIComponent","sap/apf/api","sap/apf/cloudFoundry/uiHandler","sap/ui/thirdparty/jquery"],function(t,e,i,jQuery){"use strict";var n=t.extend("sap.apf.base.Component",{metadata:{manifest:"json",library:"sap.apf",publicMethods:["getApi"]},oApi:null,init:function(){var e;var i;var s;if(!this.oApi){e=n.prototype.getMetadata().getManifest();i=jQuery.extend({},true,this.getMetadata().getManifest());if(this.getMetadata().getAllProperties().injectedApfApi){s=this.getMetadata().getAllProperties().injectedApfApi.appData.Constructor}else{s=sap.apf.Api}this.oApi=new s(this,undefined,{manifest:i,baseManifest:e});if(this.oApi.startupSucceeded()){t.prototype.init.apply(this,arguments)}}else{return}if(this.getInjections()&&this.getInjections().functions&&this.getInjections().functions.isUsingCloudFoundryProxy&&typeof this.getInjections().functions.isUsingCloudFoundryProxy==="function"&&this.getInjections().functions.isUsingCloudFoundryProxy()===true){sap.apf.cloudFoundry.uiHandler.initRuntime(this)}},createContent:function(){t.prototype.createContent.apply(this,arguments);return this.oApi.startApf()},exit:function(){this.oApi.destroy()},getApi:function(){return this.oApi},getInjections:function(){return{exits:{},instances:{},functions:{},constructors:{},probe:function(){}}}});return n},true);
sap.ui.predefine("sap/apf/cloudFoundry/ajaxHandler", [],function(){"use strict";var e=function(e){var s=e.functions.coreAjax;var t=e.instances.messageHandler;var n;this.send=function(e){if(e.type==="POST"||e.type==="PUT"||e.type==="DELETE"||e.method==="POST"||e.method==="PUT"||e.method==="DELETE"){e.headers=e.headers||{};e.headers["X-CSRF-Token"]=n;if(e.data&&!e.headers["Content-Type"]){e.headers["Content-Type"]="application/json;charset=utf-8"}s(e)}else if(n===undefined){var r=e.success;var a=e.error;e.beforeSend=function(e){e.setRequestHeader("x-csrf-token","Fetch")};e.success=function(e,s,t){n=t.getResponseHeader("x-csrf-token");r(e,s,t)};e.error=function(e,s,r){n="";var o=t.createMessageObject({code:5105});t.putMessage(o);a(e,s,r)};s(e)}else{s(e)}}};sap.apf.cloudFoundry.AjaxHandler=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/analysisPathProxy", ["sap/apf/cloudFoundry/utils"],function(a){"use strict";var s=function(s){var t=s.instances.messageHandler;var e=s.instances.coreApi;var n=s.manifests.manifest;var i=n["sap.app"].dataSources;var r=i&&i["apf.runtime.analysisPaths"]&&i["apf.runtime.analysisPaths"].uri;var u={"Content-Type":"application/json; charset=utf-8"};var c=a.resolveUri.bind(this,s.instances.coreApi);this.openPath=function(a,s){var e=c(r+"/"+a+"?$select=AnalysisPathName,SerializedAnalysisPath");y({method:"GET",url:e,dataType:"json",success:function(a){var t={AnalysisPathName:a.analysisPath.analysisPathName,SerializedAnalysisPath:JSON.parse(a.analysisPath.serializedAnalysisPath)};s({path:t,status:"successful"},d())},error:function(s,e,n,i){var r=f(s,"5252",[a],i,t);t.putMessage(r)},headers:u})};this.createPath=function(a,s,e){var n=o();if(n===undefined){s({status:"failed"},undefined,t.createMessageObject({code:5075}));return}var i=h(e);var f={analysisPathName:a,analyticalConfiguration:n,structuredAnalysisPath:JSON.stringify(i),serializedAnalysisPath:JSON.stringify(e)};y({method:"POST",url:c(r),data:JSON.stringify(f),dataType:"json",success:function(a){s({AnalysisPath:a.analysisPath,status:"successful"},d())},error:function(a,e,n,i){var r=l(a,i,t);s({status:"failed"},undefined,r)},headers:u})};this.modifyPath=function(a,s,e,n){var i=h(n);var f={analysisPathName:s,structuredAnalysisPath:JSON.stringify(i),serializedAnalysisPath:JSON.stringify(n)};y({method:"PUT",url:c(r+"/"+a),data:JSON.stringify(f),dataType:"json",success:function(){e({AnalysisPath:a,status:"successful"},d())},error:function(a,s,n,i){var r=l(a,i,t);e({status:"failed"},undefined,r)},headers:u})};this.deletePath=function(a,s){y({method:"DELETE",url:c(r+"/"+a),success:function(){s({status:"successful"},d())},error:function(a,e,n,i){var r=l(a,i,t);s({status:"failed"},undefined,r)}})};this.readPaths=function(a){function s(a){var s=[];if(a.analysisPaths!==null){a.analysisPaths.forEach(function(a){s.push({AnalysisPath:a.analysisPath,AnalysisPathName:a.analysisPathName,LastChangeUTCDateTime:a.lastChangeUtcDateTime,StructuredAnalysisPath:JSON.parse(a.structuredAnalysisPath)})})}return s}var e=o();if(e===undefined){a({status:"failed"},undefined,t.createMessageObject({code:5075}));return}var n=c(r+"?$select=AnalysisPath,AnalysisPathName,LastChangeUtcDateTime,StructuredAnalysisPath&$filter=(AnalyticalConfiguration%20eq%20'"+e+"')");y({url:n,dataType:"json",success:function(t){var e=s(t);a({paths:e,status:"successful"},d())},error:function(s,e,n,i){var r=l(s,i,t);a({status:"failed"},undefined,r)},headers:u})};function d(){return undefined}function f(a,s,t,e,n){var i=n.createMessageObject({code:s,aParameters:t});var r=l(a,e,n);i.setPrevious(r);return i}function l(a,s,t){var e=t.createMessageObject({code:"5214",aParameters:[a.status,a.statusText]});if(s){e.setPrevious(s)}return e}function o(){var a=e.getStartParameterFacade().getAnalyticalConfigurationId();return a&&a.configurationId}function h(a){var s=[];var t=a.path.steps;t.forEach(function(a){s.push({stepId:a.stepId,selectedRepresentationId:a.binding.selectedRepresentationId})});return{steps:s,indexOfActiveStep:a.path.indicesOfActiveSteps[0]}}function y(a){s.instances.ajaxHandler.send(a)}};sap.apf=sap.apf||{};sap.apf.cloudFoundry=sap.apf.cloudFoundry||{};sap.apf.cloudFoundry.AnalysisPathProxy=s;return s},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/modelerProxy", ["sap/apf/utils/proxyTextHandlerForLocalTexts","sap/apf/cloudFoundry/utils"],function(e,i){"use strict";function n(e,n){var a=n.instances.messageHandler;var t=n.manifests.manifest;var r=t["sap.app"].dataSources;var o=r&&r["apf.designTime.customer.applications"]&&r["apf.designTime.customer.applications"].uri;var l=r&&r["apf.designTime.customer.analyticalConfigurations"]&&r["apf.designTime.customer.analyticalConfigurations"].uri;var c=r&&r["apf.designTime.customer.applicationAndAnalyticalConfiguration"]&&r["apf.designTime.customer.applicationAndAnalyticalConfiguration"].uri;var u=r&&r["apf.designTime.textFileAndAnalyticalConfigurations"]&&r["apf.designTime.textFileAndAnalyticalConfigurations"].uri;var s=r&&r["apf.designTime.textFiles"]&&r["apf.designTime.textFiles"].uri;var f=r&&r["apf.designTime.vendor.importToCustomerLayer"]&&r["apf.designTime.vendor.importToCustomerLayer"].uri;var d=r&&r["apf.designTime.vendor.analyticalConfigurations"]&&r["apf.designTime.vendor.analyticalConfigurations"].uri;var p=n.instances.proxyTextHandlerForLocalTexts;var y=i.resolveUri.bind(this,n.instances.coreApi);function g(){return{}}function v(e){var i=JSON.parse(e.SerializedAnalyticalConfiguration);delete e.SerializedAnalyticalConfiguration;i.configHeader=e;e.SerializedAnalyticalConfiguration=JSON.stringify(i);return e}this.create=function(e,i,n){if(e==="application"){m(i,n)}else if(e==="configuration"&&i.CreationUTCDateTime&&i.LastChangeUTCDateTime){i=v(i);var t=i.AnalyticalConfiguration;z({type:"HEAD",url:y(l+"/"+t),success:function(){var e=a.createMessageObject({code:"5238",aParams:[t]});n(undefined,undefined,e)},error:function(e,t,r,o){if(e.status===404){S(i,function(e,a){n(i,e,a)})}else{var l=L(e,o,a);n(undefined,undefined,l)}}})}else if(e==="configuration"){i=v(i);T(i,n)}else if(e==="texts"){C(i,n)}else{a.check(false,"The create operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function m(e,n){var t={applicationName:e.ApplicationName,textFile:{inDevelopmentLanguage:""}};var r="POST";var l=y(o);if(e.Application){r="PUT";l=l+"/"+e.Application}z({type:r,url:l,data:JSON.stringify(t),dataType:"json",success:function(t,o,l){if(r==="POST"&&t&&!jQuery.isEmptyObject(t)){var c={ApplicationName:e.ApplicationName,Application:t.application};n(c,g(),undefined)}else if(r==="PUT"){var c={ApplicationName:e.ApplicationName,Application:e.Application};n(c,g(),undefined)}else{var u=i.buildErrorMessage(l,"5227",[],undefined,a);n(undefined,g(),u)}},error:function(e,t,r,o){var l=i.buildErrorMessage(e,"5227",[],o,a);n(undefined,g(),l)},async:true})}function T(e,n){var t=e.Application;var r={analyticalConfigurationName:e.AnalyticalConfigurationName,application:t,serializedAnalyticalConfiguration:e.SerializedAnalyticalConfiguration,textFile:{inDevelopmentLanguage:p.createTextFileOfApplication(t)}};z({type:"POST",url:y(l),data:JSON.stringify(r),dataType:"json",success:function(e,o,l){if(e&&!jQuery.isEmptyObject(e)){var c={AnalyticalConfiguration:e.analyticalConfiguration,AnalyticalConfigurationName:r.analyticalConfigurationName};n(c,g(),undefined)}else{var u=i.buildErrorMessage(l,"5226",[t],undefined,a);n(undefined,g(),u)}},error:function(e,r,o,l){var c=i.buildErrorMessage(e,"5226",[t],l,a);n(undefined,g(),c)},async:true})}function C(e,i){var n=p.addText(e);e.TextElement=n;i(e,g())}this.readCollection=function(e,i,n,t,r){if(e==="application"){A(i)}else if(e==="configuration"){h(i,r)}else if(e==="texts"){i([],undefined)}else{a.check(false,"The read collection operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function A(e){var n=y(o+"?$select=Application,ApplicationName");z({type:"GET",url:n,success:function(n,t,r){if(n&&!jQuery.isEmptyObject(n)){var o=[];if(n.applications!==null){n.applications.forEach(function(e){o.push({Application:e.application,ApplicationName:e.applicationName,SemanticObject:""})})}e(o,g(),undefined)}else{var l=i.buildErrorMessage(r,"5229",[],undefined,a);e(undefined,g(),l)}},error:function(n,t,r,o){var l=i.buildErrorMessage(n,"5229",[],o,a);e(undefined,g(),l)},async:true})}function h(e,n){var t=n.getFilterTermsForProperty("Application");var r=t[0].getValue();var o=y(u+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,SerializedAnalyticalConfiguration&$filter="+n.toUrlParam());z({type:"GET",url:o,success:function(n,t,o){if(n&&!jQuery.isEmptyObject(n)){var l=[];if(n.analyticalConfigurations!==null){n.analyticalConfigurations.forEach(function(e){l.push({AnalyticalConfiguration:e.analyticalConfiguration,Application:r,AnalyticalConfigurationName:e.analyticalConfigurationName,SerializedAnalyticalConfiguration:e.serializedAnalyticalConfiguration})})}p.initApplicationTexts(r,n.textFile.inDevelopmentLanguage);e(l,g(),undefined)}else{var c=i.buildErrorMessage(o,"5223",[r],undefined,a);e(undefined,g(),c)}},error:function(n,t,o,l){var c=i.buildErrorMessage(n,"5223",[r],l,a);e(undefined,g(),c)},async:true})}this.readEntity=function(e,i,n,t,r){if(e==="configuration"){var o=n[0].value;if(t&&t.length===2&&jQuery.inArray("CreationUTCDateTime",t)>-1&&jQuery.inArray("LastChangeUTCDateTime",t)>-1){x(o,r,i)}else{E(o,r,i)}}else{a.check(false,"The read single entity operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function x(e,n,t){var r=y(l+"/"+e+"?$select=Application,CreationUtcDateTime,LastChangeUtcDateTime,ServiceInstance");z({type:"GET",url:r,success:function(r,o,l){if(r&&!jQuery.isEmptyObject(r)){var c={CreationUTCDateTime:r.analyticalConfiguration.creationUtcDateTime,LastChangeUTCDateTime:r.analyticalConfiguration.lastChangeUtcDateTime};t(c,g())}else{var u=i.buildErrorMessage(l,"5221",[n,e],undefined,a);t(undefined,g(),u)}},error:function(r,o,l,c){var u=i.buildErrorMessage(r,"5221",[n,e],c,a);t(undefined,g(),u)},async:true})}function E(e,n,t){var r=y(l+"/"+e+"?$select=AnalyticalConfigurationName,SerializedAnalyticalConfiguration");z({type:"GET",url:r,success:function(r,o,l){if(r&&!jQuery.isEmptyObject(r)){var c={Application:n,SerializedAnalyticalConfiguration:r.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:e};t(c,g(),undefined)}else{var u=i.buildErrorMessage(l,"5221",[n,e],undefined,a);t(undefined,g(),u)}},error:function(r,o,l,c){var u=i.buildErrorMessage(r,"5221",[n,e],c,a);t(undefined,g(),u)},async:true})}this.update=function(e,i,n,t){if(e==="application"){var r=t[0].value;N(i,r,n)}else if(e==="configuration"&&i.CreationUTCDateTime&&i.LastChangeUTCDateTime){i=v(i);S(i,n)}else if(e==="configuration"){i=v(i);b(i,n)}else{a.check(false,"The update operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function N(e,n,t){var r={applicationName:e.ApplicationName};var l=y(o+"/"+n);z({type:"PUT",url:l,data:JSON.stringify(r),dataType:"json",success:function(e,i,n){t(g(),undefined)},error:function(e,r,o,l){var c=i.buildErrorMessage(e,"5228",[n],l,a);t(g(),c)},async:true})}function b(e,n){var t=JSON.parse(e.SerializedAnalyticalConfiguration);var r=e.AnalyticalConfiguration;var o=y(l+"/"+r);var c=e.Application;t.configHeader={Application:c,AnalyticalConfiguration:r,AnalyticalConfigurationName:e.AnalyticalConfigurationName,CreationUTCDateTime:e.CreationUTCDateTime,LastChangeUTCDateTime:e.LastChangeUTCDateTime};var u={analyticalConfigurationName:e.AnalyticalConfigurationName,serializedAnalyticalConfiguration:JSON.stringify(t),textFile:{inDevelopmentLanguage:p.createTextFileOfApplication(c)}};z({type:"PUT",url:o,data:JSON.stringify(u),dataType:"json",success:function(e,i,a){n(g(),undefined)},error:function(e,t,o,l){var u=i.buildErrorMessage(e,"5233",[c,r],l,a);n(g(),u)},async:true})}function S(e,n){var t=JSON.parse(e.SerializedAnalyticalConfiguration);var r=t.configHeader.AnalyticalConfiguration;var o=y(c+"/"+r);var l=e.Application;var u={analyticalConfigurationName:e.AnalyticalConfigurationName,application:l,serializedAnalyticalConfiguration:e.SerializedAnalyticalConfiguration};z({type:"PUT",url:o,data:JSON.stringify(u),dataType:"json",success:function(e,i,a){n(g(),undefined)},error:function(e,t,o,c){var u=i.buildErrorMessage(e,"5233",[l,r],c,a);n(g(),u)},async:true})}this.remove=function(e,i,n,t,r,o){if(e==="application"){var l=i[0].value;O(l,n)}else if(e==="configuration"){var c=i[0].value;F(c,r,n)}else{a.check(false,"The delete operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function O(e,n){var t=y(o+"/"+e);z({type:"DELETE",url:t,success:function(e,i,a){n(g(),undefined)},error:function(t,r,o,l){var c=i.buildErrorMessage(t,"5237",[e],l,a);n(g(),c)},async:true})}function F(e,n,t){var r=y(l+"/"+e);z({type:"DELETE",url:r,success:function(e,i,n){t(g(),undefined)},error:function(r,o,l,c){var u=i.buildErrorMessage(r,"5225",[n,e],c,a);t(g(),u)},async:true})}this.doChangeOperationsInBatch=function(e,i,n,t){e.forEach(function(e){if(e.entitySetName!=="texts"){a.check(false,"The create/update/delete operation in batch on entity set "+e.entitySetName+" is not supported by the modeler proxy.")}e.application=n});this._readConfigurationListAndTextFile(n).then(function(a){var r=a.textFile.inDevelopmentLanguage;this._initText(n,r);this._applyChangesOnTextFile(e);var o=this._createTextFileOfApplication(n);this._updateRemoteTextFile(n,"DEV",o,t).then(function(){i(undefined)},function(e){i(e)})}.bind(this),function(e){i(e)})};this._readConfigurationListAndTextFile=function(e){var n="'";var t=new Promise(function(t,r){var o=y(u+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,SerializedAnalyticalConfiguration"+"&$filter=(Application%20eq%20"+n+e+n+")");z({type:"GET",url:o,success:function(e,i,n){var a=[];if(e.analyticalConfigurations!==null){e.analyticalConfigurations.forEach(function(e){a.push({analyticalConfiguration:e.analyticalConfiguration,analyticalConfigurationName:e.analyticalConfigurationName,serializedAnalyticalConfiguration:e.serializedAnalyticalConfiguration})})}var r={analyticalConfigurations:a,textFile:{inDevelopmentLanguage:e.textFile.inDevelopmentLanguage}};t(r)},error:function(n,t,o,l){var c=i.buildErrorMessage(n,"5222",[e],l,a);r(c)},async:true})});return t};this._initText=function(e,i){p.initApplicationTexts(e,i)};this._applyChangesOnTextFile=function(e){e.forEach(function(e){if(e.entitySetName==="texts"){switch(e.method){case"POST":var i=e.data;this._createOrUpdateLocalText(i);break;case"PUT":var n=e.data;this._createOrUpdateLocalText(n);break;case"DELETE":var t=e.application;var r=e.inputParameters[0].value;this._deleteLocalText(t,r);break;default:a.check(false,"The method "+e.method+" is not supported during text processing in batch mode by the modeler proxy.");break}}else{a.check(false,"The create/update/delete operation on entity set "+e.entitySetName+" is not supported by the modeler proxy.")}}.bind(this))};this._createTextFileOfApplication=function(e){return p.createTextFileOfApplication(e)};this._createOrUpdateLocalText=function(e){p.addText(e)};this._deleteLocalText=function(e,i){var n={application:e,inputParameters:[{value:i}]};p.removeText(n)};this._updateRemoteTextFile=function(e,n,t,r){var o=new Promise(function(o,l){var c;if(r===true){c=y(s+"/"+e)}else{c=y(s+"/"+e+"/"+n)}var u={serializedTextFile:t};z({type:"PUT",data:JSON.stringify(u),url:c,success:function(e,i,n){o()},error:function(n,t,r,o){var c=i.buildErrorMessage(n,"5230",[e],o,a);l(c)},async:true})});return o};this.readCollectionsInBatch=function(e,i){var n=e[0];a.check(n.entitySetName==="configuration","wrong usage, only 'configuration' is allowed");var t=n.filter.getFilterTermsForProperty("Application");var r=t[0].getValue();function o(){function e(e,n,a){if(a){i(undefined,a)}else{var t=[];t.push(e);t.push(p.getTextElements(r));i(t)}}return e}this.readCollection(n.entitySetName,o(),n.inputParameters,n.selectList,n.filter)};function L(e,i,n){var a=n.createMessageObject({code:"5214",aParameters:[e.status,e.statusText]});if(i){a.setPrevious(i)}return a}this.importVendorContent=function(e,i,n,a,t){this.readAllConfigurationsFromVendorLayer().done(function(r){D(e,i,n,a,t,r)}).fail(function(e){a(undefined,undefined,e)})};function D(e,i,n,t,r,o){var c;var u,s;var f=e+"."+i;for(c=0;c<o.length;c++){if(o[c].value===f){s=o[c].configurationText;u=o[c].applicationText;break}}z({type:"HEAD",url:y(l+"/"+i),success:function(){n(g,v,s)},error:function(e,n,r,o){if(e.status===404){j(i,p)}else{var l=L(e,o,a);t(undefined,undefined,l)}}});function p(i,n,a){if(!a){r(e,u)}t(i,n,a)}function g(){j(i,t)}function v(n){var r=y(d+"/"+i+"?$select=SerializedAnalyticalConfiguration");z({type:"GET",url:r,success:function(i){U(e,n,i.serializedAnalyticalConfiguration,t)},error:function(e,i,n,r){var o=L(e,r,a);t(undefined,undefined,o)}})}}function U(e,i,n,t){var r=y(l);var o={analyticalConfigurationName:i,application:e,serializedAnalyticalConfiguration:n};z({type:"POST",url:r,dataType:"json",data:JSON.stringify(o),success:function(e){t(e.analyticalConfiguration)},error:function(e,i,n,r){var o=L(e,r,a);t(undefined,undefined,o)}})}function j(e,i){z({type:"PUT",url:y(f+"/"+e),contentType:"application/x-www-form-urlencoded",success:function(){i(e)},error:function(e,n,t,r){var o=L(e,r,a);i(undefined,undefined,o)}})}var P;this.readAllConfigurationsFromVendorLayer=function(){var e=jQuery.Deferred();if(P){e.resolve(P)}else{z({url:y(d+"?$select=Application,ApplicationName,AnalyticalConfiguration,AnalyticalConfigurationName"),success:function(i){var n=[];if(i!==null){i.forEach(function(e){n.push({configurationText:e.analyticalConfigurationName,applicationText:e.applicationName,value:e.application+"."+e.analyticalConfiguration})})}P=n;e.resolve(n)},error:function(i,n,t,r){var o=L(i,r,a);var l=a.createMessageObject({code:"5231"});l.setPrevious(o);e.reject(l)}})}return e.promise()};function z(e){return n.instances.ajaxHandler.send(e)}}var a={ModelerProxy:n};return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/runtimeProxy", ["sap/apf/cloudFoundry/utils"],function(a){"use strict";function e(e,i){var t=i.instances.messageHandler;var n=i.instances.coreApi;var r=i.manifests.manifest;var s=r["sap.app"].dataSources;var o=sap.ui.getCore().getConfiguration().getLanguage();var c={"Content-Type":"application/json; charset=utf-8","Accept-Language":o};var u=s&&s["apf.runtime.analyticalConfigurationAndTextFiles"]&&s["apf.runtime.analyticalConfigurationAndTextFiles"].uri;if(!u){t.putMessage(t.createMessageObject({code:"5236",aParameters:["apf.runtime.analyticalConfigurationAndTextFiles"]}))}var l=a.resolveUri.bind(this,i.instances.coreApi);function f(){return{}}this.readEntity=function(a,e,i){t.check(a==="configuration");var r=i[0].value;var s=this;this.textFiles=undefined;var o=l(u+"/"+r);n.ajax({url:o,success:function(a){var i=JSON.parse(a.analyticalConfiguration.serializedAnalyticalConfiguration);var t=i.configHeader&&i.configHeader.Application;var n={SerializedAnalyticalConfiguration:a.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:r,Application:t,AnalyticalConfigurationName:a.analyticalConfiguration.analyticalConfigurationName};s.textFiles=a.textFiles;e(n,f())},error:function(a,i,n,r){var s=t.createMessageObject({code:"5057",aParameters:[o]});if(r){s.setPrevious(r)}e(undefined,f(),s)},headers:c})};this.readCollection=function(e,i,n,r,s){t.check(e==="texts");var o=s.getFilterTermsForProperty("Application");var c=o[0].getValue();if(!this.textFiles){i(undefined,f(),t.createMessageObject({code:"5222",aParameters:[c]}));return}var u=a.mergeReceivedTexts(this.textFiles,t);i(u.texts,f(),u.messageObject)}}sap.apf.cloudFoundry.RuntimeProxy=e;return e},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/bookmarkconfirmation/showBookmarkConfirmation", ["sap/apf/cloudFoundry/ui/utils/LaunchPageUtils","sap/m/MessageBox","sap/ui/core/routing/HashChanger"],function(e,t,a){"use strict";function o(o,n){var r=new a;var i=n.getAnalyticalConfigurationId().configurationId;var u=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.HEADER);var g=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.SUBHEADER);var c=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.ICON)||"";var m=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.GROUP)||"";o.getApplicationConfigProperties().then(function(a){u=u||o.getTextNotHtmlEncoded(a.appTitle);g=g||o.getTextNotHtmlEncoded("bookmarkSubheaderDefault");t.confirm(o.getTextNotHtmlEncoded("bookmarkConfirmation",[u]),{title:o.getTextNotHtmlEncoded("bookmarkConfirmationTitle"),onClose:function(a){if(a==t.Action.OK){var o=e.generateRuntimeLink(i);e.setBookmarkTile(o,u,g,c,m)}r.replaceHash(e.generateRuntimeHash(i))}})})}return{show:o}});
sap.ui.predefine("sap/apf/cloudFoundry/ui/sharedialog/controller/ShareDialog.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/library","sap/m/MessageBox","sap/apf/cloudFoundry/ui/utils/LaunchPageUtils","sap/ui/core/Fragment","sap/ui/core/IconPool","sap/ui/core/ValueState"],function(e,t,i,o,r,a,n,s){"use strict";var l="sap.apf.cloudFoundry.ui.sharedialog";return e.extend(l+".controller.ShareDialog",{onInit:function(){var e=this.getOwnerComponent();this.oCoreApi=e.oCoreApi;var t=this.getView();var i=t.getViewData();if(i.oController.configEditor.isSaved()){this.initializeDialog()}else{o.warning(this.translate("unsavedStateWarning"),{onClose:function(){t.destroy();this.destroy()}.bind(this)})}},initializeDialog:function(){var e=this.getDialog();var i=this.getView();var o=i.getViewData();this.config=o.oController._getNodeData({},"configuration").data;this.runtimeLink=r.generateRuntimeLink(this.config.AnalyticalConfiguration);this.ui=new t({TileHeader:this.config.name,TileHeaderDefault:this.config.name,TileSubheader:this.translate("bookmarkSubheaderDefault"),TileIcon:"",TileIconValueState:s.None,TileGroup:""});i.setModel(this.ui,"ui");this.updateTileTooltip();var a=i.byId("tilePreview");a.addDelegate({onAfterRendering:function(){var e=a.getDomRef().id;jQuery("#"+e).attr("tabindex",-1)}});e.open()},updateTileTooltip:function(){var e="";e+=this.translate("bookmarkTooltipHeader",this.ui.getProperty("/TileHeader"));e+="\n"+this.translate("bookmarkTooltipSubheader",this.ui.getProperty("/TileSubheader"));var t=this.ui.getProperty("/TileIcon");if(t!==""){e+="\n"+this.translate("bookmarkTooltipIcon",t)}var i=this.ui.getProperty("/TileGroup");if(i!==""){e+="\n"+this.translate("bookmarkTooltipGroup",i)}this.ui.setProperty("/TileTooltip",e)},selectText:function(e,t,i){var o=document.getElementById(e.getIdForLabel());o.select();o.setSelectionRange(t,i)},showLinkDialog:function(e){var t=this;var i=this.getView();a.load({id:i.getId(),name:l+".fragment.ShowLinkDialog",controller:{getView:function(){return i.byId("showLinkDialog")},translate:t.translate.bind(t),onBeforeOpen:function(){var t=i.byId("textAreaLink");t.setValue(e)},onAfterOpen:function(){var o=i.byId("textAreaLink");if(e!==undefined){t.selectText(o,0,e.length)}},onAfterClose:function(){this.getView().destroy();i.removeDependent(this.getView())},onButtonClosePress:function(){this.getView().close()}}}).then(function(e){i.addDependent(e);e.open()})},getBookmarkLink:function(){var e=this.getView();var t=e.byId("inputHeader").getValue();var i=e.byId("inputSubheader").getValue();var o=e.byId("inputIcon").getValue();var a=e.byId("inputGroup").getValue();var s=n.getIconInfo(o);if(s){o=s.uri}else{o=""}var l=this.runtimeLink;return new Promise(function(e){setTimeout(function(){e()},2e3)}).then(function(){return r.buildBookmarkLink(l,t,i,o,a)})},onShowLink:function(){var e=this.getBookmarkLink();this.showLinkDialog(e)},onSendEmail:function(){var e=this.ui.getProperty("/TileHeader");var t=this.getBookmarkLink();var o=this.translate("helpLink");var r=this.translate("emailTemplateSubject",e);var a=this.translate("emailTemplateText",e,t,o);i.URLHelper.triggerEmail("",r,a)},onMarkFavorite:function(){var e=this.ui.getProperty("/TileHeader");var t=this.ui.getProperty("/TileSubheader");var i=this.ui.getProperty("/TileIcon");var o=this.ui.getProperty("/TileGroup");r.setBookmarkTile(this.runtimeLink,e,t,i,o)},onHeaderChange:function(e){var t=e.getParameters().value;if(t==""){t=this.config.name}this.ui.setProperty("/TileHeader",t);this.updateTileTooltip()},onSubheaderChange:function(e){var t=e.getParameters().value;if(t==""){t=this.translate("bookmarkSubheaderDefault")}this.ui.setProperty("/TileSubheader",t);this.updateTileTooltip()},onIconChange:function(e){var t=e.getParameters().value;var i=n.getIconInfo(t);if(t===""){this.ui.setProperty("/TileIcon","");this.ui.setProperty("/TileIconValueState",s.None)}else if(i){this.ui.setProperty("/TileIcon",i.uri);this.ui.setProperty("/TileIconValueState",s.None)}else{this.ui.setProperty("/TileIcon","");this.ui.setProperty("/TileIconValueState",s.Error)}this.updateTileTooltip()},onGroupChange:function(e){var t=e.getParameters().value;this.ui.setProperty("/TileGroup",t);this.updateTileTooltip()},onClose:function(){this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},getDialog:function(){var e=this.getView();var t=e.byId("shareDialog");if(!t){t=sap.ui.xmlfragment(e.getId(),l+".fragment.ShareDialog",this);e.addDependent(t)}return t},translate:function(e){return this.oCoreApi.getText(e,Array.prototype.slice.call(arguments,1))}})});
sap.ui.predefine("sap/apf/cloudFoundry/ui/sharedialog/showShareDialog", ["sap/apf/cloudFoundry/ui/utils/ComponentCorrector","sap/ui/core/library"],function(e,o){"use strict";var r="sap.apf.cloudFoundry.ui.sharedialog";var i=o.mvc.ViewType;function a(o,a){e.createView(o.getComponent(),{viewName:r+".view.ShareDialog",type:i.XML,viewData:{oCoreApi:o,oController:a}})}return{show:a}});
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/ComponentCorrector", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/mvc/View"],function(n,t,e){"use strict";var o="sap.apf.cloudFoundry.ui.utils";var r=n.extend(o+".ComponentCorrector",{constructor:function(n){if(!(this instanceof r)){throw Error('Cannot instantiate object: "new" is missing!')}if(n instanceof t){this.oComponent=n}else{throw Error('Cannot instantiate object: "oComponent" is not a Component!')}},runAsComponent:function(n){return this.oComponent.runAsOwner(n)},createView:function(n){var t=this.oComponent;return this.runAsComponent(function(){return e.create(n).then(function(n){if(!n.bIsDestroyed){Object.keys(t.oModels).forEach(function(e){if(!n.getModel(e)){n.setModel(t.getModel(e),e)}});n.setParent(t);return n}return null})})}});r.createView=function(n,t){return new r(n).createView(t)};return r},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/LaunchPageUtils", ["sap/base/security/encodeURLParameters","sap/ushell/services/Container"],function(e){"use strict";var i={BOOKMARK:"bookmark",HEADER:"tile-header",SUBHEADER:"tile-subheader",ICON:"tile-icon",GROUP:"tile-group"};function n(e){return sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(i){var n=i.hrefForExternalAsync({target:{semanticObject:"FioriApplication",action:"executeAPFConfiguration"},params:{"sap-apf-configuration-id":e}})||"";return n})}function t(e){var i=jQuery(location).attr("href").split("#")[0].split("?")[0];var t=n(e);return t.then(function(e){return i+e})}function r(n,t,r,a,o){if(!n.includes("#")){return null}var u={};u[i.BOOKMARK]=true;if(t){u[i.HEADER]=t}if(r){u[i.SUBHEADER]=r}if(a){u[i.ICON]=a}if(o){u[i.GROUP]=o}var s=n.split("#");var c=s[s.length-1];var l=e(u);var f=n;f+=c.includes("?")?"&":"?";f+=l;return f}function a(e,i,n,t,r){sap.ushell.Container.getService("LaunchPage").getGroups().then(function(a){var o;if(r){a.forEach(function(e){if(e.identification.id===r){o=e}});if(o===undefined){throw"group not found"}}var u={title:i,subtitle:n,url:e,icon:t};var s=sap.ushell.Container.getService("Bookmark");s.deleteBookmarks(e);s.addBookmark(u,o)})}return{BOOKMARK_LINK_PARAMETERS:i,generateRuntimeHash:n,generateRuntimeLink:t,buildBookmarkLink:r,setBookmarkTile:a}},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/ODataServiceUtils", ["sap/ui/model/odata/v2/ODataModel"],function(e){"use strict";var t="/destination/";var n="/sap/opu/odata/iwfnd/catalogservice;v=2/";var r="/$metadata";var a="/odata/v2/";var i={CATALOG:"CATALOG",SERVICE:"SERVICE",OTHER:"OTHER"};var u={PENDING:"PENDING",ANALYTICAL_SERVICE:"ANALYTICAL_SERVICE",NOT_ANALYTICAL_SERVICE:"NOT_ANALYTICAL_SERVICE",WRONG_ODATA_VERSION:"WRONG_ODATA_VERSION",NOT_ACCESSIBLE:"NOT_ACCESSIBLE"};function o(e){return t+e+n}function s(e){var t=(e||"").match(new RegExp("https?:\\/\\/[^\\/]+\\/(.+)"));return t?"/"+t[1]:""}function f(e,t){if(!e||typeof e!=="string"||!t||typeof t!=="string"){return undefined}else if(!t.includes("://")){return undefined}var n;if(e.startsWith(t)){n=e.slice(t.length)}else if(e.includes("://")){return undefined}else{n=e}if(n.startsWith("/")){return n}return"/"+n}function c(e,n){return t+e+n}function E(e){var a=function(e,a){jQuery.ajax(t+e.name+r).then(function(){a(i.SERVICE)}).fail(function(){if(e.proxyType=="OnPremise"){jQuery.ajax(t+e.name+n).then(function(){a(i.CATALOG)}).fail(function(){a(i.OTHER)})}else{a(i.OTHER)}})};return e.map(function(e){return new Promise(function(t){a(e,t)})}).reduce(function(t,n,r){t[e[r].name]=n;return t},{})}function A(t,n){return new Promise(function(r,a){var i=c(t,n);var o=new e(i);o.attachMetadataFailed(function(e){var t=e.getParameter("response");if(t&&t.headers["odata-version"]&&!t.headers["odata-version"].startsWith("2")){a(u.WRONG_ODATA_VERSION)}else{a(u.NOT_ACCESSIBLE)}});var s=o.getMetaModel();s.loaded().then(function(){var e=s.getODataEntityContainer().entitySet.some(function(e){return s.getODataEntityType(e.entityType).property.some(function(e){return e["sap:aggregation-role"]==="measure"})});r(e?u.ANALYTICAL_SERVICE:u.NOT_ANALYTICAL_SERVICE)})})}function d(e){return new Promise(function(n,r){jQuery.ajax(t+e+a).done(function(e,t,a){if(a.status===200&&jQuery(e).filter("h1").text().trim()==="OData endpoints:"){var i=jQuery(e).filter("a").map(function(e,t){return{Url:s(t.href)}}).toArray();n(i)}else{r()}}).fail(function(){r()})})}return{DESTINATION_TYPE:i,SERVICE_STATUS:u,getCatalogURL:o,getRelativeServiceURL:s,getFullServiceURL:c,getRelativeURL:f,pingDestinations:E,isAnalyticalService:A,discoverServices:d}},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/valuehelp/controller/CatalogBrowser.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/IconPool","sap/ui/core/library","sap/ui/core/ValueState","sap/ui/core/Item","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/m/MessageToast","sap/apf/cloudFoundry/ui/utils/ODataServiceUtils"],function(e,t,a,r,i,n,s,o,l,c,u,S){"use strict";r=a.ValueState;var d="sap.apf.cloudFoundry.ui.valuehelp";var v={BACK:-1,DESTINATIONS:0,CATALOG:1,URL:2,OVERVIEW:3,OVERVIEW_REDUCED:4,OVERVIEW_SERVICEONLY:5};function h(e,t){return e.getManifestObject().resolveUri(t).toString()}return e.extend(d+".controller.CatalogBrowser",{onInit:function(){var e=this.getOwnerComponent();var t=h(e,e.getManifestEntry("/sap.app/dataSources/apf.destinationCatalog.destinations").uri);this.sDestination=undefined;this.sService=undefined;this.oCoreApi=e.oCoreApi;var a=this.getDialog();var i=this.getView();a.removeStyleClass("sapUiPopupWithPadding");a.addStyleClass("sapMSelectDialog");var s=new n({Title:this.translate("selectDestination"),Destination:"",Service:"",ServiceUrlValueState:r.None,SearchEnabled:true,ButtonOkEnabled:false,ButtonSelectEnabled:false,ButtonBackEnabled:false});i.setModel(s,"ui");var o=new n(t);i.setModel(o,"destinations");o.attachRequestCompleted(function(){this.oDestinationStatusPromises=S.pingDestinations(o.getData().destinations)}.bind(this));this.addCustomEventDelegates();a.open()},addCustomEventDelegates:function(){var e=this.getView();e.byId("urlInput").addEventDelegate({onkeypress:function(e){if(e.key==="Enter"){this.onSelectServiceUrl()}}.bind(this)})},onSelectDestination:function(e){this.destinationPath=e.getSource().getBindingContext("destinations").getPath();var t=this.getView();var a=t.getModel("destinations");var r=a.getObject(this.destinationPath);this.destinationSearch=t.byId("searchField").getValue();t.byId("searchField").setValue("");this.oDestinationStatusPromises[r.name].then(function(e){switch(e){case S.DESTINATION_TYPE.SERVICE:this.navigate(v.OVERVIEW_SERVICEONLY,{destination:r.name});this.setIsAnalyticalService();t.byId("serviceOnlyOverview").bindElement({path:this.destinationPath,model:"destinations"});break;case S.DESTINATION_TYPE.CATALOG:this.navigate(v.CATALOG,{destination:r.name});this.attachCatalogModel(r.name);break;default:var a=t.byId("urlInput");a.setValue("");a.removeAllItems();a.setShowButton(false);this.navigate(v.URL,{destination:r.name});S.discoverServices(r.name).then(function(e){if(e.length>0){e.forEach(function(e){a.addItem(new i({text:e.Url}))});a.setShowButton(true)}}).catch(function(){});break}}.bind(this))},attachCatalogModel:function(e){var t=this.getView();var a=t.byId("navContainer").getCurrentPage().getContent()[0];a.bindItems({path:"catalog>/ServiceCollection",sorter:new c("TechnicalServiceName",false),parameters:{custom:{search:""}},template:a.getBindingInfo("items").template});var r=new s(S.getCatalogURL(e));t.setModel(r,"catalog");var i=t.byId("selectService");i.setBusy(true);r.attachMetadataLoaded(function(){i.setBusy(false)});r.attachMetadataFailed(function(e){this.onBack();u.show(this.translate("destinationError",e.getParameter("responseText")));i.setBusy(false)}.bind(this))},onSelectService:function(e){var t=this.getView();var a=e.getSource().getBindingContext("catalog");var r=S.getRelativeServiceURL(a.getProperty("ServiceUrl"));this.navigate(v.OVERVIEW,{service:r});this.setIsAnalyticalService();var i=a.getPath();t.byId("destinationOverview").bindElement({path:this.destinationPath,model:"destinations"});t.byId("serviceOverview").bindElement({path:i,model:"catalog"})},onSelectServiceUrl:function(){var e=this.getView();var t=e.getModel("ui");var a=e.byId("urlInput").getValue();if(!a.startsWith("/")){t.setProperty("/ServiceUrlValueState",r.Error);return}t.setProperty("/ServiceUrlValueState",r.None);this.navigate(v.OVERVIEW_REDUCED,{service:a});this.setIsAnalyticalService();e.byId("reducedDestinationOverview").bindElement({path:this.destinationPath,model:"destinations"})},onCancel:function(){this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},onBack:function(){var e=this.getView();var t=this.navigate(v.BACK);switch(t){case v.DESTINATIONS:e.byId("searchField").setValue(this.destinationSearch);break;default:break}},onOk:function(){var e=this.getView();var t=e.getModel("ui");var a=S.getFullServiceURL(t.getProperty("/Destination"),t.getProperty("/Service"));var r=this.getView().getViewData();r.parentControl.fireEvent("selectService",{sSelectedService:a});this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},onLiveChangeSearch:function(e){var t=e.getParameter("newValue");var a=t?300:0;var r=this;clearTimeout(this.iLiveChangeTimer);if(a){this.iLiveChangeTimer=setTimeout(function(){r.executeSearch(t)},a)}else{this.executeSearch(t)}},onSearch:function(e){this.executeSearch(e.getSource().getValue())},executeSearch:function(e){var t=this.getView();var a=t.byId("navContainer").getCurrentPage().getContent()[0];var r=t.getModel("ui").getProperty("/Destination")!=="";if(r){a.bindItems({path:"catalog>/ServiceCollection",sorter:new c("TechnicalServiceName",false),parameters:{custom:{search:e}},template:a.getBindingInfo("items").template})}else{a.getBinding("items").filter(new o({filters:[new o({path:"name",operator:l.Contains,value1:e}),new o({path:"description",operator:l.Contains,value1:e})],and:false}))}},setIsAnalyticalService:function(){var e=this.getView().getModel("ui");var t=e.getProperty("/Destination");var a=e.getProperty("/Service");e.setProperty("/ServiceStatus",S.SERVICE_STATUS.PENDING);return S.isAnalyticalService(t,a).then(function(t){e.setProperty("/ServiceStatus",t)}).catch(function(t){e.setProperty("/ServiceStatus",t)})},serviceStatusIcon:function(e){switch(e){case S.SERVICE_STATUS.ANALYTICAL_SERVICE:return t.getIconURI("status-positive");case S.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return t.getIconURI("status-critical");case S.SERVICE_STATUS.WRONG_ODATA_VERSION:return t.getIconURI("status-error");case S.SERVICE_STATUS.NOT_ACCESSIBLE:return t.getIconURI("status-error");default:return t.getIconURI("status-inactive")}},serviceStatusState:function(e){switch(e){case S.SERVICE_STATUS.ANALYTICAL_SERVICE:return r.Success;case S.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return r.Warning;case S.SERVICE_STATUS.WRONG_ODATA_VERSION:return r.Error;case S.SERVICE_STATUS.NOT_ACCESSIBLE:return r.Error;default:return r.None}},serviceStatusText:function(e){switch(e){case S.SERVICE_STATUS.ANALYTICAL_SERVICE:return this.translate("analyticalService");case S.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return this.translate("nonAnalyticalService");case S.SERVICE_STATUS.WRONG_ODATA_VERSION:return this.translate("wrongOdataVersion");case S.SERVICE_STATUS.NOT_ACCESSIBLE:return this.translate("serviceNotAccessible");default:return this.translate("pending")}},proxyTypeIcon:function(e){switch(e){case"OnPremise":return t.getIconURI("it-host");default:return t.getIconURI("cloud")}},proxyTypeText:function(e){switch(e){case"OnPremise":return this.translate("onPremise");default:return this.translate("cloud")}},translate:function(e){return this.oCoreApi.getText(e,Array.prototype.slice.call(arguments,1))},getRelativeServiceURL:S.getRelativeServiceURL,navigate:function(e,t){var a=this.getView();var i=a.getModel("ui");var n=a.byId("navContainer");t=t||{};t.destination=t.destination||i.getProperty("/Destination");t.service=t.service||i.getProperty("/Service");var s;if(e<0){var o=n.getPreviousPage();s=n.indexOfPage(o)}else{s=e}switch(s){case v.DESTINATIONS:i.setProperty("/Title",this.translate("selectDestination"));i.setProperty("/Destination","");i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",true);i.setProperty("/ButtonOkEnabled",false);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",false);break;case v.CATALOG:i.setProperty("/Title",this.translate("selectService",t.destination));i.setProperty("/Destination",t.destination);i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",true);i.setProperty("/ButtonOkEnabled",false);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",true);break;case v.URL:i.setProperty("/Title",this.translate("enterService",t.destination));i.setProperty("/Destination",t.destination);i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",false);i.setProperty("/ButtonOkEnabled",false);i.setProperty("/ButtonSelectEnabled",true);i.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW:i.setProperty("/Title",this.translate("overview"));i.setProperty("/Destination",t.destination);i.setProperty("/Service",t.service);i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",false);i.setProperty("/ButtonOkEnabled",true);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW_REDUCED:i.setProperty("/Title",this.translate("overview"));i.setProperty("/Destination",t.destination);i.setProperty("/Service",t.service);i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",false);i.setProperty("/ButtonOkEnabled",true);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW_SERVICEONLY:i.setProperty("/Title",this.translate("overview"));i.setProperty("/Destination",t.destination);i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",false);i.setProperty("/ButtonOkEnabled",true);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",true);break;default:i.setProperty("/Title",this.translate("selectDestination"));i.setProperty("/Destination","");i.setProperty("/Service","");i.setProperty("/ServiceUrlValueState",r.None);i.setProperty("/SearchEnabled",true);i.setProperty("/ButtonOkEnabled",false);i.setProperty("/ButtonSelectEnabled",false);i.setProperty("/ButtonBackEnabled",false);s=v.DESTINATIONS;break}if(e<0){n.back()}else{var l=n.getPages()[s];n.to(l)}return s},getDialog:function(){var e=this.getView().byId("catalogBrowser");var t=this.getView();if(!e){e=sap.ui.xmlfragment(t.getId(),d+".fragment.CatalogBrowser",this);t.addDependent(e)}return e}})});
sap.ui.predefine("sap/apf/cloudFoundry/ui/valuehelp/showValueHelp", ["sap/apf/cloudFoundry/ui/utils/ComponentCorrector","sap/ui/core/library"],function(e,a){"use strict";var o="sap.apf.cloudFoundry.ui.valuehelp";var r=a.mvc.ViewType;function i(a,i){e.createView(i.getComponent(),{viewName:o+".view.CatalogBrowser",type:r.XML,viewData:a})}return{show:i}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/uiHandler", ["sap/apf/cloudFoundry/ui/sharedialog/showShareDialog","sap/apf/cloudFoundry/ui/valuehelp/showValueHelp","sap/apf/cloudFoundry/ui/bookmarkconfirmation/showBookmarkConfirmation","sap/apf/cloudFoundry/ui/utils/LaunchPageUtils"],function(a,o,i,r){"use strict";function u(a){var o=a.getApi();var u=o.getStartParameterFacade();var e=u.getAnalyticalConfigurationId().configurationId;var t=u.getParameter(r.BOOKMARK_LINK_PARAMETERS.BOOKMARK);if(e&&t=="true"){i.show(o,u)}}return{showShareDialog:a.show,showValueHelp:o.show,initRuntime:u}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/utils", ["sap/apf/core/messageObject","sap/apf/utils/hashtable","sap/apf/utils/parseTextPropertyFile"],function(e,t,r){"use strict";function a(){return["inRequestedLanguage","inAlternateLanguage","inEnglish","inDevelopmentLanguage"]}var n={createErrorMessageObject:function(t,r){var a=new e(t);var n="";if(r){r.forEach(function(e){n=n+e+" "});a.setPrevious(new e({code:"5220",aParameters:[n]}))}return a},buildErrorMessage:function(e,t,r,a,n){var s=n.createMessageObject({code:"5214",aParameters:[e.status,e.statusText]});var o=n.createMessageObject({code:t,aParameters:r});if(a){o.setPrevious(a);a.setPrevious(s)}else{o.setPrevious(s)}return o},mergeReceivedTexts:function(n,s){var o=undefined;var u=new t(s);var i=a();i.forEach(function(t){var a=n[t];if(!a||a==="null"){return}var i=r(a,{instances:{messageHandler:s}});var c;if(i.Messages.length>0){o=o||new e({code:"5416"});c=o;i.Messages.forEach(function(e){c.setPrevious(e);c=e})}i.TextElements.forEach(function(e){if(e.TextElement&&!u.hasItem(e.TextElement)){u.setItem(e.TextElement,e)}})});var c=[];u.getKeys().forEach(function(e){c.push(u.getItem(e))});return{texts:c,messageObject:o}},resolveUri:function e(t,r){if(t&&t.getComponent&&t.getComponent()){return t.getComponent().getManifestObject().resolveUri(r)}return r}};sap.apf.cloudFoundry=sap.apf.cloudFoundry||{};return n});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/ajax", ["sap/apf/core/utils/checkForTimeout","sap/ui/model/odata/ODataUtils"],function(e,s){"use strict";function n(n){var a=n.instances&&n.instances.messageHandler;var t=jQuery.extend(true,{},n);if(t.functions&&t.functions.ajax){delete t.functions.ajax}if(t.functions&&t.functions.getSapSystem){delete t.functions.getSapSystem}if(t.instances&&t.instances.messageHandler){delete t.instances.messageHandler}if(t.suppressSapSystem){delete t.suppressSapSystem}var r=t.beforeSend;var i=t.success;var c=t.error;var u;var f;var o=n.functions&&n.functions.ajax||jQuery.ajax;t.beforeSend=function(e,s){if(r){r(e,s)}};if(n.functions&&n.functions.getSapSystem&&n.functions.getSapSystem()&&!n.suppressSapSystem){t.url=s.setOrigin(t.url,{force:true,alias:n.functions.getSapSystem()})}var p=function(s,n,a){var t;try{t=e(a);if(t){c(s,"error",undefined,t)}else{i(s,n,a)}}catch(e){l(e)}};var d=function(s,n,a){var t;try{t=e(s);if(t){c(s,n,a,t)}else{c(s,n,a)}}catch(e){l(e)}};if(t.async!==undefined&&t.async===false){t.success=p;t.error=d;f=o(t);if(a&&a.isOwnException(u)){throw new Error(u&&u.message||"")}}else{delete t.success;delete t.error;f=o(t).done(function(e,s,n){p(e,s,n)}).fail(function(e,s,n){d(e,s,n)})}return f;function l(e){var s;var n;u=e;if(!a.isOwnException(e)){s=e&&e.message||"";n=a.createMessageObject({code:"5042",aParameters:[s]});a.putMessage(n)}}}sap.apf.core.ajax=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/binding", ["sap/apf/core/constants","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,t,n,r,jQuery){"use strict";function i(e,t,n,r){var i=this;this.type="binding";var a=0;var s=[];var o=[];var d=[];var c;this.oTitle=t.oTitle;this.oLongTitle=t.oLongTitle;var l=t.requiredFilters;var p=t.requiredFilterOptions;this.destroy=function(){s.forEach(function(e){if(e&&e.destroy){e.destroy()}});s=[];o=[];d=[];c=undefined};function u(n,r){if(e.exits&&e.exits.binding&&e.exits.binding.afterGetFilter){return e.exits.binding.afterGetFilter(n,i.getSelectedRepresentation(),e.instances.coreApi,t,r)}return n}this.getFilter=function(t){var n=this.getSelectedRepresentation();var r=sap.apf.core.constants.filterMethodTypes;var i=[];var a;if(n.getFilterMethodType()===r.filter){var s=n.getFilter().getInternalFilter();return u(s,t)}if(n.getSelectionAsArray){i=n.getSelectionAsArray()}else{return u(new sap.apf.core.utils.Filter(e.instances.messageHandler),t)}if(i===undefined){a=sap.apf.core.utils.Filter.createEmptyFilter(e.instances.messageHandler,l);return u(a,t)}if(i.length===d.length||i.length===0){return u(new sap.apf.core.utils.Filter(e.instances.messageHandler),t)}a=sap.apf.core.utils.Filter.createFromArray(e.instances.messageHandler,l,d,i);return u(a,t)};this.getRequiredFilters=function(){return l};this.getRequiredFilterOptions=function(){return p};this.getRequestOptions=function(e){if(jQuery.isFunction(this.getSelectedRepresentation().getRequestOptions)){return this.getSelectedRepresentation().getRequestOptions(e)}return{}};this.setFilterValues=function(e){var t=this.getSelectedRepresentation();t.setFilterValues(e)};this.setData=function(t){e.instances.messageHandler.check(t!==undefined,"aDataResponse is undefined (binding function setData)");d=t.data;c=t.metadata;this.getSelectedRepresentation().setData(t.data,t.metadata,t.count,t.selectionValidation)};this.updateTreetable=function(e,t,n,r){this.getSelectedRepresentation().updateTreetable(e,t,n,r)};this.getSortedSelections=function(){return this.getSelectedRepresentation().getSortedSelections()};this.getRepresentationInfo=function(){var e=jQuery.extend(true,[],o);for(var t=0;t<e.length;t++){delete e[t].id;delete e[t].type;delete e[t].constructor}return e};this.getSelectedRepresentationInfo=function(){e.instances.messageHandler.check(a>=0&&a<o.length,"index in array boundaries");var t=jQuery.extend(true,{},o[a]);delete t.id;delete t.type;delete t.constructor;return t};this.getSelectedRepresentation=function(){e.instances.messageHandler.check(a>=0&&a<s.length,"selectedRepresentation in array boundaries");return s[a]};this.setSelectedRepresentation=function(r){e.instances.messageHandler.check(typeof r==="string","setSelectedRepresentation() - sRepresentationId missing");var i=this;var o=this.getSelectedRepresentation();var l=u(r,t.representations);var p=f(l);a=l.index;if(d!==undefined&&c!==undefined){p.setData(d,c)}if(p.adoptSelection){p.adoptSelection(o)}if(o&&o.onChartSwitch){o.onChartSwitch()}function u(t,r){for(var i=0;i<r.length;i++){if(t===r[i].id){return{config:r[i],constructor:n.getConfigurationById(r[i].representationTypeId).constructor,index:i}}}e.instances.messageHandler.check(false,"Representation config not found")}function f(r){var a;if(s[r.index]===undefined){if(r.config.parameter&&r.config.parameter.alternateRepresentationTypeId){r.config.parameter.alternateRepresentationType=n.getConfigurationById(r.config.parameter.alternateRepresentationTypeId)}r.config.parameter.requiredFilters=t.requiredFilters;r.config.parameter.requiredFilterOptions=t.requiredFilterOptions;a=i.convertSortToOrderBy(r.config.parameter);s[r.index]=e.instances.coreApi.createRepresentation(r.constructor,a);return s[r.index]}return s[r.index]}};this.serialize=function(){return{selectedRepresentation:i.getSelectedRepresentation().serialize(),selectedRepresentationId:i.getSelectedRepresentationInfo().representationId}};this.deserialize=function(e){i.setSelectedRepresentation(e.selectedRepresentationId);i.getSelectedRepresentation().deserialize(e.selectedRepresentation);return i};this.convertSortToOrderBy=function(e){var t;if(e.sort&&!e.orderby){t=jQuery.extend(true,{},e);if(e.alternateRepresentationType){t.alternateRepresentationType=e.alternateRepresentationType}t.orderby=[{property:e.sort.sortField,ascending:!e.sort.descending}];delete t.sort;return t}t=e;return t};s[0]=undefined;var f=false;t.representations.forEach(function(e,t){var i=e.representationTypeId;o[t]=jQuery.extend(true,{},n.getConfigurationById(i));o[t].representationId=e.id;if(r===o[t].representationId){f=true}o[t].representationLabel=e.label;o[t].thumbnail=e.thumbnail;o[t].parameter=jQuery.extend(true,{},e.parameter)});if(f){this.setSelectedRepresentation(r)}else if(o.length>0){this.setSelectedRepresentation(o[0].representationId)}if(!f&&r){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5037",aParameters:[r]}))}}r("sap.apf.core.Binding",i);return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/configurationFactory", ["sap/apf/core/step","sap/apf/core/hierarchicalStep","sap/apf/core/request","sap/apf/utils/hashtable","sap/apf/core/binding","sap/apf/core/representationTypes","sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,n,s,a,r,i,o,c,jQuery){"use strict";function f(e){var t=this;var n;var a=false;var r=jQuery.Deferred();var i=new s(e.instances.messageHandler);var o=function(t){e.instances.messageHandler.check(t!==undefined&&t.hasOwnProperty("id")!==false,"oItem is undefined or property 'id' is missing",sap.apf.core.constants.message.code.errorCheckConfiguration);if(!i){i=new s(e.instances.messageHandler)}var n=i.setItem(t.id,t);e.instances.messageHandler.check(n===undefined,"Configuration includes duplicated identifiers (IDs): "+t.id+"",sap.apf.core.constants.message.code.errorCheckConfigurationWarning)};var f=function(t){var n=[];if(!a&&r.state()==="pending"){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5020"}))}if(i.getNumberOfItems()!==0){i.each(function(e,s){if(s.type===t){n.push(s)}});return n}return n};function u(t){if(!sap.apf.core.constants.configurationObjectTypes.hasOwnProperty(t.type)){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5033",aParams:[t.type]}))}if(t.type===sap.apf.core.constants.configurationObjectTypes.facetFilter&&!t.property){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5034"}))}i.setItem(t.id,t)}function p(e){if(e.type===undefined){e.type="step"}o(e)}function d(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"aSteps is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){p(e)})}function g(e){if(e.type===undefined){e.type="request"}if(e.entitySet){e.entityType=e.entitySet;delete e.entitySet}o(e)}function l(e){if(e.type===undefined){e.type="navigationTarget"}o(e)}function h(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"aRequests is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){g(e)})}function y(t){function n(){var n=new s(e.instances.messageHandler);t.representations.forEach(function(s){if(!(s.id&&typeof s.id==="string")){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5028",aParameters:[t.id]}))}if(n.setItem(s.id,s.id)){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5029",aParameters:[t.id]}))}})}if(t.type===undefined){t.type="binding"}e.instances.messageHandler.check(t.id!==undefined,"binding has no id");e.instances.messageHandler.check(t.representations!==undefined&&t.representations instanceof Array!==false,"representations for binding "+t.id+" not defined",sap.apf.core.constants.message.code.errorCheckConfiguration);n();o(t)}function m(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"aBindings is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){y(e)})}function v(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"navigationTarget is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){l(e)})}function H(e){i.setItem("configHeader",e)}function C(e){if(e.type===undefined){e.type="category"}o(e)}function b(n){e.instances.messageHandler.check(n!==undefined&&n instanceof Array!==false,"aCategories is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);n.forEach(function(n){var s=n.steps;e.instances.messageHandler.check(s!==undefined&&s instanceof Array!==false,"steps for category "+n.id+" are missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);s.forEach(function(s){e.instances.messageHandler.check(s.type&&(s.type==="step"||s.type==="hierarchicalStep")&&s.id,"step with wrong format assigned to category '"+n.id+"'");e.instances.messageHandler.check(t.existsConfiguration(s.id),"step with id '"+s.id+"' which is assigned to category '"+n.id+"' does not exist")});C(n)})}function k(e){var t=false;var n=sap.apf.core.representationTypes();n.forEach(function(n){if(e===n.id){t=true}});return t}function T(t){var n;if(t.type===undefined){t.type="representationType"}if(!k(t.id)){n=c.extractFunctionFromModulePathString(t.constructor);if(!jQuery.isFunction(n)){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5030",parameters:[t.id]}))}}o(t)}function F(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"aRepresentationInfo is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);t.forEach(function(e){T(e)})}function I(e){if(e.type===undefined){e.type="smartFilterBar"}u(e)}function S(e){if(e.type===undefined){e.type="facetFilter"}u(e)}function A(t){e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"Facet filter configuration is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);if(t.length===0){i.setItem(sap.apf.core.constants.existsEmptyFacetFilterArray,true);return}t.forEach(S)}function w(t,s,r,o){var f,u,p;function d(e){return e.alias||e.property}function g(e){var t=e.preselectionDefaults&&e.preselectionDefaults.length>0;var n=e.valueList&&e.valueList.length>0;return t||n}function l(e,t,n,s,a){e.metadataProperty=t;S(e);w(n,s,r,a)}function h(e,t){if(c.isPropertyTypeWithDateSemantics(t)){e.preselectionDefaults=c.convertDateListToInternalFormat(e.preselectionDefaults,t);e.valueList=c.convertDateListToInternalFormat(e.valueList,t)}}if(s===t.length){r.resolve();a=false;return}u=t[s];s++;p=d(u);n=n||e.instances.coreApi.getMetadataFacade();var y=o&&Array.prototype.indexOf.call(o,p)>-1;if(y&&g(u)){if(u.valueHelpRequest||u.filterResolutionRequest){if(u.valueHelpRequest){f=i.getItem(u.valueHelpRequest)}else if(u.filterResolutionRequest){f=i.getItem(u.filterResolutionRequest)}n.getPropertyMetadataByEntitySet(f.service,f.entityType,p).done(function(e){h(u,e);l(u,e,t,s,o)})}else{n.getProperty(p).done(function(e){h(u,e);l(u,e,t,s,o)})}}else if(y){if(u.valueHelpRequest||u.filterResolutionRequest){if(u.valueHelpRequest){f=i.getItem(u.valueHelpRequest)}else if(u.filterResolutionRequest){f=i.getItem(u.filterResolutionRequest)}n.getPropertyMetadataByEntitySet(f.service,f.entityType,p).done(function(e){l(u,e,t,s,o)})}else{n.getProperty(p).done(function(e){l(u,e,t,s,o)})}}else{l(u,{},t,s,o)}}function R(t){var s=jQuery.Deferred();n=n||e.instances.coreApi.getMetadataFacade();e.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"Facet filter configuration is missing or not an Array",sap.apf.core.constants.message.code.errorCheckConfiguration);if(t.length===0){i.setItem(sap.apf.core.constants.existsEmptyFacetFilterArray,true);s.resolve();return s.promise()}a=true;n.getAllProperties(function(e){w(t,0,s,e)});return s.promise()}function q(e){F(e)}function M(t,n){function s(t,n){var s=n.getConfigurationById(t.binding).representations;if(s){return s}e.instances.messageHandler.check(false,'Binding of step with ID "'+t.id+'" does not contain any representations.',sap.apf.core.constants.message.code.errorCheckConfigurationWarning)}function a(t,n){var a;var r=[];if(t.binding){a=s(t,n);a.forEach(function(e){var t=jQuery.extend(true,{},n.getConfigurationById(e.representationTypeId));t.representationId=e.id;t.representationLabel=e.label;t.parameter=jQuery.extend(true,{},e.parameter);r.push(t)});return r}e.instances.messageHandler.check(false,'Step with ID "'+t.id+'" does not contain any binding references.',sap.apf.core.constants.message.code.errorCheckConfigurationWarning)}var r=jQuery.extend(true,{},t);var i=a(t,n);delete r.request;delete r.binding;delete r.thumbnail;delete r.longTitle;r.type="stepTemplate";r.getRepresentationInfo=function(){var e=jQuery.extend(true,[],i);e.forEach(function(e){delete e.id;delete e.type;delete e.constructor});return e};return r}var E=function(e,t){var n=this;this.type=e.type;this.id=e.id;this.label=e.label;this.stepTemplates=[];e.steps.forEach(function(e){var s=t.getConfigurationById(e.id);n.stepTemplates.push(new M(s,t))});return this};var P=function(e,t){this.type="thumbnail";if(e===undefined){return this}this.leftUpper=t.createLabel(e.leftUpper);this.rightUpper=t.createLabel(e.rightUpper);this.leftLower=t.createLabel(e.leftLower);this.rightLower=t.createLabel(e.rightLower);this.altTitle=t.createLabel(e.altTitle);return this};this.createThumbnail=function(e){return new P(e,this)};function B(e){this.type="label";this.kind=e.kind;if(this.kind==="text"){this.file=e.file;this.key=e.key}else if(this.kind==="property"){this.property=e.property}else if(this.kind==="sapLabel"){this.labelOf=e.labelOf}}this.createLabel=function(e){return new B(e,this)};this.loadConfig=function(t,n){i=new s(e.instances.messageHandler);if(t.applicationTitle){i.setItem("applicationTitle",t.applicationTitle)}var a={constructors:{Hashtable:s},instances:{messageHandler:e.instances.messageHandler}};c.migrateConfigToCategoryStepAssignment(t,a);var o=sap.apf.core.representationTypes();q(o);d(t.steps);b(t.categories);h(t.requests);m(t.bindings);if(t.representationTypes){F(t.representationTypes)}if(t.smartFilterBar){I(t.smartFilterBar)}if(t.facetFilters){if(n){A(t.facetFilters);r.resolve()}else{R(t.facetFilters).done(function(){r.resolve()})}}else{r.resolve()}if(t.navigationTargets){v(t.navigationTargets)}if(t.configHeader){H(t.configHeader)}return r};this.getConfigurationById=function(e){return i.getItem(e)};this.existsConfiguration=function(e){return i.hasItem(e)};this.getServiceDocuments=function(){var t=f("request");var n=[];t.forEach(function(e){n.push(e.service)});return c.eliminateDuplicatesInArray(e.instances.messageHandler,n)};this.getNavigationTargets=function(){var e=f("navigationTarget");return jQuery.extend(true,[],e)};this.getStepTemplates=function(){var e=[];var n=f("step");n=jQuery.merge(n,f("hierarchicalStep"));n.forEach(function(n,s){e[s]=new M(n,t)});return e};this.getSmartFilterBarConfiguration=function(){var e=jQuery.Deferred();var t;r.done(function(){t=f("smartFilterBar")[0];if(typeof t==="object"&&t.service&&(t.entityType||t.entitySet)){e.resolve(jQuery.extend(true,{},t))}else{e.resolve()}});return e.promise()};this.getFacetFilterConfigurations=function(){var t=f("facetFilter");var n,s,a;var r=jQuery.extend(true,[],t);for(a=0;a<r.length;a++){s=r[a];if(t[a].metadataProperty&&t[a].metadataProperty.clone){s.metadataProperty=t[a].metadataProperty.clone()}if(s.preselectionFunction){n=c.extractFunctionFromModulePathString(s.preselectionFunction);if(typeof n!=="function"){e.instances.messageHandler.putMessage(e.instances.messageHandler.createMessageObject({code:"5035",parameters:[s.id]}));s.preselectionFunction=undefined}else{s.preselectionFunction=n}}}return r};this.getCategories=function(){var e=f("category");var n=[];e.forEach(function(e,s){n[s]=new E(e,t)});return n};this.getConfigHeader=function(){return i.getItem("configHeader")};this.createStep=function(t,n){var s=this.getConfigurationById(t);e.instances.messageHandler.check(s!==undefined&&(s.type==="step"||s.type==="hierarchicalStep"),"Error - referenced object is undefined or has not type step",sap.apf.core.constants.message.code.errorCheckConfiguration);e.instances.messageHandler.check(sap.apf.core.Step!==undefined,"Step must be defined ",sap.apf.core.constants.message.code.errorCheckConfiguration);e.instances.messageHandler.check(typeof sap.apf.core.Step==="function","Step must be constructor function");if(s.type==="hierarchicalStep"){e.instances.messageHandler.check(typeof sap.apf.core.HierarchicalStep==="function","HierarchicalStep must be constructor function");return new sap.apf.core.HierarchicalStep(e.instances.messageHandler,s,this,n,e.instances.coreApi)}return new sap.apf.core.Step(e.instances.messageHandler,s,this,n,e.instances.coreApi)};this.createBinding=function(t,n,s,a){var r=this.getConfigurationById(t);e.instances.messageHandler.check(r!==undefined&&r.type==="binding","Error - oBindingConfig is undefined or has not type binding",sap.apf.core.constants.message.code.errorCheckConfiguration);r.oTitle=n;r.oLongTitle=s;return new sap.apf.core.Binding(e,r,this,a)};this.createRequest=function(n){if(n.entitySet){n.entityType=n.entitySet;delete n.entitySet}var s;var a;if(typeof n==="string"){a=t.getConfigurationById(n);if(!(a!==undefined&&a.type==="request")){s=e.instances.messageHandler.createMessageObject({code:"5004",aParameters:[n]});e.instances.messageHandler.putMessage(s);return undefined}}else{a=n;e.instances.messageHandler.check(a.type&&a.type==="request"&&a.service&&a.entityType,"Wrong request configuration when creating a new request");if(!a.id){s=e.instances.messageHandler.createMessageObject({code:"5004",aParameters:[n]});e.instances.messageHandler.putMessage(s);return undefined}}return new(e&&e.constructors&&e.constructors.Request||sap.apf.core.Request)(e,a)};if(e.constructors&&e.constructors.RegistryProbe){this.getRegistry=function(){return new e.constructors.RegistryProbe(i)}}}o("sap.apf.core.ConfigurationFactory",f);return f});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/constants", ["sap/ui/model/FilterOperator"],function(e){"use strict";var t={};t.filterMethodTypes={selectionAsArray:"saa",filter:"f"};t.FilterOperators=e;t.BooleFilterOperators={AND:"and",OR:"or",NOT:"not"};t.aSelectOpt=[t.FilterOperators.EQ,t.FilterOperators.NE,t.FilterOperators.GT,t.FilterOperators.LT,t.FilterOperators.GE,t.FilterOperators.LE,t.FilterOperators.BT,t.FilterOperators.StartsWith,t.FilterOperators.Contains,t.FilterOperators.EndsWith];t.resourceLocation={applicationMessageDefinitionLocation:"applicationMessageDefinitionLocation",applicationMessageTextBundle:"applicationMessageTextBundle",apfUiTextBundle:"apfUiTextBundle",applicationUiTextBundle:"applicationUiTextBundle",analyticalConfigurationLocation:"analyticalConfigurationLocation"};t.message={};t.message.severity={fatal:"fatal",warning:"warning",error:"error",technError:"technError",information:"information",success:"success"};t.message.code={suppressFurtherException:"APFapf1972",errorCheck:"5100",errorCheckWarning:"5101",errorCheckConfiguration:"5102",errorCheckConfigurationWarning:"5103",errorUnknown:"9000",errorExitTriggered:"9001",errorInMessageDefinition:"9003"};t.eventTypes={contextChanged:"contextChanged",printTriggered:"printTriggered",format:"format"};t.configurationObjectTypes={facetFilter:"facetFilter",smartFilterBar:"smartFilterBar"};t.existsEmptyFacetFilterArray="__existsEmptyFacetFilterArray__";t.entitySets={application:"ApplicationQueryResults",configuration:"AnalyticalConfigurationQueryResults",texts:"TextElementQueryResults",logicalSystem:"SAPClientQuery",analysisPath:"AnalysisPathQueryResults",smartBusiness:"EVALUATIONS"};t.modelerPersistenceServiceRoot="/sap/hba/r/apf/core/odata/modeler/AnalyticalConfiguration.xsodata";t.developmentLanguage="";t.textKeyForInitialText="00000000000000000000000000000000";t.representationMetadata={kind:{XAXIS:"xAxis",XAXIS2:"xAxis2",YAXIS:"yAxis",YAXIS2:"yAxis2",BUBBLEWIDTH:"bubbleWidth",SECTORSIZE:"sectorSize",LEGEND:"legend",SECTORCOLOR:"sectorColor",REGIONCOLOR:"regionColor",REGIONSHAPE:"regionShape",COLUMN:"column",HIERARCHIALCOLUMN:"hierarchicalColumn"},labelDisplayOptions:{KEY:"key",TEXT:"text",KEY_AND_TEXT:"keyAndText"},measureDisplayOptions:{BAR:"bar",LINE:"line"}};t.vizFrame={feedItemTypes:{CATEGORYAXIS:"categoryAxis",CATEGORYAXIS2:"categoryAxis2",COLOR:"color",VALUEAXIS:"valueAxis",VALUEAXIS2:"valueAxis2",BUBBLEWIDTH:"bubbleWidth",SIZE:"size",SHAPE:"shape",TIMEAXIS:"timeAxis"}};t.applicationConfiguration={applicationConfigPath:"config/applicationConfiguration.json"};return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/entityTypeMetadata", ["sap/apf/utils/exportToGlobal"],function(t){"use strict";function e(t,e,a){this.type="entityTypeMetadata";this.getPropertyMetadata=function(t){var n;n=a.getPropertyMetadata(e,t);if(!n){n={dataType:{}}}return n};this.getEntityTypeMetadata=function(){return a.getEntityTypeAnnotations(e)};function n(){t.check(e&&typeof e==="string","sap.apf.core.entityTypeMetadata: incorrect value for parameter sEntityType");t.check(a&&a.type&&a.type==="metadata","sap.apf.core.entityTypeMetadata: incorrect value for parameter oMetadata")}n()}t("sap.apf.core.EntityTypeMetadata",e);return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/hierarchicalStep", ["sap/apf/core/step","sap/apf/core/utils/uriGenerator","sap/apf/utils/exportToGlobal","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/OperationMode","sap/ui/model/odata/v2/ODataModel","sap/ui/model/Sorter","sap/ui/thirdparty/jquery"],function(e,t,r,a,i,o,n,jQuery){"use strict";function s(e,t,r,s,p){sap.apf.core.Step.call(this,e,t,r,s,p);var u;var c;var l;this.type="hierarchicalStep";var d=r.getConfigurationById(t.request).service;var g=r.getConfigurationById(t.request).entityType;var f=p.getAnnotationsForService(d);var h=t.hierarchyProperty;var v=jQuery.Deferred();var y=r.getConfigurationById(t.binding).requiredFilters;var m=p.getStartParameterFacade().getSapSystem();if(m){d=a.setOrigin(d,{force:true,alias:m})}jQuery.when(p.getMetadata(d),p.getEntityTypeMetadata(d,g)).then(function(t,a){var i=t.getHierarchyAnnotationsForProperty(g,h);if(i.type==="messageObject"){e.putMessage(i)}else{c=P(h,i)}u=r.createRequest({service:d,entityType:g,selectProperties:S(y[0],t,i),type:"request",id:"SelectionValidationRequest"});v.resolve(t,i,a)});var F=new o(d,{annotationURI:f});function S(e,t,r){var a=[e];var i=t.getPropertyMetadata(g,e)["sap:text"];if(i){a.push(i)}if(r.hierarchyNodeExternalKeyFor){a.push(r.hierarchyNodeExternalKeyFor)}return a}function P(e,a){var i=[e];for(var o in a){i.push(a[o])}i=i.concat(r.getConfigurationById(t.request).selectProperties);return sap.apf.core.utils.uriGenerator.getSelectString(i)}this.update=function(t,r){v.done(function(a,o,n){var s=t.restrictToProperties(a.getFilterablePropertiesAndParameters(g));var p=!s.isEqual(l);l=s.copy();var d="/"+sap.apf.core.utils.uriGenerator.generateOdataPath(e,a,g,t,a.getUriComponents(g).navigationProperty);var f={};f.path=d;var h=t.restrictToProperties(a.getFilterableProperties(g));if(!h.isEmpty()){f.filters=[h.mapToSapUI5FilterExpression()]}f.parameters={select:c,operationMode:i.Server,useServerSideApplicationFilters:true,treeAnnotationProperties:o};f.sorter=this.getSorter();this.getBinding().updateTreetable(f,F,n,p);if(!this.getFilter().isEmpty()&&p){var v=h.removeTermsByProperty(y[0]);u.sendGetInBatch(v.addAnd(this.getFilter()),function(e){var t=e.data;var a=this.getFilter().getFilterTerms();var i=[];a.forEach(function(e){t.forEach(function(t){if(t[y[0]]===e.getValue()){i.push(t)}})});this.getBinding().setFilterValues(i);r({},true)}.bind(this))}else{r({},p)}}.bind(this))};this.getSorter=function(){var e=[];var t=this.getBinding().getRequestOptions();if(t&&t.orderby&&t.orderby.length>0){t.orderby.forEach(function(t){e.push(new n(t.property,!t.ascending))})}if(e.length===0){return}return e};this.setData=function(){};this.adjustCumulativeFilter=function(e){if(y[0]&&!this.getFilter().isEmpty()){return e.removeTermsByProperty(y[0])}return e}}r("sap.apf.core.HierarchicalStep",s);return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/instance", ["sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/hashtable","sap/apf/core/utils/checkForTimeout","sap/apf/core/utils/uriGenerator","sap/apf/core/utils/fileExists","sap/apf/core/utils/annotationHandler","sap/apf/core/utils/filter","sap/apf/core/messageHandler","sap/apf/core/path","sap/apf/core/persistence","sap/apf/core/metadataFactory","sap/apf/core/textResourceHandler","sap/apf/core/configurationFactory","sap/apf/core/sessionHandler","sap/apf/core/resourcePathHandler","sap/apf/core/constants","sap/apf/cloudFoundry/analysisPathProxy","sap/apf/cloudFoundry/ajaxHandler","sap/ui/comp/smartfilterbar/ControlConfiguration","sap/apf/core/metadataProperty","sap/apf/core/metadataFacade","sap/apf/core/metadata","sap/apf/core/readRequestByRequiredFilter","sap/apf/core/ajax","sap/apf/core/odataRequest","sap/apf/core/entityTypeMetadata","sap/apf/core/readRequest","sap/ui/model/odata/v2/ODataModel","sap/ui/thirdparty/jquery"],function(t,e,a,n,r,s,i,o,c,u,f,p,l,g,d,h,m,y,v,F,P,S,x,C,A,H,T,M,R,jQuery){"use strict";p=p||sap.apf.core.MetadataFactory;l=l||sap.apf.core.TextResourceHandler;g=g||sap.apf.core.ConfigurationFactory;d=d||sap.apf.core.SessionHandler;h=h||sap.apf.core.ResourcePathHandler;function b(c){var p=this;var l;var g,d,h;var y=c.instances.messageHandler;var v=c.instances.startParameter;c.constructors=c.constructors||{};var F=c.functions&&c.functions.checkForTimeout||n;var A={instances:{messageHandler:y,coreApi:this},constructors:{Request:c.constructors.Request},exits:{binding:{afterGetFilter:c.exits&&c.exits.binding&&c.exits.binding.afterGetFilter},path:{beforeAddingToCumulatedFilter:c.exits&&c.exits.path&&c.exits.path.beforeAddingToCumulatedFilter}},functions:c.functions};var H;var T;var M;var b;var j;var E;var w;var B;var D;var k;var q=c&&c.instances&&c.instances.datajs||OData;this.destroy=function(){j.destroy()};this.ajax=function(t){var e=jQuery.extend(true,{},t);e.functions=e.functions||{};e.functions.getSapSystem=v.getSapSystem;if(c.functions&&c.functions.ajax){e.functions.ajax=c.functions.ajax}e.instances=e.instances||{};e.instances.messageHandler=y;return sap.apf.core.ajax(e)};this.odataRequest=function(t,e,a,n){var r={instances:{datajs:q},functions:{getSapSystem:v.getSapSystem}};var s=c&&c.functions&&c.functions.odataRequest||sap.apf.core.odataRequestWrapper;s(r,t,e,a,n)};this.getStartParameterFacade=function(){return v};this.getMessageHandler=function(){return y};this.putMessage=function(t){return y.putMessage(t)};this.check=function(t,e,a){return y.check(t,e,a)};this.createMessageObject=function(t){return y.createMessageObject(t)};this.activateOnErrorHandling=function(t){y.activateOnErrorHandling(t)};this.setCallbackForMessageHandling=function(t){y.setMessageCallback(t)};this.getLogMessages=function(){return y.getLogMessages()};this.checkForTimeout=function(t){var e=F(t);if(e){y.putMessage(e)}return e};this.getUriGenerator=function(){return r};this.getMetadata=function(t){return T.getMetadata(t)};this.getMetadataFacade=function(){return T.getMetadataFacade()};this.getEntityTypeMetadata=function(t,e){return T.getEntityTypeMetadata(t,e)};this.loadApplicationConfig=function(t){H.loadConfigFromFilePath(t)};this.loadTextElements=function(t){M.loadTextElements(t)};this.registerTextWithKey=function(t,e){M.registerTextWithKey(t,e)};this.getApplicationConfigProperties=function(){return H.getConfigurationProperties()};this.getResourceLocation=function(t){return H.getResourceLocation(t)};this.getPersistenceConfiguration=function(){return H.getPersistenceConfiguration()};this.getCategories=function(){return b.getCategories()};this.existsConfiguration=function(t){return b.existsConfiguration(t)};this.getStepTemplates=function(){return b.getStepTemplates()};this.getConfigurationObjectById=function(t){return b.getConfigurationById(t)};this.registerSmartFilterBarInstance=function(t){if(!k){k=jQuery.Deferred()}k.resolve(t)};this.getSmartFilterBarAsPromise=function(){if(!k){k=jQuery.Deferred()}this.getSmartFilterBarConfigurationAsPromise().done(function(t){if(!t){k.resolve(null)}});return k};this.getSmartFilterBarConfigurationAsPromise=function(){return b.getSmartFilterBarConfiguration()};this.getSmartFilterBarPersistenceKey=function(t){return"APF"+b.getConfigHeader().AnalyticalConfiguration+t};this.getSmartFilterbarDefaultFilterValues=function(){var t=jQuery.Deferred();var e=[];c.functions.getCombinedContext().done(function(n){n.getProperties().forEach(function(t){var r={key:t,visibleInAdvancedArea:true,defaultFilterValues:a(n,t)};e.push(new sap.ui.comp.smartfilterbar.ControlConfiguration(r))});t.resolve(e)});return t;function a(t,e){var a=t.getFilterTermsForProperty(e);var n=[];a.forEach(function(t){var e=new sap.ui.comp.smartfilterbar.SelectOption({low:t.getValue(),operator:t.getOp(),high:t.getHighValue(),sign:"I"});n.push(e)});return n}};this.getReducedCombinedContext=function(){var t=jQuery.Deferred();c.functions.getCombinedContext().done(function(e){var a=p.getSmartFilterBarAsPromise();a.done(function(a){if(!a){t.resolve(e);return}var n=new o(c.instances.messageHandler);var r=a.getFilters();r.forEach(function(t){n.addAnd(o.transformUI5FilterToInternal(c.instances.messageHandler,t))});t.resolve(e.removeTermsByProperty(n.getProperties()))})});return t};this.getFacetFilterConfigurations=function(){return b.getFacetFilterConfigurations()};this.getNavigationTargets=function(){return b.getNavigationTargets()};this.createStep=function(t,e,a){var n;y.check(t!==undefined&&typeof t==="string"&&t.length!==0,"sStepID is  unknown or undefined");n=b.createStep(t,a);j.addStep(n,e);return n};this.getSteps=function(){return j.getSteps()};this.moveStepToPosition=function(t,e,a){j.moveStepToPosition(t,e,a)};this.updatePath=function(t,e){j.update(t,e)};this.removeStep=function(t,e){j.removeStep(t,e)};this.resetPath=function(){if(j){j.destroy()}j=new u.constructor(A)};this.stepIsActive=function(t){return j.stepIsActive(t)};this.isApfStateAvailable=function(){return E.isApfStateAvailable()};this.storeApfState=function(){E.storeApfState()};this.restoreApfState=function(){return E.restoreApfState()};this.serialize=function(){var t=j.serialize();p.getSmartFilterBarAsPromise().done(function(e){if(e){t.smartFilterBar=e.fetchVariant()}});return t};this.deserialize=function(t){if(t.smartFilterBar){if(!k){k=jQuery.Deferred()}k.done(function(e){e._apfOpenPath=true;e.applyVariant(t.smartFilterBar);e.clearVariantSelection();e.fireFilterChange()})}j.deserialize(t)};this.getTextNotHtmlEncoded=function(t,e){return M.getTextNotHtmlEncoded(t,e)};this.getTextHtmlEncoded=function(t,e){return M.getTextHtmlEncoded(t,e)};this.isInitialTextKey=function(t){return t===m.textKeyForInitialText};this.getMessageText=function(t,e){return M.getMessageText(t,e)};this.getXsrfToken=function(t){return E.getXsrfToken(t)};this.setDirtyState=function(t){E.setDirtyState(t)};this.isDirty=function(){return E.isDirty()};this.setPathName=function(t){E.setPathName(t)};this.getPathName=function(){return E.getPathName()};this.getCumulativeFilter=function(){return c.functions.getCumulativeFilter()};this.createReadRequest=function(t){var e=b.createRequest(t);var a;if(typeof t==="string"){a=b.getConfigurationById(t)}else{a=t}return new sap.apf.core.ReadRequest(A,e,a.service,a.entityType)};this.createReadRequestByRequiredFilter=function(t){var e=b.createRequest(t);var a;if(typeof t==="string"){a=b.getConfigurationById(t)}else{a=t}return new C(A,e,a.service,a.entityType)};this.loadMessageConfiguration=function(t,e){y.loadConfig(t,e)};this.loadAnalyticalConfiguration=function(t){b.loadConfig(t)};this.savePath=function(t,e,a,n){var r;var s;var i;var o;if(typeof t==="string"&&typeof e==="string"&&typeof a==="function"){r=t;s=e;i=a;o=n;this.setPathName(s);w.modifyPath(r,s,i,o)}else if(typeof t==="string"&&typeof e==="function"){s=t;i=e;o=a;this.setPathName(s);w.createPath(s,i,o)}else{y.putMessage(y.createMessageObject({code:"5027",aParameters:[t,e,a]}))}};this.readPaths=function(t){w.readPaths(t)};this.openPath=function(t,e){function a(t,a,n){if(!n){p.setPathName(t.path.AnalysisPathName)}e(t,a,n)}return w.openPath(t,a)};this.deletePath=function(t,e){w.deletePath(t,e)};this.createFilter=function(t){return new e(y,t)};this.getActiveStep=function(){return j.getActiveSteps()[0]};this.getCumulativeFilterUpToActiveStep=function(){return j.getCumulativeFilterUpToActiveStep()};this.setActiveStep=function(t){j.makeStepActive(t);var e=j.getActiveSteps();var a;for(a=0;a<e.length;++a){j.makeStepInactive(e[a])}return j.makeStepActive(t)};this.createFirstStep=function(t,e,a){var n=false;var r;r=p.getStepTemplates();r.forEach(function(e){n=e.id===t?true:n});if(!n){y.putMessage(y.createMessageObject({code:"5036",aParameters:[t]}))}else{p.createStep(t,a,e)}};this.getFunctionCreateRequest=function(){return b.createRequest};this.getAnnotationsForService=function(t){return B.getAnnotationsForService(t)};this.checkAddStep=function(t){return j.checkAddStep(t)};this.getPathFilterInformation=function(){return j.getFilterInformation()};this.getGenericExit=function(t){if(c&&c.exits&&c.exits[t]&&typeof c.exits[t]==="function"){return c.exits[t]}return undefined};this.getComponent=function(){return c&&c.instances&&c.instances.component};M=new(c.constructors.TextResourceHandler||sap.apf.core.TextResourceHandler)(A);y.setTextResourceHandler(M);if(c.manifests){A.manifests=c.manifests}D=new(c.constructors.FileExists||s)({functions:{ajax:p.ajax,getSapSystem:v.getSapSystem}});var I={manifests:c.manifests,functions:{getSapSystem:v.getSapSystem,getComponentNameFromManifest:t.getComponentNameFromManifest,getODataPath:r.getODataPath,getBaseURLOfComponent:r.getBaseURLOfComponent,addRelativeToAbsoluteURL:r.addRelativeToAbsoluteURL},instances:{fileExists:D}};B=new(c.constructors.AnnotationHandler||i.constructor)(I);b=new(c.constructors.ConfigurationFactory||sap.apf.core.ConfigurationFactory)(A);var O={constructors:{EntityTypeMetadata:sap.apf.core.EntityTypeMetadata,Hashtable:c.constructors.Hashtable||a,Metadata:c.constructors.Metadata||x,MetadataFacade:c.constructors.MetadataFacade||S,MetadataProperty:c.constructors.MetadataProperty||P,ODataModel:c.constructors.ODataModel||R},instances:{messageHandler:A.instances.messageHandler,coreApi:p,annotationHandler:B},functions:{getServiceDocuments:b.getServiceDocuments,getSapSystem:v.getSapSystem}};T=new(c.constructors.MetadataFactory||sap.apf.core.MetadataFactory)(O);j=new(c.constructors.Path||u.constructor)(A);E=new(c.constructors.SessionHandler||sap.apf.core.SessionHandler)(A);if(c.functions&&c.functions.isUsingCloudFoundryProxy){l=c.functions.isUsingCloudFoundryProxy}else{l=function(){return false}}if(l()){g={instances:{messageHandler:y},functions:{coreAjax:this.ajax}};d=c.constructors.AjaxHandler||sap.apf.cloudFoundry.AjaxHandler;h=new d(g)}var N={instances:{messageHandler:y,coreApi:this},functions:{getComponentName:c.functions&&c.functions.getComponentName},manifests:c.manifests};if(c.constructors.Persistence){N.instances.ajaxHandler=h;w=new c.constructors.Persistence(N)}else if(l()){N.instances.ajaxHandler=h;w=new sap.apf.cloudFoundry.AnalysisPathProxy(N)}else{w=new f.constructor(N)}var U={instances:{coreApi:p,messageHandler:A.instances.messageHandler,fileExists:D},functions:{checkForTimeout:F,initTextResourceHandlerAsPromise:M.loadResourceModelAsPromise,isUsingCloudFoundryProxy:l},corePromise:c.corePromise,manifests:c.manifests};if(c.constructors&&c.constructors.ProxyForAnalyticalConfiguration){U.constructors={ProxyForAnalyticalConfiguration:c.constructors.ProxyForAnalyticalConfiguration}}H=new(c.constructors.ResourcePathHandler||sap.apf.core.ResourcePathHandler)(U);if(c&&c.coreProbe){c.coreProbe({coreApi:this,startParameter:v,resourcePathHandler:H,textResourceHandler:M,configurationFactory:b,path:j,sessionHandler:E,persistence:w,fileExists:D,corePromise:c.corePromise})}}sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.Instance=b;return{constructor:b}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/layeredRepositoryProxy", ["sap/apf/utils/utils","sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/apf/abap/LrepConnector","sap/apf/utils/parseTextPropertyFile","sap/ui/thirdparty/jquery"],function(e,n,a,t,i,r,jQuery){"use strict";function o(n,a){var i=a.instances.coreApi;var o;var s=a.instances.messageHandler;var c="sap/apf/dt";var f="text.properties";var u=new t(a.instances.messageHandler);var l=new t(a.instances.messageHandler);var p;var d=false;this.getConnector=function(){return o};this.readEntity=function(e,n,a,t,i,r,c){var f=a[0].value;var u=O(i);var l=[];var p=false;var d=1;var m=0;var v;var g;var h;var E;var P;var b;var x;var N;var j=T(r);var I;s.check(e==="configuration","layered repository proxy - only read entity of configuration supported");if(c&&c.noMetadata){o.getStaticResource(u,f,"apfconfiguration").then(function(e){h={Application:i};N=e.response;if(typeof N==="string"){h.SerializedAnalyticalConfiguration=N}else{h.SerializedAnalyticalConfiguration=JSON.stringify(N)}h.AnalyticalConfiguration=f;n(h,S())},function(e){n(undefined,S(),A({code:"5221",aParameters:[i,f]},e&&e.messages))});return}if(t===undefined||t.indexOf("SerializedAnalyticalConfiguration")>=0){p=true;if(j==="VENDOR"){var U={contentType:"application/json"};var D=[];D.push({name:"layer",value:j});D.push({name:"dt",value:"true"});var M="/sap/bc/lrep/content/"+u+"/"+f+".apfconfiguration";M+=o._buildParams(D);I=o.send(M,"GET",undefined,U)}else{I=o.getStaticResource(u,f,"apfconfiguration")}l.push(I)}else{d=0}v=y(i,f);if(v===undefined){var R=o.getFileAttributes(u,f,"apfconfiguration",j);l.push(R)}g=Promise.all(l);g.then(function(e){v=y(i,f);if(v===undefined){v=e[d].response}C(i,f,v);h=L(i,v);if(p){N=e[m].response;if(typeof N==="string"){h.SerializedAnalyticalConfiguration=N}else{h.SerializedAnalyticalConfiguration=JSON.stringify(N)}}h.AnalyticalConfiguration=f;if(t&&t.length!==0){P=t.length;b={};for(E=0;E<P;E++){x=t[E];b[x]=h[x]}h=b}n(h,S())},function(e){n(undefined,S(),A({code:"5221",aParameters:[i,f]},e&&e.messages))})};this.doChangeOperationsInBatch=function(n,a,t){function i(e,n){a(n)}var r,o;function s(){}b(t).then(function(){for(r=0;r<n.length;r++){o=n[r];o.application=t;if(o.method==="DELETE"&&o.entitySetName==="texts"){E(o,s)}else if(o.method==="POST"&&e.isValidPseudoGuid(o.data.TextElement)){x(o.data,s)}else{x(o.data,s)}}N(t,i,true)}).fail(function(e){a(e)})};this.readCollectionsInBatch=function(e,n){var a=e.length;var t=[];var i=0;function r(e){function r(r,o,s){if(s){n(undefined,s)}else{i++;t[e]=r;if(i===a){n(t)}}}return r}for(var o=0;o<a;o++){var s=e[o];this.readCollection(s.entitySetName,r(o),s.inputParameters,s.selectList,s.filter)}};this.readCollection=function(e,n,a,i,o,c){var f,l;var p;var d;if(c&&c.layer){d=c.layer}else{d="CUSTOMER"}var m=function(e,a){if(a&&(a==="error"||a==="timeout"||a==="abort"||a==="parsererror")){n(undefined,S(),A({code:"5222",aParameters:[l]},[a]));return}var i=new t(s);var o=[];var c=e&&e.response||e&&e.responseText||"";var f=r(c,{instances:{messageHandler:s}});var p,d;if(f.Messages.length>0){p=s.createMessageObject({code:"5416"});d=p;f.Messages.forEach(function(e){d.setPrevious(e);d=e})}i=new t(s);f.TextElements.forEach(function(e){if(e.TextElement){i.setItem(e.TextElement,e);o.push(e)}});u.setItem(l,i);n(o,S(),p)};if(e==="application"){s.check(!a&&!i&&!o,"unsupported parameters when calling readCollection for application");H(n,d)}else if(e==="texts"){f=o.getFilterTermsForProperty("Application");l=f[0].getValue();p=P(l,c);p.then(function(e){m(e)},function(e){n(undefined,S(),A({code:"5222",aParameters:[l]},e&&e.messages))})}else if(e==="configuration"){f=o.getFilterTermsForProperty("Application");l=f[0].getValue();j(l,n,i)}};this.remove=function(e,n,a,t,i,r){if(!r){r="CUSTOMER"}if(e==="application"){V(n,a,r)}else if(e==="configuration"){R(n,a,i,r)}else{s.check(false,"the remove operation on entity set "+e+" is currently not supported by the lrep proxy")}};this.create=function(e,n,a,t){if(e==="application"){F(n,a,t)}else if(e==="configuration"){M(n,a,t)}else if(e==="texts"){x(n,a)}else{s.check(false,"the create operation on entity set "+e+" is currently not supported by the lrep proxy")}};this.update=function(e,n,a){if(e==="configuration"){D(n,a)}else if(e==="application"){G(n,a)}else{s.check(false,"the update operation on entity set "+e+" is currently not supported by the lrep proxy")}};function m(e,n){var a={async:true,contentType:"application/json"};var t=[];t.push({name:"layer",value:e});t.push({name:"deep-read",value:true});t.push({name:"metadata",value:true});t.push({name:"type",value:n});var i="/sap/bc/lrep/content/"+c+"/";i+=o._buildParams(t);return o.send(i,"GET",undefined,a)}function v(e){var n=e.ns.split("/");return n[n.length-2]}function g(e,n){var a=undefined;e.metadata.forEach(function(e){if(e.name===n){a=e.value}});return a}this.readAllConfigurationsFromVendorLayer=function(){var n=jQuery.Deferred();var a=[];m("VENDOR","apf*").then(function(t){var i={};t.response.forEach(function(e){if(e.fileType&&e.fileType==="apfapplication"){i[v(e)]=g(e,"apfdt-applname")}});t.response.forEach(function(n){var t;var r;var o;if(n.fileType&&n.fileType==="apfconfiguration"){t=v(n);r=n.name;if(!(e.isValidPseudoGuid(t)&&e.isValidPseudoGuid(r))){return}o=g(n,"apfdt-configname");a.push({configurationText:o,applicationText:i[t],value:t+"."+r})}});n.resolve(a)},function(e){n.reject(A({code:"5231"},e&&e.messages))});return n.promise()};h();function h(){if(a.constructors&&a.constructors.LrepConnector){o=a.constructors.LrepConnector.createConnector()}else{o=sap.apf.abap.LrepConnector.createConnector()}if(!o._sClient){o._sClient=i.getStartParameterFacade().getSapClient()}}function y(e,n){var a=l.getItem(e);if(a===undefined){return undefined}n=a.getItem(n);return n}function C(e,n,a){var i=l.getItem(e);if(i===undefined){i=new t(s)}i.setItem(n,a);l.setItem(e,i)}function T(e){var n=e&&e.layer||"CUSTOMER";if(n==="ALL"){return undefined}return n}function A(e,n){var a=s.createMessageObject(e);var t="";if(n){n.forEach(function(e){t=t+e+" "});a.setPrevious(s.createMessageObject({code:5220,aParameters:[t]}))}return a}function S(){return{}}function O(e){return c+"/"+e}function E(e,n){var a=e.application;var t=e.inputParameters[0].value;var i;b(a).done(function(){i=u.getItem(a);i.removeItem(t);n(e,S())}).fail(function(e){n(undefined,S(),e)})}function P(e,n){var a;var t=[];var i="/sap/bc/lrep/content/";var r=T(n);i+=c+"/"+e+"/"+f;if(r){t.push({name:"layer",value:r})}a={contentType:"text/plain"};i+=o._buildParams(t);return o.send(i,"GET",undefined,a)}function b(e){var n=jQuery.Deferred();var a;var i=u.getItem(e);var o=function(a){var o=a&&a.response||a&&a.responseText||"";var c=r(o,{instances:{messageHandler:s}});i=new t(s);c.TextElements.forEach(function(e){if(e.TextElement){i.setItem(e.TextElement,e)}});u.setItem(e,i);n.resolve({})};if(i===undefined){a=P(e);a.then(function(e){o(e)},function(a){n.reject(A({code:"5222",aParameters:[e]},a&&a.messages))})}else{n.resolve({})}return n.promise()}function x(n,a){var t=n.Application;if(n.TextElement===undefined||!e.isValidGuid(n.TextElement)){n.TextElement=e.createPseudoGuid()}b(t).done(function(){var e=u.getItem(t);e.setItem(n.TextElement,n);a(n,S())}).fail(function(e){a(undefined,S(),e)})}function N(n,a,t){var i=O(n);var c;function f(){var t=e.renderHeaderOfTextPropertyFile(n,s);t=t+e.renderTextEntries(c,s);var r=o.upsert(i,"text","properties","CUSTOMER",t,"text/plain");r.then(function(){a(S())},function(e){a(S(),A({code:"5230",aParameters:[n]},e&&e.messages))})}c=u.getItem(n);if(!c){a(S());return}if(t){f()}else{var l=P(n);l.then(function(e){var n=e&&e.response||"";var a=r(n,{instances:{messageHandler:s}});a.TextElements.forEach(function(e){if(e.TextElement){c.setItem(e.TextElement,e)}});f()},function(e){a(S(),A({code:"5222",aParameters:[n]},e&&e.messages))})}}function j(e,n,a){var t=[];var i=O(e);var r=o._buildParams([{name:"layer",value:"CUSTOMER"},{name:"metadata",value:"true"},{name:"type",value:"apfconfiguration"}]);var s=o.send("/sap/bc/lrep/content/"+i+r);s.then(function(r){var s=r.response;s.forEach(function(n){if(n.fileType==="apfconfiguration"){n.metadata.forEach(function(a){if(a.name==="apfdt-configname"){t.push({AnalyticalConfiguration:n.name,Application:e,AnalyticalConfigurationName:a.value})}})}});if(a&&a.indexOf("SerializedAnalyticalConfiguration")>=0){var c=[];t.forEach(function(e){var n=jQuery.Deferred();c.push(n);o.getStaticResource(i,e.AnalyticalConfiguration,"apfconfiguration").then(function(a){if(a.response){e.SerializedAnalyticalConfiguration=JSON.stringify(a.response);n.resolve()}else{n.reject()}},function(e){n.reject(e)})});jQuery.when.apply(jQuery,c).then(function(){n(t,S())},function(a){n([],S(),A({code:"5223",aParameters:[e]},a&&a.messages))})}else{n(t,S())}},function(a){n([],S(),A({code:"5223",aParameters:[e]},a&&a.messages))})}function I(){var e=jQuery.Deferred();var n=[];if(d){e.resolve(p)}else{n.push({name:"dt",value:false});var a="/sap/bc/lrep/content/sap/ui/fl/settings/main.flsettings";a+=o._buildParams(n);var t=o.send(a,"GET",undefined);t.then(function(n){var a=n&&n.response||{};d=true;if(a.isAtoEnabled===true){p="ATO_NOTIFICATION"}e.resolve(p)},function(n){e.reject(n)})}return e.promise()}function U(e,n,a,t){var i=t||"CUSTOMER";var r=O(e);var s=o.getFileAttributes(r,n,"apfconfiguration",i);s.then(function(t){var r=t.response;if(i==="CUSTOMER"){C(e,n,r);N(e,a)}else{a(S())}},function(t){a(S(),A({code:"5232",aParameters:[e,n]},t&&t.messages))})}function D(e,n,a){if(!a){a="CUSTOMER"}var t=e.Application;var i=e.AnalyticalConfiguration;var r=JSON.parse(e.SerializedAnalyticalConfiguration);var s=O(t);var c=I();c.then(function(c){var f=o.getStaticResource(s,"metadata","apfapplication");f.then(function(n){var f={Application:t,ApplicationName:n.response.ApplicationName,SemanticObject:n.response.SemanticObject,AnalyticalConfiguration:i,AnalyticalConfigurationName:e.AnalyticalConfigurationName,CreationUTCDateTime:e.CreationUTCDateTime,LastChangeUTCDateTime:e.LastChangeUTCDateTime};r=jQuery.extend(true,r,{configHeader:f});r=JSON.stringify(r);var u=o.upsert(s,i,"apfconfiguration",a,r,"application/json",c);return u},function(e){n(S(),A({code:"5233",aParameters:[t,i]},e&&e.messages))}).then(function(){U(t,i,n,a)},function(e){n(S(),A({code:"5233",aParameters:[t,i]},e&&e.messages))})},function(e){n(S(),A({code:"5224"},e&&e.messages))})}function M(n,a,t){var i=T(t);var r=n.Application;var s=n.AnalyticalConfiguration;if(s===undefined||!e.isValidGuid(s)){s=e.createPseudoGuid(32)}var c=JSON.parse(n.SerializedAnalyticalConfiguration);var f=O(r);var u=o.getStaticResource(f,"metadata","apfapplication");u.then(function(e){var t={Application:r,ApplicationName:e.response.ApplicationName,SemanticObject:e.response.SemanticObject,AnalyticalConfiguration:s,AnalyticalConfigurationName:c.analyticalConfigurationName,CreationUTCDateTime:n.CreationUTCDateTime,LastChangeUTCDateTime:n.LastChangeUTCDateTime};c=jQuery.extend(true,c,{configHeader:t});c=JSON.stringify(c);l(r,s,n.AnalyticalConfigurationName,c,a)},function(e){a(undefined,S(),A({code:"5223",aParameters:[r]},e&&e.messages))});function l(e,a,t,r,s){var c=O(e);var f=I();f.then(function(t){var f=o.upsert(c,a,"apfconfiguration",i,r,"application/json",t);f.then(function(){U(e,a,function(e,t){if(!t){s({AnalyticalConfiguration:a,AnalyticalConfigurationName:n.AnalyticalConfigurationName},S())}else{s(undefined,S(),t)}},i)},function(n){s(undefined,S(),A({code:"5226",aParameters:[e,a]},n&&n.messages))})},function(e){s(undefined,S(),A({code:"5224"},e&&e.messages))})}}function R(e,n,a,t){var i=e[0].value;s.check(i!==undefined,"configuration may not be undefined");s.check(a!==undefined,"application of configuration not found");var r=O(a);I().then(function(e){var s=o.deleteFile(r,i,"apfconfiguration",t,e);s.then(function(){n(S())},function(e){n(S(),A({code:"5225",aParameters:[a,i]},e&&e.messages))})},function(e){n(S(),A({code:"5224"},e&&e.messages))})}function L(e,n){var a;var t={Application:e};var i,r;for(a=0;a<n.length;a++){i=n[a].name;r=n[a].value;if(i==="apfdt-applname"){i="ApplicationName"}else if(i==="createdAt"){i="CreationUTCDateTime"}else if(i==="createdBy"){i="CreatedByUser"}else if(i==="lastChangedAt"){i="LastChangeUTCDateTime"}else if(i==="lastChangedBy"){i="LastChangedByUser"}else if(i==="apfdt-configname"){i="AnalyticalConfigurationName"}else if(i==="size"||i==="layer"){continue}t[i]=r}return t}function F(n,a,i){s.check(n.ApplicationName!==undefined&&n.ApplicationName!=="","Valid application name is required");var r=n.Application;if(r===undefined||!e.isValidGuid(r)){r=e.createPseudoGuid(32)}var c=JSON.stringify({ApplicationName:n.ApplicationName,SemanticObject:n.SemanticObject,Application:r});var f=e.renderHeaderOfTextPropertyFile(r,s);var l=T(i);function p(e){a(undefined,S(),A({code:"5227"},e&&e.messages))}var d=O(r);var m=o.upsert(d,"metadata","apfapplication",l,c,"application/json");m.then(function(){var e=o.upsert(d,"text","properties",l,f,"text/plain");e.then(function(){u.setItem(r,new t(s));a({Application:r,ApplicationName:n.ApplicationName,SemanticObject:n.SemanticObject},S())},p)},p)}function G(e,n){s.check(e.ApplicationName!==undefined&&e.ApplicationName!=="","Valid application name is required");var a=e.Application;var t=JSON.stringify({ApplicationName:e.ApplicationName,SemanticObject:e.SemanticObject,Application:a});function i(e){n(undefined,A({code:"5228",aParameters:[a]},e&&e.messages))}var r=O(a);var c=o.upsert(r,"metadata","apfapplication","CUSTOMER",t,"application/json");c.then(function(){n({Application:a,ApplicationName:e.ApplicationName,SemanticObject:e.SemanticObject})},i)}function V(e,n,a){var t=e[0].value;function i(e){var a=z(e);n(S(),a)}var r=O(t);var s=o.listContent(r,a);s.then(function(e){var a=e.response;var t=[];a.forEach(function(e){if(e.fileType==="apfconfiguration"){I().then(function(n){t.push(o.deleteFile(r,e.name,e.fileType,e.layer,n))},function(e){n(S(),A({code:"5224"},e&&e.messages))})}else{t.push(o.deleteFile(r,e.name,e.fileType,e.layer))}});var i=Promise.all(t);return i},i).then(function(){n(S())},i)}function z(e){var n;if(e&&e.messageObject&&e.messageObject.getCode){n=e.messageObject}else if(e&&e.response&&e.response.statusCode&&e.response.statusCode>=400){n=s.createMessageObject({code:"11005",aParameters:[e.response.statusCode.toString(),e.response.statusText]})}else{n=s.createMessageObject({code:"5201",aParameters:e&&e.messages||[]})}return n}function H(n,a){var t=[];m(a,"apfapplication").then(function(a){var i=a.response;i.forEach(function(n){var a;var i;if(n.fileType&&n.fileType==="apfapplication"){a=v(n);if(!e.isValidPseudoGuid(a)){return}var r="";i=g(n,"apfdt-applname");t.push({Application:a,ApplicationName:i,SemanticObject:r})}});n(t,S())},i);function i(e){n(undefined,S(),A({code:"5229"},e&&e.messages))}}}a("sap.apf.core.LayeredRepositoryProxy",o);return o});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageDefinition", function(){var e=[{code:"3001",severity:"technError",text:"Text is not available for the following key: {0}"},{code:"5001",severity:"fatal",text:"Request {3} to server failed with http status code {0}, http error message {1}, and server response {2}.",key:"5001"},{code:"5002",severity:"error",description:"Error in OData request; update of analysis step {0} failed.",key:"5002"},{code:"5004",severity:"fatal",description:"Request with ID {0} does not exist in the analytical content configuration.",key:"5004"},{code:"5005",severity:"technError",text:"Required property {1} is missing in the filter of the OData request for entity type {0}."},{code:"5006",severity:"technError",text:"Inconsistency in data model; non-filterable property {1} is set as required filter for entity type {0}."},{code:"5015",severity:"fatal",description:"Service for request {0} is not defined in the analytical content configuration.",key:"5015"},{code:"5016",severity:"technError",text:"Mandatory parameter key property {0} is missing in filter."},{code:"5018",severity:"fatal",description:"Metadata request {0} failed.",key:"5018"},{code:"5019",severity:"technError",text:"System query option $orderby for property {1} removed from OData request for entity type {0}."},{code:"5020",severity:"fatal",description:"Analytical content configuration is not available.",key:"5020"},{code:"5021",severity:"error",description:"Error during server request; session timeout occurred.",key:"5021"},{code:"5022",severity:"fatal",description:"Analytical configuration with ID {0} is not available.",key:"5022"},{code:"5023",severity:"fatal",description:"Texts could not be loaded for Analytical configuration with ID {0}.",key:"5023"},{code:"5024",severity:"fatal",description:"URL Parameter for Analytical Configuration ID must contain the ID of the application and the ID of the Analytical configuration seperated by a dot.",key:"5024"},{code:"5025",severity:"fatal",description:"Value for SAP client has not been provided at startup of the application.",key:"5025"},{code:"5026",severity:"fatal",description:"Logical system cannot be determined for SAP client {0}. ",key:"5026"},{code:"5027",severity:"technError",text:"Inconsistent parameters; analysis path cannot be saved. Path ID: {0}, path name: {1}, callback function {2}"},{code:"5028",severity:"technError",text:"Binding with ID {0} contains a representation without ID."},{code:"5029",severity:"technError",text:"Binding with ID {0} contains a duplicated representation ID."},{code:"5030",severity:"technError",text:"Constructor property of representation type ID {0} does not contain a module path to a valid function."},{code:"5031",severity:"technError",text:"Argument for method 'setApplicationMessageCallback' is not a function."},{code:"5032",severity:"technError",text:"System query option {1} unknown in request for entity type {0}."},{code:"5033",severity:"technError",text:"Unsupported type {0} in configuration object provided."},{code:"5034",severity:"technError",text:"Facet filter configuration attribute 'property' missing."},{code:"5035",severity:"technError",text:"Function module path contained in property preselectionFuntion of facet filter ID {0} does not contain a valid function."},{code:"5036",severity:"technError",text:"Start parameter step id {0} is not existing."},{code:"5037",severity:"technError",text:"Start parameter representation id {0} is not existing."},{code:"5038",severity:"technError",text:"Environment for sap.ushell.Container is not existing."},{code:"5039",severity:"technError",text:"Error while pushing content to the ushell container"},{code:"5040",severity:"technError",text:"Error while fetching content from the ushell container"},{code:"5041",severity:"error",description:"Metadata document {0} is inconsistent. It contains no entity sets.",key:"5041"},{code:"5042",severity:"error",description:"Exception occurred: {0}",key:"5042"},{code:"5043",severity:"fatal",description:"Server error {1} occurred when trying to read the Smart Business Evaluation Id {0}.",key:"5043"},{code:"5044",severity:"fatal",description:"Smart Business Evaluation Id {0} could not be evaluated, because the entry for DataSource SmartBusiness is missing in the manifest of the component.",key:"5044"},{code:"5045",severity:"fatal",description:"There occurred an error when trying to resolve the X-AppState with ID {0}. See log in console.",key:"5045"},{code:"5046",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid parameter object. The parameter name is missing.",key:"5046"},{code:"5047",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid parameter object with name {1}. The parameter value is missing.",key:"5047"},{code:"5048",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid selection. The property name is missing.",key:"5048"},{code:"5049",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid selection. The range definition is invalid.",key:"5049"},{code:"5050",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid range. The sign must be I.",key:"5050"},{code:"5051",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid range. The option BT requires a high value.",key:"5051"},{code:"5052",severity:"fatal",description:"Service {0} for SmartFilterBar not available.",key:"5052"},{code:"5053",severity:"fatal",description:"Initialization of SmartFilterBar failed, for example, because the entity type {0} doesn't exist in service {1} .",key:"5053"},{code:"5054",severity:"fatal",description:"Server problem occurred when loading application configuration file from {0}."},{code:"5055",severity:"fatal",description:"The application configuration from url path {0} has no valid format."},{code:"5056",severity:"fatal",description:"The text resource locations are missing in the application configuration from {0}."},{code:"5057",severity:"fatal",description:"Error when loading the analytical configuration from {0}."},{code:"5058",severity:"fatal",description:"Server error {0} when loading the application message configuration from url path {2}: {1}."},{code:"5059",severity:"fatal",description:"The url path {0} for the resource location {1} is not valid."},{code:"5060",severity:"fatal",description:"No analytical configuration defined either in the application configuration or the data source AnalyticalConfigurationLocation is missing in the manifest."},{code:"5061",severity:"fatal",description:"EntityType of the smart business service definition is missing in the application configuration file."},{code:"5062",severity:"fatal",description:"The type in Smart Business configuration is either missing or not smartBusinessRequest."},{code:"5063",severity:"fatal",description:"The service in the Smart Business service configuration is missing."},{code:"5064",severity:"fatal",description:"The data source definition for path persistence, that has to be declared  with name PathPersistenceServiceRoot, is missing in the manifest."},{code:"5065",severity:"fatal",description:"The data source definition for analytical configuration, that has to be declared  with name PathPersistenceServiceRoot, is either missing in the manifest or incomplete."},{code:"5066",severity:"fatal",description:"The persistence path configuration is missing in the application configuration."},{code:"5067",severity:"fatal",description:"The service of the persistence path configuration is missing in the application configuration."},{code:"5068",severity:"fatal",description:"Server problem {1} occurred when loading application configuration file from {0}: {2}"},{code:"5069",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid option. The option CP may not contain more than two wildcards.",key:"5069"},{code:"5070",severity:"error",description:"Javascript exception was caught: {0}",key:"5070"},{code:"5071",severity:"error",description:"Exception happened during processing of error by message callback function: {0}",key:"5071"},{code:"5072",severity:"fatal",description:"Entity set {0} for hierarchical service {1} not available",key:"5072"},{code:"5073",severity:"fatal",description:"Hierarchical property {2} in entity set {0} for hierarchical service {1} has no hierarchical annotations",key:"5073"},{code:"5074",severity:"technError",text:"UShell service for navigation targets does not exist in the current runtime, so no navigation to other applications is possible"},{code:"5075",severity:"error",description:"URL Parameter for Analytical Configuration ID must be supplied when reading, loading or storing analysis paths.",key:"5075"},{code:"5100",severity:"fatal",description:"Unexpected internal error: {0}. Contact SAP.",key:"5100"},{code:"5101",severity:"technError",text:"Unexpected internal error: {0}. Contact SAP."},{code:"5102",severity:"fatal",description:"Wrong definition in analytical content configuration: {0}",key:"5102"},{code:"5103",severity:"technError",text:"Wrong definition in analytical content configuration: {0}"},{code:"5104",severity:"technError",text:"Wrong filter mapping definition in analytical content configuration"},{code:"5105",severity:"technError",text:"XSRF Token could not be fetched from the application router"},{code:"5200",severity:"technError",text:"Server error during processing of path: {0} {1}"},{code:"5201",severity:"error",description:"Unknown server error.",key:"5201"},{code:"5202",severity:"technError",text:"Persistence service call returned '405 - Method not allowed'."},{code:"5203",severity:"technError",text:"Bad request; data is structured incorrectly."},{code:"5204",severity:"error",description:"Error during server request; maximum number of analysis steps exceeded.",key:"5204"},{code:"5205",severity:"error",description:"Error during server request; maximum number of analysis paths exceeded.",key:"5205"},{code:"5206",severity:"error",description:"Access forbidden; insufficient privileges",key:"5206"},{code:"5207",severity:"error",description:"Inserted value too large; probably maximum length of analysis path name exceeded",key:"5207"},{code:"5208",severity:"error",description:"Error during path persistence; request to server can not be proceed due to invalid ID.",key:"5208"},{code:"5210",severity:"fatal",description:"Error during opening of analysis path; see log.",key:"5210"},{code:"5211",severity:"error",description:"Server response contains undefined path objects.",key:"5211"},{code:"5212",severity:"error",description:"Metadata file of application {0} could not be accessed.",key:"5212"},{code:"5213",severity:"error",description:"Text file of application {0} could not be accessed.",key:"5213"},{code:"5214",severity:"error",description:'Request to the server failed with http status code {0} and http error message "{1}".',key:"5214"},{code:"5220",severity:"error",description:"Error Message from Server: {0}",key:"5220"},{code:"5221",severity:"error",description:"Server Error - Analytical Configuration could not be read. Technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5221"},{code:"5222",severity:"error",description:"Server Error - Texts of Application could not be read. The technical key of the application is {0}.",key:"5222"},{code:"5223",severity:"error",description:"Server Error - Analytical Configurations could not be read. The technical key of the application is {0}.",key:"5223"},{code:"5224",severity:"error",description:"Server Error - Settings of the Layered Repository could not be read.",key:"5224"},{code:"5225",severity:"error",description:"Server Error - Analytical Configuration could not be deleted. Technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5225"},{code:"5226",severity:"error",description:"Server Error - Analytical Configuration could not be created. Technical key of application is {0}.",key:"5226"},{code:"5227",severity:"error",description:"Server Error - Application could not be created.",key:"5227"},{code:"5228",severity:"error",description:"Server Error - Application could not be updated. The technical key of the application is {0}.",key:"5228"},{code:"5229",severity:"error",description:"Server Error - Applications could not be read.",key:"5229"},{code:"5230",severity:"error",description:"Server Error - Text property file of Application could not be updated. The technical key of the application is {0}.",key:"5230"},{code:"5231",severity:"error",description:"Server Error - Analytical Configurations could not be read from the Vendor Layer during Import",key:"5231"},{code:"5232",severity:"error",description:"Server Error - Metadata of the Analytical Configurations could not be updated. The technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5232"},{code:"5233",severity:"error",description:"Server Error - Analytical configuration could not be updated. The technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5233"},{code:"5234",severity:"information",description:"In this hierarchical step you can make selections in the hierarchy {0}. You have already added analysis step {1}, in which you can also make selections in the hierarchy {0}. For technical reasons, you cannot add more than one hierarchical step with the same selection option.",key:"5234"},{code:"5235",severity:"technError",text:"The filter, that is provided to the called application during navigation could not be reduced properly. So the original filter is supplied."},{code:"5236",severity:"fatal",description:"Please configure the data source {0} in the manifest of the component.",key:"5236"},{code:"5237",severity:"error",text:"Server Error - The application could not be deleted. Technical key of the application is {0}.",key:"5237"},{code:"5238",severity:"error",text:"The analytical configuration with key {0} already exists under another application and cannot be created again",key:"5238"},{code:"5252",severity:"fatal",description:"Server Error - Analysis Path could not be opened.",key:"5252"},{code:"5301",severity:"warning",description:"Add or update path filter API method called with unsupported filter; See sap.apf.api documentation",key:"5301"},{code:"5408",severity:"error",description:"Format information is missing at least for text element {0} - please edit the exported text property file manually",key:"5408"},{code:"5409",severity:"error",description:"Application id {0} cannot be used as translation uuid in text property file - please edit the exported text property file manually",key:"5409"},{code:"5410",severity:"error",description:"Imported text property file does not contain the APF application id - expected an entry like #ApfApplicationId=543EC63F05550175E10000000A445B6D.",key:"5410"},{code:"5411",severity:"error",description:"Expected a valid text entry <key>=<value> in line {0}, but could not find - key must be in valid guid format.",key:"5411"},{code:"5412",severity:"error",description:"No valid text entry <key>=<value> in line {0}, key is not in valid guid format like 543EC63F05550175E10000000A445B6D.",key:"5412"},{code:"5415",severity:"error",description:"Date in line {0} has invalid format.",key:"5415"},{code:"6001",severity:"fatal",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"6000",severity:"error",description:"Data is not available for the {0} step.",key:"6000"},{code:"6002",severity:"error",description:"Missing {0} for {1} in the configuration; contact your administrator.",key:"6002"},{code:"6003",severity:"error",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"6004",severity:"technError",text:"Metadata not available for step {0}."},{code:"6005",severity:"error",description:"Server request failed. Unable to read paths.",key:"6005"},{code:"6006",severity:"error",description:"Server request failed. Unable to save path {0}.",key:"6006"},{code:"6007",severity:"error",description:"Server request failed. Unable to update path {0}.",key:"6007"},{code:"6008",severity:"error",description:"Server request failed. Unable to open path {0}.",key:"6008"},{code:"6009",severity:"error",description:"Server request failed. Unable to delete path {0}.",key:"6009"},{code:"6010",severity:"technError",description:"Data is not available for filter {0}",key:"6010"},{code:"6011",severity:"fatal",description:"Smart Business service failed.Please try later",key:"6011"},{code:"6012",severity:"information",description:"Add at least one step to the path before saving",key:"6012"},{code:"6013",severity:"information",description:"This table uses the top n function to limit the number of data records. Therefore, the table is already sorted to determine the top n records and you cannot sort it by any other sorting criteria.",key:"6013"},{code:"6014",severity:"information",description:"Maximum number of analysis paths exceeded",key:"6014"},{code:"6015",severity:"information",description:"Maximum number of analysis steps exceeded; delete a step",key:"6015"},{code:"6016",severity:"success",description:"Path {0} updated",key:"6016"},{code:"6017",severity:"success",description:"Path {0} updated",key:"6017"},{code:"7000",severity:"error",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"9001",severity:"fatal",description:"The app has stopped working due to a technical error.",key:"9001"}];return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageHandler", ["sap/apf/core/constants","sap/apf/utils/utils","sap/apf/core/messageObject","sap/apf/utils/hashtable","sap/base/Log","sap/ui/Device","sap/apf/core/messageDefinition"],function(e,r,s,t,i,n){"use strict";function a(a){var o={initial:0,startup:1,running:2,shutdown:3};var f=this;var g;var u=[];var d=0;var c;var v;var l;var p=false;var h=false;var m=false;var y=false;var w=false;var M="";var C={code:e.message.code.errorUnknown,severity:e.message.severity.error,rawText:"Unknown Error occurred"};var E=o.initial;var b=[];this.setLifeTimePhaseStartup=function(e){E=o.startup};this.setLifeTimePhaseRunning=function(){E=o.running};this.setLifeTimePhaseShutdown=function(){E=o.shutdown};this.fatalErrorOccurredAtStartup=function(){var r;if(E!==o.startup){return false}for(r=0;r<b.length;r++){if(b[r].getSeverity()===e.message.severity.fatal){return true}}return false};this.createMessageObject=function(r){var t=new s(r);if(a){if(t.getCode()===undefined){t.setCode(e.message.code.errorUnknown)}I.bind(this)(t);O(t,1)}else if(r.enrichInfoInMessageObject===true){I.bind(this)(t)}return t};this.activateOnErrorHandling=function(e){p=e;if(p===true){jQuery(window).on("error",F)}else{jQuery(window).off("error")}};this.setTextResourceHandler=function(e){g=e};this.loadConfig=function(e,r){if(c===undefined||r){c=new t(f)}for(var s=0;s<e.length;s++){D(e[s])}};this.setMessageCallback=function(e){if(e!==undefined&&typeof e==="function"){v=e}else{v=undefined}};this.setCallbackForTriggeringFatal=function(e){if(e!==undefined&&typeof e==="function"){l=e}else{l=undefined}};this.putMessage=function(r){var s;var t=0;var i;if(r.getCode()===undefined){r.setCode(e.message.code.errorUnknown)}I.bind(this)(r);if(r.getSeverity()===e.message.severity.fatal){i=f.createMessageObject({code:e.message.code.errorExitTriggered});I.bind(this)(i);i.setSeverity(e.message.severity.fatal);if(i.getMessage()===""){i.setMessage("The app has stopped working due to a technical error.")}}s=r.getPrevious();while(s!==undefined&&s.type&&s.type==="messageObject"&&t<10){if(s.getCode()===undefined){s.setCode(e.message.code.errorUnknown)}I.bind(this)(s);s=s.getPrevious();t++}if(i!==undefined){i.setPrevious(r);r=i}if(!a){O(r,10)}b.push(r);if(h){return}if(r.getSeverity()===e.message.severity.technError){return}if(v!==undefined){if(E===o.shutdown||E===o.startup&&r.getSeverity()!==e.message.severity.fatal){return}h=true;v(r);h=false}if(l!==undefined&&m===false){m=true;l(r);m=false}if(r.getSeverity()===e.message.severity.fatal&&E!==o.shutdown){if(n.browser.firefox){w=true}throw new Error(M)}};this.check=function(r,s,t){var i=t||e.message.code.errorCheck;if(!r){var n=this.createMessageObject({code:i,aParameters:[s]});f.putMessage(n)}};this.getConfigurationByCode=function(e){if(c===undefined){return undefined}return c.getItem(e)};this.getLogMessages=function(){return jQuery.extend(true,[],u)};this.reset=function(){c=undefined;v=undefined;u=[];b=[]};this.isOwnException=function(e){return e&&e.message&&e.message.search(M)>-1};function x(e){if(n.browser.firefox){return w}return e.originalEvent&&e.originalEvent.message&&e.originalEvent.message.search(M)>-1}function k(r){return r.originalEvent&&r.originalEvent.message&&r.originalEvent.message.search(M)===-1&&r.originalEvent.message.search(e.message.code.suppressFurtherException)>-1}function P(){var s=r.createPseudoGuid(32);return e.message.code.suppressFurtherException+s}function T(r){var s=parseInt(r,10);return s==e.message.code.errorExitTriggered||s==e.message.code.errorUnknown||s==e.message.code.errorInMessageDefinition}function S(r){var s=parseInt(r,10);return s==e.message.code.errorExitTriggered||s==e.message.code.errorInMessageDefinition}function I(r){function s(e,r){var s=0;while(e.indexOf("{"+s+"}")>-1){if(typeof r[s]==="string"){e=e.replace("{"+s+"}",r[s])}else{e=e.replace("{"+s+"}","undefined")}s++}return e}var t=r.getCode();var i=f.getConfigurationByCode(t);if(i===undefined){i=jQuery.extend(true,{},C);if(T(t)){if(r.hasRawText()){i.rawText=r.getRawText()}i.rawText+=" "+r.getParameters();if(S(t)){i.severity=e.message.severity.fatal}}else{i.rawText="Message "+t+"  "+r.getParameters()+" (Message Code has no Configuration)"}if(!T(t)){r.setCode(i.code)}}if(i.severity!==undefined){r.setSeverity(i.severity)}else{r.setSeverity(e.message.severity.technError)}if(i.rawText){r.setMessage(i.rawText)}else{var n=r.getParameters();if(r.getSeverity()===e.message.severity.technError){var a=f.getConfigurationByCode(i.code).text;if(!a){a=f.getConfigurationByCode(i.code).description}r.setMessage(s(a,n))}else{try{if(g&&i.key){r.setMessage(g.getMessageText(i.key,r.getParameters()))}else if(i.description){r.setMessage(s(i.description,n))}else{r.setMessage("Message Code: "+t+" "+n.toString())}}catch(e){if(i.description){r.setMessage(s(i.description,n))}else{r.setMessage("Message Code: "+t+" "+n.toString())}}}}}function O(r,s){var t="APF message ";var n="";var a=s-1;if(s===0){return}var o=r.getPrevious();if(o!==undefined){O(o,a);n=" - (see previous message for more information)"}d++;var f=t+"("+d+"): "+r.getCode()+" - "+r.getMessage()+n;if(y){alert("Fatal Error during Log Writing "+f);return}y=true;if(r.getSeverity()===e.message.severity.fatal){if(u.length<2){u.unshift(f)}}switch(r.getSeverity()){case e.message.severity.warning:i.warning(f);break;case e.message.severity.error:i.error(f);break;case e.message.severity.fatal:i.error(f);break;case e.message.severity.technError:i.error(f);break;default:i.info(f)}y=false}function j(r){f.check(r!==undefined&&r.hasOwnProperty("code")!==false,"MessageHandler setItem: oItem is undefined or property 'code' is missing",e.message.code.errorInMessageDefinition);var s=c.setItem(r.code,r);f.check(s===undefined,"MessageHandler setItem: Configuration includes duplicated codes",e.message.code.errorInMessageDefinition)}function D(e){if(e.type===undefined){e.type="message"}j(e)}function F(e){var r;var t="";var i="";var a="";var o="";var f=true;if(n.browser.firefox){f=false}if(f&&e&&e.originalEvent){t=e.originalEvent.message;a=e.originalEvent.filename;i=e.originalEvent.lineno}if(x(e)){e.stopImmediatePropagation();e.preventDefault()}else if(k(e)){return}else if(h){o="";if(f){o=t+" (source: "+a+":"+i+")"}r=new s({code:"5070",aParameters:[o]});I.bind(this)(r);O(r,1)}else{o="";if(f){o=t+" (source: "+a+":"+i+")"}r=new s({code:"5070",aParameters:[o]});I.bind(this)(r);O(r,1)}}function L(){M=P()}L()}sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.MessageHandler=a;return a});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageObject", [],function(){"use strict";function t(t){var e=t.code;var r=t.aParameters||[];var n=t.oCallingObject;var i="";var s="";var a;var u=new Date;var o=t.rawText;this.type="messageObject";this.getCode=function(){return e};this.setCode=function(t){e=t};this.hasRawText=function(){return o!==undefined};this.getRawText=function(){return o};this.getMessage=function(){return i};this.setMessage=function(t){i=t};this.setSeverity=function(t){s=t};this.getSeverity=function(){return s};this.setPrevious=function(t){a=t};this.getPrevious=function(){return a};this.getCallingObject=function(){return n};this.getParameters=function(){return r};this.getStack=function(){if(this.stack){return this.stack}return""};this.getTimestamp=function(){return u.getTime()};this.getTimestampAsdateObject=function(){return u};this.getJQueryVersion=function(){return jQuery().jquery};this.getSapUi5Version=function(){return sap.ui.version}}sap.apf=sap.apf||{};sap.apf.core=sap.apf.core||{};sap.apf.core.MessageObject=t;t.prototype=new Error;t.prototype.constructor=sap.apf.core.MessageObject;return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadata", ["sap/apf/utils/utils","sap/apf/utils/hashtable","sap/ui/model/odata/v2/ODataModel","sap/ui/model/odata/ODataUtils"],function(e,t,r,a){"use strict";var n=function(t,n){this.type="metadata";var i=this;var s=jQuery.Deferred();var o=[];var f=t&&t.constructors&&t.constructors.Hashtable||f;var c=new f(t.instances.messageHandler);var u=new f(t.instances.messageHandler);var y=new f(t.instances.messageHandler);var l=new f(t.instances.messageHandler);var h=new f(t.instances.messageHandler);var p=new f(t.instances.messageHandler);var d=new f(t.instances.messageHandler);var v=new f(t.instances.messageHandler);var g=new f(t.instances.messageHandler);var m=new f(t.instances.messageHandler);var E=new f(t.instances.messageHandler);var P=new f(t.instances.messageHandler);var I=t.constructors.ODataModel||r;var S=false;if(t.deactivateFatalError){S=true}var O;var H;var b;var M;var k=A(n);function A(e){var r=t.functions.getSapSystem();if(r){return a.setOrigin(e,{force:true,alias:r})}return e}function D(e){var t;function r(e){if(!t.dataType){t.dataType={}}t.dataType[e]=t[e]}function a(e,r){if(Array.isArray(t[r])===true){t[r].forEach(function(e){t[e.name]=e.value})}else if(r!=="dataType"&&typeof t[r]==="object"){if(Object.keys(t[r]).length===0){t[e]="true"}if(r!==e){jQuery.each(t[r],function(r,a){t[e]=a})}}else{t[e]=t[r]}}if(e===null){return{}}t=jQuery.extend(true,{},e);jQuery.each(t,function(e){switch(e){case"type":r(e);break;case"maxLength":r(e);break;case"precision":r(e);break;default:var t=e.split(".").pop();if(t.search("ISO")===0){a(t,e)}else{a(t.replace(/^./,t[0].toLowerCase()),e)}break}});return t}function w(e,t){if(l.hasItem(e)!==true){var r;var a={};var n={allParameters:[],keyParameters:[]};if(N(e)){r=L(e);if(r.key&&r.key.propertyRef){r.key.propertyRef.forEach(function(e){a[e.name]=null})}r.property.forEach(function(e){var t=D(e);t.isKey=a.hasOwnProperty(t.name);n.allParameters.push(t);if(t.isKey){n.keyParameters.push(t)}})}l.setItem(e,n)}if(!t){return l.getItem(e).allParameters}return l.getItem(e).keyParameters}function T(e){var t=[];var r;if(N(e)){e=K(e)}r=L(e);r.property.forEach(function(e){t.push(e.name)});return t}function j(e){var t;if(y.hasItem(e)===true){return y.getItem(e)}var r;var a=[];var n=[];var i=K(e);if(i&&q(i)){var s=L(i);s.property.forEach(function(e){a.push(e.name)})}var o=w(e,false);for(t=0;t<o.length;t++){n.push(o[t].name)}r=a.concat(n);y.setItem(e,r);return r}function F(e){return p.getItem(e)}function C(e){var t=F(e);t=t||F(e+"Results");if(!t&&L(e)){t=e}return t}function U(e){if(u.hasItem(e)===false){var t=[];var r=L(e);r.property.forEach(function(e){if(!(e["sap:filterable"]==="false"||e.filterable&&e.filterable==="true")){t.push(e.name)}});u.setItem(e,t)}return u.getItem(e)}function N(e){return x(e)==="parameters"}function q(e){return x(e)==="aggregate"}function x(e){if(!v.hasItem(e)){var t=L(e);var r=t&&t["sap:semantics"]||"undefined";v.setItem(e,r)}return v.getItem(e)}function R(e,t){if(c.hasItem(e+t)===false){var r=N(e);var a=L(e);var n=O.getODataProperty(a,t);if(!n&&r){var i=K(e);a=L(i);n=O.getODataProperty(a,t)}c.setItem(e+t,D(n))}return c.getItem(e+t)}function K(e){var t=m.getItem(e);if(t){return F(t.toAggregateEntitySet)}return e}function L(e){if(!e){return undefined}if(!P.hasItem(e)){var t=O.getODataEntityType(b+e);if(!t){return t}P.setItem(e,t)}return P.getItem(e)}function Q(){var e;H=u();H.attachMetadataLoaded(function(){O=H.getMetaModel();O.loaded().then(function(){if(!H.getServiceMetadata()){e="5018";if(S){e="11013"}t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:e,aParameters:[n],oCallingObject:i}));s.reject();return}r();a();f(H);c();s.resolve(this)}.bind(this))}.bind(this));H.attachMetadataFailed(function(){e="5018";if(S){e="11013"}t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:e,aParameters:[n],oCallingObject:i}));s.reject();return});function r(){var e={};var r=O.getODataEntityContainer()&&O.getODataEntityContainer().entitySet;if(!r){t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"5041",aParameters:[n],oCallingObject:i}));return}r.forEach(function(t){var r=t.entityType.split(/[. ]+/).pop();p.setItem(t.name,r);d.setItem(r,t.name);if(!e.hasOwnProperty(r)){e[r]=true;o.push(r)}})}function a(){var e=O.getODataEntityContainer()&&O.getODataEntityContainer().entitySet;if(!e){return}var t=e[0].entityType.split(".");t.pop();b=t.join(".")+"."}function f(e){var t=e&&e.getServiceAnnotations();if(t&&t.aliasDefinitions&&t.aliasDefinitions.Capabilities){M=t.aliasDefinitions.Capabilities+"."}}function c(){var e=O.getODataEntityContainer();if(!e||!e.associationSet){return}e.associationSet.forEach(function(e){var t=e.end[0].entitySet,r=e.end[1].entitySet,a,n;if(N(F(t))){a=t}else if(q(F(t))){n=t}if(N(F(r))){a=r}else if(q(F(r))){n=r}if(!a||!n){return}var i;var s=L(F(a));var o;s.navigationProperty.forEach(function(t){if(!o&&t.relationship===e.association){i=t.name;o=true}});if(!i){return}var f={navigationProperty:i,fromParameterEntitySet:a,toAggregateEntitySet:n,fromIsUnique:undefined,toIsUnique:undefined};if(g.hasItem(a)){f.fromIsUnique=false;g.getItem(a).fromIsUnique=false}else{f.fromIsUnique=true;g.setItem(a,f);m.setItem(F(a),f)}if(E.hasItem(n)){E.getItem(n).toIsUnique=false}else{f.toIsUnique=true;E.setItem(n,f)}})}function u(){var e=t.instances.annotationHandler.getAnnotationsForService(n);var r={annotationURI:e,json:true};return new I(k,r)}}this.getEntityTypes=function(){return o};this.getPropertyMetadata=function(e,r){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getPropertyMetadata incorrect EntityType name or type");t.instances.messageHandler.check(r!==undefined&&typeof r==="string","sap.apf.core.Metadata:getPropertyMetadata incorrect sPropertyName name or type");var a=C(e);if(!a){return{}}return R(a,r)};this.getUriComponents=function(e){if(!F(e)){if(F(e+"Results")){return{entitySet:e+"Results",navigationProperty:""}}return null}var r;switch(x(F(e))){case"undefined":return{entitySet:e,navigationProperty:""};case"parameters":r=g.getItem(e);if(!r||r.fromIsUnique===false){return{entitySet:e,navigationProperty:undefined}}return{entitySet:e,navigationProperty:r.navigationProperty};case"aggregate":r=E.getItem(e);if(!r){return{entitySet:e,navigationProperty:""}}if(r.toIsUnique===false){return{entitySet:undefined,navigationProperty:undefined}}return{entitySet:r.fromParameterEntitySet,navigationProperty:r.navigationProperty};default:t.instances.messageHandler.check(false,"metadata : getUriComponents - not handled return value for sap semantics")}};this.getFilterableProperties=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getFilterableProperties incorrect EntityType name or type");var r=C(e);if(!r){return[]}r=K(r);return U(r)};this.getAllPropertiesOfEntitySet=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getAllPropertiesOfEntitySet incorrect EntitySet name or type");var r=C(e);if(!r){return[]}return T(r)};this.getAllProperties=function(){var r=[];var a;this.getEntityTypes().forEach(function(e){a=j(e);if(a.length===0){a=T(e)}r=r.concat(a)});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getFilterablePropertiesAndParameters=function(){var r=[];var a;var n=this.getEntityTypes();n.forEach(function(e){var t=L(e);t.property.forEach(function(e){if(!(e["sap:filterable"]==="false")&&e["sap:aggregation-role"]==="dimension"){r.push(e.name)}});a=w(e,false);a.forEach(function(e){r.push(e.name)})});return e.eliminateDuplicatesInArray(t.instances.messageHandler,r)};this.getParameterEntitySetKeyPropertiesForService=function(){var r=[];this.getEntityTypes().forEach(function(e){w(e,true).forEach(function(e){r.push(e.name)})});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getAllKeys=function(){var r=[];var a=[];this.getEntityTypes().forEach(function(e){var t=L(e);a=[];if(t.key&&t.key.propertyRef){t.key.propertyRef.forEach(function(e){a.push(e.name)})}r=r.concat(a)});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getAttributes=function(e){var t=false;var r={};this.getEntityTypes().forEach(function(a){if(!t){r=R(a,e);if(r.name){t=true}}});return r};this.getParameterEntitySetKeyProperties=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getParameterEntitySetKeyProperties incorrect EntityType name or type");var r=C(e);if(!r){return[]}return w(r,true)};this.getEntityTypeAnnotations=function(e){var r=C(e);t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getEntityTypeAnnotations incorrect EntityType name or type");if(h.hasItem(r)===true){return h.getItem(r)}var a={};i(r,a);var n=K(r);if(n!==r){i(n,a)}h.setItem(r,a);return h.getItem(r);function i(e,t){var r;var a;var n;var i=L(e);for(r in i){if(i.hasOwnProperty(r)){if(r.indexOf(M)!==0){continue}a=r.split(".").pop();a=a.replace(/^./,a[0].toLowerCase());for(n in i[r]){if(i[r].hasOwnProperty(n)){t[a]=i[r][n]}}}}}};this.getEntitySets=function(){var e={};var t=[];var r=O.getODataEntityContainer();if(!r){return[]}if(r.associationSet){r.associationSet.forEach(function(t){var r,a,n;r=C(t.end[0].entitySet);if(!N(r)){return}n=t.end[1].entitySet;a=C(n);if(!N(a)){e[n]=true}})}if(r.entitySet){r.entitySet.forEach(function(r){if(!e[r.name]){t.push(r.name)}})}return t};this.getAllEntitySetsExceptParameterEntitySets=function(){var e=O.getODataEntityContainer();var t=[];if(!e){return[]}if(e.entitySet){e.entitySet.forEach(function(e){var r=F(e.name);if(!N(r)){t.push(e.name)}})}return t};this.getEntitySetByEntityType=function(e){return d.getItem(e)};this.getHierarchyAnnotationsForProperty=function(e,r){var a={};var i=this.getAllPropertiesOfEntitySet(e);if(i.length===0){return t.instances.messageHandler.createMessageObject({code:5072,aParameters:[e,n]})}var s=F(e);var o=K(s);i.forEach(function(e){var t=R(o,e);if(t["hierarchy-node-for"]===r){a.hierarchyNodeFor=e}});if(!a.hierarchyNodeFor){return t.instances.messageHandler.createMessageObject({code:5073,aParameters:[e,n,r]})}i.forEach(function(e){var t=R(o,e);if(t["hierarchy-level-for"]===a.hierarchyNodeFor){a.hierarchyLevelFor=e}else if(t["hierarchy-parent-node-for"]===a.hierarchyNodeFor){a.hierarchyParentNodeFor=e}else if(t["hierarchy-drill-state-for"]===a.hierarchyNodeFor){a.hierarchyDrillStateFor=e}else if(t["hierarchy-node-external-key-for"]===a.hierarchyNodeFor){a.hierarchyNodeExternalKeyFor=e}});return a};this.getHierarchicalEntitySets=function(){var e=[];var t=this.getEntitySets();t.forEach(function(t){var r=z.call(this,t);if(r.entitySet){e.push(r.entitySet)}}.bind(this));return e};this.getHierarchicalPropertiesOfEntitySet=function(e){return z.call(this,e).hierarchyProperties};function z(e){var t={};t.hierarchyProperties=[];var r=F(e);if(!r){return t}var a=K(r);var n=this.getAllPropertiesOfEntitySet(e);n.forEach(function(r){var i=R(a,r);var s=false;var o=false;var f=false;if(i["hierarchy-node-for"]!==undefined){var c=i["hierarchy-node-for"];var u=r;n.forEach(function(e){var t=R(a,e);if(t["hierarchy-level-for"]===u){s=true}else if(t["hierarchy-parent-node-for"]===u){o=true}else if(t["hierarchy-drill-state-for"]===u){f=true}});if(s&&o&&f){t.entitySet=e;t.hierarchyProperties.push(c)}}});return t}this.getNonHierarchicalPropertiesOfEntitySet=function(e){var t=[];var r=F(e);if(!r){return t}var a=K(r);var n=this.getAllPropertiesOfEntitySet(e);var i=z.call(this,e).hierarchyProperties;n.forEach(function(e){var r=R(a,e);if(r["hierarchy-node-for"]===undefined&&r["hierarchy-node-external-key-for"]===undefined&&r["hierarchy-parent-node-for"]===undefined&&r["hierarchy-level-for"]===undefined&&r["hierarchy-drill-state-for"]===undefined&&r["hierarchy-node-descendant-count-for"]===undefined&&i.indexOf(e)===-1){var n=r.name;t.push(n)}});return t};this.getODataModel=function(){return H};this.isInitialized=function(){return s.promise()};Q.call(this)};sap.apf.core.Metadata=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataFacade", ["sap/apf/utils/utils","sap/apf/core/metadataProperty"],function(e,t){"use strict";var r=function(r,a){this.type="metadataFacade";var i=r.instances.messageHandler;var n=r.instances.metadataFactory;var o;var s;var f={};this.getAllProperties=function(t){var r;var a;var s=0;var f;var u=[];if(o){t(o)}else{r=c();a=r.length;for(f=0;f<a;f++){n.getMetadata(r[f]).done(v)}}function v(r){s++;u=u.concat(r.getAllProperties());if(a==s){o=e.eliminateDuplicatesInArray(i,u);t(o)}}};this.getAllParameterEntitySetKeyProperties=function(t){var r;var a;var o=0;var f;var u=[];if(s){t(s)}else{r=c();a=r.length;for(f=0;f<a;f++){n.getMetadata(r[f]).done(v)}}function v(r){o++;u=u.concat(r.getParameterEntitySetKeyPropertiesForService());if(a==o){s=e.eliminateDuplicatesInArray(i,u);t(s)}}};this.getPropertyMetadataByEntitySet=function(e,r,a){var i=jQuery.Deferred();n.getMetadata(e).done(function(e){var n=e.getPropertyMetadata(r,a);i.resolve(new t.constructor(n))});return i.promise()};this.getProperty=function(e){var r;var a;var i;var o=jQuery.Deferred();if(f[e]){o.resolve(f[e])}else{r=c();i=r.length;for(var s=0;s<i;s++){n.getMetadata(r[s]).done(function(r){a=r.getAttributes(e);if(a.name){if(r.getParameterEntitySetKeyPropertiesForService().indexOf(e)>-1){a.isParameterEntitySetKeyProperty=true}if(r.getAllKeys().indexOf(e)>-1){a.isKey=true}for(var i in a){if(i==="dataType"){for(var n in a.dataType){a[n]=a.dataType[n]}}}f[e]=new t.constructor(a);o.resolve(f[e])}})}}return o.promise()};function c(){if(typeof a==="string"){return[a]}return n.getServiceDocuments()}};sap.apf.core.MetadataFacade=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataFactory", ["sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";function e(t){this.type="metadataFactory";var e=t.instances.messageHandler;var a=t.constructors.Hashtable;var n=t.constructors.Metadata;var r=t.constructors.EntityTypeMetadata;var s=t.constructors.MetadataFacade;delete t.constructors.Metadata;delete t.constructors.EntityTypeMetadata;delete t.constructors.MetadataFacade;delete t.instances.configurationFactory;var i=new a(e);this.getMetadata=function(e){if(i.hasItem(e)===false){i.setItem(e,{metadataPromise:new n(t,e).isInitialized()})}return i.getItem(e).metadataPromise};this.getEntityTypeMetadata=function(t,n){var s;var o;var c=this.getMetadata(t);s=i.getItem(t).entityTypes;if(!s){s=new a(e);i.getItem(t).entityTypes=s}if(!s.getItem(n)){o=jQuery.Deferred();s.setItem(n,o.promise());c.then(function(t){o.resolve(new r(e,n,t))},function(){o.resolve(undefined)})}return s.getItem(n)};this.getMetadataFacade=function(a){return new s({constructors:{MetadataProperty:t.constructors.MetadataProperty},instances:{messageHandler:e,metadataFactory:this}},a)};this.getServiceDocuments=function(){return t.functions.getServiceDocuments()};this.getEntitySets=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getEntitySets())}).fail(function(){e.resolve([])});return e.promise()};this.getAllEntitySetsExceptParameterEntitySets=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getAllEntitySetsExceptParameterEntitySets())}).fail(function(){e.resolve([])});return e.promise()};this.getEntityTypes=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getEntityTypes())}).fail(function(){e.resolve([])});return e.promise()}}t("sap.apf.core.MetadataFactory",e);return e});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataProperty", [],function(){"use strict";function t(e){var r=this;var i=false;var n=false;this.isKey=function(){return i};this.isParameterEntitySetKeyProperty=function(){return n};this.getAttribute=function(t){if(typeof this[t]!=="function"){return this[t]}};this.clone=function(){return new t(e)};function a(t,e){switch(t){case"isKey":if(e===true){i=true}break;case"isParameterEntitySetKeyProperty":if(e===true){n=true}break;default:if(typeof r[t]!=="function"){r[t]=e}}return r}function u(){for(var t in e){switch(t){case"dataType":for(var r in e.dataType){a(r,e.dataType[r])}break;default:a(t,e[t])}}}u()}sap.apf.core.MetadataProperty=t;return{constructor:t}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/odataProxy", ["sap/ui/thirdparty/datajs","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/core/constants","sap/ui/thirdparty/jquery"],function(e,t,a,s,jQuery){"use strict";function n(e,t){var s=t.instances.coreApi;var n=t.instances.messageHandler;var r=e.serviceRoot;function o(e,t){return s.getEntityTypeMetadata(e,t)}function i(e){var t,a,s;if(!e){return""}a=e.length;if(a===1){return"('"+e[0].value+"')"}s="(";for(t=0;t<a;t++){if(t>0){s=s+","}s=s+e[t].name+"='"+e[t].value+"'"}return s+")"}function c(e){var t;if(e.messageObject&&e.messageObject.getCode){t=e.messageObject}else if(e.response&&e.response.statusCode&&e.response.statusCode>=400){t=n.createMessageObject({code:"11005",aParameters:[e.response.statusCode.toString(),e.response.statusText]})}else{t=n.createMessageObject({code:"5201"})}n.putMessage(t);return t}function u(e,t){var a=c(e);t(undefined,undefined,a)}function f(e,t,a,s){var r;var i;if(e&&e.results){r=e.results}else if(e){r=e}else{i=n.createMessageObject({code:"5201"})}o(t,a).done(function(e){s(r,e,i)})}function d(e){var t=JSON.parse(e.SerializedAnalyticalConfiguration);delete e.SerializedAnalyticalConfiguration;t.configHeader=e;e.SerializedAnalyticalConfiguration=JSON.stringify(t);return e}this.readEntity=function(e,t,a,n,o){var c=sap.apf.core.constants.entitySets[e];s.getXsrfToken(r).done(function(e){var o=r+"/"+c;o=o+i(a);if(n&&n.length>0){o=o+"?$select="+n.join()}var d={requestUri:o,async:true,method:"GET",headers:{"x-csrf-token":e}};s.odataRequest(d,function(e){f(e,r,c,t)},function(e){u(e,t)})})};function p(e,t,s){var n="'";if(s&&s.dataType){return a.formatValue(t,s.dataType.type)}if(typeof t==="number"){return t}return n+a.escapeOdata(t)+n}function g(e){var t=jQuery.Deferred();s.getXsrfToken(r).done(function(a){var s=[];var n,c=e.length;var u;var f=0;for(n=0;n<c;n++){u=sap.apf.core.constants.entitySets[e[f].entitySetName];o(r,u).done(function(n){var r,o,u;var d=false;r=sap.apf.core.constants.entitySets[e[f].entitySetName];r=r+i(e[f].inputParameters);if(e[f].selectList&&e[f].selectList.length>0){r=r+"?$select="+e[f].selectList.join();d=true}if(e[f].filter){if(d){r=r+"&"}else{r=r+"?"}r=r+"$filter="+e[f].filter.toUrlParam({formatValue:function(e,t){return p(e,t,n)}})}o=e[f].method||"GET";u={requestUri:r,method:o,headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage(),"x-csrf-token":a}};if(o!=="GET"){u.data=e[f].data}s.push(u);f++;if(f===c){t.resolve(s)}})}});return t}function h(e,t,a,s){var n=jQuery.Deferred();var c="";var u=e+i(t);if(a&&a.length>0){c="$select="+a.join()}o(r,e).done(function(t){if(s){if(c){c=c+"&"}c=c+"$filter="+s.toUrlParam({formatValue:function(e,a){return p(e,a,t)}})}if(e===sap.apf.core.constants.entitySets.application){if(c){c=c+"&"}c=c+"$orderby=ApplicationName"}if(c){u=u+"?"+c}n.resolve(u)});return n}function l(e,t){var a="unknown error";var s="unknown error";var r="";if(e.message!==undefined){a=e.message}var o="unknown";if(e.response&&e.response.statusCode){o=e.response.statusCode;s=e.response.statusText||"";r=e.response.requestUri}if(e.messageObject&&e.messageObject.type==="messageObject"){t([],e.messageObject)}else{t([],n.createMessageObject({code:"5001",aParameters:[o,a,s,r]}))}}this.doChangeOperationsInBatch=function(e,t){s.getXsrfToken(r).done(function(a){g(e).done(function(e){var o={requestUri:r+"/"+"$batch",method:"POST",headers:{"x-csrf-token":a},data:{__batchRequests:[{__changeRequests:e}]}};var i=function(e,a){var s;var r;var o,i,c;var u="";var f,d;if(e&&e.__batchResponses){for(f=0;f<e.__batchResponses.length;f++){if(e.__batchResponses[f].message){o=e.__batchResponses[f].message;i="";u=a.requestUri;s=n.createMessageObject({code:"5001",aParameters:[i,o,"",u]});break}for(d=0;d<e.__batchResponses[f].__changeResponses.length;d++){r=e.__batchResponses[f].__changeResponses[d];if(r.message){o=r.message;c=r.data;i=r.statusCode;u=a.requestUri;s=n.createMessageObject({code:"5001",aParameters:[i,o,c,u]});break}}}t(s)}};var c=function(e){l(e,t)};s.odataRequest(o,i,c,OData.batchHandler)})})};this.readCollectionsInBatch=function(e,t){s.getXsrfToken(r).done(function(a){g(e).done(function(e){var o={requestUri:r+"/"+"$batch",async:true,method:"POST",headers:{"x-csrf-token":a},data:{__batchRequests:e}};var i=function(e){var a=[];var s,r,o,i,c;var u;if(e&&e.__batchResponses){for(u=0;u<e.__batchResponses.length;u++){if(e.__batchResponses[u].data&&e.__batchResponses[u].data.results){a.push(e.__batchResponses[u].data.results)}else if(e.__batchResponses[u].message){r=e.__batchResponses[u].message;o=e.__batchResponses[u].response.body;i=e.__batchResponses[u].response.statusCode;c=a.requestUri;s=n.createMessageObject({code:"5001",aParameters:[i,r,o,c]});break}else{c=a.requestUri;s=n.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",c]});break}}t(a,s)}};var c=function(e){l(e,t)};s.odataRequest(o,i,c,OData.batchHandler)})})};this.readCollection=function(e,t,a,s,n){v(e,t,a,s,n)};function v(e,t,a,i,c){var f=sap.apf.core.constants.entitySets[e];var d=function(e,a){var s;var i;var c="";if(e&&e.__batchResponses){if(e.__batchResponses[0].data&&e.__batchResponses[0].data.results){s=e.__batchResponses[0].data.results}else if(e.__batchResponses[0].message){var u=e.__batchResponses[0].message;var d=e.__batchResponses[0].response.body;var p=e.__batchResponses[0].response.statusCode;c=a.requestUri;i=n.createMessageObject({code:"5001",aParameters:[p,u,d,c]})}else{c=a.requestUri;i=n.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",c]})}o(r,f).done(function(e){t(s,e,i)})}};s.getXsrfToken(r).done(function(e){h(f,a,i,c).done(function(a){var n={requestUri:r+"/"+"$batch",async:true,method:"POST",headers:{"x-csrf-token":e},data:{__batchRequests:[{requestUri:a,method:"GET",headers:{"x-csrf-token":e,"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage()}}]}};s.odataRequest(n,d,function(e){u(e,t)},OData.batchHandler)})})}this.create=function(e,t,a){if(e==="configuration"){t=d(t)}var i=sap.apf.core.constants.entitySets[e];s.getXsrfToken(r).done(function(e){var u=r+"/"+i;var f={requestUri:u,async:true,method:"POST",headers:{"x-csrf-token":e},data:t};function d(e,t){var s;var c;if(e&&t.statusCode===201){s=e}else{c=n.createMessageObject({code:"5201"})}o(r,i).done(function(e){a(s,e,c)})}function p(e){var t=c(e);a(undefined,undefined,t)}s.odataRequest(f,d,p)})};this.update=function(e,t,a,u){if(e==="configuration"){t=d(t)}var f=sap.apf.core.constants.entitySets[e];s.getXsrfToken(r).done(function(e){var d=r+"/"+f+i(u);var p={requestUri:d,method:"PUT",headers:{"x-csrf-token":e},data:t};function g(e,t){var s;if(t.statusCode!==204){s=n.createMessageObject({code:"5201"})}o(r,f).done(function(e){a(e,s)})}function h(e){var t=c(e);a(undefined,t)}s.odataRequest(p,g,h)})};this.remove=function(e,t,a,u){var f=sap.apf.core.constants.entitySets[e];s.getXsrfToken(r).done(function(e){var d=r+"/"+f+i(t);o(r,f).done(function(t){if(u){d=d+"$filter="+u.toUrlParam({formatValue:function(e,a){return p(e,a,t)}})}var a={requestUri:d,method:"DELETE",headers:{"x-csrf-token":e}};s.odataRequest(a,g,h)});function g(e,t){if(t.statusCode===204){o(r,f).done(function(e){a(e,undefined)})}else{var s=n.createMessageObject({code:"5201"});a(undefined,s)}}function h(e){var t=c(e);a(undefined,t)}})}}t("sap.apf.core.OdataProxy",n);return n});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/odataRequest", ["sap/apf/core/utils/checkForTimeout","sap/apf/utils/exportToGlobal","sap/ui/model/odata/ODataUtils"],function(e,t,r){"use strict";function a(e,t,a,s,i){var u=e.instances.datajs;function c(e,t){var r=sap.apf.core.utils.checkForTimeout(t);var i={};if(r){i.messageObject=r;s(i)}else{a(e,t)}}function o(e){var t=sap.apf.core.utils.checkForTimeout(e);if(t){e.messageObject=t}s(e)}var n=t.serviceMetadata;var f=e.functions.getSapSystem();if(f&&!t.isSemanticObjectRequest){var p=/(\/[^\/]+)$/g;if(t.requestUri&&t.requestUri[t.requestUri.length-1]==="/"){t.requestUri=t.requestUri.substring(0,t.requestUri.length-1)}var l=t.requestUri.match(p)[0];var q=t.requestUri.split(l);var v=r.setOrigin(q[0],{force:true,alias:f});t.requestUri=v+l}u.request(t,c,o,i,undefined,n)}t("sap.apf.core.odataRequestWrapper",a);return a});
/*!
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/path", ["sap/apf/utils/trace"],function(e){"use strict";function t(t){this.type="path";var r=t.instances.messageHandler;var a=t.instances.coreApi;var i=[];var n=[];var s=0;this.destroy=function(){n=[];i.forEach(function(e){e.destroy()});i=[]};this.getFilterInformation=function(){var e=false;var t=[];var r=n[0];i.forEach(function(a,i){if(!e){if(this.stepIsActive(a)){e=true}else{t.push(a.getFilterInformation(r,i))}}}.bind(this));return Promise.all(t).then(function(e){return[].concat.apply([],e)})};this.getSteps=function(){return jQuery.extend(true,[],i)};this.addStep=function(t,r){e.logCall("Path.addStep");i.push(t);this.update(r);e.logReturn("addStep")};this.makeStepActive=function(t){var a=this.stepIsInPath(t);e.log("makeStepActive",", bStepIsInPath",a);r.check(a,"An unknown step can't be an active step.",sap.apf.core.constants.message.code.errorCheckWarning);if(a){if(this.stepIsActive(t)===false){n.push(t)}}};this.makeStepInactive=function(t){var a=this.stepIsActive(t);e.log("makeStepInactive",", bStepIsActive",a);r.check(a,"Only an active step can be removed from the active steps.",sap.apf.core.constants.message.code.errorCheckWarning);if(a){var i=jQuery.inArray(t,n);n.splice(i,1)}};this.stepIsActive=function(e){var t=jQuery.inArray(e,n);return t>=0};this.stepIsInPath=function(e){var t=jQuery.inArray(e,i);return t>=0};this.getActiveSteps=function(){return jQuery.extend(true,[],n)};this.getCumulativeFilterUpToActiveStep=function(){var e=jQuery.Deferred();var t=this;l().done(function(t){if(i.length===0){e.resolve(t)}else{r(0,t,function(t){e.resolve(t)})}});return e.promise();function r(e,a,n){i[e].determineFilter(a.copy(),function(s,o){if(o){a=o}a.addAnd(s);if(t.stepIsActive(i[e])||!i[e+1]){n(a);return}r(++e,a,n)})}};this.moveStepToPosition=function(e,t,a){var n=jQuery.inArray(e,i);var s=t;r.check(typeof t==="number"&&t>=0&&t<i.length,"Path: moveStepToPosition invalid argument for nPosition");r.check(n>=0&&n<i.length,"Path: moveStepToPosition invalid step");if(n===t){return}i.splice(n,1);i.splice(s,0,e);this.update(a)};this.removeStep=function(t,a){e.logCall("Path.removeStep");var n=this.stepIsInPath(t);var s=this.stepIsActive(t);var o=jQuery.inArray(t,i);r.check(n,"Path: remove step - invalid step");i.splice(o,1);if(s){this.makeStepInactive(t)}this.update(a);t.destroy();e.logReturn("removeStep")};this.update=function(t,n){e.logCall("Path.update");if(!i[0]){if(n){e.log("update - fnUpdatePathFinished <<< ");n()}e.logReturn("update");return}var o;var u=i[0];l().done(function(c){e.log("update - @ getContextFilter().done(oContextFilter)");s++;o=s;u.update(c,f);function f(a,n){var f=jQuery.inArray(u,i);e.logCall("Path.update.callbackAfterRequest"," nIndexOfCurrentStep=",f,", nCurrentUpdateCount="+o);var p;if(o===s){if(a instanceof Error){var d=f+1;p=r.createMessageObject({code:"5002",aParameters:[d],callingObject:u});p.setPrevious(a);r.putMessage(p);u.setData({data:[],metadata:undefined},c);t(u,true);f++;u=i[f];while(u){u.setData({data:[],metadata:undefined},c);t(u,true);f++;u=i[f]}e.logReturn("update-callbackAfterRequest");return}if(n){u.setData(a,c)}e.log("update - before fnStepProcessedCallback");t(u,n);if(o!==s){e.logReturn("update-callbackAfterRequest");return}u.determineFilter(c.copy(),l)}e.logReturn("update-callbackAfterRequest")}function l(e,t){if(t){c=t}c=p(c,e,u.getContextInfo());var r=jQuery.inArray(u,i);c.addAnd(e);u=i[r+1];if(u){u.update(c,f)}else{a.storeApfState();c=undefined;if(n){n()}}}});e.logReturn("update")};this.serialize=function(){return{path:{steps:u(),indicesOfActiveSteps:o()}}};this.deserialize=function(e){c(e.path.steps,this);f(e.path.indicesOfActiveSteps,this)};function o(){var e=[];for(var t=0;t<i.length;t++){for(var r=0;r<n.length;r++){if(i[t]===n[r]){e.push(t)}}}return e}function u(){var e=[];for(var t=0;t<i.length;t++){e.push(i[t].serialize())}return e}function c(e,t){var r=t.update;t.update=function(){};var n;for(n=0;n<e.length;n++){a.createStep(e[n].stepId)}for(n=0;n<i.length;n++){i[n].deserialize(e[n])}t.update=r}function f(e,t){for(var r=0;r<e.length;r++){var a=e[r];t.makeStepActive(i[a])}}this.checkAddStep=function(e){var t=jQuery.Deferred();var n=a.getConfigurationObjectById(e);var s=a.getConfigurationObjectById(n.binding).requiredFilters;if(n.type==="hierarchicalStep"&&s&&s.length===1){var o=a.getConfigurationObjectById(n.request);a.getMetadata(o.service).done(function(e){var u=e.getPropertyMetadata(o.entityType,s[0]);if(u["hierarchy-node-for"]===n.hierarchyProperty){i.forEach(function(e){if(e.type==="hierarchicalStep"){var i=e.getBinding().getRequiredFilters();if(i.length===1&&i[0]===s[0]){t.resolve(false,r.createMessageObject({code:5234,aParameters:[n.hierarchyProperty,a.getTextNotHtmlEncoded(e.getAdditionalConfigurationProperties().title.key)],enrichInfoInMessageObject:true}))}}})}if(t.state()==="pending"){t.resolve(true)}})}else{t.resolve(true)}return t.promise()};function l(){var e=jQuery.Deferred();jQuery.when(a.getCumulativeFilter(),a.getSmartFilterBarAsPromise()).done(function(t,a){var i,n,s;var o=t.copy();if(a){i=a.getFilters();i.forEach(function(e){o.addAnd(sap.apf.core.utils.Filter.transformUI5FilterToInternal(r,e))});s=a.getAnalyticalParameters();if(s&&s.length>0){for(n=0;n<s.length;n++){var u=s[n].fieldName;var c=s[n].fieldNameOData;var f=a.getFilters([u]);var l=undefined;if(f&&f.length){if(f[0].oValue1!==undefined){l=f[0].oValue1}else{l=f[0].aFilters[0].oValue1}o.addAnd(new sap.apf.core.utils.Filter(r,c,"EQ",l))}}}}e.resolve(o)});return e}function p(e,r,a){if(t.exits&&t.exits.path&&t.exits.path.beforeAddingToCumulatedFilter){return t.exits.path.beforeAddingToCumulatedFilter(e,r,a)}return e}}sap.apf.core.Path=t;return{constructor:t}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/persistence", ["sap/apf/core/constants"],function(e){"use strict";function t(t){var a;this.createPath=function(e,a,n){var i;var c=r(n);u().then(function(a){i={data:{AnalysisPath:"",AnalysisPathName:e,LogicalSystem:a,ApplicationConfigurationURL:t.functions.getComponentName(),SerializedAnalysisPath:JSON.stringify(n),StructuredAnalysisPath:JSON.stringify(c)},method:"POST"};if(t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){i.data.AnalyticalConfiguration=t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId}s(i,o)},function(e){a({oResponse:undefined,status:"failed"},{},e)});function o(e,s,n){if(n){a({oResponse:e,status:"failed"},s,n)}else{t.instances.messageHandler.check(e&&e.data&&e.statusCode===201,"Persistence create Path - proper response");a({AnalysisPath:e.data.AnalysisPath,status:"successful"},s,n)}}};this.readPaths=function(e){var a={method:"GET"};s(a,n.bind(this));function n(a,s,n){if(!n&&a&&a.data&&a.data.results){for(var i in a.data.results){a.data.results[i].StructuredAnalysisPath=JSON.parse(a.data.results[i].StructuredAnalysisPath)}}else if(!n||a.statusCode!==200){n=t.instances.messageHandler.createMessageObject({code:"5211"})}if(n){e({oResponse:a,status:"failed"},s,n)}else{e({paths:a.data.results,status:"successful"},s,n)}}};this.deletePath=function(e,a){var n={method:"DELETE"};s(n,i.bind(this),e);function i(e,s,n){if(e.statusCode!==204&&!n){n=t.instances.messageHandler.createMessageObject({code:5201});n.setPrevious(t.instances.messageHandler.createMessageObject({code:5200,aParameters:[e.statusCode,e.statusText]}))}if(n){a({oResponse:e,status:"failed"},s,n)}else{a({status:"successful"},s,n)}}};this.modifyPath=function(e,a,n,i){var c=r(i);u().then(function(n){var r={data:{AnalysisPath:e,AnalysisPathName:a,LogicalSystem:n,ApplicationConfigurationURL:t.functions.getComponentName(),SerializedAnalysisPath:JSON.stringify(i),StructuredAnalysisPath:JSON.stringify(c)},method:"PUT"};if(t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){r.data.AnalyticalConfiguration=t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId}s(r,o.bind(this),e)},function(e){n({oResponse:undefined,status:"failed"},{},e)});function o(a,s,i){if(a.statusCode!==204&&!i){i=t.instances.messageHandler.createMessageObject({code:5201});i.setPrevious(t.instances.messageHandler.createMessageObject({code:5200,aParameters:[a.statusCode,a.statusText]}))}if(i){n({oResponse:a,status:"failed"},s,i)}else{n({AnalysisPath:e,status:"successful"},s,i)}}};this.openPath=function(e,a){var n={method:"GET"};s(n,i,e);function i(e,s,n){var i;if(!n&&e&&e.statusCode===200&&e.data&&e.data.SerializedAnalysisPath){e.data.SerializedAnalysisPath=JSON.parse(e.data.SerializedAnalysisPath)}if(n){i=t.instances.messageHandler.createMessageObject({code:"5210"});i.setPrevious(n);t.instances.messageHandler.putMessage(i)}a({path:e.data,status:"successful"},s)}};function s(e,a,s){var r=function(e,t){c().done(function(e){a(t,e,undefined)})};var o=function(e){var s;if(e.messageObject&&e.messageObject.getCode&&e.messageObject.getCode()===5021){c().done(function(t){a(e,t,e.messageObject)});return}var n=i(e.response.body);if(n!==undefined){s=t.instances.messageHandler.createMessageObject({code:n})}if(e.response.body.match("274")){s=t.instances.messageHandler.createMessageObject({code:"5207"})}if(e.response.statusCode===400){s=t.instances.messageHandler.createMessageObject({code:"5203"})}if(e.response.statusCode===403){s=t.instances.messageHandler.createMessageObject({code:"5206"})}if(e.response.statusCode===405){s=t.instances.messageHandler.createMessageObject({code:"5202"})}if(e.response.statusCode===404){s=t.instances.messageHandler.createMessageObject({code:"5208"})}if(!s&&e.response.statusCode===500){s=t.instances.messageHandler.createMessageObject({code:"5200",aParameters:[e.response.statusCode,e.response.statusText]})}if(!s){s=t.instances.messageHandler.createMessageObject({code:"5201"})}t.instances.messageHandler.putMessage(s);c().done(function(t){a(e,t,s)})};t.instances.coreApi.getPersistenceConfiguration().done(function(i){var d=i.path.service+"/"+i.path.entitySet;t.instances.coreApi.getXsrfToken(i.path.service).done(function(i){e.headers={"x-csrf-token":i};switch(e.method){case"GET":if(!e.data&&s){e.requestUri=d+"('"+s+"')";t.instances.coreApi.odataRequest(e,r,o)}else if(!e.data&&!s){n().then(function(a){e.requestUri=d+a;t.instances.coreApi.odataRequest(e,r,o)},function(e){c().done(function(t){a({},t,e)})})}break;case"POST":if(e.data&&!s){e.requestUri=d}t.instances.coreApi.odataRequest(e,r,o);break;case"DELETE":if(!e.data&&s){e.requestUri=d+"('"+s+"')"}t.instances.coreApi.odataRequest(e,r,o);break;case"PUT":if(e.data&&s){e.requestUri=d+"('"+s+"')"}t.instances.coreApi.odataRequest(e,r,o);break;default:t.instances.coreApi.odataRequest(e,r,o);break}})})}function n(){var e=jQuery.Deferred();u().then(function(a){var s="";if(t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){s="AnalyticalConfiguration%20eq%20'"+t.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId+"'%20and%20"}var n="?$select=AnalysisPath,AnalysisPathName,StructuredAnalysisPath,CreationUTCDateTime,LastChangeUTCDateTime&$filter=("+s+"LogicalSystem%20eq%20'"+a+"'%20and%20"+"ApplicationConfigurationURL%20eq%20'"+t.functions.getComponentName()+"')"+"&$orderby=LastChangeUTCDateTime%20desc";e.resolve(n)},function(t){e.fail(t)});return e.promise()}function i(e){var t=e.match("52[0-9]{2}");if(t){return t[0]}return undefined}function r(e){var t=[];var a=e.path.steps;var s;for(var n in a){t.push({stepId:a[n].stepId,selectedRepresentationId:a[n].binding.selectedRepresentationId})}s={steps:t,indexOfActiveStep:e.path.indicesOfActiveSteps[0]};return s}function c(){var e=jQuery.Deferred();t.instances.coreApi.getPersistenceConfiguration().done(function(a){t.instances.coreApi.getEntityTypeMetadata(a.path.service,a.path.entitySet).done(function(t){e.resolve(t)})});return e}function o(e){var t=e&&e.getFilterTermsForProperty("SAPClient");if(t===undefined||t.length!==1){return undefined}return t[0].getValue()}function d(s,n){t.instances.coreApi.getPersistenceConfiguration().done(function(i){var r=t.instances.messageHandler;var c=i.logicalSystem;if(!c){a=n;s.resolve(n);return s.promise()}var o=c.service;var d=c.entitySet||c.entityType;if(o===null){a=n;s.resolve(n);return s.promise()}if(d===undefined){d=e.entitySets.logicalSystem}t.instances.coreApi.getMetadata(o).done(function(e){t.instances.coreApi.getXsrfToken(o).done(function(i){var c=new sap.apf.core.utils.Filter(r,"SAPClient","eq",n);var u=t.instances.coreApi.getUriGenerator().getAbsolutePath(o);u=u+t.instances.coreApi.getUriGenerator().buildUri(r,d,["LogicalSystem"],c,undefined,undefined,undefined,undefined,undefined,"Results",e);var f={requestUri:u,method:"GET",headers:{"x-csrf-token":i}};var l=function(e){var t;if(e&&e.results&&e.results instanceof Array&&e.results.length===1&&e.results[0].LogicalSystem){a=e.results[0].LogicalSystem;s.resolve(a)}else{t=r.createMessageObject({code:"5026",aParameters:[n]});s.fail(t)}};var g=function(e){var t=r.createMessageObject({code:"5026",aParameters:[n]});if(e.messageObject!==undefined&&e.messageObject.type==="messageObject"){t.setPrevious(e.messageObject)}s.fail(t)};t.instances.coreApi.odataRequest(f,l,g)})})})}function u(){var e=jQuery.Deferred();if(a){e.resolve(a);return e.promise()}var s=t.instances.coreApi.getStartParameterFacade().getSapClient();if(s){d(e,s);return e.promise()}t.instances.coreApi.getCumulativeFilter().done(function(t){s=o(t);if(!s){e.resolve("")}else{d(e,s)}});return e.promise()}}sap.apf.core.Persistence=t;return{constructor:t}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/readRequest", ["sap/apf/core/request","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";function a(e,t,a,s){var n=e.instances.coreApi;var r=e.instances.messageHandler;this.type="readRequest";this.send=function(e,a,s){var n;var i=function(e,t){var s;var n;var i=[];if(e&&e.type&&e.type==="messageObject"){r.putMessage(e);s=e}else{i=e.data;n=e.metadata}a(i,n,s)};if(e){n=e.getInternalFilter()}else{n=new sap.apf.core.utils.Filter(r)}t.sendGetInBatch(n,i,s)};this.getMetadata=function(){return n.getEntityTypeMetadata(a,s)};this.getMetadataFacade=function(){return n.getMetadataFacade(a)}}t("sap.apf.core.ReadRequest",a);return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/readRequestByRequiredFilter", ["sap/apf/core/request"],function(e){"use strict";var t=function(e,t,r,a){var i=e.instances.coreApi;var n=e.instances.messageHandler;this.type="readRequestByRequiredFilter";this.send=function(e,s,u){var d;var o;var c=function(e,t){var r;var a;var i=[];if(e&&e.type&&e.type==="messageObject"){n.putMessage(e);r=e}else{i=e.data;a=e.metadata}s(i,a,r)};i.getMetadata(r).done(function(r){var n=r.getParameterEntitySetKeyProperties(a);var s="";var f=r.getEntityTypeAnnotations(a);if(f.requiresFilter!==undefined&&f.requiresFilter==="true"){if(f.requiredProperties!==undefined){s=f.requiredProperties}}var p=s.split(",");n.forEach(function(e){p.push(e.name)});i.getCumulativeFilter().done(function(r){o=r.restrictToProperties(p);if(e){d=e.getInternalFilter();d.addAnd(o)}else{d=o}t.sendGetInBatch(d,c,u)})})};this.getMetadataFacade=function(){return i.getMetadataFacade(r)}};sap.apf.core.readRequestByRequiredFilter=t;return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/representationTypes", ["sap/apf/core/constants"],function(t){"use strict";var e=function(){return[{type:"representationType",id:"ColumnChart",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://bar-chart",label:{type:"label",kind:"text",key:"ColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"BarChart",constructor:"sap.apf.ui.representations.barChart",picture:"sap-icon://horizontal-bar-chart",label:{type:"label",kind:"text",key:"BarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChart",constructor:"sap.apf.ui.representations.lineChart",picture:"sap-icon://line-chart",label:{type:"label",kind:"text",key:"LineChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChartWithTwoVerticalAxes",constructor:"sap.apf.ui.representations.lineChartWithTwoVerticalAxes",picture:"sap-icon://line-chart-dual-axis",label:{type:"label",kind:"text",key:"LineChartWithTwoVerticalAxes"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChartWithTimeAxis",constructor:"sap.apf.ui.representations.lineChartWithTimeAxis",picture:"sap-icon://line-chart-time-axis",label:{type:"label",kind:"text",key:"LineChartWithTimeAxis"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PieChart",constructor:"sap.apf.ui.representations.pieChart",picture:"sap-icon://pie-chart",label:{type:"label",kind:"text",key:"PieChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORSIZE,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"DonutChart",constructor:"sap.apf.ui.representations.donutChart",picture:"sap-icon://donut-chart",label:{type:"label",kind:"text",key:"DonutChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORSIZE,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"ScatterPlotChart",constructor:"sap.apf.ui.representations.scatterPlotChart",picture:"sap-icon://scatter-chart",label:{type:"label",kind:"text",key:"ScatterPlotChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.REGIONCOLOR,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.REGIONSHAPE,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"BubbleChart",constructor:"sap.apf.ui.representations.bubbleChart",picture:"sap-icon://bubble-chart",label:{type:"label",kind:"text",key:"BubbleChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.REGIONCOLOR,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.REGIONSHAPE,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.BUBBLEWIDTH,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"StackedColumnChart",constructor:"sap.apf.ui.representations.stackedColumnChart",picture:"sap-icon://vertical-stacked-chart",label:{type:"label",kind:"text",key:"StackedColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"StackedBarChart",constructor:"sap.apf.ui.representations.stackedBarChart",picture:"sap-icon://horizontal-stacked-chart",label:{type:"label",kind:"text",key:"StackedBarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PercentageStackedColumnChart",constructor:"sap.apf.ui.representations.percentageStackedColumnChart",picture:"sap-icon://full-stacked-column-chart",label:{type:"label",kind:"text",key:"PercentageStackedColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PercentageStackedBarChart",constructor:"sap.apf.ui.representations.percentageStackedBarChart",picture:"sap-icon://full-stacked-chart",label:{type:"label",kind:"text",key:"PercentageStackedBarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",isCombinationChart:true,id:"CombinationChart",constructor:"sap.apf.ui.representations.combinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"CombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:2,max:"*",min:"2"}]}}},{type:"representationType",isCombinationChart:true,id:"StackedCombinationChart",constructor:"sap.apf.ui.representations.stackedCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"StackedCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:2,max:"*",min:"2"}]}}},{type:"representationType",isCombinationChart:true,id:"DualCombinationChart",constructor:"sap.apf.ui.representations.dualCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"DualCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",isCombinationChart:true,id:"DualStackedCombinationChart",constructor:"sap.apf.ui.representations.dualStackedCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"DualStackedCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"HeatmapChart",constructor:"sap.apf.ui.representations.heatmapChart",picture:"sap-icon://heatmap-chart",label:{type:"label",kind:"text",key:"HeatmapChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.XAXIS2,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"TableRepresentation",constructor:"sap.apf.ui.representations.table",picture:"sap-icon://table-chart",label:{type:"label",kind:"text",key:"tableView"},metadata:{properties:{supportedKinds:[{kind:t.representationMetadata.kind.COLUMN,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"TreeTableRepresentation",constructor:"sap.apf.ui.representations.treeTable",picture:"sap-icon://tree",label:{type:"label",kind:"text",key:"treeTable"},metadata:{hierarchicalColumn:{supportedKinds:[{kind:t.representationMetadata.kind.HIERARCHIALCOLUMN,defaultCount:1,max:"1",min:"0"}]},properties:{supportedKinds:[{kind:t.representationMetadata.kind.COLUMN,defaultCount:0,max:"*",min:"0"}]}}},{type:"representationType",id:"ColumnChartSorted",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://vertical-bar-chart",label:{type:"label",kind:"text",key:"ColumnChartSorted"}},{type:"representationType",id:"ColumnChartClustered",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://bar-chart",label:{type:"label",kind:"text",key:"ColumnChartClustered"}},{type:"representationType",id:"ColumnChartClusteredSorted",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://vertical-bar-chart-2",label:{type:"label",kind:"text",key:"ColumnChartClusteredSorted"}},{type:"representationType",id:"StackedColumnSorted",constructor:"sap.apf.ui.representations.stackedColumnChart",picture:"sap-icon://upstacked-chart",label:{type:"label",kind:"text",key:"StackedColumnSorted"}}]};return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/request", ["sap/apf/utils/utils","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/utils/filterSimplify","sap/ui/thirdparty/jquery"],function(e,t,a,r,jQuery){"use strict";var s=function(t,a){var s=t.instances.messageHandler;var n=t.instances.coreApi;var i=a.service;var o=a.selectProperties;var c=n.getUriGenerator();var u;if(i===undefined){u=s.createMessageObject({code:"5015",aParameters:[a.id]});s.putMessage(u)}var d=n.getMetadata(i);this.type=a.type;this.sendGetInBatch=function(t,u,p,g){d.done(function(d){n.getXsrfToken(i).done(function(f){var v=d.getUriComponents(a.entityType);var l,b;if(v){l=v.entitySet;b=v.navigationProperty}s.check(l!==undefined,"Invalid request configuration: An entityset does not exist under the service "+a.entityType);s.check(b!==undefined,"Invalid request configuration: A usable navigation does not exist for the service "+a.entityType);var h;var _;A(t);if(t&&t.getProperties){h=t.restrictToProperties(d.getFilterableProperties(l));if(n.getStartParameterFacade().isFilterReductionActive()){_=new r.FilterReduction;h=_.reduceFilter(s,h)}}k(p);var y=p&&p.paging;var m=p&&p.orderby;var P=c.buildUri(s,l,o,h,t,m,y,undefined,T,b,d);var M=[{requestUri:P,method:"GET",headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage(),"x-csrf-token":f}}];F();var O=c.getAbsolutePath(i);O=O+"$batch";var R={method:"POST",headers:{"x-csrf-token":f},requestUri:O,serviceMetadata:d.getODataModel().getServiceMetadata(),data:{__batchRequests:M}};var q=function(t,r){var i={};n.getEntityTypeMetadata(a.service,a.entityType).done(function(a){var n;try{var o="";if(t&&t.__batchResponses&&t.__batchResponses[0].data){i.data=t.__batchResponses[0].data.results;i.metadata=a;if(t.__batchResponses[0].data.__count){i.count=parseInt(t.__batchResponses[0].data.__count,10)}if(t.__batchResponses[1]&&t.__batchResponses[1].data){i.selectionValidation=t.__batchResponses[1].data.results}u(i,true)}else if(t&&t.__batchResponses[0]&&t.__batchResponses[0].response&&t.__batchResponses[0].message){o=r.requestUri;var c=t.__batchResponses[0].message;var d=t.__batchResponses[0].response.body;n=e.extractOdataErrorResponse(d);var p=t.__batchResponses[0].response.statusCode;i=s.createMessageObject({code:"5001",aParameters:[p,c,n,o]});s.putMessage(i)}else{o=r.requestUri||P;i=s.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",o]});s.putMessage(i)}}catch(e){n=e&&e.message||"";window.console.trace("sap.apf.core.request catch exception: "+n);if(!s.isOwnException(e)){s.putMessage(s.createMessageObject({code:"5042",aParameters:[n]}))}}})};var j=function(e){var t="unknown error";var a;var r="unknown error";var n=P;if(e.message!==undefined){t=e.message}var i="unknown";if(e.response&&e.response.statusCode){i=e.response.statusCode;r=e.response.statusText||"";n=e.response.requestUri||P}if(e.messageObject&&e.messageObject.type==="messageObject"){s.putMessage(e.messageObject);u(e.messageObject)}else{a=s.createMessageObject({code:"5001",aParameters:[i,t,r,n]});s.putMessage(a);u(a)}};n.odataRequest(R,q,j,OData.batchHandler);function F(){if(g&&g.requiredFilterProperties&&g.selectionFilter){var e=h.copy();e.addAnd(g.selectionFilter);if(n.getStartParameterFacade().isFilterReductionActive()){e=_.reduceFilter(s,e)}var a=c.buildUri(s,l,g.requiredFilterProperties,e,t,undefined,undefined,undefined,T,b,d);M.push({requestUri:a,method:"GET",headers:{"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage(),"x-csrf-token":f}})}}function T(t,a){var r="'";var s=d.getPropertyMetadata(l,t);if(s&&s.dataType){return e.formatValue(a,s)}if(typeof a==="number"){return a}return r+e.escapeOdata(a)+r}function k(e){var t,a;if(!e){return}t=Object.getOwnPropertyNames(e);for(a=0;a<t.length;a++){if(t[a]!=="orderby"&&t[a]!=="paging"){s.putMessage(s.createMessageObject({code:"5032",aParameters:[l,t[a]]}))}}}function A(e){var t=d.getFilterableProperties(l);var a="";var r=d.getEntityTypeAnnotations(l);var n;if(r.requiresFilter!==undefined&&r.requiresFilter==="true"){if(r.requiredProperties!==undefined){a=r.requiredProperties}}if(a===""){return}if(jQuery.inArray(a,t)===-1){n=s.createMessageObject({code:"5006",aParameters:[l,a]});s.putMessage(n)}var i=e.getProperties();if(jQuery.inArray(a,i)===-1){n=s.createMessageObject({code:"5005",aParameters:[l,a]});s.putMessage(n)}}})})}};sap.apf.core.Request=s;return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/resourcePathHandler", ["sap/apf/core/utils/filter","sap/apf/utils/hashtable","sap/apf/core/messageHandler","sap/apf/core/messageDefinition","sap/apf/core/odataProxy","sap/apf/core/layeredRepositoryProxy","sap/apf/cloudFoundry/runtimeProxy","sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/apf/utils/startParameter","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,a,t,i,o,s,n,r,c,p,u,jQuery){"use strict";function f(e){var t=this;var i=e.instances.coreApi;var o=e.instances.messageHandler;var s=new a(o);var n;var r;var c=null;var p=jQuery.Deferred();var f=false;var l;this.loadConfigFromFilePath=function(a){if(f){return}f=true;var t=i.getStartParameterFacade().getAnalyticalConfigurationId();var s=a;i.ajax({url:s,dataType:"json",success:n,error:function(e,a,t){var i=o.createMessageObject({code:"5068",aParameters:[s,a,t]});b(i)},async:true,suppressSapSystem:true});function n(i,s,n){var r=e.functions.checkForTimeout(n);var c;if(r){c=o.createMessageObject({code:"5054",aParameters:[a]});c.setPrevious(r);b(c)}if(!i||!i.applicationConfiguration){b(o.createMessageObject({code:"5055",aParameters:[a]}))}if(i.applicationConfiguration.textResourceLocations===undefined){b(o.createMessageObject({code:"5056",aParameters:[a]}));return}T(i,t);y().done(function(){if(t){g(t)}else{m()}})}};function d(){return i.getStartParameterFacade().isLrepActive()}function g(a){var t=a.applicationId;var s=a.configurationId;if(d()&&!t){b(o.createMessageObject({code:"5024"}))}var c=new l({serviceRoot:r&&r.path&&r.path.service,entityTypes:{configuration:sap.apf.core.constants.entitySets.configuration,texts:sap.apf.core.constants.entitySets.texts}},{instances:{coreApi:i,messageHandler:o},manifests:e.manifests});if(d()){var u=[];var f=jQuery.Deferred();u.push(f);u.push(v(t,c))}c.readEntity("configuration",function(e,a,r){if(r){b(o.createMessageObject({code:"5022",aParameters:[s]}));p.resolve()}else{var u=JSON.parse(e.SerializedAnalyticalConfiguration);i.loadAnalyticalConfiguration(u);if(u.applicationTitle){n.appName=u.applicationTitle.key;n.appTitle=u.applicationTitle.key}if(d()){f.resolve()}else{t=t||e.Application;v(t,c).then(function(){p.resolve()})}}},[{name:"AnalyticalConfiguration",value:s}],undefined,t,{layer:"ALL"},{noMetadata:true});if(d()){jQuery.when.apply(jQuery,u).then(function(){p.resolve()})}}function v(e,a){var t=jQuery.Deferred();var s=new sap.apf.core.utils.Filter(o,"Application","eq",e);var n=new sap.apf.core.utils.Filter(o,"Language","eq",sap.apf.core.constants.developmentLanguage);n.addAnd(s);var r=["TextElement","TextElementDescription"];a.readCollection("texts",function(e,a,s){if(s){b(o.createMessageObject({code:"5023",aParameters:[i.getStartParameterFacade().getAnalyticalConfigurationId()]}))}else{i.loadTextElements(e)}t.resolve()},undefined,r,n,{layer:"ALL"});return t.promise()}function m(){var e=t.getResourceLocation(sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation);var a;if(e!==""){i.ajax({url:e,dataType:"json",success:function(t,s,r){if(t){i.loadAnalyticalConfiguration(t);if(t.applicationTitle){n.appName=t.applicationTitle.key;n.appTitle=t.applicationTitle.key}p.resolve()}else{a=o.createMessageObject({code:"5057",aParameters:[e]});b(a)}},error:function(t,i,s,n){a=o.createMessageObject({code:"5057",aParameters:[e]});if(n){a.setPrevious(n)}b(a)},async:true,suppressSapSystem:true})}else{a=o.createMessageObject({code:"5060"});b(a)}}function y(){i.loadMessageConfiguration(sap.apf.core.messageDefinition,true);return L(sap.apf.core.constants.resourceLocation.applicationMessageDefinitionLocation,false)}function L(a,s){var n=jQuery.Deferred();var r=t.getResourceLocation(a);if(r!==""){i.ajax({url:r,dataType:"json",success:c,error:function(e,a,t,i){var s=o.createMessageObject({code:"5058",aParameters:[a,t,r]});if(i){s.setPrevious(i)}b(s)},async:true,suppressSapSystem:true})}else{n.resolve()}return n.promise();function c(a,t,r){var c;var p=e.functions.checkForTimeout(r);if(!p){if(a.messageConfiguration){i.loadMessageConfiguration(a.messageConfiguration.definitions,s)}}else{c=o.createMessageObject({code:"5067"});c.setPrevious(p);b(c)}n.resolve()}}function P(e){var a;if(!e||!e.path){a=o.createMessageObject({code:"5066"});b(a)}if(!e.path.service){a=o.createMessageObject({code:"5067"});b(a)}if(e.analyticalConfiguration){if(!e.analyticalConfiguration.service){a=o.createMessageObject({code:sap.apf.core.constants.message.code.errorInAnalyticalConfig,rawText:"service or entity set are missing in analytical configuration in the application configuration"});b(a)}}}function C(e){var a;if(e.evaluations&&!e.evaluations.service){a=o.createMessageObject({code:"5063"});b(a)}if(e.evaluations&&(!e.evaluations.type||e.evaluations.type!=="smartBusinessRequest")){a=o.createMessageObject({code:"5062",rawText:"type in Smart Business configuration is not smartBusinessRequest"});b(a)}if(e.evaluations&&!e.evaluations.entityType){a=o.createMessageObject({code:"5061"});b(a)}}this.getResourceLocation=function(e){return s.getItem(e)};this.getPersistenceConfiguration=function(){var e=jQuery.Deferred();p.done(function(){e.resolve(r)});return e};this.getConfigurationProperties=function(){var a=jQuery.Deferred();e.corePromise.done(function(){a.resolve(n)});return a};function S(){var a=sap.apf.core.utils.uriGenerator;var t,s,n;var r=e.manifests.manifest;var c=e.manifests.baseManifest;var f;if(p.state()==="resolved"){return}var l=a.getBaseURLOfComponent(u.getComponentNameFromManifest(e.manifests.baseManifest));var d=a.getBaseURLOfComponent(u.getComponentNameFromManifest(e.manifests.manifest));if(r["sap.app"].dataSources&&r["sap.app"].dataSources.PathPersistenceServiceRoot){n=r["sap.app"].dataSources.PathPersistenceServiceRoot.uri}else if(e.functions.isUsingCloudFoundryProxy()){n=""}else{f=o.createMessageObject({code:"5064"});b(f)}var v=c["sap.app"].i18n;if(typeof v==="string"){v=a.addRelativeToAbsoluteURL(l,v)}else if(typeof v==="object"){v=a.addRelativeToAbsoluteURL(l,v.bundleUrl)}var L=r["sap.app"].i18n;if(typeof L==="string"){L=a.addRelativeToAbsoluteURL(d,L)}else if(typeof L==="object"){L=a.addRelativeToAbsoluteURL(d,L.bundleUrl)}var P=r["sap.app"].title;var C=u.createPseudoGuid();i.registerTextWithKey(C,P);var S=i.getStartParameterFacade().getAnalyticalConfigurationId();var x="";if(r["sap.app"].dataSources&&r["sap.app"].dataSources.AnalyticalConfigurationLocation&&r["sap.app"].dataSources.AnalyticalConfigurationLocation.uri){x=r["sap.app"].dataSources.AnalyticalConfigurationLocation.uri;x=a.addRelativeToAbsoluteURL(d,x)}if(!S&&!x){f=o.createMessageObject({code:"5065"});b(f)}var M={appName:C,appTitle:C,analyticalConfigurationLocation:x,textResourceLocations:{apfUiTextBundle:v,applicationUiTextBundle:L},persistence:{path:{service:n}}};if(r["sap.apf"]&&r["sap.apf"].appSpecificParameters){for(t in r["sap.apf"].appSpecificParameters){M[t]=r["sap.apf"].appSpecificParameters[t]}}if(r["sap.app"].dataSources&&r["sap.app"].dataSources.SmartBusiness){s=r["sap.app"].dataSources.SmartBusiness.uri;M.smartBusiness={runtime:{service:s}}}if(r["sap.app"].dataSources&&r["sap.app"].dataSources.LogicalSystem){M.persistence.logicalSystem={service:r["sap.app"].dataSources.LogicalSystem.uri}}T({applicationConfiguration:M},S);y().done(function(){if(S){g(S)}else{m()}})}function x(){var e=i.getUriGenerator().getApfLocation();s.setItem(sap.apf.core.constants.resourceLocation.apfUiTextBundle,e+"resources/i18n/apfUi.properties");s.setItem(sap.apf.core.constants.resourceLocation.applicationMessageDefinitionLocation,"");s.setItem(sap.apf.core.constants.resourceLocation.applicationMessageTextBundle,"");s.setItem(sap.apf.core.constants.resourceLocation.applicationUiTextBundle,"");s.setItem(sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation,"")}function T(a,t){function i(e){n=jQuery.extend(true,{},e);delete n.type;delete n.analyticalConfigurationLocation;delete n.applicationMessageDefinitionLocation;delete n.textResourceLocations;delete n.persistence}var p=a.applicationConfiguration;i(p);var u=a.applicationConfiguration.textResourceLocations;r=a.applicationConfiguration.persistence;if(!e.functions.isUsingCloudFoundryProxy()){P(r);if(!r.path.entitySet){r.path.entitySet=sap.apf.core.constants.entitySets.analysisPath}}if(a.applicationConfiguration.smartBusiness){c=a.applicationConfiguration.smartBusiness;C(c)}var f;var l;var d;for(d in sap.apf.core.constants.resourceLocation){if(!sap.apf.core.constants.resourceLocation.hasOwnProperty(d)){continue}if(d===sap.apf.core.constants.resourceLocation.analyticalConfigurationLocation&&t){continue}if(p[d]!==undefined){l=p[d]}else if(u[d]!==undefined){l=u[d]}else{continue}if(e.manifests){s.setItem(d,l)}else if(d===sap.apf.core.constants.resourceLocation.apfUiTextBundle||e.instances.fileExists.check(l,true)){s.setItem(d,l)}else if(!t){f=o.createMessageObject({code:"5059",aParameters:[l,d]});b(f)}}}function b(e){o.putMessage(e)}function M(){var a;var i;var o;jQuery.when(p).done(function(){a=t.getResourceLocation(sap.apf.core.constants.resourceLocation.apfUiTextBundle);i=t.getResourceLocation(sap.apf.core.constants.resourceLocation.applicationUiTextBundle);o=t.getResourceLocation(sap.apf.core.constants.resourceLocation.applicationMessageTextBundle);e.functions.initTextResourceHandlerAsPromise(a,i,o).done(function(){e.corePromise.resolve()})})}x();if(e.constructors&&e.constructors.ProxyForAnalyticalConfiguration){l=e.constructors.ProxyForAnalyticalConfiguration}else if(e.functions.isUsingCloudFoundryProxy()){l=sap.apf.cloudFoundry.RuntimeProxy}else if(d()){l=sap.apf.core.LayeredRepositoryProxy}else{l=sap.apf.core.OdataProxy}if(e.manifests&&e.manifests.manifest){S()}if(e.corePromise){M()}}c("sap.apf.core.ResourcePathHandler",f);return f});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/sessionHandler", ["sap/apf/core/ajax","sap/apf/utils/exportToGlobal","sap/apf/utils/filter","sap/apf/utils/hashtable","sap/apf/core/constants","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery"],function(e,t,s,a,n,r,jQuery){"use strict";function i(e){var t=null;var s=false;var n=false;var i=false;var f="";var o="";var u=new a(e.instances.messageHandler);var c=e.instances.coreApi;var l=e.instances.messageHandler;if(e&&e.functions&&e.functions.serializeApfState&&typeof e.functions.serializeApfState=="function"){s=e.functions.serializeApfState}if(e&&e.functions&&e.functions.deserializeApfState&&typeof e.functions.deserializeApfState=="function"){n=e.functions.deserializeApfState}this.type="sessionHandler";this.ajax=function(e){sap.apf.core.ajax(e)};this.getXsrfToken=function(e){var t=jQuery.Deferred();e=p(e);var s=u.getItem(e);if(s!==undefined&&s!==false){return t.resolve(s)}this.fetchXcsrfToken(e).done(function(s){u.setItem(e,s);t.resolve(s)});return t.promise()};function p(e){var t=c.getStartParameterFacade().getSapSystem();if(t){return r.setOrigin(e,{force:true,alias:t})}return e}this.fetchXcsrfToken=function(e){var t=jQuery.Deferred();var s="HEAD";if(u.getItem(e)===false){s="GET"}this.ajax({url:c.getUriGenerator().getAbsolutePath(e),type:s,beforeSend:function(e){e.setRequestHeader("x-csrf-token","Fetch")},success:a.bind(this),error:n.bind(this),async:true});function a(e,s,a){o=a.getResponseHeader("x-csrf-token");if(o!==undefined&&o!==null){t.resolve(o)}if(o===null){o="";t.resolve(o)}}function n(s,a,n){if(s.status===405&&u.getItem(e)!==false){u.setItem(e,false);this.fetchXcsrfToken(e).done(function(e){t.resolve(e)})}else{o="";var r=l.createMessageObject({code:5101,aParameters:[]});l.putMessage(r);t.resolve(o)}}return t.promise()};this.setDirtyState=function(e){i=e};this.isDirty=function(){return i};this.setPathName=function(e){if(typeof e!="string"){f="";return}f=e};this.getPathName=function(){return f};this.isApfStateAvailable=function(){if(t===null){return false}return true};this.storeApfState=function(){var e=true;if(s){s(undefined,e).done(function(e){t=e})}};this.restoreApfState=function(){if(this.isApfStateAvailable()&&n){c.resetPath();return n(t)}}}t("sap.apf.core.SessionHandler",i);return i});
sap.ui.predefine("sap/apf/core/step", ["sap/apf/utils/trace","sap/apf/core/utils/filter","sap/apf/core/utils/areRequestOptionsEqual","sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/executeFilterMapping","sap/apf/core/constants","sap/apf/core/metadataProperty","sap/ui/thirdparty/jquery"],function(e,t,i,r,n,a,o,s,jQuery){"use strict";function l(t,i,n,o,s){t.check(i!==undefined,"Step: step configuration is missing");t.check(i.binding!==undefined,"No binding assigned to step "+i.id+" in analytical configuration",sap.apf.core.constants.message.code.errorCheckConfiguration);var l=sap.apf.core.constants.representationMetadata.labelDisplayOptions;var p=this;var u,f,d,g;var c={responseData:[]};var h=jQuery.extend(true,{},i);this.type="step";this.title=jQuery.extend(true,{},i.title);this.longTitle=undefined;if(i.longTitle){this.longTitle=jQuery.extend(true,{},i.longTitle)}this.thumbnail=jQuery.extend(true,{},i.thumbnail);this.categories=i.categories;this.destroy=function(){if(u){u.destroy()}f=undefined;d=undefined;g=undefined;u=undefined;p=undefined};this.getRequestConfiguration=function(){return n.getConfigurationById(i.request)};this.getAdditionalConfigurationProperties=function(){return h};this.update=function(t,r){var a;var o=this.getFilter();var l=!t.isEqual(d);var p=u.getRequestOptions(l);var c=!sap.apf.core.utils.areRequestOptionsEqual(g,p);var h=n.getConfigurationById(i.request);e.logCall("Step.update",", bFilterChanged",l,", bRequestOptionsChanged",c);s.getMetadata(h.service).then(function(n){e.log("update  -  in oCoreApi.getMetadata().then()");if(!o.isEmpty()&&!i.topNSettings&&u.getSelectedRepresentation().type==="TableRepresentation"){var s=o.getProperties()[0];var d=[s];var g=n.getPropertyMetadata(h.entityType,s)["sap:text"];if(g){d.push(g)}a={selectionFilter:o,requiredFilterProperties:d}}if(f&&(l||c)){e.log("update() - before sendGetInBatch");f.sendGetInBatch(t,r,p,a)}else{e.log("update() - no request, before callbackAfterRequest");r({},false)}},function(){e.log("update - then.reject() - before callbackAfterRequest");r({},false)});e.logReturn("update")};this.determineFilter=function(e,r){var o;var u;if(this.adjustCumulativeFilter){o=this.adjustCumulativeFilter(e)}if(y()&&this.getFilter().toUrlParam()){var f=n.getConfigurationById(i.filterMapping.requestForMappedFilter);f.selectProperties=i.filterMapping.target.slice();if(i.filterMapping.targetPropertyDisplayOption===l.TEXT||i.filterMapping.targetPropertyDisplayOption===l.KEY_AND_TEXT){s.getMetadata(f.service).done(function(e){var t=e.getPropertyMetadata(f.entityType,f.selectProperties[0]);if(t.text){f.selectProperties.push(t.text)}d.call(this,f)}.bind(this))}else{d.call(this,f)}}else{c.responseData=[];r(this.getFilter(),o)}function d(s){var l=n.createRequest(s);u=e.addAnd(this.getFilter());if(o){u=o.copy().addAnd(this.getFilter())}if(u.isEqual(c.mergedFilter)){r(c.mappedFilter,o)}else{a(u,l,i.filterMapping.target,g,t)}}function g(e,t,n){if(!t){if(i.filterMapping.keepSource==="true"){e=p.getFilter().addAnd(e)}c.mergedFilter=u;c.mappedFilter=e;c.responseData=n;r(e,o)}}};this.getBinding=function(){return u};this.getFilter=function(){return u.getFilter(this.getContextInfo())};this.getContextInfo=function(){var e=n.getConfigurationById(i.request);var t={entityType:e.entityType,service:e.service};return t};this.setData=function(e,t){var i=!t.isEqual(d);d=t.copy();g=jQuery.extend({},u.getRequestOptions(i));u.setData(e)};this.getRepresentationInfo=function(){return u.getRepresentationInfo()};this.getSelectedRepresentationInfo=function(){return u.getSelectedRepresentationInfo()};this.getSelectedRepresentation=function(){return u.getSelectedRepresentation()};this.setSelectedRepresentation=function(e){u.setSelectedRepresentation(e)};this.getFilterInformation=function(e,t){var a=jQuery.Deferred();var o;if(i.longTitle&&i.longTitle.key){o=s.getTextNotHtmlEncoded(i.longTitle.key)}else{o=s.getTextNotHtmlEncoded(i.title.key)}if(y()&&i.filterMapping.keepSource==="true"){jQuery.when(d(e,o),p(e,o)).then(function(e,t){a.resolve([e,t])})}else if(y()){jQuery.when(p(e,o)).then(function(e){a.resolve([e])})}else{jQuery.when(d(e,o)).then(function(e){a.resolve([e])})}return a;function p(){var e=jQuery.Deferred();var t;if(i.filterMapping.targetPropertyLabelKey){t=s.getTextNotHtmlEncoded(i.filterMapping.targetPropertyLabelKey)}var r=i.filterMapping.target[0];var a=n.getConfigurationById(i.filterMapping.requestForMappedFilter);f(r,a).done(function(i){g(e,r,i,t,a,true)});return e}function f(e,t){var n=jQuery.Deferred();s.getMetadata(t.service).done(function(a){var o;var p=new sap.apf.core.MetadataProperty(a.getPropertyMetadata(t.entityType,e));if(p.text){o=p.text}var u=[];var f=i.filterMapping.targetPropertyDisplayOption;var d=false;c.responseData.forEach(function(t){if(f===l.TEXT&&o){u.push({text:t[o]})}else if(f===l.KEY_AND_TEXT&&o){u.push({text:s.getTextNotHtmlEncoded("keyAndTextSelection",[t[o],r.convertToExternalFormat(t[e],p)])})}else{u.push({text:t[e]});d=true}});u=r.sortByProperty(u,"text",p);if(d===true){u.forEach(function(e){e.text=r.convertToExternalFormat(e.text,p)})}n.resolve(u)});return n}function d(){var e=jQuery.Deferred();var t;var r;var a=n.getConfigurationById(i.binding);var o=n.getConfigurationById(i.request);if(a.requiredFilters&&a.requiredFilters.length===1){t=a.requiredFilters[0];if(a.requiredFilterOptions&&a.requiredFilterOptions.fieldDesc){r=s.getTextNotHtmlEncoded(a.requiredFilterOptions.fieldDesc.key)}}g(e,t,u.getSortedSelections(),r,o,false);return e}function g(i,r,n,a,l,p){var u;var f;if(!a){u=s.getMetadata(l.service)}if(r){f=s.getMetadata(e.getRequestConfiguration().service)}jQuery.when(u,f).then(function(u,f){var d=false;var g;var c=e.getRequestConfiguration().entityType;var h;if(f){h=f.getFilterableProperties(c).concat(f.getParameterEntitySetKeyProperties(c))}if(!a&&u&&r){a=u.getPropertyMetadata(l.entityType,r)["sap:label"]}if(!r){d=true;g=s.getTextNotHtmlEncoded("noSelectionPossible")}else if(h.indexOf(r)===-1){d=true;g=s.getTextNotHtmlEncoded("filterNotApplicable")}else if(n.length===0){d=true;g=s.getTextNotHtmlEncoded("nothingSelected")}i.resolve({text:o,selectablePropertyLabel:a||r,filterValues:n,infoIcon:p,infoText:p?s.getTextNotHtmlEncoded("infoIconfilterMapping"):undefined,warningIcon:d,warningText:g,stepIndex:t})})}};this.serialize=function(){return{stepId:i.id,binding:u.serialize()}};this.deserialize=function(e){u.deserialize(e.binding);t.check(i.id,e.stepId,"sap.apf.core.step.deserialize inconsistent serialization data - id "+e.stepId);return this};this.getAssignedNavigationTargets=function(){return i.navigationTargets};v();function v(){u=n.createBinding(i.binding,undefined,undefined,o);delete h.binding;if(i.request!==undefined&&i.request!==""){f=n.createRequest(i.request);delete h.request}}function y(){if(i.filterMapping){if(i.filterMapping.requestForMappedFilter&&i.filterMapping.target instanceof Array&&i.filterMapping.keepSource){return true}t.putMessage(t.createMessageObject({code:"5104"}))}return false}}sap.apf.core.Step=l;return{constructor:l}},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/textResourceHandler", ["sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/strings/formatMessage","sap/ui/model/resource/ResourceModel"],function(e,t,jQuery,n,r,s){"use strict";function i(e){var i=e.instances.messageHandler;var u;var a=new t(i);var o=new t(i);var c=new t(i);var l={};var f=e.constructors&&e.constructors.ResourceModel||s;var d;this.getTextNotHtmlEncoded=function(e,t){var n;var r;var s;if(typeof e==="string"){r=e}else{i.check(e!==undefined&&e.kind!==undefined&&e.kind==="text"&&e.key!==undefined,"Error - oLabel is not compatible");r=e.key}s=JSON.stringify({textKey:r,parameters:t});if(a.hasItem(s)){return a.getItem(s)}n=g(r,t);a.setItem(s,n);return n};this.getTextHtmlEncoded=function(e,t){return n(this.getTextNotHtmlEncoded(e,t))};this.getMessageText=function(e,t){return h(e,t,false)};this.loadTextElements=function(e){var t,n;n=e.length;for(t=0;t<n;t++){o.setItem(e[t].TextElement,e[t].TextElementDescription)}};this.registerTextWithKey=function(e,t){l[e]=t};this.loadResourceModelAsPromise=function(e,t,n){var r=jQuery.Deferred();d=new f({bundleUrl:e,async:true});if(t!==undefined&&t!==""){d.enhance({bundleUrl:t,async:true}).then(function(){if(n!==undefined&&n!==""){d.enhance({bundleUrl:n,async:true}).then(function(){d.getResourceBundle().then(function(e){u=e;r.resolve()})})}else{d.getResourceBundle().then(function(e){u=e;r.resolve()})}})}else if(n!==undefined&&n!==""){d.enhance({bundleUrl:n,async:true}).then(function(){d.getResourceBundle().then(function(e){u=e;r.resolve()})})}else{d.getResourceBundle().then(function(e){u=e;r.resolve()})}return r.promise()};function h(e,t,n){if(t&&t.length===0){return u.getText(e,undefined,n)}return u.getText(e,t,n)}function g(e,t){var n;if(e===sap.apf.core.constants.textKeyForInitialText){return""}else if(l[e]){if(t&&t.length>0){return r(l[e],t)}return l[e]}else if(o.hasItem(e)){n=h(e,t,true);if(typeof n!=="string"||n===e){return o.getItem(e)}return n}else if(c.hasItem(e)){return c.getItem(e)}n=h(e,t,true);if(typeof n==="string"){return n}i.putMessage(i.createMessageObject({code:"3001",aParameters:[e],oCallingObject:this}));var s="# text not available: "+e;c.setItem(e,s);return s}}e("sap.apf.core.TextResourceHandler",i);return i});
sap.ui.predefine("sap/apf/core/utils/annotationHandler", ["sap/ui/model/odata/ODataUtils"],function(n){"use strict";var t=function(t){var e=t.manifests&&t.manifests.manifest;var i=e&&e["sap.app"].dataSources;var s=t.functions.getSapSystem();var a=e&&e["sap.ui5"]&&e["sap.ui5"].dependencies&&e["sap.ui5"].dependencies.libs&&e["sap.ui5"].dependencies.libs["sap.apf"]&&e["sap.ui5"].dependencies.libs["sap.apf"].minVersion;this.getAnnotationsForService=function(n){if(!i){return r(n)}return o(n)};function r(e){if(!(typeof a==="string")||a<"1.44.0"){var i=t.functions.getODataPath(e)+"annotation.xml";if(s){i=n.setOrigin(i,{force:true,alias:s})}if(t.instances.fileExists.check(i)){return[i]}}return[]}function u(n){if(n&&n[n.length-1]==="/"){n=n.substring(0,n.length-1)}var t;if(!n){return n}var e=n.split(";");var i=e[0];for(t=1;t<e.length;t++){if(e[t].search("o=")===-1){i=i+";"+e[t]}}return i}function f(n,t){var e=u(n);var i=u(t);return e===i}function o(e){var a=[];var u;for(u in i){if(f(i[u].uri,e)){var o=i[u].settings&&i[u].settings.annotations;if(o){o.forEach(c)}else{return r(e)}return a}}return r(e);function c(e){var r=i[e]&&i[e].uri;var u=i[e]&&i[e].settings&&i[e].settings.localUri;var f;if(r){if(s){r=n.setOrigin(r,{force:true,alias:s})}a.push(r)}if(u&&u[0]!=="/"){var o=t.functions.getComponentNameFromManifest(t.manifests.manifest);f=t.functions.getBaseURLOfComponent(o);a.push(t.functions.addRelativeToAbsoluteURL(f,u))}else if(u&&u[0]==="/"){a.push(u)}}}};sap.apf.core.utils.AnnotationHandler=t;return{constructor:t}},true);
sap.ui.predefine("sap/apf/core/utils/areRequestOptionsEqual", function(){"use strict";var r=function(r,e){function n(r,e){if(r.skip){var n=e&&e.skip||0;if(r.skip!==n){return false}}if(r.top){var i=e&&e.top||0;if(r.top!==i){return false}}if(r.inlineCount){var f=e&&e.inlineCount||false;if(r.inlineCount!==f){return false}}return true}function i(r,e){var n=0;var f=0;var t;for(t in r){n++}for(t in e){f++}if(n!==f){return false}for(t in r){if(!r.hasOwnProperty(t)){continue}if(typeof r[t]==="object"){if(!i(r[t],e[t])){return false}}else if(r[t]!==e[t]){return false}}return true}function f(r,e){var f;r=r||{};e=e||{};var t=Object.keys(r);for(f=0;f<t.length;f++){if(t[f]==="paging"){if(!n(r.paging,e.paging)){return false}}if(t[f]==="orderby"){if(!i(r.orderby,e.orderby)){return false}}}return true}if(f(r,e)){return f(e,r)}return false};return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/checkForTimeout", ["sap/apf/core/messageObject"],function(e){"use strict";var s=function(s){var a;var r;var t=false;if(s&&s.headers&&s.headers["x-sap-login-page"]){t=true}if(s&&s.getResponseHeader&&s.getResponseHeader("x-sap-login-page")!==null){t=true}if(s&&s.status){a=s.status}if(s&&s.response&&s.response.statusCode){a=s.response.statusCode}if(a===303||a===401||a===403||t){r=new e({code:"5021"})}return r};return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/fileExists", ["sap/apf/core/utils/checkForTimeout","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var a=function(a){var i={};var s=a&&a.functions&&a.functions.ajax;var n=a&&a.functions&&a.functions.getSapSystem&&a.functions.getSapSystem();this.check=function(a,r){if(n&&!r){a=t.setOrigin(a,{force:true,alias:n})}if(i[a]!==undefined){return i[a]}var u=false;var f={url:a,type:"HEAD",success:function(t,a,i){var s=e(i);if(s===undefined){u=true}else{u=false}},error:function(){u=false},async:false};if(s){s(f)}else{jQuery.ajax(f)}i[a]=u;return u}};sap.apf.core.utils.FileExists=a;return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/filter", ["sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/ui/model/Filter","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,r,t,i,jQuery){"use strict";var s="%20and%20";var n="%20or%20";var o=function(r,t,i,s,n){this.type="internalFilter";this.messageHandler=r;if(t&&(t instanceof e||t instanceof o)){this.leftExpr=t}else if(t!==undefined&&i!==undefined&&s!==undefined){this.leftExpr=new e(r,t,i,s,n)}else if(t!==undefined||i!==undefined||s!==undefined){r.check(false,"wrong arguments in construction of sap.apf.core.utils.Filter")}this.restExpr=[]};o.prototype.getProperties=function(){var r;var t=[];var s=[];var n="";if(this.leftExpr===undefined){return t}if(this.leftExpr instanceof e){n=this.leftExpr.getProperty();t.push(n)}else if(this.leftExpr instanceof o){t=this.leftExpr.getProperties()}for(r=0;r<this.restExpr.length;r++){if(this.restExpr[r]instanceof e){t.push(this.restExpr[r].getProperty())}else{s=this.restExpr[r].getProperties();t=t.concat(s)}}return i.eliminateDuplicatesInArray(this.messageHandler,t)};o.prototype.copy=function(){var e;var t;if(this.leftExpr===undefined){return new o(this.messageHandler)}e=new o(this.messageHandler,this.leftExpr);if(this.levelOperator===undefined){return e}for(t=0;t<this.restExpr.length;t++){if(this.levelOperator===r.BooleFilterOperators.AND){e.addAnd(this.restExpr[t].copy())}else{e.addOr(this.restExpr[t].copy())}}return e};o.prototype.isEmpty=function(){if(this.leftExpr===undefined){return true}if(this.leftExpr instanceof e){return false}if(!this.leftExpr.isEmpty()){return false}if(this.restExpr.length===0){return true}var r;for(r=0;r<this.restExpr.length;++r){if(!this.restExpr[r].isEmpty()){return false}}return true};o.prototype.isOr=function(){if(this.levelOperator===r.BooleFilterOperators.OR){return true}else if(this.levelOperator===r.BooleFilterOperators.AND){return false}if(this.leftExpr){if(this.leftExpr instanceof o){return this.leftExpr.isOr()}}return false};o.prototype.isEqual=function(e){if(this===e){return true}if(e===undefined){return false}return this.getHash()===e.getHash()};o.prototype.getHash=function(e){var t=e||1;var i=0;if(this.restExpr.length===0){i=t}else{i=t+1}if(this.leftExpr===undefined){return 0}var s=this.leftExpr.getHash(i);var n;if(this.levelOperator===undefined){return s}if(this.levelOperator===r.BooleFilterOperators.AND){s=s+Math.pow(2,t)}else if(this.levelOperator===r.BooleFilterOperators.OR){s=s+Math.pow(3,t)}for(n=0;n<this.restExpr.length;n++){s=s+this.restExpr[n].getHash(i)}return s};o.prototype.getFilterTermsForProperty=function(r){var t=[];var i;if(this.leftExpr===undefined){return t}if(this.leftExpr instanceof o){t=this.leftExpr.getFilterTermsForProperty(r)}else if(r===this.leftExpr.getProperty()){t.push(this.leftExpr)}for(i=0;i<this.restExpr.length;i++){if(this.restExpr[i]instanceof e){if(r===this.restExpr[i].getProperty()){t.push(this.restExpr[i])}}else{t=t.concat(this.restExpr[i].getFilterTermsForProperty(r))}}return t};o.prototype.getFilterTerms=function(){var r=[];var t;if(this.leftExpr===undefined){return r}if(this.leftExpr instanceof o){r=this.leftExpr.getFilterTerms()}else{r.push(this.leftExpr)}for(t=0;t<this.restExpr.length;t++){if(this.restExpr[t]instanceof e){r.push(this.restExpr[t])}else{r=r.concat(this.restExpr[t].getFilterTerms())}}return r};o.prototype.isConsistentWithFilter=function(t,i){var s;var n=false;if(this.leftExpr===undefined){return true}if(this.levelOperator===undefined){return this.leftExpr.isConsistentWithFilter(t,i)}if(this.levelOperator===r.BooleFilterOperators.AND){if(!this.leftExpr.isConsistentWithFilter(t,i)){return false}for(s=0;s<this.restExpr.length;s++){if(!this.restExpr[s].isConsistentWithFilter(t,i)){return false}}return true}if(this.levelOperator===r.BooleFilterOperators.OR){if(o(this.leftExpr,t)){n=true;if(this.leftExpr.isConsistentWithFilter(t,i)){return true}}for(s=0;s<this.restExpr.length;s++){if(o(this.restExpr[s],t)){n=true;if(this.restExpr[s].isConsistentWithFilter(t,i)){return true}}}return!n}function o(r,t){if(r instanceof e){return r.getProperty()===t}return r.getProperties().indexOf(t)>=0}};o.prototype.removeTermsByProperty=function(e){var r=this.internalRemoveTermsByProperty(e);if(r===undefined){return new o(this.messageHandler)}return r};o.prototype.internalRemoveTermsByProperty=function(t){var i,s,n;if(this.leftExpr===undefined){return this.copy()}s=this.leftExpr.internalRemoveTermsByProperty(t);if(s instanceof e){s=new o(this.messageHandler,s.getProperty(),s.getOp(),s.getValue(),s.getHighValue())}if(this.levelOperator===undefined){return s}for(i=0;i<this.restExpr.length;i++){n=this.restExpr[i].internalRemoveTermsByProperty(t);if(s===undefined){if(n instanceof e){s=new o(this.messageHandler,n)}else{s=n}}else if(n!==undefined){if(this.levelOperator===r.BooleFilterOperators.AND){s.addAnd(n)}else{s.addOr(n)}}}if(s){return new o(this.messageHandler,s)}};o.prototype.removeTerms=function(t,i,s){var n;if(this.leftExpr===undefined){return this.copy()}var a=this.leftExpr.removeTerms(t,i,s);var l;if(a instanceof e){a=new o(this.messageHandler,a.getProperty(),a.getOp(),a.getValue(),a.getHighValue())}if(this.levelOperator===undefined){return a}for(n=0;n<this.restExpr.length;n++){l=this.restExpr[n].removeTerms(t,i,s);if(a===undefined){if(l instanceof e){a=new o(this.messageHandler,l)}else{a=l}}else if(l!==undefined){if(this.levelOperator===r.BooleFilterOperators.AND){a.addAnd(l)}else{a.addOr(l)}}}return a};o.prototype.addOr=function(t,i,s,n){var a;if(t instanceof o||t instanceof e){a=t}else if(t!==undefined&&i!==undefined&&s!==undefined){a=new e(this.messageHandler,t,i,s,n)}else{this.messageHandler.check(false,"sap.apf.core.utils.Filter.addOr: wrong arguments in construction of  Filter")}if(this.leftExpr===undefined){this.leftExpr=a;return this}if(this.levelOperator===undefined){this.levelOperator=r.BooleFilterOperators.OR}this.restExpr.push(a);this.messageHandler.check(this.levelOperator===r.BooleFilterOperators.OR,"sap.apf.core.utils.Filter - addOr wrong operation");return this};o.prototype.addAnd=function(t,i,s,n){var a;if(t instanceof o||t instanceof e){a=t}else if(t!==undefined&&i!==undefined&&s!==undefined){a=new e(this.messageHandler,t,i,s,n)}else{this.messageHandler.check(false,"sap.apf.core.utils.Filter.addAnd: wrong arguments in construction of  Filter")}if(this.leftExpr===undefined){this.leftExpr=a;return this}if(this.levelOperator===undefined){this.levelOperator=r.BooleFilterOperators.AND}this.messageHandler.check(this.levelOperator===r.BooleFilterOperators.AND,"sap.apf.core.utils.Filter - addAnd wrong operation");this.restExpr.push(a);return this};o.prototype.toUrlParam=function(e){var t="";if(this.leftExpr===undefined){return""}t=this.leftExpr.toUrlParam(e);var i=0;var o=this.restExpr.length;var a="";if(o===0){return t}if(this.levelOperator===r.BooleFilterOperators.AND){a=s}else{a=n}var l="";for(i=0;i<o;i++){l=this.restExpr[i].toUrlParam(e);if(t===""){t=l}else if(l!==""){t=t+a+l}}if(t===""){return""}return"("+t+")"};o.prototype.mapToSapUI5FilterExpression=function(){var e,i,s=[];if(this.leftExpr===undefined){return new t({filters:[],and:undefined})}if(this.restExpr.length===0){return this.leftExpr.mapToSapUI5FilterExpression()}if(!(this.leftExpr.type==="internalFilter"&&this.leftExpr.isEmpty())){s.push(this.leftExpr.mapToSapUI5FilterExpression())}for(e=0;e<this.restExpr.length;e++){if(!(this.restExpr[e].type==="internalFilter"&&this.restExpr[e].isEmpty())){s.push(this.restExpr[e].mapToSapUI5FilterExpression())}}i={aFilters:s,bAnd:this.levelOperator===r.BooleFilterOperators.AND};var n=new t({filters:i.aFilters,and:i.bAnd});n.bAnd=i.bAnd;return n};o.prototype.overwriteWith=function(e){var r=e.getProperties();var t;if(r.length!==0){t=this.removeTermsByProperty(r);if(t===undefined){return e.copy()}t.addAnd(e);return t}return this.copy()};o.prototype.restrictToProperties=function(e){var r=t(this.getProperties(),e);return this.copy().removeTermsByProperty(r)||new o(this.messageHandler);function t(e,r){var t;var i=[];var s={};var n=e?e.length:0;var o=r?r.length:0;for(t=0;t<o;t++){s[r[t]]=undefined}for(t=0;t<n;t++){if(!(e[t]in s)){i.push(e[t])}}return i}};o.prototype.isFilterTerm=function(){if(this.restExpr.length>0){return false}if(!this.leftExpr){return false}if(this.leftExpr instanceof e){return true}return this.leftExpr.isFilterTerm()};o.prototype.getSingleValueTerms=function(){var e=[];var t=this;var i=this.getProperties();i.forEach(function(i){var s=t.getFilterTermsForProperty(i);if(s.length===1&&s[0].getOp()===r.FilterOperators.EQ){e.push({property:s[0].getProperty(),value:s[0].getValue()})}});return e};o.prototype.traverse=function(t){if(!this.leftExpr){return t.processEmptyFilter()}if(this.leftExpr&&this.restExpr.length===0){if(this.leftExpr instanceof e){return t.processTerm(this.leftExpr)}return this.leftExpr.traverse(t)}if(this.levelOperator===r.BooleFilterOperators.AND){return t.processAnd(this.leftExpr,this.restExpr,this)}if(this.levelOperator===r.BooleFilterOperators.OR){return t.processOr(this.leftExpr,this.restExpr,this)}this.messageHandler.check(false,"undefined case in traverse()");return false};o.prototype.isDisjunctionOverEqualities=function(){var e=true;if(this.levelOperator===r.BooleFilterOperators.AND){return false}if(this.getProperties().length>1){return false}if(this.leftExpr instanceof o){if(this.leftExpr.getFilterTerms().length>1&&!this.leftExpr.isOr()){return false}}this.getFilterTerms().forEach(function(t){if(t.getOp()!==r.FilterOperators.EQ){e=false}});this.restExpr.forEach(function(r){if(r instanceof o){if(r.getFilterTerms().length>1){e=false}}});return e};o.prototype.mapToSelectOptions=function(e){var r=jQuery.Deferred();var t;var i=this;e(s);function s(e){t=e;var s=new n;s.process(i);r.resolve(s.getSelectionVariant())}function n(){var e={};e.SelectOptions=[];e.Parameters=[];function r(r){var t;e.SelectOptions.forEach(function(e){if(e.PropertyName===r){t=e}});if(!t){t={PropertyName:r,Ranges:[]};e.SelectOptions.push(t)}return t.Ranges}function i(e){var t,i;var s=r(e.getProperty());if(e.getHighValue()!==undefined&&e.getHighValue()!==null){s.push({Sign:"I",Option:e.getOp(),Low:e.getValue(),High:e.getHighValue()})}else{t=e.getOp();i=e.getValue();if(t==="StartsWith"){t="CP";i=i+"*"}else if(t==="EndsWith"){t="CP";i="*"+i}else if(t==="Contains"){t="CP";i="*"+i+"*"}s.push({Sign:"I",Option:t,Low:i})}}function s(r){e.Parameters.push({PropertyName:r.getProperty(),PropertyValue:r.getValue()})}this.getSelectionVariant=function(){if(e.SelectOptions.length>0||e.Parameters.length>0){return e}return{}};this.processEmptyFilter=function(){return};this.processTerm=function(e){if(jQuery.inArray(e.getProperty(),t)===-1){i(e)}else{s(e)}};this.processAnd=function(e,r){this.process(e);r.forEach(function(e){this.process(e)}.bind(this))};this.processOr=function(e,r){this.process(e);r.forEach(function(e){this.process(e)}.bind(this))};this.process=function(e){e.traverse(this)}}return r.promise()};o.createFromArray=function(e,t,i,s){var n=t.length;var a;var l;var f;var p;var h;var u;e.check(t instanceof Array&&t.length>0,"sap.apf.core.utils.Filter.createFromArray incorrect argument aProperties");e.check(i instanceof Array,"sap.apf.core.utils.Filter.createFromArray incorrect argument aData");if(s.length>0){for(a=0;a<s.length;++a){h=undefined;l=s[a];if(!i[l]){continue}for(f=0;f<n;f++){u=new o(e,t[f],r.FilterOperators.EQ,i[l][t[f]]);if(h===undefined){h=new o(e,u)}else{h.addAnd(u)}}if(p===undefined){p=new o(e,h)}else{p.addOr(h)}}return p}return new o(e)};o.createEmptyFilter=function(e,t){e.check(Array.isArray(t)&&t.length>0,"sap.apf.core.utils.Filter.createEmptyFilter - array with property names expected");return new o(e,t[0],r.FilterOperators.EQ,"").addAnd(t[0],r.FilterOperators.NE,"")};o.transformUI5FilterToInternal=function(e,r){return t(r,r.bAnd);function t(r,i){var s=new o(e);var n;if(r.aFilters){r.aFilters.forEach(function(e){if(e.aFilters){n=t(e,e.bAnd);if(i){s.addAnd(n)}else{s.addOr(n)}}else if(e.sPath){if(i){s.addAnd(e.sPath,e.sOperator,e.oValue1,e.oValue2)}else{s.addOr(e.sPath,e.sOperator,e.oValue1,e.oValue2)}}})}else{s=new o(e,r.sPath,r.sOperator,r.oValue1,r.oValue2)}return s}};sap.apf.core.utils.Filter=o;return o},true);
/*
 * Copyright(c) 2015 SAP SE
 */
sap.ui.predefine("sap/apf/core/utils/filterSimplify", ["sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/apf/core/messageHandler"],function(r,t,e,i){"use strict";var s={};s.FilterReduction=function(){var i=this;var n=false;this.transformFilter=function(e){var i=[];var n;var o;if(e){e.forEach(function(e){if(e instanceof t){i.push({property:e.getProperty(),values:[e.getValue()]})}else if(e instanceof r){n=e.getProperties();o=new s.CollectPropertiesAndValuesVisitor;o.process(e);i.push({property:n[0],values:o.getValues()})}})}return i};this.intersection=function(r,t){var e={};var i=r.values;var s=t.values;var n=[];var o={};var u,c=i.length;var a,f=s.length;for(u=0;u<c;u++){o[i[u]]=i[u]}for(a=0;a<f;a++){if(o[s[a]]!==undefined&&n.indexOf(s[a])<0){n.push(s[a])}}e.property=r.property;e.values=n;return e};function o(t){this.reducers=[];this.disjunctions=[];this.processTerm=function(i){var s=new r(t,i);if(i.getOp()===e.FilterOperators.EQ){this.disjunctions.push(s)}else{this.reducers.push(s)}};this.processOr=function(r,t,e){var i=new s.CollectPropertiesAndValuesVisitor;i.process(e);if(i.isWellFormed()){this.disjunctions.push(e)}else{this.reducers.push(e)}};this.processAnd=function(r,e,s){var n=i.filterSeparation(s,t);this.disjunctions=this.disjunctions.concat(n.disjunctions);this.reducers=this.reducers.concat(n.reducers)};this.processEmptyFilter=function(){};this.process=function(r){r.traverse(this)}}this.filterSeparation=function(r,t){var e=new s.CollectChildrenOfAndNodeVisitor;var i=e.process(r);var n;if(!i){return{reducers:[],disjunctions:[]}}n=new o(t);i.forEach(function(r){r.traverse(n)});return{reducers:n.reducers,disjunctions:n.disjunctions}};this.simplifyTransforms=function(r){var t=[];var e;var s=[];var n=r.length;var o;r.forEach(function(u,c){var a;o=u.property;if(s.indexOf(o)===-1){s.push(o);e=u;for(a=c+1;a<n;++a){if(o===r[a].property){e=i.intersection(e,r[a])}}t.push(e)}});return t};this.applyStartFilter=function(r,t){var e=[];var i=r.getProperties();t.forEach(function(t){var s=[];var n;var o=t.values.length;var u;if(i.indexOf(t.property)>-1){for(n=0;n<o;n++){u=t.values[n];if(r.isConsistentWithFilter(t.property,u)){s.push(u)}}e.push({property:t.property,values:s})}else{e.push(t)}});return e};this.simplifyInStartFilter=function(r,t){var e=r;t.forEach(function(r){if(e){e=e.removeTermsByProperty(r.property)}});if(e.isEmpty()){return undefined}return e};this.containsContradiction=function(r,t){var e=false;t.forEach(function(r){if(r.values.length===0){e=true}});if(e){return e}return e};this.rebuildDisjunction=function(i,s){var n=new r(i);var o=s.property;var u=s.values;u.forEach(function(r){var s=new t(i,o,e.FilterOperators.EQ,r);n.addOr(s)});return n};this.reduceFilter=function(t,e){var s=this;function o(r){var e=[];r.forEach(function(r){e.push(i.rebuildDisjunction(t,r))});return e}function u(r,t){t.forEach(function(t){r.addAnd(t)})}function c(r,i){var n;var o=i;var u=[];var c;for(n=0;n<r.length;++n){o=s.applyStartFilter(r[n],i);if(s.containsContradiction(t,o)){return{contradiction:e}}c=s.simplifyInStartFilter(r[n],i);if(c){u.push(c)}}return{reducedTransforms:o,simplifiedReducers:u}}var a;var f;var p;var h;var l;var v;if(e.isFilterTerm()||e.isOr()||e.isEmpty()){return e}a=this.filterSeparation(e,t);f=a.disjunctions;p=this.transformFilter(f);h=this.simplifyTransforms(p);if(this.containsContradiction(t,h)){n=true;return e}v=c(a.reducers,h);if(v.contradiction){n=true;return v.contradiction}l=new r(t);u(l,v.simplifiedReducers);u(l,o(v.reducedTransforms));return l};this.isContradicted=function(){return n}};s.CollectPropertiesAndValuesVisitor=function(){var r=this;var i=[];var s=[];var n=true;var o=true;var u=0;var c=0;var a=0;var f=0;function p(r){var t,e=i.length;for(t=0;t<e;t++){if(i[t]===r){return}}i.push(r)}this.getProperties=function(){return i.slice(0)};this.getValues=function(){return s.slice(0)};this.isWellFormed=function(){return n&&o&&i.length<=1};this.isEmptyFilter=function(){return u===0&&c===0&&a>0&&f===0};this.processEmptyFilter=function(){a++};this.processAnd=function(r,t){u++;o=false;this.process(r);this.processAndArray(t)};this.processAndArray=function(t){t.forEach(function(t){r.process(t)})};this.processOr=function(r,t){c++;this.process(r);this.processOrArray(t)};this.processOrArray=function(t){t.forEach(function(t){r.process(t)})};this.processTerm=function(r){f++;var t=r.getProperty();p(t);switch(r.getOp()){case e.FilterOperators.EQ:s.push(r.getValue());return;default:n=false;return}};this.process=function(r){if(r instanceof t){this.processTerm(r)}else{r.traverse(this)}}};s.CollectChildrenOfAndNodeVisitor=function(){this.processEmptyFilter=function(){return null};this.processTerm=function(r){return[r]};this.processAnd=function(r,t){var e=[];e.push(r);t.forEach(function(r){e.push(r)});return e};this.processOr=function(){return null};this.process=function(r){if(r instanceof t){this.processTerm(r)}else{return r.traverse(this)}}};sap.apf.core.utils.FilterReduction=s.FilterReduction;return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/filterTerm", ["sap/apf/core/constants","sap/apf/utils/utils","sap/ui/model/Filter","sap/base/security/encodeURL"],function(e,t,r,a){"use strict";var i=function(t,r,a,i,s){this.type="filterTerm";this.propertyName=r;this.operator=a;this.value=i;this.highValue=s;this.messageHandler=t;if(this.operator.length==2){this.operator=this.operator.toUpperCase()}t.check(this.operator!==undefined,"sap.apf.utils.FilterTerm.constructor operator undefined");t.check(jQuery.inArray(this.operator,e.aSelectOpt)>-1,"sap.apf.core.utils.FilterTerm operator "+this.operator+" not supported");t.check(this.propertyName!==undefined,"sap.apf.utils.core.FilterTerm propertyName undefined");t.check(this.value!==undefined,"sap.apf.utils.FilterTerm value undefined")};i.prototype.isConsistentWithFilter=function(t,r){var a;var i;if(t!==this.propertyName){return true}if(this.operator===e.FilterOperators.EQ){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()===r.valueOf()}return this.value===r}else if(this.operator===e.FilterOperators.LT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()>r.valueOf()}return this.value>r}else if(this.operator===e.FilterOperators.LE){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()>=r.valueOf()}return this.value>=r}else if(this.operator===e.FilterOperators.GT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<r.valueOf()}return this.value<r}else if(this.operator===e.FilterOperators.BT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<=r.valueOf()&&r.valueOf()<=this.highValue.valueOf()}return this.value<=r&&r<=this.highValue}else if(this.operator===e.FilterOperators.GE){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<=r.valueOf()}return this.value<=r}else if(this.operator===e.FilterOperators.NE){if(this.value instanceof Date&&r instanceof Date){return!(this.value.valueOf()===r.valueOf())}return!(this.value===r)}else if(this.operator===e.FilterOperators.StartsWith){if(this.value.length>r.length){return false}a=r.slice(0,this.value.length);return a===this.value}else if(this.operator===e.FilterOperators.EndsWith){if(this.value.length>r.length){return false}a=r.slice(-this.value.length);return a===this.value}else if(this.operator===e.FilterOperators.Contains){i=r.indexOf(this.value);return i>-1}};i.prototype.toUrlParam=function(r){var i="'";var s=" ";var o="";var h,p;if(r&&r.formatValue){h=r.formatValue(this.propertyName,this.value);if(this.highValue){p=r.formatValue(this.propertyName,this.highValue)}}else{if(typeof this.value==="number"){h=this.value}else{h=i+t.escapeOdata(this.value)+i}if(this.highValue){if(typeof this.value==="number"){p=this.highValue}else{p=i+t.escapeOdata(this.highValue)+i}}}if(this.operator===e.FilterOperators.StartsWith){o="startswith("+t.escapeOdata(this.propertyName)+","+h+")";o=a(o)}else if(this.operator===e.FilterOperators.EndsWith){o="endswith("+t.escapeOdata(this.propertyName)+","+h+")";o=a(o)}else if(this.operator===e.FilterOperators.Contains){o="substringof("+h+","+t.escapeOdata(this.propertyName)+")";o=a(o)}else if(this.operator===e.FilterOperators.BT){o="(("+a(t.escapeOdata(this.propertyName)+s+"ge"+s+h)+")"+a(s+"and"+s)+"("+a(t.escapeOdata(this.propertyName)+s+"le"+s+p)+"))"}else{o="("+a(t.escapeOdata(this.propertyName)+s+this.operator.toLowerCase()+s+h)+")"}return o};i.prototype.getProperty=function(){return this.propertyName};i.prototype.getOp=function(){return this.operator};i.prototype.getValue=function(){return this.value};i.prototype.getHighValue=function(){return this.highValue};i.prototype.getHash=function(){var e=this.propertyName+this.operator+this.value;if(this.highValue){e+=this.highValue}return t.hashCode(e)};i.prototype.copy=function(){return new i(this.messageHandler,this.propertyName,this.operator,this.value,this.highValue)};i.prototype.removeTermsByProperty=function(e){return this.internalRemoveTermsByProperty(e)};i.prototype.internalRemoveTermsByProperty=function(e){var t=0;var r=0;if(e instanceof Array){r=e.length;for(t=0;t<r;t++){if(this.propertyName===e[t]){return undefined}}return this.copy()}if(this.propertyName===e){return undefined}return this.copy()};i.prototype.removeTerms=function(e,t,r){var a=0;var i=0;if(e instanceof Array){i=e.length;for(a=0;a<i;a++){if(this.propertyName===e[a]&&this.operator===t&&this.value===r){return undefined}}return this.copy()}if(this.propertyName===e&&this.operator===t&&this.value===r){return undefined}return this.copy()};i.prototype.mapToSapUI5FilterExpression=function(){if(this.operator===e.FilterOperators.BT){return new r({path:this.propertyName,operator:this.operator,value1:this.value,value2:this.highValue})}return new r({path:this.propertyName,operator:this.operator,value1:this.value})};i.prototype.traverse=function(e){return e.processTerm(this)};sap.apf.core.utils.FilterTerm=i;return i},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/uriGenerator", ["sap/apf/core/messageObject","sap/apf/utils/utils","sap/base/security/encodeURL","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";var a={};a.getAbsolutePath=function(e){if(e.slice(-1)==="/"){return e}return e+"/"};a.getODataPath=function(e){var t=e.split("/");var r;var a=[];for(r=0;r<t.length;r++){if(t[r]!==""){a.push(t[r])}}var n="";var i=a.length-1;for(r=0;r<i;r++){n=n+"/"+a[r]}return n+"/"};a.addRelativeToAbsoluteURL=function(e,t){var r=e.split("/");var a=t.split("/");a.forEach(function(e){if(e===".."){r.pop()}else if(e!="."){r.push(e)}});return r.join("/")};a.getBaseURLOfComponent=function(e){var t=e.split(".");t.pop();var r=t.join("/");return sap.ui.require.toUrl(r)};a.getApfLocation=function(){return sap.ui.require.toUrl("sap/apf/")};a.generateOdataPath=function(e,a,n,i,s){var f=l(a,i);var u=n;var o=false;var p;for(p in f){if(!o){u+="(";o=true}else{u+=","}u+=p.toString()+"="+f[p]}if(o){u+=")/"}u+=s||"";return u;function l(){var s={};var f;var u;var o;var p;var l;f=a.getParameterEntitySetKeyProperties(n);if(f!==undefined){u=f.length}else{u=0}if(u>0){for(p=0;p<u;p++){if(i&&i instanceof sap.apf.core.utils.Filter){o=i.getFilterTermsForProperty(f[p].name);l=o[o.length-1]}if(l instanceof sap.apf.core.utils.FilterTerm){c(p,l.getValue())}else if(f[p].defaultValue){c(p,f[p].defaultValue)}else if(f[p].parameter!=="optional"){e.putMessage(e.createMessageObject({code:"5016",aParameters:[f[p].name]}))}}}return s;function c(e,a){var n;if(f[e].dataType.type==="Edm.String"){n=t.formatValue(a,f[e]);s[f[e].name]=r(n)}else if(f[e].dataType.type){n=t.formatValue(a,f[e]);if(typeof n==="string"){s[f[e].name]=r(n)}else{s[f[e].name]=n}}else if(typeof a==="string"){s[f[e].name]=r(t.escapeOdata(a))}else{s[f[e].name]=a}}}};a.getSelectString=function(e){var a="";e.forEach(function(n,i){a+=r(t.escapeOdata(n));if(i<e.length-1){a+=","}});return a};a.buildUri=function(e,t,n,i,s,f,u,o,p,l,c){var g="";g+=a.generateOdataPath(e,c,t,s,l);g=g+"?";g+=v(n);g+=d(i,p);g+=m(f,n);g+=y(u);g+=h(o);return g;function v(e){if(!e[0]){return""}var t="$select=";t+=a.getSelectString(e);return t}function d(e,t){if(!(e&&e instanceof sap.apf.core.utils.Filter)||e.isEmpty()){return""}var r=e.toUrlParam({formatValue:t});if(r===""||r==="()"){return""}return"&$filter="+r}function m(a,n){var i="";var s="";var f;if(!a){return""}switch(true){case Array.isArray(a):for(f=0;f<a.length;f++){s=u(a[f],n);if(i.length>0&&s.length>0){i+=","}i+=s}break;case jQuery.isPlainObject(a):i+=u(a,n);break;case typeof a==="string":i+=u({property:a},n);break;default:i="";break}if(i.length>0){return"&$orderby="+i}return"";function u(a,n){var i="";if(jQuery.inArray(a.property,n)>-1){i+=a.property;if(a.ascending===false){i+=" desc"}else{i+=" asc"}}else{e.putMessage(e.createMessageObject({code:"5019",aParameters:[t,a.property]}))}return r(i)}}function y(r){function a(r){var a,n;a=Object.getOwnPropertyNames(r);for(n=0;n<a.length;n++){if(a[n]!=="top"&&a[n]!=="skip"&&a[n]!=="inlineCount"){e.putMessage(e.createMessageObject({code:"5032",aParameters:[t,a[n]]}))}}}var n="";if(!r){return n}a(r);if(r.top){n+="&$top="+r.top}if(r.skip){n+="&$skip="+r.skip}if(r.inlineCount===true){n+="&$inlinecount=allpages"}return n}function h(e){if(!e){e="json"}return"&$format="+e}};return a},true);
sap.ui.predefine("sap/apf/demokit/configuration/demokit", [],function(){"use strict";return{analyticalConfigurationName:"APF Standard Demo",applicationTitle:{type:"label",kind:"text",key:"57FCA4E2C3D350DEE10000000A442AF5"},steps:[{type:"step",description:"Revenue by Customer",request:"request-for-Step-4",binding:"binding-for-Step-4",id:"Step-4",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer and Month",request:"request-for-Step-5",binding:"binding-for-Step-5",id:"Step-5",title:{type:"label",kind:"text",key:"57FCA590C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer over Time",request:"request-for-Step-6",binding:"binding-for-Step-6",id:"Step-6",title:{type:"label",kind:"text",key:"57FCA52FC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Discount - Detailed",request:"request-for-Step-7",binding:"binding-for-Step-7",id:"Step-7",title:{type:"label",kind:"text",key:"57FCA621C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Detailed Data",request:"request-for-Step-9",binding:"binding-for-Step-9",id:"Step-9",title:{type:"label",kind:"text",key:"57FCA5F7C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Month",request:"request-for-Step-10",binding:"binding-for-Step-10",id:"Step-10",title:{type:"label",kind:"text",key:"15102377857028838103150312430278"},navigationTargets:[]},{type:"step",description:"Revenue and Shipping Costs - Detailed",request:"request-for-Step-13",binding:"binding-for-Step-13",id:"Step-13",title:{type:"label",kind:"text",key:"57FCA68AC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs - Detailed",request:"request-for-Step-14",binding:"binding-for-Step-14",id:"Step-14",title:{type:"label",kind:"text",key:"57FCA696C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-16",binding:"binding-for-Step-16",id:"Step-16",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue over Time",request:"request-for-Step-17",binding:"binding-for-Step-17",id:"Step-17",title:{type:"label",kind:"text",key:"57FCA37CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country",request:"request-for-Step-18",binding:"binding-for-Step-18",id:"Step-18",title:{type:"label",kind:"text",key:"582CF190286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Country",request:"request-for-Step-19",binding:"binding-for-Step-19",id:"Step-19",title:{type:"label",kind:"text",key:"582CF1AA286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Shipping Costs by Country",request:"request-for-Step-20",binding:"binding-for-Step-20",id:"Step-20",title:{type:"label",kind:"text",key:"582CF1B7286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Country",request:"request-for-Step-21",binding:"binding-for-Step-21",id:"Step-21",title:{type:"label",kind:"text",key:"15102377963651508758254158996844"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs by Customer",request:"request-for-Step-22",binding:"binding-for-Step-22",id:"Step-22",title:{type:"label",kind:"text",key:"582CF1F5286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Discount by Customer and Month",request:"request-for-Step-23",binding:"binding-for-Step-23",id:"Step-23",title:{type:"label",kind:"text",key:"582CF243286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-26",binding:"binding-for-Step-26",id:"Step-26",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Customer",request:"request-for-Step-29",binding:"binding-for-Step-29",id:"Step-29",title:{type:"label",kind:"text",key:"15102370883951657475286461234693"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}}],requests:[{type:"request",id:"request-for-Step-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Currency"]},{type:"request",id:"request-for-Step-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName"]},{type:"request",id:"request-for-Step-6",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency","Customer","CustomerName","CustomerGroupName","CustomerGroup"]},{type:"request",id:"request-for-Step-7",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Revenue","Currency","CompanyCode","Product","Discount"]},{type:"request",id:"request-for-Step-9",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Product","ProductName","Country","CountryName","CustomerGroup","CustomerGroupName","CompanyCode","CompanyCodeName","Currency","CurrencyName","YearMonth","Revenue","ShippingCosts","Discount","Date","Month","Year"]},{type:"request",id:"request-for-Step-10",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["YearMonth","Currency","Revenue","ShippingCosts","Discount","Year","Month"]},{type:"request",id:"request-for-Step-13",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","Revenue","ShippingCosts"]},{type:"request",id:"request-for-Step-14",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","ShippingCosts","Discount"]},{type:"request",id:"request-for-Step-16",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-17",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency"]},{type:"request",id:"request-for-Step-18",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Currency","Country","CountryName"]},{type:"request",id:"request-for-Step-19",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-20",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts"]},{type:"request",id:"request-for-Step-21",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts","Discount","Revenue"]},{type:"request",id:"request-for-Step-22",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount","ShippingCosts","CustomerGroup","CustomerGroupName"]},{type:"request",id:"request-for-Step-23",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-26",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-29",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-3",service:"/tmp/demokit/demokit.xsodata",entitySet:"Country",selectProperties:["Country","CountryName"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"CustomerGroup",selectProperties:["CustomerGroup","CustomerGroupName"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName"]}],bindings:[{type:"binding",id:"binding-for-Step-4",stepDescription:"Revenue by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-4-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]}},{id:"Step-4-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-4-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:true}]}},{id:"Step-4-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-5",stepDescription:"Revenue by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-5-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-6",stepDescription:"Revenue by Customer over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-6-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-7",stepDescription:"Revenue and Discount - Detailed",requiredFilters:[],representations:[{id:"Step-7-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-9",stepDescription:"Detailed Data",requiredFilters:[],representations:[{id:"Step-9-Representation-1",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CompanyCode",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"}},{fieldName:"CompanyCodeName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654653622077363120109737296"}},{fieldName:"Country",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"}},{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Product",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"}},{fieldName:"ProductName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654973841803358061607117468"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Date",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"CurrencyName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655205561312561637116321044"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CompanyCode",ascending:true},{property:"Country",ascending:true},{property:"CustomerGroup",ascending:true},{property:"Customer",ascending:"true"},{property:"Product",ascending:true},{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"15102377426421018326751208039995"}}}]},{type:"binding",id:"binding-for-Step-10",stepDescription:"Revenue, Discount, and Shipping Costs by Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-10-Representation-1",representationTypeId:"LineChartWithTwoVerticalAxes",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"00000000000000000000000000000000"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-2",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-13",stepDescription:"Revenue and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-13-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-14",stepDescription:"Discount and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-14-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-16",stepDescription:"Revenue by Country and Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-16-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-3",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-4",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-17",stepDescription:"Revenue over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-17-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-18",stepDescription:"Revenue by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-18-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-19",stepDescription:"Discount by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-19-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-20",stepDescription:"Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-20-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-21",stepDescription:"Revenue, Discount, and Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-21-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-21-Representation-2",representationTypeId:"BubbleChart",parameter:{dimensions:[{fieldName:"Country",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Revenue",kind:"bubbleWidth",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},leftLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-22",stepDescription:"Discount and Shipping Costs by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-22-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"CustomerGroup",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-5",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-23",stepDescription:"Discount by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-23-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-26",stepDescription:"Revenue by Country and Month",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text"},representations:[{id:"Step-26-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true},{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-4",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"xAxis2",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-29",stepDescription:"Discount by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-29-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-9",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-26"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-17"},{type:"step",id:"Step-19"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"},{type:"step",id:"Step-20"},{type:"step",id:"Step-7"},{type:"step",id:"Step-22"},{type:"step",id:"Step-21"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-10"},{type:"step",id:"Step-9"}]},{type:"category",description:"Time",id:"Category-3",label:{type:"label",kind:"text",key:"57FCA587C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-17"},{type:"step",id:"Step-16"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"}]},{type:"category",description:"Country",id:"Category-5",label:{type:"label",kind:"text",key:"582CF189286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"},{type:"step",id:"Step-26"}]},{type:"category",description:"Customer",id:"Category-2",label:{type:"label",kind:"text",key:"57FCA50FC3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-22"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"}]},{type:"category",description:"Revenue",id:"Category-6",label:{type:"label",kind:"text",key:"582CF257286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-17"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-10"},{type:"step",id:"Step-21"}]},{type:"category",description:"Discount",id:"Category-7",label:{type:"label",kind:"text",key:"582CF25B286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-19"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"},{type:"step",id:"Step-22"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Shipping Costs",id:"Category-8",label:{type:"label",kind:"text",key:"582CF25F286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-20"},{type:"step",id:"Step-22"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Detailed Data",id:"Category-4",label:{type:"label",kind:"text",key:"57FCA5E9C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-9"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"}]}],navigationTargets:[{type:"navigationTarget",id:"NavigationTarget-1",semanticObject:"FioriApplication",action:"executeAPFConfiguration",isStepSpecific:false,useDynamicParameters:true,parameters:[{key:"sap-apf-configuration-id",value:"57FCA36EC3D350DEE10000000A442AF4"}],title:{key:"15181818661221038491819157748774",type:"label",kind:"text"}}],facetFilters:[{type:"facetFilter",description:"Currency",id:"FacetFilter-1",property:"P_Currency",multiSelection:"false",preselectionDefaults:[],valueList:["USD","EUR"],label:{type:"label",kind:"text",key:"57FCA395C3D350DEE10000000A442AF5"},invisible:false,hasAutomaticSelection:"true",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Company Code",id:"FacetFilter-2",property:"CompanyCode",multiSelection:"true",preselectionDefaults:["CA01","CH01","DE01","IN01","US01"],label:{type:"label",kind:"text",key:"57FCA4EBC3D350DEE10000000A442AF5"},invisible:true,hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Country",id:"FacetFilter-3",property:"Country",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4F1C3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-3",valueHelpRequest:"FilterResolution-request-for-FacetFilter-3",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"},{type:"facetFilter",description:"Customer Group",id:"FacetFilter-4",property:"CustomerGroup",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4F5C3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-4",valueHelpRequest:"FilterResolution-request-for-FacetFilter-4",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"},{type:"facetFilter",description:"Customer",id:"FacetFilter-5",property:"Customer",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4FBC3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-5",valueHelpRequest:"FilterResolution-request-for-FacetFilter-5",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"}],configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF4",AnalyticalConfigurationName:"APF Standard Demo",UI5Version:"1.55.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
sap.ui.predefine("sap/apf/demokit/configuration/demokitHierarchy", [],function(){"use strict";return{analyticalConfigurationName:"APF Hierarchy Demo",applicationTitle:{type:"label",kind:"text",key:"14822380843323382109646873064048"},steps:[{type:"step",description:"Revenue by Country (with Hierarchy Service)",request:"request-for-Step-2",binding:"binding-for-Step-2",id:"Step-2",title:{type:"label",kind:"text",key:"14822374389411352084979829313687"},navigationTargets:[]},{type:"step",description:"Revenue by Country (with normal Service)",request:"request-for-Step-3",binding:"binding-for-Step-3",id:"Step-3",title:{type:"label",kind:"text",key:"14822374366121819634218359677717"},navigationTargets:[]},{type:"hierarchicalStep",description:"Revenue by Customer",request:"request-for-Step-1",binding:"binding-for-Step-1",id:"Step-1",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],hierarchyProperty:"Customer"}],requests:[{type:"request",id:"request-for-Step-2",service:"/tmp/demokit/hierarchy.xsodata",entitySet:"RevenueHryQuery",selectProperties:["Country","CountryName","Revenue","Currency"]},{type:"request",id:"request-for-Step-3",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Revenue","Currency"]},{type:"request",id:"request-for-Step-1",service:"/tmp/demokit/hierarchy.xsodata",entitySet:"RevenueHryQuery",selectProperties:["Currency","Customer_NodeText","Revenue"]},{type:"request",id:"ValueHelp-request-for-FacetFilter-2",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName"]}],bindings:[{type:"binding",id:"binding-for-Step-2",stepDescription:"Revenue by Country (with Hierarchy Service)",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-2-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}}}]},{type:"binding",id:"binding-for-Step-3",stepDescription:"Revenue by Country (with normal Service)",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-3-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}}}]},{type:"binding",id:"binding-for-Step-1",stepDescription:"Revenue by Customer",requiredFilters:["Customer_NodeID"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-1-Representation-1",representationTypeId:"TreeTableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],hierarchicalProperty:[{fieldName:"Customer",kind:"hierarchicalColumn",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],width:{}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-1",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-1"},{type:"step",id:"Step-2"},{type:"step",id:"Step-3"}]}],navigationTargets:[],facetFilters:[{type:"facetFilter",description:"Currency",id:"FacetFilter-1",property:"P_Currency",multiSelection:"false",preselectionDefaults:["USD"],valueList:["EUR","USD"],label:{type:"label",kind:"text",key:"57FCA395C3D350DEE10000000A442AF5"},invisible:false,hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Country",id:"FacetFilter-2",alias:"Country",property:"Country",multiSelection:"true",preselectionDefaults:[],label:{type:"label",kind:"text",key:"57FCA4F1C3D350DEE10000000A442AF5"},invisible:false,valueHelpRequest:"ValueHelp-request-for-FacetFilter-2",hasAutomaticSelection:"true",useSameRequestForValueHelpAndFilterResolution:"false"}],configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF6",AnalyticalConfigurationName:"APF Hierarchy Demo",UI5Version:"1.51.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
sap.ui.predefine("sap/apf/demokit/configuration/demokitSFB", [],function(){"use strict";return{analyticalConfigurationName:"APF Smart Filter Bar Demo",applicationTitle:{type:"label",kind:"text",key:"14858784650039751216561611030127"},steps:[{type:"step",description:"Revenue by Customer",request:"request-for-Step-4",binding:"binding-for-Step-4",id:"Step-4",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer and Month",request:"request-for-Step-5",binding:"binding-for-Step-5",id:"Step-5",title:{type:"label",kind:"text",key:"57FCA590C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer over Time",request:"request-for-Step-6",binding:"binding-for-Step-6",id:"Step-6",title:{type:"label",kind:"text",key:"57FCA52FC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Discount - Detailed",request:"request-for-Step-7",binding:"binding-for-Step-7",id:"Step-7",title:{type:"label",kind:"text",key:"57FCA621C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Detailed Data",request:"request-for-Step-9",binding:"binding-for-Step-9",id:"Step-9",title:{type:"label",kind:"text",key:"57FCA5F7C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Month",request:"request-for-Step-10",binding:"binding-for-Step-10",id:"Step-10",title:{type:"label",kind:"text",key:"57FCA63CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Shipping Costs - Detailed",request:"request-for-Step-13",binding:"binding-for-Step-13",id:"Step-13",title:{type:"label",kind:"text",key:"57FCA68AC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs - Detailed",request:"request-for-Step-14",binding:"binding-for-Step-14",id:"Step-14",title:{type:"label",kind:"text",key:"57FCA696C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-16",binding:"binding-for-Step-16",id:"Step-16",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue over Time",request:"request-for-Step-17",binding:"binding-for-Step-17",id:"Step-17",title:{type:"label",kind:"text",key:"57FCA37CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country",request:"request-for-Step-18",binding:"binding-for-Step-18",id:"Step-18",title:{type:"label",kind:"text",key:"582CF190286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Country",request:"request-for-Step-19",binding:"binding-for-Step-19",id:"Step-19",title:{type:"label",kind:"text",key:"582CF1AA286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Shipping Costs by Country",request:"request-for-Step-20",binding:"binding-for-Step-20",id:"Step-20",title:{type:"label",kind:"text",key:"582CF1B7286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Country",request:"request-for-Step-21",binding:"binding-for-Step-21",id:"Step-21",title:{type:"label",kind:"text",key:"582CF1C1286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs by Customer",request:"request-for-Step-22",binding:"binding-for-Step-22",id:"Step-22",title:{type:"label",kind:"text",key:"582CF1F5286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Discount by Customer and Month",request:"request-for-Step-23",binding:"binding-for-Step-23",id:"Step-23",title:{type:"label",kind:"text",key:"582CF243286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}],requests:[{type:"request",id:"request-for-Step-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Currency"]},{type:"request",id:"request-for-Step-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName"]},{type:"request",id:"request-for-Step-6",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency","Customer","CustomerName","CustomerGroupName","CustomerGroup"]},{type:"request",id:"request-for-Step-7",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Revenue","Currency","CompanyCode","Product","Discount"]},{type:"request",id:"request-for-Step-9",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Product","ProductName","Country","CountryName","CustomerGroup","CustomerGroupName","CompanyCode","CompanyCodeName","Currency","CurrencyName","YearMonth","Revenue","ShippingCosts","Discount","Date"]},{type:"request",id:"request-for-Step-10",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["YearMonth","Currency","Revenue","ShippingCosts","Discount","Year","Month"]},{type:"request",id:"request-for-Step-13",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","Revenue","ShippingCosts"]},{type:"request",id:"request-for-Step-14",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","ShippingCosts","Discount"]},{type:"request",id:"request-for-Step-16",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-17",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency"]},{type:"request",id:"request-for-Step-18",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Currency","Country","CountryName"]},{type:"request",id:"request-for-Step-19",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-20",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts"]},{type:"request",id:"request-for-Step-21",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts","Discount","Revenue"]},{type:"request",id:"request-for-Step-22",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount","ShippingCosts","CustomerGroup","CustomerGroupName"]},{type:"request",id:"request-for-Step-23",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName","Discount"]}],bindings:[{type:"binding",id:"binding-for-Step-4",stepDescription:"Revenue by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-4-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]}},{id:"Step-4-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-4-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:true}]}},{id:"Step-4-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-5",stepDescription:"Revenue by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-5-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-8",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"Revenue",ascending:false}]}}]},{type:"binding",id:"binding-for-Step-6",stepDescription:"Revenue by Customer over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-6-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-7",stepDescription:"Revenue and Discount - Detailed",requiredFilters:[],representations:[{id:"Step-7-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-9",stepDescription:"Detailed Data",requiredFilters:[],representations:[{id:"Step-9-Representation-1",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CompanyCode",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"}},{fieldName:"CompanyCodeName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654653622077363120109737296"}},{fieldName:"Country",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"}},{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Product",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"}},{fieldName:"ProductName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654973841803358061607117468"}},{fieldName:"YearMonth",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655078505897926830178603327"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"CurrencyName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655205561312561637116321044"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CompanyCode",ascending:true},{property:"Country",ascending:true},{property:"CustomerGroup",ascending:true},{property:"Customer",ascending:"true"},{property:"Product",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-10",stepDescription:"Revenue, Discount, and Shipping Costs by Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-10-Representation-1",representationTypeId:"LineChartWithTwoVerticalAxes",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-2",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-13",stepDescription:"Revenue and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-13-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-14",stepDescription:"Discount and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-14-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-16",stepDescription:"Revenue by Country and Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-16-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-3",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-17",stepDescription:"Revenue over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-17-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-18",stepDescription:"Revenue by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-18-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-19",stepDescription:"Discount by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-19-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-20",stepDescription:"Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-20-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-21",stepDescription:"Revenue, Discount, and Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-21-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-21-Representation-2",representationTypeId:"BubbleChart",parameter:{dimensions:[{fieldName:"Country",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Revenue",kind:"bubbleWidth",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},leftLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-22",stepDescription:"Discount and Shipping Costs by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-22-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"CustomerGroup",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-5",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-23",stepDescription:"Discount by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-23-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-8",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-9",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-5"},{type:"step",id:"Step-4"},{type:"step",id:"Step-6"},{type:"step",id:"Step-7"},{type:"step",id:"Step-9"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-16"},{type:"step",id:"Step-17"},{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"},{type:"step",id:"Step-22"},{type:"step",id:"Step-23"}]},{type:"category",description:"Time",id:"Category-3",label:{type:"label",kind:"text",key:"57FCA587C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-17"},{type:"step",id:"Step-10"},{type:"step",id:"Step-16"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-23"}]},{type:"category",description:"Country",id:"Category-5",label:{type:"label",kind:"text",key:"582CF189286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"}]},{type:"category",description:"Customer",id:"Category-2",label:{type:"label",kind:"text",key:"57FCA50FC3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-22"},{type:"step",id:"Step-23"}]},{type:"category",description:"Revenue",id:"Category-6",label:{type:"label",kind:"text",key:"582CF257286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-17"},{type:"step",id:"Step-10"},{type:"step",id:"Step-21"}]},{type:"category",description:"Discount",id:"Category-7",label:{type:"label",kind:"text",key:"582CF25B286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-19"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"},{type:"step",id:"Step-22"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Shipping Costs",id:"Category-8",label:{type:"label",kind:"text",key:"582CF25F286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-20"},{type:"step",id:"Step-22"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Detailed Data",id:"Category-4",label:{type:"label",kind:"text",key:"57FCA5E9C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-9"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"}]}],navigationTargets:[{type:"navigationTarget",id:"NavigationTarget-1",semanticObject:"FioriApplication",action:"executeAPFConfiguration",isStepSpecific:false,useDynamicParameters:true,parameters:[{key:"sap-apf-configuration-id",value:"57FCA36EC3D350DEE10000000A442AF7"}],title:{key:"15181892007378544392570341801336",type:"label",kind:"text"}}],smartFilterBar:{id:"SmartFilterBar-1",type:"smartFilterBar",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQueryResults"},configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF7",AnalyticalConfigurationName:"APF Smart Filter Bar Demo",UI5Version:"1.55.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5). (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/library", ["sap/ui/core/Core","sap/ui/core/library","sap/suite/ui/commons/library","sap/m/library","sap/ui/layout/library","sap/ushell/library","sap/viz/library","sap/ui/comp/library","sap/ui/export/library","sap/ui/table/library"],function(){return sap.ui.getCore().initLibrary({name:"sap.apf",dependencies:["sap.ui.core","sap.suite.ui.commons","sap.m","sap.ui.layout","sap.ushell","sap.viz","sap.ui.comp","sap.ui.export","sap.ui.table"],types:[],interfaces:[],controls:[],elements:[],noLibraryCSS:true,version:"1.115.0"})});
sap.ui.predefine("sap/apf/messageCallbackForStartup", ["sap/apf/core/constants","sap/base/security/encodeXML","sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Link","sap/m/Text","sap/m/VBox","sap/m/MessageBox","sap/ui/core/HTML","sap/ui/core/library"],function(e,t,s,n,a,o,i,r,u,p){"use strict";var c=a.DialogType,l=a.FlexAlignItems,g=p.ValueState;function f(a){function p(){window.history.go(-1)}function f(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function m(){var e=new n({title:"Error",type:c.Message,state:g.Error,content:new u({content:["<div><p> "+t(f(a))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new s({text:"Close",press:function(){e.close()}}),afterClose:function(){e.destroy()}});e.setInitialFocus(e);e.open()}var w=new n({title:"Error",type:c.Message,state:g.Error,content:[new i({text:a.getMessage()}),new r({alignItems:l.End,items:[new o({text:"Show Details",press:function(){m()}})]})],beginButton:new s({text:"Close",press:function(){if(a.getSeverity()===e.message.severity.fatal){p()}}}),afterClose:function(){w.destroy()}});w.setInitialFocus(w);w.open()}sap.apf.messageCallbackForStartup=f;return f},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/Component", ["sap/ui/core/UIComponent","sap/apf/modeler/core/instance","sap/m/routing/RouteMatchedHandler","sap/apf/modeler/ui/utils/APFRouter","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/APFTree","sap/apf/core/layeredRepositoryProxy","sap/apf/core/constants","sap/ui/core/mvc/ViewType","sap/ui/thirdparty/jquery","sap/ui/dom/includeStylesheet"],function(e,a,t,i,o,n,s,r,p,jQuery,c){"use strict";var u=e.extend("sap.apf.modeler.Component",{oCoreApi:null,metadata:{manifest:"json",library:"sap.apf"},init:function(){var a,t;var i;if(this.initHasAlreadyBeenCalled){return}this.initHasAlreadyBeenCalled=true;var o=jQuery.extend({},true,this.getMetadata().getManifest());var n=u.prototype.getMetadata().getManifest();if(o["sap.app"].crossNavigation&&o["sap.app"].crossNavigation.outbounds&&o["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime){i=o["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime}if(o["sap.app"].dataSources&&o["sap.app"].dataSources.AnalyticalConfigurationServiceRoot){a=o["sap.app"].dataSources.AnalyticalConfigurationServiceRoot.uri}else{a=sap.apf.core.constants.modelerPersistenceServiceRoot}var s={serviceRoot:a};var r=this.getInjections();r.instances=r.instances||{};r.instances.component=this;r.functions=r.functions||{};if(i){r.functions.getNavigationTargetForGenericRuntime=function(){return i}}else{r.functions.getNavigationTargetForGenericRuntime=function(){if(o["sap.app"]&&o["sap.app"].id==="fnd.apf.dts1"){return{semanticObject:"FioriApplication",action:"executeAPFConfigurationS4HANA"}}return{semanticObject:"FioriApplication",action:"executeAPFConfiguration"}}}if(o["sap.app"].dataSources&&o["sap.app"].dataSources.GatewayCatalogService){t=o["sap.app"].dataSources.GatewayCatalogService.uri}else if(n["sap.app"].dataSources&&n["sap.app"].dataSources.GatewayCatalogService){t=n["sap.app"].dataSources.GatewayCatalogService.uri}r.functions.getCatalogServiceUri=function(){return t};this.oCoreApi=new sap.apf.modeler.core.Instance(s,r);var l=this.oCoreApi.getUriGenerator().getApfLocation();c(l+"modeler/resources/css/configModeler.css","configModelerCss");e.prototype.init.apply(this,arguments);this.getRouter().initialize();var d=sap.ui.view({viewName:"sap.apf.modeler.ui.view.messageHandler",type:p.XML,viewData:this.oCoreApi});var f=d.getController().showMessage;this.oCoreApi.setCallbackForMessageHandling(f.bind(d.getController()))},createContent:function(){var e=sap.ui.view({viewName:"sap.apf.modeler.ui.view.applicationList",type:p.XML,viewData:this.oCoreApi});this.oCoreApi.getUriGenerator().getApfLocation();return e},getInjections:function(){return{instances:{},exits:{}}}});return u},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/applicationHandler", ["sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable"],function(t){"use strict";function i(t,i){var e=this;var n=t.instances.persistenceProxy;var a=t.instances.messageHandler;var c=t.constructors.Hashtable;var p;this.type="application";this.setAndSave=function(t,i,e,a){if(typeof t==="object"&&typeof i==="function"&&typeof e==="string"&&!a){var c=function(e,n){if(n){i(undefined,e,n)}else{p.setItem(t.Application,t);i(t.Application,e,n)}};if(!t.SemanticObject){t.SemanticObject=""}t.Application=e;n.update(this.type,t,c,[{name:"Application",value:e}])}else if(typeof t==="object"&&typeof i==="function"){var o=function(t,e,n){if(n){i(t,e,n)}else{p.setItem(t.Application,{Application:t.Application,ApplicationName:t.ApplicationName,SemanticObject:t.SemanticObject});i(t.Application,e,n)}};if(!t.SemanticObject){t.SemanticObject=""}if(a&&e){t.Application=e}else{t.Application=""}n.create(this.type,t,o)}};this.removeApplication=function(i,e){var a=function(n,a){if(!a){p.removeItem(i)}t.functions.resetConfigurationHandler(i);e(i,n,a)};n.remove(this.type,[{name:"Application",value:i}],a)};this.getList=function(){var t=[];var i=function(i,e){t.push(e)};p.forEachOrdered(i);t=t.sort(function(t,i){return t.ApplicationName.localeCompare(i.ApplicationName)});return t};this.getApplication=function(t){return p.getItem(t)};this.registerApplicationCreatedOnServer=function(t,i){var n=e.getList();var a=false;n.forEach(function(i){if(i.Application===t){a=true}});if(!a){p.setItem(t,{Application:t,ApplicationName:i,SemanticObject:""})}};function o(){p=new c(a);var t=function(t,n,a){if(t instanceof Array&&a===undefined){t.forEach(function(t){p.setItem(t.Application,{Application:t.Application,ApplicationName:t.ApplicationName,SemanticObject:t.SemanticObject})})}i(e,a)};n.readCollection(e.type,t)}o()}t("sap.apf.modeler.core.ApplicationHandler",i);return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/configurationEditor", ["sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";function r(e,r,n,i){var a=this;var o;var s;var f=r.instances.configurationHandler;var l=r.instances.persistenceProxy;var c=r.instances.messageHandler;var u=r.instances.metadataFactory;var g=true;var v,d,m,h,p,y;var E;var C=new r.constructors.ConfigurationObjects(r);var S=new r.constructors.ConfigurationFactory({instances:{messageHandler:c},constructors:{RegistryProbe:r.constructors.RegistryProbe}});if(!i){v=new r.constructors.ElementContainer("Step",r.constructors.Step,r);d=new r.constructors.ElementContainer("Category",undefined,r);m=new r.constructors.ElementContainer("FacetFilter",r.constructors.FacetFilter,r);h=new r.constructors.ElementContainer("NavigationTarget",r.constructors.NavigationTarget,r);p=new r.constructors.ElementContainer("CategoryStepAssignment",r.constructors.ElementContainer,r);y=[];o={smartFilterBar:true}}else{v=i.stepContainer;d=i.categoryContainer;E=i.smartFilterBar;m=i.facetFilterContainer;h=i.navigationTargetContainer;p=i.categoryStepAssignmentContainer;y=i.serviceList;s=i.applicationTitle;o=i.filterOption}this.registerServiceAsPromise=function(e){var t=jQuery.Deferred();var r;if(y.indexOf(e)===-1){r=u.getMetadata(e);r.done(function(){if(y.indexOf(e)===-1){y.push(e)}t.resolve(true)});r.fail(function(){t.resolve(false)})}else{t.resolve(true)}return t.promise()};this.getAllServices=function(){return y};this.getAllEntitySetsOfServiceAsPromise=function(e){return u.getEntitySets(e)};this.getAllHierarchicalEntitySetsOfServiceAsPromise=function(e){var t=jQuery.Deferred();u.getMetadata(e).done(function(e){if(e){t.resolve(e.getHierarchicalEntitySets())}t.resolve([])}).fail(function(){t.resolve([])});return t.promise()};this.checkIfHierarchicalEntitySetIsAvailableAsPromise=function(e){var t=jQuery.Deferred();this.getAllHierarchicalEntitySetsOfServiceAsPromise(e).done(function(e){if(e.length>0){t.resolve(true)}else{t.resolve(false)}});return t};this.getHierarchicalPropertiesOfEntitySetAsPromise=function(e,t){var r=jQuery.Deferred();u.getMetadata(e).done(function(e){if(e){r.resolve(e.getHierarchicalPropertiesOfEntitySet(t))}else{r.resolve([])}}).fail(function(){r.resolve([])});return r};this.getHierarchyNodeIdAsPromise=function(e,t,r){var n;var i=jQuery.Deferred();u.getMetadata(e).done(function(e){if(e){n=e.getHierarchyAnnotationsForProperty(t,r);if(n&&n.hierarchyNodeFor){i.resolve(n.hierarchyNodeFor)}else{i.resolve(null)}}else{i.resolve(null)}}).fail(function(){i.resolve(null)});return i};this.getNonHierarchicalPropertiesOfEntitySet=function(e,t){var r;var n=jQuery.Deferred();u.getMetadata(e).then(function(e){r=e.getNonHierarchicalPropertiesOfEntitySet(t);n.resolve(r)},function(){n.resolve([])});return n};this.getAllEntitySetsExceptParameterEntitySets=function(e){return u.getAllEntitySetsExceptParameterEntitySets(e)};this.getAllEntitySetsOfServiceWithGivenPropertiesAsPromise=function(e,t){var r=[];var n=jQuery.Deferred();this.getAllEntitySetsOfServiceAsPromise(e).done(function(i){if(!t||t.length===0){n.resolve(i);return}u.getMetadata(e).done(function(e){i.forEach(function(n){var i=e.getFilterableProperties(n);var a=true;for(var o=0;o<t.length;o++){if(i.indexOf(t[o])<=-1){a=false;break}}if(a){r.push(n)}});n.resolve(r)})});return n.promise()};this.getAllPropertiesOfEntitySetAsPromise=function(e,t){var r=jQuery.Deferred();u.getMetadata(e).done(function(e){r.resolve(e.getAllPropertiesOfEntitySet(t))}).fail(function(){r.resolve([])});return r.promise()};this.getAllKnownPropertiesAsPromise=function(){var e=jQuery.Deferred();var r=[];var n=y.length;y.forEach(function(i){u.getMetadata(i).done(function(i){r=r.concat(i.getAllProperties());n--;if(n===0){r=t.eliminateDuplicatesInArray(c,r);e.resolve(r)}})});return e.promise()};this.getFilterablePropertiesAndParametersAsPromise=function(){var e=jQuery.Deferred();var r=[];var n=y.length;y.forEach(function(i){u.getMetadata(i).done(function(i){r=r.concat(i.getFilterablePropertiesAndParameters());if(--n===0){e.resolve(t.eliminateDuplicatesInArray(c,r))}})});if(n===0){e.resolve([])}return e.promise()};this.setApplicationTitle=function(e){g=false;s=e};this.getApplicationTitle=function(){return s};this.getConfigurationName=function(){return f.getConfiguration(e.id||e).AnalyticalConfigurationName};this.getCategoryStepAssignments=function(e){var t=[];if(!this.getCategory(e)){return false}var r=p.getElement(e);if(r){r.getElements().forEach(function(e){t.push(e.stepId)})}return t};this.addCategoryStepAssignment=function(e,t){if(!this.getCategory(e)||!this.getStep(t)){return false}var r=p.getElement(e);if(!r){p.createElementWithProposedId({},e);r=p.getElement(e)}if(!r.getElement(t)){r.createElementWithProposedId({stepId:t},t);return true}return false};this.removeCategoryStepAssignment=function(e,t){var r;if(!t){var n=this.getCategoryStepAssignments(e);r=p.removeElement(e);if(r){A(n)}return!!r}var i=p.getElement(e);if(!i){return false}r=i.removeElement(t);if(i.getElements().length===0){p.removeElement(e)}if(r){A([t])}return!!r};function A(e){if(!e){return}e.forEach(function(e){if(a.getCategoriesForStep(e).length===0){v.removeElement(e)}})}this.moveCategoryStepAssignmentBefore=function(e,t,r){var n=p.getElement(e);if(!n){return null}return n.moveBefore(t,r)};this.moveCategoryStepAssignmentToEnd=function(e,t){var r=p.getElement(e);if(!r){return null}return r.moveToEnd(t)};this.moveCategoryStepAssignmentUpOrDown=function(e,t,r){var n=p.getElement(e);if(!n){return null}return n.moveUpOrDown(t,r)};this.getCategory=d.getElement;this.setCategory=function(e,t){g=false;return d.setElement(e,t)};this.createCategoryWithId=function(e,t){g=false;return d.createElementWithProposedId(e,t).getId()};this.removeCategory=function(e){var t=a.getCategoryStepAssignments(e);if(t){t.forEach(function(e){var t=a.getCategoriesForStep(e);if(!t||t.length<2){v.removeElement(e)}})}d.removeElement(e)};this.getCategories=d.getElements;this.copyCategory=function(e){var t=d.copyElement(e);if(!t){return}a.getCategoryStepAssignments(e).forEach(function(e){F(e,t)});return t};this.moveCategoryBefore=function(e,t){return d.moveBefore(e,t)};this.moveCategoryToEnd=function(e){return d.moveToEnd(e)};this.moveCategoryUpOrDown=function(e,t){return d.moveUpOrDown(e,t)};this.serialize=function(){return C.serializeConfiguration(a)};this.isSaved=function(){return g};this.setIsUnsaved=function(){g=false};this.save=function(t){var r;function n(n,i,a){if(!a){g=true;f.replaceConfigurationId(e.id||e,n.AnalyticalConfiguration);f.updateConfigurationName(e.id||e,r);e=n.AnalyticalConfiguration}t(e,i,a)}function i(n,i){if(!i){g=true}f.updateConfigurationName(e.id||e,r);t(e.id||e,n,i)}r=f.getConfiguration(e.id||e).AnalyticalConfigurationName;var a={AnalyticalConfiguration:"",AnalyticalConfigurationName:r,Application:f.getApplicationId(),SerializedAnalyticalConfiguration:JSON.stringify(this.serialize()),CreatedByUser:"",CreationUTCDateTime:null,LastChangeUTCDateTime:null,LastChangedByUser:""};if(typeof e==="string"){if(e.indexOf("apf1972-")===0){l.create("configuration",a,n)}else{a.AnalyticalConfiguration=e;l.update("configuration",a,i,[{name:"AnalyticalConfiguration",value:e}])}}else{if(e.id.indexOf("apf1972-")===0){a.AnalyticalConfiguration="";a.CreationUTCDateTime=null;a.LastChangeUTCDateTime=null}else{a.AnalyticalConfiguration=e.id;a.CreationUTCDateTime=e.creationDate;a.LastChangeUTCDateTime=e.lastChangeDate}if(e.updateExisting){l.update("configuration",a,i,[{name:"AnalyticalConfiguration",value:e.id}])}else{l.create("configuration",a,n)}}};this.getFilterOption=function(){return Object.assign({},o)};this.setFilterOption=function(e){if(e.none===true){E=null;t.call(this);r()}if(e.smartFilterBar===true){t.call(this);n()}if(e.facetFilter===true){E=null;i()}function t(){this.getFacetFilters().forEach(function(e){this.removeFacetFilter(e.getId())}.bind(this))}function r(){delete o.smartFilterBar;delete o.facetFilter;o.none=true}function n(){o.smartFilterBar=true;delete o.facetFilter;delete o.none}function i(){delete o.smartFilterBar;o.facetFilter=true;delete o.none}};this.isDataLostByFilterOptionChange=function(){if(o.smartFilterBar===true){if(E&&(E.getService()||E.getEntitySet())){return true}}if(o.facetFilter===true){if(m.getElements().length>0){return true}}return false};this.getSmartFilterBar=function(){if(o.smartFilterBar===true){if(!E){E=new r.constructors.SmartFilterBar("SmartFilterBar-1")}return E}return null};this.createFacetFilterWithId=function(e){if(o.facetFilter===true){return m.createElementWithProposedId(undefined,e).getId()}return null};this.createFacetFilter=function(){if(o.facetFilter===true){return m.createElement().getId()}return null};this.removeFacetFilter=m.removeElement;this.getFacetFilter=m.getElement;this.getFacetFilters=m.getElements;this.copyFacetFilter=m.copyElement;this.moveFacetFilterBefore=function(e,t){return m.moveBefore(e,t)};this.moveFacetFilterToEnd=function(e){return m.moveToEnd(e)};this.moveFacetFilterUpOrDown=function(e,t){return m.moveUpOrDown(e,t)};this.createNavigationTargetWithId=function(e){return h.createElementWithProposedId(undefined,e).getId()};this.createNavigationTarget=function(){return h.createElement().getId()};this.removeNavigationTarget=function(e){var t=h.getElement(e);if(!t){return}h.removeElement(e);if(t.isStepSpecific()){var r=this.getStepsAssignedToNavigationTarget(e);var n,i;for(n=0;n<r.length;n++){i=this.getStep(r[n]);i.removeNavigationTarget(e)}}};this.getNavigationTarget=h.getElement;this.getNavigationTargets=h.getElements;this.copyNavigationTarget=function(e){var t=h.copyElement(e);var r=h.getElement(t);if(r.isStepSpecific()){var n=this.getStepsAssignedToNavigationTarget(e);var i,a;for(i=0;i<n.length;i++){a=this.getStep(n[i]);a.addNavigationTarget(t)}}return t};this.moveNavigationTargetBefore=function(e,t){return h.moveBefore(e,t)};this.moveNavigationTargetToEnd=function(e){return h.moveToEnd(e)};this.moveNavigationTargetUpOrDown=function(e,t){return h.moveUpOrDown(e,t)};this.createStepWithId=function(e){return v.createElementWithProposedId(undefined,e).getId()};this.createStep=function(e){if(!this.getCategory(e)){return}var t=v.createElement().getId();this.addCategoryStepAssignment(e,t);return t};this.createHierarchicalStepWithId=function(e){return v.createElementWithProposedId(undefined,e,r.constructors.HierarchicalStep).getId()};this.createHierarchicalStep=function(e){if(!this.getCategory(e)){return}var t=v.createElement(undefined,r.constructors.HierarchicalStep).getId();this.addCategoryStepAssignment(e,t);return t};this.getStep=v.getElement;this.getSteps=v.getElements;this.getStepsNotAssignedToCategory=function(e){var t=this.getCategoryStepAssignments(e);var r=[];a.getSteps().forEach(function(e){var n=e.getId();if(t.indexOf(n)===-1){r.push(n)}});return r};this.copyStep=function(e){var t=F(e);var r=this.getCategoriesForStep(e);if(!t){return false}if(r){r.forEach(function(e){a.addCategoryStepAssignment(e,t)})}return t};function F(e,t){if(t&&!a.getCategory(t)){return false}var r=v.copyElement(e);if(!r){return false}if(t){a.addCategoryStepAssignment(t,r)}return r}this.getCategoriesForStep=function e(t){var r=[];var n=a.getCategories();if(n){n.forEach(function(e){var n=e.getId();var i=a.getCategoryStepAssignments(n);if(i&&i.indexOf(t)>-1){r.push(n)}})}return r};this.getAssignableStepsForNavigationTarget=function(e){var t=[];a.getSteps().forEach(function(r){var n=false;r.getNavigationTargets().forEach(function(t){if(e===t){n=true}});if(!n){t.push(r.getId())}});return t};this.getStepsAssignedToNavigationTarget=function(e){var t=[];a.getSteps().forEach(function(r){var n=false;r.getNavigationTargets().forEach(function(t){if(e===t){n=true}});if(n){t.push(r.getId())}});return t};this.copy=function(e){var t={stepContainer:v,categoryContainer:d,facetFilterContainer:m,navigationTargetContainer:h,categoryStepAssignmentContainer:p,applicationTitle:s,serviceList:y,filterOption:o};var n=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(t);if(o.smartFilterBar===true&&E){n.smartFilterBar=i()}return new sap.apf.modeler.core.ConfigurationEditor(e,r,undefined,n);function i(){var e=new r.constructors.SmartFilterBar(E.getId());e.setService(E.getService());e.setEntitySet(E.getEntitySet(),!E.isEntityTypeConverted());return e}};if(typeof e==="string"){if(e.indexOf("apf1972-")===0){g=false;if(n){n(a,undefined)}}else if(!i){T(e,l,function(e,t){if(!t){var r=JSON.parse(e.SerializedAnalyticalConfiguration);a.setApplicationTitle(r.applicationTitle);S.loadConfig(r,true);C.mapToDesignTimeAsPromise(S.getRegistry(),a).then(function(){g=true;n(a,undefined)})}else{n(undefined,t)}})}}else{S.loadConfig(e.content,true);C.mapToDesignTimeAsPromise(S.getRegistry(),this).then(function(){if(n){n(a,undefined)}})}function T(e,t,r){t.readEntity("configuration",function(e,t,n){r(e,n)},[{name:"AnalyticalConfiguration",value:e}],undefined,f.getApplicationId())}}e("sap.apf.modeler.core.ConfigurationEditor",r);return r});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/configurationHandler", ["sap/apf/modeler/core/configurationEditor","sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/apf/utils/utils","sap/apf/modeler/core/configurationObjects"],function(t,e,n,i,a){"use strict";function o(t){var e=this;var n=t.instances.messageHandler;var a=t.instances.persistenceProxy;var o=t.constructors.ConfigurationEditor;var r=t.constructors.Hashtable;var s=t.constructors.LazyLoader;var c=new r(n);var u=new r(n);var f=new r(n);var l=new r(n);var g,m;var p={constructors:{Hashtable:r},instances:{messageHandler:n}};this.exportTexts=function(t){var e=this.getConfiguration(t).AnalyticalConfigurationName;return m.exportTexts(e)};this.getTextPool=function(){return m};this.setApplicationIdAndContext=function(t,e,i){m=i||m;c=new r(n);var a,o=e.length;for(a=0;a<o;a++){c.setItem(e[a].AnalyticalConfiguration,e[a]);u.setItem(e[a].AnalyticalConfiguration,e[a].AnalyticalConfigurationName)}g=t};this.getApplicationId=function(){return g};this.setConfiguration=function(t,e){t.AnalyticalConfiguration=e||C();t.Application=g;c.setItem(t.AnalyticalConfiguration,t);return t.AnalyticalConfiguration};this.getList=function(){var t=[];var e=function(e,n){t.push(n)};c.each(e);return t};this.getConfiguration=function(t){return c.getItem(t)};this.loadConfiguration=function(i,c){var u,l=i.id||i;if(!i.updateExisting){u=f.getItem(l)}if(!u){u=new s(p,C);f.setItem(l,u)}u.asyncGetInstance(l,g);function g(t,e,n){c(t,e)}function C(s,c,u){var f={instances:{coreApi:t.instances.coreApi,messageHandler:n,configurationHandler:e,persistenceProxy:a,textPool:m,metadataFactory:t.instances.metadataFactory},constructors:{Hashtable:r,Step:t.constructors.Step,HierarchicalStep:t.constructors.HierarchicalStep,SmartFilterBar:t.constructors.SmartFilterBar,FacetFilter:t.constructors.FacetFilter,NavigationTarget:t.constructors.NavigationTarget,Representation:t.constructors.Representation,ConfigurationObjects:t.constructors.ConfigurationObjects,ElementContainer:t.constructors.ElementContainer,ConfigurationFactory:t.constructors.ConfigurationFactory,RegistryProbe:t.constructors.RegistryProbe}};new o(i,f,function(t,e){c(s,t,e)})}};this.resetConfiguration=function(t){var e;if(f.hasItem(t)){e=c.getItem(t);e.AnalyticalConfigurationName=u.getItem(t);f.removeItem(t);return t}};this.updateConfigurationName=function(t,e){u.setItem(t,e)};this.copyConfiguration=function(t,n){var i=this.getConfiguration(t);if(!i){n(null);return}e.loadConfiguration(t,a);function a(t){var a,o,r,c;c=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(i);a=C();c.AnalyticalConfiguration=a;e.setConfiguration(c,a);o=t.copy(a);r=new s(p,undefined,{id:a,instance:o});f.setItem(a,r);n(a)}};this.replaceConfigurationId=function(t,e){if(t.indexOf("apf1972-")===0){var n=c.getItem(t);var i=f.getItem(t).getInstance();var a=new s(p,undefined,{id:e,instance:i});n.AnalyticalConfiguration=e;c.setItem(e,n);u.setItem(e,n.AnalyticalConfigurationName);c.removeItem(t);f.setItem(e,a);f.removeItem(t)}};this.exportConfiguration=function(i,o){var r;this.loadConfiguration(i,s);function s(s){if(!s.isSaved()){n.putMessage(n.createMessageObject({code:"11007",aParameters:[i]}));o(null)}else{var c=t.functions.getApplication(g);var u=e.getConfiguration(i).AnalyticalConfigurationName;r=s.serialize();r.configHeader={Application:g,ApplicationName:c.ApplicationName,SemanticObject:c.SemanticObject,AnalyticalConfiguration:i,AnalyticalConfigurationName:u,UI5Version:sap.ui.version};a.readEntity("configuration",function(t,e,a){if(a){n.putMessage(n.createMessageObject({code:"5022",aParameters:[i]}));o(null)}else{r.configHeader.CreationUTCDateTime=t.CreationUTCDateTime;r.configHeader.LastChangeUTCDateTime=t.LastChangeUTCDateTime;r=JSON.stringify(r,null,"\t");o(r,u)}},[{name:"AnalyticalConfiguration",value:i}],["CreationUTCDateTime","LastChangeUTCDateTime"],g)}}};this.memorizeConfiguration=function(t){var e,n;n=f.getItem(t);if(!n){return null}e=n.getInstance();if(e){l.setItem(t,e.copy(t));return t}return null};this.restoreMemorizedConfiguration=function(t){var e,n;n=l.removeItem(t);if(n){e=new s(p,undefined,{id:t,instance:n});f.setItem(t,e);return n}return null};this.removeConfiguration=function(t,e){function n(n,i){if(!i){c.removeItem(t);f.removeItem(t)}e(t,n,i)}if(t.indexOf("apf1972-")!==0){a.remove("configuration",[{name:"AnalyticalConfiguration",value:t}],n,undefined,g)}else{c.removeItem(t);f.removeItem(t);e(t,undefined,undefined)}};this.removeAllConfigurations=function(){c=new r(n)};function C(){return"apf1972-"+i.createPseudoGuid(32)}}e("sap.apf.modeler.core.ConfigurationHandler",o);return o});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/configurationObjects", ["sap/apf/utils/exportToGlobal"],function(e){"use strict";function t(e){var t=this;var i,r,a,n;var s=e.instances.metadataFactory;if(e.constructors&&e.constructors.Hashtable){i=e.constructors.Hashtable}if(e.instances.textPool){r=e.instances.textPool}if(e.instances.persistenceProxy){a=e.instances.persistenceProxy}if(e.instances.messageHandler){n=e.instances.messageHandler}function l(e,t){var i=[];if(t){i.push(t)}n.putMessage(n.createMessageObject({code:e,aParameters:i}))}function o(e){var t=e&&e.type&&e.type==="label"&&e.kind&&e.kind==="text"&&e.key&&typeof e.key==="string";if(!t){l(11030,e.key)}return t}this.serializeLabelKey=function(e){return{type:"label",kind:"text",key:r.getPersistentKey(e)}};this.serializeAndAddThumbnail=function(e,t){var i=e.getLeftLowerCornerTextKey();var r=e.getLeftUpperCornerTextKey();var a=e.getRightUpperCornerTextKey();var n=e.getRightLowerCornerTextKey();var s={type:"thumbnail"};if(r){s.leftUpper=this.serializeLabelKey(r)}if(i){s.leftLower=this.serializeLabelKey(i)}if(a){s.rightUpper=this.serializeLabelKey(a)}if(n){s.rightLower=this.serializeLabelKey(n)}if(s.leftLower||s.leftUpper||s.rightLower||s.rightUpper){t.thumbnail=s}};this.serializeCategory=function(e,i){var a=r.get(e.labelKey);var n=[];if(i){i.forEach(function(e){n.push({type:"step",id:e})})}var s=a&&a.TextElementDescription||"";return{type:"category",description:s,id:e.getId(),label:t.serializeLabelKey(e.labelKey),steps:n}};this.validateCategory=function(e){var t=e&&e.type&&e.type==="category"&&e.id&&e.steps&&o(e.label);if(t){e.steps.forEach(function(e){if(!e.type||e.type!=="step"||!e.id){t=false}})}if(!t){l(11031,e.id)}return t};this.validateRequest=function(e){var t=e&&e.id&&e.type==="request"&&e.service&&typeof e.service==="string"&&(e.entityType&&typeof e.entityType==="string"||e.entitySet&&typeof e.entitySet==="string")&&e.selectProperties&&e.selectProperties&&e.selectProperties instanceof Array&&e.selectProperties.length>=0;if(!t){l(11032,e.id)}return t};this.validateBinding=function(e){var t=e&&e.id&&e.type==="binding"&&e.requiredFilters&&e.requiredFilters instanceof Array&&e.requiredFilters.length>=0&&e.representations&&e.representations instanceof Array;if(!t){l(11033,e.id)}return t};this.validateFacetFilter=function(e){var t=e&&e.id&&e.property&&e.type==="facetFilter";if(!t){l(11034,e.id)}return t};this.validateNavigationTarget=function(e){var t=e&&e.id&&e.semanticObject&&e.action&&e.type==="navigationTarget"&&e.hasOwnProperty("isStepSpecific");if(!t){l(11040,e.id)}return t};this.validateStep=function(e){var t=e&&e.id&&e.type==="step"&&o(e.title)&&o(e.longTitle)&&e.hasOwnProperty("navigationTargets");if(!t){l(11035,e.id)}return t};this.validateConfiguration=function(e){var t=e&&e.applicationTitle&&e.applicationTitle.key&&typeof e.applicationTitle.key==="string"&&e.steps&&e.steps instanceof Array&&e.steps.length>=0&&e.requests&&e.requests instanceof Array&&e.requests.length>=0&&e.bindings&&e.bindings instanceof Array&&e.bindings.length>=0&&e.representationTypes&&e.representationTypes instanceof Array&&e.representationTypes.length>=0&&e.categories&&e.categories instanceof Array&&e.categories.length>=0;if(!t){l(11036)}return t};function p(e){var i=[];var r,a;var n,s;var l;var o;var p;var c;var f=e.getRepresentations();f.forEach(function(e){r=[];a=e.getDimensions();a.forEach(function(t){var i={fieldName:t};if(e.getDimensionKind(t)){i.kind=e.getDimensionKind(t)}if(e.getDimensionTextLabelKey(t)){i.fieldDesc={type:"label",kind:"text",key:e.getDimensionTextLabelKey(t)}}if(e.getLabelDisplayOption(t)){i.labelDisplayOption=e.getLabelDisplayOption(t)}r.push(i)});n=[];s=e.getMeasures();s.forEach(function(t){var i={fieldName:t};if(e.getMeasureKind(t)){i.kind=e.getMeasureKind(t)}if(e.getMeasureTextLabelKey(t)){i.fieldDesc={type:"label",kind:"text",key:e.getMeasureTextLabelKey(t)}}if(e.getMeasureDisplayOption(t)){i.measureDisplayOption=e.getMeasureDisplayOption(t)}n.push(i)});l=[];e.getProperties().forEach(function(t){var i={fieldName:t};if(e.getPropertyKind(t)){i.kind=e.getPropertyKind(t)}if(e.getPropertyTextLabelKey(t)){i.fieldDesc={type:"label",kind:"text",key:e.getPropertyTextLabelKey(t)}}l.push(i)});var f=[{}];if(e.getHierarchyProperty()){f[0].fieldName=e.getHierarchyProperty();f[0].kind="hierarchicalColumn";if(e.getHierarchyPropertyTextLabelKey()){f[0].fieldDesc={type:"label",kind:"text",key:e.getHierarchyPropertyTextLabelKey()}}f[0].labelDisplayOption=e.getHierarchyPropertyLabelDisplayOption()}o=[];e.getOrderbySpecifications().forEach(function(e){o.push({property:e.property,ascending:e.ascending})});p={id:e.getId(),representationTypeId:e.getRepresentationType(),parameter:{dimensions:r,measures:n,properties:l,hierarchicalProperty:f,alternateRepresentationTypeId:e.getAlternateRepresentationType()}};if(e.getWidthProperties()){p.parameter.width=e.getWidthProperties()}if(o.length>0){p.parameter.orderby=o}c=e.getTopN();if(c&&c>0){p.parameter.top=c}t.serializeAndAddThumbnail(e,p);i.push(p)});return i}this.serializeBinding=function(e,t){var i="binding-for-"+e.getId();var a=r.get(e.getTitleId());var n=a&&a.TextElementDescription||"";if(e.getFilterPropertyLabelKey()||e.getFilterPropertyLabelDisplayOption()){var s={labelDisplayOption:e.getFilterPropertyLabelDisplayOption()};if(e.getFilterPropertyLabelKey()){s.fieldDesc=this.serializeLabelKey(e.getFilterPropertyLabelKey())}}t.bindings.push({type:"binding",id:i,stepDescription:n,requiredFilters:e.getFilterProperties(),requiredFilterOptions:s,representations:p(e)});return i};this.serializeRequest=function(e,t){var i;var r="request-for-"+e.getId();i={type:"request",id:r,service:e.getService(),entitySet:e.getEntitySet(),selectProperties:e.getSelectProperties()};t.requests.push(i);return r};this.serializeFilterMappingRequest=function(e,t){var i="request-for-FilterMapping"+e.getId();var r={type:"request",id:i,service:e.getFilterMappingService(),entitySet:e.getFilterMappingEntitySet(),selectProperties:e.getFilterMappingTargetProperties()};t.requests.push(r);return i};this.serializeStep=function(e,i){var a=t.serializeRequest(e,i);var n=t.serializeBinding(e,i);var s=r.get(e.getTitleId());var l=s&&s.TextElementDescription||"";var o=e.getLongTitleId();var p;var c={type:e.getType(),description:l,request:a,binding:n,id:e.getId(),title:t.serializeLabelKey(e.getTitleId()),navigationTargets:[]};if(e.getHierarchyProperty&&e.getHierarchyProperty()){c.hierarchyProperty=e.getHierarchyProperty()}if(e.getFilterMappingService()){c.filterMapping={requestForMappedFilter:t.serializeFilterMappingRequest(e,i),target:e.getFilterMappingTargetProperties(),targetPropertyLabelKey:e.getFilterMappingTargetPropertyLabelKey(),targetPropertyDisplayOption:e.getFilterMappingTargetPropertyLabelDisplayOption(),keepSource:e.getFilterMappingKeepSource()?"true":"false"}}p=e.getTopN();if(p){c.topNSettings=p}if(o!==""&&o!==undefined){c.longTitle=t.serializeLabelKey(e.getLongTitleId())}this.serializeAndAddThumbnail(e,c);e.getNavigationTargets().forEach(function(e){c.navigationTargets.push({type:"navigationTarget",id:e})});return c};this.serializeFacetFilter=function(e,i){var a,n,s;if(e.getServiceOfFilterResolution()){a=p("FilterResolution",e,i)}if(e.getUseSameRequestForValueHelpAndFilterResolution()){n=a}else if(e.getServiceOfValueHelp()){n=p("ValueHelp",e,i)}var l=r.get(e.getLabelKey());var o=l&&l.TextElementDescription||"";if(e.getValueList().length>0){s=e.getValueList()}return{type:"facetFilter",description:o,id:e.getId(),alias:e.getAlias(),property:e.getProperty(),multiSelection:e.isMultiSelection()+"",preselectionFunction:e.getPreselectionFunction(),preselectionDefaults:c(),valueList:s,label:t.serializeLabelKey(e.getLabelKey()),invisible:!e.isVisible(),filterResolutionRequest:a,valueHelpRequest:n,hasAutomaticSelection:e.getAutomaticSelection()+"",useSameRequestForValueHelpAndFilterResolution:e.getUseSameRequestForValueHelpAndFilterResolution()+""};function p(e,t,i){var r;var a;var n;var s;switch(e){case"ValueHelp":a=t.getServiceOfValueHelp();n=t.getEntitySetOfValueHelp();s=t.getSelectPropertiesOfValueHelp();break;case"FilterResolution":a=t.getServiceOfFilterResolution();n=t.getEntitySetOfFilterResolution();s=t.getSelectPropertiesOfFilterResolution();break;default:a="";n="";s="";break}var l=e+"-request-for-"+t.getId();r={type:"request",id:l,service:a,entitySet:n,selectProperties:s};i.requests.push(r);return l}function c(){if(e.getNoneSelection()===true){return null}return e.getPreselectionDefaults()}};this.serializeNavigationTarget=function(e,i){var r={type:"navigationTarget",id:e.getId(),semanticObject:e.getSemanticObject(),action:e.getAction(),isStepSpecific:e.isStepSpecific(),useDynamicParameters:e.getUseDynamicParameters(),parameters:e.getAllNavigationParameters()};if(e.getFilterMappingService()){r.filterMapping={requestForMappedFilter:t.serializeFilterMappingRequest(e,i),target:e.getFilterMappingTargetProperties()}}if(e.getTitleKey()){r.title={key:e.getTitleKey(),type:"label",kind:"text"}}return r};this.serializeSmartFilterBar=function(e){if(e){if(!e.isEntityTypeConverted()){return{id:e.getId(),type:"smartFilterBar",service:e.getService(),entityType:e.getEntitySet()}}return{id:e.getId(),type:"smartFilterBar",service:e.getService(),entitySet:e.getEntitySet()}}};this.serializeConfiguration=function(e){var i={analyticalConfigurationName:e.getConfigurationName(),applicationTitle:t.serializeLabelKey(e.getApplicationTitle()),steps:[],requests:[],bindings:[],representationTypes:[],categories:[],navigationTargets:[]};var r={requests:i.requests,bindings:i.bindings};e.getCategories().forEach(function(r){var a=e.getCategoryStepAssignments(r.getId());i.categories.push(t.serializeCategory(r,a))});e.getSteps().forEach(function(e){var a=t.serializeStep(e,r);i.steps.push(a)});e.getFacetFilters().forEach(function(e){var a=t.serializeFacetFilter(e,r);if(i.facetFilters===undefined){i.facetFilters=[]}i.facetFilters.push(a)});if(e.getFilterOption().facetFilter===true&&i.facetFilters===undefined){i.facetFilters=[]}e.getNavigationTargets().forEach(function(e){var a=t.serializeNavigationTarget(e,r);i.navigationTargets.push(a)});var a=this.serializeSmartFilterBar(e.getSmartFilterBar());if(a!==undefined){i.smartFilterBar=a}return i};function c(e,t){var i=e.thumbnail;if(!i){return}if(i.leftLower){t.setLeftLowerCornerTextKey(i.leftLower.key)}if(i.leftUpper){t.setLeftUpperCornerTextKey(i.leftUpper.key)}if(i.rightLower){t.setRightLowerCornerTextKey(i.rightLower.key)}if(i.rightUpper){t.setRightUpperCornerTextKey(i.rightUpper.key)}}function f(e,t,i){var r=[];var a;var n;if(e.type==="hierarchicalStep"){a=i.createHierarchicalStepWithId(e.id);n=i.getStep(a);n.setHierarchyProperty(e.hierarchyProperty)}else{a=i.createStepWithId(e.id);n=i.getStep(a)}var s=t.getItem(e.request);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.push(i.registerServiceAsPromise(s.service))}n.setService(s.service);n.setEntitySet(s.entitySet);n.setTitleId(e.title.key);if(e.longTitle&&e.longTitle.key){n.setLongTitleId(e.longTitle.key)}if(e.navigationTargets){e.navigationTargets.forEach(function(e){n.addNavigationTarget(e.id)})}c(e,n);s.selectProperties.forEach(function(e){n.addSelectProperty(e)});var l=t.getItem(e.binding);l.requiredFilters.forEach(function(e){n.addFilterProperty(e)});if(l.requiredFilterOptions){n.setFilterPropertyLabelDisplayOption(l.requiredFilterOptions.labelDisplayOption);if(l.requiredFilterOptions.fieldDesc){n.setFilterPropertyLabelKey(l.requiredFilterOptions.fieldDesc.key)}}l.representations.forEach(function(e){var t;var i=n.getRepresentation(n.createRepresentation({id:e&&e.id}).getId());i.setRepresentationType(e.representationTypeId);i.setAlternateRepresentationType(e.parameter.alternateRepresentationTypeId);if(e.parameter.hierarchicalProperty&&e.parameter.hierarchicalProperty[0]&&e.parameter.hierarchicalProperty[0].fieldDesc){i.setHierarchyPropertyTextLabelKey(e.parameter.hierarchicalProperty[0].fieldDesc.key)}if(e.parameter.hierarchicalProperty&&e.parameter.hierarchicalProperty[0]){i.setHierarchyPropertyLabelDisplayOption(e.parameter.hierarchicalProperty[0].labelDisplayOption)}e.parameter.dimensions.forEach(function(e){i.addDimension(e.fieldName);if(e.fieldDesc){i.setDimensionTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setDimensionKind(e.fieldName,e.kind)}if(e.labelDisplayOption){i.setLabelDisplayOption(e.fieldName,e.labelDisplayOption)}});e.parameter.measures.forEach(function(e){i.addMeasure(e.fieldName);if(e.fieldDesc){i.setMeasureTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setMeasureKind(e.fieldName,e.kind)}if(e.measureDisplayOption){i.setMeasureDisplayOption(e.fieldName,e.measureDisplayOption)}});if(e.parameter.properties){e.parameter.properties.forEach(function(e){i.addProperty(e.fieldName);if(e.fieldDesc){i.setPropertyTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setPropertyKind(e.fieldName,e.kind)}})}if(e.parameter.width){for(t in e.parameter.width){if(e.parameter.width.hasOwnProperty(t)){i.setWidthProperty(t,e.parameter.width[t])}}}if(e.parameter.orderby&&!e.parameter.topN){e.parameter.orderby.forEach(function(e){i.addOrderbySpec(e.property,e.ascending)})}c(e,i)});if(e.filterMapping){r.push(g(e.filterMapping,n,t,i))}if(e.topNSettings){n.setTopN(e.topNSettings.top,e.topNSettings.orderby)}return Promise.all(r)}function y(e,t,i){var r=[];var a=i.createFacetFilterWithId(e.id);var n=i.getFacetFilter(a);n.setLabelKey(e.label.key);n.setAlias(e.alias);n.setProperty(e.property);if(e.preselectionFunction&&e.preselectionFunction!==""){n.setPreselectionFunction(e.preselectionFunction)}else if(e.preselectionDefaults===null){n.setNoneSelection(true)}else{n.setPreselectionDefaults(e.preselectionDefaults)}if(e.valueList){n.setValueList(e.valueList)}if(e.useSameRequestForValueHelpAndFilterResolution&&e.useSameRequestForValueHelpAndFilterResolution==="true"){n.setUseSameRequestForValueHelpAndFilterResolution(true)}else{n.setUseSameRequestForValueHelpAndFilterResolution(false)}if(e.multiSelection==="true"){n.setMultiSelection(true)}if(e.invisible===true){n.setInvisible()}if(e.hasAutomaticSelection==="true"){n.setAutomaticSelection(true)}else{n.setAutomaticSelection(false)}if(e.valueHelpRequest){var s=t.getItem(e.valueHelpRequest);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.push(i.registerServiceAsPromise(s.service));n.setServiceOfValueHelp(s.service)}if(s.entitySet){n.setEntitySetOfValueHelp(s.entitySet)}s.selectProperties.forEach(function(e){n.addSelectPropertyOfValueHelp(e)})}if(e.filterResolutionRequest){var l=t.getItem(e.filterResolutionRequest);if(l.entityType){l.entitySet=l.entityType;delete l.entityType}if(l.service){r.push(i.registerServiceAsPromise(l.service));n.setServiceOfFilterResolution(l.service)}if(l.entitySet){n.setEntitySetOfFilterResolution(l.entitySet)}l.selectProperties.forEach(function(e){n.addSelectPropertyOfFilterResolution(e)})}return Promise.all(r)}function u(e,t,i){return new Promise(function(r,a){var n=i.createNavigationTargetWithId(e.id);var s=i.getNavigationTarget(n);s.setSemanticObject(e.semanticObject);s.setAction(e.action);if(e.parameters){e.parameters.forEach(function(e){s.addNavigationParameter(e.key,e.value)})}if(e.isStepSpecific===true){s.setStepSpecific()}else{s.setGlobal()}if(e.useDynamicParameters===true){s.setUseDynamicParameters(true)}if(e.filterMapping){g(e.filterMapping,s,t,i).then(function(){r()})}else{r()}if(e.title&&e.title.key){s.setTitleKey(e.title.key)}})}function g(e,t,i,r){return new Promise(function(a,n){var s=i.getItem(e.requestForMappedFilter);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.registerServiceAsPromise(s.service).done(function(){a()})}else{a()}t.setFilterMappingService(s.service);t.setFilterMappingEntitySet(s.entitySet);e.target.forEach(function(e){t.addFilterMappingTargetProperty(e)});if(e.targetPropertyLabelKey){t.setFilterMappingTargetPropertyLabelKey(e.targetPropertyLabelKey)}if(e.targetPropertyDisplayOption){t.setFilterMappingTargetPropertyLabelDisplayOption(e.targetPropertyDisplayOption)}if(e.hasOwnProperty("keepSource")){if(e.keepSource==="true"){t.setFilterMappingKeepSource(true)}else{t.setFilterMappingKeepSource(false)}}})}function d(e,t){var i=[];i.unshift(new Promise(function(r){var a=e.getItem("SmartFilterBar-1");if(a){t.setFilterOption({smartFilterBar:true});var n=t.getSmartFilterBar();n.setService(a.service);if(a.service){i.push(t.registerServiceAsPromise(a.service))}if(a.entitySet){n.setEntitySet(a.entitySet);r(true)}else if(a.entityType){s.getMetadata(a.service).done(function(e){if(e){var t=e.getEntitySetByEntityType(a.entityType);if(t){n.setEntitySet(t)}else{n.setEntitySet(a.entityType,true);l("11524",[a.entityType])}}r(true)}).fail(function(){n.setEntitySet(a.entityType,true);l("11524",[a.entityType]);r(true)})}else{r(true)}}else{r(false)}}));return Promise.all(i)}this.mapToDesignTimeAsPromise=function(e,t){var i;var r=false;var a=[];t.setApplicationTitle(e.getItem("applicationTitle").key);e.getSteps().forEach(function(i){a.push(f(i,e,t))});e.getCategories().forEach(function(e){t.createCategoryWithId({labelKey:e.label.key},e.id);e.steps.forEach(function(i){t.addCategoryStepAssignment(e.id,i.id)})});i=e.getFacetFilters();if(i.emptyArray===true){r=true;t.setFilterOption({facetFilter:true})}else{i.forEach(function(i){r=true;t.setFilterOption({facetFilter:true});a.push(y(i,e,t))})}e.getNavigationTargets().forEach(function(i){a.push(u(i,e,t))});a.push(new Promise(function(i){d(e,t).then(function(e){var a=e[0];if(!r&&!a){t.setFilterOption({none:true})}i()})}));return Promise.all(a)};this.loadAllConfigurations=function(e,t){var i=new sap.apf.core.utils.Filter(n,"Application","eq",e);a.readCollection("configuration",function(e,i,r){t(e,i,r)},undefined,["AnalyticalConfiguration","SerializedAnalyticalConfiguration"],i)};this.getTextKeysFromAllConfigurations=function(e,t){this.loadAllConfigurations(e,function(e,r,a){var s=new i(n);if(a){t(undefined,a);return}e.forEach(function(e){var t=JSON.parse(e.SerializedAnalyticalConfiguration);var i=sap.apf.modeler.core.ConfigurationObjects.getTextKeysFromConfiguration(t);i.forEach(function(e){s.setItem(e,e)})});t(s,undefined)})}}t.deepDataCopy=function e(t){var i;if(!t){i=t}else if(t.copy&&typeof t.copy==="function"){i=t.copy()}else if(t&&typeof t==="object"){if(t instanceof Array){i=[];t.forEach(function(t){i.push(e(t))})}else{i={};for(var r in t){if(!t.hasOwnProperty(r)){continue}i[r]=e(t[r])}}}else{i=t}return i};t.getTextKeysFromConfiguration=function e(t){var i=[];if(!t){return undefined}if(t.type==="label"&&t.kind==="text"&&t.key){return[t.key]}for(var r in t){if(typeof t[r]!=="object"||!t.hasOwnProperty(r)){continue}Array.prototype.push.apply(i,e(t[r]))}return i};e("sap.apf.modeler.core.ConfigurationObjects",t);return t});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/elementContainer", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var e=function(e,n,t,r){var a,i,s=new RegExp("^"+e+"-([123456789]\\d*)$"),o=new RegExp("^"+e);var c=this;t.instances.messageHandler.check(e!==undefined,"ElementContainer: Element has been created without name");if(!r){a=new t.constructors.Hashtable(t.instances.messageHandler);i=0}else{a=r.elements;i=r.elementCounter}this.generateId=function(){return e+"-"+ ++i};this.createElement=function(e,n){var t;t=c.generateId();return u(e,t,n)};this.createElementWithProposedId=function(e,n,t){function r(e){var n=s.exec(e);if(n){var t=parseInt(n[1],10);if(t>i){i=t}}}var o;var d=a.getItem(n);if(d){return c.createElement(e,t)}o=u(e,n,t);r(n);return o};this.removeElement=function(e){return a.removeItem(e)};this.getElement=function(e){return a.getItem(e)};this.updateElement=function(e,n){t.instances.messageHandler.check(e!==undefined,"ElementContainer: Element has been updated with undefined elementId");if(!n.getId||n.getId()!==e){n.getId=function(){return e}}a.setItem(e,n);return e};this.setElement=function(e,n){var r;if(n){if(!a.getItem(n)){t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"11006",aParameters:[n]}));return undefined}c.updateElement(n,e);return n}r=c.createElement(e);return r.getId()};this.getElements=function(){var e=[];a.forEachOrdered(function(n,t){e.push(t)});return e};this.moveUpOrDown=function(e,n){return a.moveUpOrDown(e,n)};this.moveBefore=function(e,n){return a.moveBefore(e,n)};this.moveToEnd=function(e){return a.moveToEnd(e)};this.copyElement=function(e){var n,t,r;n=a.getItem(e);if(!n){return}r=c.generateId();if(n.copy&&typeof n.copy==="function"){t=n.copy(r)}else{t=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(n)}t.getId=function(){return r};a.setItem(r,t);return r};this.copy=function(r){var s={elements:new t.constructors.Hashtable(t.instances.messageHandler),elementCounter:i};var c;var u;a.getKeysOrdered().forEach(function(n){c=a.getItem(n);u=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(c);if(r&&n.indexOf(e)===0){n=n.replace(o,r)}t.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created without name in copy - 1");if(typeof u==="object"&&u.getId&&typeof u.getId==="function"){u.getId=function(){return n}}s.elements.setItem(n,u)});t.instances.messageHandler.check(e!==undefined||r!==undefined,"ElementContainer: Element has been created without name in copy 2");return new sap.apf.modeler.core.ElementContainer(r||e,n,t,s)};function u(e,r,i){var s;t.instances.messageHandler.check(r!==undefined,"ElementContainer: Element has been created with undefined id");if(typeof i==="function"){s=new i(r,t)}else if(typeof n==="function"){if(n!==sap.apf.modeler.core.ElementContainer){s=new n(r,t)}else{s=new n(r,undefined,t)}}else{s={}}s.getId=function(){return r};if(e){s=jQuery.extend(s,e)}a.setItem(r,s);return s}};sap.apf.modeler.core.ElementContainer=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/facetFilter", ["sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";function t(e,i,n){var r,o,l,s,u,c,f,a,h,p,d,v,S,F,y,m=true;if(!n){r={forValueHelp:{service:undefined,entitySet:undefined},forFilterResolution:{service:undefined,entitySet:undefined}};o=new i.constructors.ElementContainer("SelectPropertyValueHelp",undefined,i);l=new i.constructors.ElementContainer("SelectPropertyFilterResolution",undefined,i);s={};u={};c=[];S=false;y=false}else{r=n.request;o=n.selectPropertyForValueHelp;l=n.selectPropertyForFilterResolution;s=n.metadata;u=n.label;d=n.preselectionFunction;c=n.preselectionDefaults;f=n.valueList;a=n.property;h=n.alias;p=n.labelKey;F=n.invisible;S=n.isMultiSelectionActive;v=n.hasAutomaticSelection;y=n.useSameRequestForValueHelpAndFilterResolution;m=n.hasNoneSelection}this.getId=function(){return e};this.setMultiSelection=function(e){S=e};this.isMultiSelection=function(){return S};this.setInvisible=function(){F=true};this.setVisible=function(){F=undefined};this.isVisible=function(){return!F};this.setAlias=function(e){h=e};this.getAlias=function(){return h};this.setNoneSelection=function(e){m=e;if(m){v=false;this.removePreselectionDefaults();this.removePreselectionFunction()}};this.getNoneSelection=function(){return m};this.setAutomaticSelection=function(e){i.instances.messageHandler.check(typeof e==="boolean","facetFilter wrong input for setAutomaticSelection");v=e;if(v){m=false;this.removePreselectionFunction();this.removePreselectionDefaults()}};this.getAutomaticSelection=function(){return v};this.setPreselectionFunction=function(e){d=e;v=false;m=false;this.removePreselectionDefaults()};this.getPreselectionFunction=function(){return d};this.removePreselectionFunction=function(){d=undefined};this.setPreselectionDefaults=function(e){c=e;v=false;m=false;this.removePreselectionFunction()};this.getPreselectionDefaults=function(){return c};this.removePreselectionDefaults=function(){c=[]};this.setValueList=function(e){var t=Array.isArray(e);if(t&&e.length>0&&i(e)){f=jQuery.extend([],e)}else if(t&&e.length==0){f=undefined}function i(e){for(var t=0,i=e.length;t<i;t++){if(typeof e[t]!="string"){return false}}return true}};this.getValueList=function(){if(!f){return[]}return jQuery.extend([],f)};this.setLabelKey=function(e){p=e};this.getLabelKey=function(){return p};this.setProperty=function(e){a=e};this.getProperty=function(){return a};this.setUseSameRequestForValueHelpAndFilterResolution=function(e){var t=this;if(e){var i=this.getServiceOfValueHelp();this.setServiceOfFilterResolution(i);var n=this.getEntitySetOfValueHelp();this.setEntitySetOfFilterResolution(n);var r=this.getSelectPropertiesOfFilterResolution();r.forEach(function(e){t.removeSelectPropertyOfFilterResolution(e)});r=this.getSelectPropertiesOfValueHelp();r.forEach(function(e){t.addSelectPropertyOfFilterResolution(e)})}y=e};this.getUseSameRequestForValueHelpAndFilterResolution=function(){return y};this.setServiceOfValueHelp=function(e){r.forValueHelp.service=e;if(y){r.forFilterResolution.service=e}};this.getServiceOfValueHelp=function(){return r.forValueHelp.service};this.setEntitySetOfValueHelp=function(e){r.forValueHelp.entitySet=e;if(y){r.forFilterResolution.entitySet=e}};this.getEntitySetOfValueHelp=function(){return r.forValueHelp.entitySet};this.getSelectPropertiesOfValueHelp=function(){var e=[];var t;t=o.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeSelectPropertyOfValueHelp=function(e){o.removeElement(e);if(y){l.removeElement(e)}};this.addSelectPropertyOfValueHelp=function(e){o.createElementWithProposedId(undefined,e);if(y){l.createElementWithProposedId(undefined,e)}};this.setServiceOfFilterResolution=function(e){if(y){return}r.forFilterResolution.service=e};this.getServiceOfFilterResolution=function(){return r.forFilterResolution.service};this.setEntitySetOfFilterResolution=function(e){if(y){return}r.forFilterResolution.entitySet=e};this.getEntitySetOfFilterResolution=function(){return r.forFilterResolution.entitySet};this.getSelectPropertiesOfFilterResolution=function(){var e=[];var t;t=l.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeSelectPropertyOfFilterResolution=function(e){if(y){return}l.removeElement(e)};this.addSelectPropertyOfFilterResolution=function(e){if(y){return}l.createElementWithProposedId(undefined,e)};this.copy=function(e){var n={request:r,selectPropertyForValueHelp:o,selectPropertyForFilterResolution:l,metadata:s,label:u,preselectionFunction:d,preselectionDefaults:c,valueList:f,property:a,alias:h,labelKey:p,invisible:F,isMultiSelectionActive:S,hasAutomaticSelection:v,hasNoneSelection:m};var y=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(n);return new t(e||this.getId(),i,y)}}e("sap.apf.modeler.core.FacetFilter",t);return t});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/hierarchicalStep", ["sap/apf/modeler/core/step","sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";function r(t,a,i){e.call(this,t,a,i);var n;var o=this.createRepresentation;if(i){n=i.hierarchyProperty}this.getType=function(){return"hierarchicalStep"};this.getHierarchyProperty=function(){return n};this.setHierarchyProperty=function(e){n=e;this.getRepresentationContainer().getElements().forEach(function(e){e.setHierarchyProperty(n)})};this.createRepresentation=function(e){var t=o(e);if(n){t.setHierarchyProperty(n)}return t};this.getConsumableSortPropertiesForRepresentation=function(e){var t=this;var r=jQuery.Deferred();this.getAvailableProperties().done(function(i){a.instances.metadataFactory.getMetadata(t.getService()).then(function(a){var n=[];i.forEach(function(e){var r=a.getPropertyMetadata(t.getEntitySet(),e);if(r["aggregation-role"]==="measure"){n.push(e)}});r.resolve({available:n,consumable:t.getConsumableProperties(n,t.getSortPropertiesFromRepresentation(e))})},function(){r.resolve({available:[],consumable:[]})})});return r.promise()};this.copy=function(e){var t=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(this.getDataForCopy());t.hierarchyProperty=n;t.representationContainer=this.getRepresentationContainer().copy((e||this.getId())+"-Representation");return new r(e||this.getId(),a,t)}}t("sap.apf.modeler.core.HierarchicalStep",r);return r});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/instance", ["sap/ui/thirdparty/datajs","sap/apf/utils/hashtable","sap/apf/utils/utils","sap/apf/core/constants","sap/apf/core/messageHandler","sap/apf/core/sessionHandler","sap/apf/core/representationTypes","sap/apf/core/entityTypeMetadata","sap/apf/core/configurationFactory","sap/apf/core/utils/uriGenerator","sap/apf/core/metadata","sap/apf/core/metadataFacade","sap/apf/core/metadataProperty","sap/apf/core/messageDefinition","sap/apf/core/metadataFactory","sap/apf/core/odataProxy","sap/apf/cloudFoundry/modelerProxy","sap/apf/cloudFoundry/ajaxHandler","sap/apf/utils/proxyTextHandlerForLocalTexts","sap/apf/core/ajax","sap/apf/core/odataRequest","sap/apf/modeler/core/messageDefinition","sap/apf/modeler/core/textHandler","sap/apf/modeler/core/textPool","sap/apf/modeler/core/applicationHandler","sap/apf/modeler/core/configurationHandler","sap/apf/modeler/core/configurationEditor","sap/apf/modeler/core/step","sap/apf/modeler/core/hierarchicalStep","sap/apf/modeler/core/smartFilterBar","sap/apf/modeler/core/facetFilter","sap/apf/modeler/core/navigationTarget","sap/apf/modeler/core/elementContainer","sap/apf/modeler/core/representation","sap/apf/modeler/core/configurationObjects","sap/apf/utils/parseTextPropertyFile","sap/apf/modeler/core/lazyLoader","sap/apf/modeler/core/registryWrapper","sap/apf/utils/exportToGlobal","sap/apf/utils/startParameter","sap/apf/core/utils/fileExists","sap/apf/core/utils/annotationHandler","sap/ui/thirdparty/jquery"],function(e,t,a,n,r,o,i,s,c,u,f,p,l,d,g,m,y,v,h,C,x,A,H,F,T,S,M,b,j,P,O,E,L,R,w,N,U,D,I,G,q,V,jQuery){"use strict";function k(e,n){var r=this;var o,i,s,c,u,f,p,l,d,g,m,y,v,h,C,x,A,S,M,j,P,O,E,L,R,w,U,D,I,G,q,V,k,B,z,W,K,J,X,$,Q,Y;var Z=[];var _;var ee;o=n&&n.constructors&&n.constructors.ApplicationHandler||T;s=n&&n.constructors&&n.constructors.ConfigurationHandler||sap.apf.modeler.core.ConfigurationHandler;c=n&&n.constructors&&n.constructors.ConfigurationEditor||sap.apf.modeler.core.ConfigurationEditor;u=n&&n.constructors&&n.constructors.ConfigurationObjects||sap.apf.modeler.core.ConfigurationObjects;f=n&&n.constructors&&n.constructors.ConfigurationFactory||sap.apf.core.ConfigurationFactory;v=n&&n.constructors&&n.constructors.ElementContainer||sap.apf.modeler.core.ElementContainer;p=n&&n.constructors&&n.constructors.Step||b;l=n&&n.constructors&&n.constructors.HierarchicalStep||sap.apf.modeler.core.HierarchicalStep;d=n&&n.constructors&&n.constructors.SmartFilterBar||sap.apf.modeler.core.SmartFilterBar;g=n&&n.constructors&&n.constructors.FacetFilter||sap.apf.modeler.core.FacetFilter;m=n&&n.constructors&&n.constructors.NavigationTarget||sap.apf.modeler.core.NavigationTarget;y=n&&n.constructors&&n.constructors.Representation||sap.apf.modeler.core.Representation;C=n&&n.constructors&&n.constructors.Hashtable||t;x=n&&n.constructors&&n.constructors.RegistryProbe||sap.apf.modeler.core.RegistryWrapper;O=n&&n.constructors&&n.constructors.LazyLoader||sap.apf.modeler.core.LazyLoader;A=n&&n.constructors&&n.constructors.Metadata||sap.apf.core.Metadata;S=n&&n.constructors&&n.constructors.EntityTypeMetadata||sap.apf.core.EntityTypeMetadata;M=n&&n.constructors&&n.constructors.MetadataFacade||sap.apf.core.MetadataFacade;j=n&&n.constructors&&n.constructors.MetadataProperty||sap.apf.core.MetadataProperty;P=n&&n.constructors&&n.constructors.MetadataFactory||sap.apf.core.MetadataFactory;E=n&&n.constructors&&n.constructors.StartParameter||sap.apf.utils.StartParameter;L=n&&n.constructors&&n.constructors.AnnotationHandler||sap.apf.core.utils.AnnotationHandler;h=n&&n.constructors&&n.constructors.FileExists||sap.apf.core.utils.FileExists;R=n&&n.constructors&&n.constructors.ProxyTextHandlerForLocalTexts||sap.apf.utils.ProxyTextHandlerForLocalTexts;i=n&&n.constructors&&n.constructors.AjaxHandler||sap.apf.cloudFoundry.AjaxHandler;ee=n&&n.instances&&n.instances.datajs||OData;if(n&&n.constructors&&n.constructors.TextHandler){w=new n.constructors.TextHandler}else{w=new H}if(n&&n.constructors&&n.constructors.MessageHandler){U=new n.constructors.MessageHandler(true)}else{U=new sap.apf.core.MessageHandler(true)}U.activateOnErrorHandling(true);U.loadConfig(sap.apf.core.messageDefinition);U.loadConfig(sap.apf.modeler.core.messageDefinition);U.setTextResourceHandler(w);if(n&&n.instances&&n.instances.component){Y={};Y.baseManifest=Object.getPrototypeOf(n.instances.component).getMetadata().getManifest();Y.manifest=jQuery.extend({},true,n.instances.component.getMetadata().getManifest())}I=new E(n&&n.instances&&n.instances.component,Y);this.getStartParameterFacade=function(){return I};this.ajax=function(e){var t=jQuery.extend(true,{},e);t.functions=t.functions||{};t.functions.getSapSystem=I.getSapSystem;if(n&&n.functions&&n.functions.ajax){t.functions.ajax=n.functions.ajax}t.instances={messageHandler:U};return sap.apf.core.ajax(t)};var te=new R({instances:{messageHandler:U}});V={manifests:Y,instances:{messageHandler:U,coreApi:this,proxyTextHandlerForLocalTexts:te}};var ae=n&&n.functions&&n.functions.isUsingCloudFoundryProxy&&n.functions.isUsingCloudFoundryProxy();if(ae){B={instances:{messageHandler:U},functions:{coreAjax:this.ajax}};V.instances.ajaxHandler=new i(B)}if(n&&n.constructors&&n.constructors.PersistenceProxy){G=new n.constructors.PersistenceProxy(e,V)}else{if(ae){G=new sap.apf.cloudFoundry.modelerProxy.ModelerProxy(e,V)}else if(Y&&Y.manifest["sap.apf"]&&Y.manifest["sap.apf"].activateLrep){G=new sap.apf.core.LayeredRepositoryProxy(e,V)}else{G=new sap.apf.core.OdataProxy(e,V)}}if(n&&n.constructors&&n.constructors.SessionHandler){D=new n.constructors.SessionHandler(V)}else{D=new sap.apf.core.SessionHandler(V)}var ne={functions:{getSapSystem:I.getSapSystem,getComponentNameFromManifest:a.getComponentNameFromManifest,getODataPath:sap.apf.core.utils.uriGenerator.getODataPath,getBaseURLOfComponent:sap.apf.core.utils.uriGenerator.getBaseURLOfComponent,addRelativeToAbsoluteURL:sap.apf.core.utils.uriGenerator.addRelativeToAbsoluteURL},instances:{fileExists:new h({functions:{ajax:this.ajax,getSapSystem:I.getSapSystem}})}};var re=new L(ne);k={constructors:{EntityTypeMetadata:S,Hashtable:C,Metadata:A,MetadataFacade:M,MetadataProperty:j},functions:{getServiceDocuments:function(){return[e.serviceRoot]},getSapSystem:I.getSapSystem},instances:{messageHandler:U,coreApi:r,annotationHandler:re},deactivateFatalError:true};q=new P(k);z={constructors:{Hashtable:C},instances:{messageHandler:U}};this.getCatalogServiceUri=n&&n.functions&&n.functions.getCatalogServiceUri;W=n&&n.functions&&n.functions.odataRequestWrapper||sap.apf.core.odataRequestWrapper;this.odataRequest=function(e,t,a,n){var r={instances:{datajs:ee},functions:{getSapSystem:I.getSapSystem}};W(r,e,t,a,n)};this.checkForTimeout=function(e){var t=sap.apf.core.utils.checkForTimeout(e);if(t){U.putMessage(t)}return t};this.getEntityTypeMetadataAsPromise=function(e,t){return q.getEntityTypeMetadata(e,t)};this.getEntityTypeMetadata=this.getEntityTypeMetadataAsPromise;this.getXsrfToken=function(e){return D.getXsrfToken(e)};this.getUriGenerator=function(){return sap.apf.core.utils.uriGenerator};this.getText=function(e,t){return w.getText(e,t)};this.putMessage=function(e){return U.putMessage(e)};this.check=function(e,t,a){return U.check(e,t,a)};this.createMessageObject=function(e){return U.createMessageObject(e)};this.setCallbackForMessageHandling=function(e){U.setMessageCallback(e)};this.isUsingCloudFoundryProxy=function(){return ae||false};this.isVendorContentAvailable=function(){if(I.isLrepActive()||ae&&this.getGenericExit("hasVendorContent")&&this.getGenericExit("hasVendorContent")()){return true}return false};this.importConfigurationFromVendorLayer=function(e,t,a,n){if(ae){this.getApplicationHandler(function(r,o){if(o){n(undefined,undefined,o);return}G.importVendorContent(e,t,a,n,r.registerApplicationCreatedOnServer)})}else{oe(e,t,a,n)}};function oe(e,t,a,n){var o;G.readAllConfigurationsFromVendorLayer().then(function(a){var n=e+"."+t;var s;for(s=0;s<a.length;s++){if(a[s].value===n){o=a[s].applicationText;break}}r.getApplicationHandler(i)});function i(t,a){if(a){n(undefined,undefined,a);return}var r=false;var i=t.getApplication(e);if(!i){r=true}var c={ApplicationName:o};t.setAndSave(c,s,e,r)}function s(e,a,r){if(r){n(t,undefined,r);return}c()}function c(){var t=new sap.apf.core.utils.Filter(U,"Language","eq",sap.apf.core.constants.developmentLanguage);var a=new sap.apf.core.utils.Filter(U,"Application","eq",e);a.addAnd(t);G.readCollection("texts",u,undefined,undefined,a,{layer:"VENDOR"})}function u(a,r,o){if(o){n(t,undefined,o);return}ie(a,e,f)}function f(a){if(a){n(t,undefined,a);return}G.readEntity("configuration",p,[{value:t}],undefined,e,{layer:"VENDOR"})}function p(e,t,r){if(r){n(undefined,t,r);return}var o=JSON.parse(e.SerializedAnalyticalConfiguration);se(o,a,n)}}function ie(e,t,a){r.getApplicationHandler(o);function n(n,r,o){var i;var s;if(o){a(o)}else{i={instances:{messageHandler:U,persistenceProxy:G},constructors:{Hashtable:C},isUsingCloudFoundryProxy:ae};s=new F(i,t,n);s.addTextsAndSave(e,a,t)}}function o(r,o){if(o){a(o);return}var i;var s=r.getApplication(t);if(!s){i=U.createMessageObject({code:11021});a(i);return}if(X&&X.getId()===t){X.getInstance().getTextPool().addTextsAndSave(e,a,t)}else{var c=new sap.apf.core.utils.Filter(U,"Application","eq",t);var u=new sap.apf.core.utils.Filter(U,"Language","eq",sap.apf.core.constants.developmentLanguage);u.addAnd(c);G.readCollection("texts",n,undefined,undefined,u)}}}this.importTexts=function(e,t){var a;var n;var r;var o=N(e,{instances:{messageHandler:U}});if(o.Messages.length>0){a=U.createMessageObject({code:11020});n=o.Messages.length;for(r=0;r<n-1;r++){o.Messages[r+1].setPrevious(o.Messages[r])}a.setPrevious(o.Messages[n-1]);t(a)}else{ie(o.TextElements,o.Application,t)}};function se(e,t,a){var n=e.configHeader;r.getApplicationHandler(o);function o(e,t){if(t){a(undefined,undefined,t);return}var o=false;var c=e.getList();c.forEach(function(e){if(e.Application===n.Application){o=true}});if(o){r.getConfigurationHandler(n.Application,s)}else{var u={ApplicationName:n.ApplicationName,SemanticObject:n.SemanticObject};e.setAndSave(u,i,n.Application,true)}}function i(e,t,o){if(o){a(undefined,undefined,o);return}r.getConfigurationHandler(n.Application,s)}function s(r,o){if(o){a(undefined,undefined,o);return}var i=jQuery.extend({},e,true);delete i.configHeader;var s=false;var u=r.getList();u.forEach(function(e){if(e.AnalyticalConfiguration===n.AnalyticalConfiguration){s=true}});if(s){t(p,l,n.AnalyticalConfigurationName)}else{r.setConfiguration({AnalyticalConfigurationName:n.AnalyticalConfigurationName},n.AnalyticalConfiguration);var f={id:n.AnalyticalConfiguration,creationDate:n.CreationUTCDateTime,lastChangeDate:n.LastChangeUTCDateTime,content:i};r.loadConfiguration(f,c)}function p(){r.setConfiguration({AnalyticalConfigurationName:n.AnalyticalConfigurationName},n.AnalyticalConfiguration);var e={updateExisting:true,id:n.AnalyticalConfiguration,creationDate:n.CreationUTCDateTime,lastChangeDate:n.LastChangeUTCDateTime,content:i};r.loadConfiguration(e,c)}function l(e){if(e&&e!==""){n.AnalyticalConfigurationName=e}var t=r.setConfiguration({AnalyticalConfigurationName:n.AnalyticalConfigurationName});var a={id:t,content:i};r.loadConfiguration(a,c)}}function c(e,t){if(t){a(undefined,undefined,t);return}e.save(a)}}this.importConfiguration=function(e,t,n){var r=JSON.parse(e);if(!o(r,n)){return}se(r,t,n);function o(t,n){var r=[],o=true,i;if(!a.isValidGuid(t.configHeader.Application)){r.push(U.createMessageObject({code:11037,aParameters:[t.configHeader.Application]}));o=false}if(!a.isValidGuid(t.configHeader.AnalyticalConfiguration)){r.push(U.createMessageObject({code:11038,aParameters:[t.configHeader.AnalyticalConfiguration]}));o=false}i=sap.apf.modeler.core.ConfigurationObjects.getTextKeysFromConfiguration(t);i.forEach(function(e){var t=new C(U);if(!t.hasItem(e)){t.setItem(e,e);if(!a.isValidGuid(e)){r.push(U.createMessageObject({code:11039,aParameters:[e]}));o=false}}});if(o){return o}r.forEach(function(e,t,a){if(t){e.setPrevious(a[t-1])}});n(e,undefined,r[r.length-1]);return o}};this.getApplicationHandler=function(e){if(!J){var t=n&&n.functions&&n.functions.loadApplicationHandler||a;J=new O(z,t)}J.asyncGetInstance("ApplicationHandlerId",e);function a(e,t){new o({instances:{messageHandler:U,persistenceProxy:G},constructors:{Hashtable:C},functions:{resetConfigurationHandler:n}},a);function a(a,n){t(e,a,n)}function n(e){if(X&&X.getId()===e){X.getInstance().removeAllConfigurations();X.reset()}}}};this.getConfigurationHandler=function(e,t){if(!X){K=n&&n.functions&&n.functions.loadConfigurationHandler||a;X=new O(z,K)}X.asyncGetInstance(e,t);function a(e,t,a){var n=new sap.apf.core.utils.Filter(U,"Application","eq",e);var o=new sap.apf.core.utils.Filter(U,"Language","eq",sap.apf.core.constants.developmentLanguage);o.addAnd(n);var i=[];var h=["AnalyticalConfiguration","AnalyticalConfigurationName","Application","CreatedByUser","CreationUTCDateTime","LastChangeUTCDateTime","LastChangedByUser"];i.push({entitySetName:"configuration",filter:n,selectList:h});i.push({entitySetName:"texts",filter:o});G.readCollectionsInBatch(i,A);function A(n,o){var i,h;var A;var H;var T=a;if(o){t(e,undefined,o)}else{A=n[0];H=n[1];h={instances:{messageHandler:U,persistenceProxy:G},constructors:{Hashtable:C},isUsingCloudFoundryProxy:ae};i=new F(h,e,H);if(!T){T=new s({instances:{messageHandler:U,persistenceProxy:G,coreApi:r,metadataFactory:q},constructors:{ConfigurationEditor:c,ConfigurationFactory:f,ConfigurationObjects:u,ElementContainer:v,EntityTypeMetadata:S,SmartFilterBar:d,FacetFilter:g,NavigationTarget:m,Hashtable:C,Representation:y,RegistryProbe:x,Step:p,HierarchicalStep:l,LazyLoader:O},functions:{getApplication:J.getInstance().getApplication}})}T.setApplicationIdAndContext(e,A,i);t(e,T,o)}}}};this.getUnusedTextKeys=function(e,t){var a={instances:{messageHandler:U,persistenceProxy:G},constructors:{Hashtable:C}};var n=new u(a);var r=null,o=null,i=null;n.getTextKeysFromAllConfigurations(e,function(e,t){if(o){return}r=e;o=t;if(t||i){s()}});this.getConfigurationHandler(e,function(e,t){if(o){return}i=e;o=t;if(t||r){s()}});function s(){var e=[];if(o){t(undefined,o);return}i.getTextPool().getTextKeys().forEach(function(t){if(!r.hasItem(t)){e.push(t)}});t(e,undefined)}};this.resetConfigurationHandler=function(){if(X){X.reset()}};this.getRepresentationTypes=function(){var e=sap.apf.core.representationTypes();var t=[];jQuery.extend(true,t,e);return t};this.getAllAvailableSemanticObjects=function(e){if(Q){e(Q,_);return}if(_){e([],_);return}Z.push(e);if(Z.length===1){var t={requestUri:"/sap/opu/odata/UI2/INTEROP/SemanticObjects?$format=json&$select=id,text",method:"GET",isSemanticObjectRequest:true};r.odataRequest(t,a,n)}function a(e,t){Q=e.results;Z.forEach(function(t){t(e.results,undefined)})}function n(e){var t;if(e&&e.messageObject){t=e.messageObject}else{U.createMessageObject({code:"11041"});Q=[]}_=t;Z.forEach(function(e){e([],t)})}};this.getSemanticActions=function(e){var t;var a=jQuery.Deferred();if(!$){$=new C(U)}t=$.getItem(e);if(t){a.resolve(t);return a.promise()}r.getAllAvailableSemanticObjects(o);return a.promise();function o(t,r){if(r){a.reject(r);return}var o=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");var i={id:e,text:""};var s;for(s=0;s<t.length;s++){if(t[s].id===e){i=t[s];break}}if(!o){U.createMessageObject({code:"5038"});var c={semanticObject:i,semanticActions:[]};$.setItem(e,c);a.resolve(c)}else{o.getLinks({semanticObject:i.id,ignoreFormFactor:true,ui5Component:n.instances.component}).done(function(t){var n=[];t.forEach(function(e){var t=e.intent.split("-");var a=t[1].split("?");a=a[0].split("~");n.push({id:a[0],text:e.text})});var r={semanticObject:i,semanticActions:n};$.setItem(e,r);a.resolve(r)}).fail(function(){a.reject(U.createMessageObject({code:"11042"}))})}}};this.navigateToGenericRuntime=function(e,t,a){var o;if(n&&n.exits&&n.exits.getRuntimeUrl&&jQuery.isFunction(n.exits.getRuntimeUrl)){o=n.exits.getRuntimeUrl(e,t)}else{var i=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");var s={};if(r.getStartParameterFacade().isLrepActive()){s["sap-apf-configuration-id"]=e+"."+t}else{s["sap-apf-configuration-id"]=t}var c=i.hrefForExternal({target:n.functions.getNavigationTargetForGenericRuntime(),params:s});var u=jQuery(location).attr("href");var f=u.split("#")[0];o=f+c}a(o)};this.readAllConfigurationsFromVendorLayer=function(){return G.readAllConfigurationsFromVendorLayer()};this.showSemanticObject=function(){if(I.isLrepActive()||ae){return false}return true};this.getGenericExit=function(e){if(n&&n.exits&&n.exits[e]&&typeof n.exits[e]==="function"){return n.exits[e]}return undefined};this.getComponent=function(){return n&&n.instances&&n.instances.component};if(n&&n.probe&&typeof n.probe==="function"){n.probe({constructors:{ApplicationHandler:o,ConfigurationHandler:s,ConfigurationEditor:c,ConfigurationObjects:u,ConfigurationFactory:f,MetadataFactory:P,Metadata:A,EntityTypeMetadata:S,MetadataFacade:M,MetadataProperty:j,Step:p,HierarchicalStep:l,SmartFilterBar:d,FacetFilter:g,NavigationTarget:m,Representation:y,ElementContainer:v,Hashtable:C,LazyLoader:O,AnnotationHandler:L,ProxyTextHandlerForLocalTexts:R,RegistryProbe:x},textHandler:w,messageHandler:U,sessionHandler:D,persistenceProxy:G,metadataFactory:q,injectForFollowUp:V,injectMetadataFactory:k,fnOdataRequestWrapper:W,proxyTextHandlerForLocalTexts:te,ajax:this.ajax,odataRequestWrapper:W,annotationHandler:re})}}I("sap.apf.modeler.core.Instance",k);return k});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/lazyLoader", ["sap/apf/utils/exportToGlobal"],function(n){"use strict";function i(n,i,e){var t=n.constructors.Hashtable;var s={id:null,instance:null,messageObject:null,isInitializing:false,callbacksFromAsyncGet:new t(n.instances.messageHandler)},a=null;if(e){s.id=e.id;s.instance=e.instance}this.type="lazyLoader";this.getId=function(){return s.id};this.getInstance=function(){return s.instance};this.isInitializing=function(){return s.isInitializing};this.reset=function(){a=s.instance;s={id:null,instance:null,messageObject:null,isInitializing:false,callbacksFromAsyncGet:new t(n.instances.messageHandler)}};this.asyncGetInstance=function(n,e){function t(n){if(n===null){return undefined}return n}var r;if(!n){return}if(s.id&&n!==s.id){this.reset()}if(s.id&&(s.instance||s.messageObject)){r=t(s.messageObject);e(s.instance,r,s.id);return}l(e);if(!s.isInitializing){s.isInitializing=true;s.id=n;i(n,c,a)}};function c(n,i,e){if(n!==s.id){return}s.isInitializing=false;if(!e){s.instance=i}else{s.messageObject=e}s.callbacksFromAsyncGet.each(function(n,i){i.forEach(function(n){n(s.instance,e,s.id)})});s.callbacksFromAsyncGet=null}function l(n){var i;var e,t;t=s.callbacksFromAsyncGet.getItem(n);if(!t){s.callbacksFromAsyncGet.setItem(n,[n]);return}e=false;for(i=0;i<t.length;i++){if(t[i]===n){e=true;break}}if(!e){t.push(n)}}}n("sap.apf.modeler.core.LazyLoader",i);return i});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/messageDefinition", ["sap/apf/utils/exportToGlobal"],function(e){"use strict";var r=[{code:"11005",severity:"technError",text:"Bad HTTP request returned status code {0} with status text {1}."},{code:"11006",severity:"technError",text:"Unknown identifier: {0}"},{code:"11007",severity:"technError",text:"Cannot export unsaved configuration. Configuration ID: {0}"},{code:"11013",severity:"technError",text:"Metadata request {0} to server failed."},{code:"11016",severity:"error",description:"Sorting options must be supplied when setting top n",key:"11016"},{code:"11020",severity:"error",description:"Text property has invalid format and cannot be imported - see previous messages for details",key:"11020"},{code:"11021",severity:"error",description:"ApfApplicationId {0} referenced in the text property is not yet existing - please load one configuration of the application before importing the texts.",key:"11021"},{code:"11030",severity:"error",description:"Label {0} is not valid",key:"11030"},{code:"11031",severity:"error",description:"Category {0} is not valid",key:"11031"},{code:"11032",severity:"error",description:"Request {0} is not valid",key:"11032"},{code:"11033",severity:"error",description:"Binding {0} is not valid",key:"11033"},{code:"11034",severity:"error",description:"Facet filter {0} is not valid",key:"11034"},{code:"11035",severity:"error",description:"Step {0} is not valid",key:"11035"},{code:"11036",severity:"error",description:"Configuration is not valid",key:"11036"},{code:"11037",severity:"error",description:"Invalid application guid {0}",key:"11037"},{code:"11038",severity:"error",description:"Invalid configuration guid {0}",key:"11038"},{code:"11039",severity:"error",description:"Invalid text guid {0}",key:"11039"},{code:"11040",severity:"error",description:"Navigation target {0} is not valid",key:"11040"},{code:"11041",severity:"technError",text:"Network service for retrieving semantic objects failed - see console."},{code:"11042",severity:"technError",text:"Error occurred when retrieving actions for semantic object - see console."},{code:"11500",severity:"error",description:"An error occurred while attempting to save the application.",key:"11500"},{code:"11501",severity:"error",description:"An error occurred while attempting to delete the application.",key:"11501"},{code:"11502",severity:"error",description:"An error occurred while importing the configuration.",key:"11502"},{code:"11503",severity:"error",description:"An error occurred while importing the text properties file.",key:"11503"},{code:"11504",severity:"technError",description:"An error occurred while retrieving the semantic objects available.",key:"11504"},{code:"11505",severity:"technError",description:"An error occurred while retrieving the actions for the given semantic object.",key:"11505"},{code:"11506",severity:"error",description:"An error occurred while getting the unused texts.",key:"11506"},{code:"11507",severity:"error",description:"An error occurred while doing the text pool cleanup.",key:"11507"},{code:"11508",severity:"fatal",description:"The app has stopped working due to a technical error.",key:"11508"},{code:"11509",severity:"fatal",description:"OData service is not available. You cannot create a new application or change existing ones.",key:"11509"},{code:"11510",severity:"success",description:"Application has been deleted.",key:"11510"},{code:"11511",severity:"success",description:"Cleanup of text pool completed.",key:"11511"},{code:"11512",severity:"success",description:"Application has been saved.",key:"11512"},{code:"11513",severity:"success",description:"Configuration is saved.",key:"11513"},{code:"11514",severity:"error",description:"Error in saving the configuration.",key:"11514"},{code:"11515",severity:"success",description:"Configuration file imported.",key:"11515"},{code:"11516",severity:"success",description:"Text properties file imported",key:"11516"},{code:"11517",severity:"success",description:"Incorrect extension used for configuration file. Please use .json format.",key:"11517"},{code:"11518",severity:"success",description:"Incorrect extension used for text properties file. Please use .properties format.",key:"11518"},{code:"11519",severity:"success",description:"The configuration file cannot be imported because of an error while reading the file. See the previous messages for details.",key:"11519"},{code:"11520",severity:"success",description:"The application you referenced does not yet exist. You must also upload a configuration file.",key:"11520"},{code:"11521",severity:"success",description:"The configuration file and text properties file do not belong to the same application. The text properties file cannot be imported.",key:"11521"},{code:"11522",severity:"success",description:"The text properties file cannot be imported because of an error while reading the file. See the previous messages for details.",key:"11522"},{code:"11523",severity:"information",description:"Sorting field in section ‘Data Reduction’ has been changed. Please check and adjust if necessary.",key:"11523"},{code:"11524",severity:"technError",text:"The entity type {0} in smart filter bar configuration is not valid - please check service"}];e("sap.apf.modeler.core.messageDefinition",r);return r});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/navigationTarget", ["sap/apf/utils/exportToGlobal"],function(t){"use strict";function e(t,e,i){var n,r,a=false,s,o,c;var u=false;var p=[];if(i){n=i.semObject;r=i.actn;a=i.isStepSpecific;s=i.requestForFilterMapping;o=i.targetPropertiesForFilterMapping;p=i.parameters;c=i.titleKey;u=i.useDynamicParameters}else{s={};o=new e.constructors.ElementContainer("TargetPropertyForFilterMapping",undefined,e)}this.getId=function(){return t};this.setSemanticObject=function(t){n=t};this.getSemanticObject=function(){return n};this.setAction=function(t){r=t};this.getAction=function(){return r};this.isGlobal=function(){return!a};this.isStepSpecific=function(){return a};this.setGlobal=function(){a=false};this.setStepSpecific=function(){a=true};this.setFilterMappingService=function(t){s.service=t};this.getFilterMappingService=function(){return s.service};this.setFilterMappingEntitySet=function(t){s.entitySet=t};this.getFilterMappingEntitySet=function(){return s.entitySet};this.addFilterMappingTargetProperty=function(t){o.createElementWithProposedId(undefined,t)};this.getFilterMappingTargetProperties=function(){var t=[];var e=o.getElements();e.forEach(function(e){t.push(e.getId())});return t};this.removeFilterMappingTargetProperty=function(t){o.removeElement(t)};this.getNavigationParameter=function(t){var e;p.forEach(function(i){if(i.key===t){e=i}});return e};this.getAllNavigationParameters=function(){return p};this.addNavigationParameter=function(t,e,i){if(i===undefined||i>p.length){i=p.length}p.splice(i,0,{key:t,value:e})};this.removeNavigationParameter=function(t){var e;p.forEach(function(i,n){if(i.key===t){e=n}});if(e>=0){p.splice(e,1)}};this.setTitleKey=function(t){c=t};this.setUseDynamicParameters=function(t){u=t};this.getUseDynamicParameters=function(){return u};this.getTitleKey=function(){return c};this.copy=function(t){var i={semObject:n,actn:r,isStepSpecific:a,requestForFilterMapping:s,targetPropertiesForFilterMapping:o,parameters:p,titleKey:c,useDynamicParameters:u};var f=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(i);return new sap.apf.modeler.core.NavigationTarget(t||this.getId(),e,f)}}t("sap.apf.modeler.core.NavigationTarget",e);return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/registryWrapper", ["sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";function e(t){function e(e){var r=[];t.each(function(t,i){if(i.type===e){r.push(i)}});return r}this.getItem=function(e){return t.getItem(e)};this.getSteps=function(){var t=e("step");t=jQuery.merge(t,e("hierarchicalStep"));return t};this.getCategories=function(){return e("category")};this.getFacetFilters=function(){if(t.getItem(sap.apf.core.constants.existsEmptyFacetFilterArray)===true){return{emptyArray:true}}return e("facetFilter")};this.getNavigationTargets=function(){return e("navigationTarget")}}t("sap.apf.modeler.core.RegistryWrapper",e);return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/representation", function(){"use strict";var e=function(e,t,n){var r,i,o,s,a,u,p,f,y,l,c,h,d,m,g;if(!n){o={};s=new t.constructors.ElementContainer("dimension",undefined,t);a=new t.constructors.ElementContainer("measure",undefined,t);u=new t.constructors.ElementContainer("property",undefined,t);c=new t.constructors.ElementContainer("orderBy",undefined,t)}else{d=n.hierarchyProperty;m=n.hierarchyPropertyTextLabelKey;r=n.representationTypeId;i=n.alternateRepresentationTypeId;o=n.width;s=n.dimensions;a=n.measures;u=n.properties;p=n.leftUpperCornerTextKey;f=n.rightUpperCornerTextKey;y=n.leftLowerCornerTextKey;l=n.rightLowerCornerTextKey;c=n.orderByProperties;h=n.topN;g=n.hierarchyLabelDisplayOption}this.getId=function(){return e};this.setRepresentationType=function(e){r=e};this.getRepresentationType=function(){return r};this.setAlternateRepresentationType=function(e){i=e};this.getAlternateRepresentationType=function(){return i};this.getDimensions=function(){var e=[];s.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addDimension=function(e,t){var n;if(s.getElement(e)){return null}n={propertyName:e,textLabelKey:t};return s.createElementWithProposedId(n,e).getId()};this.removeDimension=function(e){s.removeElement(e)};this.setDimensionKind=function(e,t){var n=s.getElement(e);if(n){n.kind=t}};this.getDimensionKind=function(e){var t=s.getElement(e);if(t){return t.kind}return undefined};this.setDimensionTextLabelKey=function(e,t){var n=s.getElement(e);if(n){n.textLabelKey=t}};this.getDimensionTextLabelKey=function(e){var t=s.getElement(e);if(t){return t.textLabelKey}return undefined};this.setLabelDisplayOption=function(e,t){var n=s.getElement(e);if(n){n.labelDisplayOption=t}};this.getLabelDisplayOption=function(e){var t=s.getElement(e);if(t&&t.labelDisplayOption){return t.labelDisplayOption}return undefined};this.setMeasureDisplayOption=function(e,t){var n=a.getElement(e);if(n){n.labelDisplayOption=t}};this.getMeasureDisplayOption=function(e){var t=a.getElement(e);if(t&&t.labelDisplayOption){return t.labelDisplayOption}return undefined};this.getMeasures=function(){var e=[];a.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addMeasure=function(e){var t;if(a.getElement(e)){return null}t={propertyName:e};return a.createElementWithProposedId(t,e).getId()};this.removeMeasure=a.removeElement;this.setMeasureTextLabelKey=function(e,t){var n=a.getElement(e);if(n){n.textLabelKey=t}};this.getMeasureTextLabelKey=function(e){var t=a.getElement(e);if(t){return t.textLabelKey}return undefined};this.setMeasureKind=function(e,t){var n=a.getElement(e);if(n){n.kind=t}};this.getMeasureKind=function(e){var t=a.getElement(e);if(t){if(t.kind==="yAxis1"){t.kind="yAxis"}return t.kind}return undefined};this.setWidthProperty=function(e,t){o[e]=t};this.getWidthProperties=function(){return o};this.getProperties=function(){var e=[];u.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addProperty=function(e,t){if(u.getElement(e)){return null}return u.createElementWithProposedId({propertyName:e,textLabelKey:t},e).getId()};this.removeProperty=function(e){u.removeElement(e)};this.getHierarchyProperty=function(){return d};this.setHierarchyProperty=function(e){if(d!==e){m=undefined;g=undefined}d=e};this.getHierarchyPropertyTextLabelKey=function(){return m};this.setHierarchyPropertyTextLabelKey=function(e){m=e};this.getHierarchyPropertyLabelDisplayOption=function(){return g};this.setHierarchyPropertyLabelDisplayOption=function(e){g=e};this.setPropertyKind=function(e,t){var n=u.getElement(e);if(n){n.kind=t}};this.getPropertyKind=function(e){var t=u.getElement(e);if(t){return t.kind}return undefined};this.setPropertyTextLabelKey=function(e,t){var n=u.getElement(e);if(n){n.textLabelKey=t}};this.getPropertyTextLabelKey=function(e){var t=u.getElement(e);if(t){return t.textLabelKey}return undefined};this.setLeftUpperCornerTextKey=function(e){p=e};this.getLeftUpperCornerTextKey=function(){return p};this.setRightUpperCornerTextKey=function(e){f=e};this.getRightUpperCornerTextKey=function(){return f};this.setLeftLowerCornerTextKey=function(e){y=e};this.getLeftLowerCornerTextKey=function(){return y};this.setRightLowerCornerTextKey=function(e){l=e};this.getRightLowerCornerTextKey=function(){return l};this.setTopN=function(e){h=e};this.getTopN=function(){return h};this.addOrderbySpec=function(e,t){var n;n=c.getElement(e);if(n){n.ascending=t;return n}n={property:e,ascending:t};return c.createElementWithProposedId(n,e).getId()};this.removeOrderbySpec=function(e){c.removeElement(e)};this.removeAllOrderbySpecs=function(){var e=this.getOrderbySpecifications();e.forEach(function(e){c.removeElement(e.property)})};this.getOrderbySpecifications=function(){var e=[];c.getElements().forEach(function(t){e.push({property:t.property,ascending:t.ascending})});return e};this.copy=function(e){var n={representationTypeId:r,alternateRepresentationTypeId:i,width:o,dimensions:s,measures:a,properties:u,leftUpperCornerTextKey:p,rightUpperCornerTextKey:f,leftLowerCornerTextKey:y,rightLowerCornerTextKey:l,orderByProperties:c,topN:h,hierarchyProperty:d,hierarchyPropertyTextLabelKey:m,hierarchyLabelDisplayOption:g};var E=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(n);return new sap.apf.modeler.core.Representation(e||this.getId(),t,E)}};sap.apf.modeler.core.Representation=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/smartFilterBar", ["sap/apf/utils/exportToGlobal"],function(t){"use strict";function e(t){var e,n;var i=false;this.getId=function(){return t};this.setService=function(t){e=t};this.getService=function(){return e};this.setEntitySet=function(t,e){n=t;i=e};this.getEntitySet=function(){return n};this.isEntityTypeConverted=function(){return!i}}t("sap.apf.modeler.core.SmartFilterBar",e);return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/step", ["sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";function t(e,t,r){var n,i,o,s,p,a,u,c,f,l,g,h,d,y,v,m,P,b,T,E,F;P=t.instances.messageHandler;if(!r){n=new t.constructors.ElementContainer(e+"-Representation",t.constructors.Representation,t);i={};o=new t.constructors.ElementContainer("SelectProperty",undefined,t);s=new t.constructors.ElementContainer("FilterProperty",undefined,t);p={};a=new t.constructors.ElementContainer("SelectPropertyForFilterMapping",undefined,t);u=new t.constructors.ElementContainer("TargetPropertyForFilterMapping",undefined,t);f=false;c=new t.constructors.ElementContainer("NavigationTarget",undefined,t)}else{n=r.representationContainer;i=r.request;o=r.selectProperties;s=r.filterProperties;b=r.filterPropertyLabelKey;T=r.filterPropertyLabelDisplayOption;E=r.targetPropertyLabelKey;F=r.targetPropertyLabelDisplayOption;p=r.requestForFilterMapping;a=r.selectPropertiesForFilterMapping;u=r.targetPropertiesForFilterMapping;f=r.keepSourceForFilterMapping;c=r.navigationTargets;l=r.titleId;g=r.longTitleId;h=r.leftUpperCornerTextKey;d=r.rightUpperCornerTextKey;y=r.leftLowerCornerTextKey;v=r.rightLowerCornerTextKey;m=r.topNSettings}this.getType=function(){return"step"};this.getId=function(){return e};this.setTopN=function(e,t){if(t&&t instanceof Array&&t.length>0){this.resetTopN();m={};m.top=e;m.orderby=t}else{P.putMessage(P.createMessageObject({code:11016}));return}n.getElements().forEach(function(t){t.setTopN(e);m.orderby.forEach(function(e){t.addOrderbySpec(e.property,e.ascending)})})};this.setTopNValue=function(e){if(!m){m={}}m.top=e;if(m.orderby){S()}};this.setTopNSortProperties=function(e){if(!m){m={}}if(e&&e.length>0){e.forEach(function(e){if(e.ascending==="true"){e.ascending=true}})}m.orderby=e;if(m.top){S()}};function S(){n.getElements().forEach(function(e){e.setTopN(m.top);e.removeAllOrderbySpecs();m.orderby.forEach(function(t){e.addOrderbySpec(t.property,t.ascending)})})}this.getTopN=function(){if(m&&m.top>0){if(Array.isArray(m.orderby)){var e=this.getSelectProperties();var t;for(t=m.orderby.length-1;t>=0;t--){if(!e.includes(m.orderby[t].property)){m.orderby.splice(t,1);S()}}}return jQuery.extend({},true,m)}};this.resetTopN=function(){m=undefined;n.getElements().forEach(function(e){if(e.getTopN()){e.setTopN(undefined)}})};this.getService=function(){return i.service};this.setService=function(e){i.service=e};this.getEntitySet=function(){return i.entitySet};this.setEntitySet=function(e){i.entitySet=e};this.setTitleId=function(e){l=e};this.getTitleId=function(){return l};this.setLongTitleId=function(e){g=e};this.getLongTitleId=function(){return g};this.getSelectProperties=function(){var e=[];var t=o.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.addSelectProperty=function(e){o.createElementWithProposedId(undefined,e)};this.removeSelectProperty=function(e){o.removeElement(e)};this.getFilterProperties=function(){var e=[];var t=s.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.addFilterProperty=function(e){b=undefined;T=undefined;return s.createElementWithProposedId(undefined,e).getId()};this.removeFilterProperty=function(e){b=undefined;T=undefined;s.removeElement(e)};this.setFilterPropertyLabelKey=function(e){b=e};this.getFilterPropertyLabelKey=function(){return b};this.setFilterPropertyLabelDisplayOption=function(e){T=e};this.getFilterPropertyLabelDisplayOption=function(){return T};this.setFilterMappingService=function(e){p.service=e};this.getFilterMappingService=function(){return p.service};this.setFilterMappingEntitySet=function(e){p.entitySet=e};this.getFilterMappingEntitySet=function(){return p.entitySet};this.addFilterMappingTargetProperty=function(e){E=undefined;F=undefined;u.createElementWithProposedId(undefined,e)};this.getFilterMappingTargetProperties=function(){var e=[];var t=u.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeFilterMappingTargetProperty=function(e){E=undefined;F=undefined;u.removeElement(e)};this.setFilterMappingTargetPropertyLabelKey=function(e){E=e};this.getFilterMappingTargetPropertyLabelKey=function(){return E};this.setFilterMappingTargetPropertyLabelDisplayOption=function(e){F=e};this.getFilterMappingTargetPropertyLabelDisplayOption=function(){return F};this.addNavigationTarget=function(e){c.createElementWithProposedId(undefined,e)};this.getNavigationTargets=function(){var e=[];var t=c.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeNavigationTarget=function(e){c.removeElement(e)};this.setFilterMappingKeepSource=function(e){f=e};this.getFilterMappingKeepSource=function(){return f};this.getRepresentations=n.getElements;this.getRepresentation=n.getElement;this.createRepresentation=function(e){var t;if(e&&e.id){t=n.createElementWithProposedId(e,e.id)}else{t=n.createElement(e)}if(m&&m.top){t.setTopN(m.top);m.orderby.forEach(function(e){t.addOrderbySpec(e.property,e.ascending)})}return t};this.removeRepresentation=n.removeElement;this.copyRepresentation=n.copyElement;this.moveRepresentationBefore=function(e,t){return n.moveBefore(e,t)};this.moveRepresentationUpOrDown=function(e,t){return n.moveUpOrDown(e,t)};this.moveRepresentationToEnd=function(e){return n.moveToEnd(e)};this.setLeftUpperCornerTextKey=function(e){h=e};this.getLeftUpperCornerTextKey=function(){return h};this.setRightUpperCornerTextKey=function(e){d=e};this.getRightUpperCornerTextKey=function(){return d};this.setLeftLowerCornerTextKey=function(e){y=e};this.getLeftLowerCornerTextKey=function(){return y};this.setRightLowerCornerTextKey=function(e){v=e};this.getRightLowerCornerTextKey=function(){return v};this.getConsumablePropertiesForTopN=function(){var e=jQuery.Deferred();this.getAvailableProperties().done(function(t){var r=[];if(m&&m.orderby&&m.orderby.length>0){m.orderby.forEach(function(e){r.push(e.property)})}e.resolve({available:t,consumable:this.getConsumableProperties(t,r)})}.bind(this));return e.promise()};this.getConsumablePropertiesForRepresentation=function(e){var t=jQuery.Deferred();function r(e){var t=[];jQuery.merge(t,e.getDimensions());jQuery.merge(t,e.getMeasures());jQuery.merge(t,e.getProperties());return t}this.getAvailableProperties().done(function(i){if(this.getHierarchyProperty&&this.getHierarchyProperty()){i.push(this.getHierarchyProperty())}var o=[];var s=n.getElement(e);if(s){o=r(s);if(s.getHierarchyProperty){o.push(s.getHierarchyProperty())}}else{o=this.getSelectProperties()}t.resolve({available:i,consumable:this.getConsumableProperties(i,o)})}.bind(this));return t.promise()};this.getConsumableSortPropertiesForRepresentation=function(e){var t=jQuery.Deferred();this.getAvailableProperties().done(function(r){t.resolve({available:r,consumable:this.getConsumableProperties(r,this.getSortPropertiesFromRepresentation(e))})}.bind(this));return t.promise()};this.getSortPropertiesFromRepresentation=function(e){var t=[];var r=n.getElement(e);var i=r.getOrderbySpecifications();i.forEach(function(e){t.push(e.property)});return t};this.getConsumableProperties=function(e,t){var r=[];e.forEach(function(e){if(jQuery.inArray(e,t)===-1){r.push(e)}});return r};this.getAvailableProperties=function(){var e=jQuery.Deferred();var r=[];if(i.service&&i.entitySet){t.instances.metadataFactory.getMetadata(i.service).then(function(t){if(t){var n=t.getAllPropertiesOfEntitySet(i.entitySet);var o=this.getSelectProperties();o.forEach(function(e){if(jQuery.inArray(e,n)!==-1){r.push(e)}})}e.resolve(r)}.bind(this),function(){e.resolve([])})}else{e.resolve([])}return e.promise()};this.copy=function(e){var r=sap.apf.modeler.core.ConfigurationObjects.deepDataCopy(this.getDataForCopy());r.representationContainer=n.copy((e||this.getId())+"-Representation");return new sap.apf.modeler.core.Step(e||this.getId(),t,r)};this.getDataForCopy=function(){return{request:i,selectProperties:o,filterProperties:s,filterPropertyLabelKey:b,filterPropertyLabelDisplayOption:T,requestForFilterMapping:p,selectPropertiesForFilterMapping:a,targetPropertiesForFilterMapping:u,targetPropertyLabelKey:E,targetPropertyLabelDisplayOption:F,navigationTargets:c,keepSourceForFilterMapping:f,titleId:l,longTitleId:g,leftUpperCornerTextKey:h,rightUpperCornerTextKey:d,leftLowerCornerTextKey:y,rightLowerCornerTextKey:v,topNSettings:m}};this.getRepresentationContainer=function(){return n}}e("sap.apf.modeler.core.Step",t);return t});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/textHandler", ["sap/apf/utils/exportToGlobal","sap/ui/model/resource/ResourceModel"],function(e,r){"use strict";function t(){var e;this.getMessageText=function(e,r){return this.getText(e,r)};this.getText=function(r,t){return e.getResourceBundle().getText(r,t)};function t(){var t=sap.ui.require.toUrl("sap/apf/modeler/resources/i18n/texts.properties");e=new r({bundleUrl:t});var s=sap.ui.require.toUrl("sap/apf/resources/i18n/apfUi.properties");e.enhance({bundleUrl:s})}t()}e("sap.apf.modeler.core.TextHandler",t);return t});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/textPool", ["sap/apf/utils/hashtable","sap/apf/core/utils/filter","sap/ui/core/format/DateFormat","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,n,a,r,jQuery){"use strict";function i(e,t,n){var a=e.instances.messageHandler;var i=e.instances.persistenceProxy;var s=e.isUsingCloudFoundryProxy;var o=e.constructors.Hashtable;var m=new o(a);var l=new o(a);var u=new o(a);var p=0;var x={TextElement:sap.apf.core.constants.textKeyForInitialText,Language:sap.apf.core.constants.developmentLanguage,TextElementType:"XFLD",TextElementDescription:"",MaximumLength:10,Application:t,TranslationHint:""};function T(e,t){var n=m.getKeys();var a,r=n.length;var i=t.MaximumLength||10;var s=t.TranslationHint||"";var o;for(a=0;a<r;a++){o=m.getItem(n[a]);if(o.TextElementDescription===e&&o.MaximumLength===i&&o.TranslationHint===s){return n[a]}}return undefined}this.removeTexts=function(e,t,n){var a=[];var r,o;function l(t){var a;if(!t){for(a=0;a<o;a++){m.removeItem(e[a])}}n(t)}o=e.length;if(o===0){n(undefined);return}for(r=0;r<o;r++){if(e[r]===sap.apf.core.constants.textKeyForInitialText){continue}a.push({method:"DELETE",entitySetName:"texts",inputParameters:[{name:"TextElement",value:e[r]},{name:"Language",value:sap.apf.core.constants.developmentLanguage}]})}if(s){i.doChangeOperationsInBatch(a,l,t,true)}else{i.doChangeOperationsInBatch(a,l,t)}};this.isInitialTextKey=function(e){return e===sap.apf.core.constants.textKeyForInitialText};this.addTextsAndSave=function(e,t,n){function a(e,t){return e.TextElement===t.TextElement&&e.TextElementDescription===t.TextElementDescription&&e.MaximumLength===t.MaximumLength&&e.Language===t.Language&&e.TranslationHint===t.TranslationHint}var r;var o=e.length;var l;var u=[];var p=[];var x=[];var T;for(r=0;r<o;r++){if(e[r]===sap.apf.core.constants.textKeyForInitialText){continue}l=m.getItem(e[r].TextElement);if(l){if(!a(l,e[r])){u.push(e[r]);m.setItem(e[r].TextElement,e[r])}}else{p.push(e[r]);m.setItem(e[r].TextElement,e[r])}}o=u.length;for(r=0;r<o;r++){T=[{name:"TextElement",value:u[r].TextElement},{name:"Language",value:u[r].Language}];u[r].MaximumLength=parseInt(u[r].MaximumLength,10);x.push({method:"PUT",entitySetName:"texts",data:u[r],inputParameters:T})}o=p.length;for(r=0;r<o;r++){p[r].MaximumLength=parseInt(p[r].MaximumLength,10);x.push({method:"POST",entitySetName:"texts",data:p[r]})}if(x.length>0){if(s){i.doChangeOperationsInBatch(x,t,n,false)}else{i.doChangeOperationsInBatch(x,t,n)}}else{t(undefined)}};this.exportTexts=function(e){var n=r.renderHeaderOfTextPropertyFile(t,a);var i={TextElement:"AnalyticalConfigurationName",Language:sap.apf.core.constants.developmentLanguage,TextElementType:"XTIT",TextElementDescription:e,MaximumLength:250,Application:t,TranslationHint:""};return n+r.renderTextEntries(m,a)+r.renderEntryOfTextPropertyFile(i,a)};this.get=function(e){var t,n;if(e===sap.apf.core.constants.textKeyForInitialText){return x}if(m.hasItem(e)){return m.getItem(e)}if(l.hasItem(e)){t=l.getItem(e);if(t.TextElementDescription){return t}return m.getItem(t)}n=jQuery.extend({},true,x);n.TextElement=e;n.TextElementDescription=e;return n};this.getPersistentKey=function(e){return e};this.setTextAsPromise=function(e,n){var r;var s=jQuery.Deferred();var o=function(e,t,n){if(n){a.putMessage(n)}if(e){m.setItem(e.TextElement,e);r=e.TextElement}s.resolve(e&&e.TextElement)};var l={TextElement:"",Language:sap.apf.core.constants.developmentLanguage,TextElementType:n.TextElementType,TextElementDescription:e,MaximumLength:n.MaximumLength||10,Application:t,TranslationHint:n.TranslationHint||""};if(!e){s.resolve(sap.apf.core.constants.textKeyForInitialText)}r=T(e,n);if(r){s.resolve(r)}else{p++;i.create("texts",l,o,true)}return s.promise()};this.getTextKeys=function(e){var t=m.getKeys();var n,a,r=t.length;var i=[];for(n=0;n<r;n++){a=m.getItem(t[n]);if(e&&a.TextElementType!==e){continue}if(u.hasItem(t[n])){i.push(u.getItem(t[n]))}else{i.push(t[n])}}return i};this.getTextsByTypeAndLength=function(e,t){var n=m.getKeys();var a,r,i=n.length;var s=[];for(a=0;a<i;a++){r=m.getItem(n[a]);if(r.TextElementType===e&&r.MaximumLength===t){if(u.hasItem(n[a])){s.push({TextElement:u.getItem(n[a]),TextElementDescription:r.TextElementDescription})}else{s.push({TextElement:n[a],TextElementDescription:r.TextElementDescription})}}}return s};function f(){var e,t;t=n.length;for(e=0;e<t;e++){if(n[e].TextElement){m.setItem(n[e].TextElement,n[e])}}}f()}a("sap.apf.modeler.core.TextPool",i);return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/applicationList.controller", ["sap/ui/core/mvc/Controller","sap/m/library","sap/m/List","sap/m/Popover","sap/m/StandardListItem","sap/m/Text","sap/ui/core/CustomData","sap/ui/core/Fragment","sap/ui/core/UIComponent","sap/ui/core/mvc/ViewType","sap/apf/modeler/ui/utils/helper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,i,a,n,o,r,l,p,d,s,c,u,f,g){"use strict";var m=t.ListType,h=t.PlacementType;function b(e){var t=e.coreApi.getText;e.byId("idAppPage").setTitle(t("configModelerTitle"));e.byId("idAppTitle").setText(t("applicationOverview"));e.byId("idApplicationToolbar").setTooltip(t("applications"));e.byId("idAppNumberTitle").setText(t("applications"));e.byId("idAppNumberTitle").setTooltip(t("applications"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idImportButton").setText(t("import"));e.byId("idImportButton").setTooltip(t("importConfig"));e.byId("idNewButton").setText(t("new"));e.byId("idNewButton").setTooltip(t("newApplication"));e.byId("idEditIcon").setTooltip(t("editApplication"));e.byId("idDeleteIcon").setTooltip(t("deleteApplication"));e.byId("idTextpoolCleanupIcon").setTooltip(t("textCleanUp"));e.byId("idAriaPropertyForDelete").setText(t("ariaTextForDeleteIcon"));e.byId("idAriaPropertyForEdit").setText(t("ariaTextForEditIcon"));e.byId("idAriaPropertyForTextpoolCleanup").setText(t("ariaTextForTextpoolCleanupIcon"))}function v(e){var t=e.coreApi.getText;l.byId("idDeleteConfirmationFragment","idDeleteConfirmation").setTitle(t("confirmation"));l.byId("idDeleteConfirmationFragment","idDeleteButton").setText(t("deleteButton"));l.byId("idDeleteConfirmationFragment","idCancelButtonDialog").setText(t("cancel"))}function y(e){var t=e.applicationHandler.getList();e.byId("idAppCount").setText("("+t.length+")");var i=[];t.forEach(function(e){var t={};t.id=e.Application;t.description=e.ApplicationName;t.semanticObject=e.SemanticObject;i.push(t)});var a=u.prepareModel(i,i.length);e.byId("idApplicationTable").setModel(a);if(e.actualQuery!==""){e.filterValues(e.actualQuery)}}function I(e,t){var i=e.coreApi.createMessageObject({code:t});e.coreApi.putMessage(i)}function A(e){e.byId("idApplicationTable").attachEvent("addNewAppEvent",e.handleAdditionOfNewApp.bind(e));e.byId("idApplicationTable").attachEvent("updateAppListEvent",e.handleAppListUpdate.bind(e))}function T(e,t){var i,a;i={oParentControl:e.byId("idApplicationTable"),oCoreApi:e.coreApi};a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view."+t,type:d.XML,viewData:i});e.getView().addDependent(a)}function C(e,t,i,a){e.getView().addDependent(t);var n=new o({text:e.coreApi.getText(i)});t.removeAllContent();t.addContent(n);t.addAriaDescribedBy(n);if(a){t.removeAllCustomData();t.addCustomData(a)}t.open()}function D(e){var t=e.byId("idAppListScrollContainer");var i=e.byId("idApplicationTable");var a=e.getView();i.addEventDelegate({onAfterRendering:function(){var i=jQuery(window).height();var n=jQuery(a.byId("idAppTitle").getDomRef()).height();var o=jQuery(a.byId("idApplicationToolbar").getDomRef()).height();var r=jQuery(a.byId("idAppPage").getDomRef()).find("header").height();var l=jQuery(a.byId("idAppPage").getDomRef()).find("footer").height();var d;if(n>0){n=n+80;d=n+o+r+l+25}else{d=232}t.setHeight(i-d+"px");t.setWidth("100%");s.onResize(function(){if(jQuery(a.getDomRef()).css("display")==="block"){i=jQuery(a.byId("idAppPage").getDomRef()).height();t.setHeight(i-d+"px");t.setWidth("100%")}});p.getRouterFor(e).attachRoutePatternMatched(function(e){if(e.getParameter("name")==="applicationList"){i=jQuery(a.getDomRef()).height();t.setHeight(i-d+"px");t.setWidth("100%")}})}})}function x(e,t){var o=new n({title:e.coreApi.getText("importDeliveredContent"),type:m.Active,press:function(){T(e,"importDeliveredContent")}});var r=new n({title:e.coreApi.getText("importFiles"),type:m.Active,press:function(){T(e,"importFiles")}});var l=new a({placement:h.Top,showHeader:false});var p=new i({items:[o,r]});l.addContent(p);l.openBy(t.getSource())}return e.extend("sap.apf.modeler.ui.controller.applicationList",{onInit:function(){var e=this;this.actualQuery="";var t=e.getOwnerComponent();if(c.checkIsNotUndefined(t)){e.coreApi=t.oCoreApi;if(!this.coreApi.showSemanticObject()){this.hideSemanticObjectColumn()}A(this);b(e);e.coreApi.getApplicationHandler(function(t,i){e.applicationHandler=t;if(e.applicationHandler&&!c.checkIsNotUndefined(i)){y(e)}else{e.showMessage("11508",i)}})}D(e)},showMessage:function(e,t){var i=this.coreApi.createMessageObject({code:e});if(t){i.setPrevious(t)}this.coreApi.putMessage(i)},hideSemanticObjectColumn:function(){this.byId("idSemanticObjectColumn").setVisible(false)},handleAddNewAppPress:function(){var e=this;if(c.checkIsNotNullOrUndefinedOrBlank(e.applicationHandler)){T(e,"newApplication")}else{e.showMessage("11509")}},handleListItemPress:function(e){var t=this,i;i=e.getParameter("listItem").getBindingContext().getPath().split("/")[2];p.getRouterFor(t).navTo("configurationList",{appId:t.byId("idApplicationTable").getModel().getData().Objects[i].id})},handleTextpoolCleanupPress:function(e){var t;var i=e.getSource().getBindingContext().getObject().id;var a=new r({value:{applicationId:i}});var n=this.coreApi.getText;t=sap.ui.xmlfragment("idTextpoolCleanupConfirmationFragment","sap.apf.modeler.ui.fragment.textpoolCleanupConfirmationDialog",this);t.setTitle(n("confirmation"));t.getButtons()[0].setText(n("ok"));t.getButtons()[1].setText(n("cancel"));C(this,t,"textpoolCleanupConfirmation",a)},handleConfirmTextpoolCleanup:function(e){var t=this;var i=l.byId("idTextpoolCleanupConfirmationFragment","idTextpoolCleanupConfirmation").getCustomData()[0].getValue().applicationId;t.coreApi.getConfigurationHandler(i,function(e){var a=e.getTextPool();t.coreApi.getUnusedTextKeys(i,function(e,n){if(!c.checkIsNotUndefined(n)){a.removeTexts(e,i,function(e){if(!c.checkIsNotUndefined(e)){t.showMessage("11511")}else{t.showMessage("11507",e)}t.closeTextpoolCleanupConfirmationDialog()})}else{t.showMessage("11506",n);t.closeTextpoolCleanupConfirmationDialog()}})})},closeTextpoolCleanupConfirmationDialog:function(){l.byId("idTextpoolCleanupConfirmationFragment","idTextpoolCleanupConfirmation").destroy()},handleCancelTextpoolCleanup:function(e){this.closeTextpoolCleanupConfirmationDialog()},handleEditPress:function(e){var t,i;if(c.checkIsNotNullOrUndefinedOrBlank(this.applicationHandler)){t=e.getSource().getBindingContext().getObject();i={parentControl:this.byId("idApplicationTable"),coreApi:this.coreApi,applicationData:t};sap.ui.view({viewName:"sap.apf.modeler.ui.view.editApplication",type:d.XML,viewData:i,async:true}).loaded().then(function(e){this.getView().addDependent(e)}.bind(this))}},handleDeletePress:function(e){var t=this,i;var a=e.getSource().getBindingContext().getPath().split("/")[2];var n=new r({value:{removeId:this.byId("idApplicationTable").getModel().getData().Objects[a].id,sPath:a}});i=sap.ui.xmlfragment("idDeleteConfirmationFragment","sap.apf.modeler.ui.fragment.deleteConfirmationDialog",t);v(t);C(t,i,"deleteApp",n)},handleConfirmDeletion:function(){var e=this;var t=l.byId("idDeleteConfirmationFragment","idDeleteConfirmation").getCustomData()[0].getValue().removeId;if(c.checkIsNotUndefined(t)){e.applicationHandler.removeApplication(t,function(t,i,a){if(!c.checkIsNotUndefined(a)&&typeof t==="string"){y(e);I(e,"11510")}else{e.showMessage("11501",a)}e.closeDialog()})}},closeDialog:function(){l.byId("idDeleteConfirmationFragment","idDeleteConfirmation").destroy()},handleNavigationWithSave:function(){var e=this;e.handleSavePress();l.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handleNavigationWithoutSave:function(){l.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handlePreventNavigation:function(){l.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handleImportPress:function(e){if(this.coreApi.isVendorContentAvailable()){x(this,e)}else{T(this,"importFiles")}},handleSavePress:function(){var e=this,t=[],i,a,n;i=e.applicationHandler.getList();a=e.byId("idApplicationTable").getModel().getData().Objects;for(n=0;n<i.length;n++){if(a[n].description!==i[n].ApplicationName||a[n].semanticObject!==i[n].SemanticObject){t.push(a[n])}}t.forEach(function(t){var i={ApplicationName:t.description,SemanticObject:t.semanticObject};e.applicationHandler.setAndSave(i,function(t,i,a){if(c.checkIsNotUndefined(a)){e.showMessage("11500",a)}},t.id)})},handleNavigationToConfigurationList:function(e){var t=this;var i={listItem:sap.ui.getCore().byId(e.currentTarget.id).getParent(),srcControl:t.byId("idApplicationTable")};t.byId("idApplicationTable").fireItemPress(i)},handleAdditionOfNewApp:function(e){var t=this,i,a,n,o=0,r;i=e.getParameter("appId");y(t);a=t.byId("idApplicationTable").getModel().getData().Objects;I(t,"11512");t.byId("idApplicationTable").rerender();for(n=0;n<a.length;n++){if(a[n].id===i){o=n;break}}r=t.byId("idApplicationTable").getItems();if(r.length){var l=r[o].getDomRef();if(l){l.scrollIntoView()}}if(this.actualQuery!==""){this.filterValues(this.actualQuery)}},handleAppListUpdate:function(){var e=this;y(e)},handleNavBack:function(){window.history.go(-1)},onSearch:function(e){var t=e.getParameters().newValue;this.actualQuery=t;this.filterValues(t)},filterValues:function(e){var t=[];if(e&&e.length>0){var i=new f("description",g.Contains,e);t.push(i)}var a=this.byId("idApplicationTable");var n=a.getBinding("items");n.filter(t,"Objects")}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/catalogService.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/v2/ODataModel","sap/apf/utils/utils"],function(e,t,a,i,r){"use strict";function o(e){var t={serviceUrl:e.getView().getViewData().getCalatogServiceUri(),json:true,async:true,useBatch:true};return new i(t)}function n(e){var t=e.getView().getViewData().oTextReader;var a=e.byId("idGatewayCatalogListDialog");a.setTitle(t("selectService"));a.setNoDataText(t("noDataText"))}return e.extend("sap.apf.modeler.ui.controller.catalogService",{handleSearch:function(e){var i=this;var r=e.getParameter("value").trim();var o=r.toUpperCase();var n=r.toLowerCase();var l=[new t("TechnicalServiceName",a.Contains,o),new t("TechnicalServiceName",a.Contains,n)];var s=new t(l,false);var c=i.byId("idGatewayCatalogListDialog");c.getBinding("items").filter(s)},onInit:function(){var e=this;var t=o(e);var a=e.byId("idGatewayCatalogListDialog");n(e);a.setModel(t);a.open()},handleConfirm:function(e){var t=this,a=e.getParameter("selectedItem").getProperty("title");var i=t.byId("idGatewayCatalogListDialog");var r=t.getView().getViewData().parentControl;i.getBinding("items").filter([]);r.fireEvent("selectService",{sSelectedService:a});t.byId("idGatewayCatalogListDialog").destroy();t.getView().destroy()},handleCancel:function(){var e=this;e.byId("idGatewayCatalogListDialog").destroy();e.getView().destroy()},handleFormatting:function(e){var t=r.extractPathnameFromUrl(e);return t}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/category.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/ui/core/mvc/Controller"],function(e,t,a,i){"use strict";var n,o,r,l,s,d,g;var t=sap.apf.modeler.ui.utils.nullObjectChecker;function u(e){e.byId("idCategoryBasicData").setText(o("categoryData"));e.byId("idCategoryTitleLabel").setText(o("categoryTitle"));e.byId("idCategoryTitle").setPlaceholder(o("newCategory"));e.byId("idTotalStepsLabel").setText(o("totalSteps"))}function c(e){var a;if(n&&n.arguments&&n.arguments.categoryId){d=l.getCategory(n.arguments.categoryId)}if(!t.checkIsNotUndefined(d)){a=l.setCategory();d=l.getCategory(a);f(e)}}function f(e,t){var a={id:d.getId(),icon:"sap-icon://open-folder"};if(t){delete a.icon;a.name=t}e.getView().getViewData().updateSelectedNode(a)}function y(e,t){var a=o("category")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(a)}function p(e){if(!t.checkIsNotNullOrUndefinedOrBlank(l.getCategory(n.arguments.categoryId))){return}if(t.checkIsNotNullOrUndefinedOrBlank(d.labelKey)&&s.get(d.labelKey)){e.byId("idCategoryTitle").setValue(s.get(d.labelKey).TextElementDescription)}else{e.byId("idCategoryTitle").setValue(d.getId())}}function I(e){var t=l.getCategoryStepAssignments(d.getId()).length;e.byId("idTotalSteps").setValue(t)}var T=i.extend("sap.apf.modeler.ui.controller.category",{onInit:function(){var e=this;var t=e.getView().getViewData();o=t.getText;n=t.oParams;r=t.oConfigurationHandler;s=r.getTextPool();l=t.oConfigurationEditor;if(!l){r.loadConfiguration(n.arguments.configId,function(e){l=e})}g=new sap.apf.modeler.ui.utils.ViewValidator(e.getView());u(e);c(e);e.setDetailData();g.addField("idCategoryTitle")},onAfterRendering:function(){if(this.getView().byId("idCategoryTitle").getValue().length===0){this.getView().byId("idCategoryTitle").focus()}},setDetailData:function(){var e=this;p(e);I(e)},handleChangeDetailValue:function(e){var a=this,i;var n=a.byId("idCategoryTitle").getValue().trim();var o=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;if(t.checkIsNotNullOrUndefinedOrBlank(n)){s.setTextAsPromise(n,o).done(function(e){i={labelKey:e};l.setCategory(i,d.getId());f(a,n);y(a,n);l.setIsUnsaved()})}else{l.setIsUnsaved()}},handleSuggestions:function(e){var t=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;var a=new sap.apf.modeler.ui.utils.SuggestionTextHandler(s);a.manageSuggestionTexts(e,t)},updateSubViewInstancesOnReset:function(e){l=e;d=l.getCategory(d.getId())},getValidationState:function(){return g.getValidationState()},onExit:function(){g=null}});return T},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/configuration.controller", ["sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textPoolHelper"],function(t,e,i,a,n,o,r){"use strict";var d=e.ValueState;function g(t){t.byId("idConfigurationBasicData").setText(t.textReader("configurationData"));t.byId("idConfigTitleLabel").setText(t.textReader("configTitle"));t.byId("idConfigTitle").setPlaceholder(t.textReader("newConfiguration"));t.byId("idConfigurationIdLabel").setText(t.textReader("configurationId"));if(t.coreApi.showSemanticObject()){t.byId("idSemanticObjectLabel").setText(t.textReader("semanticObject"))}t.byId("idNoOfCategoriesLabel").setText(t.textReader("noOfCategories"));t.byId("idNoOfStepsLabel").setText(t.textReader("noOfSteps"));t.byId("idFilterTypeData").setText(t.textReader("filterType"));t.byId("idFilterTypeLabel").setText(t.textReader("type"));t.byId("smartFilterBar").setText(t.textReader("smartFilterBar"));t.byId("facetFilter").setText(t.textReader("configuredFilters"));t.byId("none").setText(t.textReader("noFilters"));t.byId("idAriaPropertyForFilterRadioGp").setText(t.textReader("type"))}function u(t){if(!t.configuration){return}t.byId("idNoOfCategories").setValue(t.configurationEditor.getCategories().length)}function l(t){if(!t.configuration){return}t.byId("idNoOfSteps").setValue(t.configurationEditor.getSteps().length)}function s(t){if(!t.configuration){return}t.byId("idConfigTitle").setValue(t.configuration.AnalyticalConfigurationName)}function f(t){if(!t.configuration){return}if(t.configuration.AnalyticalConfiguration.indexOf(o.configurationObjectTypes.ISNEWCONFIG)===-1){t.byId("idConfigurationId").setValue(t.configuration.AnalyticalConfiguration)}}function c(t){var e=t.applicationHandler.getApplication(t.params.arguments.appId);if(e){t.byId("idSemanticObject").setValue(e.SemanticObject)}}function p(t){var e;if(t.configuration){e=Object.keys(t.configurationEditor.getFilterOption())[0];t.byId("idFilterTypeRadioGroup").setEnabled(true);t.byId("idFilterTypeRadioGroup").setSelectedButton(t.byId(e))}}function m(t){if(t.params&&t.params.arguments&&t.params.arguments.configId){t.configuration=t.configurationHandler.getConfiguration(t.params.arguments.configId)}if(t.configuration){t.configurationEditor=t.getView().getViewData().oConfigurationEditor}}function b(t,e){var i=t.textReader("configuration")+": "+e;t.getView().getViewData().updateTitleAndBreadCrumb(i)}function I(t,e){var i=t.configurationHandler.getTextPool();var a=sap.apf.modeler.ui.utils.TranslationFormatMap.APPLICATION_TITLE;i.setTextAsPromise(e,a).done(function(e){t.configurationEditor.setApplicationTitle(e)})}function y(t,e,i){var a={appId:t.params.arguments.appId};var n={name:e};if(i){n.id=i;a.configId=i;t.getView().getViewData().updateSelectedNode(n,a)}else{t.getView().getViewData().updateSelectedNode(n)}}function C(t){var e={};var i=t.byId("idFilterTypeRadioGroup").getSelectedButton().getCustomData()[0].getValue();e[i]=true;t.configurationEditor.setFilterOption(e);t.configurationEditor.setIsUnsaved()}return i.extend("sap.apf.modeler.ui.controller.configuration",{onInit:function(){var t=this;var e=t.getView().getViewData();t.applicationHandler=e.oApplicationHandler;t.configurationHandler=e.oConfigurationHandler;t.textReader=e.getText;t.params=e.oParams;this.coreApi=e.oCoreApi;this.viewValidatorForConfig=new n(t.getView());g(t);if(!this.coreApi.showSemanticObject()){t.byId("idSemanticObjectLabel").setVisible(false);t.byId("idSemanticObject").setVisible(false)}m(t);t.setDetailData();this.viewValidatorForConfig.addField("idConfigTitle")},onAfterRendering:function(){var t=this;if(t.getView().byId("idConfigTitle").getValue().length===0){t.getView().byId("idConfigTitle").focus()}},setDetailData:function(){var t=this;c(t);f(t);s(t);u(t);l(t);p(t)},updateSubViewInstancesOnReset:function(t){this.configurationEditor=t},handleChangeDetailValue:function(){var t=this;var e=t.byId("idConfigTitle").getValue().trim();var i;if(a.checkIsNotNullOrUndefinedOrBlank(e)){i={AnalyticalConfigurationName:e};if(t.params&&t.params.arguments&&t.params.arguments.configId&&t.params.arguments.configId.indexOf("newConfig")===-1){t.configurationHandler.setConfiguration(i,t.params.arguments.configId);y(t,e)}else{var n=t.configurationHandler.setConfiguration(i);t.configuration=t.configurationHandler.getConfiguration(n);if(!t.configurationEditor){t.configurationHandler.loadConfiguration(n,function(e){t.configurationEditor=e})}y(t,e,n)}I(t,e);b(t,e);t.configuration=i}t.configurationEditor.setIsUnsaved()},handleChangeForFilterType:function(){var e=this,i;if(!e.configurationEditor.isDataLostByFilterOptionChange()){C(e);e.getView().getViewData().updateTree()}else{i=new sap.ui.xmlfragment("idFilterOptionChangeFragment","sap.apf.modeler.ui.fragment.dialogWithTwoButtons",e);i.setState(d.Warning);i.setTitle(e.textReader("warning"));t.byId("idFilterOptionChangeFragment","idLabelForDialog").setText(e.textReader("filterOptionChangeMessage"));t.byId("idFilterOptionChangeFragment","idBeginButtonForDialog").setText(e.textReader("continue"));t.byId("idFilterOptionChangeFragment","idEndButtonForDialog").setText(e.textReader("cancel"));i.open()}},handleBeginButtonDialogWithTwoButtons:function(){var e=this;C(e);e.getView().getViewData().updateTree();t.byId("idFilterOptionChangeFragment","idDialogWithTwoButtons").destroy()},handleCancel:function(){var e=this;p(e);t.byId("idFilterOptionChangeFragment","idDialogWithTwoButtons").destroy()},getValidationState:function(){return this.viewValidatorForConfig.getValidationState()}})},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/configurationList.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/navigationHandler","sap/apf/modeler/ui/utils/helper","sap/apf/modeler/ui/utils/APFTree","sap/m/Label","sap/m/Link","sap/ui/core/Fragment","sap/ui/core/Icon","sap/ui/core/UIComponent","sap/ui/core/util/File","sap/ui/model/json/JSONModel","sap/ui/util/openWindow","sap/apf/cloudFoundry/uiHandler","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/ui/core/syncStyleClass","sap/ui/core/mvc/Controller"],function(e,t,i,a,o,n,s,r,d,l,g,f,c,jQuery,u,p){"use strict";sap.ui.controller("sap.apf.modeler.ui.controller.configurationList",{onInit:function(){var e=this.getOwnerComponent();if(e!==undefined){this.oCoreApi=e.oCoreApi;this._setDisplayText();this._setPublishVisible()}this._instantiateToolbarView();this._instantiateAPFTree();this._instantiateTitleAndBreadCrumbView();this._addConfigStyleClass();this.oModel=new g({aConfigDetails:[]});this.getView().setModel(this.oModel);this.bProgramaticSelection=false;if(this.oTreeInstance!==undefined){this.oTreeInstance.expandToLevel(1);this.oTreeInstance.collapseAll()}this.modelUpdateDeferred={};sap.apf.modeler.ui.utils.APFRouter.patternMatch(this)},_instantiateToolbarView:function(){var e=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.toolbar",type:"XML",viewData:{oConfigListInstance:this}});this.toolbarController=e.getController();this.byId("idConfigMasterData").insertItem(e,0)},_instantiateAPFTree:function(){this.oTreeInstance=this.byId("idConfigTree");this.oTreeInstance.setTranslationFunction(this.oCoreApi.getText);var e;if(this.oCoreApi.getRepresentationTypes()[0].metadata){e=this.oCoreApi.getRepresentationTypes()[0].id}this.oTreeInstance.setDefaultRepresentationType(e)},_instantiateTitleAndBreadCrumbView:function(){this.oTitleBreadCrumbView=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.titleBreadCrumb",type:"XML",viewData:{getText:this.oCoreApi.getText}});this.oTitleBreadCrumbController=this.oTitleBreadCrumbView.getController();this.byId("idConfigDetail").insertItem(this.oTitleBreadCrumbView,0);this.oBreadCrumb=this.oTitleBreadCrumbView.byId("IdBreadCrumb")},setConfigListMasterTitle:function(e){this.byId("idConfigTitleMaster").setText(this.oCoreApi.getText("configurationObjectTitle")+" : "+e)},onAfterRendering:function(){var e=this;this.oTreeInstance.onAfterRendering=function(){e._setHeightForScrollBar()}},_setHeightForScrollBar:function(){var e=this;var t=jQuery(window).height();t=t-165;e.byId("idMasterScroll").setHeight(t+"px");i.onResize(function(){t=jQuery(e.byId("configPage").getDomRef()).height();e.byId("idMasterScroll").setHeight(t+"px")})},_setDisplayText:function(){this.byId("configPage").setTitle(this.oCoreApi.getText("configModelerTitle"));this.byId("idSavebutton").setText(this.oCoreApi.getText("save"));this.byId("idCancelbutton").setText(this.oCoreApi.getText("cancel"));this.byId("idExportbutton").setText(this.oCoreApi.getText("export"));this.byId("idExecuteButton").setText(this.oCoreApi.getText("execute"));this.byId("idPublishbutton").setText(this.oCoreApi.getText("share"));this.byId("idAriaPropertyForBreadCrumb").setText(this.oCoreApi.getText("breadCrumbText"))},_setPublishVisible:function(){var e=this.oCoreApi.isUsingCloudFoundryProxy();this.byId("idPublishbutton").setVisible(e)},_addConfigStyleClass:function(){this.getView().addStyleClass("sapUiSizeCompact");this.byId("idConfigTree").addStyleClass("configTree");this.byId("idConfigTitleMaster").addStyleClass("configTitle");this.byId("idConfigMasterData").addStyleClass("configMasterData");this.byId("idConfigDetailData").addStyleClass("configDetailData")},_setSubViewContainerHeight:function(e){var t=this;var a=e.getContent()[0].getItems()[0];var o=jQuery(window).height();var n=jQuery(this.byId("idConfigTitleMaster").getDomRef()).outerHeight()+jQuery(this.byId("idConfigTitleMaster").getDomRef()).offset().top+25;var s=jQuery(this.byId("idConfigMasterData").getItems()[0].getDomRef()).height();var r=jQuery(this.byId("configPage").getDomRef()).find("header").height();var d=jQuery(this.byId("configPage").getDomRef()).find("footer").height();var l,g;if(s>0){l=n+s+r+d}else{l=265}var f=o-l-40+"px";a.setHeight(f);var c=jQuery(this.byId("idConfigDetailData").getDomRef()).width();if(c>0){g=jQuery(this.byId("idConfigMasterData").getDomRef()).offset().left}else{c=1015;g=15}var u=c-g;var p=u+"px";a.setWidth(p);i.onResize(function(){o=jQuery(t.byId("configPage").getDomRef()).height();f=o-l+"px";a.setHeight(f);c=jQuery(t.byId("idConfigDetailData").getDomRef()).width();u=c-g;p=u+"px";a.setWidth(p)})},_setSubView:function(e){this.oSubView=e},_getSubView:function(){return this.oSubView},updateSubView:function(e){var t=this;var i=this._getSubView();var a=this.byId("idConfigDetailData");var o=this.getSPathFromURL(e);this.configurationHandler.memorizeConfiguration(e.arguments.configId);if(i){i.destroy()}if(e.arguments.configId.indexOf("newConfig")===0){this.modelUpdateDeferred[this.byId("idConfigTree").getModel().getData().aConfigDetails.length-1]=new jQuery.Deferred}var n=new sap.ui.view({viewName:"sap.apf.modeler.ui.view."+o.objectType,type:"XML",viewData:{oParams:e,oCoreApi:t.oCoreApi,updateConfigTree:t.updateConfigTree.bind(t),updateSelectedNode:t.updateSelectedNode.bind(t),updateTitleAndBreadCrumb:t.updateTitleAndBreadCrumb.bind(t),updateTree:t.updateTree.bind(t),oConfigurationHandler:t.configurationHandler,oApplicationHandler:t.applicationHandler,oConfigurationEditor:t.configEditor,getText:t.oCoreApi.getText,getEntityTypeMetadataAsPromise:t.oCoreApi.getEntityTypeMetadataAsPromise,getRepresentationTypes:t.oCoreApi.getRepresentationTypes,oFooter:t.byId("idFooterBarMain"),createMessageObject:t.oCoreApi.createMessageObject,putMessage:t.oCoreApi.putMessage,getAllAvailableSemanticObjects:t.oCoreApi.getAllAvailableSemanticObjects,getSemanticActions:t.oCoreApi.getSemanticActions,getNavigationTargetName:t._getNavigationTargetName.bind(t),setNavigationTargetName:t._setNavigationTargetName.bind(t),getCalatogServiceUri:t.oCoreApi.getCatalogServiceUri,oTitleBreadCrumbController:t.oTitleBreadCrumbController}});if(e.name!=="applicationList"){a.removeAllContent();n.placeAt(a);this._setSubViewContainerHeight(n);this._setSubView(n)}},clearTitleAndBreadCrumb:function(){this.oTitleBreadCrumbView.byId("IdFormTitle").setText("");this.oTitleBreadCrumbView.byId("IdBreadCrumb").destroyContent()},_createLinkForBreadCrumb:function(e,t,i){var a=this;var o=new n({text:e,id:a.createId("linkId"+t),press:function(){a._navigateToNode(i)}});o.addAriaDescribedBy(a.byId("idAriaPropertyForBreadCrumb"));return o},_createTextForBreadCrumb:function(e,t){var i=this;var a=new o({id:i.createId("textId"+t)});a.addStyleClass("dialogText");a.setText(e);return a},_createIconForBreadCrumb:function(){var e=new r({src:"sap-icon://open-command-field"});e.addStyleClass("breadCrumbIcon");return e},_navigateToNode:function(e){var t=this.oTreeInstance.getItemNodeByContext(e);this.oTreeInstance.setSelectedItem(t);this._onTreeNodeSelection()},_getAllPossibleNodes:function(e){var t=[];if(e.configId){t.push({id:e.configId,name:e.configurationName,oParams:{arguments:{configId:e.configId}}})}if(e.facetFilterId){t.push({id:e.facetFilterId,name:e.facetFilterName,oParams:{arguments:{configId:e.configId,facetFilterId:e.facetFilterId}}})}if(e.smartFilterId){t.push({id:e.smartFilterId,name:e.smartFilterName,oParams:{arguments:{configId:e.configId,smartFilterId:e.smartFilterId}}})}if(e.categoryId){t.push({id:e.categoryId,name:e.categoryName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId}}})}if(e.stepId){t.push({id:e.stepId,name:e.stepName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId,stepId:e.stepId}}})}if(e.representationId){t.push({id:e.representationId,name:e.representationName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId,stepId:e.stepId,representationId:e.representationId}}})}if(e.navTargetId){t.push({id:e.navTargetId,name:e.navTargetName,oParams:{arguments:{configId:e.configId,navTargetId:e.navTargetId}}})}return t},_breadCrumbCreation:function(e,t){for(var i=0;i<e.length;i++){var a=this.getSPathFromURL(e[i].oParams).sPath;var o;if(i===1){o=this._createTextForBreadCrumb(t,i);this.oBreadCrumb.addContent(o);var n=this._createIconForBreadCrumb();this.oBreadCrumb.addContent(n)}if(i!==e.length-1){var s=this._createLinkForBreadCrumb(e[i].name,i,a);this.oBreadCrumb.addContent(s);var r=this._createIconForBreadCrumb();this.oBreadCrumb.addContent(r)}if(i===e.length-1){o=this._createTextForBreadCrumb(e[i].name,++i);this.oBreadCrumb.addContent(o)}}},updateTitleAndBreadCrumb:function(e){var t;var i;var a=this.oTreeInstance.getSelectedItems();if(a&&a.length>0){i=a[0]}var o=i?this.oTreeInstance.getAPFTreeNodeContext(i):undefined;var n=o?o.nodeObjectType:undefined;var s=o?this.oTreeInstance.getParentNodeContext(o):undefined;if(e){t=e}else{if(n){var r=i.getTitle();t=this.oCoreApi.getText(n)+": "+r;if(n===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR){t=r}}}if(s){if(this.oBreadCrumb){this.oBreadCrumb.destroyContent()}var d=this._getAllPossibleNodes(s);var l;switch(n){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:this._breadCrumbCreation(d);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR:case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:l=this.oCoreApi.getText("facetFilter");this._breadCrumbCreation(d,l);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:l=this.oCoreApi.getText("navigationTarget");this._breadCrumbCreation(d,l);break;default:break}}if(n!==sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP){this.oTitleBreadCrumbController.setTitleForDetailPage(t)}},setSelectionOnTree:function(e){if(e.objectType==="smartFilterBar"){this.toolbarController.disableCopyDeleteButton()}else{this.toolbarController.enableCopyDeleteButton()}this._enableDisableExportAndExecuteButton(true);this.oTreeInstance.setSelectionOnTree(e.sPath)},removeSelectionOnTree:function(){this.oTreeInstance.removeSelectionOnTree(this.selectedNode)},updateConfigTree:function(e){var t,i,a,o,n,s,r,l,g;var f=this;e.forEach(function(e){var d;t=f.getSPathFromURL(e.oldContext).sPath;a=t.split("/");o=a[2];n=a[6];r=a[8];l=jQuery.extend(true,{},f.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[r]);g=l.id;l.isSelected=false;i=f.getSPathFromURL(e.newContext).sPath;s=i.split("/")[6];if(e.removeStep===undefined){if(f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps){f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps.forEach(function(e){if(e.id===g){d=true}});if(d===undefined){f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps.push(l)}}else{f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps=[];f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps.push(l)}}else if(e.removeStep===true){if(f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps){f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps.forEach(function(e,t){if(e.id===g){var i=f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps;i.splice(t,1);f.oModel.getData().aConfigDetails[o].configData[1].categories[s].steps=i}});if(e.changeCategory===true){var c=f.getSPathFromURL(e.categoryChangeContext).sPath;var u=c.split("/");o=u[2];var p=u[6];var T=u[8];f.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[T].isSelected=true;f.oModel.getData().aConfigDetails[o].configData[1].categories[p].expanded=true}}}});this.oModel.updateBindings();var c=e.length;if(e[c-1].changeCategory){d.getRouterFor(this).navTo(e[c-1].oldContext.name,e[c-1].categoryChangeContext.arguments,true)}this.configEditor.setIsUnsaved()},updateSelectedNode:function(e,t){if(e){if(this.oTreeInstance.getSelectedItems()){this.selectedNode=this.oTreeInstance.getSelectedItem()}if(this.selectedNode){if(e.name&&this.selectedNode._getBindingContext()&&this.selectedNode._getBindingContext().getObject()){this.selectedNode.getBindingContext().getObject().name=e.name;this.selectedNode.getBindingContext().getObject().isSelected=true;if(this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION||this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET){this.selectedNode.getBindingContext().getObject().icon=e.icon}this.oModel.updateBindings()}if(e.id&&this.selectedNode.getBindingContext().getObject().id){this.selectedNode.getBindingContext().getObject().id=e.id;if(e.icon){this.selectedNode.getBindingContext().getObject().icon=e.icon}this.oModel.updateBindings()}else if(e.id&&this.selectedNode.getBindingContext().getObject().AnalyticalConfiguration){this.selectedNode.getBindingContext().getObject().AnalyticalConfiguration=e.id;this.selectedNode.getBindingContext().getObject().expanded=true}}if(this.selectedNode.getBindingContext().getObject().type===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION&&t){d.getRouterFor(this).navTo(this.selectedNode.getBindingContext().getObject().type,t,true);this.updateTree()}}},createConfigList:function(){var e=this;this.configList=this.configurationHandler.getList();this.configList.forEach(function(t,i){var a={};a.AnalyticalConfiguration=t.AnalyticalConfiguration;a.name=t.AnalyticalConfigurationName;a.Application=t.Application;a.type=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION;a.bIsLoaded=false;a.bToggleState=false;a.isSelected=false;a.expanded=false;a.selectable=true;a.hasExpander=true;e.oModel.getData().aConfigDetails.push(a);e.modelUpdateDeferred[i]=new jQuery.Deferred});this.oModel.updateBindings()},showNoConfigSelectedText:function(){this.byId("idConfigDetailData").removeAllContent();this.clearTitleAndBreadCrumb();var e=(new o).addStyleClass("noConfigSelected");e.setText(this.oCoreApi.getText("noConfigSelected"));e.placeAt(this.byId("idConfigDetailData"));this.toolbarController.disableCopyDeleteButton();this._enableDisableExportAndExecuteButton(false);this.byId("idConfigDetail").setBusy(false)},updateConfigListView:function(){this.selectedNode=this.oTreeInstance.getSelectedItems();if(this.selectedNode===null||this.selectedNode===undefined||this.selectedNode.length==0){if(this.configList.length>1){this.showNoConfigSelectedText()}else{this.oModel.getData().aConfigDetails[0].isSelected=true;this.oModel.getData().aConfigDetails[0].expanded=true;this.configId=this.oModel.getData().aConfigDetails[0].AnalyticalConfiguration;this.oModel.updateBindings();var e={appId:this.appId,configId:this.oModel.getData().aConfigDetails[0].AnalyticalConfiguration};this.selectedNode=this.oTreeInstance.getItems()[0];this.oTreeInstance.expand(0);this.toolbarController.enableCopyDeleteButton();this._enableDisableExportAndExecuteButton(true);d.getRouterFor(this).navTo(this.oModel.getData().aConfigDetails[0].type,e,true)}}},_getNodeData:function(e,t){var i=this.oModel.getData().aConfigDetails;var a={};var o=function(e){var t={};var a=e||this.configId;for(var o=0;o<i.length;o++){if(i[o].AnalyticalConfiguration===a){t.index=o;t.data=i[o];t.id=i[o].AnalyticalConfiguration;break}}return t};var n=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n={};for(var s=0;s<i[a].configData.length;s++){if(i[a].configData[s].filters instanceof Array){n.indexConfigData=s;for(var r=0;r<i[a].configData[s].filters.length;r++){if(i[a].configData[s].filters[r].id===t){n.index=r;n.data=i[a].configData[s].filters[r];n.id=i[a].configData[s].filters[r].id;n.filterNodeExpansion=i[a].configData[s].expanded}}}}return n};var s=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n={};for(var s=0;s<i[a].configData.length;s++){if(i[a].configData[s].categories instanceof Array){n.indexConfigData=s;for(var r=0;r<i[a].configData[s].categories.length;r++){if(i[a].configData[s].categories[r].id===t){n.index=r;n.data=i[a].configData[s].categories[r];n.id=i[a].configData[s].categories[r].id;n.categoryExpansion=i[a].configData[s].expanded}}}}return n};var r=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).indexConfigData;var r=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).index;var d={};for(var l=0;l<i[a].configData[n].categories[r].steps.length;l++){if(i[a].configData[n].categories[r].steps[l].id===t){d.index=l;d.data=i[a].configData[n].categories[r].steps[l];d.id=i[a].configData[n].categories[r].steps[l].id}}return d};var d=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).indexConfigData;var d=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]).index;var l=r.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]).index;var g={};if(i[a].configData[n].categories[d].steps[l]){for(var f=0;f<i[a].configData[n].categories[d].steps[l].representations.length;f++){if(i[a].configData[n].categories[d].steps[l].representations[f].id===t){g.index=f;g.data=i[a].configData[n].categories[d].steps[l].representations[f];g.id=i[a].configData[n].categories[d].steps[l].representations[f].id}}}return g};var l=function(t){var a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]).index;var n={};for(var s=0;s<i[a].configData.length;s++){if(i[a].configData[s].navTargets instanceof Array){n.indexConfigData=s;for(var r=0;r<i[a].configData[s].navTargets.length;r++){if(i[a].configData[s].navTargets[r].id===t){n.index=r;n.data=i[a].configData[s].navTargets[r];n.id=i[a].configData[s].navTargets[r].id;n.nTExpansion=i[a].configData[s].expanded}}}}return n};switch(t){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:a=o.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:a=n.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR:a=n.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:a=s.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:a=r.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:a=d.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION]);break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:a=l.call(this,e[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET]);break;default:break}return a},_retainNodeState:function(e,t){var i=this._getNodeData(e,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION).index;if(!this.oModel.getData().aConfigDetails[i].bIsLoaded){return{}}var a=this._getNodeData(e,t);if(!a.data){return{}}return{expanded:a.data.expanded,isSelected:a.data.isSelected}},updateTree:function(){var e=this;var t=[],i=[],a=[],o={},n=[],s=[],r=[],d=[],l,g;this.oTextPool=this.configurationHandler.getTextPool();var f={};f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION]=this.configId;var c=e._getNodeData(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION).index;var u=this.configId;var p=false;var T=false;var C=false;var h=Object.keys(this.configEditor.getFilterOption())[0];t=this.configEditor.getCategories();function D(){if(e.oModel.getData().aConfigDetails[c].bIsLoaded){g=e._getNodeData(f,h)}l=e._retainNodeState(f,h)}function I(t,i){var o=e.oCoreApi.getText("smartFilterBar");if(h===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){o=e.oTextPool.get(i.getLabelKey())?e.oTextPool.get(i.getLabelKey()).TextElementDescription:i.getLabelKey()}f[h]=i.getId();D();a.push({id:i.getId(),name:o,type:h,isSelected:l.isSelected||false,expanded:l.expanded||false,selectable:true,icon:t})}if(h===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR){o=this.configEditor.getSmartFilterBar();I("sap-icon://filter",o)}else if(h===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){i=this.configEditor.getFacetFilters();i.forEach(function(e){var t=e.isVisible()?"sap-icon://filter":"sap-icon://hide";I(t,e)})}if(g&&g.filterNodeExpansion){p=true}n=this.configEditor.getNavigationTargets();var v=this.oCoreApi.getRepresentationTypes();var b={};v.forEach(function(e){var t=e.id;b[t]=e.picture});t.forEach(function(t){f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]=t.getId();var i=t;var a=i.getId();d=[];e.configEditor.getCategoryStepAssignments(a).forEach(function(t){var i=e.configEditor.getStep(t);f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY]=a;f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP]=i.getId();var o=e._retainNodeState(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP);var n=i.getRepresentations();var s=n.map(function(t){f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION]=t.getId();var i=e._retainNodeState(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION);return{id:t.getId(),name:e.oCoreApi.getText(t.getRepresentationType()),type:"representation",isSelected:i.isSelected||false,expanded:i.expanded||false,selectable:true,icon:b[t.getRepresentationType()]}});d.push({id:i.getId(),name:e.oTextPool.get(i.getTitleId())?e.oTextPool.get(i.getTitleId()).TextElementDescription:i.getTitleId(),type:"step",representations:s,isSelected:o.isSelected||false,expanded:o.expanded||false,selectable:true,icon:i.getType()==="hierarchicalStep"?"sap-icon://drill-down":"sap-icon://step"})});var o=e._retainNodeState(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY);if(e.oModel.getData().aConfigDetails[c].bIsLoaded){var n=e._getNodeData(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY);if(n.categoryExpansion){C=true}}s.push({id:t.getId(),name:e.oTextPool.get(t.labelKey)?e.oTextPool.get(t.labelKey).TextElementDescription:t.labelKey,type:"category",steps:d,isSelected:o.isSelected||false,expanded:o.expanded||false,selectable:true,icon:"sap-icon://open-folder"})});r.push({filters:a,name:e.oCoreApi.getText("facetFilters"),expanded:p,selectable:false});r.push({categories:s,name:e.oCoreApi.getText("categories"),expanded:C,selectable:false});var N=[];var S=function(t,i){f[sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET]=i.getId();var a=e._retainNodeState(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET);if(e.oModel.getData().aConfigDetails[c].bIsLoaded){var o=e._getNodeData(f,sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET);if(o.nTExpansion){T=true}}var n,s;for(n=0;n<t.length;n++){if(t[n].id===i.getAction()){s=t[n].text;break}}if(i.getTitleKey()){s=e.configurationHandler.getTextPool().get(i.getTitleKey()).TextElementDescription}N.push({id:i.getId(),name:s||i.getSemanticObject(),type:"navigationTarget",isSelected:a.isSelected||false,expanded:a.expanded||false,selectable:true,icon:i.isStepSpecific()?"sap-icon://pushpin-off":"sap-icon://overview-chart"})};var m=function(){var e=n.map(function(e){return e.getId()});var t=[];for(var i=0;i<e.length;i++){for(var a=0;a<N.length;a++){if(e[i]===N[a].id){t[i]=N[a];break}}}N=t};var y=function(){var t={};t.configData=r;e.oModel.getData().aConfigDetails[c].bIsLoaded=true;var i=e.oModel.getData().aConfigDetails[c];jQuery.extend(i,t);e.oModel.getData().aConfigDetails[c]=i;e.oModel.getData().aConfigDetails[c].name=e.configurationHandler.getConfiguration(u).AnalyticalConfigurationName;for(var a=0;a<e.oModel.getData().aConfigDetails.length;a++){if(e.modelUpdateDeferred[a]&&e.modelUpdateDeferred[a].state()==="pending"&&n.length===0){e.modelUpdateDeferred[a].resolve(e.oModel.getData())}}if(i.configData[2].navTargets.length>0){e._setNavigationTargetName({configIndexInTree:c});e.modelUpdateDeferred[c].resolve(e.oModel.getData())}e.oModel.updateBindings()};n.forEach(function(t){var i=e.oCoreApi.getSemanticActions(t.getSemanticObject());i.then(function(i){S(i.semanticActions,t);if(N.length===n.length){m();if(r[2]){r.splice(2,2);r.push({navTargets:N,name:e.oCoreApi.getText("navigationTargets"),expanded:T,selectable:false});y();var a=sap.apf.modeler.ui.utils.APFRouter.params;if(a.name==="navigationTarget"){sap.apf.modeler.ui.utils.APFRouter.setCurrentSelectionState(a,e)}}}})});r.push({navTargets:N,name:e.oCoreApi.getText("navigationTargets"),expanded:T,selectable:false});y()},_checkIfKeyExists:function(e,t){var i;if(this.navTargetTextsTable[t]){this.navTargetTextsTable[t].texts.forEach(function(t,a){if(t.key===e){i=a}})}return i},_getNavigationTargetName:function(e){var t=this;var i;var a=new jQuery.Deferred;var o=t.getSPathForConfig(t.configId).split("/")[2];if(this.modelUpdateDeferred[o]===undefined){this.modelUpdateDeferred[o]=new jQuery.Deferred;this.modelUpdateDeferred[o].resolve(this.oModel.getData())}jQuery.when(this.modelUpdateDeferred[o]).done(function(n){var s=t._checkIfKeyExists(e,o);if(s!==undefined){i=t.navTargetTextsTable[o].texts[s].value;a.resolve(i)}});return a.promise()},_setNavigationTargetName:function(e){var t=e.configIndexInTree!==undefined?e.configIndexInTree:this.getSPathForConfig(this.configId).split("/")[2];if(u(this.navTargetTextsTable)){this.navTargetTextsTable={}}if(!this.navTargetTextsTable[t]){this.navTargetTextsTable[t]={texts:[]}}if(e.key&&e.value){var i=this._checkIfKeyExists(e.key,t);if(i===undefined){var a={};a.key=e.key;a.value=e.value;this.navTargetTextsTable[t].texts.push(a)}else{this.navTargetTextsTable[t].texts[i].value=e.value}}else{var o=this.oModel.getData().aConfigDetails[t].configData[2].navTargets;for(var n=0;n<o.length;n++){var s={};s.key=o[n].id;s.value=o[n].name;this.navTargetTextsTable[e.configIndexInTree].texts.push(s)}}},_handleToggleTreeNode:function(e){var t=this;var i=e.getSource().getSelectedItems();if(i&&i.length>0){var a=i[0]._getBindingContext().sPath;var o=i[0]._getBindingContext().getObject().type;if(o===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){var n=a.split("/")[2];if(t.oModel.getData().aConfigDetails[n].bIsLoaded===true){this.oModel.updateBindings()}else{this.configurationHandler.loadConfiguration(this.oModel.getData().aConfigDetails[n].AnalyticalConfiguration,function(e,i){if(i===undefined){t.configEditor=e;t.configId=t.oModel.getData().aConfigDetails[n].AnalyticalConfiguration;t.updateTree()}})}}}},getSPathForConfig:function(e){var t;this.oModel.getData().aConfigDetails.forEach(function(i,a){if(i.AnalyticalConfiguration===e){t="/aConfigDetails/"+a}});return t},getSPathFromURL:function(e){var t={sPath:undefined,objectType:undefined};var i=this;this.oModel.getData().aConfigDetails.forEach(function(a,o){if(a.AnalyticalConfiguration===e.arguments.configId){t.sPath="/aConfigDetails/"+o;t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION;i.oModel.getData().aConfigDetails[o].expanded=true;if(e.arguments.categoryId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories.forEach(function(a,n){if(a.id===e.arguments.categoryId){t.sPath=t.sPath.concat("/configData/1/categories/"+n);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY;i.oModel.getData().aConfigDetails[o].configData[1].expanded=true;if(e.arguments.stepId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps.forEach(function(a,s){if(a.id===e.arguments.stepId){t.sPath=t.sPath.concat("/steps/"+s);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP;i.oModel.getData().aConfigDetails[o].configData[1].categories[n].expanded=true;if(e.arguments.representationId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[s].representations.forEach(function(a,r){if(a.id===e.arguments.representationId){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[s].expanded=true;t.sPath=t.sPath.concat("/representations/"+r);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION}})}}})}}})}if(e.arguments.facetFilterId!==undefined){i.oModel.getData().aConfigDetails[o].configData[0].filters.forEach(function(a,n){if(a.id===e.arguments.facetFilterId){t.sPath=t.sPath.concat("/configData/0/filters/"+n);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER;i.oModel.getData().aConfigDetails[o].configData[0].expanded=true}})}if(e.arguments.smartFilterId!==undefined){t.sPath=t.sPath.concat("/configData/0/filters/0");t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.SMARTFILTERBAR;i.oModel.getData().aConfigDetails[o].configData[0].expanded=true}if(e.arguments.navTargetId!==undefined){i.oModel.getData().aConfigDetails[o].configData[2].navTargets.forEach(function(a,n){if(a.id===e.arguments.navTargetId){t.sPath=t.sPath.concat("/configData/2/navTargets/"+n);t.objectType=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET;i.oModel.getData().aConfigDetails[o].configData[2].expanded=true}})}}});return t},_navHandleExpandDelete:function(e,t,i){var a=this;this.selectedNode=this.oTreeInstance.getSelectedItem();var o=this.oModel.getData().aConfigDetails;var n=i||this.oTreeInstance.isConfigurationSwitched(this.oPreviousSelectedNode,this.selectedNode);var s=function(e){var t;for(var i=0;i<o.length;i++){if(o[i].AnalyticalConfiguration===e){t=i;break}}return t};var r=function(e){var i=s.call(this,t.configId);var a,n;for(var r=0;r<o[i].configData.length;r++){if(o[i].configData[r].filters instanceof Array){a=r;for(var d=0;d<o[i].configData[r].filters.length;d++){if(o[i].configData[r].filters[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexFilter:n}};var d=function(e){var i=s.call(this,t.configId);var a,n;for(var r=0;r<o[i].configData.length;r++){if(o[i].configData[r].navTargets instanceof Array){a=r;for(var d=0;d<o[i].configData[r].navTargets.length;d++){if(o[i].configData[r].navTargets[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexNavTarget:n}};var l=function(e){var i=s.call(this,t.configId);var a,n;for(var r=0;r<o[i].configData.length;r++){if(o[i].configData[r].categories instanceof Array){a=r;for(var d=0;d<o[i].configData[r].categories.length;d++){if(o[i].configData[r].categories[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexCategory:n}};var g=function(e){var i=s.call(this,t.configId);var a=l.call(this,t.categoryId).indexConfig;var n=l.call(this,t.categoryId).indexCategory;var r;for(var d=0;d<o[i].configData[a].categories[n].steps.length;d++){if(o[i].configData[a].categories[n].steps[d].id===e){r=d;break}else{r=d}}return r};if(t.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0&&n){this.configurationHandler.removeConfiguration(t.configId,function(e){var i=a.oModel.getData().aConfigDetails;var o=s.call(a,t.configId);a._deleteConfigNavTargetTexts(o,i.length);i.splice(o,1);a.oModel.getData().aConfigDetails=i})}else{var f,c,u,p,T,C;switch(e.nodeObjectType){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:f=s.call(this,t.configId);this.oModel.getData().aConfigDetails[f].isSelected=true;this.oModel.getData().aConfigDetails[f].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:f=s.call(this,t.configId);c=r.call(this,t.facetFilterId).indexConfig;u=r.call(this,t.facetFilterId).indexFilter;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].filters[u].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:f=s.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;p=l.call(this,t.categoryId).indexCategory;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:f=s.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;p=l.call(this,t.categoryId).indexCategory;T=g.call(this,t.stepId);this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[p].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:f=s.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;p=l.call(this,t.categoryId).indexCategory;T=g.call(this,t.stepId);this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[p].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[p].steps[T].expanded=true;break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:f=s.call(this,t.configId);c=d.call(this,t.navTargetId).indexConfig;C=d.call(this,t.navTargetId).indexNavTarget;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].navTargets[C].expanded=true;break;default:break}}this.oModel.updateBindings()},_isNewSubView:function(e){var t=false;if(e.arguments.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){t=true}else{if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){t=this.configurationHandler.getConfiguration(e.arguments.configId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY){t=this.configEditor.getCategory(e.arguments.categoryId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER){t=this.configEditor.getFacetFilter(e.arguments.facetFilterId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP){t=this.configEditor.getStep(e.arguments.stepId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION){t=this.configEditor.getStep(e.arguments.stepId).getRepresentation(e.arguments.representationId)!==undefined?false:true}else if(e.name===sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET){t=this.configEditor.getNavigationTarget(e.arguments.navTargetId)!==undefined?false:true}}return t},_getCurrentConfigurationNode:function(){var e=this.oTreeInstance.getItems();var t=this.configId;for(var i=0;i<e.length;i++){if(t===e[i]._getBindingContext().getObject().AnalyticalConfiguration){return e[i]}}return undefined},_navMandatoryResetState:function(e,t){var i=e;e.selectedNode=e.oTreeInstance.getSelectedItem();i.bIsSaved=i.configEditor?i.configEditor.isSaved():undefined;var a=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;e.configurationHandler.memorizeConfiguration(a.getView().getViewData().oParams.arguments.configId);var o=this._isNewSubView(a.getView().getViewData().oParams);if(!o){i.updateTree();var n=i.selectedNode._getBindingContext().getObject();if(n){n.isSelected=true;var s=a.getView().getViewData().oParams.name;var r=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes;if(s!==r.REPRESENTATION){a.updateSubViewInstancesOnReset(i.configEditor)}else{a.oConfigurationEditor=i.configEditor}a.setDetailData.call(a);i.updateTitleAndBreadCrumb()}else{i.oTreeInstance.setSelectedItem(i._getCurrentConfigurationNode())}if(typeof t==="function"){t()}}else{i.handleConfirmDeletion()}return{bIsSaved:i.bIsSaved,isNewView:o}},_navSaveState:function(e){e()},_navConfigResetState:function(e,t){var i=e;var a=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;var o=this._isNewSubView(a.getView().getViewData().oParams);if(!o){i.configurationHandler.loadConfiguration(i.configId,function(e,a){if(a===undefined){var o=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;i.configEditor=e;i.updateTree();var n=i.selectedNode._getBindingContext().getObject();if(n){n.isSelected=true;var s=o.getView().getViewData().oParams.name;var r=sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes;if(s!==r.REPRESENTATION){o.updateSubViewInstancesOnReset(i.configEditor)}else{o.oConfigurationEditor=i.configEditor}o.setDetailData.call(o);i.updateTitleAndBreadCrumb()}else{i.oTreeInstance.setSelectedItem(i._getCurrentConfigurationNode())}if(typeof t==="function"){t()}}})}else{i.handleConfirmDeletion()}},_onTreeNodeSelection:function(e){this.selectedNode=this.oTreeInstance.getSelectedItem();var i=this;var a,o,n;if(!this.bProgramaticSelection){this.oPreviousSelectedNode=this.oTreeInstance.previousSelectedItem;this.bIsDifferntConfig=this.oTreeInstance.isConfigurationSwitched(this.oPreviousSelectedNode,this.selectedNode);this.oSelectedNodeDetails=this.oTreeInstance.getAPFTreeNodeContext(this.selectedNode);this.oParentNodeDetails=this.oTreeInstance.getParentNodeContext(this.oSelectedNodeDetails);this._enableDisableExportAndExecuteButton(true);var s;if(this.byId("idConfigDetailData").getContent().length>=1){s=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var r=this.selectedNode?this.selectedNode.getId():null;var d=this.oPreviousSelectedNode?this.oPreviousSelectedNode.getId():null;var l=function(){if(i.oPreviousSelectedNode){var e=i.selectedNode.getBindingContext().getObject();e.isSelected=false;i.oModel.updateBindings()}};if(r!==d||this.bNavDeletionMode){var g=t.getInstance();var f;if(s!==undefined){f=typeof s.getValidationState==="function"?s.getValidationState.call(s):true}else{f=true}var c=this.configEditor?jQuery.extend(true,{},this.configEditor):undefined;this.bIsSaved=c?c.isSaved():undefined;var u;var p=false;var T=this.configurationHandler.getList();if(!f&&T.length>0){g.throwMandatoryPopup(this,{yes:function(){var e=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;var t=i._isNewSubView(e.getView().getViewData().oParams);if(!t){var a=function(e){i.configEditor=i.configurationHandler.restoreMemorizedConfiguration(i.oParentNodeDetails.configId);if(i.bIsSaved===false&&i.configEditor){i.configEditor.setIsUnsaved()}if(typeof e==="function"){e()}i.updateTree();var t=i.selectedNode.getBindingContext().getObject();i.navigateToDifferntView(i.oParentNodeDetails,i.oSelectedNodeDetails);t.isSelected=true;i.oModel.updateBindings()};if(i.bIsSaved===false&&i.bIsDifferntConfig){u(false,function(){a.call(i)})}else{a.call(i)}}else{if(i.bIsSaved===false&&i.bIsDifferntConfig){u(false,function(){var e=i.selectedNode.getBindingContext().sPath;var t=i.oPreviousSelectedNode;i.handleConfirmDeletion(t,e)})}else{var o=i.selectedNode.getBindingContext().sPath;var n=i.oPreviousSelectedNode;i.handleConfirmDeletion(n,o)}}i._navHandleExpandDelete.call(i,i.oSelectedNodeDetails,i.oParentNodeDetails)},no:function(){l()}});p=true}u=function(e){if(s){i.configurationHandler.memorizeConfiguration(s.getView().getViewData().oParams.arguments.configId)}g.throwLossOfDataPopup(i,{yes:function(t){if(typeof e==="function"){e(function(){t(function(){var e;if(i.oPreviousSelectedNode){var t=i.oPreviousSelectedNode._getBindingContext().sPath;var a=t.split("/");e=a[2]}i.oModel.getData().aConfigDetails[e].AnalyticalConfiguration=i.configId})})}else{if(i.oPreviousSelectedNode){a=i.oTreeInstance.getAPFTreeNodeContext(i.oPreviousSelectedNode);o=i.oTreeInstance.getParentNodeContext(a);n=i.configurationHandler.restoreMemorizedConfiguration(o.configId);if(n){i.configEditor=n}}t(function(){var e;if(i.oPreviousSelectedNode){var t=i.oPreviousSelectedNode._getBindingContext().sPath;var a=t.split("/");e=a[2]}i.oModel.getData().aConfigDetails[e].AnalyticalConfiguration=i.configId;var o=i.selectedNode._getBindingContext().getObject();i.navigateToDifferntView(i.oParentNodeDetails,i.oSelectedNodeDetails);o.isSelected=true;i.oModel.updateBindings()})}},no:function(){i.configurationHandler.loadConfiguration(i.configId,function(e,t){if(t===undefined){i.configEditor=e;if(i.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){i._navHandleExpandDelete.call(i,{},{configId:i.configId},i.oParentNodeDetails)}else{i.updateTree()}i.navigateToDifferntView(i.oParentNodeDetails,i.oSelectedNodeDetails);i._navHandleExpandDelete.call(i,i.oSelectedNodeDetails,i.oParentNodeDetails)}})},cancel:function(){l()}})};if(i.bIsSaved===false&&i.bIsDifferntConfig&&f){u();p=true}if(!p){if(this.oPreviousSelectedNode&&this.oPreviousSelectedNode.getId()!==this.selectedNode.getId()){var C=this.oPreviousSelectedNode.getBindingContext().getObject();if(C){this.oPreviousSelectedNode.getBindingContext().getObject().isSelected=false}}else{this.selectedNode.getBindingContext().getObject().isSelected=true}this.navigateToDifferntView(this.oParentNodeDetails,this.oSelectedNodeDetails,this.bIsSaved,this.bIsDifferntConfig)}this.oTreeInstance.previousSelectedItem=this.oTreeInstance.getSelectedItem()}}this.bProgramaticSelection=false;this.bNavDeletionMode=false},navigateToDifferntView:function(e,t,i,a){if(!u(e)&&(i===undefined||i)||!a){d.getRouterFor(this).navTo(t.nodeObjectType,e,true)}},_deleteConfigNavTargetTexts:function(e,t){var i=this;var a;for(var o=e;o<t-1;o++){this.modelUpdateDeferred[o]=this.modelUpdateDeferred[o+1]}delete this.modelUpdateDeferred[t-1];if(this.navTargetTextsTable){if(this.navTargetTextsTable[e]){delete this.navTargetTextsTable[e]}if(e!==t-1){Object.keys(this.navTargetTextsTable).forEach(function(t){t=parseInt(t,10);if(t>e){i.navTargetTextsTable[t-1]=i.navTargetTextsTable[t];a=t}});if(a!==undefined){delete this.navTargetTextsTable[a]}}}},handleConfirmDeletion:function(e,t){var i=e===undefined||typeof e.preventDefault==="function"?this.oTreeInstance.getAPFTreeNodeContext(this.oTreeInstance.getSelectedItem()):this.oTreeInstance.getAPFTreeNodeContext(e);var a=this;this.selectedNode=this.oTreeInstance.getSelectedItem();var n,s,r,l,g,f,c,u,p,T;g=i.nodeContext;l=g.split("/");f=l[2];switch(i.nodeObjectType){case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.FACETFILTER:this.configEditor.removeFacetFilter(i.nodeAPFId);c=l[6];var C=this.oModel.getData().aConfigDetails[f].configData[0].filters;C.splice(c,1);this.oModel.getData().aConfigDetails[f].configData[0].filters=C;r=l.slice(0,3);s=r.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CATEGORY:this.configEditor.removeCategory(i.nodeAPFId);u=l[6];var h=this.oModel.getData().aConfigDetails[f].configData[1].categories;h.splice(u,1);this.oModel.getData().aConfigDetails[f].configData[1].categories=h;r=l.slice(0,3);s=r.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.NAVIGATIONTARGET:this.configEditor.removeNavigationTarget(i.nodeAPFId);p=l[6];var D=this.oModel.getData().aConfigDetails[f].configData[2].navTargets;D.splice(p,1);this.oModel.getData().aConfigDetails[f].configData[2].navTargets=D;r=l.slice(0,3);s=r.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.STEP:var I=this.configEditor.getCategoriesForStep(i.nodeAPFId);var v=i.nodeContext.split("/");f=v[2];I.forEach(function(e){a.configEditor.removeCategoryStepAssignment(e,i.nodeAPFId);a.oModel.getData().aConfigDetails[f].configData[1].categories.forEach(function(t,o){if(t.id===e){a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps.forEach(function(e,t){if(e.id===i.nodeAPFId){var n=a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps;n.splice(t,1);a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps=n}})}})});r=l.slice(0,7);s=r.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.REPRESENTATION:u=l[6];T=l[8];var b=this.oModel.getData().aConfigDetails[f].configData[1].categories[u].steps[T].id;var N=this.configEditor.getStep(b);var S=this.configEditor.getCategoriesForStep(b);N.removeRepresentation(i.nodeAPFId);S.forEach(function(e){a.oModel.getData().aConfigDetails[f].configData[1].categories.forEach(function(t,o){if(t.id===e){a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps.forEach(function(e,t){if(e.id===b){a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps[t].representations.forEach(function(e,n){if(e.id===i.nodeAPFId){var s=a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps[t].representations;s.splice(n,1);a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps[t].representations=s}})}})}})});r=l.slice(0,9);s=r.join("/");break;case sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION:var m=false;if(i.nodeAPFId.indexOf("newConfig")===0){m=true}if(!m){this.configurationHandler.removeConfiguration(i.nodeAPFId,function(e){var i;var n=a.oModel.getData().aConfigDetails;a._deleteConfigNavTargetTexts(parseInt(f,10),n.length);var s=a.configurationHandler.getList().length>0?true:false;n.splice(f,1);a.oModel.getData().aConfigDetails=n;a.oModel.updateBindings();if(t){var r=a.oTreeInstance.getParentNodeContext(a.oTreeInstance.getAPFTreeNodeContext(a.selectedNode));d.getRouterFor(a).navTo(a.selectedNode._getBindingContext().getObject().type,r,true)}else{a.clearTitleAndBreadCrumb();a.byId("idConfigDetailData").removeAllContent();if(s){i=(new o).addStyleClass("noConfigSelected");i.setText(a.oCoreApi.getText("noConfigSelected"));i.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}else{i=(new o).addStyleClass("addNewConfig");i.setText(a.oCoreApi.getText("addNewConfig"));i.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}}})}else{var y;var x=a.oModel.getData().aConfigDetails;x.splice(f,1);a.oModel.getData().aConfigDetails=x;a.oModel.updateBindings();if(t){var A=a.oTreeInstance.getParentNodeContext(a.oTreeInstance.getAPFTreeNodeContext(a.selectedNode));d.getRouterFor(a).navTo(a.selectedNode._getBindingContext().getObject().type,A,true)}else{a.clearTitleAndBreadCrumb();a.byId("idConfigDetailData").removeAllContent();var O=this.configurationHandler.getList().length>0?true:false;if(O){y=(new o).addStyleClass("noConfigSelected");y.setText(a.oCoreApi.getText("noConfigSelected"));y.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}else{y=(new o).addStyleClass("addNewConfig");y.setText(a.oCoreApi.getText("addNewConfig"));y.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}}}break;default:break}if(t){this.bNavDeletionMode=true}if(i.nodeObjectType!==sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION){this.configEditor.setIsUnsaved();this.clearTitleAndBreadCrumb();this.byId("idConfigDetailData").removeAllContent();s=t||s;n=this.oTreeInstance.getModel().getContext(s);this.oModel.updateBindings();this.selectedNode=this.oTreeInstance.getItemNodeByContextWithoutExpand(n.sPath);this.bProgramaticSelection=false;this.oTreeInstance.setSelectedItem(this.selectedNode);if(t){this.selectedNode.getBindingContext().getObject().isSelected=true;this.oModel.updateBindings()}}var E=this.toolbarController.confirmationDialog===undefined?false:this.toolbarController.confirmationDialog.isOpen;if(E&&!t){this.toolbarController.confirmationDialog.close()}},handleNavBack:function(){var e;var i=this;if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}this.selectedNode=this.oTreeInstance.getSelectedItem();this.oSelectedNodeDetails=this.oTreeInstance.getAPFTreeNodeContext(this.selectedNode);this.oParentNodeDetails=this.oTreeInstance.getParentNodeContext(this.oSelectedNodeDetails);var a=t.getInstance();var o;if(e!==undefined){o=typeof e.getValidationState==="function"?e.getValidationState.call(e):true}else{o=true}this.bIsSaved=this.configEditor?this.configEditor.isSaved():undefined;var n=i.configurationHandler.getList().length>0?true:false;var s=function(e){if(this.selectedNode){this.selectedNode=null}this.oModel=new g({aConfigDetails:[]});this.getView().setModel(this.oModel);this.configEditor=undefined;this.navTargetTextsTable={};window.history.go(-1)};if(n){var r=i.bIsSaved===undefined?true:i.bIsSaved;if(!o){a.throwMandatoryPopup(i,{yes:function(){i.configEditor=i.configurationHandler.restoreMemorizedConfiguration(e.getView().getViewData().oParams.arguments.configId);if(i.bIsSaved===false&&i.configEditor){i.configEditor.setIsUnsaved()}var t=i._navMandatoryResetState(i);var o=i.configurationHandler.getList();if(t.bIsSaved===false&&o.length>0){a.throwLossOfDataPopup(i,{yes:function(e){e();s.call(i)},no:function(){if(i.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){i._navHandleExpandDelete.call(i,{},{configId:i.configId},i.oParentNodeDetails)}s.call(i)}})}else{s.call(i)}}});return}else if(!r&&o){a.throwLossOfDataPopup(i,{yes:function(e){e();s.call(i)},no:function(){i.configurationHandler.resetConfiguration(i.configId);if(i.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){i._navHandleExpandDelete.call(i,{},{configId:i.configId},i.oParentNodeDetails)}s.call(i)}});return}}s.call(i)},handleSavePress:function(){var e,i;var a=this;this.selectedNode=this.oTreeInstance.getSelectedItems();if(this.selectedNode){var o=this.selectedNode[0].getBindingContext().sPath;var n=o.split("/");i=n[2]}if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var s=function(){var t=this;var a;t.configEditor.save(function(o,n,s){if(s===undefined){t.configurationHandler.memorizeConfiguration(e.getView().getViewData().oParams.arguments.configId);t.oModel.getData().aConfigDetails[i].AnalyticalConfiguration=o;t.oModel.updateBindings();t.oSelectedNodeDetails=t.oTreeInstance.getAPFTreeNodeContext(t.selectedNode[0]);t.oParentNodeDetails=t.oTreeInstance.getParentNodeContext(t.oSelectedNodeDetails);t.navigateToDifferntView(t.oParentNodeDetails,t.oSelectedNodeDetails,true,false);a=t.oCoreApi.createMessageObject({code:"11513"});t.oCoreApi.putMessage(a)}else{a=t.oCoreApi.createMessageObject({code:"11514"});t.oCoreApi.putMessage(a)}})};var r=t.getInstance();var d;if(e!==undefined){d=typeof e.getValidationState==="function"?e.getValidationState.call(e):true}else{d=true}var l=this.configEditor?jQuery.extend(true,{},this.configEditor):undefined;this.bIsSaved=l?l.isSaved():undefined;var g=false;if(!d){r.throwMandatoryPopup(a,{yes:function(){a.configEditor=a.configurationHandler.restoreMemorizedConfiguration(e.getView().getViewData().oParams.arguments.configId);if(a.bIsSaved===false&&a.configEditor){a.configEditor.setIsUnsaved()}a._navMandatoryResetState(a);s.call(a)}});g=true}if(!g){s.call(this);this.toolbarController.closeDialog()}},_handleExportButtonPress:function(){var e;if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var t=function(){if(!this.exportConfigurationDialog){this.exportConfigurationDialog=sap.ui.xmlfragment("idExportConfigurationFragment","sap.apf.modeler.ui.fragment.exportConfiguration",this);this.getView().addDependent(this.exportConfigurationDialog);this._setExportConfigDialogText();this._addStyleClassForExportDialog();this.configurationHandler.memorizeConfiguration(e.getView().getViewData().oParams.arguments.configId)}p("sapUiSizeCompact",this.getView(),this.exportConfigurationDialog);this.exportConfigurationDialog.open()};this._performExportOrExecute(t.bind(this))},handlePublishPress:function(){if(this.oCoreApi.isUsingCloudFoundryProxy()){c.showShareDialog(this.oCoreApi,this)}},_enableDisableExportAndExecuteButton:function(e){this.byId("idExportbutton").setEnabled(e);this.byId("idExecuteButton").setEnabled(e);this.byId("idPublishbutton").setEnabled(e)},_setExportConfigDialogText:function(){s.byId("idExportConfigurationFragment","idExportConfigDialog").setTitle(this.oCoreApi.getText("exportConfig"));s.byId("idExportConfigurationFragment","idDownloadConfig").setText(this.oCoreApi.getText("downloadConfig"));s.byId("idExportConfigurationFragment","idDownloadTextProperty").setText(this.oCoreApi.getText("downloadTextProperty"));s.byId("idExportConfigurationFragment","idCloseButton").setText(this.oCoreApi.getText("close"))},_addStyleClassForExportDialog:function(){s.byId("idExportConfigurationFragment","idDownloadConfig").addStyleClass("configLink");s.byId("idExportConfigurationFragment","idDownloadTextProperty").addStyleClass("textPropertyLink")},_handleCloseOfExportDialog:function(){if(this.exportConfigurationDialog.isOpen()){this.exportConfigurationDialog.close()}},_handleOpenConfigLinkPress:function(){this.configurationHandler.exportConfiguration(this.configId,function(e,t){l.save(e,t,"json","application/json","utf-8")})},_handleOpenTextsLinkPress:function(){var e=this.configurationHandler.getConfiguration(this.configId).AnalyticalConfigurationName;var t=this.configurationHandler.exportTexts(this.configId);l.save(t,e,"properties","text/plain","utf-8")},_performExportOrExecute:function(e){var i,a,n,s,r,d,l,g;var f=false;var c=true;var u=this;u.selectedNode=u.oTreeInstance.getSelectedItem();u.oSelectedNodeDetails=u.oTreeInstance.getAPFTreeNodeContext(u.selectedNode);u.oParentNodeDetails=u.oTreeInstance.getParentNodeContext(u.oSelectedNodeDetails);var p=t.getInstance();if(this.byId("idConfigDetailData").getContent().length>=1){i=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}if(i!==undefined){c=typeof i.getValidationState==="function"?i.getValidationState.call(i):true}var T=this.configEditor?jQuery.extend(true,{},this.configEditor):undefined;this.bIsSaved=T?T.isSaved():undefined;var C=function(e){u.byId("idConfigDetailData").removeAllContent();if(e){l=(new o).addStyleClass("noConfigSelected");l.setText(u.oCoreApi.getText("noConfigSelected"))}else{l=(new o).addStyleClass("addNewConfig");l.setText(u.oCoreApi.getText("addNewConfig"))}l.placeAt(u.byId("idConfigDetailData"));u.toolbarController.disableCopyDeleteButton();u._enableDisableExportAndExecuteButton(false)};if(!c){p.throwMandatoryPopup(u,{yes:function(){u.configEditor=u.configurationHandler.restoreMemorizedConfiguration(i.getView().getViewData().oParams.arguments.configId);if(u.bIsSaved===false&&u.configEditor){u.configEditor.setIsUnsaved()}n=u._navMandatoryResetState(u);s=u.configurationHandler.getList().length>0?true:false;if(s){if(n.bIsSaved===false){a()}else{if(u.oParentNodeDetails.configId.indexOf("newConfig")!==0){e()}}}else{C(s)}}});f=true}a=function(){p.throwLossOfDataPopup(u,{yes:function(t){u._navSaveState(function(){t(function(t){if(u.selectedNode){r=u.selectedNode._getBindingContext().sPath;g=r.split("/");d=g[2]}u.oModel.getData().aConfigDetails[d].AnalyticalConfiguration=u.configId;u.oModel.updateBindings();e()})})},no:function(){if(u.configId.indexOf(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.ISNEWCONFIG)===0){u._navHandleExpandDelete.call(u,{},{configId:u.configId},u.oParentNodeDetails);u.clearTitleAndBreadCrumb();u.byId("idConfigDetailData").removeAllContent();s=u.configurationHandler.getList().length>0?true:false;C(s)}else{u._navConfigResetState(u,function(){u._navHandleExpandDelete.call(u,u.oSelectedNodeDetails,u.oParentNodeDetails);e()})}}})};if(u.bIsSaved===false&&c){a();f=true}if(!f){e()}},handleExecuteButtonPress:function(){var e=this.oTreeInstance.getSelectedItem();var t=function(){var t=this.oTreeInstance.getAPFTreeNodeContext(e);var i=this.oTreeInstance.getParentNodeContext(t);this.oCoreApi.navigateToGenericRuntime(i.appId,i.configId,f);this.configurationHandler.memorizeConfiguration(i.configId)};this._performExportOrExecute(t.bind(this))},getStepConfigDataBysPath:function(e){var t=e.split("/");var i=t[2],a=t[4],o=t[6],n=t[8];var s=this.oModel.getData().aConfigDetails[i].configData[a].categories[o].steps[n];return s}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/cornerTexts", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/core/mvc/Controller"],function(e,t){"use strict";var o,r,a,n;function i(e){e.byId("idThumbnailTexts").setText(r("cornerTextLabel"));e.byId("idLeftUpper").setPlaceholder(r("leftTop"));e.byId("idRightUpper").setPlaceholder(r("rightTop"));e.byId("idLeftLower").setPlaceholder(r("leftBottom"));e.byId("idRightLower").setPlaceholder(r("rightBottom"))}function s(e){var t=e.byId("idLeftUpper").getCustomData()[1].getValue();var r=e.getLeftUpperCornerText(t,a,o.oParentStep);e.byId("idLeftUpper").setValue(r)}function u(e){var t=e.byId("idRightUpper").getCustomData()[1].getValue();var r=e.getRightUpperCornerText(t,a,o.oParentStep);e.byId("idRightUpper").setValue(r)}function g(e){var t=e.byId("idLeftLower").getCustomData()[1].getValue();var r=e.getLeftLowerCornerText(t,a,o.oParentStep);e.byId("idLeftLower").setValue(r)}function l(e){var t=e.byId("idRightLower").getCustomData()[1].getValue();var r=e.getRightLowerCornerText(t,a,o.oParentStep);e.byId("idRightLower").setValue(r)}var d=t.extend("sap.apf.modeler.ui.controller.cornerTexts",{oTextPool:{},onInit:function(){var e=this;o=e.getView().getViewData();n=o.oConfigurationEditor;r=o.oTextReader;a=o.oParentObject;e.oTextPool=o.oTextPool;i(e);e.setDetailData()},setDetailData:function(){var e=this;s(e);u(e);g(e);l(e);e.setChartIcon();e.addStyleClasses()},updateSubViewInstancesOnReset:function(e){var t=this;t.oConfigurationEditor=e.getParameter("oConfigurationEditor");t.oParentObject=e.getParameter("oParentObject");t.setDetailData()},handleChangeForCornerText:function(e){var t=this;var o=e.getSource().getCustomData()[0].getValue();t.oTextPool.setTextAsPromise(e.getSource().getValue().trim(),t.getTranslationFormatMap()).done(function(e){a[o](e);n.setIsUnsaved()})},handleSuggestions:function(e){var t=this;var o=new sap.apf.modeler.ui.utils.SuggestionTextHandler(t.oTextPool);o.manageSuggestionTexts(e,t.getTranslationFormatMap())},setChartIcon:function(){},addStyleClasses:function(){},getTranslationFormatMap:function(){},getLeftUpperCornerText:function(e){},getRightUpperCornerText:function(e){},getLeftLowerCornerText:function(e){},getRightLowerCornerText:function(e){}});return d},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/editApplication.controller", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/core/mvc/Controller"],function(e,t){"use strict";function i(e){var t=e.coreApi.getText;e.byId("idEditAppDialog").setTitle(t("editApplication"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idSaveButton").setText(t("save"));e.byId("idCancelButton").setText(t("cancel"))}var a=t.extend("sap.apf.modeler.ui.controller.editApplication",{onInit:function(){var e=this;this.parentControl=e.getView().getViewData().parentControl;this.coreApi=e.getView().getViewData().coreApi;this.applicationData=e.getView().getViewData().applicationData;e.byId("idDescriptionInput").setValue(this.applicationData.description);if(this.coreApi.showSemanticObject()){e.byId("idSemanticObjectInput").setValue(this.applicationData.semanticObject)}else{e.byId("idSemanticObjectInput").setValue("");e.byId("idSemanticObjectBox").setVisible(false)}i(e);e.byId("idEditAppDialog").open()},handleAppDescriptionLiveChange:function(t){var i=t.getParameters().value;if(i!==this.applicationData.description&&e.checkIsNotNullOrUndefinedOrBlank(i)){this.byId("idSaveButton").setEnabled(true)}else if(!e.checkIsNotNullOrUndefinedOrBlank(i)){this.byId("idSaveButton").setEnabled(false)}},handleSemanticObjectLiveChange:function(t){var i=t.getParameters().value;var a=this.byId("idDescriptionInput").getValue().trim();if(i!==this.applicationData.semanticObject&&e.checkIsNotNullOrUndefinedOrBlank(a)){this.byId("idSaveButton").setEnabled(true);this.byId("idSaveButton").setType("Emphasized")}},handleSavePress:function(){var t=this;var i={};i.ApplicationName=t.byId("idDescriptionInput").getValue().trim();i.SemanticObject=t.byId("idSemanticObjectInput").getValue().trim();i.Application=t.applicationData.id;this.coreApi.getApplicationHandler(function(a,n){if(a&&!e.checkIsNotUndefined(n)){a.setAndSave(i,function(i,a,s){if(!e.checkIsNotUndefined(s)&&typeof i==="string"){t.parentControl.fireEvent("updateAppListEvent",{appId:i})}else{t.showMessage("11500",n)}},t.applicationData.id)}else{t.showMessage("11509",n)}});t.byId("idEditAppDialog").close()},handleCancelPress:function(){this.byId("idEditAppDialog").close()},handleAfterClose:function(){this.getView().destroy()},showMessage:function(e,t){var i=this.coreApi.createMessageObject({code:e});if(t){i.setPrevious(t)}this.coreApi.putMessage(i)}});return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilter.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/m/Token","sap/ui/core/library","sap/ui/core/mvc/ViewType","sap/ui/core/mvc/Controller"],function(e,t,i,l,a,n,s,o,d){"use strict";var r=o.ValueState;var u,c,f,I,b,V,g;var t=sap.apf.modeler.ui.utils.nullObjectChecker;var i=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var a=sap.apf.modeler.ui.utils.textManipulator;var p=sap.apf.modeler.ui.utils.TranslationFormatMap.FACETFILTER_LABEL;function S(e){e.byId("idFacetFilterBasicData").setText(c("basicData"));e.byId("idFFLabel").setText(c("ffLabel"));e.byId("idLabel").setPlaceholder(c("newFacetFilter"));e.byId("idFFPropertyLabel").setText(c("ffProperty"));e.byId("idDoNotShowAtRuntimeLabel").setText(c("doNotShowAtRuntime"));e.byId("idSelectionModeLabel").setText(c("ffSelectionMode"));e.byId("idValueHelpLabel").setText(c("valueHelpMode"));e.byId("idVHNone").setText(c("none"));e.byId("idValueHelpRequest").setText(c("valueHelpRequest"));e.byId("idConfigListOfValues").setText(c("configListOfValues"));e.byId("idConfigListOfValuesLabel").setText(c("configListOfValuesLabel"));e.byId("idSingleSelectionMode").setText(c("singleSelection"));e.byId("idMultiSelectionMode").setText(c("multipleSelection"));e.byId("idDefaultValuesTitle").setText(c("vhDefaultValues"));e.byId("idPreselectionModeLabel").setText(c("vhDefaultValueMode"));e.byId("idNoneSelection").setText(c("none"));e.byId("idAutomaticSelection").setText(c("automaticValue"));e.byId("idFixedValue").setText(c("fixedValues"));e.byId("idFunction").setText(c("function"));e.byId("idPreselectionDefaultsLabel").setText(c("vhDefaultValues"));e.byId("idPreselectionFunctionLabel").setText(c("function"));e.byId("idValueHelpTitle").setText(c("valueHelp"));e.byId("idFilterResolutionTitle").setText(c("contextResolution"));e.byId("idUseVHRAsFRRCheckBoxLabel").setText(c("vhCheckBoxLabel"));e.byId("idAriaPropertyForSelection").setText(c("ffSelectionMode"));e.byId("idAriaPropertyForDefaultMode").setText(c("vhDefaultValueMode"));e.byId("idAriaPropertyForVHR").setText(c("valueHelpMode"))}function y(e,t){var i=V.isVisible()?"sap-icon://filter":"sap-icon://hide";var l={id:V.getId(),icon:i};if(t){delete l.icon;l.name=t}e.getView().getViewData().updateSelectedNode(l)}function F(e,t){var i=c("facetFilter")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(i)}function v(e){var i;if(u&&u.arguments&&u.arguments.facetFilterId){V=I.getFacetFilter(u.arguments.facetFilterId)}if(!t.checkIsNotUndefined(V)){i=I.createFacetFilter();V=I.getFacetFilter(i);y(e)}}function T(e){var t,i,l,a;var n={oTextReader:c,oConfigurationHandler:f,oConfigurationEditor:I,oParentObject:V,getCalatogServiceUri:e.getView().getViewData().getCalatogServiceUri,oCoreApi:e.getView().getViewData().oCoreApi};t=new sap.ui.controller("sap.apf.modeler.ui.controller.facetFilterVHR");l=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:d.XML,id:e.createId("idVHRView"),viewData:n,controller:t});i=new sap.ui.controller("sap.apf.modeler.ui.controller.facetFilterFRR");a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:d.XML,id:e.createId("idFRRView"),viewData:n,controller:i});l.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES,e.setFFProperty.bind(e));a.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES,e.setFFProperty.bind(e));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR,a.getController().handleCopy.bind(a.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS,a.getController().enableOrDisableView.bind(a.getController()));l.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR,a.getController().handleCopy.bind(a.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,l.getController().updateSubViewInstancesOnReset.bind(l.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,a.getController().updateSubViewInstancesOnReset.bind(a.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME,l.getController().clearVHRFields.bind(l.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.CLEARVHRFIELDSIFVALUELIST,l.getController().clearVHRFields.bind(l.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME,a.getController().clearFRRFields.bind(a.getController()));l.addStyleClass("formTopPadding");l.addStyleClass("formBottomPadding");a.addStyleClass("formTopPadding")}function R(e,t){e.byId("idSelectionMode").setVisible(t);e.byId("idSelectionModeLabel").setVisible(t);e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idMultiSelectionMode"));e.byId("idValueHelp").setVisible(t);e.byId("idValueHelpLabel").setVisible(t);e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idVHNone"));e.byId("idFFForm1").setVisible(t);if(t){e.byId("idValueHelpTitle").setText(c("valueHelp"));e.byId("idFRRVBox").insertItem(e.byId("idFRRView"));e.byId("idDoNotShowAtRuntimeCheckBox").setSelected(false)}else{e.byId("idValueHelpTitle").setText("");x(e,t);D(e,t);e.byId("idFRRVBox").removeItem(e.byId("idFRRView"))}}function h(e){if(!V.isVisible()){e.byId("idDoNotShowAtRuntimeCheckBox").setSelected(true)}R(e,V.isVisible())}function m(e){if(!t.checkIsNotNullOrUndefinedOrBlank(I.getFacetFilter(u.arguments.facetFilterId))){return}if(t.checkIsNotNullOrUndefinedOrBlank(V.getLabelKey())&&b.get(V.getLabelKey())){e.byId("idLabel").setValue(b.get(V.getLabelKey()).TextElementDescription)}else{e.byId("idLabel").setValue(V.getId())}}function C(e){if(!t.checkIsNotNullOrUndefinedOrBlank(I.getFacetFilter(u.arguments.facetFilterId))){V.setMultiSelection(true)}if(V.isMultiSelection()){e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idMultiSelectionMode"))}else{e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idSingleSelectionMode"))}}function N(e){e.byId("idPreselectionFunction").setValue("");if(t.checkIsNotNullOrUndefinedOrBlank(V.getPreselectionFunction())){e.byId("idPreselectionFunction").setValue(V.getPreselectionFunction())}}function P(e){var i=false,l=false;if(V.getNoneSelection()){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idNoneSelection"))}else if(t.checkIsNotNullOrUndefinedOrBlank(V.getPreselectionFunction())){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idFunction"));N(e);i=true}else if(t.checkIsNotNullOrUndefinedOrBlank(V.getPreselectionDefaults())){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idFixedValue"));L(e);l=true}else if(V.getAutomaticSelection()){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idAutomaticSelection"))}O(e,i);A(e,l)}function O(e,t){e.byId("idPreselectionFunctionLabel").setVisible(t);e.byId("idPreselectionFunction").setVisible(t);if(t){g.addField("idPreselectionFunction")}else{e.byId("idPreselectionFunction").setValue("");g.removeField("idPreselectionFunction")}}function A(e,t){e.byId("idPreselectionDefaultsLabel").setVisible(t);e.byId("idPreselectionDefaults").setVisible(t);if(t){g.addField("idPreselectionDefaults")}else{g.removeField("idPreselectionDefaults")}}function L(e){e.byId("idPreselectionDefaults").setTokens([]);var i=V.getPreselectionDefaults();if(t.checkIsNotNullOrUndefinedOrBlank(i)){i.forEach(function(t){e.byId("idPreselectionDefaults").addToken(new s({text:t}))})}}function E(e){e.byId("idConfigListOfValuesMultiInput").setTokens([]);var i=V.getValueList();if(t.checkIsNotNullOrUndefinedOrBlank(i)){i.forEach(function(t){e.byId("idConfigListOfValuesMultiInput").addToken(new s({text:t}))})}}function D(e,t){e.byId("idConfigListOfValuesLabel").setVisible(t);e.byId("idConfigListOfValuesMultiInput").setVisible(t);if(t){g.addField("idConfigListOfValuesMultiInput")}else{g.removeField("idConfigListOfValuesMultiInput")}}function x(e,t){e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);B(e,t);if(t){e.byId("idVHRVBox").insertItem(e.byId("idVHRView"))}else{e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.CLEARVHRFIELDSIFVALUELIST);e.byId("idVHRVBox").removeItem(e.byId("idVHRView"))}}function w(e){if(V.getUseSameRequestForValueHelpAndFilterResolution()){e.byId("idUseVHRAsFRRCheckBox").setSelected(true);e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS)}}function k(e){var i=false,l=false;if(t.checkIsNotNullOrUndefinedOrBlank(V.getServiceOfValueHelp())){i=true;e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idValueHelpRequest"))}else if(t.checkIsNotNullOrUndefinedOrBlank(V.getValueList())){E(e);l=true;e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idConfigListOfValues"))}else{e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idVHNone"))}D(e,l);x(e,i)}function B(e,t){if(t===false){e.byId("idUseVHRAsFRRCheckBox").setSelected(false)}e.byId("idUseVHRAsFRRCheckBox").setVisible(t);e.byId("idUseVHRAsFRRCheckBoxLabel").setVisible(t)}function M(e,t){t.byId("idPreselectionDefaults").setValueState(r.Warning);t.byId("idPreselectionDefaults").setValueStateText(c(e));t.byId("idPreselectionDefaults").focus()}function H(e,t){var i=new s({text:e});t.addToken(i);I.setIsUnsaved()}function U(e,t){if(e.mEventRegistry.tokenChange===undefined){e.attachTokenChange(t)}}sap.ui.controller("sap.apf.modeler.ui.controller.facetFilter",{onInit:function(){var e=this;var t=e.getView().getViewData();c=t.getText;u=t.oParams;f=t.oConfigurationHandler;b=f.getTextPool();I=t.oConfigurationEditor;if(!I){f.loadConfiguration(u.arguments.configId,function(e){I=e})}g=new sap.apf.modeler.ui.utils.ViewValidator(e.getView());S(e);v(e);T(e);e.setDetailData();g.addFields(["idFFProperty","idLabel"])},onAfterRendering:function(){var e=this;if(e.byId("idLabel").getValue().length===0){e.byId("idLabel").focus()}U(e.byId("idConfigListOfValuesMultiInput"),e.handleTokenChangeForConfigListOfValues.bind(e));U(e.byId("idPreselectionDefaults"),e.handleTokenChangeForPreselectionDefaults.bind(e))},setDetailData:function(){var e=this;h(e);e.setFFProperty();m(e);C(e);P(e);k(e);w(e)},updateSubViewInstancesOnReset:function(e){var t=this;I=e;V=I.getFacetFilter(V.getId());t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:I,oParentObject:V})},validateSelectedValues:function(e,t,i){var l={},s=[],o=[],d=[],r=[],u;l=n.validateSelectedValues(t,i);s=l.invalid;o=l.valid;d=a.addPrefixText(s,c);r=d.concat(i).length!==0?d.concat(i):i;u=d.concat(o).length!==0?d.concat(o):t;return{aValues:r,aSelectedValues:u}},setFFProperty:function(){var e=this;var l=[],a,n;I.getFilterablePropertiesAndParametersAsPromise().done(function(s){l=s;n=V.getProperty();if(t.checkIsNotNullOrUndefinedOrBlank(n)){a=e.validateSelectedValues(e,[n],l);l=a.aValues;n=a.aSelectedValues[0]}var o=i.convert(l);e.byId("idFFProperty").setModel(o);e.byId("idFFProperty").setSelectedKey(n)})},handleChangeForVisibilityAtRuntime:function(){var e=this,t=true;if(e.byId("idDoNotShowAtRuntimeCheckBox").getSelected()){t=false;V.setInvisible();V.setUseSameRequestForValueHelpAndFilterResolution(false);e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.DONOTSHOWATRUNTIME);V.setValueList([]);E(e)}else{V.setVisible()}V.setMultiSelection(true);I.setIsUnsaved();y(e);R(e,t)},handleChangeForProperty:function(){var e=this;var i=e.byId("idFFProperty").getSelectedKey().trim();i=a.removePrefixText(i,c(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));if(t.checkIsNotNullOrUndefinedOrBlank(i)){V.setProperty(i)}I.setIsUnsaved()},handleChangeForLabel:function(){var e=this;var i=e.byId("idLabel").getValue().trim();if(t.checkIsNotNullOrUndefinedOrBlank(i)){b.setTextAsPromise(i,p).done(function(t){V.setLabelKey(t);y(e,i);F(e,i);I.setIsUnsaved()})}else{I.setIsUnsaved()}},handleSuggestions:function(e){var t=new sap.apf.modeler.ui.utils.SuggestionTextHandler(b);t.manageSuggestionTexts(e,p)},handleChangeForSelectionMode:function(){var e=this,t,i;var l=e.byId("idSelectionModeRadioGroup").getSelectedButton();if(l===e.byId("idSingleSelectionMode")){V.setMultiSelection(false);if(e.byId("idPreselectionDefaultsLabel").getVisible()){t=V.getPreselectionDefaults();if(t&&t.length>1){V.setPreselectionDefaults([t[0]]);i=new s({text:t[0]});e.byId("idPreselectionDefaults").setTokens([i]);M("singleToMultipleSelectionWarningMessage",e)}}}else{e.byId("idPreselectionDefaults").setValueState(r.None);V.setMultiSelection(true)}I.setIsUnsaved()},handleChangeForPreselectionMode:function(){var e=this,t=false,i=false,l=false,a=false;switch(e.byId("idPreselectionModeRadioGroup").getSelectedButton()){case e.byId("idAutomaticSelection"):t=true;break;case e.byId("idFunction"):i=true;V.removePreselectionDefaults();break;case e.byId("idFixedValue"):l=true;V.removePreselectionFunction();break;default:a=true}V.setAutomaticSelection(t);V.setNoneSelection(a);L(e);N(e);A(e,l);O(e,i);I.setIsUnsaved()},handleChangeForPreselectionDefaults:function(e){var t=this;t.byId("idPreselectionDefaults").setValue("");t.byId("idPreselectionDefaults").setValueState(r.None);if(!V.isMultiSelection()){if(t.byId("idPreselectionDefaults").getTokens().length<1){t.byId("idPreselectionDefaults").setValueState(r.None);H(e.getParameter("value"),t.byId("idPreselectionDefaults"))}else{M("singleSelectionWarningMessage",t)}}else{H(e.getParameter("value"),t.byId("idPreselectionDefaults"))}},handleTokenChangeForPreselectionDefaults:function(e){var t=this;var i,l=[];var a=t.byId("idPreselectionDefaults").getTokens();t.byId("idPreselectionDefaults").setValueState(r.None);if(e.getParameters().type==="removed"||e.getParameters().type==="added"){for(i=0;i<a.length;i++){l[i]=a[i].getText()}if(V.isMultiSelection()){V.setPreselectionDefaults(l)}else{V.setPreselectionDefaults([l[0]])}if(e.getParameters().type==="removed"){I.setIsUnsaved()}}},handleChangeForPreselectionFunction:function(){var e=this;var i=e.byId("idPreselectionFunction").getValue().trim();V.removePreselectionFunction();if(t.checkIsNotNullOrUndefinedOrBlank(i)){V.setPreselectionFunction(i)}I.setIsUnsaved()},handleChangeForUseVHRAsFRRCheckBox:function(){var e=this;if(e.byId("idUseVHRAsFRRCheckBox").getSelected()){V.setUseSameRequestForValueHelpAndFilterResolution(true)}else{V.setUseSameRequestForValueHelpAndFilterResolution(false)}e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.ENABLEDISABLEFRRFIELDS);e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR);I.setIsUnsaved()},handleChangeForValueHelpOption:function(){var e=this,t=false,i=false;switch(e.byId("idValueHelpRadioGroup").getSelectedButton()){case e.byId("idValueHelpRequest"):t=true;V.setValueList([]);break;case e.byId("idConfigListOfValues"):i=true;V.setAlias(undefined);break;default:V.setAlias(undefined);V.setValueList([])}if(V.getUseSameRequestForValueHelpAndFilterResolution()===true){V.setUseSameRequestForValueHelpAndFilterResolution(false);e.byId("idUseVHRAsFRRCheckBox").setSelected(false)}E(e);D(e,i);x(e,t);I.setIsUnsaved()},handleChangeForConfigListOfValues:function(e){var t=this;t.byId("idConfigListOfValuesMultiInput").setValue("");H(e.getParameter("value"),t.byId("idConfigListOfValuesMultiInput"))},handleTokenChangeForConfigListOfValues:function(e){var t=this;var i,l=[];var a=t.byId("idConfigListOfValuesMultiInput").getTokens();if(e.getParameters().type==="removed"||e.getParameters().type==="added"){for(i=0;i<a.length;i++){l[i]=a[i].getText()}V.setValueList(l);if(e.getParameters().type==="removed"){I.setIsUnsaved()}}},getValidationState:function(){var e=this;return g.getValidationState()&&e.byId("idVHRView").getController().getValidationState()&&e.byId("idFRRView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idVHRView").destroy();e.byId("idFRRView").destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilterFRR.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/textPoolHelper"],function(e,t){"use strict";var r=false;var i=e.extend("sap.apf.modeler.ui.controller.facetFilterFRR",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("vhSource"));e.byId("idEntityLabel").setText(t("vhEntity"));e.byId("idSelectPropertiesLabel").setText(t("vhSelectProperties"))},handleCopy:function(){var e=this;e.setDetailData()},clearFRRFields:function(){var e=this;e.clearSource();e.setDetailData()},enableOrDisableView:function(){var e=true,t=this;if(t.oParentObject.getUseSameRequestForValueHelpAndFilterResolution()===true){e=false}t.byId("idSource").setEnabled(e);t.byId("idEntity").setEnabled(e);t.byId("idSelectProperties").setEnabled(e)},getSource:function(){var e=this;return e.oParentObject.getServiceOfFilterResolution()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySetOfFilterResolution()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setServiceOfFilterResolution(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySetOfFilterResolution(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectPropertiesOfFilterResolution();t.forEach(function(t){e.oParentObject.removeSelectPropertyOfFilterResolution(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectPropertyOfFilterResolution(e)})},updateSource:function(e){var t=this;t.oParentObject.setServiceOfFilterResolution(e);r=true},updateEntity:function(e){var t=this;t.oParentObject.setEntitySetOfFilterResolution(e)},updateSelectProperties:function(e){var t=this;t.clearSelectProperties();e.forEach(function(e){t.oParentObject.addSelectPropertyOfFilterResolution(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectPropertiesOfFilterResolution()},fireRelevantEvents:function(){var e=this;if(r){e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES);r=false}},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilterVHR.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/layout/GridData"],function(e,t,i,r){"use strict";var t=sap.apf.modeler.ui.utils.nullObjectChecker;var i=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var a=sap.apf.modeler.ui.utils.textManipulator;var l=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.facetFilterVHR",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("vhSource"));e.byId("idEntityLabel").setText(t("vhEntity"));e.byId("idSelectPropertiesLabel").setText(t("vhSelectProperties"));e.byId("idOptionalRequestFieldLabel").setText(t("ffAlias"))},clearVHRFields:function(e){var t=this;t.clearSource();t.addOrRemoveMandatoryFieldsAndRequiredFlag(false,e);t.setDetailData()},onBeforeRendering:function(){var e=this;var t=new r({span:"L6 M6 S6"});e.byId("idOptionalRequestField").setLayoutData(t);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalRequestField").setForceSelection(false)},onAfterRendering:function(){var e=this;e.addOrRemoveMandatoryFieldsAndRequiredFlag(true)},fireRelevantEvents:function(e){var t=this,i;var r=t.getView().getViewData().oTextReader;if(e.getSource()===t.byId("idSource")){t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.UPDATEPROPERTIES)}if(e.getSource()!==t.byId("idOptionalRequestField")){i=[a.removePrefixText(t.byId("idOptionalRequestField").getSelectedKey(),r(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE))];t.updateOptionalRequestFieldProperty(i)}if(t.oParentObject.getUseSameRequestForValueHelpAndFilterResolution()){t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.facetFilter.USESAMEASVHR)}},setOptionalRequestFieldProperty:function(){var e=this;var r=[],a,l;r=e.byId("idSelectProperties").getSelectedKeys();l=e.oParentObject.getAlias();if(t.checkIsNotNullOrUndefinedOrBlank(l)){a=e.validateSelectedValues(e,[l],r);l=a.aSelectedValues[0]}var n=i.convert(r);e.byId("idOptionalRequestField").setModel(n);e.byId("idOptionalRequestField").setSelectedKey(l)},updateOptionalRequestFieldProperty:function(e){var i=this;i.oParentObject.setAlias(undefined);if(t.checkIsNotNullOrUndefinedOrBlank(e[0])){i.oParentObject.setAlias(e[0])}},removeOptionalRequestFieldProperty:function(e){var i=this;if(t.checkIsNotNullOrUndefinedOrBlank(e[0])){i.oParentObject.setAlias(undefined)}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e,t){var i=this;if(e===false&&t===undefined){return}i.byId("idSourceLabel").setRequired(e);i.byId("idEntityLabel").setRequired(e);i.byId("idSelectPropertiesLabel").setRequired(e);if(e){i.viewValidator.addFields(["idSource","idEntity","idSelectProperties"])}else{i.viewValidator.removeFields(["idSource","idEntity","idSelectProperties"])}},getSource:function(){var e=this;return e.oParentObject.getServiceOfValueHelp()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySetOfValueHelp()},getAllEntitySetPropertiesAsPromise:function(e,t){var i=this;return i.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setServiceOfValueHelp(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySetOfValueHelp(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectPropertiesOfValueHelp();t.forEach(function(t){e.oParentObject.removeSelectPropertyOfValueHelp(t)});e.clearOptionalRequestFieldProperty()},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectPropertyOfValueHelp(e)})},clearOptionalRequestFieldProperty:function(){var e=this;e.oParentObject.setAlias(undefined)},updateSource:function(e){var t=this;t.oParentObject.setServiceOfValueHelp(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySetOfValueHelp(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getSelectPropertiesOfValueHelp());e.forEach(function(e){t.oParentObject.addSelectPropertyOfValueHelp(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectPropertiesOfValueHelp()},getOptionalRequestFieldProperty:function(){var e=this;return[e.oParentObject.getAlias()]},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return l},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/hierarchicalStepRequest.controller", ["sap/apf/modeler/ui/controller/stepRequest.controller","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var t=sap.apf.modeler.ui.utils.textManipulator;var r=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var i=sap.apf.modeler.ui.utils.nullObjectChecker;return e.extend("sap.apf.modeler.ui.controller.hierarchicalStepRequest",{onBeforeRendering:function(){var e=this;e.byId("idOptionalPropertyLabel").setVisible(true);e.byId("idOptionalProperty").setVisible(true);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("hierarchicalEntity"));e.byId("idOptionalPropertyLabel").setText(t("hierarchicalProperty"));e.byId("idSelectPropertiesLabel").setText(t("nonHierarchicalProperty"));e.byId("idOptionalRequestFieldLabel").setText(t("requiredFilters"))},setOptionalHierarchicalProperty:function(){var e=this;var t=jQuery.Deferred();var a,l,o,d;l=e.byId("idSource").getValue();o=e.byId("idEntity").getSelectedKey();e.byId("idOptionalProperty").setModel(null);e.byId("idOptionalProperty").clearSelection();if(!i.checkIsNotNullOrUndefinedOrBlank(l)){t.resolve();return t.promise()}e.getHierarchicalProperty(l,o).done(function(l){var o=e.getSelectedHierarchicalProperty();if(i.checkIsNotNullOrUndefinedOrBlank(o)){d=e.validateSelectedValues(e,[o],l);l=d.aValues;o=d.aSelectedValues[0]}a=r.convert(l);e.byId("idOptionalProperty").setModel(a);if(!i.checkIsNotNullOrUndefinedOrBlank(o)||l.indexOf(o)===-1){o=l[0];if(i.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idOptionalProperty").setSelectedKey(o)}t.resolve()}else if(i.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idOptionalProperty").setSelectedKey(o);t.resolve()}});return t.promise()},setOptionalRequestFieldProperty:function(){var e=this;var t,a,l,o,d,n=[],s,c,u,y;d=[e.getView().getViewData().oTextReader("none")];s=e.oParentObject.getService();c=e.oParentObject.getEntitySet();u=e.getSelectedHierarchicalProperty();t=d;l=d[0];if(s&&c&&u){e.getHierarchyNodeIdAsPromise(s,c,u).done(function(r){o=e.oParentObject.getFilterProperties();if(i.checkIsNotNullOrUndefinedOrBlank(o)){n=e.validateSelectedValues(e,o,[r]);o=n.aValues;l=n.aSelectedValues}if(r){y={key:r,name:u};t=t.concat(y)}else{t=t.concat(o)}})}a=r.convert(t);e.byId("idOptionalRequestField").setModel(a);e.byId("idOptionalRequestField").setSelectedKey(l)},handleChangeForOptionalProperty:function(e){var r=this;var i=r.getView().getViewData().oTextReader;var a=t.removePrefixText(r.byId("idOptionalProperty").getSelectedKey(),i(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));r.updateHierarchicalProperty(a);r.clearOptionalRequestFieldProperty();r.setOptionalRequestFieldProperty();r.oConfigurationEditor.setIsUnsaved();r.fireRelevantEvents(e)},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;if(e===false){return}t.byId("idSourceLabel").setRequired(e);t.byId("idEntityLabel").setRequired(e);t.byId("idOptionalPropertyLabel").setRequired(e);t.viewValidator.addFields(["idSource","idEntity","idOptionalProperty"])},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllHierarchicalEntitySetsOfServiceAsPromise(e)},getHierarchicalProperty:function(e,t){var r=this;return r.oConfigurationEditor.getHierarchicalPropertiesOfEntitySetAsPromise(e,t)},getHierarchyNodeIdAsPromise:function(e,t,r){var i=this;return i.oConfigurationEditor.getHierarchyNodeIdAsPromise(e,t,r)},getSelectedHierarchicalProperty:function(){var e=this;return e.oParentObject.getHierarchyProperty()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getNonHierarchicalPropertiesOfEntitySet(e,t)},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearHierarchicalProperty();e.byId("idOptionalProperty").setModel(null);e.byId("idOptionalProperty").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idSelectProperties").setModel(null);e.byId("idSelectProperties").setSelectedKeys([])},clearHierarchicalProperty:function(){var e=this;e.oParentObject.setHierarchyProperty(undefined)},updateHierarchicalProperty:function(e){var t=this;t.clearHierarchicalProperty();t.oParentObject.setHierarchyProperty(e)}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/importDeliveredContent.controller", ["sap/apf/modeler/ui/controller/overwriteExistingConfiguration","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/core/CustomData","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/thirdparty/jquery"],function(e,t,i,o,a,n,jQuery){"use strict";var r=n.ValueState;var l,d,p;var t=sap.apf.modeler.ui.utils.nullObjectChecker;var i=sap.apf.modeler.ui.utils.optionsValueModelBuilder;function f(e){var t=l.getText;e.byId("idImportDeliveredContentDialog").setTitle(t("importDeliveredContent"));e.byId("idConfigLabel").setText(t("configuration"));e.byId("idAppConfigCombobox").setPlaceholder(t("configFileInputPlaceHolder"));e.byId("idImportOfConfig").setText(t("import"));e.byId("idCancelImportOfConfig").setText(t("cancel"))}function s(e){var t,o,a;o=l.readAllConfigurationsFromVendorLayer();o.then(function(o){a={applicationText:l.getText("application"),configurationText:l.getText("configuration")};o=[a].concat(o);t=i.prepareModel(o);var n=e.byId("idAppConfigCombobox");n.setModel(t);n.getItems()[0].setEnabled(false);e.byId("idImportDeliveredContentDialog").open()})}function u(e,t,i,n){var r=new o({value:{callbackOverwrite:t,callbackCreateNew:i}});p=sap.ui.xmlfragment("idOverwriteConfirmationFragment","sap.apf.modeler.ui.fragment.overwriteConfirmation",e);e.getView().addDependent(p);e.setOverwriteConfirmationDialogText(l.getText);p.removeAllCustomData();p.addCustomData(r);a.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValue(n);p.open()}function c(e){var t=e.byId("idImportDeliveredContentDialog");if(p&&p.isOpen()){e.handleCancelOfOverwriteDialog()}if(t&&t.isOpen()){e.handleCancelOfImportDialog()}}function g(e,i,o){var a=this;if(!t.checkIsNotUndefined(o)){d.fireEvent("updateAppListEvent");var n=l.createMessageObject({code:"11515"});l.putMessage(n)}else{var n=l.createMessageObject({code:"11502"});n.setPrevious(o);l.putMessage(n)}c(a)}return e.extend("sap.apf.modeler.ui.controller.importDeliveredContent",{onInit:function(){var e=this;l=e.getView().getViewData().oCoreApi;d=e.getView().getViewData().oParentControl;f(e);s(e)},handleChangeOfAppConfigTextField:function(){var e=this,t,i;i=e.byId("idAppConfigCombobox");t=i.getItems().filter(function(e){return e.getText()===i.getValue()});if(!t.length){jQuery(i).focus();jQuery(".appCofigCombo").find("input").focus();i.setValueState(r.Error)}},handleSelectionChangeOfAppConfigTextField:function(){var e=this;e.byId("idAppConfigCombobox").setValueState(r.None)},handleImportPress:function(){var e=this;var i=e.byId("idAppConfigCombobox");e.handleChangeOfAppConfigTextField();if(t.checkIsNotNullOrUndefinedOrBlank(i.getSelectedItem())){var o=i.getSelectedItem().data("value").split(".");var a=o[0];var n=o[1];l.importConfigurationFromVendorLayer(a,n,function(t,i,o){u(e,t,i,o)},g.bind(e))}},handleCancelOfImportDialog:function(){var e=this;e.getView().destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/importFiles.controller", ["sap/apf/modeler/ui/controller/overwriteExistingConfiguration","sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/core/CustomData","sap/ui/core/Fragment"],function(e,t,i,l){"use strict";var a,o,r,n,s;function d(e){var t=a.getText;e.byId("idImportFilesDialog").setTitle(t("importConfig"));e.byId("idJsonFileLabel").setText(t("jsonFile"));e.byId("idJsonFileUploader").setPlaceholder(t("jsonFileInputPlaceHolder"));e.byId("idTextFileLabel").setText(t("textFile"));e.byId("idTextFileUploader").setPlaceholder(t("textFileInputPlaceHolder"));e.byId("idUploadOfConfig").setText(t("upload"));e.byId("idCancelImportOfConfig").setText(t("cancel"))}function c(e,t,o,r){var s=new i({value:{callbackOverwrite:t,callbackCreateNew:o}});n=sap.ui.xmlfragment("idOverwriteConfirmationFragment","sap.apf.modeler.ui.fragment.overwriteConfirmation",e);e.getView().addDependent(n);e.setOverwriteConfirmationDialogText(a.getText);n.removeAllCustomData();n.addCustomData(s);l.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValue(r);n.open()}function p(e){var t=a.createMessageObject({code:e});a.putMessage(t)}function u(e,i,l){var r=this;var n=r.byId("idTextFileUploader");if(!t.checkIsNotUndefined(l)){o.fireEvent("updateAppListEvent");p("11515");if(n&&n.getValue()){n.upload()}else{r.closeAllOpenDialogs()}}else{var s=a.createMessageObject({code:"11502"});s.setPrevious(l);a.putMessage(s);r.closeAllOpenDialogs()}}function f(e,i){a.importTexts(i,function(e){if(!t.checkIsNotUndefined(e)){p("11516")}else{var i=a.createMessageObject({code:"11503"});i.setPrevious(e);a.putMessage(i)}});e.closeAllOpenDialogs()}return e.extend("sap.apf.modeler.ui.controller.importFiles",{onInit:function(){var e=this;a=e.getView().getViewData().oCoreApi;o=e.getView().getViewData().oParentControl;a.getApplicationHandler(function(e,i){if(e&&!t.checkIsNotUndefined(i)){r=e}else{var l=a.createMessageObject({code:"11508"});l.setPrevious(i);a.putMessage(l)}});d(e);e.byId("idImportFilesDialog").setInitialFocus("true");e.byId("idImportFilesDialog").open()},addAcceptAttribute:function(){var e=this;var t=jQuery("#"+e.getView().getId()+"--idJsonFileUploader-fu");var i=jQuery("#"+e.getView().getId()+"--idTextFileUploader-fu");t.attr("accept",".json");i.attr("accept",".properties")},handleTypeMissmatchForJSONFile:function(){p("11517")},handleTypeMissmatchForPropertiesFile:function(){p("11518")},handleJSONFileUploadComplete:function(e){var t=this;var i=e.getSource().oFileUpload.files[0];if(i){var l=new FileReader;l.readAsText(i,"UTF-8");l.onload=function(e){s=JSON.parse(e.target.result).configHeader.Application;a.importConfiguration(JSON.stringify(JSON.parse(e.target.result)),function(e,i,l){c(t,e,i,l)},u.bind(t))};l.onerror=function(){p("11519")}}},handleTextFileUploadComplete:function(e){var i=this,l,a;l=e.getSource().oFileUpload.files[0];a=i.byId("idJsonFileUploader");if(l){var o=new FileReader;o.readAsText(l,"UTF-8");o.onload=function(e){var l=e.target.result.split(/\r?\n/);var o,n,d;for(n=0;n<l.length;n++){o=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(l[n]);if(t.checkIsNotNull(o)){d=l[n].split("=")[1]}}var c;if(r){for(n=0;n<r.getList().length;n++){if(d===r.getList()[n].Application){c=true;break}else{c=false}}}if(!c&&a&&!a.getValue()){p("11520")}else if(a&&a.getValue()){if(s&&d&&d!==s){p("11521")}else{f(i,e.target.result)}}else if(c&&a&&!a.getValue()){f(i,e.target.result)}};o.onerror=function(){p("11522")}}i.closeAllOpenDialogs()},handleUploadOfConfig:function(){var e=this;var i=t.checkIsNotNullOrUndefinedOrBlank(e.byId("idJsonFileUploader").getValue());var l=t.checkIsNotNullOrUndefinedOrBlank(e.byId("idTextFileUploader").getValue());if(i&&l||i){e.byId("idJsonFileUploader").upload()}else{e.byId("idTextFileUploader").upload()}},handleCancelOfImportFilesDialog:function(){var e=this;e.byId("idImportFilesDialog").close()},closeAllOpenDialogs:function(){var e=this.byId("idImportFilesDialog");if(n&&n.isOpen()){this.handleCancelOfOverwriteDialog()}if(e&&e.isOpen()){this.handleCancelOfImportFilesDialog()}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/messageHandler.controller", ["sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Link","sap/m/Text","sap/m/VBox","sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/HTML","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/Log","sap/ui/Device"],function(e,t,s,a,i,n,o,r,c,g,l,jQuery,p,u,d){"use strict";var f=s.DialogType,w=s.FlexAlignItems,m=g.ValueState;var v;function y(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function x(e,t){var s=e.getView().getViewData();var a=s.getGenericExit("closeFatalErrorDialog");if(a){a(s,e,t)}else{window.history.go(-1)}}function h(e){o.error(e.getMessage(),{styleClass:d.system.desktop?"sapUiSizeCompact":""})}function M(e){o.information(e.getMessage(),{styleClass:d.system.desktop?"sapUiSizeCompact":""})}function b(e){r.show(e.getMessage(),{width:"20em"})}function C(s,a){var i=new t(s.createId("idShowDetailsDialog"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:v.getText("error"),type:f.Message,state:m.Error,content:new c({content:["<div><p> "+p(y(a))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new e({text:v.getText("close"),press:function(){i.close()}}),afterClose:function(){i.destroy()}}).addStyleClass("dialogContentPadding");i.setInitialFocus(i);i.open()}function D(s,o){var r=new t(s.createId("idFatalDialog"),{title:v.getText("error"),type:f.Message,state:m.Error,content:[new i({text:v.getText("fatalErrorMessage")}),new n({alignItems:w.End,items:[new a({text:v.getText("showDetailsLink"),press:function(){C(s,o)}})]})],beginButton:new e({text:v.getText("close"),press:function(){x(s,r)}}),afterClose:function(){r.destroy()}});r.setInitialFocus(r);r.open()}var T=l.extend("sap.apf.modeler.ui.controller.messageHandler",{onInit:function(){v=this.getView().getViewData()},showMessage:function(e){var t=this;var s=e.getSeverity();var a=sap.apf.core.constants.message.severity;switch(s){case a.fatal:D(t,e);break;case a.error:h(e);break;case a.success:b(e);break;case a.information:M(e);break;default:u.error("Error type not defined");break}}});return T},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/navTargetContextMapping.controller", ["sap/apf/modeler/ui/controller/requestOptions"],function(e){"use strict";var t=sap.apf.modeler.ui.utils.textManipulator;var r=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.navTargetContextMapping",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false);e.byId("idOptionalPropertyLabel").setVisible(true);e.byId("idOptionalPropertyLabel").setText(t("mappedProperty"));e.byId("idOptionalProperty").setVisible(true)},getSource:function(){var e=this;return e.oParentObject.getFilterMappingService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getFilterMappingEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setFilterMappingService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setFilterMappingEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getFilterMappingTargetProperties();t.forEach(function(t){e.oParentObject.removeFilterMappingTargetProperty(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterMappingTargetProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setFilterMappingService(e)},updateEntity:function(e){var t=this;t.oParentObject.setFilterMappingEntitySet(e)},updateSelectProperties:function(e){var t=this;t.clearSelectProperties();e.forEach(function(e){t.oParentObject.addFilterMappingTargetProperty(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getFilterMappingTargetProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()},getIdOfPropertiesControl:function(){return"idOptionalProperty"},getIdOfPropertyLabel:function(){return"idOptionalPropertyLabel"},setSelectedKeysForProperties:function(e){if(e.length>0){this.byId("idOptionalProperty").setSelectedKey(e[0])}},getSelectedKeysForProperties:function(){return this.oParentObject.getFilterMappingTargetProperties()},handleChangeForOptionalProperty:function(){var e=this;var r=e.getView().getViewData().oTextReader;var i=this.byId("idOptionalProperty").getSelectedKey();i=t.removePrefixText(i,r(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));e.updateSelectProperties([i]);e.oConfigurationEditor.setIsUnsaved()}});return r},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/navigationTarget.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/staticValuesBuilder","sap/m/MessageBox","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/core/mvc/ViewType","sap/ui/thirdparty/jquery","sap/ui/core/mvc/Controller"],function(e,t,i,a,n,o,r,jQuery){"use strict";var s,d,l,c,g,u,p,f;var v;var t=sap.apf.modeler.ui.utils.nullObjectChecker;var o=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var m=sap.apf.modeler.ui.utils.TranslationFormatMap.NAVTARGET_TITLE;function b(e){e.byId("idNavigationTargetHeaderLabel").setText(d("basicData"));e.byId("idSemanticObjectLabel").setText(d("semanticObject"));e.byId("idActionLabel").setText(d("action"));e.byId("idDescriptionLabel").setText(d("navigationTargetTitle"));e.byId("idNavigationParametersHeaderLabel").setText(d("navigationParametersHeader"));e.byId("idNavigationTargetTypeHeaderLabel").setText(d("navigationTargetType"));e.byId("idNavigationTargetTypeLabel").setText(d("assignmentType"));e.byId("idAssignedStepsLabel").setText(d("assignedSteps"));e.byId("idContextMapping").setText(d("contextMapping"))}function T(e){var i;if(s&&s.arguments&&s.arguments.navTargetId){u=g.getNavigationTarget(s.arguments.navTargetId)}if(!t.checkIsNotUndefined(u)){i=g.createNavigationTarget();u=g.getNavigationTarget(i);w(e)}}function I(e){var t=u.getTitleKey()?d("navigationTargetTitle"):d("navigationTargetTitle")+" ("+d("default")+")";e.byId("idDescriptionLabel").setText(t);e.byId("idDescriptionLabel").setTooltip(t);e.byId("idUseDynamicParametersCheckBoxLabel").setText(d("useDynamicParametersLabel"))}function y(e){var t,i;var a={oTextReader:d,oConfigurationHandler:c,oConfigurationEditor:g,oParentObject:u,getCalatogServiceUri:e.getView().getViewData().getCalatogServiceUri,oCoreApi:e.getView().getViewData().oCoreApi};t=new sap.ui.controller("sap.apf.modeler.ui.controller.navTargetContextMapping");i=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:r.XML,id:e.createId("idContextMappingView"),viewData:a,controller:t});e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,i.getController().updateSubViewInstancesOnReset.bind(i.getController()));i.addStyleClass("formTopPadding");e.byId("idContextMappingVBox").insertItem(i);v=0;var n=u.getAllNavigationParameters();if(n.length>0){n.forEach(function(t){S(e,t)})}else{S(e)}}function S(e,t){var i=new sap.ui.controller("sap.apf.modeler.ui.controller.navigationTargetParameter");var a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.navigationTargetParameter",type:r.XML,id:e.createId("idNavigationTargetParameter"+v),viewData:{oTextReader:d,oParentController:e,oNavigationTarget:u,parameter:t,oConfigurationEditor:g},controller:i});e.byId("idNavigationParameterBox").addItem(a);v++;h(e)}function h(e){e.byId("idNavigationParameterBox").getItems().forEach(function(e){e.getController().checkVisibilityOfPlusMinus()})}function N(e){var i=jQuery.Deferred();f.getAllAvailableSemanticObjects(function(a,n){if(n===undefined){var r=o.prepareModel(a,a.length);e.byId("idSemanticObjectField").setModel(r);if(t.checkIsNotNullOrUndefinedOrBlank(u.getSemanticObject())){e.byId("idSemanticObjectField").setValue(u.getSemanticObject())}i.resolve()}else{E(e,n,"11504")}});return i.promise()}function V(e){var t,i;i=jQuery.Deferred();t=o.prepareModel([],0);e.byId("idActionField").setModel(t);C(undefined,e);A(e).then(function(e){i.resolve(e)});e.byId("idActionField").setValue(u.getAction());return i.promise()}function A(e){var i,a,n,r;r=new jQuery.Deferred;a=u.getSemanticObject();if(t.checkIsNotUndefined(a)){n=f.getSemanticActions(a);n.then(function(t){i=o.prepareModel(t.semanticActions,t.semanticActions.length);e.byId("idActionField").setModel(i);r.resolve(t)},function(t){E(e,t,"11505")})}return r.promise()}function C(e,i){var a,n,o;var r=u.getTitleKey();if(t.checkIsNotUndefined(r)){n=i.getView().getViewData().oConfigurationHandler.getTextPool().get(r).TextElementDescription;i.byId("idDescription").setValue(n)}else{var s=e?e:i.byId("idActionField").getModel().getData().Objects;if(s&&t.checkIsNotNullOrBlank(u.getAction())){for(o=0;o<s.length;o++){if(s[o].id===u.getAction()){a=s[o].text;break}}}n=a?a:u.getSemanticObject();i.byId("idDescription").setValue(n)}}function x(e){var t=new sap.apf.modeler.ui.utils.StaticValuesBuilder(d,o);var i=t.getNavTargetTypeData();e.byId("idNavigationTargetTypeField").setModel(i);var a=u.isStepSpecific()?d("stepSpecific"):d("globalNavTargets");e.byId("idNavigationTargetTypeField").setSelectedKey(a)}function D(e){var t=u.isStepSpecific()?d("stepSpecific"):d("globalNavTargets");if(t===d("stepSpecific")){M(e,true);var i=[];var a=g.getSteps();var n,r;for(n=0;n<a.length;n++){r={};r.stepKey=a[n].getId();r.stepName=l.get(a[n].getTitleId()).TextElementDescription;i.push(r)}var s=o.prepareModel(i,i.length);e.byId("idAssignedStepsCombo").setModel(s);var c=g.getStepsAssignedToNavigationTarget(u.getId());e.byId("idAssignedStepsCombo").setSelectedKeys(c)}}function w(e){var t={id:u.getId(),icon:u.isGlobal()?"sap-icon://overview-chart":"sap-icon://pushpin-off"};if(e.byId("idDescription").getValue()){t.name=e.byId("idDescription").getValue()}f.updateSelectedNode(t)}function O(e){var t=d("navigationTarget")+": "+e.byId("idDescription").getValue();f.updateTitleAndBreadCrumb(t)}function P(e){var t={key:u.getId(),value:e.byId("idDescription").getValue()};f.setNavigationTargetName(t)}function M(e,t){e.byId("idAssignedStepsLabel").setVisible(t);e.byId("idAssignedStepsCombo").setVisible(t)}function E(e,t,i){var a=f.createMessageObject({code:i});a.setPrevious(t);f.putMessage(a)}function U(){var e=g.getStepsAssignedToNavigationTarget(u.getId());var t,i;for(t=0;t<e.length;t++){i=g.getStep(e[t]);i.removeNavigationTarget(u.getId())}}sap.ui.controller("sap.apf.modeler.ui.controller.navigationTarget",{onInit:function(){var e=this;f=e.getView().getViewData();c=f.oConfigurationHandler;g=f.oConfigurationEditor;l=c.getTextPool();d=f.getText;s=f.oParams;if(!g){c.loadConfiguration(s.arguments.configId,function(e){g=e})}b(e);p=new sap.apf.modeler.ui.utils.ViewValidator(e.getView());p.addFields(["idSemanticObjectField","idActionField"]);T(e);y(e);e.setDetailData()},onAfterRendering:function(){var e=this;if(e.getView().byId("idSemanticObjectField").getValue().length===0){e.getView().byId("idSemanticObjectField").focus()}},setDetailData:function(){var e=this;N(e).then(function(){V(e).then(function(t){C(t.semanticActions,e)})});I(e);x(e);D(e);var t=u.getUseDynamicParameters();if(t){this.getView().byId("idUseDynamicParametersCheckBox").setSelected(true)}else{this.getView().byId("idUseDynamicParametersCheckBox").setSelected(false)}},updateSubViewInstancesOnReset:function(e){var t=this;g=e;u=g.getNavigationTarget(u.getId());t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:g,oParentObject:u})},handleChangeSemanticObjectValue:function(e){var i,a=this;i=e.getParameter("value").trim();u.setTitleKey(undefined);if(t.checkIsNotNullOrBlank(i)){u.setSemanticObject(i);A(a).then(function(e){if(e.semanticActions.length>0){u.setAction(a.byId("idActionField").getModel().getData().Objects[0].id);a.byId("idActionField").setSelectedKey(e.semanticActions[0].id)}else{a.byId("idActionField").setValue("")}C(e.semanticActions,a);I(a);w(a);O(a);P(a)})}g.setIsUnsaved()},handleChangeofAction:function(e){var i,a=this;i=e.getParameter("value");u.setTitleKey(undefined);if(t.checkIsNotNullOrBlank(i)){u.setAction(i)}C(undefined,a);I(a);w(a);O(a);P(a);g.setIsUnsaved()},handleChangeForTitleText:function(){var e=this,t;var i=e.byId("idDescription").getValue();if(i.trim().length===0){t=undefined;u.setTitleKey(t);C(undefined,e);I(e);w(e);O(e);P(e);g.setIsUnsaved()}else{e.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(i,m).done(function(t){u.setTitleKey(t);I(e);e.byId("idDescription").setValue(i);w(e);O(e);P(e);g.setIsUnsaved()})}},handleSuggestions:function(e){var t=new sap.apf.modeler.ui.utils.SuggestionTextHandler(l);t.manageSuggestionTexts(e,m)},handleChangeOfNavigationTargetType:function(){var e=this;g.setIsUnsaved();var t=e.byId("idNavigationTargetTypeField").getSelectedKey();if(t===d("stepSpecific")){u.setStepSpecific();D(e)}else{u.setGlobal();M(e,false);e.byId("idAssignedStepsCombo").setSelectedKeys([]);U()}w(e,e.byId("idDescription").getValue())},handleChangeForAssignedSteps:function(){var e=this;g.setIsUnsaved();var t=e.byId("idAssignedStepsCombo").getSelectedKeys();var i=g.getStepsAssignedToNavigationTarget(u.getId());i.forEach(function(e){if(t.indexOf(e)===-1){var i=g.getStep(e);i.removeNavigationTarget(u.getId())}});t.forEach(function(e){if(i.indexOf(e)===-1){var t=g.getStep(e);t.addNavigationTarget(u.getId())}})},getValidationState:function(){var e=this;var t=true;e.byId("idNavigationParameterBox").getItems().forEach(function(e){if(!e.getController().validate()){t=false}});return p.getValidationState()&&e.byId("idContextMappingView").getController().getValidationState()&&t},getNavigationParameters:function(){return this.byId("idNavigationParameterBox").getItems()},addNavigationParameter:function(){S(this)},removeNavigationParameter:function(e){this.byId("idNavigationParameterBox").removeItem(e);h(this)},handleChangeForUseDynamicParameters:function(){var e=this.byId("idUseDynamicParametersCheckBox").getSelected();u.setUseDynamicParameters(e)},onExit:function(){var e=this;e.byId("idContextMappingView").destroy()},displayHelpAboutDynamicParameters:function(){var e=d("explanationOfDynamicParameters");var t=d("titleDynamicParameters");n.show(e,{icon:n.Icon.INFORMATION,title:t,actions:[n.Action.CLOSE]})}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/navigationTargetParameter.controller", ["sap/ui/core/library","sap/ui/core/mvc/Controller"],function(e){"use strict";var a=e.ValueState;var t;function i(e){var t;var i=o(e);var r=s(e);if(e.oldKey&&e.navigationTarget.getNavigationParameter(e.oldKey)){e.navigationTarget.removeNavigationParameter(e.oldKey);e.configurationEditor.setIsUnsaved()}if(!e.navigationTarget.getNavigationParameter(i)){if(i&&r){t=e.oParentController.getNavigationParameters().indexOf(e.getView());e.configurationEditor.setIsUnsaved();e.navigationTarget.addNavigationParameter(i,r,t)}e.byId("idNavigationParametersKey").setValueState(a.None);e.oldKey=i}else{e.byId("idNavigationParametersKey").setValueState(a.Error);e.oldKey=null}}function r(e){var a=o(e);if(a&&e.navigationTarget.getNavigationParameter(a)){e.configurationEditor.setIsUnsaved();e.navigationTarget.removeNavigationParameter(a)}}function n(e){e.byId("idNavigationParametersKey").setValueStateText(t("navigationParametersKeyErrorState"));e.byId("idNavigationParametersValue").setValueStateText(t("navigationParametersValueErrorState"));e.byId("idNavigationParametersLabel").setText(t("navigationStaticParametersLabel"));e.byId("idNavigationParametersKey").setPlaceholder(t("navigationParametersKey"));e.byId("idNavigationParametersValue").setPlaceholder(t("navigationParametersValue"))}function o(e){return e.byId("idNavigationParametersKey").getValue()}function s(e){return e.byId("idNavigationParametersValue").getValue()}function l(e,a){if(a){e.byId("idNavigationParametersKey").setValue(a.key);e.oldKey=a.key;e.byId("idNavigationParametersValue").setValue(a.value)}}sap.ui.controller("sap.apf.modeler.ui.controller.navigationTargetParameter",{onInit:function(){var e=this.getView().getViewData();t=e.oTextReader;this.oParentController=e.oParentController;this.navigationTarget=e.oNavigationTarget;this.configurationEditor=e.oConfigurationEditor;n(this);l(this,e.parameter)},onExit:function(){var e=this;e.destroy()},onPlus:function(){this.oParentController.addNavigationParameter()},onMinus:function(){r(this);this.oParentController.removeNavigationParameter(this.getView());this.getView().destroy()},checkVisibilityOfPlusMinus:function(){var e=this.oParentController.getNavigationParameters();if(e.length===1){this.byId("idRemoveNavigationParameter").setVisible(false)}else{this.byId("idRemoveNavigationParameter").setVisible(true)}if(e[e.length-1]===this.getView()){this.byId("idAddNavigationParameter").setVisible(true);if(!this.byId("idRemoveNavigationParameter").hasStyleClass("lessIcon")){this.byId("idRemoveNavigationParameter").addStyleClass("lessIcon")}}else{this.byId("idAddNavigationParameter").setVisible(false);this.byId("idRemoveNavigationParameter").removeStyleClass("lessIcon")}},onKeyEntered:function(){this.byId("idNavigationParametersKey").setValueState(a.None);i(this)},onValueEntered:function(){this.byId("idNavigationParametersValue").setValueState(a.None);i(this)},validate:function(){if(s(this)&&!o(this)){this.byId("idNavigationParametersKey").setValueState(a.Error);return false}if(!s(this)&&o(this)){this.byId("idNavigationParametersValue").setValueState(a.Error);return false}if(this.byId("idNavigationParametersKey").getValueState()===a.Error){return false}return true}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/newApplication.controller", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/core/mvc/Controller"],function(e){"use strict";function t(e){var t=e.coreApi.getText;e.byId("idNewAppDialog").setTitle(t("newApplication"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idSaveButton").setText(t("save"));e.byId("idCancelButton").setText(t("cancel"))}return sap.ui.controller("sap.apf.modeler.ui.controller.newApplication",{onInit:function(){var e=this;this.parentControl=e.getView().getViewData().oParentControl;this.coreApi=e.getView().getViewData().oCoreApi;e.byId("idDescriptionInput").setValue("");if(this.coreApi.showSemanticObject()){e.byId("idSemanticObjectInput").setValue("FioriApplication")}else{e.byId("idSemanticObjectInput").setValue("");e.byId("idSemanticObjectBox").setVisible(false)}t(e);e.byId("idNewAppDialog").open()},handleAppDescriptionLiveChange:function(e){var t=this;var i=e.getParameters().value.trim().length!==0?true:false;t.byId("idSaveButton").setEnabled(i);if(i===true){t.byId("idSaveButton").setType("Emphasized")}},handleSavePress:function(){var t=this;var i={};i.ApplicationName=e.checkIsNotNullOrUndefinedOrBlank(t.byId("idDescriptionInput").getValue().trim())?t.byId("idDescriptionInput").getValue().trim():undefined;i.SemanticObject=e.checkIsNotNullOrUndefinedOrBlank(t.byId("idSemanticObjectInput").getValue().trim())?t.byId("idSemanticObjectInput").getValue().trim():undefined;this.coreApi.getApplicationHandler(function(n,a){if(n&&!e.checkIsNotUndefined(a)){n.setAndSave(i,function(i,n,a){if(!e.checkIsNotUndefined(a)&&typeof i==="string"){t.parentControl.fireEvent("addNewAppEvent",{appId:i})}else{var c=t.coreApi.createMessageObject({code:"11500"});c.setPrevious(a);t.coreApi.putMessage(c)}})}else{var c=t.coreApi.createMessageObject({code:"11509"});c.setPrevious(a);t.coreApi.putMessage(c)}});t.byId("idNewAppDialog").close()},handleCancelPress:function(){var e=this;e.byId("idNewAppDialog").close()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/overwriteExistingConfiguration", ["sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/nullObjectChecker"],function(e,i,t,r){"use strict";var n=i.ValueState;var r=sap.apf.modeler.ui.utils.nullObjectChecker;return t.extend("sap.apf.modeler.ui.controller.overwriteExistingConfiguration",{setOverwriteConfirmationDialogText:function(i){e.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog").setTitle(i("configAlreadyExists"));e.byId("idOverwriteConfirmationFragment","idConfirmationMessage").setText(i("overwriteDialogMsg"));e.byId("idOverwriteConfirmationFragment","idOverwriteConfig").setText(i("overwriteConfig"));e.byId("idOverwriteConfirmationFragment","idDoNotOverwriteConfig").setText(i("doNotOverwriteConfig"));e.byId("idOverwriteConfirmationFragment","idNewConfigTitleLabel").setText(i("newConfigTitle"));e.byId("idOverwriteConfirmationFragment","idOkButton").setText(i("ok"));e.byId("idOverwriteConfirmationFragment","idCancelButton").setText(i("cancel"))},handleOkButtonPress:function(){var i,t,o,a,d;o=e.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog");a=o.getCustomData()[0].getValue().callbackOverwrite;d=o.getCustomData()[0].getValue().callbackCreateNew;i=e.byId("idOverwriteConfirmationFragment","idOverwriteConfigRadioGroup").getSelectedButton();t=e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput");if(i===e.byId("idOverwriteConfirmationFragment","idOverwriteConfig")){a()}else{if(r.checkIsNotNullOrUndefinedOrBlank(t.getValue().trim())){t.setValueState(n.None);d(t.getValue())}else{t.setValueState(n.Error)}}},handleCancelOfOverwriteDialog:function(){e.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog").destroy()},handleChangeForOverwriteConfigOptions:function(){var i;i=e.byId("idOverwriteConfirmationFragment","idOverwriteConfigRadioGroup").getSelectedButton();if(i===e.byId("idOverwriteConfirmationFragment","idDoNotOverwriteConfig")){e.byId("idOverwriteConfirmationFragment","idNewConfigTitleLayout").setVisible(true);e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setEnabled(true)}else{if(r.checkIsNotNullOrUndefinedOrBlank(e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").getValue().trim())){e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setEnabled(false);e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValueState(n.None)}else{e.byId("idOverwriteConfirmationFragment","idNewConfigTitleLayout").setVisible(false)}}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/previewContent.controller", ["sap/apf/utils/utils","sap/apf/ui/utils/constants","sap/apf/ui/utils/wrappedChartWithCornerTexts","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery"],function(e,t,n,r,jQuery){"use strict";var i,o,a,s,u,p,d,l;var c=sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION;function f(e){var t=e&&s.getTextPool().get(e),n;if(t!==undefined){n=t.TextElementDescription}return n}function g(e){var t=f(o[e]());if(t===undefined){t=f(a[e]())}return t}function v(e,t){return e.sort(function(e,n){var r,i;for(i=0;i<t.length;i++){if(e[t[i].property]<n[t[i].property]){r=-1}else if(e[t[i].property]>n[t[i].property]){r=1}r=r*[1,-1][+!t[i].ascending];if(r!==0){return r}}})}function y(e,t){var n=jQuery.Deferred();d.getEntityTypeMetadataAsPromise().done(function(r){var i,o,a=[];t.forEach(function(t){if(t.sProperty!==u("none")&&t.sProperty!==""){o=e(t.sProperty);if(o!==undefined){i=s.getTextPool().get(o).TextElementDescription}else{i=d.getDefaultLabel(r,t.sProperty)}a.push({fieldName:t.sProperty,fieldDesc:i,kind:t.sContext})}});n.resolve(a)});return n.promise()}function T(e){var t=jQuery.Deferred();var n=[];if(e==="properties"&&o.getRepresentationType()===c){y(o.getPropertyTextLabelKey,p.getActualProperties()).done(function(e){n=e})}else if(e==="dimensions"&&o.getRepresentationType()!==c){d.getEntityTypeMetadataAsPromise().done(function(e){y(o.getDimensionTextLabelKey,p.getActualDimensions().concat(p.getActualLegends())).done(function(e){n=e})})}else if(e==="measures"&&o.getRepresentationType()!==c){d.getEntityTypeMetadataAsPromise().done(function(e){y(o.getMeasureTextLabelKey,p.getActualMeasures()).done(function(e){n=e;n.forEach(function(e){var t=o.getMeasureDisplayOption(e.fieldName);if(t){e.measureDisplayOption=t}})})})}t.resolve(n);return t.promise()}function h(){var t=jQuery.Deferred();var n=[],r=[],i=0,a=3;var s=d.getProperties();d.getEntityTypeMetadataAsPromise().done(function(u){var p=d.getDimensionsProperties(u);var l=d.getMeasures(u);var f=o.getRepresentationType();var g=f!==c?Math.pow(a,p.length):7;for(i=0;i<g;i++){var y={};if(f===c){s.forEach(function(t){var n=t+" - "+e.createRandomNumberString(4);y[t]=n})}else{p.forEach(function(e,t){var n=e+" - "+(Math.floor(i/Math.pow(a,t))%a+1);y[e]=n});l.forEach(function(t){var n=e.createRandomNumberString(4);y[t]=n})}n.push(y)}r=o.getOrderbySpecifications();if(r&&r.length){n=v(n,r)}t.resolve(n)});return t.promise()}function w(){var t=l.getConstructorOfRepresentationType(o.getRepresentationType());var n=t.replaceAll(".","/");var r=sap.ui.requireSync(n)||e.extractFunctionFromModulePathString(t);var a={};a.requiredFilters=[];function s(e){return e}function u(){}var p={getTextNotHtmlEncoded:s,getTextHtmlEncoded:s,getEventCallback:u,getExits:function(){var e={};return e},getUiApi:function(){var e={};e.getStepContainer=function(){return undefined};return e},createFilter:function(){return{getOperators:function(){return{EQ:true}},getTopAnd:function(){return{addOr:u}},getInternalFilter:function(){return{getProperties:function(){return[]}}}}},createMessageObject:u,putMessage:u,updatePath:u,selectionChanged:u,getActiveStep:function(){return{getSelectedRepresentation:function(){return{bIsAlternateView:true}}}}};T("dimensions").done(function(e){a.dimensions=e});T("measures").done(function(e){a.measures=e});T("properties").done(function(e){a.properties=e});i=new r(p,a);if(i.chartType===c){i.oTableRepresentation.removeEventDelegate();i.oTableRepresentation.onAfterRendering(function(){return})}var d={getPropertyMetadata:function(e){return{label:e}}};h().done(function(e){i.setData(e,d)})}function C(e){var t=e.byId("idPreviewContentDialog");t.setTitle(u("preview"));t.getEndButton().setText(u("close"))}var m=r.extend("sap.apf.modeler.ui.controller.previewContent",{onInit:function(){var e=this;var t=e.byId("idPreviewContentDialog");o=e.getView().getViewData().oRepresentation;a=e.getView().getViewData().oParentStep;s=e.getView().getViewData().oConfigurationHandler;u=e.getView().getViewData().oCoreApi.getText;p=e.getView().getViewData().oRepresentationHandler;d=e.getView().getViewData().oStepPropertyMetadataHandler;l=e.getView().getViewData().oRepresentationTypeHandler;C(e);w();e._drawContent();t.open()},_drawContent:function(){this._drawMainChart();this._drawLikeStepInCarousel()},_drawLikeStepInCarousel:function(){var e=a.getTitleId();var t=f(e);var r={getSelectedRepresentation:function(){return i}};var o=n.getClonedChart(r);var s={rightLower:g("getRightLowerCornerTextKey"),rightUpper:g("getRightUpperCornerTextKey"),leftLower:g("getLeftLowerCornerTextKey"),leftUpper:g("getLeftUpperCornerTextKey")};var u={mode:"preview",titleText:t,oCornerTexts:s};var p=new n.constructor(null,a,o,u);this._addChart(p.getContent())},_drawMainChart:function(){var e=a.getLongTitleId();var t=s.getTextPool().isInitialTextKey(e);var n=e&&!t?e:a.getTitleId();var r=i.getMainContent(f(n),480,330);var o={interaction:{selectability:{axisLabelSelection:true,legendSelection:true,plotLassoSelection:true,plotStdSelection:true}}};if(r.setVizProperties!==undefined)r.setVizProperties(o);this.byId("idMainChart").addItem(r)},handleCloseButtonOfDialog:function(){var e=this;e.byId("idPreviewContentDialog").close()},handleClose:function(){var e=this;e.byId("idPreviewContentDialog").destroy();e.getView().destroy()},_addChart:function(e){this.byId("idThumbnail").addItem(e)}});return m},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/propertyType", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/ui/Device","sap/ui/core/Item","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery"],function(e,t,r,o,i,a,n,s,d,jQuery){"use strict";var p=sap.apf.modeler.ui.utils.textManipulator;var l=e.events;var y=sap.apf.modeler.ui.utils.TranslationFormatMap.REPRESENTATION_LABEL;function u(e){var t=e.oRepresentation.getRepresentationType();var r=e.getView().getViewData().oPropertyTypeData.sContext;var o=e.getView().getViewData().oRepresentationTypeHandler.getLabelsForChartType(e.oTextReader,t,r);e.byId("idPropertyTypeLabel").setText(o);e.byId("idPropertyTypeLabel").setTooltip(o)}function f(e){if(n.browser.msie&&n.browser.version>=11){e.byId("idAriaPropertyForBasicDataGroup").setText(e.oTextReader("basicData"))}e.byId("idAriaPropertyForAdd").setText(e.oTextReader("ariaTextForAddIcon"));e.byId("idAriaPropertyForDelete").setText(e.oTextReader("ariaTextForDeleteIcon"))}function g(e){var r;var o=jQuery.Deferred();var i=e.byId("idPropertyType");e.getAllPropertiesAsPromise().then(function(e){r=t.convert(e.aAllProperties);i.setModel(r);i.setSelectedKey(e.sSelectedKey);o.resolve()});return o.promise()}function c(t){var r=p.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));var o=t.getPropertyTextLabelKey(r)?t.oTextReader("label"):t.oTextReader("label")+" ("+t.oTextReader("default")+")";t.byId("idPropertyLabel").setText(o);t.byId("idPropertyLabel").setTooltip(o)}function P(t){var o;var i=p.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));var a=t.getPropertyTextLabelKey(i);if(r.checkIsNotUndefined(a)){o=t.getView().getViewData().oConfigurationHandler.getTextPool().get(a).TextElementDescription;t.byId("idPropertyLabelText").setValue(o)}else{t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().then(function(e){var r=t.oStepPropertyMetadataHandler.getDefaultLabel(e,i);t.byId("idPropertyLabelText").setValue(r)})}}function v(e){e.byId("idAddPropertyIcon").setTooltip(e.oTextReader("addButton"));e.byId("idRemovePropertyIcon").setTooltip(e.oTextReader("deleteButton"))}function T(e){var t=e.getView().getViewData().sPropertyType;var r=e.getView().getViewData().oPropertyTypeData.sContext;var o=e.oRepresentationTypeHandler.isAdditionToBeEnabled(e.oRepresentation.getRepresentationType(),t,r);var i=o;var a=e.getView().getViewData().oPropertyTypeState;var n=a.indexOfPropertyTypeViewId(e.getView().getId());if(n===0){i=false}else if(n>0){var s=a.getViewAt(n-1);var d=s.getViewData().oPropertyTypeData.sContext;if(r!==d){i=false}}e.byId("idAddPropertyIcon").setVisible(o);e.byId("idRemovePropertyIcon").setVisible(i);if(n>0){s.oController.byId("idAddPropertyIcon").setVisible(false)}}function I(e){var t=e.getView().getViewData().oPropertyTypeState;var r=t.indexOfPropertyTypeViewId(e.getView().getId());if(r>0){var o=t.aProperties.length-1;var i=t.getViewAt(r-1);var a=t.getViewAt(r);var n=e.oConfigurationEditor.isSaved()}if(r>0&&r==o&&n==false){i.oController.byId("idAddPropertyIcon").setVisible(false);a.oController.byId("idAddPropertyIcon").setVisible(true);a.oController.byId("idRemovePropertyIcon").setVisible(true)}}function b(e,t){var r=e.getView().getViewData().oPropertyTypeState;var o=r.aProperties.length;var i=r.getViewAt(t-1);var a=e.oConfigurationEditor.isSaved();if(t>1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true);i.oController.byId("idRemovePropertyIcon").setVisible(true)}if(t===1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true)}}function V(e){e.byId("idAddPropertyIcon").attachEvent(l.SETFOCUSONADDICON,e.setFocusOnAddRemoveIcons.bind(e))}var w=d.extend("sap.apf.modeler.ui.controller.propertyType",{_apfName:"propertyType",oConfigurationEditor:{},oRepresentation:{},oStepPropertyMetadataHandler:{},oRepresentationTypeHandler:{},oTextReader:{},oTextPool:{},initPromise:null,onInit:function(){var e=this;e.initPromise=new jQuery.Deferred;e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oRepresentation=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.oRepresentationTypeHandler=e.getView().getViewData().oRepresentationTypeHandler;e.oTextReader=e.getView().getViewData().oCoreApi.getText;e.oTextPool=e.getView().getViewData().oTextPool;if(e.getView().getViewData().oPropertyTypeData.bMandatory){e.getView().getViewData().oViewValidator.addField(e.byId("idPropertyType").getId());e.byId("idPropertyTypeLabel").setRequired(true)}g(e).then(function(){e.setDetailData().then(function(){e.initPromise.resolve()});T(e)})},onAfterRendering:function(){var e=this;e.initPromise.then(function(){e.enableDisableLabelDisplayOptionTypeAsPromise().then(function(){e.byId("idAddPropertyIcon").fireEvent(l.SETFOCUSONADDICON)})})},setDetailData:function(){var e=jQuery.Deferred();var r=this;r.setLabelDisplayOptionTypeAsPromise(t).then(function(){if(!r.byId("idPropertyType")){e.resolve();return}P(r);f(r);c(r);u(r);v(r);e.resolve()});return e.promise()},handleChangeForPropertyTypeAsPromise:function(t){var r=this;var o=jQuery.Deferred();var i=p.removePrefixText(r.byId("idPropertyType").getSelectedKey(),r.oTextReader(e.texts.NOTAVAILABLE));var a=r.getView().getViewData().oPropertyOrchestration;var n=r.getView().getId();var s;var d=null;if(a){s=a.isSwapCase(n,i);d=a.getPropertyTypeRowByPropertyName(i);a.updateAllSelectControlsForPropertyType(n,i).then(function(){var e;r.updateRepresentationAndView().then(function(){if(s){e=d.oView.getController();e.updateRepresentationAndView().then(function(){r.oConfigurationEditor.setIsUnsaved();o.resolve()})}else{r.oConfigurationEditor.setIsUnsaved();o.resolve()}})})}else{r.forceFailSinceOrchestrationIsMissing();o.resolve()}return o.promise()},updateRepresentationAndView:function(){var e=this;return new Promise(function(t){e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData();e.enableDisableLabelDisplayOptionTypeAsPromise().then(function(){t()})})})},handleChangeForLabelDisplayOptionType:function(){var e=this;var t=e.byId("idLabelDisplayOptionType").getSelectedKey();e.changeLabelDisplayOption(t);e.oConfigurationEditor.setIsUnsaved()},handleChangeForLabelText:function(){var t=this,r;var o=t.byId("idPropertyLabelText").getValue();var i=p.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));if(o.trim().length===0){r=undefined;t.setPropertyTextLabelKey(i,r);c(t);P(t);t.oConfigurationEditor.setIsUnsaved()}else{t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(o,y).then(function(e){t.setPropertyTextLabelKey(i,e);c(t);P(t);t.oConfigurationEditor.setIsUnsaved()})}},setFocusOnAddRemoveIcons:function(){var e=this;e.byId("idAddPropertyIcon").focus()},handlePressOfAddPropertyIcon:function(){var t=this;var r=t.getView();var o=r.getViewData().oPropertyOrchestration;var i=t.byId("idPropertyType").getItems();var a=t.byId("idPropertyType").getSelectedKey();var n=t.oTextReader("none");if(this._shallAddPropertyBeHandled(i,a,n,o)){V(t);t.getView().fireEvent(e.events.ADDPROPERTY,{oSourceView:r});t.oConfigurationEditor.setIsUnsaved();I(t)}},handlePressOfRemovePropertyIcon:function(){var e=this;var t=e.getView().getViewData();var r=t.oPropertyTypeState;var o=r.indexOfPropertyTypeViewId(e.getView().getId());if(o>0){var i=r.getViewAt(o-1);V(i.getController())}var a=t.oPropertyOrchestration;a.removePropertyTypeReference(e.getView().getId());return e.updateRepresentationAndView().then(function(){a.updateAllSelectControlsForPropertyType();t.oPropertyTypeHandlerBackLink.handlePressOfRemove({oSourceView:e.getView()});e.oConfigurationEditor.setIsUnsaved();if(o!==0){b(e,o)}e.getView().destroy()})},updateOfConfigurationObjectAsPromise:function(){var e=this;return new Promise(function(t){var r=[];if(e.getView().getViewData().oPropertyOrchestration){r=e.getView().getViewData().oPropertyOrchestration.getPropertyInformationList();e.updatePropertiesInConfiguration(r)}else{e.forceFailSinceOrchestrationIsMissing()}t()})},handleSuggestions:function(e){var t=this;var r=new sap.apf.modeler.ui.utils.SuggestionTextHandler(t.oTextPool);r.manageSuggestionTexts(e,y)},getSelectedProperty:function(){var e=this;var t=e.getView().getViewData().oPropertyTypeState;var r=t.getPropertyValueState();var o=t.indexOfPropertyTypeViewId(e.getView().getId());return r[o]},removeAllItemsFromDropDownList:function(){var e=this;var t=e.byId("idPropertyType");t.getItems().forEach(function(e){t.removeItem(e)})},setItemsOfDropDownList:function(t,r,o,i,a){function n(e,t){return e.indexOf(t)!==-1}var d=this;var l=d.byId("idPropertyType");var y=[];var u=o===d.oTextReader("none");if(!i&&a===e.aggregationRoles.DIMENSION){l.addItem(new s({key:d.oTextReader("none"),text:d.oTextReader("none")}))}if(a===e.aggregationRoles.MEASURE){y=JSON.parse(JSON.stringify(r))}else{y=JSON.parse(JSON.stringify(t))}if(!n(y,o)&&!u){y.unshift(o)}y.forEach(function(e){var t=e;if(!n(r,e)&&!u&&e!==""){e=p.addPrefixText([e],d.oTextReader)[0]}var i=new s({key:e,text:e});l.addItem(i);if(t===o){o=e}});l.setSelectedKey(o)},updatePropertiesInConfiguration:function(e){},createNewPropertyInfoAsPromise:function(e){return a.createPromise()},setPropertyInParentObject:function(){},setLabelDisplayOptionTypeAsPromise:function(e){return a.createPromise()},getAllPropertiesAsPromise:function(){return a.createPromise()},getPropertyTextLabelKey:function(e){},setPropertyTextLabelKey:function(e,t){},enableDisableLabelDisplayOptionTypeAsPromise:function(){return a.createPromise()},removePropertyFromParentObject:function(){},addPropertyAsPromise:function(){return a.createPromise()},changeLabelDisplayOption:function(e){},_shallAddPropertyBeHandled:function(t,r,o,i){var a=t.filter(function(e){return e.mProperties.key!==o});if(i&&i.getAggregationRole()===e.aggregationRoles.MEASURE){var n=i._getPropertyTypeRows().length;return n<a.length}if(t.length===0||!r){return false}var s=a.filter(function(e){return e.mProperties.key!==r});var d=r===o;if(s.length<2&&d){return false}else if(s.length<1&&!d){return false}return true}});return w});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/propertyTypeHandler.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeFactory","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/propertyTypeState","sap/apf/modeler/ui/utils/propertyTypeOrchestration","sap/ui/core/mvc/Controller"],function(e,t,r,o,a){"use strict";function n(t,r){r.attachEvent(e.events.ADDPROPERTY,t.handlePressOfAdd.bind(t));r.attachEvent(e.events.REMOVEPROPERTY,t.handlePressOfRemove.bind(t));r.attachEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT,r.getController().setNextPropertyInParentObject.bind(r.getController()));t.getView().attachEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT,r.getController().setNextPropertyInParentObject.bind(r.getController()));r.attachEvent(e.events.REMOVECURRENTPROPERTYFROMPARENTOBJECT,r.getController().removePropertyFromParentObject.bind(r.getController()));r.attachEvent(e.events.REMOVEPROPERTYFROMPARENTOBJECT,r.getController().removePropertyFromParentObject.bind(r.getController()));r.attachEvent(e.events.UPDATEPROPERTYVALUESTATE,t.updatePropertyValueState.bind(t));r.attachEvent(e.events.FOCUSONREMOVE,t.handleFocusOnRemove.bind(t));r.attachEvent(e.events.SETFOCUSONREMOVEICON,r.getController().setFocusOnAddRemoveIcons.bind(r.getController()))}function p(e,t){var r=[];var o=e.getView().getViewData().aPropertiesToBeCreated;o.forEach(function(o){var a=i(e,o,e.nCounter,t);r.push(a.getController().initPromise)});e.initPromise=jQuery.when.apply(jQuery,r)}function i(e,r,o,a){var p=jQuery.extend(true,{},e.getView().getViewData().oViewDataForPropertyType);p.oPropertyTypeState=e.oPropertyTypeState;p.oPropertyTypeData=r;p.oPropertyOrchestration=a;p.oPropertyTypeHandlerBackLink=e;var i=e.createId("id"+p.sPropertyType+"View"+e.nCounter);e.oPropertyTypeState.addPropertyAt(r.sProperty,o);e.oPropertyTypeState.addPropertyTypeViewIdAt(i,o);var y=t.createPropertyTypeView(p,i);if(a){a.addPropertyTypeReference(i,r,p.sPropertyType,y)}n(e,y);e.byId("idPropertyTypeVBox").insertItem(y,o);e.nCounter++;return y}var y=sap.ui.controller("sap.apf.modeler.ui.controller.propertyTypeHandler",{_apfName:"propertyTypeHandler",nCounter:0,oPropertyTypeState:{},initPromise:undefined,oPropertyOrchestration:undefined,onInit:function(){var e=this;e.oPropertyOrchestration=e.getView().getViewData().oPropertyOrchestration;e.oPropertyTypeState=new o;p(e,e.oPropertyOrchestration);if(e.oPropertyOrchestration){e.oPropertyOrchestration.updateAllSelectControlsForPropertyType()}},handlePressOfAdd:function(t){var o=this,n={},p;var y=t.getParameter("oSourceView");var P=o.getView().getViewData().oPropertyOrchestration;var s=P.getPropertyTypeRow(y.getId()).sPropertyType;var d=a._mapPropertyType2AggregationRole(s);var T=o.byId("idPropertyTypeVBox").indexOfItem(y)+1;var l=o.getView().getViewData().oViewDataForPropertyType.oParentObject.getId();var v=o.getView().getViewData().oViewDataForPropertyType.oStepPropertyMetadataHandler;var c=v.oStep;var E=c.getType()==="hierarchicalStep";if(E&&s===e.propertyTypes.REPRESENTATIONSORT){d=e.aggregationRoles.MEASURE}a.getConsumableAndAvailablePropertiesAsPromise(l,d,v).then(function(e){var t=a._relativeComplement(e.available,P.getSelectedProperties());var s=t[0];n.sProperty=s;n.sContext=P.getPropertyTypeRow(y.getId()).propertyRowInformation.sContext;if(r.checkIsNotUndefined(n.sProperty)){p=i(o,n,T,P);p.getController().setNextPropertyInParentObject()}return P.updateAllSelectControlsForPropertyType()})},handleFocusOnRemove:function(t){var r=this;var o=r.byId("idPropertyTypeVBox");var a=t.getSource();var n=o.indexOfItem(a);var p=r.byId(r.oPropertyTypeState.aPropertyTypeViewIds[n-1]);p.fireEvent(e.events.SETFOCUSONREMOVEICON)},handlePressOfRemove:function(e){var t=this;var r=e.oSourceView||e.getSource();var o=t.byId("idPropertyTypeVBox");var a=o.indexOfItem(r);t.oPropertyTypeState.removePropertyAt(a);t.oPropertyTypeState.removePropertyTypeViewIdAt(a);o.removeItem(r)},updatePropertyValueState:function(e){var t=this;var r=e.getSource();var o=e.getParameter("sProperty");var a=t.byId("idPropertyTypeVBox").indexOfItem(r);t.oPropertyTypeState.updatePropertyAt(o,a)},handleRemoveOfProperty:function(){var t=this;var o=t.byId("idPropertyTypeVBox");if(r.checkIsNotUndefined(o)){o.getItems().forEach(function(t){t.fireEvent(e.events.REMOVEPROPERTYFROMPARENTOBJECT)})}},handleSettingTopNProperties:function(){var t=this;t.getView().fireEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT)}});return y},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/representation.controller", ["sap/apf/modeler/ui/utils/representationHandler","sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/sortDataHandler","sap/apf/modeler/ui/utils/representationBasicDataHandler","sap/apf/modeler/ui/utils/stepPropertyMetadataHandler","sap/apf/ui/utils/representationTypesHandler","sap/apf/modeler/ui/utils/viewValidator","sap/m/Button","sap/ui/core/mvc/Controller","sap/ui/core/mvc/ViewType"],function(e,t,r,n,a,i,o,s,p,d,u,l,f){"use strict";var g,T,c,y,v,m,h,C,D,P;var w=r.representationMetadata.labelDisplayOptions;function E(e){e.byId("idVisualization").setText(T.getText("visualization"));e.byId("idChartTypeLabel").setText(T.getText("chartType"));e.byId("idChartTypeLabel").setTooltip(T.getText("chartType"));e.byId("idBasicData").setText(T.getText("basicData"));e.byId("idSorting").setText(T.getText("sorting"));e.byId("idChartType").setValueStateText(T.getText("modeler.ui.representation.invalidChartTypeError"))}function I(e,t){var r;var n=m.getPictureOfRepresentationType(y.getRepresentationType());var a=c.getCategoriesForStep(v.getId());if(a.length===1){r={id:y.getId(),icon:n};if(t){r.name=t}e.getView().getViewData().updateSelectedNode(r)}else{e.getView().getViewData().updateTree()}}function V(e,t){var r=T.getText("representation")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(r)}function R(e){y.setRepresentationType(e);var r="TableRepresentation";if(e===t.representationTypes.TABLE_REPRESENTATION||e===t.representationTypes.TREE_TABLE_REPRESENTATION){r=undefined}y.setAlternateRepresentationType(r)}function b(e){var t;var r=jQuery.Deferred();h.getEntityTypeMetadataAsPromise().done(function(n){var a=h.getDimensionsProperties(n);var i=m.getKindsForDimensionPropertyType(e);i.forEach(function(e,r){t=false;var i;var o;var s=a[r];if(y.getDimensions().length!==0){if(y.getDimensions()[r]){if(y.getDimensionKind(y.getDimensions()[r])){t=true}}}if(!t&&s){i=h.hasTextPropertyOfDimension(n,s);o=i?w.KEY_AND_TEXT:w.KEY;y.addDimension(s);y.setLabelDisplayOption(s,o);y.setDimensionKind(s,e)}});r.resolve()});return r.promise()}function x(e){var t;var r=h.oStep.getService();var n=h.oStep.getEntitySet();var a=h.oStep.getHierarchyProperty();c.getHierarchyNodeIdAsPromise(r,n,a).done(function(r){t=h.hasTextPropertyOfDimension(e,r)});return t}function S(e){var t,r;var n=jQuery.Deferred();h.getEntityTypeMetadataAsPromise().done(function(e){var a=h.getHierarchicalProperty();if(a&&y.getHierarchyPropertyLabelDisplayOption()===undefined){t=x(e);r=t?w.TEXT:w.KEY;y.setHierarchyPropertyLabelDisplayOption(r)}n.resolve()});return n.promise()}function M(e){var t=jQuery.Deferred(),r,n;var a;var i=0;h.getEntityTypeMetadataAsPromise().done(function(o){a=m.getKindsForMeasurePropertyType(e);r=h.getMeasures(o);a.forEach(function(t){var a=m.getDefaultCountForRepresentationKind(e,t);for(var o=0;o<a;o++){n=false;var s=r[i];if(y.getMeasures().length!==0){if(y.getMeasures()[i]){if(y.getMeasureKind(y.getMeasures()[i])){n=true}}}if(!n&&s){y.addMeasure(s);y.setMeasureKind(s,t)}i++}});t.resolve()});return t.promise()}function A(e){var t=jQuery.Deferred();var r,n;if(e==="TableRepresentation"){if(y.getProperties().length===0){n=m.getKindsForPropertyType(e);r=h.getProperties()[0];y.addProperty(r);y.setPropertyKind(r,n[0]);t.resolve()}else{t.resolve()}}else if(e==="TreeTableRepresentation"){S(e).done(function(){t.resolve()})}else{b(e).done(function(){M(e).done(function(){t.resolve()})})}return t.promise()}function O(){if(g&&g.arguments&&g.arguments.stepId){v=c.getStep(g.arguments.stepId)}}function N(){var e=T.getRepresentationTypes()[0].id;if(v.getType()==="hierarchicalStep"){e="TreeTableRepresentation"}return e}function K(e){var t;var r=jQuery.Deferred();if(g&&g.arguments&&g.arguments.representationId){y=v.getRepresentation(g.arguments.representationId)}if(!n.checkIsNotUndefined(y)){y=v.createRepresentation();t=N();R(t);I(e,T.getText(t));c.setIsUnsaved();A(t).done(function(){return r.resolve()})}else{t=y.getRepresentationType();U().done(function(){A(t).done(function(){return r.resolve()})})}return r.promise()}function H(e){var t=new u({id:e.createId("idPreviewButton"),text:T.getText("preview"),press:e.handlePreviewButtonPress.bind(e)});var r=e.getView().getViewData().oFooter;r.addContentRight(t)}function L(e){var t=e.getView().getViewData().oConfigurationHandler.getTextPool();var r={oTextReader:T.getText,oConfigurationEditor:c,oTextPool:t,oParentObject:y,oParentStep:v,oRepresentationTypeHandler:m};var n=new sap.ui.controller("sap.apf.modeler.ui.controller.representationCornerTexts");var a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.cornerTexts",type:f.XML,id:e.createId("representationCornerTexts"),viewData:r,controller:n});e.byId("idCornerTextsVBox").insertItem(a);e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON,a.getController().setChartIcon.bind(a.getController()))}function B(){y.getDimensions().forEach(function(e){y.removeDimension(e)});y.getMeasures().forEach(function(e){y.removeMeasure(e)})}function _(){var e,t;if(y.getRepresentationType()==="TableRepresentation"){e=y.getDimensions();t=y.getMeasures();e.forEach(function(e){y.addProperty(e);y.setPropertyTextLabelKey(e,y.getDimensionTextLabelKey(e));y.setPropertyKind(e,r.representationMetadata.kind.COLUMN);c.setIsUnsaved()});t.forEach(function(e){y.addProperty(e);y.setPropertyTextLabelKey(e,y.getMeasureTextLabelKey(e));y.setPropertyKind(e,r.representationMetadata.kind.COLUMN);c.setIsUnsaved()});B()}}function j(e){var t;h.getEntityTypeMetadataAsPromise().done(function(r){t=h.hasTextPropertyOfDimension(r,e);if(t){y.setLabelDisplayOption(e,w.KEY_AND_TEXT)}else{y.setLabelDisplayOption(e,w.KEY)}c.setIsUnsaved()})}function F(){var e=jQuery.Deferred();h.getEntityTypeMetadataAsPromise().done(function(t){y.getDimensions().forEach(function(e){if(y.getLabelDisplayOption(e)===undefined){j(e)}});e.resolve()});return e.promise()}function U(){_();return F()}function Q(e){P.instantiateRepresentationSortData();L(e);return D.instantiateBasicDataAsPromise()}function k(e){if(!e.getValidationState()){if(e.byId("idChartType").getValueState("None")){setTimeout(function(){e.byId("idChartType").setValueState("Error")},1)}}else{e.byId("idChartType").setValueState("None")}}var X=l.extend("sap.apf.modeler.ui.controller.representation",{onInit:function(){var t=this;t.promiseControllerIsCreated=new Promise(function(r){var n=t.getView().getViewData();T=n.oCoreApi;g=n.oParams;c=n.oConfigurationEditor;m=new p;t.oViewValidator=new d(t.getView());E(t);O();if(v.getType()!=="hierarchicalStep"){H(t)}h=new sap.apf.modeler.ui.utils.StepPropertyMetadataHandler(T,v);K(t).then(function(){C=new e(y,m,T.getText);D=new o(t.getView(),h,C,t.oViewValidator);P=new i(t.getView(),y,h,T.getText);Q(t).then(function(){t.setDetailData();r()})})})},promiseControllerIsCreated:null,setDetailData:function(){var e=this;e._setChartType()},handleChangeForChartType:function(e){var t=this;var r=e.getParameter("selectedItem").getKey();var n=T.getText(r);var a=y.getRepresentationType();R(r);I(t,n);V(t,n);if(!m.isChartTypeSimilar(a,r)){t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.REMOVEALLPROPERTIESFROMPARENTOBJECT);B();A(r).done(function(){D.instantiateBasicDataAsPromise().then(function(){k(t)});t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON);c.setIsUnsaved()})}else{D.instantiateBasicDataAsPromise().then(function(){k(t)});t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.representation.SETCHARTICON);c.setIsUnsaved()}},handlePreviewButtonPress:function(){var e=this;var t={oParentStep:v,oRepresentation:y,oConfigurationHandler:e.getView().getViewData().oConfigurationHandler,oCoreApi:T,oRepresentationHandler:C,oStepPropertyMetadataHandler:h,oRepresentationTypeHandler:m};sap.ui.view({id:e.createId("idPreviewContentView"),viewName:"sap.apf.modeler.ui.view.previewContent",type:f.XML,viewData:t})},onExit:function(){var e=this;e.getView().getViewData().oFooter.removeContentRight(e.byId("idPreviewButton"));D.destroyBasicData();P.destroySortData();e.byId("idCornerTextsVBox").destroyItems()},getValidationState:function(){return this.oViewValidator.getValidationState()},_setChartType:function(){var e=this;h.getEntityTypeMetadataAsPromise().done(function(t){var r;var n=h.getDimensionsProperties(t);var i=h.getMeasures(t);var o=e._getAnnotatedChartTypes(m.aRepresentationTypes,h.getRepresentationTypesArray(),n,i,T);r=a.prepareModel(o);e.byId("idChartType").setModel(r);e.byId("idChartType").setSelectedKey(y.getRepresentationType());k(e)})},_getAnnotatedChartTypes:function(e,t,r,n,a){function i(e,t){var r;e.forEach(function(e){if(e["id"]===t){r=e}});return r}var o=jQuery.extend(true,[],t);o.forEach(function(t){var o=0,s=0;var p=i(e,t.key);if(p.metadata&&p.id!=="TableRepresentation"&&p.id!=="TreeTableRepresentation"){p.metadata.dimensions.supportedKinds.forEach(function(e){o+=parseInt(e.min,10)});p.metadata.measures.supportedKinds.forEach(function(e){s+=parseInt(e.min,10)});if(r.length<o||n.length<s){t.name=a.getText("modeler.ui.representation.invalidChartTypes",[t.name])}}});return o}});return X},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationCornerTexts.controller", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/controller/cornerTexts"],function(e,t){"use strict";var r=sap.apf.modeler.ui.utils.nullObjectChecker;function a(e,t){var r=t&&e.oTextPool.get(t);return r&&r.TextElementDescription}var n=sap.apf.modeler.ui.controller.cornerTexts.extend("sap.apf.modeler.ui.controller.representationCornerTexts",{addStyleClasses:function(){var e=this;e.byId("idLeftUpper").addStyleClass("repLeftCornerText");e.byId("idRightUpper").addStyleClass("repRightCornerText");e.byId("idLeftLower").addStyleClass("repLeftCornerText");e.byId("idRightLower").addStyleClass("repRightCornerText")},setChartIcon:function(){var e=this;var t=e.getView().getViewData().oParentObject.getRepresentationType();var r=e.getView().getViewData().oRepresentationTypeHandler.getPictureOfRepresentationType(t);e.byId("idChartIcon").setSrc(r);e.byId("idChartIcon").addStyleClass("repChartIcon")},getTranslationFormatMap:function(){return sap.apf.modeler.ui.utils.TranslationFormatMap.REPRESENTATION_CORNER_TEXT},getLeftUpperCornerText:function(e){var t=this;var n=t.getView().getViewData().oParentStep[e]();var i=a(t,n);var o=t.getView().getViewData().oParentObject[e]();var s=a(t,o);var d=r.checkIsNotUndefined(s)?s:i;return d},getRightUpperCornerText:function(e){var t=this;var n=t.getView().getViewData().oParentStep[e]();var i=a(t,n);var o=t.getView().getViewData().oParentObject[e]();var s=a(t,o);var d=r.checkIsNotUndefined(s)?s:i;return d},getLeftLowerCornerText:function(e){var t=this;var n=t.getView().getViewData().oParentStep[e]();var i=a(t,n);var o=t.getView().getViewData().oParentObject[e]();var s=a(t,o);var d=r.checkIsNotUndefined(s)?s:i;return d},getRightLowerCornerText:function(e){var t=this;var n=t.getView().getViewData().oParentStep[e]();var i=a(t,n);var o=t.getView().getViewData().oParentObject[e]();var s=a(t,o);var d=r.checkIsNotUndefined(s)?s:i;return d}});return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationDimension.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/core/constants","sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/propertyTypeOrchestration"],function(e,t,r,a,o,n){"use strict";t=t||sap.apf.core.constants;a=a||sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder;var i=t.representationMetadata;return r.extend("sap.apf.modeler.ui.controller.representationDimension",{_apfName:"representationDimension",setLabelDisplayOptionTypeAsPromise:function(r){var n=this;var i=jQuery.Deferred();var s=[];var p=new a(n.oTextReader,r);var d=t.representationMetadata.labelDisplayOptions;var l=o.removePrefixText(n.byId("idPropertyType").getSelectedKey(),n.oTextReader(e.texts.NOTAVAILABLE));var y=n.oRepresentation.getLabelDisplayOption(l);var f=p.getLabelDisplayOptions();n.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if((y===d.KEY_AND_TEXT||y===d.TEXT)&&!n.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,l)){f=p.getValidatedLabelDisplayOptions();s=o.addPrefixText([y],n.oTextReader);y=s[0]}n.byId("idLabelDisplayOptionType").setModel(f);n.byId("idLabelDisplayOptionType").setSelectedKey(y);i.resolve()});return i.promise()},getAllPropertiesAsPromise:function(){var t=this;var r=t.oStepPropertyMetadataHandler.oStep;var a=jQuery.Deferred();t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){var s=[];r.getConsumablePropertiesForRepresentation(t.oRepresentation.getId()).done(function(r){var p=r.consumable;p.forEach(function(r){var a;if(t.oStepPropertyMetadataHandler.getPropertyMetadata(i,r)){a=t.oStepPropertyMetadataHandler.getPropertyMetadata(i,r)["aggregation-role"];if(a===e.aggregationRoles.DIMENSION){s.push(r)}}});var d=t.getSelectedProperty();a.resolve(n.getPropertyListAndSelectedKey(s,d,t,r,o.addPrefixText))})});return a.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getDimensionTextLabelKey(e)},removeProperties:function(){var e=this;e.getView().getViewData().oRepresentationHandler.getActualDimensions().forEach(function(t){e.oRepresentation.removeDimension(t.sProperty)})},updatePropertiesInConfiguration:function(e){var t=this;t.removeProperties();e.forEach(function(e){t.oRepresentation.addDimension(e.sProperty);t.oRepresentation.setDimensionKind(e.sProperty,e.sKind);t.oRepresentation.setLabelDisplayOption(e.sProperty,e.sLabelDisplayOption);t.oRepresentation.setDimensionTextLabelKey(e.sProperty,e.sTextLabelKey)})},createNewPropertyInfoAsPromise:function(e){var t=jQuery.Deferred();var r=this,a={};r.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(o){var n=r.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(o,e);a.sProperty=e;a.sKind=r.getView().getViewData().oPropertyTypeData.sContext;a.sLabelDisplayOption=n?i.labelDisplayOptions.KEY_AND_TEXT:i.labelDisplayOptions.KEY;a.sTextLabelKey=undefined;t.resolve(a)});return t.promise()},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setDimensionTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},enableDisableLabelDisplayOptionTypeAsPromise:function(){var t,r=this;var a=jQuery.Deferred();var n=r.byId("idLabelDisplayOptionType");var i=o.removePrefixText(r.byId("idPropertyType").getSelectedKey(),r.oTextReader(e.texts.NOTAVAILABLE));r.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){var o=r.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,i);if(i===r.oTextReader("none")){n.setEnabled(false);a.resolve()}else{n.setEnabled(true);for(t=0;t<n.getItems().length;t++){n.getItems()[t].setEnabled(true);if(t>0&&!o){n.getItems()[t].setEnabled(false)}}a.resolve()}});return a.promise()},changeLabelDisplayOption:function(t){var r=this;var a=o.removePrefixText(r.byId("idPropertyType").getSelectedKey(),r.oTextReader(e.texts.NOTAVAILABLE));r.oRepresentation.setLabelDisplayOption(a,t)},removePropertyFromParentObject:function(){var t=this;t.oRepresentation.removeDimension(o.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var t=jQuery.Deferred();var r=this,a,o=[];var n=r.oStepPropertyMetadataHandler.oStep;r.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){n.getConsumablePropertiesForRepresentation(r.oRepresentation.getId()).done(function(n){n.consumable.forEach(function(t){if(r.oStepPropertyMetadataHandler.getPropertyMetadata(i,t)){a=r.oStepPropertyMetadataHandler.getPropertyMetadata(i,t)["aggregation-role"];if(a===e.aggregationRoles.DIMENSION){o.push(t)}}});r.getView().fireEvent(e.events.ADDPROPERTY,{sProperty:o[0],sContext:r.getView().getViewData().oPropertyTypeData.sContext,bMandatory:r.getView().getViewData().oPropertyTypeData.bMandatory});r.oConfigurationEditor.setIsUnsaved();t.resolve()})});return t.promise()}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/representationHierarchyProperty.controller", ["sap/apf/modeler/ui/controller/propertyType","sap/apf/core/constants","sap/apf/modeler/ui/utils/treeTableDisplayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,r,a,jQuery){"use strict";var o=sap.apf.modeler.ui.utils.textManipulator;function i(e,t){var r;var a=t.oStepPropertyMetadataHandler.oStep.getService();var o=t.oStepPropertyMetadataHandler.oStep.getEntitySet();var i=t.oStepPropertyMetadataHandler.oStep.getHierarchyProperty();t.oConfigurationEditor.getHierarchyNodeIdAsPromise(a,o,i).done(function(a){r=t.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,a)});return r}return e.extend("sap.apf.modeler.ui.controller.representationHierarchyProperty",{onBeforeRendering:function(){var e=this;e.byId("idPropertyType").setEnabled(false)},setLabelDisplayOptionTypeAsPromise:function(e){var t=jQuery.Deferred();var r,a,n,p,s=this,l=[];r=new sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder(s.oTextReader,e);a=sap.apf.core.constants.representationMetadata.labelDisplayOptions;p=s.oRepresentation.getHierarchyPropertyLabelDisplayOption();n=r.getLabelDisplayOptions();s.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if(p===a.TEXT&&!i(e,s)){n=r.getValidatedLabelDisplayOptions();l=o.addPrefixText([p],s.oTextReader);p=l[0]}s.byId("idLabelDisplayOptionType").setModel(n);s.byId("idLabelDisplayOptionType").setSelectedKey(p);t.resolve()});return t.promise()},changeLabelDisplayOption:function(e){var t=this;t.oRepresentation.setHierarchyPropertyLabelDisplayOption(e)},getAllPropertiesAsPromise:function(){var e=this,t,r,a=[];var i=e.oStepPropertyMetadataHandler.oStep;var n=jQuery.Deferred();i.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(i){i.available.forEach(function(t){if(t===e.oStepPropertyMetadataHandler.getHierarchicalProperty()){a.push(t)}});t=e.getSelectedProperty();if(t!==undefined){r=a.indexOf(t)!==-1?a:a.concat(t);if(i.available.indexOf(t)!==-1){a=r;t=t}else{a=a.concat(o.addPrefixText([t],e.oTextReader));t=o.addPrefixText([t],e.oTextReader)[0]}}n.resolve({aAllProperties:a,sSelectedKey:t})});return n.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e,t=this;var r=jQuery.Deferred();var a=t.byId("idLabelDisplayOptionType");t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(o){var n=i(o,t);for(e=0;e<a.getItems().length;e++){a.getItems()[e].setEnabled(true);if(e>0&&!n){a.getItems()[e].setEnabled(false)}}r.resolve()});return r.promise()},getPropertyTextLabelKey:function(){var e=this;return e.oRepresentation.getHierarchyPropertyTextLabelKey()},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setHierarchyPropertyTextLabelKey(t)},setNextPropertyInParentObject:function(){return},removePropertyFromParentObject:function(){return},setFocusOnAddRemoveIcons:function(){return}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationLegend.controller", ["sap/apf/modeler/ui/controller/representationDimension.controller","sap/apf/modeler/ui/utils/textManipulator"],function(e,t){"use strict";return e.extend("sap.apf.modeler.ui.controller.representationLegend",{getAllPropertiesAsPromise:function(){var e=this,r,a,o,n,i=[];var s=e.oStepPropertyMetadataHandler.oStep;var d=sap.apf.modeler.ui.utils.CONSTANTS;var p=jQuery.Deferred();e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(l){s.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(s){r=s.consumable;r.forEach(function(t){if(e.oStepPropertyMetadataHandler.getPropertyMetadata(l,t)){n=e.oStepPropertyMetadataHandler.getPropertyMetadata(l,t)["aggregation-role"];if(n===d.aggregationRoles.DIMENSION){i.push(t)}}});a=e.getSelectedProperty();if(a!==e.oTextReader("none")&&a!==undefined){o=i.indexOf(a)!==-1?i:i.concat(a);i=s.available.indexOf(a)!==-1?o:i.concat(t.addPrefixText([a],e.oTextReader));a=s.available.indexOf(a)!==-1?a:t.addPrefixText([a],e.oTextReader)[0]}i.splice(0,0,e.oTextReader("none"));p.resolve({aAllProperties:i,sSelectedKey:a})})});return p.promise()},removeProperties:function(){var e=this;e.getView().getViewData().oRepresentationHandler.getActualLegends().forEach(function(t){e.oRepresentation.removeDimension(t.sProperty)})},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e=jQuery.Deferred();var r,a=this;var o=a.byId("idLabelDisplayOptionType");var n=t.removePrefixText(a.byId("idPropertyType").getSelectedKey(),a.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));a.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){var i=a.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(t,n);if(n===a.oTextReader("none")){o.setEnabled(false);e.resolve();return}o.setEnabled(true);for(r=0;r<o.getItems().length;r++){o.getItems()[r].setEnabled(true);if(r>0&&!i){o.getItems()[r].setEnabled(false)}}e.resolve()});return e.promise()},addPropertyAsPromise:function(){var e=jQuery.Deferred();var t=this,r,a=[];var o=t.oStepPropertyMetadataHandler.oStep;var n=sap.apf.modeler.ui.utils.CONSTANTS;t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){o.getConsumablePropertiesForRepresentation(t.oRepresentation.getId()).done(function(o){o.consumable.forEach(function(e){if(t.oStepPropertyMetadataHandler.getPropertyMetadata(i,e)){r=t.oStepPropertyMetadataHandler.getPropertyMetadata(i,e)["aggregation-role"];if(r===n.aggregationRoles.DIMENSION){a.push(e)}}});t.getView().fireEvent(n.events.ADDPROPERTY,{sProperty:a[0],sContext:t.getView().getViewData().oPropertyTypeData.sContext});t.oConfigurationEditor.setIsUnsaved();e.resolve()})});return e.promise()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationMeasure.controller", ["sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/core/constants","sap/apf/utils/utils"],function(e,t,a,r,o){"use strict";t=t||sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder;var i=sap.apf.modeler.ui.utils.textManipulator;return e.extend("sap.apf.modeler.ui.controller.representationMeasure",{setLabelDisplayOptionTypeAsPromise:function(e){var a=this;var o=a.getView().getViewData().oPropertyTypeData.sProperty;if(!a.oRepresentationTypeHandler.isCombinationChart(a.oRepresentation.getRepresentationType())){if(a.byId("idLabelDisplayOptionType")){a.byId("idLabelDisplayOptionType").destroy();a.byId("idPropertyTypeLayout").setSpan("L4 M4 S4");a.oRepresentation.setMeasureDisplayOption(o,undefined)}}else{var i=new t(a.oTextReader,e);var n=i.getMeasureDisplayOptions();a.byId("idLabelDisplayOptionType").setModel(n);var s=a.oRepresentation.getMeasureDisplayOption(o);if(!s){var p=a.getView().getViewData().oPropertyTypeData.bMandatory?r.representationMetadata.measureDisplayOptions.BAR:r.representationMetadata.measureDisplayOptions.LINE;a.byId("idLabelDisplayOptionType").setSelectedKey(p);a.oRepresentation.setMeasureDisplayOption(o,p)}else{a.byId("idLabelDisplayOptionType").setSelectedKey(s)}}return jQuery.Deferred().resolve()},changeLabelDisplayOption:function(e){var t=this;var a=t.getView().getViewData().oPropertyTypeData.sProperty;t.oRepresentation.setMeasureDisplayOption(a,e)},getAllPropertiesAsPromise:function(){var e=this,t,a,r,o,n=[];var s=e.oStepPropertyMetadataHandler.oStep;var p=sap.apf.modeler.ui.utils.CONSTANTS;var d=jQuery.Deferred();e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(l){s.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(s){t=s.consumable;t.forEach(function(t){if(e.oStepPropertyMetadataHandler.getPropertyMetadata(l,t)){o=e.oStepPropertyMetadataHandler.getPropertyMetadata(l,t)["aggregation-role"];if(o===p.aggregationRoles.MEASURE){n.push(t)}}});a=e.getSelectedProperty();if(a!==undefined){r=n.indexOf(a)!==-1?n:n.concat(a);n=s.available.indexOf(a)!==-1?r:n.concat(i.addPrefixText([a],e.oTextReader));a=s.available.indexOf(a)!==-1?a:i.addPrefixText([a],e.oTextReader)[0]}d.resolve({aAllProperties:n,sSelectedKey:a})})});return d.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getMeasureTextLabelKey(e)},updatePropertiesInConfiguration:function(e){var t=this;t.oRepresentation.getMeasures().forEach(function(e){t.oRepresentation.removeMeasure(e)});e.forEach(function(e){t.oRepresentation.addMeasure(e.sProperty);t.oRepresentation.setMeasureKind(e.sProperty,e.sKind);t.oRepresentation.setMeasureTextLabelKey(e.sProperty,e.sTextLabelKey);t.oRepresentation.setMeasureDisplayOption(e.sProperty,e.sMeasureDisplayOption)})},createNewPropertyInfoAsPromise:function(e){var t=this,a={};a.sProperty=e;a.sKind=t.getView().getViewData().oPropertyTypeData.sContext;a.sTextLabelKey=undefined;return o.createPromise(a)},setPropertyTextLabelKey:function(e,t){var a=this;a.oRepresentation.setMeasureTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},removePropertyFromParentObject:function(){var e=this;e.oRepresentation.removeMeasure(i.removePrefixText(e.byId("idPropertyType").getSelectedKey(),e.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=jQuery.Deferred();var t=this,a,r=[];var o=t.oStepPropertyMetadataHandler.oStep;var i=sap.apf.modeler.ui.utils.CONSTANTS;t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(n){o.getConsumablePropertiesForRepresentation(t.oRepresentation.getId()).done(function(o){o.consumable.forEach(function(e){if(t.oStepPropertyMetadataHandler.getPropertyMetadata(n,e)){a=t.oStepPropertyMetadataHandler.getPropertyMetadata(n,e)["aggregation-role"];if(a===i.aggregationRoles.MEASURE){r.push(e)}}});t.getView().fireEvent(i.events.ADDPROPERTY,{sProperty:r[0],sContext:t.getView().getViewData().oPropertyTypeData.sContext});t.oConfigurationEditor.setIsUnsaved();e.resolve()})});return e.promise()}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/representationProperty.controller", ["sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";var o=sap.apf.modeler.ui.utils.textManipulator;return e.extend("sap.apf.modeler.ui.controller.representationProperty",{onBeforeRendering:function(){var e=this;if(e.byId("idLabelDisplayOptionType")){e.byId("idLabelDisplayOptionType").destroy()}e.byId("idPropertyTypeLayout").setSpan("L4 M4 S4")},getAllPropertiesAsPromise:function(){var e=this,t,r,a=[];var n=e.oStepPropertyMetadataHandler.oStep;var i=jQuery.Deferred();n.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(n){n.consumable.forEach(function(t){e.oStepPropertyMetadataHandler.getProperties().forEach(function(e){if(t===e){a.push(t)}})});t=e.getSelectedProperty();if(t!==e.oTextReader("none")&&t!==undefined){r=a.indexOf(t)!==-1?a:a.concat(t);if(n.available.indexOf(t)!==-1||t===e.oTextReader("none")){a=r}else{a=a.concat(o.addPrefixText([t],e.oTextReader));t=o.addPrefixText([t],e.oTextReader)[0]}}if(e.oStepPropertyMetadataHandler.getStepType()==="hierarchicalStep"){a.splice(0,0,e.oTextReader("none"))}i.resolve({aAllProperties:a,sSelectedKey:t})});return i.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getPropertyTextLabelKey(e)},updatePropertiesInConfiguration:function(e){var t=this;t.oRepresentation.getProperties().forEach(function(e){t.oRepresentation.removeProperty(e)});e.forEach(function(e){t.oRepresentation.addProperty(e.sProperty);t.oRepresentation.setPropertyKind(e.sProperty,e.sKind);t.oRepresentation.setPropertyTextLabelKey(e.sProperty,e.sTextLabelKey)})},createNewPropertyInfoAsPromise:function(e){var t=this,o={};o.sProperty=e;o.sKind=t.getView().getViewData().oPropertyTypeData.sContext;o.sTextLabelKey=undefined;return r.createPromise(o)},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setPropertyTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},removePropertyFromParentObject:function(){var e=this;e.oRepresentation.removeProperty(o.removePrefixText(e.byId("idPropertyType").getSelectedKey(),e.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=this,t=[];var r=e.oStepPropertyMetadataHandler.oStep;var o=sap.apf.modeler.ui.utils.CONSTANTS;r.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(r){r.consumable.forEach(function(r){e.oStepPropertyMetadataHandler.getProperties().forEach(function(e){if(r===e){t.push(r)}})});e.getView().fireEvent(o.events.ADDPROPERTY,{sProperty:t[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved()})}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationSortPropertyType.controller", ["sap/apf/modeler/ui/controller/sortPropertyType","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var r=sap.apf.modeler.ui.utils.textManipulator;var o=sap.apf.modeler.ui.controller.sortPropertyType.extend("sap.apf.modeler.ui.controller.representationSortPropertyType",{onBeforeRendering:function(){var e=this;e.byId("idGridSortLabel").setSpan("L2 M2 S2");e.byId("idGridSortProperty").setSpan("L4 M4 S4");e.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");e.byId("idGridSortDirection").setSpan("L3 M3 S2");e.byId("idGridIconLayout").setSpan("L1 M1 S1")},disableView:function(){var e=this;if(e.oStepPropertyMetadataHandler.oStep.getTopN()){e.byId("idSortProperty").setEnabled(false);e.byId("idSortDirection").setEnabled(false);e.byId("idAddPropertyIcon").setVisible(false);e.byId("idRemovePropertyIcon").setVisible(false)}},getAllPropertiesAsPromise:function(){var e=this,t,o,i;var a=jQuery.Deferred();e.oStepPropertyMetadataHandler.oStep.getConsumableSortPropertiesForRepresentation(e.oParentObject.getId()).done(function(n){t=n.consumable;o=e.getSelectedSortProperty();if(o!==e.oTextReader("none")&&o!==undefined){i=t.indexOf(o)!==-1?t:t.concat(o);t=n.available.indexOf(o)!==-1?i:t.concat(r.addPrefixText([o],e.oTextReader));o=n.available.indexOf(o)!==-1?o:r.addPrefixText([o],e.oTextReader)[0]}t.splice(0,0,e.oTextReader("none"));a.resolve({aAllProperties:t,sSelectedKey:o})});return a.promise()},updateOfConfigurationObjectOfSubclass:function(e){var t=this;t.oParentObject.removeAllOrderbySpecs();e.forEach(function(e){t.oParentObject.addOrderbySpec(e.property,e.ascending)})},getOrderBy:function(){var e=this;return e.oParentObject.getOrderbySpecifications()},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObject();e.byId("idSortDirection").setSelectedKey("true")},removePropertyFromParentObject:function(){var e=this;e.oParentObject.removeOrderbySpec(r.removePrefixText(e.byId("idSortProperty").getSelectedKey(),e.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=this;var t=jQuery.Deferred();var r=sap.apf.modeler.ui.utils.CONSTANTS.events;e.oStepPropertyMetadataHandler.oStep.getConsumableSortPropertiesForRepresentation(e.oParentObject.getId()).done(function(o){e.getView().fireEvent(r.ADDPROPERTY,{oSourceView:e.getView(),sProperty:o.consumable[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved();t.resolve()});return t.promise()}});return o},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/requestOptions", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/constants","sap/apf/cloudFoundry/uiHandler","sap/apf/utils/utils","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/mvc/ViewType"],function(e,t,r,i,o,a,n,l,s,d,u){"use strict";var c=s.ValueState;function p(e){e.byId("idSource").attachEvent("selectService",e.handleSelectionOfService.bind(e))}function f(e){var r=jQuery.Deferred();e.setLabelDisplayOptionTypeAsPromise(t).done(function(){if(!e.byId("idOptionalRequestField")){r.resolve()}else{e.enableDisableLabelDisplayOptionTypeAsPromise().done(function(){r.resolve()})}});return r}var y=d.extend("sap.apf.modeler.ui.controller.requestOptions",{viewValidator:{},oConfigurationEditor:{},oParentObject:{},oStepPropertyMetadataHandler:{},initPromise:{},onInit:function(){var e=this;this.initPromise=jQuery.Deferred();var t=e.getView().getViewData().oConfigurationHandler.getTextPool();e.oSuggestionTextHandler=new i.SuggestionTextHandler(t);e.viewValidator=new o(e.getView());e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oParentObject=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.setDetailData();e.setDisplayText();p(e)},setDetailData:function(){var e=this;e.setSource();e.setEntityAsPromise().done(function(){e.setOptionalHierarchicalProperty();e.setSelectProperties().done(function(){e.setOptionalRequestFieldProperty();f(e).done(function(){e.initPromise.resolve()})})})},setSource:function(){var t=this;var r=t.getSource();t.byId("idSource").setValue("");t.setValidationStateForService();if(!e.checkIsNotNullOrUndefinedOrBlank(r)){t.addOrRemoveMandatoryFieldsAndRequiredFlag(false);return}t.byId("idSource").setValue(r);t.addOrRemoveMandatoryFieldsAndRequiredFlag(true)},setEntityAsPromise:function(){var r=this;var i=jQuery.Deferred();var o,a,n,l;a=r.byId("idSource").getValue();r.byId("idEntity").setModel(null);r.byId("idEntity").clearSelection();if(!e.checkIsNotNullOrUndefinedOrBlank(a)){i.resolve();return i.promise()}r.getAllEntitiesAsPromise(a).done(function(s){n=r.getEntity();if(e.checkIsNotNullOrUndefinedOrBlank(n)){l=r.validateSelectedValues(r,[n],s);s=l.aValues;n=l.aSelectedValues[0]}o=t.convert(s);r.byId("idEntity").setModel(o);if(!e.checkIsNotNullOrUndefinedOrBlank(n)||s.indexOf(n)===-1){r.getAllEntitiesAsPromise(a).done(function(t){n=t[0];if(e.checkIsNotNullOrUndefinedOrBlank(n)){r.byId("idEntity").setSelectedKey(n)}i.resolve()})}else if(e.checkIsNotNullOrUndefinedOrBlank(n)){r.byId("idEntity").setSelectedKey(n);i.resolve()}});return i.promise()},setSelectProperties:function(){var i=jQuery.Deferred();var o=this;var n,l,s,d,u=[];var c=o.getView().getViewData().oTextReader;n=o.byId("idSource").getValue();var p=o.getIdOfPropertiesControl();o.byId(p).setModel(null);o.byId(p).clearSelection();l=r.removePrefixText(o.byId("idEntity").getSelectedKey(),c(a.texts.NOTAVAILABLE));o.getAllEntitySetPropertiesAsPromise(n,l).done(function(r){s=o.getSelectProperties();if(e.checkIsNotNullOrUndefinedOrBlank(s)){u=o.validateSelectedValues(o,s,r);r=u.aValues;s=u.aSelectedValues}d=t.convert(r);o.byId(p).setModel(d);o.setSelectedKeysForProperties(s);i.resolve()});return i},updateSubViewInstancesOnReset:function(e){var t=this;t.oConfigurationEditor=e.getParameter("oConfigurationEditor");t.oParentObject=e.getParameter("oParentObject");t.setDetailData()},setDisplayText:function(){},handleChangeForSourceAsPromise:function(t){var i=jQuery.Deferred();var o=this,n,l;var s=o.byId("idSource").getValue().trim();var d=o.getView().getViewData().oTextReader;o.setValidationStateForService();if(!e.checkIsNotNullOrUndefinedOrBlank(s)){o.clearSource();o.addOrRemoveMandatoryFieldsAndRequiredFlag(false);o.setEntityAsPromise(o).done(function(){n=r.removePrefixText(o.byId("idEntity").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateEntity(n);o.setSelectProperties();l=o.getSelectedKeysForProperties();o.updateSelectProperties(l);o.setOptionalHierarchicalProperty().done(function(){var e=r.removePrefixText(o.byId("idOptionalProperty").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateHierarchicalProperty(e);o.setOptionalRequestFieldProperty();o.oConfigurationEditor.setIsUnsaved();o.fireRelevantEvents(t);i.resolve()})})}else{o.oConfigurationEditor.registerServiceAsPromise(s).done(function(u){o.getAllEntitiesAsPromise(s).done(function(p){if(u){o.addOrRemoveMandatoryFieldsAndRequiredFlag(true);o.updateSource(s);if(!e.checkIsNotNullOrUndefinedOrBlank(p)){var f={sValueState:c.Error,sValueStateText:d("hierarchicalServiceError")};o.setValidationStateForService(f);o.resetEntityAndProperties();return}}else{o.clearSource();o.addOrRemoveMandatoryFieldsAndRequiredFlag(false)}o.setEntityAsPromise(o).done(function(){n=r.removePrefixText(o.byId("idEntity").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateEntity(n);o.setSelectProperties();l=o.getSelectedKeysForProperties();o.updateSelectProperties(l);o.setOptionalHierarchicalProperty().done(function(){var e=r.removePrefixText(o.byId("idOptionalProperty").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateHierarchicalProperty(e);o.setOptionalRequestFieldProperty();o.oConfigurationEditor.setIsUnsaved();o.fireRelevantEvents(t);i.resolve()})})})})}return i.promise()},handleChangeForEntity:function(e){var t=this,i,o;var n=t.getView().getViewData().oTextReader;i=r.removePrefixText(t.byId("idEntity").getSelectedKey(),n(a.texts.NOTAVAILABLE));t.updateEntity(i);t.setSelectProperties();o=t.getSelectedKeysForProperties();t.updateSelectProperties(o);t.setOptionalHierarchicalProperty();var l=r.removePrefixText(t.byId("idOptionalProperty").getSelectedKey(),n(a.texts.NOTAVAILABLE));t.updateHierarchicalProperty(l);t.setOptionalRequestFieldProperty();t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForSelectProperty:function(e){var t=this;var r=t.getSelectedKeysForProperties();t.updateSelectProperties(r);t.setOptionalRequestFieldProperty();f(t);t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForOptionalRequestField:function(e){var t=this;var i=t.getView().getViewData().oTextReader;var o=[r.removePrefixText(t.byId("idOptionalRequestField").getSelectedKey(),i(a.texts.NOTAVAILABLE))];t.updateOptionalRequestFieldProperty(o);f(t);t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForOptionalLabelDisplayOptionType:function(){var e=this;var t=e.byId("idOptionalLabelDisplayOptionType").getSelectedKey();e.changeLabelDisplayOption(t);e.oConfigurationEditor.setIsUnsaved()},handleChangeForOptionalSelectedPropertyLabelText:function(){var e=this;var t=e.byId("idOptionalSelectedPropertyLabelText").getValue();e.changeOptionalSelectedPropertyLabelText(t);e.oConfigurationEditor.setIsUnsaved()},handleSuggestionsForSource:function(e){var t=this;var r=t.oConfigurationEditor.getAllServices();t.oSuggestionTextHandler.manageSuggestions(e,r)},fireRelevantEvents:function(){},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;t.byId("idEntityLabel").setRequired(e);t.byId(t.getIdOfPropertyLabel()).setRequired(e);if(e){t.viewValidator.addFields(["idEntity",t.getIdOfPropertiesControl()])}else{t.viewValidator.removeFields(["idEntity",t.getIdOfPropertiesControl()])}},handleSelectionOfService:function(e){var t=e.getParameter("sSelectedService");e.getSource().setValue(t);e.getSource().fireEvent("change")},handleShowValueHelpRequest:function(e){var t=this;var r={oTextReader:t.getView().getViewData().oTextReader,parentControl:e.getSource(),getCalatogServiceUri:t.getView().getViewData().getCalatogServiceUri};var i=t.getView().getViewData();if(i.oCoreApi&&i.oCoreApi.isUsingCloudFoundryProxy()){n.showValueHelp(r,i.oCoreApi,this)}else{sap.ui.view({id:t.createId("idCatalogServiceView"),viewName:"sap.apf.modeler.ui.view.catalogService",type:u.XML,viewData:r})}},getNonCommonValues:function(t,r){var i=[];if(!e.checkIsNotNullOrUndefined(t)){return i}i=t.filter(function(e){return r.indexOf(e)===-1});return i},validateSelectedValues:function(e,t,i){var o={},a=[],n=[],s=[],d=[],u;var c=e.getView().getViewData().oTextReader;o=l.validateSelectedValues(t,i);a=o.invalid;n=o.valid;s=r.addPrefixText(a,c);d=s.concat(i).length!==0?s.concat(i):i;u=s.concat(n).length!==0?s.concat(n):t;return{aValues:d,aSelectedValues:u}},handleSuggestionsForSelectedPropertyLabel:function(e){this.oSuggestionTextHandler.manageSuggestionTexts(e,i.TranslationFormatMap.STEPFILTERPROPERTY_LABEL)},resetEntityAndProperties:function(){},setOptionalRequestFieldProperty:function(){},setOptionalHierarchicalProperty:function(){return jQuery.Deferred().resolve()},getIdOfPropertiesControl:function(){return"idSelectProperties"},getIdOfPropertyLabel:function(){return"idSelectPropertiesLabel"},setSelectedKeysForProperties:function(e){var t=this;t.byId("idSelectProperties").setSelectedKeys(e)},getSelectedKeysForProperties:function(){var e=this,t=[],i=[];var o=e.getView().getViewData().oTextReader;t=e.byId("idSelectProperties").getSelectedKeys();t.forEach(function(e){i.push(r.removePrefixText(e,o(a.texts.NOTAVAILABLE)))});return i},setValidationStateForService:function(e){var t=this;var r={sValueState:c.None,sValueStateText:""};var i=e?e:r;t.byId("idSource").setValueState(i.sValueState);t.byId("idSource").setValueStateText(i.sValueStateText)},getSource:function(){},updateSource:function(e){},clearSource:function(){},getAllEntitiesAsPromise:function(e){return l.createPromise()},getEntity:function(){},updateEntity:function(e){},clearEntity:function(){},getAllEntitySetPropertiesAsPromise:function(e,t){return l.createPromise()},setLabelDisplayOptionTypeAsPromise:function(e){return l.createPromise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){return l.createPromise()},getSelectProperties:function(){},updateSelectProperties:function(e){},clearSelectProperties:function(){},removeSelectProperties:function(e){},getOptionalRequestFieldProperty:function(){},updateOptionalRequestFieldProperty:function(e){},updateHierarchicalProperty:function(e){},clearOptionalRequestFieldProperty:function(){},removeOptionalRequestFieldProperty:function(e){},changeLabelDisplayOption:function(e){},changeOptionalSelectedPropertyLabelText:function(e){},handleChangeForOptionalProperty:function(){}});return y},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/smartFilterBar.controller", ["sap/ui/core/mvc/ViewType","sap/ui/core/mvc/Controller"],function(e){"use strict";var t,i,r,a,o;function n(e){if(t&&t.arguments&&t.arguments.smartFilterId){o=a.getSmartFilterBar()}}function s(t){var n,s;var u={oTextReader:i,oConfigurationHandler:r,oConfigurationEditor:a,oParentObject:o,getCalatogServiceUri:t.getView().getViewData().getCalatogServiceUri,oCoreApi:t.getView().getViewData().oCoreApi};n=new sap.ui.controller("sap.apf.modeler.ui.controller.smartFilterBarRequest");s=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.requestOptions",type:e.XML,id:t.createId("idSFBRequestView"),viewData:u,controller:n});t.byId("idSFBRequestVBox").insertItem(s)}sap.ui.controller("sap.apf.modeler.ui.controller.smartFilterBar",{onInit:function(){var e=this;var o=e.getView().getViewData();i=o.getText;t=o.oParams;r=o.oConfigurationHandler;a=o.oConfigurationEditor;n(e);s(e)},setDetailData:function(){},getValidationState:function(){var e=this;return e.byId("idSFBRequestView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idSFBRequestView").destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/smartFilterBarRequest.controller", ["sap/apf/modeler/ui/controller/requestOptions"],function(e){"use strict";var t=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.smartFilterBarRequest",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"))},onBeforeRendering:function(){var e=this;e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false)},onAfterRendering:function(){var e=this;if(e.byId("idSource").getValue().length===0){e.byId("idSource").focus()}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e,t){var i=this;i.byId("idEntityLabel").setRequired(e);if(e){i.viewValidator.addFields(["idEntity"])}else{i.viewValidator.removeFields(["idEntity"])}},getSource:function(){var e=this;return e.oParentObject.getService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsExceptParameterEntitySets(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySet()},clearSource:function(){var e=this;e.oParentObject.setService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySet(undefined)},updateSource:function(e){var t=this;t.oParentObject.setService(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySet(e)},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/sortPropertyType", ["sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/staticValuesBuilder","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/utils/utils","sap/ui/Device","sap/ui/core/Item","sap/ui/core/mvc/Controller"],function(e,t,r,o,i,a,n,d,s){"use strict";var u="idSortProperty";var p="idSortDirection";var e=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var l=sap.apf.modeler.ui.utils.textManipulator;var f=sap.apf.modeler.ui.utils.CONSTANTS.events;function c(e){e.byId("idSortLabel").setText(e.oTextReader("sortingField"));e.byId("idSortLabel").setTooltip(e.oTextReader("sortingField"));e.byId("idSortDirectionLabel").setText(e.oTextReader("direction"));e.byId("idSortDirectionLabel").setTooltip(e.oTextReader("direction"));e.byId("idAddPropertyIcon").setTooltip(e.oTextReader("addButton"));e.byId("idRemovePropertyIcon").setTooltip(e.oTextReader("deleteButton"))}function y(e){if(n.browser.msie&&n.browser.version>=11){e.byId("idAriaPropertyForSortGroup").setText(e.oTextReader("sorting"))}e.byId("idAriaPropertyForAdd").setText(e.oTextReader("ariaTextForAddIcon"));e.byId("idAriaPropertyForDelete").setText(e.oTextReader("ariaTextForDeleteIcon"))}function v(t){var r=t.byId(u);t.getAllPropertiesAsPromise().done(function(t){var o=e.convert(t.aAllProperties);r.setModel(o);r.setSelectedKey(t.sSelectedKey)})}function g(t){var r=t.byId(p);var o=new sap.apf.modeler.ui.utils.StaticValuesBuilder(t.oTextReader,e);var i=o.getSortDirections();r.setModel(i);r.setSelectedKey(t.getView().getViewData().oPropertyTypeData.sContext)}function P(e){var t=true,r=true;var o=e.getView().getViewData().oPropertyTypeState;var i=o.indexOfPropertyTypeViewId(e.getView().getId());if(o.indexOfPropertyTypeViewId(e.getView().getId())===0){r=false}e.byId("idAddPropertyIcon").setVisible(t);e.byId("idRemovePropertyIcon").setVisible(r);if(i>0&&o.aProperties!==undefined){var a=o.getViewAt(i-1);a.oController.byId("idAddPropertyIcon").setVisible(false)}}function I(e,t){var r=e.getView().getViewData().oPropertyTypeState;if(r!==undefined){var o=r.aProperties.length;var i=r.getViewAt(t-1);var a=e.oConfigurationEditor.isSaved();if(t>1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true);i.oController.byId("idRemovePropertyIcon").setVisible(true)}if(t===1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true)}}}function T(e){e.byId("idAddPropertyIcon").attachEvent(f.SETFOCUSONADDICON,e.setFocusOnAddRemoveIcons.bind(e))}var V=s.extend("sap.apf.modeler.ui.controller.sortPropertyType",{oConfigurationEditor:{},oParentObject:{},oStepPropertyMetadataHandler:{},oTextReader:{},onInit:function(){var e=this;e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oParentObject=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.oTextReader=e.getView().getViewData().oCoreApi.getText;e.setDetailData()},onAfterRendering:function(){var e=this;e.byId("idAddPropertyIcon").fireEvent(f.SETFOCUSONADDICON)},setDetailData:function(){var e=this;c(e);y(e);v(e);g(e);P(e);e.disableView()},handleChangeForSortProperty:function(e){var t=this;var r=l.removePrefixText(t.byId(u).getSelectedKey(),t.oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));var o=t.getView().getViewData().oPropertyOrchestration;var i=t.getView().getId();return new Promise(function(e){t.getView().fireEvent(f.UPDATEPROPERTYVALUESTATE,{sProperty:r});o.updatePropertyTypeRow(i,r);o.updateAllSelectControlsForPropertyType().then(function(){t.updateOfConfigurationObject();t.oConfigurationEditor.setIsUnsaved();e()})})},handleChangeForSortDirection:function(){var e=this;e.updateOfConfigurationObject();e.oConfigurationEditor.setIsUnsaved()},setFocusOnAddRemoveIcons:function(){var e=this;e.byId("idAddPropertyIcon").focus()},handlePressOfAddPropertyIcon:function(){var e=this;T(e);e.addPropertyAsPromise()},handlePressOfRemovePropertyIcon:function(){var e=this;var t=e.getView().getViewData();var r=e.getView().getViewData().oPropertyTypeState;if(r!==undefined){var o=r.indexOfPropertyTypeViewId(e.getView().getId())}return new Promise(function(r){e.getView().fireEvent(f.FOCUSONREMOVE);var i=t.oPropertyOrchestration;i.removePropertyTypeReference(e.getView().getId());i.updateAllSelectControlsForPropertyType().then(function(){e.updateOfConfigurationObject();t.oPropertyTypeHandlerBackLink.handlePressOfRemove({oSourceView:e.getView()});I(e,o);e.oConfigurationEditor.setIsUnsaved();e.getView().destroy();r()})})},updateOfConfigurationObject:function(){var e=this;var t=e.getView().getViewData().oPropertyOrchestration;var r=t.getSortPropertyInformationList(p);e.updateOfConfigurationObjectOfSubclass(r)},getSelectedSortProperty:function(){var e=this;var t=e.getView().getViewData().oPropertyTypeState;var r=t.getPropertyValueState();var o=t.indexOfPropertyTypeViewId(e.getView().getId());return r[o]},removeAllItemsFromDropDownList:function(){var e=this;var t=e.byId(u);t.getItems().forEach(function(e){t.removeItem(e)})},setItemsOfDropDownList:function(e,t,r){function o(e,t){return e.indexOf(t)!==-1}var i=this;var a=i.byId(u);var n=r===i.oTextReader("none");var s=JSON.parse(JSON.stringify(e));a.addItem(new d({key:i.oTextReader("none"),text:i.oTextReader("none")}));if(!o(s,r)&&!n){s.unshift(r)}s=s.filter(function(e){return e!==i.oTextReader("none")});s.forEach(function(e){var s=e;if(!o(t,e)&&!n){e=l.addPrefixText([e],i.oTextReader)[0]}var u=new d({key:e,text:e});a.addItem(u);if(s===r){r=e}});a.setSelectedKey(r)},updateOfConfigurationObjectOfSubclass:function(e){},getOrderBy:function(){},setNextPropertyInParentObject:function(){},removePropertyFromParentObject:function(){},disableView:function(){},addPropertyAsPromise:function(){return a.createPromise()}});return V},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/step.controller", ["sap/apf/modeler/ui/utils/sortDataHandler","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/stepPropertyMetadataHandler","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/core/library","sap/ui/core/mvc/ViewType","sap/ui/core/mvc/Controller"],function(e,t,i,a,r,n,o,d){"use strict";var s=o.ValueState;var l,p,u,g,c,f,S,I,T,v,b,y;var m=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_TITLE;var N=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_LONG_TITLE;function h(e){e.byId("idStepBasicData").setText(p("stepBasicData"));e.byId("idStepTitleLabel").setText(p("stepTitle"));e.byId("idStepTitle").setPlaceholder(p("newStep"));e.byId("idStepLongTitleLabel").setText(p("stepLongTitle"));e.byId("idStepLongTitle").setPlaceholder(p("stepLongTitle"));e.byId("idCategoryTitleLabel").setText(p("categoryAssignments"));e.byId("idGlobalLabel").setText(p("globalNavigationTarget"));e.byId("idStepSpecificLabel").setText(p("stepSpecificNavTargets"));e.byId("idDataRequest").setText(p("dataRequest"));e.byId("idFilterMapping").setText(p("filterMap"));e.byId("idFilterMapKeepSourceLabel").setText(p("filterMapKeepSource"));e.byId("idNavigationTarget").setText(p("navigationTargetAssignments"));e.byId("idDataReduction").setText(p("dataReduction"));e.byId("idDataReductionLabel").setText(p("dataReductionType"));e.byId("idNoDataReduction").setText(p("noDataReduction"));e.byId("idTopN").setText(p("topN"));e.byId("idNumberOfRecordsLabel").setText(p("recordNumber"));e.byId("idAriaPropertyForDataReduction").setText(p("dataReductionType"))}function V(e,t){var i=p(b?"hierarchicalStepTitle":"step")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(i);C(e,t)}function C(e,t){var i=p(b?"hierarchicalStepTitle":"step")+": "+t;e.getView().getViewData().oTitleBreadCrumbController.byId("IdFormTitle").setText(i)}function E(e,t){var i={id:S.getId(),icon:S.getType()==="hierarchicalStep"?"sap-icon://drill-down":"sap-icon://step"};if(t){i.name=t}e.getView().getViewData().updateSelectedNode(i)}function O(e){var i,a;if(l&&l.arguments&&l.arguments.stepId){S=g.getStep(l.arguments.stepId);b=S&&S.getType()==="hierarchicalStep"?true:false}if(!t.checkIsNotUndefined(S)){a=l.arguments.categoryId;b=l.bIsHierarchicalStep;if(b){i=g.createHierarchicalStep(a)}else{i=g.createStep(a)}S=g.getStep(i);E(e)}}function R(e){var t=this;var i=e.getParameter("bShowFilterMappingLayout");t.byId("idStepFilterMappingVBox").setVisible(i);t.byId("idFilterMapKeepSourceLabel").setVisible(i);t.byId("idFilterKeepSourceCheckBox").setVisible(i);if(!i){t.byId("idFilterMapping").setText("");t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.RESETFILTERMAPPINGFIELDS)}else{t.byId("idFilterMapping").setText(p("filterMap"))}}function w(e){e.byId("idDataReductionForm").setVisible(!b)}function F(e,t,i,a,r){sap.ui.view({viewName:a,type:d.XML,id:e.createId(r),viewData:i,controller:t})}function x(e){var t,i,a,r,n,o,d;t={oTextReader:p,oConfigurationEditor:g,oTextPool:c,oParentObject:S,oStepPropertyMetadataHandler:y,oCoreApi:e.getView().getViewData().oCoreApi};i=new sap.ui.controller("sap.apf.modeler.ui.controller.stepCornerTexts");F(e,i,t,"sap.apf.modeler.ui.view.cornerTexts","idStepCornerTextView");n=e.byId("idStepCornerTextView");e.byId("idStepCornerTextVBox").insertItem(n);t.oConfigurationHandler=u;t.getCalatogServiceUri=e.getView().getViewData().getCalatogServiceUri;if(b){a=new sap.ui.controller("sap.apf.modeler.ui.controller.hierarchicalStepRequest")}else{a=new sap.ui.controller("sap.apf.modeler.ui.controller.stepRequest")}F(e,a,t,"sap.apf.modeler.ui.view.requestOptions","idStepRequestView");o=e.byId("idStepRequestView");e.byId("idStepRequestVBox").insertItem(o);r=new sap.ui.controller("sap.apf.modeler.ui.controller.stepFilterMapping");F(e,r,t,"sap.apf.modeler.ui.view.requestOptions","idStepFilterMappingView");d=e.byId("idStepFilterMappingView");e.byId("idStepFilterMappingVBox").insertItem(d);o.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETDATAREDUCTIONSECTION,e.setDataReductionSection.bind(e));o.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,R.bind(e));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,R.bind(e));o.attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.UPDATEFILTERMAPPINGFIELDS,d.getController().updateFilterMappingFields.bind(d.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.RESETFILTERMAPPINGFIELDS,d.getController().resetFilterMappingFields.bind(d.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,n.getController().updateSubViewInstancesOnReset.bind(n.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,o.getController().updateSubViewInstancesOnReset.bind(o.getController()));e.getView().attachEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,d.getController().updateSubViewInstancesOnReset.bind(d.getController()));o.addStyleClass("formTopPadding");o.addStyleClass("formBottomPadding");d.addStyleClass("formTopPadding");d.addStyleClass("formBottomPadding")}function D(e){if(!t.checkIsNotNullOrUndefinedOrBlank(g.getStep(l.arguments.stepId))){return}e.byId("idStepTitle").setValue(S.getId());if(t.checkIsNotNullOrUndefinedOrBlank(S.getTitleId())&&c.get(S.getTitleId())){e.byId("idStepTitle").setValue(c.get(S.getTitleId()).TextElementDescription)}}function P(e){if(!t.checkIsNotNullOrUndefinedOrBlank(g.getStep(l.arguments.stepId))){return}e.byId("idStepLongTitle").setValue("");if(t.checkIsNotNullOrUndefinedOrBlank(S.getLongTitleId())&&c.get(S.getLongTitleId())){e.byId("idStepLongTitle").setValue(c.get(S.getLongTitleId()).TextElementDescription)}}function L(e){var a=[];var r=g.getCategories();r.forEach(function(e){var t={};t.CategoryId=e.getId();t.CategoryTitle=c.get(e.labelKey)?c.get(e.labelKey).TextElementDescription:e.labelKey;a.push(t)});var n=i.prepareModel(a,a.length);e.byId("idCategorySelect").setModel(n);var o=g.getCategoriesForStep(S.getId());if(t.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idCategorySelect").setSelectedKeys(o)}}function A(e){e.byId("idNumberOfRecordsValue").setValue("");e.byId("idNumberOfRecordsValue").setValueState("None");if(S.getTopN()){e.byId("idNumberOfRecordsValue").setValue(S.getTopN().top)}B(e)}function M(e){e.byId("idDataReductionRadioGroup").setSelectedButton(e.byId("idNoDataReduction"));k(e);if(S.getTopN()){e.byId("idDataReductionRadioGroup").setSelectedButton(e.byId("idTopN"))}}function B(e){var t=e.byId("idDataReductionRadioGroup").getSelectedButton()===e.byId("idTopN")?true:false;e.byId("idNumberOfRecordsLabel").setVisible(t);e.byId("idNumberOfRecordsValue").setVisible(t);if(t){I.addField("idNumberOfRecordsValue")}else{I.removeField("idNumberOfRecordsValue")}}function U(e){if(S.getTopN()){T.instantiateStepSortData();if(S.getTopN().orderby.length===0){e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETTOPNPROPERTIES);var t=v.createMessageObject({code:"11523"});v.putMessage(t)}}else{T.destroySortData()}}function k(e){var t=S.getSelectProperties().length!==0?true:false;e.byId("idDataReductionRadioGroup").setEnabled(t)}function K(e){var t=S.getFilterProperties().length!==0?true:false;e.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,{bShowFilterMappingLayout:t})}function G(e){if(t.checkIsNotNullOrUndefinedOrBlank(S.getFilterMappingKeepSource())){e.byId("idFilterKeepSourceCheckBox").setSelected(S.getFilterMappingKeepSource())}}function q(e,t,a,r){var n=[];if(t.length!==0){a.setBusy(true)}t.forEach(function(e){var o={};o.navTargetKey=e.getId();f(e.getId()).then(function(e){o.navTargetName=e;n.push(o);if(n.length===t.length){var d=i.prepareModel(n,n.length);a.setModel(d);a.setSelectedKeys(r);a.setBusy(false)}})})}function H(e){var t=g.getNavigationTargets();var i=S.getNavigationTargets();var a=t.filter(function(e){return e.isStepSpecific()});q(e,a,e.byId("idStepSpecificCombo"),i)}function j(e){var t=g.getNavigationTargets();var i=t.filter(function(e){return e.isGlobal()});var a=i.map(function(e){return e.getId()});q(e,i,e.byId("idGlobalCombo"),a)}sap.ui.controller("sap.apf.modeler.ui.controller.step",{onInit:function(){var t=this,i;var r=t.getView().getViewData();v=r.oCoreApi;p=v.getText;l=r.oParams;u=r.oConfigurationHandler;c=u.getTextPool();g=r.oConfigurationEditor;f=r.getNavigationTargetName;I=new a(t.getView());h(t);O(t);y=new sap.apf.modeler.ui.utils.StepPropertyMetadataHandler(v,S);T=new e(t.getView(),S,y,p);x(t);t.setDetailData();i=t.byId("idStepTitle").getValue().trim();if(i===""){i="< "+p("newStep")+" >"}C(t,i);I.addFields(["idStepTitle","idCategorySelect"])},setDetailData:function(){var e=this;D(e);P(e);L(e);e.setDataReductionSection();w(e);K(e);G(e);H(e);j(e)},onAfterRendering:function(){var e=this;if(e.byId("idStepTitle").getValue().length===0){e.byId("idStepTitle").focus()}},updateSubViewInstancesOnReset:function(e){var t=this;g=e;S=g.getStep(S.getId());t.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:g,oParentObject:S})},setDataReductionSection:function(){var e=this;M(e);A(e);U(e)},handleChangeForStepTitle:function(){var e=this;var i=g.getCategoriesForStep(S.getId());var a=e.byId("idStepTitle").getValue().trim();if(t.checkIsNotNullOrUndefinedOrBlank(a)){c.setTextAsPromise(a,m).done(function(t){S.setTitleId(t);if(i.length>1){e.getView().getViewData().updateTree()}else{E(e,a)}V(e,a);g.setIsUnsaved()})}else{g.setIsUnsaved()}},handleSuggestionsForStepTitle:function(e){var t=new sap.apf.modeler.ui.utils.SuggestionTextHandler(c);t.manageSuggestionTexts(e,m)},handleChangeForStepLongTitle:function(){var e=this;var i=e.byId("idStepLongTitle").getValue().trim();if(t.checkIsNotNullOrUndefined(i)){c.setTextAsPromise(i,N).done(function(e){S.setLongTitleId(e);g.setIsUnsaved()})}else{g.setIsUnsaved()}},handleSuggestionsForStepLongTitle:function(e){var t=new sap.apf.modeler.ui.utils.SuggestionTextHandler(c);t.manageSuggestionTexts(e,N)},handleChangeForCategory:function(){var e=this;var t=S.getId();var i=l.arguments.categoryId;var a=g.getCategoriesForStep(S.getId());var r=e.byId("idCategorySelect").getSelectedKeys();var n=r.indexOf(i);var o=[];var d=[];var s,p;for(s=0;s<a.length;s++){var u=false;for(p=0;p<r.length;p++){if(a[s]===r[p]){u=true;break}}if(!u){d.push(a[s])}}if(r.length!==0){r.forEach(function(e){g.addCategoryStepAssignment(e,t);var a={oldContext:{name:l.name,arguments:{configId:l.arguments.configId,categoryId:i,stepId:t}},newContext:{arguments:{configId:l.arguments.configId,categoryId:e}}};if(e!==i){o.push(a)}});a.forEach(function(e){if(r.indexOf(e)===-1){g.removeCategoryStepAssignment(e,S.getId())}});if(d.length!==0){d.forEach(function(e){var a={oldContext:{name:l.name,arguments:{configId:l.arguments.configId,categoryId:i,stepId:t}},newContext:{arguments:{configId:l.arguments.configId,categoryId:e}},removeStep:true};if(n===-1&&e===i){var d={arguments:{appId:l.arguments.appId,configId:l.arguments.configId,categoryId:r[0],stepId:t}};a.categoryChangeContext=d;a.changeCategory=true}o.push(a)})}}if(o.length!==0){e.getView().getViewData().updateTree(o)}g.setIsUnsaved()},handleChangeForDataReductionType:function(){var e=this;if(e.byId("idDataReductionRadioGroup").getSelectedButton()===e.byId("idNoDataReduction")){S.resetTopN();e.setDataReductionSection()}else{T.instantiateStepSortData()}B(e);g.setIsUnsaved()},handleValidationForNumberOfRecords:function(e){var t=e.getSource();var i=t.getValue().trim();var a=i.indexOf("E")!==-1||i.indexOf("e")!==-1||i.indexOf(".")!==-1||i<=0||i>1e4?s.Error:s.None;t.setValueState(a);g.setIsUnsaved()},handleChangeForNoOfRecords:function(e){var i=this;var a=e.getSource().getValue().trim();if(e.getSource().getValueState()===s.Error){return}if(t.checkIsNotNullOrUndefinedOrBlank(a)){if(S.getTopN()===undefined){i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETTOPNPROPERTIES)}S.setTopNValue(a)}g.setIsUnsaved()},handleFilterMapKeepSource:function(){var e=this;var t=e.byId("idFilterKeepSourceCheckBox").getSelected();S.setFilterMappingKeepSource(t);g.setIsUnsaved()},handleChangeForStepSpecificNavTargets:function(){var e=this;var t=e.byId("idStepSpecificCombo").getSelectedKeys();var i=S.getNavigationTargets();i.forEach(function(e){if(t.indexOf(e)===-1){S.removeNavigationTarget(e)}});t.forEach(function(e){if(i.indexOf(e)===-1){S.addNavigationTarget(e)}});g.setIsUnsaved()},getValidationState:function(){var e=this;return I.getValidationState()&&e.byId("idStepRequestView").getController().getValidationState()&&e.byId("idStepFilterMappingView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idStepCornerTextView").destroy();e.byId("idStepRequestView").destroy();e.byId("idStepFilterMappingView").destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepCornerTexts.controller", ["sap/apf/modeler/ui/controller/cornerTexts"],function(e){"use strict";function t(e,t){var r=t&&e.oTextPool.get(t);return r&&r.TextElementDescription}var r=sap.apf.modeler.ui.controller.cornerTexts.extend("sap.apf.modeler.ui.controller.stepCornerTexts",{setChartIcon:function(){var e=this;e.byId("idChartIcon").setSrc("sap-icon://line-chart");e.byId("idChartIcon").addStyleClass("stepChartIcon")},addStyleClasses:function(){var e=this;e.byId("idLeftUpper").addStyleClass("stepLeftCornerText");e.byId("idRightUpper").addStyleClass("stepRightCornerText");e.byId("idLeftLower").addStyleClass("stepLeftCornerText");e.byId("idRightLower").addStyleClass("stepRightCornerText")},getTranslationFormatMap:function(){return sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_CORNER_TEXT},getLeftUpperCornerText:function(e){var r=this;var a=r.getView().getViewData().oParentObject[e]();var n=t(r,a);return n},getRightUpperCornerText:function(e){var r=this;var a=r.getView().getViewData().oParentObject[e]();var n=t(r,a);return n},getLeftLowerCornerText:function(e){var r=this;var a=r.getView().getViewData().oParentObject[e]();var n=t(r,a);return n},getRightLowerCornerText:function(e){var r=this;var a=r.getView().getViewData().oParentObject[e]();var n=t(r,a);return n}});return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepFilterMapping.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/thirdparty/jquery"],function(e,t,i,jQuery){"use strict";var r=sap.apf.modeler.ui.utils.nullObjectChecker;var a=sap.apf.modeler.ui.utils.textManipulator;var n=sap.apf.modeler.ui.utils.TranslationFormatMap.STEPFILTERPROPERTY_LABEL;function l(e){var t=e.getView().getViewData().oTextReader;var i=e.oParentObject.getFilterMappingTargetPropertyLabelKey()?t("label"):t("label")+" ("+t("default")+")";e.byId("idOptionalSelectedPropertyLabel").setText(i);e.byId("idOptionalSelectedPropertyLabel").setTooltip(i)}function o(e){var t=e.getSource();var i=e.getEntity();var a;var n=e.oParentObject.getFilterMappingTargetPropertyLabelKey();if(t===undefined||i===undefined){return}if(r.checkIsNotUndefined(n)){a=e.getView().getViewData().oConfigurationHandler.getTextPool().get(n).TextElementDescription;e.byId("idOptionalSelectedPropertyLabelText").setValue(a);return}e.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(t,i).done(function(t){var i=e.oParentObject.getFilterMappingTargetProperties()[0];if(i){a=e.oStepPropertyMetadataHandler.getDefaultLabel(t,i)}e.byId("idOptionalSelectedPropertyLabelText").setValue(a)})}function s(e){e.byId("idOptionalRequestFieldLabel").addStyleClass("filterPropertyLable");e.byId("idOptionalRequestField").addStyleClass("filterProperty");e.byId("idOptionalLabelDisplayOptionType").addStyleClass("filterProperty")}var p=sap.apf.modeler.ui.controller.requestOptions.extend("sap.apf.modeler.ui.controller.stepFilterMapping",{setLabelDisplayOptionTypeAsPromise:function(e){var t=jQuery.Deferred();var i=this;var r=i.getSource();var n=i.getEntity();var s=[];var p=i.getView().getViewData().oTextReader;var d=new sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder(p,e);var u=d.getLabelDisplayOptions();var y=sap.apf.core.constants.representationMetadata.labelDisplayOptions;var c=a.removePrefixText(i.byId("idOptionalRequestField").getSelectedKey(),p(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));l(i);o(i);i.byId("idOptionalLabelDisplayOptionType").setEnabled(true);if(!c){i.byId("idOptionalLabelDisplayOptionType").setModel(u);i.byId("idOptionalLabelDisplayOptionType").setEnabled(false);return t.promise()}var f=i.oParentObject.getFilterMappingTargetPropertyLabelDisplayOption();i.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(r,n).done(function(e){if((f===y.KEY_AND_TEXT||f===y.TEXT)&&!e.getPropertyMetadata(c).text){u=d.getValidatedLabelDisplayOptions();s=a.addPrefixText([f],p);f=s[0]}i.byId("idOptionalLabelDisplayOptionType").setModel(u);i.byId("idOptionalLabelDisplayOptionType").setSelectedKey(f);t.resolve()});return t.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e=this;var t=e.getSource();var i=e.getEntity();var r=jQuery.Deferred();var n=e.getView().getViewData().oTextReader;var l=e.byId("idOptionalLabelDisplayOptionType");var o=a.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),n(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));e.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(t,i).done(function(e){var t=e.getPropertyMetadata(o).text;l.getItems().forEach(function(e){e.setEnabled(true);if(e.getKey()!=="key"&&!t){e.setEnabled(false)}});r.resolve()});return r.promise()},changeLabelDisplayOption:function(e){var t=this;t.oParentObject.setFilterMappingTargetPropertyLabelDisplayOption(e)},changeOptionalSelectedPropertyLabelText:function(e){var t=this;if(e.trim().length===0){t.oParentObject.setFilterMappingTargetPropertyLabelKey(undefined);l(t);o(t);return}t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(e,n).done(function(e){t.oParentObject.setFilterMappingTargetPropertyLabelKey(e);l(t);o(t)})},onBeforeRendering:function(){var e=this;e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalRequestField").setForceSelection(false);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},onAfterRendering:function(){s(this)},getIdOfPropertiesControl:function(){return"idOptionalRequestField"},getIdOfPropertyLabel:function(){return"idOptionalRequestFieldLabel"},setSelectedKeysForProperties:function(e){var t=this;if(e.length!==0){t.byId("idOptionalRequestField").setSelectedKey(e[0])}else{t.byId("idOptionalRequestField").clearSelection()}},getSelectedKeysForProperties:function(){var e=this,t,i;var n=e.getView().getViewData().oTextReader;t=a.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),n(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));i=r.checkIsNotNullOrUndefinedOrBlank(t)?[t]:[];return i},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idOptionalRequestFieldLabel").setText(t("targetProperty"))},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idOptionalRequestField").setModel(null);e.byId("idOptionalRequestField").setSelectedKey(undefined)},resetFilterMappingFields:function(){var e=this;e.clearSource();e.byId("idSource").setValue("");e.resetEntityAndProperties();e.addOrRemoveMandatoryFieldsAndRequiredFlag(false)},updateFilterMappingFields:function(){var e=this,t,i,n,l,o;var s=e.getView().getViewData().oTextReader;t=e.byId("idSource").getValue().trim();e.oConfigurationEditor.setIsUnsaved();if(r.checkIsNotNullOrUndefinedOrBlank(t)){e.getAllEntitiesAsPromise(t).done(function(t){if(!r.checkIsNotNullOrUndefinedOrBlank(t)){e.resetEntityAndProperties();return}e.setDetailData();i=a.removePrefixText(e.byId("idEntity").getSelectedKey(),s(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));n=r.checkIsNotNullOrUndefinedOrBlank(i)?i:undefined;e.updateEntity(n);l=a.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),s(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));o=r.checkIsNotNullOrUndefinedOrBlank(l)?[l]:[];e.updateSelectProperties(o)})}},getSource:function(){var e=this;return e.oParentObject.getFilterMappingService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceWithGivenPropertiesAsPromise(e,t.oParentObject.getFilterProperties())},getEntity:function(){var e=this;return e.oParentObject.getFilterMappingEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){var i=this;return i.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setFilterMappingService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setFilterMappingEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getFilterMappingTargetProperties();t.forEach(function(t){e.oParentObject.removeFilterMappingTargetProperty(t)});e.byId("idOptionalSelectedPropertyLabelText").setValue("")},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterMappingTargetProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setFilterMappingService(e)},updateEntity:function(e){var t=this;t.oParentObject.setFilterMappingEntitySet(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getFilterMappingTargetProperties());e.forEach(function(e){t.oParentObject.addFilterMappingTargetProperty(e)})},updateOptionalRequestFieldProperty:function(e){var t=this;t.updateSelectProperties(e)},getSelectProperties:function(){var e=this;return e.oParentObject.getFilterMappingTargetProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return p},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/stepRequest.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/thirdparty/jquery"],function(e,t,i,r,jQuery){"use strict";var a=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var o=sap.apf.modeler.ui.utils.nullObjectChecker;var l=sap.apf.modeler.ui.utils.TranslationFormatMap.STEPFILTERPROPERTY_LABEL;function n(e){var t=e.getView().getViewData().oTextReader;var i=e.oParentObject.getFilterPropertyLabelKey()?t("label"):t("label")+" ("+t("default")+")";e.byId("idOptionalSelectedPropertyLabel").setText(i);e.byId("idOptionalSelectedPropertyLabel").setTooltip(i)}function s(e){var t=jQuery.Deferred();var i;var r=e.oParentObject.getFilterPropertyLabelKey();if(!e.getSource()||!e.getEntity()){return t.resolve()}if(o.checkIsNotUndefined(r)){i=e.getView().getViewData().oConfigurationHandler.getTextPool().get(r).TextElementDescription;e.byId("idOptionalSelectedPropertyLabelText").setValue(i);return t.resolve()}e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(r){var a=e.oParentObject.getFilterProperties()[0];if(e.oParentObject.getType()==="hierarchicalStep"&&a){a=e.oStepPropertyMetadataHandler.getPropertyMetadata(r,a)["hierarchy-node-for"]}if(a){i=e.oStepPropertyMetadataHandler.getDefaultLabel(r,a)}e.byId("idOptionalSelectedPropertyLabelText").setValue(i);t.resolve()});return t}function d(e){e.byId("idOptionalRequestFieldLabel").addStyleClass("filterPropertyLable");e.byId("idOptionalRequestField").addStyleClass("filterProperty");e.byId("idOptionalLabelDisplayOptionType").addStyleClass("filterProperty")}return e.extend("sap.apf.modeler.ui.controller.stepRequest",{setLabelDisplayOptionTypeAsPromise:function(e){var i=jQuery.Deferred();var r,a,o,l,d,p=this,u=[];var c=p.getView().getViewData().oTextReader;r=new sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder(c,e);o=r.getLabelDisplayOptions();a=sap.apf.core.constants.representationMetadata.labelDisplayOptions;l=t.removePrefixText(p.byId("idOptionalRequestField").getSelectedKey(),c(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));n(p);s(p).done(function(){p.byId("idOptionalLabelDisplayOptionType").setEnabled(true);if(l===c("none")){p.byId("idOptionalLabelDisplayOptionType").setModel(o);p.byId("idOptionalLabelDisplayOptionType").setEnabled(false);return i.promise()}d=p.oParentObject.getFilterPropertyLabelDisplayOption();p.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if((d===a.KEY_AND_TEXT||d===a.TEXT)&&!p.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,l)){o=r.getValidatedLabelDisplayOptions();u=t.addPrefixText([d],c);d=u[0]}p.byId("idOptionalLabelDisplayOptionType").setModel(o);p.byId("idOptionalLabelDisplayOptionType").setSelectedKey(d);i.resolve()})});return i.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e,i=this;var r=jQuery.Deferred();var a=i.getView().getViewData().oTextReader;var o=i.byId("idOptionalLabelDisplayOptionType");var l=t.removePrefixText(i.byId("idOptionalRequestField").getSelectedKey(),a(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE));i.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){var a=i.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(t,l);for(e=0;e<o.getItems().length;e++){o.getItems()[e].setEnabled(true);if(e>0&&!a){o.getItems()[e].setEnabled(false)}}r.resolve()});return r.promise()},onBeforeRendering:function(){var e=this;e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},onAfterRendering:function(){var e=this;e.addOrRemoveMandatoryFieldsAndRequiredFlag(true);d(e)},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idSelectPropertiesLabel").setText(t("selectProperties"));e.byId("idOptionalRequestFieldLabel").setText(t("requiredFilters"))},setOptionalRequestFieldProperty:function(){var e=this;var t,i,r,l,n,s=[];var d=e.oParentObject.getFilterProperties();n=[e.getView().getViewData().oTextReader("none")];t=e.byId("idSelectProperties").getSelectedKeys();i=e.oParentObject.getSelectProperties();i.forEach(function(e){if(e===d[0]){r=true}});if(!r&&d.length>0){e.removeOptionalRequestFieldProperty(d);d=e.oParentObject.getFilterProperties()}l=a.convert(n.concat(t));e.byId("idOptionalRequestField").setModel(l);e.byId("idOptionalRequestField").setSelectedKey(n[0]);if(o.checkIsNotNullOrUndefinedOrBlank(d)){s=e.validateSelectedValues(e,d,t);d=s.aSelectedValues;e.byId("idOptionalRequestField").setSelectedKey(d[0])}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;if(e===false){return}t.byId("idSourceLabel").setRequired(e);t.byId("idEntityLabel").setRequired(e);t.byId("idSelectPropertiesLabel").setRequired(e);t.viewValidator.addFields(["idSource","idEntity","idSelectProperties"])},fireRelevantEvents:function(e){var i=this,r,a;if(e.getSource()!==i.byId("idOptionalRequestField")){r=[t.removePrefixText(i.byId("idOptionalRequestField").getSelectedKey(),i.getView().getViewData().oTextReader(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE))];if(o.checkIsNotNullOrUndefinedOrBlank(r)){i.updateOptionalRequestFieldProperty(r)}if(i.getSelectProperties().length===0){i.oParentObject.resetTopN()}i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETDATAREDUCTIONSECTION)}if(e.getSource()===i.byId("idOptionalProperty")){i.setOptionalRequestFieldProperty()}a=i.byId("idOptionalRequestField").getSelectedKey()!==i.getView().getViewData().oTextReader("none")?true:false;i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,{bShowFilterMappingLayout:a});i.getView().fireEvent(sap.apf.modeler.ui.utils.CONSTANTS.events.step.UPDATEFILTERMAPPINGFIELDS)},getSource:function(){return this.oParentObject.getService()},getAllEntitiesAsPromise:function(e){return this.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){return this.oParentObject.getEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){return this.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},changeLabelDisplayOption:function(e){var t=this;t.oParentObject.setFilterPropertyLabelDisplayOption(e)},changeOptionalSelectedPropertyLabelText:function(e){var t=this;if(e.trim().length===0){t.oParentObject.setFilterPropertyLabelKey(undefined);n(t);s(t);return}t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(e,l).done(function(e){t.oParentObject.setFilterPropertyLabelKey(e);n(t);s(t)})},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idSelectProperties").setModel(null);e.byId("idSelectProperties").setSelectedKeys([]);e.byId("idOptionalRequestField").setModel(null);e.byId("idOptionalRequestField").setSelectedKey(undefined)},clearSource:function(){var e=this;e.oParentObject.setService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectProperties();t.forEach(function(t){e.oParentObject.removeSelectProperty(t)});e.clearOptionalRequestFieldProperty()},clearOptionalRequestFieldProperty:function(){var e=this;var t=e.oParentObject.getFilterProperties();t.forEach(function(t){e.oParentObject.removeFilterProperty(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectProperty(e)})},removeOptionalRequestFieldProperty:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setService(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySet(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getSelectProperties());e.forEach(function(e){t.oParentObject.addSelectProperty(e)})},updateOptionalRequestFieldProperty:function(e){var t=this;var i=t.oParentObject.getFilterPropertyLabelKey();var r=t.oParentObject.getFilterPropertyLabelDisplayOption();var a=t.oParentObject.getFilterProperties();t.removeOptionalRequestFieldProperty(t.oParentObject.getFilterProperties());e.forEach(function(e){if(e!==t.getView().getViewData().oTextReader("none")){t.oParentObject.addFilterProperty(e);if(e===a[0]){t.oParentObject.setFilterPropertyLabelKey(i);t.oParentObject.setFilterPropertyLabelDisplayOption(r)}}})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectProperties()},getOptionalRequestFieldProperty:function(){var e=this;return e.oParentObject.getFilterProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepSortPropertyType.controller", ["sap/apf/modeler/ui/controller/sortPropertyType","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";var t=sap.apf.modeler.ui.controller.sortPropertyType.extend("sap.apf.modeler.ui.controller.stepSortPropertyType",{onBeforeRendering:function(){var e=this;e.byId("idGridSortLabel").setSpan("L4 M4 S4");e.byId("idGridSortProperty").setSpan("L2 M2 S2");e.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");e.byId("idGridSortDirection").setSpan("L2 M2 S2");e.byId("idGridIconLayout").setSpan("L2 M2 S2")},updateOfConfigurationObjectOfSubclass:function(e){var t=this;t.oParentObject.setTopNSortProperties(e)},getAllPropertiesAsPromise:function(){var e=this,t,r,o;var i=sap.apf.modeler.ui.utils.textManipulator;var n=jQuery.Deferred();e.oParentObject.getConsumablePropertiesForTopN().done(function(a){t=a.consumable;r=e.getSelectedSortProperty();if(r!==undefined){o=t.indexOf(r)!==-1?t:t.concat(r);t=a.available.indexOf(r)!==-1?o:t.concat(i.addPrefixText([r],e.oTextReader));r=a.available.indexOf(r)!==-1?r:i.addPrefixText([r],e.oTextReader)[0]}n.resolve({aAllProperties:t,sSelectedKey:r})});return n.promise()},getOrderBy:function(){var e=this;return e.oParentObject.getTopN().orderby},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObject();e.byId("idSortDirection").setSelectedKey("true")},removePropertyFromParentObject:function(){var e=this;e.updateOfConfigurationObject()},addPropertyAsPromise:function(){var e=this;var t=jQuery.Deferred();var r=sap.apf.modeler.ui.utils.CONSTANTS.events;e.oParentObject.getConsumablePropertiesForTopN().done(function(o){e.getView().fireEvent(r.ADDPROPERTY,{oSourceView:e.getView(),sProperty:o.consumable[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved();t.resolve()});return t.promise()}});return t},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/titleBreadCrumb.controller", ["sap/ui/core/mvc/Controller"],function(){"use strict";sap.ui.controller("sap.apf.modeler.ui.controller.titleBreadCrumb",{setTitleForDetailPage:function(e){var t=this;t.byId("IdFormTitle").setText(e)}})});
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/toolbar.controller", ["sap/m/Label","sap/m/Text","sap/ui/core/Fragment","sap/ui/core/Popup","sap/ui/core/UIComponent","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/apf/modeler/ui/utils/constants","sap/ui/core/syncStyleClass"],function(e,t,i,n,o,a,s,r,g,d,f){"use strict";return a.extend("sap.apf.modeler.ui.controller.toolbar",{onInit:function(){this.oCoreApi=this.getView().getViewData().oConfigListInstance.oCoreApi;this.oConfigListInstance=this.getView().getViewData().oConfigListInstance;this._setDisplayText()},_setDisplayText:function(){this.byId("idAddButton").setText(this.oCoreApi.getText("addButton"));this.byId("idCopyButton").setText(this.oCoreApi.getText("copyButton"));this.byId("idDeleteButton").setText(this.oCoreApi.getText("deleteButton"));this.byId("idMoveUp").setTooltip(this.oCoreApi.getText("moveUp"));this.byId("idMoveDown").setTooltip(this.oCoreApi.getText("moveDown"))},enableCopyDeleteButton:function(){if(!this.byId("idCopyButton").getEnabled()){this.byId("idCopyButton").setEnabled(true)}if(!this.byId("idDeleteButton").getEnabled()){this.byId("idDeleteButton").setEnabled(true)}},disableCopyDeleteButton:function(){if(this.byId("idCopyButton").getEnabled()){this.byId("idCopyButton").setEnabled(false)}if(this.byId("idDeleteButton").getEnabled()){this.byId("idDeleteButton").setEnabled(false)}},_setAddMenuText:function(){i.byId("idAddMenuFragment","idNewConfig").setText(this.oCoreApi.getText("newConfiguration"));i.byId("idAddMenuFragment","idNewFacetFilter").setText(this.oCoreApi.getText("newFacetFilter"));i.byId("idAddMenuFragment","idNewCategory").setText(this.oCoreApi.getText("newCategory"));i.byId("idAddMenuFragment","idNewNavigationTarget").setText(this.oCoreApi.getText("newNavigationTarget"));i.byId("idAddMenuFragment","idStep").setText(this.oCoreApi.getText("step"));i.byId("idAddMenuFragment","idNewStep").setText(this.oCoreApi.getText("newStep"));i.byId("idAddMenuFragment","idExistingStep").setText(this.oCoreApi.getText("existingStep"));i.byId("idAddMenuFragment","idHierarchicalStep").setText(this.oCoreApi.getText("hierarchicalStep"));i.byId("idAddMenuFragment","idNewRepresentation").setText(this.oCoreApi.getText("newRepresentation"))},_setExistingStepDialogText:function(){i.byId("idExistingStepDialogFragment","idExistingStepDialog").setTitle(this.oCoreApi.getText("existingStepDialogTitle"))},_enableDisableAddMenuItems:function(e,t){var i;var n=t.getItems();var o,a={};if(this.oConfigListInstance.configEditor){i=Object.keys(this.oConfigListInstance.configEditor.getFilterOption())[0]}if(this.oConfigListInstance.configurationHandler.getList().length===0||e===null){o="default"}else{o=e.nodeObjectType}a["default"]=1;a[d.configurationObjectTypes.CONFIGURATION]=4;a[d.configurationObjectTypes.FACETFILTER]=4;a[d.configurationObjectTypes.SMARTFILTERBAR]=4;a[d.configurationObjectTypes.CATEGORY]=5;a[d.configurationObjectTypes.STEP]=6;a[d.configurationObjectTypes.REPRESENTATION]=6;a[d.configurationObjectTypes.NAVIGATIONTARGET]=4;n.forEach(function(e,t){if(t<a[o]){e.setEnabled(true);if(i!==d.configurationObjectTypes.FACETFILTER&&t===1){e.setEnabled(false)}}else{e.setEnabled(false)}})},_handlePressAddButton:function(e){var t;var i=this,o=true;if(this.oConfigListInstance.getView().byId("idConfigDetailData").getContent().length>=1){t=typeof this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined}e.getSource().$().blur();var a=sap.apf.modeler.ui.utils.navigationHandler.getInstance();if(t!==undefined){o=typeof t.getValidationState==="function"?t.getValidationState.call(t):true}var s=this.oConfigListInstance.configEditor?jQuery.extend(true,{},this.oConfigListInstance.configEditor):undefined;this.oConfigListInstance.bIsSaved=s?s.isSaved():undefined;var r=false;var g=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var d=e.getSource();var f=function(){if(!this.addMenu){this.addMenu=new sap.ui.xmlfragment("idAddMenuFragment","sap.apf.modeler.ui.fragment.addMenu",this);this.getView().addDependent(this.addMenu);this._setAddMenuText()}var e=n.Dock;this._enableDisableAddMenuItems(g,this.addMenu);this.addMenu.open(false,d,e.BeginTop,e.BeginBottom,d)};if(!o){a.throwMandatoryPopup(i.oConfigListInstance,{yes:function(){var e=i.oConfigListInstance.oTreeInstance.getParentNodeContext(g);i.oConfigListInstance.configEditor=i.oConfigListInstance.configurationHandler.restoreMemorizedConfiguration(e.configId);if(i.oConfigListInstance.bIsSaved===false&&i.oConfigListInstance.configEditor){i.oConfigListInstance.configEditor.setIsUnsaved()}var t=i.oConfigListInstance._navMandatoryResetState(i.oConfigListInstance);if(!t.isNewView){f.call(i)}}});r=true}if(!r){f.call(i)}},_handleAddMenuItemPress:function(e){var t=this.addMenu.getItems();var i=e.getParameters("item");var n;var o={"idAddMenuFragment--idNewFacetFilter":d.configurationObjectTypes.FACETFILTER,"idAddMenuFragment--idNewCategory":d.configurationObjectTypes.CATEGORY,"idAddMenuFragment--idNewStep":d.configurationObjectTypes.STEP,"idAddMenuFragment--idHierarchicalStep":d.configurationObjectTypes.STEP,"idAddMenuFragment--idNewRepresentation":d.configurationObjectTypes.REPRESENTATION,"idAddMenuFragment--idNewConfig":d.configurationObjectTypes.CONFIGURATION,"idAddMenuFragment--idNewNavigationTarget":d.configurationObjectTypes.NAVIGATIONTARGET,default:d.configurationObjectTypes.CONFIGURATION};t.forEach(function(e){if(e.getId()===i.id){n=o[e.getId()]}else if(e.getSubmenu()){e.getSubmenu().getItems().forEach(function(e){if(e.getId()===i.id){n=o[e.getId()]}})}});var a=false;if(i.id==="idAddMenuFragment--idExistingStep"){this._handleAddExistingStepPress()}else if(i.id!=="idAddMenuFragment--idStep"&&n!==undefined){if(i.id==="idAddMenuFragment--idHierarchicalStep"){a=true}this.oConfigListInstance.oTreeInstance.addNodeInTree(n,undefined,a)}},_copyConfiguration:function(e,t){var i=this.oConfigListInstance.configurationHandler.getConfiguration(e);var n={},a;n.AnalyticalConfiguration=i.AnalyticalConfiguration;n.name="< "+i.AnalyticalConfigurationName+" >";n.Application=i.Application;n.type=d.configurationObjectTypes.CONFIGURATION;n.bIsLoaded=false;n.bToggleState=false;n.isSelected=true;n.expanded=true;n.selectable=true;n.hasExpander=true;this.oConfigListInstance.oModel.getData().aConfigDetails.push(n);this.oConfigListInstance.oModel.updateBindings();a=this.oConfigListInstance.oTreeInstance.getModel().getContext(t);this.oConfigListInstance.selectedNode=this.oConfigListInstance.oTreeInstance.getItemNodeByContextWithoutExpand(a.sPath);this.oConfigListInstance.modelUpdateDeferred[this.oConfigListInstance.oModel.getData().aConfigDetails.length-1]=new jQuery.Deferred;var s={appId:this.oConfigListInstance.appId,configId:e};o.getRouterFor(this.oConfigListInstance).navTo(n.type,s,true)},_handlePressCopyButton:function(t){var i=jQuery.Deferred();var n,o;var a=this,s=true;if(this.oConfigListInstance.getView().byId("idConfigDetailData").getContent().length>=1){n=typeof this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined}t.getSource().$().blur();var r=sap.apf.modeler.ui.utils.navigationHandler.getInstance();if(n!==undefined){s=typeof n.getValidationState==="function"?n.getValidationState.call(n):true}var g=this.oConfigListInstance.configEditor?jQuery.extend(true,{},this.oConfigListInstance.configEditor):undefined;this.oConfigListInstance.bIsSaved=g?g.isSaved():undefined;var f=false;var c=function(){var e=this;var t;var n=this.oTreeInstance.getAPFTreeNodeContext(this.oTreeInstance.getSelectedItem()||this.selectedNode);this.selectedNode=this.oTreeInstance.getSelectedItem()||this.selectedNode;var s,r,g,f,c,l,p,I,C,u;g=n.nodeContext;switch(n.nodeObjectType){case d.configurationObjectTypes.FACETFILTER:var h=this.oCoreApi.getText("copyOf")+"  "+n.nodeTitle;var T=this.configEditor.copyFacetFilter(n.nodeAPFId);var v=this.configEditor.getFacetFilter(T);var D=sap.apf.modeler.ui.utils.TranslationFormatMap.FACETFILTER_LABEL;this.oTextPool.setTextAsPromise(h,D).done(function(e){v.setLabelKey(e);c=g.split("/");o=c[2];l=c[6];var t=this.oModel.getData().aConfigDetails[o].configData[0].filters[l];t.isSelected=false;var i=jQuery.extend(true,{},t);i.id=T;i.name="< "+h+" >";i.isSelected=true;f=this.oModel.getData().aConfigDetails[o].configData[0].filters.length;this.oModel.getData().aConfigDetails[o].configData[0].filters.push(i);c[6]=f;r=c.join("/");K()}.bind(this));break;case d.configurationObjectTypes.CATEGORY:var m=this.oCoreApi.getText("copyOf")+"  "+n.nodeTitle;var y=this.configEditor.copyCategory(n.nodeAPFId);var L=sap.apf.modeler.ui.utils.TranslationFormatMap.CATEGORY_TITLE;this.oTextPool.setTextAsPromise(m,L).done(function(i){var n={labelKey:i};this.configEditor.setCategory(n,y);c=g.split("/");o=c[2];p=c[6];var a=[];var s=this.configEditor.getSteps();s.forEach(function(t){if(e.configEditor.getCategoriesForStep(t.getId())[0]===y){a.push(t.getId())}});var d=this.oModel.getData().aConfigDetails[o].configData[1].categories[p];d.isSelected=false;var l=jQuery.extend(true,{},d);if(l.steps){for(var I=0;I<l.steps.length;I++){l.steps[I].id=a[I];var C=e.configEditor.getStep(a[I]);t=C.getRepresentations();if(l.steps[I].representations){for(var u=0;u<l.steps[I].representations.length;u++){l.steps[I].representations[u].id=t[u].getId()}}}}l.id=y;l.name="< "+m+" >";l.isSelected=true;f=this.oModel.getData().aConfigDetails[o].configData[1].categories.length;this.oModel.getData().aConfigDetails[o].configData[1].categories.push(l);c[6]=f;r=c.join("/");K()}.bind(this));break;case d.configurationObjectTypes.NAVIGATIONTARGET:var b=this.oCoreApi.getText("copyOf")+"  "+n.nodeTitle;var A=this.configEditor.copyNavigationTarget(n.nodeAPFId);c=g.split("/");o=c[2];I=c[6];var x=this.oModel.getData().aConfigDetails[o].configData[2].navTargets[I];x.isSelected=false;var E=jQuery.extend(true,{},x);E.id=A;E.name="< "+b+" >";E.isSelected=true;f=this.oModel.getData().aConfigDetails[o].configData[2].navTargets.length;this.oModel.getData().aConfigDetails[o].configData[2].navTargets.push(E);c[6]=f;r=c.join("/");K();a.oConfigListInstance._setNavigationTargetName({configIndexInTree:o});break;case d.configurationObjectTypes.STEP:var S=this.oCoreApi.getText("copyOf")+"  "+n.nodeTitle;var F=this.configEditor.copyStep(n.nodeAPFId);var O=this.configEditor.getCategoriesForStep(F);var N=this.configEditor.getStep(F);var M=sap.apf.modeler.ui.utils.TranslationFormatMap.STEP_TITLE;this.oTextPool.setTextAsPromise(S,M).done(function(e){var i;N.setTitleId(e);c=g.split("/");o=c[2];p=c[6];C=c[8];var n=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C];n.isSelected=false;var s=jQuery.extend(true,{},n);t=N.getRepresentations();s.id=F;s.name="< "+S+" >";if(s.representations){for(i=0;i<s.representations.length;i++){s.representations[i].id=t[i].getId()}}f=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps.length;c[8]=f;r=c.join("/");for(var d=0;d<O.length;d++){var l=jQuery.extend(true,{},s);var I={arguments:{configId:a.oConfigListInstance.configId,categoryId:O[d]}};var u=a.oConfigListInstance.getSPathFromURL(I).sPath.split("/");var h=u[6];this.oModel.getData().aConfigDetails[o].configData[1].categories[h].steps.push(l)}this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[f].isSelected=true;K()}.bind(this));break;case d.configurationObjectTypes.REPRESENTATION:c=g.split("/");o=c[2];p=c[6];C=c[8];u=c[10];var w=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].id;var P=this.configEditor.getStep(w);var j=this.configEditor.getCategoriesForStep(w);this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].representations[u].isSelected=false;var R=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].representations[u];var _=jQuery.extend(true,{},R);var B=P.copyRepresentation(_.id);_.id=B;f=this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].representations.length;c[10]=f;r=c.join("/");for(var V=0;V<j.length;V++){var U=jQuery.extend(true,{},_);var G={arguments:{configId:a.oConfigListInstance.configId,categoryId:j[V],stepId:w}};var k=a.oConfigListInstance.getSPathFromURL(G).sPath.split("/");var H=k[6];var Q=k[8];this.oModel.getData().aConfigDetails[o].configData[1].categories[H].steps[Q].representations.push(U)}this.oModel.getData().aConfigDetails[o].configData[1].categories[p].steps[C].representations[f].isSelected=true;K();break;case d.configurationObjectTypes.CONFIGURATION:var Y=this.oCoreApi.getText("copyOf")+"  "+n.nodeTitle;c=g.split("/");o=c[2];var z=this.oModel.getData().aConfigDetails[o];z.isSelected=false;c[2]=this.oModel.getData().aConfigDetails.length;r=c.join("/");this.configurationHandler.copyConfiguration(n.nodeAPFId,function(t){var i={AnalyticalConfigurationName:Y};var n=e.configurationHandler.setConfiguration(i,t);e.configTitle=Y;e.configurationHandler.loadConfiguration(n,function(t){var i=e.configTitle;var n=sap.apf.modeler.ui.utils.TranslationFormatMap.APPLICATION_TITLE;e.configurationHandler.getTextPool().setTextAsPromise(i,n).done(function(e){t.setApplicationTitle(e)})});a._copyConfiguration(t,r)});break;default:break}function K(){e.oModel.updateBindings();s=e.oTreeInstance.getModel().getContext(r);e.selectedNode=e.oTreeInstance.getItemNodeByContextWithoutExpand(s.sPath);var t=e.oTreeInstance.getAPFTreeNodeContext(e.selectedNode);var n=e.oTreeInstance.getParentNodeContext(t);e.navigateToDifferntView(n,t);e.configEditor.setIsUnsaved();i.resolve()}};var l=function(){var t=(new e).addStyleClass("noConfigSelected");t.setText(a.oConfigListInstance.oCoreApi.getText("noConfigSelected"));t.placeAt(a.oConfigListInstance.byId("idConfigDetailData"));a.oConfigListInstance.toolbarController.disableCopyDeleteButton();a.oConfigListInstance._enableDisableExportAndExecuteButton()};var p;if(!s){r.throwMandatoryPopup(a.oConfigListInstance,{yes:function(){var e=a.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(a.oConfigListInstance.oTreeInstance.getSelectedItem());var t=a.oConfigListInstance.oTreeInstance.getParentNodeContext(e);a.oConfigListInstance.bIsDifferntConfig=a.oConfigListInstance.oTreeInstance.isConfigurationSwitched(a.oConfigListInstance.oPreviousSelectedNode,a.oConfigListInstance.selectedNode);a.oConfigListInstance.configEditor=a.oConfigListInstance.configurationHandler.restoreMemorizedConfiguration(t.configId);if(a.oConfigListInstance.bIsSaved===false&&a.oConfigListInstance.configEditor){a.oConfigListInstance.configEditor.setIsUnsaved()}if(a.oConfigListInstance.bIsDifferntConfig===false){var i=typeof a.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?a.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;var n=a.oConfigListInstance._isNewSubView(i.getView().getViewData().oParams);if(!n){c.call(a.oConfigListInstance);a.oConfigListInstance._navHandleExpandDelete.call(a.oConfigListInstance,a.oConfigListInstance.oSelectedNodeDetails,t)}else{a.oConfigListInstance.handleConfirmDeletion()}}else{var o=a.oConfigListInstance._navMandatoryResetState(a.oConfigListInstance);if(!o.isNewView){if(o.bIsSaved===false){p(a.oConfigListInstance)}else{c.call(a.oConfigListInstance)}}}}});f=true}var I;if(n.getView().getViewData().oParams.name==="configuration"){I=true}p=function(e){r.throwLossOfDataPopup(e,{yes:function(e){a.oConfigListInstance._navSaveState(function(){e(function(e){if(a.oConfigListInstance.selectedNode){var t=a.oConfigListInstance.selectedNode._getBindingContext().sPath;var i=t.split("/");var n=i[2]}a.oConfigListInstance.oModel.getData().aConfigDetails[n].AnalyticalConfiguration=a.oConfigListInstance.configId;a.oConfigListInstance.oModel.updateBindings();c.call(a.oConfigListInstance)})})},no:function(){var e={appId:a.oConfigListInstance.appId,configId:a.oConfigListInstance.configId};var t=typeof a.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?a.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;var i=t.getView().getViewData().oParams.name==="configuration"?true:false;if(a.oConfigListInstance.configId.indexOf(d.configurationObjectTypes.ISNEWCONFIG)===0){a.oConfigListInstance._navHandleExpandDelete.call(a.oConfigListInstance,{},e,i);a.oConfigListInstance.clearTitleAndBreadCrumb();a.oConfigListInstance.byId("idConfigDetailData").removeAllContent();l()}else{a.oConfigListInstance._navConfigResetState(a.oConfigListInstance,function(){c.call(a.oConfigListInstance)})}}})};if(a.oConfigListInstance.bIsSaved===false&&s&&I){p(a.oConfigListInstance);f=true}if(!f){c.call(a.oConfigListInstance)}return i.promise()},_handlePressDeleteButton:function(e){var t;var i=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var n=this.oCoreApi.getText(i.nodeObjectType);e.getSource().$().blur();if(i.nodeObjectType===d.configurationObjectTypes.STEP){t=this.oCoreApi.getText("confirmStepDeletion",[i.nodeTitle])}else{t=this.oCoreApi.getText("confirmDeletion",[n,i.nodeTitle])}this._openDeleteConfirmationDialog(t)},_openDeleteConfirmationDialog:function(e){var i=this;var n=jQuery.extend(i.oConfigListInstance,{closeDialog:i.closeDialog.bind(i)});if(!this.confirmationDialog){this.confirmationDialog=sap.ui.xmlfragment("idConfigConfirmationDialogFragment","sap.apf.modeler.ui.fragment.deleteConfirmationDialog",n);this.getView().addDependent(this.confirmationDialog);this._setConfirmationDialogText()}var o=new t;o.setText(e);this.confirmationDialog.removeAllContent();this.confirmationDialog.addContent(o);this.confirmationDialog.addAriaDescribedBy(o);f("sapUiSizeCompact",this.getView(),this.confirmationDialog);this.confirmationDialog.open()},closeDialog:function(){if(this.confirmationDialog&&this.confirmationDialog.isOpen()){this.confirmationDialog.close()}},_setConfirmationDialogText:function(){i.byId("idConfigConfirmationDialogFragment","idDeleteConfirmation").setTitle(this.oCoreApi.getText("confirmation"));i.byId("idConfigConfirmationDialogFragment","idDeleteButton").setText(this.oCoreApi.getText("deleteButton"));i.byId("idConfigConfirmationDialogFragment","idCancelButtonDialog").setText(this.oCoreApi.getText("cancel"))},_handlePressMoveUpButton:function(){this.bIsDown=false;var e=this.oConfigListInstance.oTreeInstance.getSelectedItem();if(e!==null){var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(e);if(t!==undefined){this._moveUpOrDown(t,this.bIsDown)}}},_handlePressMoveDownButton:function(){this.bIsDown=true;var e=this.oConfigListInstance.oTreeInstance.getSelectedItem();if(e!==null){var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(e);if(t!==undefined){this._moveUpOrDown(t,this.bIsDown)}}},_moveUpOrDown:function(e,t){var i=e.nodeObjectType;var n=e.nodeAPFId;var o=e.nodeContext;var a=o.split("/")[2];var s,r,g,f,c;var l=false;var p=o.split("/")[o.split("/").length-1];switch(i){case d.configurationObjectTypes.FACETFILTER:s=this.oConfigListInstance.oModel.getData().aConfigDetails[a].configData[0].filters;c=s.length;if(t){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveFacetFilterUpOrDown(n,1);r=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveFacetFilterUpOrDown(n,-1);r=parseInt(p,10)-1;l=true}}break;case d.configurationObjectTypes.CATEGORY:s=this.oConfigListInstance.oModel.getData().aConfigDetails[a].configData[1].categories;c=s.length;if(t){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveCategoryUpOrDown(n,1);r=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveCategoryUpOrDown(n,-1);r=parseInt(p,10)-1;l=true}}break;case d.configurationObjectTypes.NAVIGATIONTARGET:s=this.oConfigListInstance.oModel.getData().aConfigDetails[a].configData[2].navTargets;c=s.length;if(t){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveNavigationTargetUpOrDown(n,1);r=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveNavigationTargetUpOrDown(n,-1);r=parseInt(p,10)-1;l=true}}break;case d.configurationObjectTypes.STEP:var I=o.split("/")[6];var C=this.oConfigListInstance.oModel.getData().aConfigDetails[a].configData[1].categories[I];s=C.steps;c=s.length;if(t){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveCategoryStepAssignmentUpOrDown(C.id,n,1);r=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveCategoryStepAssignmentUpOrDown(C.id,n,-1);r=parseInt(p,10)-1;l=true}}break;case d.configurationObjectTypes.REPRESENTATION:var u=this.oConfigListInstance.oTreeInstance.getSelectedItem();var h=u.getParentNode();var T=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(h).nodeAPFId;var v=this.oConfigListInstance.configEditor.getStep(T);I=o.split("/")[6];var D=o.split("/")[8];s=this.oConfigListInstance.oModel.getData().aConfigDetails[a].configData[1].categories[I].steps[D].representations;c=s.length;if(t){if(parseInt(p,10)!==c-1){v.moveRepresentationUpOrDown(n,1);r=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){v.moveRepresentationUpOrDown(n,-1);r=parseInt(p,10)-1;l=true}}break;default:break}if(l){g=s[p];f=s[r];s[r]=g;s[p]=f;this.oConfigListInstance.oModel.updateBindings();this.oConfigListInstance.configEditor.setIsUnsaved()}},_handleAddExistingStepPress:function(){var e=this;var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var i=this.oConfigListInstance.oTreeInstance.getParentNodeContext(t).categoryId;var n=this.oConfigListInstance.configEditor.getStepsNotAssignedToCategory(i);var o;var a=[];n.forEach(function(t){var i={};var n=e.oConfigListInstance.configEditor.getStep(t);o=e.oConfigListInstance.oTextPool.get(n.getTitleId()).TextElementDescription;i.id=t;i.name=o;a.push(i)});var s=new g({existingStepData:a});if(!this.addExistingStepDialog){this.addExistingStepDialog=sap.ui.xmlfragment("idExistingStepDialogFragment","sap.apf.modeler.ui.fragment.existingStepDialog",this);this._setExistingStepDialogText()}this.getView().addDependent(this.addExistingStepDialog);this.addExistingStepDialog.setModel(s);this.addExistingStepDialog.open()},_handleExistingStepDialogOK:function(e){var t=d.configurationObjectTypes.STEP;var i=e.getParameters("listItem").selectedItems;var n=i.length;var o=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var a=this.oConfigListInstance.oTreeInstance.getParentNodeContext(o).categoryId;var s=[];for(var r=0;r<n;r++){var g=e.getParameters("selectedItems").selectedContexts[r].sPath.split("/")[2];var f=e.getSource().getModel().getData().existingStepData[g];var c=this.oConfigListInstance.configEditor.getStep(f.id);this.oConfigListInstance.configEditor.addCategoryStepAssignment(a,f.id);var l=c.getRepresentations();var p=l.length;var I=[];for(var C=0;C<p;C++){var u={};u.id=l[C].getId();u.name=l[C].getRepresentationType();u.icon=this._getRepresentationIcon(u.name);I.push(u)}var h={};h.step=f;h.representations=I;h.noOfReps=p;s.push(h)}if(n!==0){var T={noOfSteps:n,aExistingStepsToBeAdded:s};this.oConfigListInstance.oTreeInstance.addNodeInTree(t,T)}},_getRepresentationIcon:function(e){var t;var i=this.oCoreApi.getRepresentationTypes();for(var n=0;n<i.length;n++){if(e===i[n].id){t=i[n].picture;break}}return t},_handleExistingStepDialogSearch:function(e){var t=e.getParameter("value");var i=new s("name",r.Contains,t);var n=e.getSource().getBinding("items");n.filter([i])},_handleExistingStepDialogClose:function(e){if(this.addExistingStepDialog){e.getSource().getBinding("items").filter([])}}})},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/APFRouter", ["sap/ui/core/UIComponent"],function(e){"use strict";var t={patternMatch:function(t){this.params={};var a=this;e.getRouterFor(t).attachRoutePatternMatched(function(e){a.params={name:e.getParameter("name"),arguments:e.getParameter("arguments")};t.getView().byId("idConfigMasterData").setBusy(true);t.getView().byId("idConfigDetail").setBusy(true);if(a.params.name!=="applicationList"){var i=t.oCoreApi;t.appId=a.params.arguments.appId;t.configId=a.params.arguments.configId;i.getApplicationHandler(function(e){t.applicationHandler=e;t.appName=e.getApplication(t.appId).ApplicationName;var n=t.byId("idConfigTitleMaster").getText();if(n===""||a.params.name==="configurationList"){t.setConfigListMasterTitle(t.appName);t.oTreeInstance.setApplicationId(a.params.arguments.appId)}i.getConfigurationHandler(t.appId,function(e){t.configurationHandler=e;t.oTextPool=t.configurationHandler.getTextPool();if(t.configurationHandler.getList().length>t.getView().getModel().getData().aConfigDetails.length){t.createConfigList();if(a.params.name==="configurationList"){t.updateConfigListView()}}if(t.configurationHandler.getList().length===0&&t.configId===undefined){t.oTreeInstance.addNodeInTree(sap.apf.modeler.ui.utils.CONSTANTS.configurationObjectTypes.CONFIGURATION);var i=t.oTreeInstance.getItems();var n=i[i.length-1];t.oTreeInstance.setSelectedItem(n);t.oTreeInstance.expand(0);t.getView().byId("idConfigDetail").setBusy(false)}else if(t.configId===undefined){t.oTreeInstance.expandToLevel(1);t.oTreeInstance.collapseAll()}if(t.configId!==undefined){var o=e.getConfiguration(t.configId);if(o){e.loadConfiguration(t.configId,function(e){t.configEditor=e;var i=t.getSPathForConfig(t.configId);if(t.oModel.getData().aConfigDetails[i.split("/")[2]].bIsLoaded===false){t.updateTree();if(a.params.name!=="navigationTarget"){a.setCurrentSelectionState(a.params,t)}}else{a.setCurrentSelectionState(a.params,t)}})}else{a.setCurrentSelectionState(a.params,t)}}t.getView().byId("idConfigMasterData").setBusy(false)})})}})},setCurrentSelectionState:function(e,t){var a=t.getSPathFromURL(e);if(e.name!=="configurationList"){if(a&&a.objectType){if(e.name==="step"){var i=t.getStepConfigDataBysPath(a.sPath);e.bIsHierarchicalStep=i&&i.bIsHierarchicalStep?true:false}t.updateSubView(e);if(a.sPath){t.setSelectionOnTree(a)}t.updateTitleAndBreadCrumb()}else{t.showNoConfigSelectedText();t.removeSelectionOnTree()}}t.getView().byId("idConfigDetail").setBusy(false)}};return t},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/utils/APFTree", ["sap/apf/modeler/ui/utils/constants","sap/m/Tree","sap/m/TreeRenderer"],function(e,t,a){"use strict";var n=t.extend("sap.apf.modeler.ui.utils.APFTree",{metadata:{events:{},properties:{translationFunction:{},defaultRepresentationType:{},applicationId:{}}},previousSelectedItem:null,renderer:function(e,t){a.render(e,t)},setTranslationFunction:function(e){this.fnTranslationFunction=e},setDefaultRepresentationType:function(e){this.defaultRepresentationType=e},setApplicationId:function(e){this.applicationId=e},getAPFTreeNodeContext:function(e){if(e){var t=e?e._getBindingContext():undefined;var a=t.getObject()?t.getObject().type:undefined;var n;if(t.getObject()&&t.getObject().id){n=t.getObject().id}else if(t.getObject()&&t.getObject().AnalyticalConfiguration){n=t.getObject().AnalyticalConfiguration}return{oNode:e,nodeContext:t.sPath,nodeObjectType:a,nodeTitle:e.getTitle(),nodeAPFId:n}}return null},getItemNodeByContext:function(e){var t=this;var a=e.split("/");switch(a.length){case 3:t.expandToLevel(0);break;case 7:t.expandToLevel(2);break;case 9:t.expandToLevel(3);break;case 11:t.expandToLevel(4);break;default:break}for(var n=0;n<this.getItems().length;n++){var i=this.getItems()[n];if(i._getBindingContext().sPath===e){return i}}return null},getItemNodeByContextWithoutExpand:function(e){for(var t=0;t<this.getItems().length;t++){var a=this.getItems()[t];if(a._getBindingContext().sPath===e){return a}}return null},getParentNodeContext:function(t){var a=this.getModel();if(t!==null){var n=t.nodeContext.split("/")[2];var i=a.getData().aConfigDetails[n]?a.getData().aConfigDetails[n].AnalyticalConfiguration:undefined;var s;var o=t.nodeContext.split("/")[6];var g=t.nodeContext.split("/")[6];var r=t.nodeContext.split("/")[6];var d=t.nodeContext.split("/")[8];var c={};if(t!==null){switch(t.nodeObjectType){case e.configurationObjectTypes.FACETFILTER:c.facetFilterId=a.getData().aConfigDetails[n].configData[0].filters[g].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.facetFilterName=a.getData().aConfigDetails[n].configData[0].filters[g].name;break;case e.configurationObjectTypes.SMARTFILTERBAR:c.smartFilterId=a.getData().aConfigDetails[n].configData[0].filters[g].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.smartFilterName=a.getData().aConfigDetails[n].configData[0].filters[g].name;break;case e.configurationObjectTypes.CATEGORY:if(a.getData().aConfigDetails[n].configData!=undefined){c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name}break;case e.configurationObjectTypes.STEP:c.configId=i;c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.stepId=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].id;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name;c.stepName=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].name;break;case e.configurationObjectTypes.REPRESENTATION:s=t.oNode;c.configId=i;c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.stepId=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].id;c.representationId=s._getBindingContext().getObject().id;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name;c.stepName=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].name;c.representationName=s._getBindingContext().getObject().name;break;case e.configurationObjectTypes.CONFIGURATION:c.configId=t.oNode._getBindingContext().getObject().AnalyticalConfiguration;c.configurationName=t.oNode._getBindingContext().getObject().name;break;case e.configurationObjectTypes.NAVIGATIONTARGET:c.navTargetId=a.getData().aConfigDetails[n].configData[2].navTargets[r].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.navTargetName=a.getData().aConfigDetails[n].configData[2].navTargets[r].name;break;default:break}if(a.getData().aConfigDetails&&a.getData().aConfigDetails[n]){c.appId=a.getData().aConfigDetails[n].Application}}return c}},isConfigurationSwitched:function(e,t){var a=false,n,i;var s=this.getParentNodeContext(this.getAPFTreeNodeContext(e));var o=this.getParentNodeContext(this.getAPFTreeNodeContext(t));n=s?s.configId:undefined;if(s&&!jQuery.isEmptyObject(s)&&s.configId===undefined){i=this.getAPFTreeNodeContext(e).nodeContext.split("/")[2];n=this.getModel().getData().aConfigDetails[i].AnalyticalConfiguration}if(n!==undefined&&n!==o.configId){a=true}return a},removeSelectionOnTree:function(e){var t=this.getSelectedItem();if(e){e._getBindingContext().getObject().isSelected=false;e.setSelected(false)}else if(t){t._getBindingContext().getObject().isSelected=false;t.setSelected(false)}this.getModel().updateBindings()},setSelectionOnTree:function(e){this.selectedNode=this.getItemNodeByContextWithoutExpand(e);var t=this.getSelectedItem();if(t!==this.selectedNode){if(t&&t._getBindingContext().getObject()){t.getBindingContext().getObject().isSelected=false;t.setSelected(false)}this.setSelectedItem(this.selectedNode)}},_scrollTreeToNewNode:function(e){if(e&&e.$().length!==0){jQuery(e.$())[0].scrollIntoView()}},setSelectedNode:function(e){this.setSelectedItem(e.getItemNodeContext());this.getModel().updateBindings();this._scrollTreeToNewNode(e)},addNodeInTree:function(t,a,n){var i;var s=this.getAPFTreeNodeContext(this.getSelectedItem());var o=s?s.nodeContext.split("/")[2]:undefined;var g=s?s.nodeContext.split("/")[6]:undefined;var r=s?s.nodeContext.split("/")[8]:undefined;i=["_add",t].join("");this[i](o,g,r,a,n);var d=this._getObjectNodesArray(t,o,g,r);var c=d[d.length-1];if(c!==undefined){if(t!==e.configurationObjectTypes.CONFIGURATION){this.onItemExpanderPressed(c,true)}this.setSelectedItem(c)}},_getObjectNodesArray:function(t,a,n,i){var s=[];switch(t){case e.configurationObjectTypes.CONFIGURATION:s=this.getItems();break;case e.configurationObjectTypes.FACETFILTER:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){for(var f=1;f<c;f++){s.push(this.getItems()[parseInt(d,10)+1+f])}}this.expandToLevel(1);break;case e.configurationObjectTypes.CATEGORY:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;var l=parseInt(d,10)+2+c;var p=this.getItems()[parseInt(l,10)].getItemNodeContext().children.length;for(var f=1;f<p;f++){s.push(this.getItems()[parseInt(l,10)+1+f])}}this.expandToLevel(1);break;case e.configurationObjectTypes.STEP:break;case e.configurationObjectTypes.REPRESENTATION:break;case e.configurationObjectTypes.NAVIGATIONTARGET:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;var l=parseInt(d,10)+2+c;var p=this.getItems()[l].getItemNodeContext().children.length;var D=l+p+1;var u=this.getItems()[D].getItemNodeContext().children.length;for(var f=1;f<u;f++){s.push(this.getItems()[D+1+f])}}this.expandToLevel(1);break;default:break}return s},_addconfiguration:function(){var t=this;this.configNewIndex=this.configNewIndex||1;var a=this.getModel();var n;n="I"+this.configNewIndex;this.configNewIndex++;var i=[],s=[],o=[],g=[];i.push({filters:s,name:t.fnTranslationFunction("facetFilters"),isSelected:false,expanded:false,selectable:false});i.push({categories:o,name:t.fnTranslationFunction("categories"),isSelected:false,expanded:false,selectable:false});i.push({navTargets:g,name:t.fnTranslationFunction("navigationTargets"),isSelected:false,expanded:false,selectable:false});var r={};r.configData=i;var d=this.fnTranslationFunction("newConfiguration");var c={name:"< "+d+" >",type:e.configurationObjectTypes.CONFIGURATION,AnalyticalConfiguration:"newConfig"+n,Application:this.applicationId,configData:i,bIsLoaded:true,isSelected:false,expanded:false,selectable:true};a.getData().aConfigDetails.push(c);a.updateBindings()},_addfacetFilter:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newFacetFilter");var i=a.getData().aConfigDetails[t].configData[0].filters.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.FACETFILTER,id:"newFilter"+i,isSelected:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[0].expanded=true;a.getData().aConfigDetails[t].configData[0].filters.push(s);a.updateBindings()},_addnavigationTarget:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newNavigationTarget");var i=a.getData().aConfigDetails[t].configData[2].navTargets.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.NAVIGATIONTARGET,id:"newNavTarget"+i,isSelected:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[2].expanded=true;a.getData().aConfigDetails[t].configData[2].navTargets.push(s);a.updateBindings()},_addcategory:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newCategory");var i=a.getData().aConfigDetails[t].configData[1].categories.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.CATEGORY,id:"newCategory"+i,isSelected:false,expanded:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[1].expanded=true;a.getData().aConfigDetails[t].configData[1].categories.push(s);a.updateBindings()},_addstep:function(t,a,n,i,s){var o=this.getModel();var g;var s=s&&s===true?true:false;if(o.getData().aConfigDetails[t].configData[1].categories[a].steps===undefined){o.getData().aConfigDetails[t].configData[1].categories[a].steps=[]}if(!i){var r=o.getData().aConfigDetails[t].configData[1].categories[a].steps.length;var d=this.fnTranslationFunction("newStep");g={name:"< "+d+" >",type:e.configurationObjectTypes.STEP,id:"newStep"+r,isSelected:false,expanded:false,selectable:true,bIsHierarchicalStep:s};o.getData().aConfigDetails[t].expanded=true;o.getData().aConfigDetails[t].configData[1].expanded=true;o.getData().aConfigDetails[t].configData[1].categories[a].expanded=true;o.getData().aConfigDetails[t].configData[1].categories[a].steps.push(g)}else{var c,f,l;for(f=0;f<i.noOfSteps;f++){c={name:i.aExistingStepsToBeAdded[f].step.name,type:e.configurationObjectTypes.STEP,id:i.aExistingStepsToBeAdded[f].step.id,isSelected:false,expanded:false,selectable:true,icon:s===true?"sap-icon://drill-down":"sap-icon://step"};o.getData().aConfigDetails[t].configData[1].categories[a].steps.push(c);if(i.aExistingStepsToBeAdded[f].noOfReps!==0){n=o.getData().aConfigDetails[t].configData[1].categories[a].steps.length-1;for(l=0;l<i.aExistingStepsToBeAdded[f].noOfReps;l++){var p={id:i.aExistingStepsToBeAdded[f].representations[l].id,name:i.aExistingStepsToBeAdded[f].representations[l].name,icon:i.aExistingStepsToBeAdded[f].representations[l].icon};this._addrepresentation(t,a,n,p)}}}}o.updateBindings()},_addrepresentation:function(t,a,n,i){var s=this.getModel();var o=this;var g;if(i===undefined){var r=this.getAPFTreeNodeContext(this.getSelectedItem());if(r.nodeObjectType===e.configurationObjectTypes.REPRESENTATION){g=this.getParentNodeContext(r,s).stepId}else if(r.nodeObjectType===e.configurationObjectTypes.STEP){g=r.nodeAPFId}var d=[];s.getData().aConfigDetails[t].configData[1].categories.forEach(function(e,a){if(s.getData().aConfigDetails[t].configData[1].categories[a].steps){s.getData().aConfigDetails[t].configData[1].categories[a].steps.forEach(function(e,t){var n={};if(e.id===g){n.stepIndex=t;n.categoryIndex=a;d.push(n)}})}});d.forEach(function(a){if(s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations===undefined){s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations=[]}var n=s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations.length;var i={name:o.fnTranslationFunction(o.defaultRepresentationType),type:e.configurationObjectTypes.REPRESENTATION,id:"newRepresentation"+n,isSelected:false,selectable:true};s.getData().aConfigDetails[t].expanded=true;s.getData().aConfigDetails[t].configData[1].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations.push(i)})}else{if(s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations===undefined){s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations=[]}var c={name:i.name,type:e.configurationObjectTypes.REPRESENTATION,id:i.id,isSelected:false,selectable:true,icon:i.icon};s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations.push(c)}s.updateBindings()}});sap.apf.modeler.ui.utils.APFTree=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/constants", function(){"use strict";var e={configurationObjectTypes:{CONFIGURATION:"configuration",FACETFILTER:"facetFilter",SMARTFILTERBAR:"smartFilterBar",CATEGORY:"category",STEP:"step",REPRESENTATION:"representation",NAVIGATIONTARGET:"navigationTarget",ISNEWCONFIG:"apf1972-"},events:{UPDATESUBVIEWINSTANCESONRESET:"updateSubViewInstancesOnResetEvent",ADDPROPERTY:"addProperty",REMOVEPROPERTY:"removeProperty",SETNEXTPROPERTYINPARENTOBJECT:"setNextPropertyInParentObject",REMOVECURRENTPROPERTYFROMPARENTOBJECT:"removeCurrentPropertyFromParentObject",REMOVEPROPERTYFROMPARENTOBJECT:"removePropertyFromParentObject",REMOVEALLPROPERTIESFROMPARENTOBJECT:"removeAllPropertiesFromParentObject",UPDATEPROPERTYVALUESTATE:"updatePropertyValueState",SETFOCUSONADDICON:"setFocusOnAddIcon",FOCUSONREMOVE:"focusOnRemove",SETFOCUSONREMOVEICON:"setFocusOnRemoveIcon",UPDATEPROPERTY:"updateProperty",REMOVEADDEDPROPERTYFROMOTHERPROPERTYTYPE:"removeAddedPropertyFromOtherPropertyType",ADDREMOVEDPROPERTYFROMOTHERPROPERTYTYPE:"addRemovedPropertyFromOtherPropertyType",facetFilter:{ENABLEDISABLEFRRFIELDS:"enableDisableFRRFields",USESAMEASVHR:"useSameAsVHR",CLEARVHRFIELDSIFVALUELIST:"clearVHRFieldsIfValueList",DONOTSHOWATRUNTIME:"doNotShowAtRuntime",UPDATEPROPERTIES:"updatePropertiesInConfiguration"},step:{SETTOPNPROPERTIES:"setTopNProperties",SETDATAREDUCTIONSECTION:"setDataReductionSection",SETVISIBILITYOFFILTERMAPPINGFIELDS:"setVisibilityOfFilterMappingFields",RESETFILTERMAPPINGFIELDS:"resetFilterMappingFields",UPDATEFILTERMAPPINGFIELDS:"updateFilterMappingFields"},representation:{SETCHARTICON:"setChartIcon"}},propertyTypes:{HIERARCHIALCOLUMN:"hierarchicalColumn",DIMENSION:"dimensions",MEASURE:"measures",LEGEND:"legend",PROPERTY:"property",REPRESENTATIONSORT:"representationSort",STEPSORT:"stepSort"},aggregationRoles:{DIMENSION:"dimension",MEASURE:"measure"},similarChartTypes:["ColumnChart","BarChart","LineChart","StackedColumnChart","StackedBarChart","PercentageStackedColumnChart","PercentageStackedBarChart"],texts:{NOTAVAILABLE:"notavailableText"}};sap.apf.modeler.ui.utils.CONSTANTS=e;return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/displayOptionsValueBuilder", ["sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";function a(e,t){this.oTextReader=e;this.oOptionsValueModelBuilder=t}a.prototype.constructor=a;a.prototype.getLabelDisplayOptions=function(){var e=[{key:"key",name:this.oTextReader("key")},{key:"text",name:this.oTextReader("text")},{key:"keyAndText",name:this.oTextReader("keyAndText")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};a.prototype.getMeasureDisplayOptions=function(){var e=[{key:"line",name:this.oTextReader("line")},{key:"bar",name:this.oTextReader("column")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};a.prototype.getValidatedLabelDisplayOptions=function(){var e=sap.apf.modeler.ui.utils.textManipulator;var t=[{key:"key",name:this.oTextReader("key")},{key:e.addPrefixText(["text"],this.oTextReader)[0],name:e.addPrefixText([this.oTextReader("text")],this.oTextReader)[0]},{key:e.addPrefixText(["keyAndText"],this.oTextReader)[0],name:e.addPrefixText([this.oTextReader("keyAndText")],this.oTextReader)[0]}];return this.oOptionsValueModelBuilder.prepareModel(t,t.length)};t("sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder",a);return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/helper", function(){"use strict";var e={onResize:function(e){window.addEventListener("resize",function(){e()})}};return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/labelForRepresentationTypes", function(){"use strict";var e=function(e){this.oTextReader=e};e.prototype.getLabelsForChartType=function(e,r){var t={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-yaxis")};var o={xAxis:this.oTextReader("dim-for-yaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-xaxis")};var i={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-leftVAxis"),yAxis2:this.oTextReader("meas-for-rightVAxis")};var a={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-yaxis-Display")};var s={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-leftVAxis-Display"),yAxis2:this.oTextReader("meas-for-rightVAxis-Display")};var x={ColumnChart:t,BarChart:o,LineChart:t,LineChartWithTwoVerticalAxes:i,LineChartWithTimeAxis:t,PieChart:{sectorColor:this.oTextReader("dim-for-sectorColor"),sectorSize:this.oTextReader("meas-for-sectorSize")},DonutChart:{sectorColor:this.oTextReader("dim-for-sectorColor"),sectorSize:this.oTextReader("meas-for-sectorSize")},ScatterPlotChart:{regionColor:this.oTextReader("dim-for-colorDataPoints"),regionShape:this.oTextReader("dim-for-shapeDataPoints"),xAxis:this.oTextReader("meas-for-xaxis"),yAxis:this.oTextReader("meas-for-yaxis")},BubbleChart:{regionColor:this.oTextReader("dim-for-bubbleColor"),regionShape:this.oTextReader("dim-for-bubbleShape"),xAxis:this.oTextReader("meas-for-xaxis"),yAxis:this.oTextReader("meas-for-yaxis"),bubbleWidth:this.oTextReader("meas-for-bubbleWidth")},StackedColumnChart:t,StackedBarChart:o,PercentageStackedColumnChart:t,PercentageStackedBarChart:o,HeatmapChart:{xAxis:this.oTextReader("dim-for-xaxis"),xAxis2:this.oTextReader("dim-for-yaxis"),sectorColor:this.oTextReader("meas-for-sectorColor")},CombinationChart:a,StackedCombinationChart:a,DualCombinationChart:s,DualStackedCombinationChart:s,TableRepresentation:{column:this.oTextReader("prop-for-column")},TreeTableRepresentation:{hierarchicalColumn:this.oTextReader("prop-for-hierarchy-column"),column:this.oTextReader("prop-for-column")}};return x[e][r]};return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/navigationHandler", ["sap/apf/utils/exportToGlobal","sap/m/Text","sap/ui/core/Fragment"],function(a,i,o){"use strict";var n,t={};var e=function(a){a.close()};var r=function(){var a=this.configListInstance;var i=this.callback;var o=function(i){a.configEditor.save(function(o,n,t){a.configId=o;a.configurationHandler.memorizeConfiguration(o);if(t===undefined){if(typeof i==="function"){i()}var e=a.oCoreApi.createMessageObject({code:"11513"});a.oCoreApi.putMessage(e)}else{var e=a.oCoreApi.createMessageObject({code:"11514"});a.oCoreApi.putMessage(e)}})};e(t.oConfirmNavigationDialog);if(typeof i.yes==="function"){i.yes(o)}};var g=function(){var a=this.configListInstance;var i=this.callback;e(t.oConfirmNavigationDialog);a.configurationHandler.resetConfiguration(a.configId);if(typeof i.no==="function"){i.no()}};var l=function(){var a=this.isValidationCheck;var i=this.callback;if(!a){e(t.oConfirmNavigationDialog)}else{e(t.oConfirmValidationDialog)}if(typeof i.cancel==="function"){i.cancel()}else if(typeof i.no==="function"&&a){i.no()}};var s=function(a,i){if(i==="naviagtionDialog"){o.byId("idMessageDialogFragment","idMessageDialog").setTitle(a.getText("warning"));o.byId("idMessageDialogFragment","idYesButton").setText(a.getText("yes"));o.byId("idMessageDialogFragment","idNoButton").setText(a.getText("no"));o.byId("idMessageDialogFragment","idCancelButton").setText(a.getText("cancel"))}else if(i==="validationDialog"){o.byId("idMandatoryValidationDialogFragement","idMandatoryValidationDialog").setTitle(a.getText("warning"));o.byId("idMandatoryValidationDialogFragement","idYesButton").setText(a.getText("yes"));o.byId("idMandatoryValidationDialogFragement","idNoButton").setText(a.getText("no"))}};var f=function(a,o,n){var e=a.oCoreApi;var f=e.getText("unsavedConfiguration");var d=Object.keys(o)[0];var c={handleNavigationWithSave:r,handleNavigationWithoutSave:g,handlePreventNavigation:l,configListInstance:a,callback:n};c[d]=o[d];t.oConfirmNavigationDialog=sap.ui.xmlfragment("idMessageDialogFragment","sap.apf.modeler.ui.fragment.unsavedDataConfirmationDialog",c);a.getView().addDependent(t.oConfirmNavigationDialog);s(e,"naviagtionDialog");var v=new i;v.setText(f);t.oConfirmNavigationDialog.removeAllContent();t.oConfirmNavigationDialog.addContent(v);t.oConfirmNavigationDialog.attachAfterClose(function(){t.oConfirmNavigationDialog.destroy()});t.oConfirmNavigationDialog.open()};var d=function(a,i){f(a,{isSwitchConfiguration:true},i)};var c=function(){var a=this.callback;e(t.oConfirmValidationDialog);if(typeof a.yes==="function"){a.yes()}};var v=function(a,o,n){var e=a.oCoreApi;var r=e.getText("mandatoryField");var g=Object.keys(o)[0];var f={handleValidationNavigation:c,handlePreventNavigation:l,configListInstance:a,callback:n};f[g]=o[g];t.oConfirmValidationDialog=sap.ui.xmlfragment("idMandatoryValidationDialogFragement","sap.apf.modeler.ui.fragment.mandatoryDialog",f);a.getView().addDependent(t.oConfirmValidationDialog);s(e,"validationDialog");var d=new i;d.setText(r);t.oConfirmValidationDialog.removeAllContent();t.oConfirmValidationDialog.addContent(d);t.oConfirmValidationDialog.attachAfterClose(function(){t.oConfirmValidationDialog.destroy()});t.oConfirmValidationDialog.open()};var u=function(a,i){v(a,{isValidationCheck:true},i)};var m=function(){return{throwLossOfDataPopup:d,throwMandatoryPopup:u}};var D={getInstance:function(){return n||(n=m())}};a("sap.apf.modeler.ui.utils.navigationHandler",D);return D});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/nullObjectChecker", function(){"use strict";var e={};e.checkIsNotUndefined=function(e){if(e===undefined){return false}return true};e.checkIsNotNull=function(e){if(e===null){return false}return true};e.checkIsNotBlank=function(e){if(e instanceof Array&&e.length===0){return false}if(e instanceof Object&&Object.keys(e).length===0){return false}if(e===""){return false}return true};e.checkIsNotNullOrBlank=function(e){return this.checkIsNotNull(e)&&this.checkIsNotBlank(e)};e.checkIsNotNullOrUndefined=function(e){return this.checkIsNotNull(e)&&this.checkIsNotUndefined(e)};e.checkIsNotUndefinedOrBlank=function(e){return this.checkIsNotUndefined(e)&&this.checkIsNotBlank(e)};e.checkIsNotNullOrUndefinedOrBlank=function(e){return this.checkIsNotNull(e)&&this.checkIsNotUndefined(e)&&this.checkIsNotBlank(e)};return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/optionsValueModelBuilder", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/model/json/JSONModel"],function(e,n){"use strict";var r=500;var t={};t.prepareModel=function(t,i){var u;if(!e.checkIsNotNullOrUndefined(i)){i=r}u=new n;u.setSizeLimit(i);u.setData({Objects:t});return u};t.convert=function(n,r){var i=[],u;if(!e.checkIsNotNullOrUndefinedOrBlank(n)){return undefined}n.forEach(function(n){if(!e.checkIsNotNullOrUndefined(n)){return}u={};u.key=n instanceof Object?n.key:n;u.name=n instanceof Object?n.name:n;i.push(u)});return t.prepareModel(i,r)};return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeFactory", ["sap/apf/modeler/ui/utils/constants","sap/apf/utils/exportToGlobal","sap/ui/core/mvc/ViewType"],function(e,r,p){"use strict";function o(){}o.prototype.constructor=o;function t(r,o){var t,a,s="sap.apf.modeler.ui.view.propertyType";switch(r.sPropertyType){case e.propertyTypes.DIMENSION:a=new sap.ui.controller("sap.apf.modeler.ui.controller.representationDimension");break;case e.propertyTypes.MEASURE:a=new sap.ui.controller("sap.apf.modeler.ui.controller.representationMeasure");break;case e.propertyTypes.LEGEND:a=new sap.ui.controller("sap.apf.modeler.ui.controller.representationLegend");break;case e.propertyTypes.PROPERTY:a=new sap.ui.controller("sap.apf.modeler.ui.controller.representationProperty");break;case e.propertyTypes.HIERARCHIALCOLUMN:a=new sap.ui.controller("sap.apf.modeler.ui.controller.representationHierarchyProperty");break;case e.propertyTypes.REPRESENTATIONSORT:s="sap.apf.modeler.ui.view.sortPropertyType";a=new sap.ui.controller("sap.apf.modeler.ui.controller.representationSortPropertyType");break;case e.propertyTypes.STEPSORT:s="sap.apf.modeler.ui.view.sortPropertyType";a=new sap.ui.controller("sap.apf.modeler.ui.controller.stepSortPropertyType");break;default:return undefined}t=new sap.ui.view({viewName:s,type:p.XML,id:o,viewData:r,controller:a});return t}o.prototype.createPropertyTypeView=t;r("sap.apf.modeler.ui.utils.PropertyTypeFactory",t);return{createPropertyTypeView:t}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeOrchestration", ["sap/apf/modeler/ui/utils/constants"],function(e){"use strict";function r(){var r=[];this._getPropertyTypeRows=function(){return r};this.getPropertyTypeRow=function(e){return r.filter(function(r){return r.controlId===e})[0]};this.getPropertyTypeRowByPropertyName=function(e){return r.filter(function(r){return r.propertyRowInformation.sProperty===e})[0]};this.getSelectedProperties=function(){var e=[];this._getPropertyTypeRows().forEach(function(r){e.push(r.propertyRowInformation.sProperty)});return e};this.updatePropertyTypeRow=function(e,r){this.getPropertyTypeRow(e).propertyRowInformation.sProperty=r};this.getAggregationRole=function(){if(r.length===0){return null}return t._mapPropertyType2AggregationRole(r[0].sPropertyType)};this.getPropertyInformationList=function(){var r=this;var t=[];this._getPropertyTypeRows().forEach(function(o){var n=o.propertyRowInformation.sProperty;var a;switch(r._getPropertyTypeRows()[0].sPropertyType){case e.propertyTypes.DIMENSION:case e.propertyTypes.LEGEND:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getDimensionTextLabelKey(n);break;case e.propertyTypes.MEASURE:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getMeasureTextLabelKey(n);break;case e.propertyTypes.PROPERTY:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getPropertyTextLabelKey(n);break;case e.propertyTypes.HIERARCHIALCOLUMN:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getHierarchyPropertyTextLabelKey(n);break;default:a=null;break}if(n!==o.oView.getController().oTextReader("none")){t.push({sProperty:n,sKind:o.propertyRowInformation.sContext,sTextLabelKey:a,sLabelDisplayOption:o.oView.oViewData.oRepresentationHandler.oRepresentation.getLabelDisplayOption(n),sMeasureDisplayOption:o.oView.oViewData.oRepresentationHandler.oRepresentation.getMeasureDisplayOption(n)})}});return t};this.getSortPropertyInformationList=function(e){return this._getPropertyTypeRows().filter(function(e){var r=e.propertyRowInformation.sProperty;return r!==e.oView.getController().oTextReader("none")}).map(function(r){return{property:r.propertyRowInformation.sProperty,ascending:r.oView.getController().byId(e).getSelectedKey()==="true"?true:false}})};this.addPropertyTypeReference=function(e,t,o,n){r.push({controlId:e,propertyRowInformation:t,sPropertyType:o,oView:n})};this.removePropertyTypeReference=function(e){r.forEach(function(t,o){if(t.controlId===e){r.splice(o,1)}})};this.updateAllDropDownsAsPromise=function(){return new Promise(function(e){o(e)})};function o(e){var o=[];r.forEach(function(e){o.push(t._updateDropDownOfAControl(e))});Promise.all(o).then(function(){e()})}this.updateAllSelectControlsForPropertyType=function(e,r){var t=this;return new Promise(function(n){if(e&&r){if(t.isSwapCase(e,r)){t._swapPropertiesBetweenControls(e,r).then(function(){o(n)})}else{t.updatePropertyTypeRow(e,r);o(n)}}else{o(n)}})};this.isSwapCase=function(r,o){return t._mapPropertyType2AggregationRole(this.getPropertyTypeRow(r).sPropertyType)===e.aggregationRoles.MEASURE&&t._isPropertyAlreadySelected(this.getSelectedProperties(),o)};this._swapPropertiesBetweenControls=function(e,r){var t=this;return new Promise(function(o){var n=t.getPropertyTypeRow(e);var a;var i=n.propertyRowInformation.sProperty;t._getPropertyTypeRows().forEach(function(e){if(e.propertyRowInformation.sProperty===r){a=t.getPropertyTypeRow(e.controlId)}});a.propertyRowInformation.sProperty=i;n.propertyRowInformation.sProperty=r;t.updateAllDropDownsAsPromise().then(function(){a.oView.getController().setDetailData();o()})})}}var t={_updateDropDownOfAControl:function(r){var o=new Promise(function(o){var n=t._mapPropertyType2AggregationRole(r.sPropertyType);var a=r.oView.getViewData();var i=r.oView.getViewData().oPropertyOrchestration;var p=a.oStepPropertyMetadataHandler;var s=a.oParentObject.getId();var y=r.propertyRowInformation.sProperty;var l=r.propertyRowInformation.bMandatory;var u=p.oStep;var f=u.getType()==="hierarchicalStep";if(f&&r.sPropertyType===e.propertyTypes.REPRESENTATIONSORT){n=e.aggregationRoles.MEASURE}t.getConsumableAndAvailablePropertiesAsPromise(s,n,p).then(function(e){var a=r.oView.getController();a.removeAllItemsFromDropDownList();var p=i.getSelectedProperties();var s=t._relativeComplement(e.available,p);a.setItemsOfDropDownList(s,e.available,y,l,n);o()})});return o},getPropertyListAndSelectedKey:function(e,r,t,o,n){function a(e,r){return e.indexOf(r)!==-1}function i(e,r){return a(r.available,e)?e:n([e],t.oTextReader)[0]}function p(e){return e!==t.oTextReader("none")&&e!==undefined}var s=JSON.parse(JSON.stringify(e));var y=i(r,o);if(p(r)&&!a(e,r)){s=e.concat(y)}if(!t.oView.oViewData.oPropertyTypeData.bMandatory){s.splice(0,0,t.oTextReader("none"))}return{aAllProperties:s,sSelectedKey:y}},_mapPropertyType2AggregationRole:function(r){switch(r){case e.propertyTypes.DIMENSION:case e.propertyTypes.LEGEND:return e.aggregationRoles.DIMENSION;case e.propertyTypes.MEASURE:return e.aggregationRoles.MEASURE;default:return null}},getConsumableAndAvailablePropertiesAsPromise:function(e,r,t){var o=new Promise(function(o){t.getEntityTypeMetadataAsPromise().then(function(n){var a=t.oStep;a.getConsumablePropertiesForRepresentation(e).then(function(e){var a=e.consumable.filter(function(e){var o=t.getPropertyMetadata(n,e);return!r||o&&o["aggregation-role"]===r});var i=e.available.filter(function(e){var o=t.getPropertyMetadata(n,e);return!r||o&&o["aggregation-role"]===r});o({available:i,consumable:a})})})});return o},_relativeComplement:function(e,r){var t=JSON.parse(JSON.stringify(e));r.forEach(function(e){t=t.filter(function(r){return r!==e})});return t},_isPropertyAlreadySelected:function(e,r){function t(e,r){return e.indexOf(r)!==-1}return t(e,r)},PropertyTypeOrchestration:r};return t});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeState", ["sap/apf/modeler/ui/utils/nullObjectChecker"],function(e){"use strict";function t(){this.aProperties=[];this.aPropertyTypeViewIds=[]}t.prototype.constructor=t;t.prototype.addProperty=function(t){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}this.aProperties.push(t)};t.prototype.addPropertyAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aProperties.splice(r,0,t)};t.prototype.updatePropertyAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aProperties[r]=t};t.prototype.removePropertyAt=function(e){if(e>this.aProperties.length&&e>=0){return}this.aProperties.splice(e,1)};t.prototype.removeAllProperties=function(){this.aProperties.splice(0,this.aProperties.length)};t.prototype.isPropertyPresentExactlyOnce=function(e){var t,r=0;for(t=0;t<this.aProperties.length;t++){if(this.aProperties[t]===e){r++}}if(r===1){return true}return false};t.prototype.getPropertyValueState=function(){return this.aProperties};t.prototype.addPropertyTypeViewId=function(t){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}this.aPropertyTypeViewIds.push(t)};t.prototype.addPropertyTypeViewIdAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aPropertyTypeViewIds.splice(r,0,t)};t.prototype.removePropertyTypeViewIdAt=function(e){if(e>this.aProperties.length&&e>=0){return}this.aPropertyTypeViewIds.splice(e,1)};t.prototype.removeAllPropertyTypeViewIds=function(){this.aPropertyTypeViewIds.splice(0,this.aPropertyTypeViewIds.length)};t.prototype.indexOfPropertyTypeViewId=function(e){return this.aPropertyTypeViewIds.indexOf(e)};t.prototype.getViewAt=function(t){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}return sap.ui.getCore().byId(this.aPropertyTypeViewIds[t])};return t});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/representationBasicDataHandler", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeOrchestration","sap/ui/core/mvc/ViewType"],function(e,t,r){"use strict";function o(e,t,r,o){this.oRepresentationView=e;this.oRepresentation=r.oRepresentation;this.oStepPropertyMetadataHandler=t;this.oRepresentationTypeHandler=r.oRepresentationTypeHandler;this.oRepresentationHandler=r;this.nCounter=0;this.oViewValidator=o;this.propertyTypeHandlerPromises=[]}o.prototype._prepareCommonView=function(t,o,n,a){var i,p={},s={};if(n.length===0){return}s.oConfigurationEditor=t.oRepresentationView.getViewData().oConfigurationEditor;s.oParentObject=t.oRepresentation;s.oCoreApi=t.oRepresentationView.getViewData().oCoreApi;s.oConfigurationHandler=t.oRepresentationView.getViewData().oConfigurationHandler;s.oRepresentationTypeHandler=t.oRepresentationTypeHandler;s.oRepresentationHandler=t.oRepresentationHandler;s.oStepPropertyMetadataHandler=t.oStepPropertyMetadataHandler;s.sPropertyType=o;s.oBasicDataLayout=t.oRepresentationView.getController().byId("idBasicDataLayout");s.oTextPool=t.oRepresentationView.getViewData().oConfigurationHandler.getTextPool();s.oViewValidator=t.oViewValidator;p.oViewDataForPropertyType=s;p.aPropertiesToBeCreated=n;p.oPropertyOrchestration=a;i=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:r.XML,id:t.oRepresentationView.getController().createId("id"+o),viewData:p});t.oRepresentationView.getController().byId("idBasicDataLayout").insertItem(i,t.nCounter);t.nCounter++;t.oRepresentationView.attachEvent(e.events.REMOVEALLPROPERTIESFROMPARENTOBJECT,i.getController().handleRemoveOfProperty.bind(i.getController()));t.propertyTypeHandlerPromises.push(i.getController().initPromise)};function n(t,r){t._prepareCommonView(t,e.propertyTypes.DIMENSION,t.oRepresentationHandler.getActualDimensions(),r)}function a(t,r){t._prepareCommonView(t,e.propertyTypes.LEGEND,t.oRepresentationHandler.getActualLegends(),r)}function i(t,r){t._prepareCommonView(t,e.propertyTypes.MEASURE,t.oRepresentationHandler.getActualMeasures(),r)}function p(t,r){t._prepareCommonView(t,e.propertyTypes.PROPERTY,t.oRepresentationHandler.getActualProperties(),r)}function s(t,r){t._prepareCommonView(t,e.propertyTypes.HIERARCHIALCOLUMN,t.oRepresentationHandler.getHierarchicalProperty(),r)}o.prototype.instantiateBasicDataAsPromise=function(){var r=this;var o=r.oRepresentation.getId();var l=jQuery.Deferred();this.propertyTypeHandlerPromises.push(l);t.getConsumableAndAvailablePropertiesAsPromise(o,e.aggregationRoles.DIMENSION,r.oStepPropertyMetadataHandler).then(function(y){t.getConsumableAndAvailablePropertiesAsPromise(o,e.aggregationRoles.MEASURE,r.oStepPropertyMetadataHandler).then(function(e){var o;var y;var d;r.destroyBasicData();if(r.oRepresentation.getRepresentationType()==="TreeTableRepresentation"){d=new t.PropertyTypeOrchestration;s(r,d);p(r,d)}else if(r.oRepresentation.getRepresentationType()==="TableRepresentation"){d=new t.PropertyTypeOrchestration;p(r,d)}else{y=new t.PropertyTypeOrchestration;n(r,y);a(r,y);o=new t.PropertyTypeOrchestration;i(r,o)}l.resolve()})});return jQuery.when.apply(jQuery,this.propertyTypeHandlerPromises)};o.prototype.destroyBasicData=function(){this.oViewValidator.clearFields();this.nCounter=0;this.oRepresentationView.getController().byId("idBasicDataLayout").destroyItems()};return o});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/representationHandler", function(){"use strict";var e=function(e,t,r){this.oRepresentation=e;this.oRepresentationTypeHandler=t;this.oTextReader=r};function t(e,t){var r;e.forEach(function(e){if(e.kind===t){r=e}});return r}function r(e,r,n,o,i){var s=[],a;r.forEach(function(r){var p=t(e,r);var d=p.min;a=false;n.forEach(function(e){if(o===undefined||o&&o(e)===r){s.push({sProperty:e,sContext:r,bMandatory:d>0?true:false});a=true;d--}});while(!a||d>0){var u=d>0?"":i("none");s.push({sProperty:u,sContext:r,bMandatory:d>0?true:false});a=true;d--}});return s}function n(e,t){var r;e.forEach(function(e){if(e["id"]===t){r=e}});return r}e.prototype.formPropertiesToBeCreated=function(e,t,n,o){return r(e,t,n,o,this.oTextReader)};e.prototype.getActualDimensions=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getDimensions();var o=this.oRepresentationTypeHandler.getKindsForDimensionPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.dimensions.supportedKinds,o,r,this.oRepresentation.getDimensionKind)};e.prototype.getActualLegends=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getDimensions();var o=this.oRepresentationTypeHandler.getKindsForLegendPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.dimensions.supportedKinds,o,r,this.oRepresentation.getDimensionKind)};e.prototype.getActualMeasures=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getMeasures();var o=this.oRepresentationTypeHandler.getKindsForMeasurePropertyType(e);return this.formPropertiesToBeCreated(t.metadata.measures.supportedKinds,o,r,this.oRepresentation.getMeasureKind)};e.prototype.getActualProperties=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getProperties();var o=this.oRepresentationTypeHandler.getKindsForPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.properties.supportedKinds,o,r,this.oRepresentation.getPropertyKind)};e.prototype.getHierarchicalProperty=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=[];r.push(this.oRepresentation.getHierarchyProperty());var o=this.oRepresentationTypeHandler.getKindsForHierarchicalPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.hierarchicalColumn.supportedKinds,o,r,undefined)};return e},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP AG. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/utils/sortDataHandler", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeOrchestration","sap/ui/core/mvc/ViewType"],function(t,e,r){"use strict";var o=function(t,e,r,o){this.oParentView=t;this.oStepPropertyMetadataHandler=r;this.oParentObject=e;this.oTextReader=o};function a(o,a,i){var n;var p=new e.PropertyTypeOrchestration;var s={oConfigurationEditor:o.oParentView.getViewData().oConfigurationEditor,oParentObject:o.oParentObject,oCoreApi:o.oParentView.getViewData().oCoreApi,oConfigurationHandler:o.oParentView.getViewData().oConfigurationHandler,oStepPropertyMetadataHandler:o.oStepPropertyMetadataHandler,sPropertyType:a};var y={oViewDataForPropertyType:s,aPropertiesToBeCreated:i,oPropertyOrchestration:p};n=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:r.XML,id:o.oParentView.getController().createId("id"+a),viewData:y});o.oParentView.getController().byId("idSortLayout").insertItem(n);o.oParentView.attachEvent(t.events.step.SETTOPNPROPERTIES,n.getController().handleSettingTopNProperties.bind(n.getController()))}function i(t){var e=[];t.forEach(function(t){e.push({sProperty:t.property,sContext:t.ascending?"true":"false"})});return e}o.prototype.instantiateRepresentationSortData=function(){var e=i(this.oParentObject.getOrderbySpecifications());if(e.length===0){e=[{sProperty:this.oTextReader("none"),sContext:"true"}]}a(this,t.propertyTypes.REPRESENTATIONSORT,e)};o.prototype.instantiateStepSortData=function(){var e;this.destroySortData();if(this.oParentObject.getTopN()&&this.oParentObject.getTopN().orderby.length!==0){e=i(this.oParentObject.getTopN().orderby)}else{e=[{sProperty:this.oStepPropertyMetadataHandler.getProperties()[0],sContext:"true"}]}a(this,t.propertyTypes.STEPSORT,e)};o.prototype.destroySortData=function(){this.oParentView.getController().byId("idSortLayout").destroyItems()};return o},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/staticValuesBuilder", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/exportToGlobal"],function(e,t,o){"use strict";function r(e,t){this.oTextReader=e;this.oOptionsValueModelBuilder=t}r.prototype.constructor=r;r.prototype.getNavTargetTypeData=function(){var e=[this.oTextReader("globalNavTargets"),this.oTextReader("stepSpecific")];return this.oOptionsValueModelBuilder.convert(e,e.length)};r.prototype.getSortDirections=function(){var e=[{key:"true",name:this.oTextReader("ascending")},{key:"false",name:this.oTextReader("descending")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};o("sap.apf.modeler.ui.utils.StaticValuesBuilder",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/stepPropertyMetadataHandler", ["sap/apf/modeler/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";var r=function(e,t){this.oCoreApi=e;this.oStep=t};function o(e,t,r){var o=[],i;var a=t.oStep.getSelectProperties();a.forEach(function(a){if(t.getPropertyMetadata(e,a)){i=t.getPropertyMetadata(e,a)["aggregation-role"];if(i===r){o.push(a)}}});return o}r.prototype.getEntityTypeMetadataAsPromise=function(){var e=this.oStep.getService();var t=this.oStep.getEntitySet();return this.oCoreApi.getEntityTypeMetadataAsPromise(e,t)};r.prototype.getFilterMappingEntityTypeMetadataAsPromise=function(e,t){return this.oCoreApi.getEntityTypeMetadataAsPromise(e,t)};r.prototype.getDimensionsProperties=function(t){return o(t,this,e.aggregationRoles.DIMENSION)};r.prototype.getMeasures=function(t){return o(t,this,e.aggregationRoles.MEASURE)};r.prototype.getProperties=function(){return this.oStep.getSelectProperties()};r.prototype.getHierarchicalProperty=function(){return this.oStep.getHierarchyProperty()};r.prototype.getPropertyMetadata=function(e,t){if(!e){return undefined}return e.getPropertyMetadata(t)};r.prototype.getDefaultLabel=function(e,t){var r=this;var o=r.getPropertyMetadata(e,t);if(!o){return""}return o.label||o.name};r.prototype.hasTextPropertyOfDimension=function(e,t){var r=false,o,i=this;var a=i.getPropertyMetadata(e,t);if(!a){return r}if(a.text){o=this.oStep.getSelectProperties();r=o.indexOf(a.text)===-1?false:true}return r};r.prototype.getRepresentationTypesArray=function(){var e=[],t=this;if(t.oStep.getType()==="hierarchicalStep"){e.push({key:"TreeTableRepresentation",name:t.oCoreApi.getText("TreeTableRepresentation")})}else{t.oCoreApi.getRepresentationTypes().forEach(function(r){if(r.metadata){if(r.id!=="TreeTableRepresentation"){e.push({key:r.id,name:t.oCoreApi.getText(r.label.key)})}}})}return e};r.prototype.getStepType=function(){return this.oStep.getType()};t("sap.apf.modeler.ui.utils.StepPropertyMetadataHandler",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/textManipulator", function(){"use strict";var e={};e.addPrefixText=function(e,r){var t=[];if(e){t=e.map(function(e){return r(sap.apf.modeler.ui.utils.CONSTANTS.texts.NOTAVAILABLE)+": "+e})}return t};e.removePrefixText=function(e,r){var t=e.replace(r,"");return t.replace(": ","")};return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/textPoolHelper", ["sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,T){"use strict";var n={SuggestionTextHandler:function(e){this.oTextPool=e},TranslationFormatMap:{APPLICATION_TITLE:{TextElementType:"XTIT",MaximumLength:250},CATEGORY_TITLE:{TextElementType:"XTIT",MaximumLength:60},FACETFILTER_LABEL:{TextElementType:"XFLD",MaximumLength:50},STEP_TITLE:{TextElementType:"XTIT",MaximumLength:100},STEP_LONG_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEP_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},REPRESENTATION_LABEL:{TextElementType:"XTIT",MaximumLength:80},REPRESENTATION_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},NAVTARGET_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEPFILTERPROPERTY_LABEL:{TextElementType:"XTIT",MaximumLength:80}}};n.SuggestionTextHandler.prototype.manageSuggestions=function(e,n){var a=e.getSource();var i=sap.apf.modeler.ui.utils.optionsValueModelBuilder;var o=e.getParameter("suggestValue");var l=i.convert(n,n.length);var m=o.toUpperCase();var s=o.toLowerCase();var u=[new t("key",T.Contains,m),new t("key",T.Contains,s)];var r=new t(u,false);a.setModel(null);a.removeAllSuggestionItems();a.setModel(l);a.getBinding("suggestionItems").filter(r)};n.SuggestionTextHandler.prototype.manageSuggestionTexts=function(e,t){var T=[];var n=this.oTextPool.getTextsByTypeAndLength(t.TextElementType,t.MaximumLength);if(n.length!==0){n.forEach(function(e){T.push(e.TextElementDescription)});this.manageSuggestions(e,T)}};sap.apf.modeler.ui.utils.SuggestionTextHandler=n.SuggestionTextHandler;sap.apf.modeler.ui.utils.TranslationFormatMap=n.TranslationFormatMap;return n},true);
sap.ui.predefine("sap/apf/modeler/ui/utils/treeTableDisplayOptionsValueBuilder", ["sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";function a(e,t){sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.apply(this,[e,t])}a.prototype=Object.create(sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder.prototype);a.prototype.constructor=a;a.prototype.getLabelDisplayOptions=function(){var e=[{key:"key",name:this.oTextReader("key")},{key:"text",name:this.oTextReader("text")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};a.prototype.getValidatedLabelDisplayOptions=function(){var e=sap.apf.modeler.ui.utils.textManipulator;var t=[{key:"key",name:this.oTextReader("key")},{key:e.addPrefixText(["text"],this.oTextReader)[0],name:e.addPrefixText([this.oTextReader("text")],this.oTextReader)[0]}];return this.oOptionsValueModelBuilder.prepareModel(t,t.length)};t("sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder",a);return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/viewValidator", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/utils/exportToGlobal"],function(e,i){"use strict";var t=function(e){this.aFieldIds=[];this.oView=e};function s(e){var i=true;if(typeof e!=="string"){i=false}return i}function l(e,i){var t=true;if(!e.oView.byId(i)){t=false}return t}t.prototype.addFields=function(i){if(!e.checkIsNotNullOrUndefinedOrBlank(i)){return}var t,r=i.length;for(t=0;t<r;t++){if(s(i[t])&&l(this,i[t])&&this.aFieldIds.indexOf(i[t])===-1){this.aFieldIds.push(i[t])}}};t.prototype.addField=function(i){if(!e.checkIsNotNullOrUndefinedOrBlank(i)){return}if(s(i)&&l(this,i)&&this.aFieldIds.indexOf(i)===-1){this.aFieldIds.push(i)}};t.prototype.removeFields=function(i){var t=-1;var r,n=i.length;if(e.checkIsNotNullOrUndefinedOrBlank(i)===false){return}if(e.checkIsNotNullOrUndefinedOrBlank(this.aFieldIds)===false){return}for(r=0;r<n;r++){t=this.aFieldIds.indexOf(i[r]);if(s(i[r])&&l(this,i[r])&&t!==-1){this.aFieldIds.splice(t,1)}}};t.prototype.removeField=function(i){var t=-1;if(e.checkIsNotNullOrUndefinedOrBlank(i)===false){return}if(e.checkIsNotNullOrUndefinedOrBlank(this.aFieldIds)===false){return}t=this.aFieldIds.indexOf(i);if(s(i)&&l(this,i)&&t!==-1){this.aFieldIds.splice(t,1)}};t.prototype.getFields=function(){return this.aFieldIds};t.prototype.getView=function(){return this.oView};t.prototype.clearFields=function(){var e=this.aFieldIds.length;this.aFieldIds.splice(0,e)};t.prototype.getValidationState=function(){var e=true,i;for(i=0;i<this.aFieldIds.length;i++){var t=this.oView.byId(this.aFieldIds[i]);if(t){if(t.isA("sap.m.MultiComboBox")){e=t.getSelectedKeys().length>=1?true:false}else if(t.isA("sap.m.Input")){if(t.isA("sap.m.MultiInput")){e=t.getTokens().length>=1?true:false}else{e=t.getValue().trim()!==""?true:false}}else if(t.isA("sap.m.ComboBox")){e=t.getValue().trim()!==""?true:false}else if(t.isA("sap.m.Select")){e=t.getSelectedKey().length>=1?true:false}}if(e===false){break}}return e};i("sap.apf.modeler.ui.utils.ViewValidator",t);return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/instance", ["sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/ui/reuse/view/analysisPath.view","sap/apf/ui/reuse/view/carousel.view","sap/apf/utils/trace","sap/ui/core/mvc/ViewType","sap/ui/dom/includeStylesheet"],function(e,t,a,i,n,r,s){"use strict";function o(e,t,a){var i=e.getLayoutView();var n=i.byId("subHeader");var r=i.byId("idSplitterLayoutData");n.addContent(t);if(!(t instanceof sap.ui.comp.smartfilterbar.SmartFilterBar)){r.setSize("65px")}t.addEventDelegate({onAfterRendering:function(){n.setBusy(false);if(t instanceof sap.ui.comp.smartfilterbar.SmartFilterBar){n.setHeight("");n.addStyleClass(a)}}})}function l(e){e.getLayoutView().byId("subHeader").setBusy(false)}function u(a){a.uiApi=this;var i=a.oCoreApi;var u=a.oStartFilterHandler;var f;var d;var c;var g;var p;var v;var h;var y;var w;var C,S;var m=i.getUriGenerator().getApfLocation();this.oEventCallbacks={};var A;s(m+"resources/css/apfUi.css","apfCss");s(m+"resources/css/apfPrint.css","printCss");jQuery("#printCss").attr("media","print");this.getAddAnalysisStepButton=function(){return this.getAnalysisPath().getCarouselView().getAddStepButton()};this.getAnalysisPath=function(){if(f===undefined){f=sap.ui.view({viewName:"sap.apf.ui.reuse.view.analysisPath",type:r.JS,viewData:a,async:true})}return f};this.getNotificationBar=function(){if(d===undefined){d=sap.ui.view({viewName:"sap.apf.ui.reuse.view.messageHandler",type:r.JS,viewData:a,async:true})}return d};this.getStepContainer=function(){if(c===undefined){c=sap.ui.view({viewName:"sap.apf.ui.reuse.view.stepContainer",type:r.JS,viewData:a,async:true})}return c};this.getToolbar=function(){if(g===undefined){g=sap.ui.view({viewName:"sap.apf.ui.reuse.view.toolbar",type:r.JS,viewData:a,async:true})}return g};this.createCarouselSingleton=function(){if(a&&a.functions&&a.functions.createCarouselSingleton){p=a.functions.createCarouselSingleton()}if(p===undefined){p=sap.ui.view({viewName:"sap.apf.ui.reuse.view.carousel",type:r.JS,viewData:{oInject:a},async:true})}return p};this.getStepGallery=function(){if(v===undefined){v=sap.ui.view({type:r.JS,viewName:"sap.apf.ui.reuse.view.stepGallery",viewData:a,async:true})}return v};this.getPathGallery=function(){if(h===undefined){h=sap.ui.view({viewName:"sap.apf.ui.reuse.view.pathGallery",type:r.JS,viewData:{oInject:a},async:true})}return h};this.getDeleteAnalysisPath=function(){if(y===undefined){y=sap.ui.view({viewName:"sap.apf.ui.reuse.view.deleteAnalysisPath",type:r.JS,viewData:{oInject:a},async:true})}return y};this.getLayoutView=function(){if(w===undefined){w=sap.ui.view({viewName:"sap.apf.ui.reuse.view.layout",type:r.XML,viewData:a,async:true})}return w};this.selectionChanged=function(e){n.logCall("ui/Instance.selectionChanged",", bRefreshAllSteps: ",e,"--------");var t;var a=this;function r(){if(w){w.getController().enableDisableOpenIn()}}t=i.getSteps().indexOf(i.getActiveStep());var s=0;t=i.getSteps().indexOf(i.getActiveStep());if(!e){s=t+1}n.logCall("...",", nActiveStepIndex: ",t,", indexOfRefresh",s);a.getAnalysisPath().getController().refresh(s);a.getAnalysisPath().getController().getView().getCarouselView().getController().setBusyFromIndex(s);i.updatePath(a.getAnalysisPath().getController().callBackForUpdatePath.bind(a.getAnalysisPath().getController()),function(){r()});n.logReturn("ui/Instance.selectionChanged")};var F=false;this.createApplicationLayout=function(e){var t=this;return new Promise(function(a){if(!F){var i=t.getStepGallery().loaded();var n=t.getToolbar().loaded();var r=t.getPathGallery().loaded();var s=t.getDeleteAnalysisPath().loaded();var o=t.getStepContainer().loaded();var l=Promise.all([i]).then(function(){return t.createCarouselSingleton().loaded()});var u=Promise.all([n,l,r,s]).then(function(){return t.getAnalysisPath().loaded()});var f=Promise.all([o,u]).then(function(){return t.getLayoutView().loaded()});f.then(function(){e.addPage(w);F=true;A=e;a(e)})}else{a(A)}})};this.addDetailFooterContent=function(e){this.getLayoutView().getController().addDetailFooterContentLeft(e)};this.addMasterFooterContentRight=function(e){this.getLayoutView().getController().addMasterFooterContentRight(e)};this.setEventCallback=function(e,t){this.oEventCallbacks[e]=t};this.getEventCallback=function(e){return this.oEventCallbacks[e]};this.getCustomFormatExit=function(){return a.exits};this.setCustomFormatExit=function(e){var t=this.getCustomFormatExit();t.customFormat=e};this.drawSmartFilterBar=function(e){var t=this;function a(e){i.getSmartFilterbarDefaultFilterValues().done(function(a){S=sap.ui.view({viewName:"sap.apf.ui.reuse.view.smartFilterBar",type:r.JS,viewData:{oCoreApi:i,oUiApi:t,oSmartFilterBarConfiguration:e,controlConfiguration:a,parent:t.getLayoutView()},async:true});S.loaded().then(function(e){o(t,e.byId("idAPFSmartFilterBar"),"smartFilterBarContainer")})})}if(e){if(e.entitySet){a(e)}else{i.getMetadata(e.service).done(function(t){e.entitySet=t.getEntitySetByEntityType(e.entityType);delete e.entityType;a(e)})}}else{l(t)}};this.drawFacetFilter=function(e){if(e.length>0){var t=this;C=sap.ui.view({viewName:"sap.apf.ui.reuse.view.facetFilter",type:r.JS,viewData:{oCoreApi:i,oUiApi:this,aConfiguredFilters:e,oStartFilterHandler:u},async:true});C.loaded().then(function(e){o(t,e.byId("idAPFFacetFilter"))})}else{l(this)}};this.contextChanged=function(e){var a=this.getEventCallback(t.eventTypes.contextChanged);if(typeof a==="function"){a()}};this.getFacetFilterForPrint=function(){if(C){return C.byId("idAPFFacetFilter")}};this.getSmartFilterForPrint=function(){if(S){return S.byId("idAPFSmartFilterBar")}};this.handleStartup=function(e){var t=this;var a=jQuery.Deferred();i.getSmartFilterBarConfigurationAsPromise().done(function(n){if(n){t.drawSmartFilterBar(n)}e.done(function(e){var r=u.getStartFilters();r.done(function(r){t.contextChanged();if(!n){t.drawFacetFilter(r)}if(e.navigationMode==="backward"){t.getAnalysisPath().getController().isBackNavigation=true;i.updatePath(t.getAnalysisPath().getController().callBackForUpdatePath.bind(t.getAnalysisPath().getController()));t.getLayoutView().getController().setPathTitle()}if(e.navigationMode==="forward"){if(i.getStartParameterFacade().getSteps()){var s=i.getStartParameterFacade().getSteps()[0].stepId;var o=i.getStartParameterFacade().getSteps()[0].representationId;var l=t.getAnalysisPath().getController().callBackForUpdatePathAndSetLastStepAsActive.bind(t.getAnalysisPath().getController());i.createFirstStep(s,o,l)}if(sap.ui.core.BusyIndicator){sap.ui.core.BusyIndicator.hide()}}t.getNotificationBar().loaded().then(function(e){t.getLayoutView().byId("applicationPage").addContent(e);var n=e.getController().showMessage;i.setCallbackForMessageHandling(n.bind(e.getController()));a.resolve()})})})});return a.promise()};this.destroy=function(){C=undefined;S=undefined;if(f){var e=this.getAnalysisPath().getToolbar().getController();P(e.saveDialog);P(e.newOpenDialog);P(e.newDialog);P(e.confirmDialog);P(e.errorMsgDialog);P(e.noPathAddedDialog);if(e.deleteAnalysisPath!==undefined){P(e.deleteAnalysisPath.getController().oDialog)}if(e.pathGallery!==undefined){P(e.pathGallery.getController().oDialog)}var t=this.getAnalysisPath().getCarouselView().getStepGallery().getController();P(t.oHierchicalSelectDialog)}if(c){var a=this.getStepContainer().getController();P(a.selectionDisplayDialog);D(this)}};function P(e){if(e!==undefined){if(e.isA("sap.m.ViewSettingsDialog")){e.destroy()}else if(e.isOpen()){e.close()}}}function D(t){var a=false;var i=false;var n;if(t.getStepContainer().getViewData().oCoreApi.getActiveStep()!==undefined){a=true}if(a){n=t.getStepContainer().getViewData().oCoreApi.getActiveStep().getSelectedRepresentation();if(n!==undefined){i=true}}if(i){if(n.type!==e.representationTypes.TABLE_REPRESENTATION){if(n.toggleInstance!==undefined){P(n.toggleInstance.viewSettingsDialog)}}else{P(n.viewSettingsDialog)}}}}sap.apf.ui.Instance=u;return u},true);
sap.ui.predefine("sap/apf/ui/representations/BaseUI5ChartRepresentation", ["sap/m/Text","sap/apf/core/constants","sap/ui/layout/HorizontalLayout","sap/apf/ui/representations/utils/vizFrameSelectionHandler","sap/apf/ui/utils/formatter","sap/apf/ui/representations/utils/chartDataSetHelper","sap/apf/ui/representations/utils/representationFilterHandler","sap/apf/ui/representations/utils/timeAxisDateConverter","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(t,e,a,i,r,s,n,o,l,jQuery){"use strict";var h=0;function u(t,e){if(!e){return undefined}var a=t.getMetaData();if(!a){return null}var i=a.getPropertyMetadata(e);if(!i){return null}var r=i.label||i.name;return r!==undefined?r:null}var p=function(t,e){this.oMessageObject="";this.aDataResponse=undefined;this.dataset={};this.parameter=e;this.orderby=e.orderby;this.measures=e.measures;this.alternateRepresentation=e.alternateRepresentationType;this.requiredFilters=e.requiredFilters;this.oVizFrameSelectionHandler=new i.constructor(this.parameter,t);this.oTimeAxisDateConverter=new sap.apf.ui.representations.utils.TimeAxisDateConverter;this.oRepresentationFilterHandler=new sap.apf.ui.representations.utils.RepresentationFilterHandler(t,this.parameter,this.oTimeAxisDateConverter);this.chartInstance={};this.chartParam="";this.thumbnailChartParam="";this.oApi=t;this.axisType=sap.apf.ui.utils.CONSTANTS.axisTypes.AXIS;this.topN=e.top;this.apfId=++h};p.prototype={getParameter:function(){return this.parameter},setData:function(t,e){if(this.bIsAlternateView&&this.toggleInstance&&jQuery.isFunction(this.toggleInstance.setData)){this.toggleInstance.setData(t,e)}else{this.formatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},e,t);this.oRepresentationFilterHandler.setMetadataAndDataResponse(e,t);this.oRepresentationFilterHandler.validateFiltersWithDataset();this.oChartDataSetHelper=new sap.apf.ui.representations.utils.ChartDataSetHelper(this.formatter,this.oTimeAxisDateConverter);this.oChartDataSetHelper.createFlattenDataSet(this.parameter,e,t,this.oApi);if(this.chartType===sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.SCATTERPLOT||this.chartType===sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.BUBBLE){this.oChartDataSetHelper.addUnusedDimensionsToChartContext(e,t)}this.aDataResponse=t||[];this.metadata=e;if(!this.metadata){this.oMessageObject=this.oApi.createMessageObject({code:"6004",aParameters:[this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(this.oMessageObject)}}},attachSelectionAndFormatValue:function(t){var e=this;if(!t){this.oMessageObject=this.oApi.createMessageObject({code:"6002",aParameters:["title",this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(this.oMessageObject)}if(!this.aDataResponse||this.aDataResponse.length===0){this.oMessageObject=this.oApi.createMessageObject({code:"6000",aParameters:[t]});this.oApi.putMessage(this.oMessageObject)}this.fnHandleSelection=this.handleSelection.bind(e);this.chart.attachSelectData(this.fnHandleSelection);this.fnHandleDeselection=this.handleDeselection.bind(e);this.chart.attachDeselectData(this.fnHandleDeselection)},getFormatStringForMeasure:function(t){var e=this.formatter.getFormatString(t);return e},getFormatStringForMeasureTooltip:function(t){var e=this.formatter.getFormatStringTooltip(t);return e},getSelectionFilterLabel:function(){var t=this.getParameter().requiredFilters[0];var e=this.getSelectedFilterPropertyLabel(t);if(this.getParameter().requiredFilterOptions&&this.getParameter().requiredFilterOptions.fieldDesc){e=this.oApi.getTextNotHtmlEncoded(this.getParameter().requiredFilterOptions.fieldDesc)}return e},getSelectedFilterPropertyLabel:function(t){return u(this,t)},getIsAllMeasureSameUnit:function(){var t=true;var e=this;var a=this.metadata.getPropertyMetadata(this.measures[0].fieldName).unit?this.metadata.getPropertyMetadata(this.metadata.getPropertyMetadata(this.measures[0].fieldName).unit).semantics:undefined;var i;this.measures.forEach(function(r,s){i=e.metadata.getPropertyMetadata(e.measures[s].fieldName).unit?e.metadata.getPropertyMetadata(e.metadata.getPropertyMetadata(r.fieldName).unit).semantics:undefined;if(t&&a!==undefined&&i&&a!==i){t=false}});return t},createThumbnailLayout:function(){if(!this.thumbnailChart){return}this.thumbnailLayout=(new a).addStyleClass("thumbnailLayout");this.thumbnailLayout.removeAllContent();if(this.aDataResponse!==undefined&&this.aDataResponse.length!==0){this.thumbnailChart.setModel(this.oModel);this.thumbnailLayout.addContent(this.thumbnailChart);this.thumbnailChart.removeStyleClass("thumbnailNoData")}else{var e=new t({text:this.oApi.getTextNotHtmlEncoded("noDataText")}).addStyleClass("noDataText");this.thumbnailLayout.addContent(e);this.thumbnailLayout.addContent(this.thumbnailChart);this.thumbnailChart.addStyleClass("thumbnailNoData")}},getAlternateRepresentation:function(){return this.alternateRepresentation},getMetaData:function(){return this.metadata},getData:function(){return this.aDataResponse},getRequestOptions:function(t){if(this.bIsAlternateView&&this.toggleInstance&&jQuery.isFunction(this.toggleInstance.getRequestOptions)){return this.toggleInstance.getRequestOptions(t,this.bIsAlternateView)}var e={paging:{},orderby:[]};if(this.orderby&&this.orderby.length){var a=this.orderby.map(function(t){return{property:t.property,ascending:t.ascending}});e.orderby=a}if(this.topN&&this.topN>0){e.paging.top=this.topN}return e},createDataset:function(){this.dataset=this.oChartDataSetHelper.getFlattenDataSet();this.oModel=this.oChartDataSetHelper.getModel()},drawSelectionOnMainChart:function(){var t=this.oRepresentationFilterHandler.getFilterValues();if(t.length>0){var e=this.oVizFrameSelectionHandler.getSelectionInfoFromFilter(t,this.aDataResponse);this.setSelectionOnMainChart(e)}},drawSelectionOnThumbnailChart:function(){var t=this.oRepresentationFilterHandler.getFilterValues();if(t.length>0){var e=this.oVizFrameSelectionHandler.getSelectionInfoFromFilter(t,this.aDataResponse);this.setSelectionOnThumbnailChart(e,false)}},handleSelection:function(t){this.manageSelectionsOnChart(t,false,this.parameter);this.chart.attachEvent("setFocusOnSelectedLinkEvent",this.chart.setFocusOnSelectLink)},handleDeselection:function(t){this.manageSelectionsOnChart(t,true,this.parameter);this.chart.attachEvent("setFocusOnSelectedLinkEvent",this.chart.setFocusOnSelectLink)},getSelections:function(){return this.oRepresentationFilterHandler.getDisplayInfoForFilters(this.metadata,this.oModel.getData().data)},getSortedSelections:function(){var t;var a=this.getSelections();if(!a||a.length===0){return[]}var i=this.getParameter();if(i.requiredFilterOptions&&i.requiredFilterOptions.labelDisplayOption){t=i.requiredFilterOptions.labelDisplayOption}var r=this.getParameter().requiredFilters[0];var s=this.metadata.getPropertyMetadata(r);switch(t){case e.representationMetadata.labelDisplayOptions.TEXT:return l.sortByProperty(a,"text",this.metadata.getPropertyMetadata(s.text));case e.representationMetadata.labelDisplayOptions.KEY_AND_TEXT:return l.sortByProperty(a,"text");default:return l.sortByProperty(a,"id",s)}},getSelectionCount:function(){return this.oRepresentationFilterHandler.getFilterValues().length},removeAllSelection:function(){this.setSelectionOnThumbnailChart([],false);this.setSelectionOnMainChart([],true)},getFilterMethodType:function(){return sap.apf.core.constants.filterMethodTypes.filter},getFilter:function(){this.filter=this.oRepresentationFilterHandler.createFilterFromSelectedValues();return this.filter},setFilter:function(t){this.filter=t},adoptSelection:function(t){if(t&&t.getFilter){var e=t.getFilter().getInternalFilter().getFilterTerms().map(function(t){return t.getValue()});this.oRepresentationFilterHandler.updateFilterFromSelection(e)}},serialize:function(){var t=this.parameter.orderby;if(this.toggleInstance){t=this.toggleInstance.orderby}return{oFilter:this.oRepresentationFilterHandler.getFilterValues(),bIsAlternateView:this.bIsAlternateView,orderby:t}},deserialize:function(t){this.oRepresentationFilterHandler.updateFilterFromSelection(t.oFilter);this.bIsAlternateView=t.bIsAlternateView;if(this.bIsAlternateView){this.toggleInstance=this.oApi.getUiApi().getStepContainer().getController().createToggleRepresentationInstance(this,t.orderby)}},getPrintContent:function(){},onChartSwitch:function(){},destroy:function(){this.dataset=null;if(this.formatter){this.formatter=null}if(this.oRepresentationFilterHandler){this.oRepresentationFilterHandler.aFilterValues=[];this.oRepresentationFilterHandler=null}if(this.chart){this.chart.detachSelectData(this.fnHandleSelection);this.fnHandleSelection=null;this.chart.detachDeselectData(this.fnHandleDeselection);this.fnHandleDeselection=null;this.chart.destroy();this.chart=null}if(this.thumbnailChart){this.thumbnailChart.destroy();this.thumbnailChart=null}if(this.thumbnailLayout){this.thumbnailLayout.removeAllContent()}}};return p},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/BaseVizFrameChartRepresentation", ["sap/viz/ui5/controls/VizFrame","sap/viz/ui5/controls/common/feeds/FeedItem","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/vizFrameSelectionHandler","sap/apf/ui/utils/representationTypesHandler","sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/utils/trace"],function(e,t,i,a,r,s,n,o){"use strict";var l=" ************************************** ";var h=function(e,t){i.apply(this,[e,t]);this.oApi=e};h.prototype=Object.create(i.prototype);h.prototype.constructor=h;h.prototype.destroy=function(){if(this.chart){this.chart.destroyDataset();this.chart.destroyFeeds();this.chart.detachRenderComplete(this.fnDrawSelectionOnMainChart);this.fnDrawSelectionOnMainChart=null}if(this.thumbnailChart){this.thumbnailChart.destroyDataset();this.thumbnailChart.destroyFeeds();this.thumbnailChart.detachRenderComplete(this.fnDrawSelectionOnThumbnailChart);this.fnDrawSelectionOnThumbnailChart=null}i.prototype.destroy.call(this)};h.prototype.getMeasures=function(){return this.measures};h.prototype.getChartForCustomListItem=function(){o.logCall("getChartForCustomListItem");if(!this.chart4CustomItemList){var e=this.getMainContent("#chartForCustomListItem#",null,null,"isCreate4CIL");this.chart=undefined;this.title=undefined;this.chart4CustomItemList=e}o.logReturn("getChartForCustomListItem"," return=",this.chart4CustomItemList);return this.chart4CustomItemList};h.prototype.getMainContent=function(t,i,a,r){o.logCall("BaseVizFrame.getMainContent"," apfId=",this.apfId,", creationMode"+r);var s=r==="isCreate4CIL";var n=this;var l=this;var h=(a||725)+"px";var p=i||1e3;p=p+"px";this.title=t;this.createDataset();if(!this.chart){this.chart=new e({vizType:this.chartType,dataset:this.dataset,width:p,height:h,uiConfig:{applicationSet:"fiori"}});o.log(""," *** new VizFrame ***",t,", chartType="+this.chartType,", chart=",this.chart);this.setVizPropertiesOnChart(this.metadata);if(this.metadata){this._createAndAddFeedItemBasedOnId(this.chart);if(this.measures.length!==0){var c={};var u;this.measures.forEach(function(e){var t=l.getFormatStringForMeasure(e);u=l.getFormatStringForMeasureTooltip(e);c.measure=e;c.formatString=t;n.setFormatStringOnChart(c)});this.setFormatString("tooltip",u);if(this.handleCustomFormattingOnChart){this.handleCustomFormattingOnChart()}}}if(!s){this.fnDrawSelectionOnMainChart=this.drawSelectionOnMainChart.bind(n);this.chart.attachRenderComplete(this.fnDrawSelectionOnMainChart);l.attachSelectionAndFormatValue.call(this,t)}}else{if(i){this.chart.setWidth(p)}if(a){this.chart.setHeight(h)}this.chart.destroyDataset();this.chart.removeAllFeeds();this.chart.destroyFeeds();this.chart.vizUpdate({data:this.dataset});this._createAndAddFeedItemBasedOnId(this.chart)}this.chart.setModel(this.oModel);o.logReturn("BaseVizFrame.getMainContent");return this.chart};h.prototype.setVizPropertiesOnChart=function(e){var t={behaviorType:null};if(this.parameter.requiredFilters.length===0){t={selectability:{axisLabelSelection:false,legendSelection:false,plotLassoSelection:false,plotStdSelection:false},enableHover:false,noninteractiveMode:false,behaviorType:null}}this.chart.setVizProperties({title:{visible:true,text:this.title},interaction:t,categoryAxis:{visible:true,title:{visible:true},label:{visible:true}},valueAxis:{visible:true,title:{visible:true},label:{visible:true}},legend:{visible:true,title:{visible:true},isScrollable:true},plotArea:{window:{start:null},dataLabel:{visible:false,unitFormatType:"measureFormatter",hideWhenOverlap:true}},tooltip:{visible:true,label:{visible:true}},general:{groupData:false}});this.setVizPropsForSpecificRepresentation();var i=new r;if(i.isCombinationChart(this.type)){this.chart.setVizProperties(this.getVizPropertiesForCombinationCharts(i))}};h.prototype.getVizPropertiesForCombinationCharts=function(e){var t=[];var i=[];this.measures.forEach(function(a){if(!a.measureDisplayOption){return}if(a.kind===e.getKindsForMeasurePropertyType(this.type)[0]){t.push(a.measureDisplayOption)}if(a.kind===e.getKindsForMeasurePropertyType(this.type)[1]){i.push(a.measureDisplayOption)}}.bind(this));var a={plotArea:{dataShape:{}}};if(t.length>0){a.plotArea.dataShape.primaryAxis=t}if(i.length>0){a.plotArea.dataShape.secondaryAxis=i}return a};h.prototype.setVizPropsForSpecificRepresentation=function(){};h._setVizPropsForBubbleAndScatter=function(e,t){o.log("_setVizPropsForBubbleAndScatter",", dimensions",e);var i={valueAxis2:{visible:t,title:{visible:t}},sizeLegend:{visible:t},plotArea:{adjustScale:true}};if(!t){i.plotArea.markerSize=4;i.plotArea.marker={visible:true,size:4}}else{i.valueAxis2.label={visible:true}}var a=0;var r=0;e.forEach(function(e){if(e.kind===n.representationMetadata.kind.REGIONCOLOR){a++}else if(e.kind===n.representationMetadata.kind.REGIONSHAPE){r++}});if(a>0){i.plotArea.colorDepth=a}if(r>0){i.plotArea.shapeDepth=r}return i};h.prototype.setFormatStringOnChart=function(e){var t=e.formatString;var i=e.measure.axisfeedItemId;this.setFormatString(i,t)};h.prototype.setFormatString=function(e,t){var i=this;var a=i.getIsAllMeasureSameUnit();switch(e){case n.vizFrame.feedItemTypes.VALUEAXIS:if(a){this.chart.setVizProperties({valueAxis:{label:{formatString:t}}})}break;case n.vizFrame.feedItemTypes.VALUEAXIS2:if(a){this.chart.setVizProperties({valueAxis2:{label:{formatString:t}}})}break;case n.vizFrame.feedItemTypes.CATEGORYAXIS:this.chart.setVizProperties({categoryAxis:{label:{formatString:t}}});break;case n.vizFrame.feedItemTypes.BUBBLEWIDTH:this.chart.setVizProperties({sizeLegend:{formatString:t}});break;case"tooltip":this.chart.setVizProperties({tooltip:{formatString:t}});break;default:break}};h.prototype._createAndAddFeedItemBasedOnId=function(e){var t=this._createFeedItemGroup(this.parameter.measures);this._addFeedItemsToChart(e,t,"Measure");var i=this._createFeedItemGroup(this.parameter.dimensions);this._addFeedItemsToChart(e,i,"Dimension")};h.prototype._createFeedItemGroup=function(e){var t=this;var i={};e.forEach(function(e){e.axisfeedItemId=t.getAxisFeedItemId(e.kind);var a=i[e.axisfeedItemId];if(a){var r=a.some(function(t){return t.identity===e.identity});if(!r){a.push(e)}}else{i[e.axisfeedItemId]=[e]}});return i};h.prototype.manageSelectionsOnChart=function(e,t,i){o.logCall("BaseVizFrame.manageSelectionsOnChart",l,", is deselection",t,", oParameter: ",i);var r=new a.constructor(i,this.oApi);var s=this.chart.vizSelection();var n=r.getSelectionInfoFromEvent(e,t,s);this.setSelectionOnMainChart(n.dataPointsFromSelection,t);this.setSelectionOnThumbnailChart(n.dataPointsFromSelection,t);if(this.oRepresentationFilterHandler.getIfSelectedFilterChanged(n.aUniqueFilterValueFromChart)){o.logCall("...manageSelectionsOnChart, selected filter changed",", aUniqueFilterValueFromChart: ",n.aUniqueFilterValueFromChart);this.oRepresentationFilterHandler.updateFilterFromSelection(n.aUniqueFilterValueFromChart);this.oApi.selectionChanged(false)}o.logReturn("BaseVizFrame.manageSelectionsOnChart")};h.prototype._addFeedItemsToChart=function(e,i,a){for(var r in i){var s={};var n=[];var o=0;for(o in i[r]){n.push(i[r][o].identity);s.feedItemId=i[r][0].axisfeedItemId}s.value=n;var l=new t({uid:s.feedItemId,type:a,values:s.value});e.addFeed(l)}};h.prototype.setVizPropertiesOnThumbnailChart=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({title:{visible:false},categoryAxis:{visible:false,title:{visible:false}},valueAxis:{visible:false,title:{visible:false}},legend:{visible:false,title:{visible:false}},tooltip:{visible:false},interaction:{selectability:{axisLabelSelection:false,legendSelection:false,plotLassoSelection:false,plotStdSelection:false},enableHover:false,noninteractiveMode:true},background:{visible:false},general:{layout:{padding:0},groupData:false},plotArea:{window:{start:null},gridline:{visible:false},dataLabel:{visible:false},seriesStyle:{rules:[{properties:{width:1}}]}}});this.setVizPropsOfThumbnailForSpecificRepresentation();var e=new r;if(e.isCombinationChart(this.type)){this.thumbnailChart.setVizProperties(this.getVizPropertiesForCombinationCharts(e))}};h.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){};h.prototype.setSelectionOnMainChart=function(e,t){o.log("BaseVizFrame.setSelectionOnMainChart",", aSelection=",e," apfId=",this.apfId,", bIsDeselection="+t,"chart.sId"+this.chart.sId);this.chart.vizSelection(e,{clearSelection:t})};h.prototype.setSelectionOnThumbnailChart=function(e,t){o.log("BaseVizFrame.setSelectionOnThumbnailChart",", aSelection=",e," apfId=",this.apfId,", bIsDeselection="+t,"thumbnailChart.sId"+!this.thumbnailChart?"-":this.thumbnailChart.sId);if(this.thumbnailChart){this.thumbnailChart.vizSelection(e,{clearSelection:t})}};h.prototype.getAxisFeedItemId=function(e){};h.prototype.getPrintContent=function(e){var t,i=this.chartType,a={},r,s;var n=this.getMainContent(e);a=n.getVizProperties();t=n.clone();t.setVizType(i);t.setVizProperties(a);t.setWidth("1000px");t.setHeight("600px");this.createDataset();t.setDataset(this.dataset);t.setModel(this.oModel);r=this.chart.vizSelection();t.attachRenderComplete(function(){t.vizSelection(r)});s={oRepresentation:t};return s};return h},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/RepresentationInterfaceProxy", function(){"use strict";var t=function(t,e){this.type="RepresentationInterfaceProxy";this.putMessage=function(e){return t.putMessage(e)};this.createMessageObject=function(e){return t.createMessageObject(e)};this.getActiveStep=function(){return t.getActiveStep()};this.setActiveStep=function(e){return t.setActiveStep(e)};this.getTextNotHtmlEncoded=function(e,n){return t.getTextNotHtmlEncoded(e,n)};this.getExits=function(){return e.getCustomFormatExit()};this.updatePath=function(e){return t.updatePath(e)};this.createFilter=function(){return t.createFilter()};this.selectionChanged=function(t){return e.selectionChanged(t)};this.getEventCallback=function(t){return e.getEventCallback(t)};this.getUiApi=function(){return e}};return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/barChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function r(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.BAR_CHART;this.chartType=a.vizFrameChartTypes.BAR;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:r=t.vizFrame.feedItemTypes.COLOR;break;default:break}return r};sap.apf.ui.representations.barChart=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/bubbleChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function r(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.BUBBLE_CHART;this.chartType=a.vizFrameChartTypes.BUBBLE;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){if(a===0){e.kind=t.representationMetadata.kind.XAXIS}else if(a===1){e.kind=t.representationMetadata.kind.YAXIS}else{e.kind=t.representationMetadata.kind.BUBBLEWIDTH}}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.REGIONCOLOR:t.representationMetadata.kind.REGIONSHAPE}})};r.prototype.setVizPropsForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,true);this.chart.setVizProperties(t)};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,false);this.thumbnailChart.setVizProperties(t)};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.REGIONCOLOR:r=t.vizFrame.feedItemTypes.COLOR;break;case a.REGIONSHAPE:r=t.vizFrame.feedItemTypes.SHAPE;break;case a.XAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.BUBBLEWIDTH:r=t.vizFrame.feedItemTypes.BUBBLEWIDTH;break;default:break}return r};sap.apf.ui.representations.bubbleChart=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/columnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function n(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.COLUMN_CHART;this.chartType=a.vizFrameChartTypes.COLUMN;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.XAXIS:n=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:n=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:n=t.vizFrame.feedItemTypes.COLOR;break;default:break}return n};sap.apf.ui.representations.columnChart=n;return n},true);
sap.ui.predefine("sap/apf/ui/representations/combinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(e,t,a){"use strict";var r=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=t.representationTypes.COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.COMBINATION};r.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;default:break}return r};sap.apf.ui.representations.combinationChart=r;return r},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/donutChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants"],function(e,a){"use strict";var t=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=sap.apf.ui.utils.CONSTANTS.representationTypes.DONUT_CHART;this.chartType=sap.apf.ui.utils.CONSTANTS.vizFrameChartTypes.DONUT};t.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);t.prototype.getAxisFeedItemId=function(e){var a=sap.apf.core.constants.representationMetadata.kind;var t;switch(e){case a.SECTORCOLOR:t=sap.apf.core.constants.vizFrame.feedItemTypes.COLOR;break;case a.SECTORSIZE:t=sap.apf.core.constants.vizFrame.feedItemTypes.SIZE;break;default:break}return t};return t},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/dualCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(e,t,a){"use strict";var r=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=t.representationTypes.DUAL_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.DUAL_COMBINATION};r.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:r=e.vizFrame.feedItemTypes.VALUEAXIS2;break;default:break}return r};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};sap.apf.ui.representations.dualCombinationChart=r;return r},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/dualStackedCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(e,t,a){"use strict";var r=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=t.representationTypes.DUAL_STACKED_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.DUAL_STACKED_COMBINATION};r.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:r=e.vizFrame.feedItemTypes.VALUEAXIS2;break;default:break}return r};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};sap.apf.ui.representations.dualStackedCombinationChart=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/heatmapChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,i){"use strict";function a(t,a){e.apply(this,[t,a]);this.type=i.representationTypes.HEATMAP_CHART;this.chartType=i.vizFrameChartTypes.HEATMAP;this._addDefaultKind()}a.prototype=Object.create(e.prototype);a.prototype.constructor=a;a.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORCOLOR}});this.parameter.dimensions.forEach(function(e,i){if(e.kind===undefined){e.kind=i===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.XAXIS2}})};a.prototype.setVizPropsForSpecificRepresentation=function(){this.chart.setVizProperties({categoryAxis2:{visible:true,title:{visible:true},label:{visible:true}}})};a.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({categoryAxis2:{visible:false,title:{visible:false}}})};a.prototype.getAxisFeedItemId=function(e){var i=t.representationMetadata.kind;var a;switch(e){case i.XAXIS:a=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case i.XAXIS2:a=t.vizFrame.feedItemTypes.CATEGORYAXIS2;break;case i.SECTORCOLOR:a=t.vizFrame.feedItemTypes.COLOR;break;default:break}return a};sap.apf.ui.representations.heatmapChart=a;return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function n(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.LINE_CHART;this.chartType=a.vizFrameChartTypes.LINE;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND}})};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.XAXIS:n=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:n=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:n=t.vizFrame.feedItemTypes.COLOR;break;default:break}return n};sap.apf.ui.representations.lineChart=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChartWithTimeAxis", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/utils"],function(e,t,i,a){"use strict";function r(t,a){e.apply(this,[t,a]);this.type=i.representationTypes.LINE_CHART_WITH_TIME_AXIS;this.chartType=i.vizFrameChartTypes.LINE_CHART_WITH_TIME_AXIS;this.setDateType();this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype.setDateType=function(){var e;for(e=0;e<this.parameter.dimensions.length;e++){if(this.parameter.dimensions[e].kind===t.representationMetadata.kind.XAXIS){this.parameter.dimensions[e].dataType="date"}}};r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,i){if(e.kind===undefined){e.kind=i===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};r.prototype.setVizPropsForSpecificRepresentation=function(e){var i;this.chart.setVizProperties({timeAxis:{visible:true,title:{visible:true},label:{visible:true}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}});if(e){for(i=0;i<this.parameter.dimensions.length;i++){if(this.parameter.dimensions[i].kind===t.representationMetadata.kind.XAXIS){var r=e.getPropertyMetadata(this.parameter.dimensions[i].fieldName);if(a.isPropertyTypeWithDateSemantics(r)){this.chart.setVizProperties({general:{showAsUTC:true}})}}}}};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({timeAxis:{visible:false,title:{visible:false}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}})};r.prototype.getAxisFeedItemId=function(e){var i=t.representationMetadata.kind;var a;switch(e){case i.XAXIS:a=t.vizFrame.feedItemTypes.TIMEAXIS;break;case i.YAXIS:a=t.vizFrame.feedItemTypes.VALUEAXIS;break;case i.LEGEND:a=t.vizFrame.feedItemTypes.COLOR;break;default:break}return a};sap.apf.ui.representations.lineChartWithTimeAxis=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChartWithTwoVerticalAxes", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function r(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.LINE_CHART_WITH_TWO_VERTICAL_AXES;this.chartType=a.vizFrameChartTypes.LINE_CHART_WITH_TWO_VERTICAL_AXES;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.YAXIS:t.representationMetadata.kind.YAXIS2}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};r.prototype.setVizPropsForSpecificRepresentation=function(){var e=this;this.chart.attachEventOnce("renderComplete",function(){var t,a;if(!this.chart){return}if(!t){t=e.chart.getVizProperties().plotArea.primaryScale.autoMaxValue}if(!a){a=e.chart.getVizProperties().plotArea.secondaryScale.autoMaxValue}e.chart.setVizProperties({plotArea:{primaryScale:{fixedRange:true,maxValue:t},secondaryScale:{fixedRange:true,maxValue:a}}});i(e,t,a)});e.chart.setVizProperties({valueAxis2:{visible:true,title:{visible:true},label:{visible:true}}})};function i(e,t,a){if(!e.thumbnailChart){return}e.thumbnailChart.setVizProperties({plotArea:{primaryScale:{fixedRange:true,maxValue:t},secondaryScale:{fixedRange:true,maxValue:a}}})}r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.LEGEND:r=t.vizFrame.feedItemTypes.COLOR;break;default:break}return r};sap.apf.ui.representations.lineChartWithTwoVerticalAxes=r;return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/percentageStackedBarChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function i(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.PERCENTAGE_STACKED_BAR_CHART;this.chartType=a.vizFrameChartTypes.PERCENTAGE_STACKED_BAR;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};i.prototype.setFormatString=function(){return};function n(e){e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}i.prototype.setVizPropsForSpecificRepresentation=function(){n(this.chart)};i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}n(this.thumbnailChart)};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};sap.apf.ui.representations.percentageStackedBarChart=i;return i},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/percentageStackedColumnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function n(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.PERCENTAGE_STACKED_COLUMN_CHART;this.chartType=a.vizFrameChartTypes.PERCENTAGE_STACKED_COLUMN;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND}})};n.prototype.setFormatString=function(){return};function i(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}n.prototype.setVizPropsForSpecificRepresentation=function(){i(this.chart)};n.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}i(this.thumbnailChart)};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.XAXIS:n=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:n=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:n=t.vizFrame.feedItemTypes.COLOR;break;default:break}return n};sap.apf.ui.representations.percentageStackedColumnChart=n;return n},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/pieChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function n(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.PIE_CHART;this.chartType=a.vizFrameChartTypes.PIE;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORSIZE}});this.parameter.dimensions.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORCOLOR}})};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.SECTORCOLOR:n=t.vizFrame.feedItemTypes.COLOR;break;case a.SECTORSIZE:n=t.vizFrame.feedItemTypes.SIZE;break;default:break}return n};sap.apf.ui.representations.pieChart=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/representationInterface", function(){"use strict";var t=function(t,e){this.setData=function(t,e){};this.updateTreetable=function(t,e,n,i){};this.getSelectionAsArray=function(){return[0,2]};this.adoptSelection=function(t){};this.getFilterMethodType=function(){return sap.apf.constants.filterMethodTypes.selectionAsArray};this.getRequestOptions=function(){return{}};this.getParameter=function(){var t={dimensions:[],measures:[]};return t};this.getMainContent=function(){var t={};return t};this.getThumbnailContent=function(){var t={};return t};this.getPrintContent=function(){var t={};return t};this.getTooltipContent=function(){var t={};return t};this.removeAllSelection=function(){};this.serialize=function(){var t={};return t};this.deserialize=function(t){};this.getAlternateRepresentation=function(){return this.oAlternateRepresentation};this.getMetaData=function(){return this.metadata};this.getData=function(){return this.aDataResponse}};return t},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/scatterPlotChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function r(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.SCATTERPLOT_CHART;this.chartType=a.vizFrameChartTypes.SCATTERPLOT;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.REGIONCOLOR:t.representationMetadata.kind.REGIONSHAPE}})};r.prototype.setVizPropsForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,true);this.chart.setVizProperties(t)};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,false);this.thumbnailChart.setVizProperties(t)};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.REGIONCOLOR:r=t.vizFrame.feedItemTypes.COLOR;break;case a.REGIONSHAPE:r=t.vizFrame.feedItemTypes.SHAPE;break;default:break}return r};sap.apf.ui.representations.scatterPlotChart=r;return r},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedBarChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function i(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.STACKED_BAR_CHART;this.chartType=a.vizFrameChartTypes.STACKED_BAR;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};function n(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}i.prototype.setVizPropsForSpecificRepresentation=function(){n(this.chart)};i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){n(this.thumbnailChart)};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};sap.apf.ui.representations.stackedBarChart=i;return i},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedColumnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";function i(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.STACKED_COLUMN_CHART;this.chartType=a.vizFrameChartTypes.STACKED_COLUMN;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:sap.apf.core.constants.representationMetadata.kind.LEGEND}})};function n(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}i.prototype.setVizPropsForSpecificRepresentation=function(){n(this.chart)};i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){n(this.thumbnailChart)};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};sap.apf.ui.representations.stackedColumnChart=i;return i},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation"],function(e,t,a){"use strict";var r=function(e,a){sap.apf.ui.representations.BaseVizFrameChartRepresentation.apply(this,[e,a]);this.type=t.representationTypes.STACKED_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.STACKED_COMBINATION};r.prototype=Object.create(sap.apf.ui.representations.BaseVizFrameChartRepresentation.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;default:break}return r};sap.apf.ui.representations.stackedCombinationChart=r;return r},true);
/* SAP APF Analysis Path Framework
* 
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/table", ["sap/apf/core/constants","sap/apf/ui/utils/formatter","sap/apf/ui/representations/utils/paginationHandler","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/paginationDisplayOptionHandler","sap/ui/Device","sap/ui/model/BindingMode","sap/ui/model/Sorter","sap/ui/table/Table","sap/ui/table/Column","sap/ui/table/library","sap/ui/core/CustomData","sap/ui/model/json/JSONModel","sap/ui/core/Icon","sap/ui/core/library","sap/ui/core/mvc/ViewType","sap/ui/layout/VerticalLayout","sap/m/Text","sap/m/Title","sap/m/Label","sap/m/library","sap/m/Link","sap/m/Button","sap/m/FlexItemData","sap/m/HBox","sap/m/VBox","sap/m/ScrollContainer","sap/ui/export/Spreadsheet","sap/apf/ui/utils/determineColumnSettingsForSpreadSheetExport","sap/m/Dialog","sap/ui/thirdparty/jquery"],function(e,t,a,i,n,o,r,s,l,p,d,u,h,c,g,f,m,v,b,y,A,T,S,F,D,x,w,P,C,R,jQuery){"use strict";var E=A.DialogType;var I=g.HorizontalAlign;var O=g.TitleLevel;var H=d.VisibleRowCountMode;function N(e,t){t.forEach(function(t){e.addSelectionInterval(t,t)})}function B(e){e.loadAllButton.attachEvent("setFocusOnLoadAllButtonEvent",e.loadAllButton.setFocusOnLoadAllButton)}function V(e,t){if(e.bIsAlternateRepresentation&&e.oApi.getActiveStep()){e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.getFilterValues().forEach(function(t){if(e.aFiltersInTable.indexOf(t)===-1){e.aFiltersInTable.push(t)}})}if(t&&e.oParameter.top||e.oParameter.isAlternateRepresentation){e.aFiltersInTable=M(e,t)}}function M(e,t){var a=[];e.aFiltersInTable.forEach(function(i){e.aDataResponse.forEach(function(e){var n=e[t];if(n==i&&a.indexOf(i)===-1){a.push(i)}})});return a}function L(e,t,a){var i=e.tableControl.getContextByIndex(a[0]).getProperty(t);if(e.tableControl.isIndexSelected(a[0])&&e.aFiltersInTable.indexOf(i)===-1){e.aFiltersInTable.push(i)}else{var n=e.aFiltersInTable.indexOf(i);if(n!==-1){e.aFiltersInTable.splice(n,1)}}}function k(e,t){U(e);e.aFiltersInTable=t;e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.updateFilterFromSelection(t);e.oApi.selectionChanged()}function U(e){e.oRepresentationFilterHandler.clearFilters();e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.clearFilters();e.aValidatedFilter=[];e.aFiltersInTable=[]}function q(e,t,a,i,n){var o=e.nDataResponseCount||0;var r,s;var l=e.oApi.getTextNotHtmlEncoded("buttonTextExport");var p=new S({text:l,press:function(){if(e.aDataResponse.length>1e4){var a=e;a.newOpenDialog=new R({type:E.Message,title:e.oApi.getTextNotHtmlEncoded("warningTitle"),state:"Warning",content:new v({text:e.oApi.getTextNotHtmlEncoded("exportWarning")}),beginButton:new S({text:e.oApi.getTextNotHtmlEncoded("warningExport"),press:function(){e.exportExcel(t);a.newOpenDialog.close()}}),endButton:new S({text:e.oApi.getTextNotHtmlEncoded("warningCancel"),press:function(){a.newOpenDialog.close()}}),afterClose:function(){a.oUiApi.getLayoutView().setBusy(false);a.newOpenDialog.destroy()}});a.newOpenDialog.open()}else{e.exportExcel(t)}}}).addStyleClass("sapUiTinyMarginBeginEnd");e.titleControl=new b({level:O.H1}).addStyleClass("sapUiTinyMarginBegin").addStyleClass("sapUiTinyMarginTop");if(e.aDataResponse.length===0){p.setEnabled(false)}if(n){s=e.title}else if(e.oParameter.top){r=new D({items:[p]});s=e.title}else if(i){r=new D({items:[p]});s=e.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[e.title,a,a])}else{l=e.oApi.getTextNotHtmlEncoded("buttonTextLoadAll");if(e.loadAllButton===undefined){e.loadAllButton=new S({text:l,press:e.loadAll.bind(e)});e.loadAllButton.setFocusOnLoadAllButton=function(){this.focus();this.detachEvent("setFocusOnLoadAllButtonEvent",this.setFocusOnLoadAllButton)}}r=new D({items:[e.loadAllButton,p]});s=e.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[e.title,a,o]);e.loadAllButton.addAriaLabelledBy(e.titleControl)}p.addAriaLabelledBy(e.titleControl);e.titleControl.setText(s);var d=new D({alignItems:"Start",wrap:"Wrap",justifyContent:"SpaceBetween",items:[e.titleControl,r]});return d}function W(e,t,a,i){var n=function(t){return function(i){if(a.metadata!==undefined){var n;if(e.value[t]&&i){n=a.oFormatter.getFormattedValueAsString(e.value[t],i);if(n!==undefined){return n}}}return i}};var s=new l({title:t,showNoData:false,enableSelectAll:false,visibleRowCountMode:H.Auto});if(i){s.setWidth(i+"px")}s.setLayoutData(new F({growFactor:1}));if(o.system.desktop){s.addStyleClass("sapUiSizeCompact")}var d=a.oParameter.requiredFilters;var c=d&&d.length>0?"MultiToggle":"None";s.setSelectionMode(c);var g=[],f,m,b;for(var A=0;A<e.name.length;A++){f=new v({wrapping:false});f.bindText(e.value[A],n(A),r.OneWay);f.bindProperty("tooltip",e.value[A],n(A));m=new p({label:new y({text:e.name[A],tooltip:e.name[A]}),template:f});b=new u({value:{text:e.name[A],key:e.value[A]}});if(i){m.setMinWidth(125)}m.addCustomData(b);g.push(m)}var T;T=g;T.forEach(function(e){s.addColumn(e)});if(g.length>10){s.getColumns().forEach(function(e){e.setWidth("125px")})}var S=new h;S.setSizeLimit(1e4);var D=a.getData();S.setData({tableData:D});s.setModel(S);s.bindRows("/tableData");if(a.metadata!==undefined){for(var x=0;x<e.name.length;x++){var w=a.metadata.getPropertyMetadata(e.value[x]);if(w["aggregation-role"]==="measure"){var P=s.getColumns()[x];P.setHAlign(I.End)}}}return s}function j(e){var t=e.getData();var a=[],i;var n={name:[],value:[]};a=e.oParameter.dimensions.concat(e.oParameter.measures).length?e.oParameter.dimensions.concat(e.oParameter.measures):e.parameter.properties;if(t.length!==0){for(var o=0;o<a.length;o++){n.value[o]=a[o].fieldName;var r=e.metadata.getPropertyMetadata(a[o].fieldName).label||e.metadata.getPropertyMetadata(a[o].fieldName).name;var s="";if(e.metadata!==undefined&&e.metadata.getPropertyMetadata(a[o].fieldName).unit!==undefined){var l=e.metadata.getPropertyMetadata(a[o].fieldName).unit;s=e.getData()[0][l];for(i=0;i<e.getData().length;i++){if(s!==e.getData()[i][l]){s=undefined;break}}n.name[o]=a[o].fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc).length?r:e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc);if(s!==undefined&&s!==""){n.name[o]=e.oApi.getTextNotHtmlEncoded("displayUnit",[n.name[o],s])}}else{n.name[o]=a[o].fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc).length?r:e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc)}}}return n}function _(e){var t;var a=e.getSelectedSortItem();e.getSortItems().forEach(function(e){if(e.getId()===a){t=e.getKey()}});return t}var z=function(e,t){this.oViewSettingDialog=undefined;this.aDataResponse=[];this.aValidatedFilter=[];this.aFiltersInTable=[];this.oParameter=t;this.orderby=t.orderby;this.omitTopAndSkipOptionsForNextPathUpdate=false;sap.apf.ui.representations.BaseUI5ChartRepresentation.apply(this,[e,t]);this.alternateRepresentation=t.alternateRepresentationType;this.type=sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION;this.oPaginationHandler=new sap.apf.ui.representations.utils.PaginationHandler(this);this.oPaginationDisplayOptionHandler=new sap.apf.ui.representations.utils.PaginationDisplayOptionHandler;this._drawSelection=function(e){var t=this.oParameter.requiredFilters;var a=t&&t.length>0?t[0]:undefined;var i=e.getParameter("userInteraction");var n=e.getParameter("rowIndices");if(!i||n.length===0){return}if(e.getSource().getFocusDomRef()&&e.getSource().getFocusDomRef().offsetTop!==0){this.nFirstVisibleRow=this.tableControl.getFirstVisibleRow()}L(this,a,n);var o=jQuery.unique(this.aFiltersInTable);k(this,o)};this._handleSelectionEvent=function(e){this._drawSelection(e)};this._getSelectedIndicesInTable=function(e){var t=this;var a=[];t.aDataResponse.forEach(function(i,n){var o=i[e];if(t.aFiltersInTable.indexOf(o)!==-1){a.push(n)}});return a}};z.prototype=Object.create(sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype);z.prototype.constructor=z;z.prototype.setData=function(e,t,a,i){var n=this;var o,r;if(!t){var s=this.oApi.createMessageObject({code:"6004",aParameters:[this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(s)}this.metadata=t;this.oFormatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},this.metadata,this.aDataResponse);if(this.oParameter.requiredFilters.length>0){o=this.oParameter.requiredFilters[0];r=t.getPropertyMetadata(o).text}if(!this.oParameter.isAlternateRepresentation){if(o){this.aValidatedFilter=[];if(i&&i.length>0){i.forEach(function(e){n.aValidatedFilter.push(e[o]);n.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(e[o],e[r])});n.aFiltersInTable=n.aValidatedFilter}else{n.aFiltersInTable=[]}}var l=this.getRequestOptions();var p=l.paging&&l.paging.skip;this.nDataResponseCount=a;if(p===undefined||p===0){this.aDataResponse=e}else{e.map(function(e){n.aDataResponse.push(e)})}if(!this.oParameter.top&&this.titleControl){var d=this.aDataResponse&&this.aDataResponse.length||0;var u=this.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[this.title,d,a]);this.titleControl.setText(u)}}else{this.aDataResponse=e}if(r){this.aDataResponse.forEach(function(e){n.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(e[o],e[r])})}};z.prototype.getFilter=function(){this.filter=this.oRepresentationFilterHandler.createFilterFromSelectedValues(this.aFiltersInTable);return this.filter};z.prototype.getSelections=function(){var e=this,t=[],a;var i=e.parameter.requiredFilters[0];V(e,i);e.aFiltersInTable.forEach(function(n){a=e.oPaginationDisplayOptionHandler.getDisplayNameForPaginatedFilter(n,e.parameter.requiredFilterOptions,i,e.oFormatter,e.metadata);t.push({id:n,text:a})});return t};z.prototype.markSelectionInTable=function(e){var t=this.oParameter.requiredFilters?this.oParameter.requiredFilters[0]:undefined;if(t){var a=this._getSelectedIndicesInTable(t);if(this.oParameter.isAlternateRepresentation){var i=[];var n=this.tableControl.getBinding().aIndices;a.forEach(function(e){i.push(n.indexOf(e))});a=i}this.tableControl.clearSelection();if(a.length>0){N(this.tableControl,a)}}};z.prototype.getRequestOptions=function(e,t){this.bIsAlternateRepresentation=t;if(e){this.oPaginationHandler.resetPaginationOption()}var a={paging:{},orderby:[]};if(e){this.omitTopAndSkipOptionsForNextPathUpdate=false}if(this.omitTopAndSkipOptionsForNextPathUpdate){a.paging={inlineCount:true}}else if(!this.bIsAlternateRepresentation){a.paging=this.oPaginationHandler.getPagingOption(this.oParameter.top)}if(this.orderby){a.orderby=this.orderby}if(this.oViewSettingDialog){var i=_(this.oViewSettingDialog);if(i){var n={property:_(this.oViewSettingDialog),ascending:!this.oViewSettingDialog.getSortDescending()};this.orderby=[n];a.orderby=[n]}}return a};z.prototype.resetPaginationForTable=function(){this.omitTopAndSkipOptionsForNextPathUpdate=false;this.oPaginationHandler.resetPaginationOption()};z.prototype.getMainContent=function(e,t,a){var i=this;var n=this.getData();this.title=e;var o=this.oParameter.dimensions.concat(this.oParameter.measures).length?this.oParameter.dimensions.concat(this.oParameter.measures):this.oParameter.properties;var r=j(this);var s;if(!e){s=this.oApi.createMessageObject({code:"6002",aParameters:["title",this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(s)}if(o.length===0){s=this.oApi.createMessageObject({code:"6002",aParameters:["dimensions",e]});this.oApi.putMessage(s)}if(!n||n.length===0){s=this.oApi.createMessageObject({code:"6000",aParameters:[e]});this.oApi.putMessage(s)}var l;if(this.oParameter.isAlternateRepresentation){l=q(this,e,n.length,true,t)}else{l=q(this,e,n.length,false,t)}this.tableControl=W(r,l,this,t);this.tableControl.addAriaLabelledBy(l.getItems()[0]);this.tableControl.addEventDelegate({onAfterRendering:function(){if(i.oParameter){i.markSelectionInTable(true);if(i.loadAllButton){i.loadAllButton.fireEvent("setFocusOnLoadAllButtonEvent")}if(!i.oParameter.top&&!i.oParameter.isAlternateRepresentation&&i.nDataResponseCount>100){i.oPaginationHandler.attachPaginationOnTable(i)}}}});this.tableControl.attachRowSelectionChange(this._handleSelectionEvent.bind(this));this.oLoadMoreLink=new T({text:this.oApi.getTextNotHtmlEncoded("moreIcon"),visible:false});var p=new x({fitContainer:true,items:[this.tableControl,this.oLoadMoreLink]}).addStyleClass("tableRepresentation");if(a){p.setHeight(a+"px")}return p};z.prototype.getThumbnailContent=function(){var e;var t=this.getData();var a=this.oParameter.isAlternateRepresentation?"sap-icon://table-view":"sap-icon://table-chart";if(t!==undefined&&t.length!==0){var i=new c({src:a,size:"70px"}).addStyleClass("thumbnailTableImage");e=i}else{var n=new v({text:this.oApi.getTextNotHtmlEncoded("noDataText")}).addStyleClass("noDataText");e=new m({content:n})}return e};z.prototype.removeAllSelection=function(){U(this);this.tableControl.clearSelection();this.oApi.selectionChanged()};z.prototype.getPrintContent=function(e){var t=this.tableControl.clone();t.getColumns().forEach(function(e){e.setWidth("auto");e.getTemplate().setWrapping(true)});var a=this.tableControl.getSelectedIndices();t.setVisibleRowCountMode(H.Fixed);t.setVisibleRowCount(t.getModel().getData().tableData.length);t.onAfterRendering=function(){a.forEach(function(e){t.getRows()[e].getDomRef().classList.add("sapTableSelectionForPrint")})};var i={oRepresentation:t};return i};z.prototype.getViewSettingDialog=function(){if(!this.oViewSettingDialog){var e={oTableInstance:this};var t=new sap.ui.view({type:f.JS,viewName:"sap.apf.ui.reuse.view.viewSetting",viewData:e});this.oViewSettingDialog=t.getContent()[0];this.oViewSettingDialog.addStyleClass("sapUiSizeCompact")}return this.oViewSettingDialog};z.prototype.loadAll=function(){this.omitTopAndSkipOptionsForNextPathUpdate=true;if(this.loadAllButton){B(this)}this.oApi.selectionChanged()};z.prototype.exportExcel=function(e){var t=this;function a(){var e=j(t);var a=[];var i,n;for(i=0;i<e.value.length;i++){n=sap.apf.ui.utils.determineColumnSettingsForSpreadSheetExport(e.value[i],t.metadata);n.property=e.value[i];n.label=e.name[i];a.push(n)}return a}var i=this.getData();var n=a();var o={workbook:{columns:n},dataSource:i,fileName:e+".xlsx"};var r=new sap.ui.export.Spreadsheet(o);r.build()};z.prototype.onChartSwitch=function(){this.resetPaginationForTable()};z.prototype.destroy=function(){if(this.orderby){this.orderby=null}if(this.oParameter){this.oParameter=null}if(this.oViewSettingDialog){this.oViewSettingDialog.destroy()}if(this.aDataResponse){this.aDataResponse=null}if(this.aValidatedFilter){this.aValidatedFilter=[]}if(this.aFiltersInTable){this.aFiltersInTable=[]}sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype.destroy.call(this)};return z},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/treeTable", ["sap/apf/core/constants","sap/apf/ui/utils/formatter","sap/apf/modeler/ui/utils/constants","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/paginationDisplayOptionHandler","sap/m/FlexItemData","sap/m/Label","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/model/BindingMode","sap/ui/table/Column","sap/ui/table/library","sap/ui/table/TreeTable"],function(e,t,r,a,i,o,n,l,s,p,u,d,c,f){"use strict";var T=p.HorizontalAlign,g=c.SelectionMode,h=c.VisibleRowCountMode;function b(e){return e.metadata.getPropertyMetadata(e.requiredFilter).text}function y(e){return e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeExternalKeyFor}function m(e,t){if(e){if(t.getPropertyMetadata(e)["filter-restriction"]==="single-value"){return g.Single}return g.MultiToggle}return g.None}function F(e,t,r){var a;var i=function(e){return function(t){if(r.metadata!==undefined){var a;if(t){a=r.oFormatter.getFormattedValue(e,t);if(a!==undefined){return a}}}return t}};a=new f({showNoData:false,title:t,enableSelectAll:false,visibleRowCountMode:h.Auto});a.setLayoutData(new o({growFactor:1}));a.addStyleClass("sapUiSizeCompact");a.setSelectionMode(m(r.requiredFilter,r.metadata));var s=[],p,c;e.name.forEach(function(t,r){p=(new l).bindText(e.value[r],i(e.value[r]),u.OneWay);c=new d({label:new n({text:t}),template:p,tooltip:t});s.push(c)});s.forEach(function(e){a.addColumn(e)});r.oTreeTableModel.attachBatchRequestCompleted(function(){if(r.oApi.getUiApi().getLayoutView().getController()&&r.oApi.getUiApi().getLayoutView().getController().byId("stepContainer")){r.oApi.getUiApi().getLayoutView().getController().byId("stepContainer").getContent()[0].byId("idStepLayout").setBusy(false)}C(r,a,e);if(r.oRepresentationFilterHandler!==null){if(r.oRepresentationFilterHandler!==undefined){if(r.oRepresentationFilterHandler.getFilterValues().length>0){v(r)}else{r.oTreeTable.clearSelection()}}}});r.oTreeTableModel.attachBatchRequestSent(function(e){if(r.oApi.getUiApi().getLayoutView().getController()&&r.oApi.getUiApi().getLayoutView().getController().byId("stepContainer")){r.oApi.getUiApi().getLayoutView().getController().byId("stepContainer").getContent()[0].byId("idStepLayout").setBusy(true)}});a.setModel(r.oTreeTableModel);a.bindRows(r.oTreeTableControlObject);return a}function v(e){var t=e.oTreeTable.getRows();e.oTreeTable.clearSelection();setTimeout(function(){t.forEach(function(t,r){var a=t.getBindingContext();if(a){var i=a.getProperty(e.requiredFilter);e.oRepresentationFilterHandler.getFilterValues().forEach(function(t){if(i===t){e.oTreeTable.addSelectionInterval(r,r)}})}})},1)}function C(e,t,r){if(e.metadata!==null){if(e.metadata!==undefined){for(var a=0;a<r.name.length;a++){var i=e.metadata.getPropertyMetadata(r.value[a]);if(i["aggregation-role"]==="measure"){var o=t.getColumns()[a];o.setHAlign(T.End)}}}}}function A(e,t){var r=e.oTreeTable.getContextByIndex(t).getProperty(e.requiredFilter);var a=e.oTreeTable.getSelectionMode(e.requiredFilter);var i=e.oTreeTable.isIndexSelected(t);var o=e.oTreeTable.getContextByIndex(t).getProperty(b(e));var n=e.oTreeTable.getContextByIndex(t).getProperty(y(e));e.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(r,o,n);var l=e.oRepresentationFilterHandler.getFilterValues();if(i){l=x(e,a,r,l)}else{l=S(e,a,r,l)}E(e,l)}function R(e){e.oRepresentationFilterHandler.clearFilters()}function P(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function x(e,t,r,a){if(t===g.Single){a=[r]}else{a.push(r)}return P(a)}function S(e,t,r,a){if(t===g.Single){a=[]}else{var i=a.indexOf(r);if(i!==-1){a.splice(i,1)}}return a}function E(e,t){R(e);e.oRepresentationFilterHandler.updateFilterFromSelection(t);e.oApi.selectionChanged()}function H(e){var t={name:[],value:[]};var r=e.oParameters.hierarchicalProperty.concat(e.oParameters.properties);r.forEach(function(r,a){var i=r.fieldName;var o=e.metadata.getPropertyMetadata(i).label||e.metadata.getPropertyMetadata(i).name;if(r.kind===sap.apf.modeler.ui.utils.CONSTANTS.propertyTypes.HIERARCHIALCOLUMN){if(r.labelDisplayOption==="text"){i=e.metadata.getPropertyMetadata(e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeFor).text}else{i=e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeExternalKeyFor}}t.name[a]=r.fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(r.fieldDesc).length?o:e.oApi.getTextNotHtmlEncoded(r.fieldDesc);t.value[a]=i});return t}var w=function(e,t){var r=this;r.oParameters=t;r.requiredFilter=r.oParameters.requiredFilters[0];r.oKeyTextLookup={};r.type=sap.apf.ui.utils.CONSTANTS.representationTypes.TREE_TABLE_REPRESENTATION;sap.apf.ui.representations.BaseUI5ChartRepresentation.apply(r,[e,t]);r.oPaginationDisplayOptionHandler=new sap.apf.ui.representations.utils.PaginationDisplayOptionHandler;r._selectRowInTreeTable=function(e){var t=e.getParameter("userInteraction");var a=e.getParameter("rowIndex");if(!t||a===undefined||a===null){return}A(r,a)};r.handleRowSelectionInTreeTable=function(e){r._selectRowInTreeTable(e)}};w.prototype=Object.create(sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype);w.prototype.constructor=w;w.prototype.getMainContent=function(e){if(!this.oTreeTable){var t=H(this);this.oTreeTable=F(t,e,this);this.oTreeTable.attachRowSelectionChange(this.handleRowSelectionInTreeTable.bind(this))}return new s({fitContainer:true,items:[this.oTreeTable]})};w.prototype.getSelections=function(){var e=[],t=this,r;this.oRepresentationFilterHandler.getFilterValues().forEach(function(a){r=t.oPaginationDisplayOptionHandler.getDisplayNameForPaginatedFilter(a,t.parameter.requiredFilterOptions,t.requiredFilter,t.oFormatter,t.metadata);e.push({id:a,text:r})});return e};w.prototype.removeAllSelection=function(){this.oRepresentationFilterHandler.clearFilters();this.oTreeTable.clearSelection();this.oApi.selectionChanged()};w.prototype.getFilter=function(){var e=this.oApi.createFilter();var t=e.getTopAnd().addOr("exprssionOr");this.oRepresentationFilterHandler.getFilterValues().forEach(function(e){var r={id:e,name:this.requiredFilter,operator:"EQ",value:e};t.addExpression(r)}.bind(this));return e};w.prototype.setFilterValues=function(e){var t=this,r=[];var a=t.requiredFilter;t.oRepresentationFilterHandler.clearFilters();e.forEach(function(e){var i=e[a];var o=e[b(t)];var n=e[y(t)];t.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(i,o,n);r.push(i)});t.oRepresentationFilterHandler.updateFilterFromSelection(r)};w.prototype.updateTreetable=function(e,t,r,a){this.oTreeTableModel=t;this.oTreeTableControlObject=e;this.metadata=r;this.oFormatter=new sap.apf.ui.utils.formatter({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},this.metadata);if(this.oTreeTable&&a){this.oTreeTable.bindRows(this.oTreeTableControlObject)}};w.prototype.getPrintContent=function(e){var t=this.oTreeTable.clone();var r={oRepresentation:t};return r};w.prototype.getSelectedFilterPropertyLabel=function(e){return this.metadata.getPropertyMetadata(e)["hierarchy-node-for"]};w.prototype.destroy=function(){if(this.oParameters){this.oParameters=null}if(this.oTreeTableModel){this.oTreeTableModel=null}if(this.oTreeTableControlObject){this.oTreeTableControlObject=null}if(this.oTreeTable){this.oTreeTable.destroy()}if(this.metadata){this.metadata=null}if(this.oRepresentationFilterHandler){this.oRepresentationFilterHandler=null}sap.apf.ui.representations.BaseUI5ChartRepresentation.prototype.destroy.call(this)};return w},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/chartDataSetHelper", ["sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/viz/ui5/data/FlattenedDataset"],function(t,e,a,i,jQuery,n){"use strict";function r(t,e){this.oFormatter=t;this.aDataResponseWithDisplayValue=[];this.oDisplayOptionHandler=new sap.apf.ui.representations.utils.DisplayOptionHandler;this.oTimeAxisDateConverter=e;this.oChartDataSet={}}r.getFieldNameForOriginalContentOfProperty=function(t){return"original_"+t};function o(t,e){var a=t.map(function(t){return t.fieldName});return a.indexOf(e)===-1?true:false}function s(t){var e=t.dimensions.concat(t.measures),a;e.forEach(function(t){for(a in t){if(a!=="name"&&a!=="value"&&a!=="dataType"&&a!=="displayValue"&&a!=="identity"){delete t[a]}}})}function p(t,e,i,n){var r=jQuery.extend(true,[],n);var o,s={};t.oTimeAxisDateConverter.createPropertyInfo(e.dimensions);var p=e.dimensions.concat(e.requiredFilters);p.forEach(function(n,p){var l=e.requiredFilterOptions?e.requiredFilterOptions.labelDisplayOption:undefined;var u=n.labelDisplayOption?n.labelDisplayOption:l;var d=n.fieldName?n.fieldName:n;if(u===undefined||u===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT){return r}r.forEach(function(e,p){e[d]=e[d]===null||e[d]===undefined?e[d]:e[d].toString();if(u===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY){o="formatted_"+d;if(!r[p][o]){r[p][o]=t.oFormatter.getFormattedValue(d,r[p][d])}}if(u===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){var l=i.getPropertyMetadata(d).text;o=d+"_"+l;var f={text:r[p][l],key:r[p][d]};r[p][o]=t.oFormatter.getFormattedValueForTextProperty(d,f)}if(t.oTimeAxisDateConverter.bIsConversionToDateRequired(n.fieldName,i)){var h=e[d];var m=sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty(d);if(e[m]){s[h]=e[m]}else{var c=a.convertFiscalYearMonthDayToDateString(h)+"";s[c]=h;e[d]=c;e[m]=h}}})});t.oTimeAxisDateConverter.setConvertedDateLookUp(s);return r}r.prototype.constructor=r;r.prototype.createFlattenDataSet=function(t,e,a,i){var n=this;this.aDataResponseWithDisplayValue=p(this,t,e,a);t.dimensions.forEach(function(t,a){t.name=n.oDisplayOptionHandler.getDisplayNameForDimension(t,e,i);t.value="{"+t.fieldName+"}";t.identity=t.fieldName;t.displayValue="{"+n.oDisplayOptionHandler.getColumnNameBasedOnDisplayOption(t.fieldName,t.labelDisplayOption,e)+"}"});t.measures.forEach(function(t){t.name=n.oDisplayOptionHandler.getDisplayNameForMeasure(t,e,a,i);t.value="{"+t.fieldName+"}";t.identity=t.fieldName});var r={dimensions:t.dimensions,measures:t.measures};var l=t.requiredFilters[0];this.oChartDataSet=jQuery.extend(true,{},r);this.oChartDataSet.context=[];s(this.oChartDataSet);if(l&&o(t.dimensions,l)){this.oChartDataSet.context.push(l);this.oChartDataSet.dimensions.push({name:l,value:"{"+l+"}",identity:l})}this.oChartDataSet.data={path:"/data"}};r.prototype.addUnusedDimensionsToChartContext=function(t,e){if(e.length===0){return}var a=[];this.oChartDataSet.dimensions.forEach(function(e){var i=e.identity;a.push(i);var n=t.getPropertyMetadata(i).text;if(n){a.push(n)}});this.oChartDataSet.measures.forEach(function(t){a.push(t.identity)});var i=Object.keys(e[0]);i.forEach(function(e){if(a.indexOf(e)>=0||e==="__metadata"){return}var i=t.getPropertyMetadata(e);if(i&&i["aggregation-role"]==="measure"){return}this.addPropertyToContext(e,i)}.bind(this))};r.prototype.addPropertyToContext=function(t,e){var a=e&&e.label?e.label:t;this.oChartDataSet.context.push(t);this.oChartDataSet.dimensions.push({name:a,value:"{"+t+"}",identity:t})};r.prototype.getFlattenDataSet=function(){return new n(this.oChartDataSet)};r.prototype.getModel=function(){var t=new i({data:this.aDataResponseWithDisplayValue});return t};e("sap.apf.ui.representations.utils.ChartDataSetHelper",r);return r});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/displayOptionHandler", ["sap/apf/core/constants","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";function a(){}function n(e,t){var a,n=false;var r=e[0][t];for(a=0;a<e.length;a++){if(r!==e[a][t]){n=true;break}}return n}a.prototype.constructor=a;a.prototype.getColumnNameBasedOnDisplayOption=function(e,t,a){var n;var r=e;if(t===undefined){n=r}if(t===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT){n=a.getPropertyMetadata(r).text}if(t===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY){n="formatted_"+r}if(t===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){n=r+"_"+a.getPropertyMetadata(r).text}return n};a.prototype.getDisplayNameForMeasure=function(e,t,a,r){var o=t.getPropertyMetadata(e.fieldName);var i=o.label?o.label:o.name;var p=t.getPropertyMetadata(o.name).unit;var s=a[0]?a[0][p]:undefined;if(e.fieldDesc){i=r.getTextNotHtmlEncoded(e.fieldDesc)}if(p&&s&&!n(a,p)){i=r.getTextNotHtmlEncoded("displayUnit",[i,s])}return i};a.prototype.getDisplayNameForDimension=function(e,t,a){var n=t.getPropertyMetadata(e.fieldName);var r=n.label?n.label:n.name;if(e.fieldDesc){r=a.getTextNotHtmlEncoded(e.fieldDesc)}return r};t("sap.apf.ui.representations.utils.DisplayOptionHandler",a);return a});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/paginationDisplayOptionHandler", ["sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/core/metadataProperty"],function(e,t,a,r){"use strict";function o(){this.oKeyTextForProperties={};this.oDisplayValueForProperties={}}o.prototype.createDisplayValueLookupForPaginatedFilter=function(e,t,a){this.oKeyTextForProperties[e]=t;if(a){this.oDisplayValueForProperties[e]=a}};o.prototype.getDisplayNameForPaginatedFilter=function(e,t,r,o,i){var s=e,p;var l=new sap.apf.core.MetadataProperty(i.getPropertyMetadata(r));if(this.oDisplayValueForProperties[e]){s=this.oDisplayValueForProperties[e]}if(t&&t.labelDisplayOption){if(t.labelDisplayOption===sap.apf.core.constants.representationMetadata.labelDisplayOptions.TEXT&&this.oKeyTextForProperties[e]){return this.oKeyTextForProperties[e]}else if(t.labelDisplayOption===sap.apf.core.constants.representationMetadata.labelDisplayOptions.KEY_AND_TEXT&&this.oKeyTextForProperties[e]){p={key:a.convertToExternalFormat(s,l),text:this.oKeyTextForProperties[e]};return o.getFormattedValueForTextProperty(r,p)}}return a.convertToExternalFormat(s,l)};t("sap.apf.ui.representations.utils.PaginationDisplayOptionHandler",o);return o});
/* SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/paginationHandler", ["sap/apf/utils/exportToGlobal","sap/ui/Device"],function(t,i){"use strict";function n(){this.pagingOption={top:100,skip:0}}n.prototype.constructor=n;function e(t,i){t.pagingOption.skip=i.getData().tableData.length;t.pagingOption.top=99}function a(t,i){var n=i.tableControl.getModel();var a=n.getData();e(t,n);if(!t.bPaginationTriggered&&t.pagingOption.skip<i.nDataResponseCount){i.tableControl.getParent().setBusy(true);sap.ui.getCore().applyChanges();var o=i.oApi.getActiveStep();t.bPaginationTriggered=true;i.oApi.updatePath(function(e,p){t.bPaginationTriggered=false;if(e===o){n.setData(a);i.markSelectionInTable();i.tableControl.getParent().setBusy(false);if(n.getData().tableData.length>=i.nDataResponseCount){i.oLoadMoreLink.setVisible(false)}}})}}function o(t,i){i.oLoadMoreLink.setVisible(true);i.oLoadMoreLink.attachPress(function(){a(t,i)})}function p(t,i){var n=i.tableControl;i.tableControl.attachFirstVisibleRowChanged(function(e){var o=e.getParameter("firstVisibleRow");var p=n.getVisibleRowCount();var s=t.pagingOption.top+t.pagingOption.skip;if(o+p+10>s){a(t,i)}})}n.prototype.attachPaginationOnTable=function(t){if(i.system.desktop){p(this,t)}else{o(this,t)}};n.prototype.getPagingOption=function(t){var i,n;if(t){i=t;n=0}else if(this.pagingOption.top!==100&&this.pagingOption.skip!==0){i=this.pagingOption.top;n=this.pagingOption.skip}else{i=100;n=0}this.pagingOption={inlineCount:t?false:true,top:i,skip:n};return this.pagingOption};n.prototype.resetPaginationOption=function(){this.pagingOption={top:100,skip:0}};t("sap.apf.ui.representations.utils.PaginationHandler",n);return n});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/representationFilterHandler", ["sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/core/metadataProperty","sap/ui/thirdparty/jquery"],function(e,t,r,a,jQuery){"use strict";function i(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function o(e,t,a){var i,o;var s=e.oParameter.requiredFilters[0];if(s){var n=e.oParameter.requiredFilterOptions?e.oParameter.requiredFilterOptions.labelDisplayOption:undefined;var l=e.oDisplayOptionHandler.getColumnNameBasedOnDisplayOption(s,n,t);var u=new sap.apf.core.MetadataProperty(t.getPropertyMetadata(l));e.aFilterValues.forEach(function(t){for(i=0;i<a.length;i++){if(a[i][s]===t){if(a[i]["formatted_"+l]){o=a[i]["formatted_"+l]}else{o=r.convertToExternalFormat(a[i][l],u)}break}}e.filterValueLookup[t]=o})}}function s(e,t,r){this.oApi=e;this.aFilterValues=[];this.oParameter=t;this.sRequiredFilter=this.oParameter.requiredFilters[0];this.oDisplayOptionHandler=new sap.apf.ui.representations.utils.DisplayOptionHandler;this.filterValueLookup={};this.oTimeAxisDateConverter=r}s.prototype.constructor=s;s.prototype.setMetadataAndDataResponse=function(e,t){this.oMetadata=e;this.aDataResponse=t};s.prototype.validateFiltersWithDataset=function(){var e=[];var t=this.aDataResponse.map(function(e){return e[this.sRequiredFilter]}.bind(this));e=this.aFilterValues.filter(function(e){return t.indexOf(e)!==-1});this.aFilterValues=e};s.prototype.createFilterFromSelectedValues=function(e){var t=this,r=false,a;var o=this.oApi.createFilter();if(e&&e.length>0){this.aFilterValues=i(e.concat(this.aFilterValues))}var s=o.getTopAnd().addOr("exprssionOr");var n=o.getOperators().EQ;r=t.oTimeAxisDateConverter.bIsConversionToDateRequired(this.oParameter.requiredFilters[0],this.oMetadata);this.aFilterValues.forEach(function(e){if(r){a=t.oTimeAxisDateConverter.getConvertedDateLookUp()[e]||e}else{a=e}var i={id:e,name:t.sRequiredFilter,operator:n,value:a};s.addExpression(i)});return o};s.prototype.updateFilterFromSelection=function(e){var t=i(e);this.aFilterValues=t.slice(0)};s.prototype.clearFilters=function(){this.aFilterValues=[]};s.prototype.getDisplayInfoForFilters=function(e,t){var r=[],a=this;o(a,e,t);a.aFilterValues.forEach(function(e){var t={id:e,text:a.filterValueLookup[e]};r.push(t)});return r};s.prototype.getFilterValues=function(){return this.aFilterValues};s.prototype.getIfSelectedFilterChanged=function(e){var t=jQuery(this.aFilterValues).not(e).length===0&&jQuery(e).not(this.aFilterValues).length===0;return!t};t("sap.apf.ui.representations.utils.RepresentationFilterHandler",s);return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/timeAxisDateConverter", ["sap/apf/utils/exportToGlobal"],function(o){"use strict";function e(){this.oConversionDate={};this.oDimensionInfo={}}e.prototype.constructor=e;e.prototype.bIsConversionToDateRequired=function(o,e){if(!this.oDimensionInfo||!this.oDimensionInfo[o]){return false}if(this.oDimensionInfo[o].conversionEvaluated){return this.oDimensionInfo[o].conversionRequired}this.oDimensionInfo[o].conversionEvaluated=true;if(this.oDimensionInfo[o].dataType==="date"&&e.getPropertyMetadata(o).semantics==="yearmonthday"){this.oDimensionInfo[o].conversionRequired=true;return true}this.oDimensionInfo[o].conversionRequired=false;return false};e.prototype.setConvertedDateLookUp=function(o){this.oConversionDate=o};e.prototype.getConvertedDateLookUp=function(){return this.oConversionDate};e.prototype.createPropertyInfo=function(o){var e=this;o.forEach(function(o){e.oDimensionInfo[o.fieldName]=o})};o("sap.apf.ui.representations.utils.TimeAxisDateConverter",e);return e});
/*!

 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/vizFrameSelectionHandler", ["sap/apf/ui/representations/utils/chartDataSetHelper","sap/apf/utils/exportToGlobal"],function(t,r){"use strict";function e(t,r){this.oParameter=t;this.oApi=r}var a=e.prototype;a.constructor=e;var i={isFilterMatch:function(t){var r=t.filterValue;var e=t.dataRow;var a=t.sRequiredProperty;var i=t.fieldForOriginalValue;return r==e[a]||r==e[i]},determine1Selection:function(t){var r=t.dataRow;var e=t.sRequiredProperty;var a=t.aDataPoint;if(i.isFilterMatch(t)){var n={data:{}};n.data[e]=r[e];a.push(n)}}};function n(t,r){var e=[];r.forEach(function(r){var a={data:{}};a.data[t]=r.data?r.data[t]:r;e.push(a)});return e}function o(t){return t.filter(function(t,r,e){return e.indexOf(t)===r})}a.getSelectionInfoFromEvent=function(t,r,e){var a,i,u=this;var f=u.oParameter.requiredFilters[0];var l=t.mParameters.data.map(function(t){return t.data[f]});var c=e.map(function(t){return t.data[f]});if(r){i=o(c).filter(function(t){return l.indexOf(t)===-1})}else{i=o(l.concat(c))}a=n(f,i);return{dataPointsFromSelection:a,aUniqueFilterValueFromChart:i}};a.getSelectionInfoFromFilter=function(t,r,e){var a=[];var n=this.oParameter.requiredFilters[0];var o=sap.apf.ui.representations.utils.ChartDataSetHelper.getFieldNameForOriginalContentOfProperty(n);if(n){r.forEach(function(r){t.forEach(function(t){i.determine1Selection({dataRow:r,filterValue:t,sRequiredProperty:n,aDataPoint:a,fieldForOriginalValue:o})})})}return a};function u(){return i}r("sap.apf.ui.representations.utils.VizFrameSelectionHandler",e);return{constructor:e,_getLocal:u}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/analysisPath.controller", ["sap/ui/core/mvc/Controller","sap/apf/utils/trace","sap/ui/Device"],function(t,e,i){"use strict";return t.extend("sap.apf.ui.reuse.controller.analysisPath",{refreshAnalysisPath:function(t){if(this.getView().getCarouselView().getController().oCoreApi.getSteps().length<2){this.getView().getCarouselView().getController().getView().moveDownButton.setEnabled(false);this.getView().getCarouselView().getController().getView().moveUpButton.setEnabled(false)}this.getView().getCarouselView().getController().showStepChartChartAfterUpdate()},isOpenPath:false,isNewPath:false,isBackNavigation:false,bLastValidState:false,onInit:function(){this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;if(i.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},refresh:function(t){e.logCall("AnalysisPath.refresh"," inx=",t);function i(){var e=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());if(e>t){var i=this.oUiApi.getStepContainer();i.stepLayout.setBusy(true)}}i.bind(this)();if(!this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){this.oCoreApi.setDirtyState(true);this.oUiApi.getLayoutView().getController().setPathTitle()}e.logReturn("refresh")},updateCustomListView:function(t,e,i){this.getView().getCarouselView().getController().updateCustomListView(t,e,i)},callBackForUpdatePath:function(t,i){e.logCall("AnalysisPath.callBackForUpdatePath"," changed?",i," chart=",t.getSelectedRepresentation().chart?t.getSelectedRepresentation().chart.sId:"NULL");try{var a=this.oCoreApi.getSteps().indexOf(t);if(a===0){this.refreshAnalysisPath(a)}this.updateCurrentStep(t,a,i);this.updateCustomListView(t,a,i)}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("callBackForUpdatePath")},callBackForUpdatePathAndSetLastStepAsActive:function(t,i){e.logCall("AnalysisPath.callBackForUpdatePathAndSetLastStepAsActive"," changed?",i," chart=",t.getSelectedRepresentation().chart?t.getSelectedRepresentation().chart.sId:"NULL");try{var a=this.oCoreApi.getSteps().indexOf(t);if(a===0){var s=this.oCoreApi.getSteps()[this.oCoreApi.getSteps().length-1];this.oCoreApi.setActiveStep(s);this.refreshAnalysisPath()}this.updateCurrentStep(t,a,i);this.updateCustomListView(t,a,i);this.oUiApi.getLayoutView().setBusy(false)}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("AnalysisPath.callBackForUpdatePathAndSetLastStepAsActive")},getIsOpenPath:function(){return this.isOpenPath===true?true:false},setIsOpenPath:function(t){this.isOpenPath=t?true:false},updateCurrentStep:function(t,i,a){e.logCall("AnalysisPath.updateCurrentStep",", inx=",i,", changed?",a,", #core.path=",this.oCoreApi.getSteps().length);try{var s=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());var o=i===s;e.log("updateCurrentStep",", isOpenPath=",this.isOpenPath,", nActiveIndex=",s);if(o){this.drawMainChart(a,o)}if(this.isOpenPath&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.isOpenPath=false}if(this.isBackNavigation&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.isBackNavigation=false}if(this.bLastValidState&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.bLastValidState=false}this.isNewPath=false}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("updateCurrentStep",", isOpenPath="+this.isOpenPath)},drawMainChart:function(t,i){e.logCall("AnalysisPath.drawMainChart");var a=this.oUiApi.getStepContainer();a.getController().drawStepContent(t,i);e.logReturn("drawMainChart")},navigateToStep:function(t){this.getView().getCarouselView().getController().changeActiveStep(t)},apfDestroy:function(){e.logCall("AnalysisPath.apfDestroy ******");this.getView().getToolbar().getController().apfDestroy();this.getView().getCarouselView().getController().apfDestroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/carousel.controller", ["sap/apf/utils/utils","sap/apf/ui/utils/wrappedChartWithCornerTexts","sap/apf/utils/trace","sap/base/Log","sap/ui/Device"],function(e,t,i,o,n){"use strict";var s=0;var r=" ************************************** ";var a=" -------------------------------------- ";function h(e,t,o,n,s){if(jQuery.sap.log.apfTrace===undefined){return}var r=u(e,t,o,n,s);i.log("Carousel."+t,r)}function l(e){var t="";e.forEach(function(e,i){var o=e.oChart;if(o){t+="'"+o.sId+"',"}else{t+="'"+o+"',"}});t=e.length===0?"[]":"["+t.slice(0,t.length-1)+"]";return t}function g(e){var t="";var i=e.getView().getCustomItemList();i.forEach(function(e,i){t+="'"+e.sId+"',"});t=i.length===0?"[]":"["+t.slice(0,t.length-1)+"]";return t}function p(e){return", relation="+l(e._relateChartsToItems)+" // "+g(e)+" #path="+e.oCoreApi.getSteps().length}function u(e,t,i,o,n){n=n||"";var s="";var r="-";var a;var h="-";if(o){a=o.getSelectedRepresentation();h=a.type}var l="";if(i===-1){return s+n}l+=": inx="+i;l+=r==="-"||r===false?"":", is iconic";l+=h==="-"?"":", repr.type="+h;l+=p(e);l+=n===""?"":"\n --- "+n+"---";return s+l}var c=sap.ui.controller("sap.apf.ui.reuse.controller.carousel",{cloneCnt:0,paddingLeft:10,paddingRight:10,paddingBottom:15,paddingTop:15,_relateChartsToItems:[],onAfterRendering:function(){},onInit:function(){if(n.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}var e=this.getView().getViewData().oInject;this.oCoreApi=e.oCoreApi;this.oUiApi=e.uiApi;this._relateChartsToItems=[]},showStepGallery:function(){this.getView().getStepGallery().getController().openHierarchicalSelectDialog()},onBeforeRendering:function(){if(!n.system.desktop){this.oUiApi.getLayoutView().getController().showMasterFooter(this.getView().addStepButton,this.getView().moveUpButton,this.getView().moveDownButton)}else{this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().addStepButton);this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().moveUpButton);this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().moveDownButton)}},getStepData:function(e){var t={};t.index=this.oCoreApi.getSteps().indexOf(e);t.title=this.oCoreApi.getTextNotHtmlEncoded(e.title);t.oStepTexts=this.getTextsForCustomListItem(e);return t},update1CustomItemChartWhenChange:function(e,t){i.logCall("update1CustomItemChartWhenChange",t,e);var o=e.getSelectedRepresentation();var n=this._relateChartsToItems[t].oChart;if(!n){i.logReturn("update1CustomItemChartWhenChange: chart reference is undefined");return}i.log("...",", #oClonedChart.oModel before update:",n.getModel().getData().data.length);o.createDataset();n.setModel(o.oModel);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);i.logReturn("update1CustomItemChartWhenChange",", #oClonedChart.oModel:",n.getModel().getData().data.length)},_setSelectionsOnThumbnailAndEnforceRendering:function(e,t){var o=this;var n=s++;i.emphasize("_setSelectionsOnThumbnailAndEnforceRendering, nIndex="+t," set timeout, tick=",n);setTimeout(function(){i.emphasize("_setSelectionsOnThumbnailAndEnforceRendering, nIndex="+t," resolved timeout, tick=",n);o.setSelectionsOnThumbnail(e,t)},1)},getActiveStepIndex:function(){if(this.oCoreApi.getSteps().length>1){this.getView().moveDownButton.setEnabled(true);this.getView().moveUpButton.setEnabled(true)}return this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep())},deleteFromBookkeeping:function(e){if(e>=0){this._relateChartsToItems.splice(e,1)}},setSelectionsOnThumbnail:function(e,n){var s=e.getSelectedRepresentation();if(t.isIconDisplayed(s)){i.log("setSelectionsOnThumbnail","iconic, no selections applied, return");return}var r=this._relateChartsToItems[n].oChart;i.logCall("setSelectionsOnThumbnail",", nIndex",n);if(!r){o.error("***** setSelectionsOnThumbnail: chart reference is undefined");return}var a=s.oRepresentationFilterHandler.getFilterValues();var h=s.oVizFrameSelectionHandler.getSelectionInfoFromFilter(a,s.aDataResponse);i.log("setSelectionsOnThumbnail",", call oClonedChart.vizSelection"," apfId="+s.apfId,"  chart.id="+r.sId," selections&filters:",h,a);r.vizSelection(h,{clearSelection:true});var l=" #filters:"+a.length;l+=" #vizSelection="+(r.vizSelection()?r.vizSelection().length:"undefined");i.logReturn("setSelectionsOnThumbnail",l)},_createWrappedChartClone:function(e){var i=t.getClonedChart(e);var o=new t.constructor(this,e,i);return{oChart:i,oWrappedView:o.getContent(),wrappedChartWithCornerTexts:o}},_createRelation:function(e){var o=this._createWrappedChartClone(e);var n=this.getView().createCustomListItem(o.oWrappedView);var s=e.getSelectedRepresentation();var r=o.oChart;if(t.isIconDisplayed(s)){r=null}var a={oChart:r,oTable:s.toggleInstance,typeOfChart:s.type,bIsAlternateView:s.bIsAlternateView,customListItem:n,wrappedChartWithCornerTexts:o.wrappedChartWithCornerTexts};i.log("_createRelation"," return=",a);return a},_addStepAsCustomItem:function(e){var t=this._createRelation(e);this.getView().addCustomListItem(t.customListItem);t.wrappedChartWithCornerTexts.setHighlighted();this._relateChartsToItems.push(t);h(this,"_addStepAsCustomItem <<",this._relateChartsToItems.length,e)},_replaceChangedRepresentation:function(e,t){h(this,"_replaceChangedRepresentation",t,e);var o=this._createRelation(e);i.log("",", relation=",o);this._relateChartsToItems[t]=o;this.getView().removeCustomItem(t);this.getView().insertCustomItem(o.customListItem,t);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);h(this,"_replaceChangedRepresentation",t,e)},isChangeOfRepresentation:function(e,t){var o=t.type!==this._relateChartsToItems[e].typeOfChart||t.bIsAlternateView!==this._relateChartsToItems[e].bIsAlternateView;i.log("isChangeOfRepresentation"," return=",o);return o},updateCustomListView:function(e,t,o){var n;try{n=e.getSelectedRepresentation();i.logCall(" --API-- Carousel.updateCustomListView",", nIndex="+t," bStepChanged="+o,"apfId=",n.apfId,p(this),a);if(t>=this._relateChartsToItems.length){this._addCustomItemAndSetHighlighting(e,t)}else if(this.isChangeOfRepresentation(t,n)){this._replaceChangedRepresentation(e,t)}else if(!o){this._setSelectionsOnThumbnailAndEnforceRendering(e,t)}else{this.update1CustomItemChartWhenChange(e,t)}this._pruneRelateChartsToItems();this._setBusyOnCustomListItem(this._relateChartsToItems[t],false)}catch(e){window.console.error("sap.apf .. carousel.controller catch exception: ",e);window.console.trace("trace ")}i.logReturn("updateCustomListView",p(this),a)},_pruneRelateChartsToItems:function(){if(this.oCoreApi.getSteps().length<this._relateChartsToItems.length){this._relateChartsToItems.splice(this.oCoreApi.getSteps().length);i.emphasize("updateCustomListView"," deletion of superfluous custom items")}},_addCustomItemAndSetHighlighting:function(e,t){var i;this._addStepAsCustomItem(e);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);i=this.getActiveStepIndex();this._removeHighlightingOfAnyStep(i);if(i<=t){this._setHighlightingOfActiveStep(i)}},_setBusyOnCustomListItem:function(e,t){setTimeout(function(){e.customListItem.setBusy(t)},1)},setBusyFromIndex:function(e){var t=this;e=e||0;this._relateChartsToItems.forEach(function(i,o){if(o>=e){t._setBusyOnCustomListItem(i,true)}})},showStepChartChartAfterUpdate:function(){var e=this.oCoreApi.getSteps();if(e.length>this.getView().getCustomItemList().length){this.oUiApi.getLayoutView().setBusy(true);jQuery(this.oUiApi.getStepContainer().getDomRef()).show()}},handleMove:function(e){var t=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());var o=t+1;var n=t-1;i.log("Carousel.handleMove",", parameter",e,", activeStepIndex="+t,r);if(e.down&&o<this.oCoreApi.getSteps().length){this._moveStep(t,o,t)}else{if(e.down!==true&&n>=0&&n<this.oCoreApi.getSteps().length){this._moveStep(t,n,n)}}},_moveInBookkeeping:function(e){i.logCall("_moveInBookkeeping",p(this));var t;t=this._relateChartsToItems[e+1];this._relateChartsToItems[e+1]=this._relateChartsToItems[e];this._relateChartsToItems[e]=t;t=this.getView().getCustomItemList()[e+1];this.getView().removeCustomItem(e+1);this.getView().insertCustomItem(t,e);i.logReturn("_moveInBookkeeping",p(this))},_moveStep:function(e,t,o){i.logCall("Carousel._moveStep"," from "+e+" to "+t,"relation=",this._relateChartsToItems);if(e!==t){this.setBusyFromIndex(o);this._moveInBookkeeping(o);var n=this.oCoreApi.getSteps()[e];var s=this.oUiApi.getAnalysisPath().getController();i.log("Carousel._moveStep"," move step in core and update path");this.oCoreApi.moveStepToPosition(n,t,s.callBackForUpdatePath.bind(s))}i.logReturn("_moveStep","relation=",this._relateChartsToItems)},setActiveStepAfterRemove:function(e){var t=this.getActiveStepIndex();if(e===t){var i;if(t===0){i=1;this._setHighlightingOfActiveStep(0)}else if(t===this.oCoreApi.getSteps().length-1){i=t-1;this._setHighlightingOfActiveStep(i)}else{i=t+1;this._setHighlightingOfActiveStep(t)}this.oCoreApi.setActiveStep(this.oCoreApi.getSteps()[i])}},removeStep:function(e){var t=this.oUiApi.getAnalysisPath().getController();var i=this.getActiveStepIndex();if(i===e&&this.oCoreApi.getSteps().length>1){this.setActiveStepAfterRemove(e)}var o=this.oCoreApi.getSteps()[e];this.oCoreApi.removeStep(o,t.callBackForUpdatePath.bind(t));this.oCoreApi.setDirtyState(true);this.oUiApi.getLayoutView().getController().setPathTitle();if(this.oCoreApi.getSteps().length>=1){this.getView().moveDownButton.setEnabled(false);this.getView().moveUpButton.setEnabled(false)}this.oUiApi.getLayoutView().getController().enableDisableOpenIn()},removeAllThumbnails:function(){this._removeItemsAndBookkeepingRelations()},_removeItemsAndBookkeepingRelations:function(){var e=this;e.getView().oCustomItemList.removeAllItems();e._relateChartsToItems.forEach(function(t){e._destroyItemAndChart(t)});e._relateChartsToItems=[]},getTextsForCustomListItem:function(e){var t=this;var i=["leftUpper","rightUpper","leftLower","rightLower"];var o=e.thumbnail;var n=e.getSelectedRepresentationInfo().thumbnail;var s={};i.forEach(function(e){var i=n&&n[e];i=i&&!t.oCoreApi.isInitialTextKey(n[e]);var r=o&&o[e];r=r&&!t.oCoreApi.isInitialTextKey(o[e]);if(i){s[e]=t.oCoreApi.getTextNotHtmlEncoded(n[e]);return}else if(r){s[e]=t.oCoreApi.getTextNotHtmlEncoded(o[e]);return}});return s},_getIndexOfCustomItem:function(e){return this.getView().getCustomItemList().findIndex(function(t){return t.sId===e})},deleteCustomListItem:function(e){var t=this._getIndexOfCustomItem(e);i.log("deleteCustomListItem",", indexOfItem=",t,r);var o=null;if(t>=0){o=this._relateChartsToItems[t];this.getView().removeCustomItem(t);this.deleteFromBookkeeping(t);this.setBusyFromIndex(t);this.removeStep(t);this._destroyItemAndChart(o)}h(this,"deleteCustomListItem",t,null)},_destroyItemAndChart:function(e){if(e.oChart){e.oChart.destroy()}if(e.oTable){e.oTable.tableControl.destroy();e.oTable.destroy()}e.customListItem.destroy();e.customListItem=null;e.oChart=null},listItemPressed:function(e){var t=this._getIndexOfCustomItem(e.getParameters().id);this.changeActiveStep(t)},changeActiveStep:function(e){i.logCall("changeActiveStep -- changes the active step, index=",e,r);if(e===this.getActiveStepIndex()){i.logReturn("changeActiveStep",", index=",e,"******");return}var t=this.oCoreApi.getSteps()[e];this._removeHighlightingOfActiveStep();this.oCoreApi.setActiveStep(t);this.oUiApi.selectionChanged(false);this._setHighlightingOfActiveStep(e);i.logReturn("changeActiveStep",", index=",e,"******")},apfDestroy:function(){var t=this.getView().getStepGallery().getController();e.checkAndCloseDialog(t.oHierchicalSelectDialog)},_removeHighlightingOfActiveStep:function(){var e=this.getActiveStepIndex();var t=this._relateChartsToItems[e];t.wrappedChartWithCornerTexts.setNonHighlighted()},_removeHighlightingOfAnyStep:function(e){i.log("_removeHighlightingOfAnyStep",", nExclude",e);this._relateChartsToItems.forEach(function(t,i){if(i!==e){t.wrappedChartWithCornerTexts.setNonHighlighted()}})},_setHighlightingOfActiveStep:function(e){i.log("_setHighlightingOfActiveStep",", nActive",e);var t=this._relateChartsToItems[e];t.wrappedChartWithCornerTexts.setHighlighted()}});return c});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/deleteAnalysisPath.controller", ["sap/m/Dialog","sap/m/DialogType","sap/m/Text","sap/m/Button","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/core/mvc/Controller"],function(e,t,i,o,a,s,n){"use strict";return n.extend("sap.apf.ui.reuse.controller.deleteAnalysisPath",{onInit:function(){this.oCoreApi=this.getView().getViewData().oInject.oCoreApi;this.oUiApi=this.getView().getViewData().oInject.uiApi;this.oSerializationMediator=this.getView().getViewData().oInject.oSerializationMediator},openPathGallery:function(){var e=new s;e.setData(this.getView().getViewData().jsonData);this.oDialog=this.getView().getContent()[0];this.oDialog.getContent()[0].setModel(e);this.oDialog.setInitialFocus(this.oDialog);this.oDialog.open()},handleDeleteOfDialog:function(e){var t=e.getParameter("listItem").getProperty("title");var i={item:e.getParameter("listItem"),list:this.getView().getContent()[0].getContent()[0],guid:this.getGuidForPath(t,this.getView().getViewData().jsonData.GalleryElements),sPathName:t};this.openConfirmDelDialog(i)},getGuidForPath:function(e,t){var i;for(i=0;i<t.length;i++){var o=t[i];if(o.AnalysisPathName===e){return o.guid}}},deleteSavedPath:function(e,t){var i=this;var o=t.guid;var a=e;var s;var n=i.oUiApi.getLayoutView().getController().oSavedPathName.getText();i.oSerializationMediator.deletePath(o,function(e,o,n){if(n===undefined&&typeof e==="object"){t.list.removeItem(t.item);t.list.rerender();i.oCoreApi.readPaths(function(e,t,o){if(o===undefined&&typeof e==="object"){var n=e.paths.length;if(n===0){jQuery(".pathText").removeClass("pathTextDontShow");jQuery(".pathText").addClass("pathTextShow")}}else{s=i.oCoreApi.createMessageObject({code:"6005",aParameters:[a]});s.setPrevious(o);i.oCoreApi.putMessage(s)}})}else{s=i.oCoreApi.createMessageObject({code:"6009",aParameters:[a]});s.setPrevious(n);i.oCoreApi.putMessage(s)}});if(i.oCoreApi.isDirty()){n=n.substring(1)}if(n===a){i.oUiApi.getAnalysisPath().getToolbar().getController().resetAnalysisPath()}},openConfirmDelDialog:function(s){var n=this;var r=s.sPathName;var l=(new i).addStyleClass("textStyle");l.setText(n.oCoreApi.getTextNotHtmlEncoded("do-you-want-to-delete-analysis-path",["'"+r+"'"]));n.delConfirmDialog=new e({type:t.Standard,title:n.oCoreApi.getTextNotHtmlEncoded("delPath"),content:l,beginButton:new o({text:n.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){n.deleteSavedPath(r,s);n.delConfirmDialog.close()}}),endButton:new o({text:n.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){n.delConfirmDialog.close()}}),afterClose:function(){n.oUiApi.getLayoutView().setBusy(false);n.delConfirmDialog.destroy()}});if(a.system.desktop){n.delConfirmDialog.addStyleClass("sapUiSizeCompact")}n.delConfirmDialog.open()}})});
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/reuse/controller/facetFilter.controller", ["sap/apf/ui/utils/facetFilterListHandler","sap/apf/ui/utils/facetFilterListConverter","sap/apf/ui/utils/facetFilterValueFormatter","sap/m/FacetFilter","sap/ui/Device"],function(e,t,i,a,r){"use strict";function s(e){e.getView().byId("idAPFFacetFilter").removeAllLists();var t=e.getView().getViewData();var i=t.aConfiguredFilters;i.forEach(function(i){var a=new sap.apf.ui.utils.FacetFilterListHandler(t.oCoreApi,t.oUiApi,i);e.getView().byId("idAPFFacetFilter").addList(a.createFacetFilterList())})}sap.ui.controller("sap.apf.ui.reuse.controller.facetFilter",{onInit:function(){var e=this;if(r.system.desktop){e.getView().addStyleClass("sapUiSizeCompact")}s(e)},onResetPress:function(){var e=this;e.getView().getViewData().oStartFilterHandler.resetVisibleStartFilters();e.getView().getViewData().oUiApi.selectionChanged(true)}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/layout.controller", ["sap/m/Button","sap/m/library","sap/m/Popover","sap/ui/Device","sap/ui/core/mvc/Controller","sap/ui/core/mvc/ViewType"],function(t,e,i,o,n,a){"use strict";var s=e.PlacementType;sap.ui.controller("sap.apf.ui.reuse.controller.layout",{onInit:function(){this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;this.oNavigationHandler=this.getView().getViewData().oNavigationHandler;var t;this.oCoreApi.getApplicationConfigProperties().done(function(e){if(e){t=e.appName}this.applicationTitle=this.oCoreApi.getTextNotHtmlEncoded(t);this.getView().byId("applicationPage").setTitle(this.applicationTitle);this.loadLayout()}.bind(this));var e=this;this.oActionListPopover=new i({id:this.createId("idAnalysisPathMenuPopOver"),showHeader:false,placement:s.Bottom,contentWidth:"165px"});this.oActionListItem=e.oUiApi.getToolbar().addStyleClass("toolbarView");this.oActionListPopover.addContent(this.oActionListItem);this.oSavedPathName=this.getView().byId("analysisPathTitle");if(this.byId("analysisPath")){this.setPathTitle()}},showMenu:function(t){this.oActionListPopover.openBy(t.getSource())},getAnalysisPathTitleText:function(){this.getView.byId("analysisPathTitle")},setPathTitle:function(){var t=this.oCoreApi.getPathName();if(t.length==0){t=this.oCoreApi.getTextNotHtmlEncoded("unsaved")}if(this.oCoreApi.isDirty()){t="*"+t}this.getView().byId("analysisPathTitle").setText(t);this.getView().byId("analysisPathTitle").setTooltip(t)},loadLayout:function(){this.oCoreApi.getSmartFilterBarConfigurationAsPromise().done(function(t){if(o.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");this.getView().byId("deviceFooter").destroy()}if(t===undefined){this.getView().byId("idSplitterLayoutData").setSize("0px")}var e=this.oUiApi.getStepContainer();var i=this.oUiApi.getAnalysisPath();this.getView().byId("applicationPage").setTitle(this.applicationTitle);this.getView().byId("stepContainer").addContent(e);this.getView().byId("analysisDynamicPage").setContent(i);if(this.getView().byId("menuButton")){this.getView().byId("menuButton").setTooltip(this.oCoreApi.getTextNotHtmlEncoded("options"))}this.addOpenInButton()}.bind(this))},onAfterRendering:function(){var e=this;if(!o.system.desktop){var i=new t({text:this.oCoreApi.getTextNotHtmlEncoded("showAnalyticalPath"),press:function(){e.getView().byId("applicationView").showMaster()},type:"Transparent"});this.getView().byId("applicationView").attachAfterMasterClose(function(){if(e.getView().byId("masterFooter")&&e.getView().byId("masterFooter").getContentLeft().length===0){e.getView().byId("masterFooter").addContentLeft(i)}});this.getView().byId("applicationView").attachAfterMasterOpen(function(){if(e.getView().byId("masterFooter")){e.getView().byId("masterFooter").removeContentLeft(i)}});if(this.getView().byId("applicationView").isMasterShown()===false&&this.getView().byId("masterFooter").getContentLeft().length===0){this.addMasterFooterContentLeft(i)}}},hideMaster:function(){if(o.system.phone||o.system.tablet){this.getView().byId("applicationView").hideMaster();if(o.system.phone){this.getView().byId("applicationView").toDetail(this.getView().byId("stepContainer").getId())}}},showMasterFooter:function(t,e,i){if(!o.system.desktop){var n=this;n.getView().byId("analysisPath").showFooter=true;n.getView().byId("analysisPath").enableScrolling=true;n.getView().byId("deviceFooter").addContentLeft(t);n.getView().byId("deviceFooter").addContentLeft(e);n.getView().byId("deviceFooter").addContentLeft(i)}},showMaster:function(){this.getView().byId("applicationView").showMaster()},addMasterFooterContentLeft:function(t){this.getView().byId("masterFooter").addContentLeft(t)},addMasterFooterContentRight:function(t){if(this.getView().byId("masterFooter").getContentRight().length===0){this.getView().byId("masterFooter").insertContentRight(t)}else{this.addMasterFooterContent(t)}},addMasterFooterContent:function(e){var o=this;if(this.oActionListPopover===undefined){this.oActionListPopover=new i({showHeader:false,placement:s.Top})}if(typeof e.getWidth==="function"){e.setWidth("100%")}if(this.footerContentButton===undefined){this.getView().byId("masterFooter").getContentRight()[0].setWidth("71%");this.footerContentButton=new t({icon:"sap-icon://overflow",press:function(t){o.oActionListPopover.openBy(t.getSource())},type:"Transparent",tooltip:this.oCoreApi.getTextNotHtmlEncoded("moreIcon")})}this.oActionListPopover.addContent(e);this.getView().byId("masterFooter").insertContentRight(this.footerContentButton,1)},addDetailFooterContentLeft:function(t){this.getView().byId("masterFooter").addContentLeft(t)},addFacetFilter:function(t){this.getView().byId("subHeader").addContent(t)},enableDisableOpenIn:function(){var t=this;if(!t.openInBtn){return}var e=false;var i=this.oNavigationHandler.getNavigationTargets();i.then(function(i){if(i.global.length===0&&i.stepSpecific.length===0){if(t.openInBtn.getEnabled()){e=true;t.openInBtn.setEnabled(false)}}else{if(!t.openInBtn.getEnabled()){e=true;t.openInBtn.setEnabled(true)}}if(e){t.openInBtn.rerender()}})},addOpenInButton:function(){var e=this;if(this.oNavListPopover===undefined){this.oNavListPopover=new i({showHeader:false,placement:s.Top})}this.openInBtn=new t({id:this.createId("idOpenInButton"),text:this.oCoreApi.getTextNotHtmlEncoded("openIn"),tooltip:this.oCoreApi.getTextNotHtmlEncoded("openIn"),type:"Transparent",enabled:false,press:function(t){e.oNavTargetsView=sap.ui.view({viewName:"sap.apf.ui.reuse.view.navigationTarget",type:a.JS,viewData:{oNavigationHandler:e.oNavigationHandler,oNavListPopover:e.oNavListPopover,oOpenInButtonEventSource:t.getSource(),oUiApi:e.oUiApi,oCoreApi:e.oCoreApi}})}});this.getView().byId("masterFooter").insertContentRight(this.openInBtn,1);this.enableDisableOpenIn()},doOkOnNavAnalysisPath:function(){var t=this;var e=this.oUiApi.getAnalysisPath().getToolbar();this.oCoreApi.readPaths(function(i,o,n){var a=true;var s=i.paths;if(o!==undefined){e.maxNumberOfSteps=o.getEntityTypeMetadata().maximumNumberOfSteps;e.maxNumberOfPaths=o.getEntityTypeMetadata().maxOccurs}if(n===undefined&&typeof i==="object"){e.getController().getSaveDialog(a,function(){window.history.go(-1)},s)}else{var r=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});r.setPrevious(n);t.oCoreApi.putMessage(r)}})},handleNavBack:function(){var e=this;if(e.oUiApi.getLayoutView().getController().oSavedPathName.getText().slice(0,1)==="*"&&e.oCoreApi.getSteps().length!==0){var i=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.newMessageDialog",this);e.getView().byId("idYesButton").attachPress(function(){i.close();e.doOkOnNavAnalysisPath()});e.getView().byId("idNoButton").attachPress(function(){i.close();window.history.go(-1)});var n=new t(e.createId("idCancelButton"),{text:e.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){i.close()}});i.addButton(n);if(o.system.desktop){i.addStyleClass("sapUiSizeCompact")}i.setInitialFocus(i);i.open()}else{window.history.go(-1)}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/messageHandler.controller", ["sap/base/Log","sap/base/security/encodeXML","sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Link","sap/m/MessageBox","sap/m/MessageToast","sap/m/Text","sap/m/VBox","sap/ui/Device","sap/ui/core/HTML","sap/ui/core/library","sap/ui/thirdparty/jquery"],function(e,t,o,a,s,i,n,r,l,g,c,u,p,jQuery){"use strict";var d=s.DialogType,f=s.FlexAlignItems,w=p.ValueState;var m;function h(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function y(e,t){var o=e.getView().getViewData().oCoreApi;var a=o.getGenericExit("closeFatalErrorDialog");if(a){a(o,e,t)}else{window.history.go(-1)}}function v(e,t){n.information(t.getMessage(),{styleClass:c.system.desktop?"sapUiSizeCompact":""})}function x(e,t){r.show(t.getMessage(),{width:"20em"})}function A(e){var t=m.oCoreApi.getLogMessages();var o=false;for(var a=0;a<t.length;a++){if(t[a].search(5021)!==-1){o=true;break}}return o}function C(e,s){var i=new a(e.createId("idShowDetailsDialog"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:m.oCoreApi.getTextNotHtmlEncoded("error"),type:d.Message,state:w.Error,content:new u({content:["<div><p> "+t(h(s))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new o({text:m.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){i.close()}}),afterClose:function(){i.destroy()}});i.setInitialFocus(i);i.open()}function E(e,t){var s=A(e);var n=new a(e.createId("idFatalDialog"),{title:m.oCoreApi.getTextNotHtmlEncoded("error"),type:d.Message,state:w.Error,content:[new l({text:s?m.oCoreApi.getTextNotHtmlEncoded("application-reload"):m.oCoreApi.getTextNotHtmlEncoded("fatalErrorMessage")}),new g({alignItems:f.End,items:[new i({text:m.oCoreApi.getTextNotHtmlEncoded("showDetails"),press:function(){C(e,t)}})]})],beginButton:new o({text:m.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){y(e,n)}}),afterClose:function(){n.destroy()}});n.setInitialFocus(n);n.open()}function T(e,t){var s=m.oCoreApi;var n=m.uiApi;var r=new a(e.createId("idShowValidStateDialog"),{title:s.getTextNotHtmlEncoded("error"),type:d.Message,state:w.Error,content:[new l({text:s.getTextNotHtmlEncoded("lastValidStateMessage")}),new g({alignItems:f.End,items:[new i({text:s.getTextNotHtmlEncoded("showDetails"),press:function(){C(e,t)}})]})],beginButton:new o({text:s.getTextNotHtmlEncoded("gobackToValidState"),press:function(){var e=s.restoreApfState();e.then(function(){n.getAnalysisPath().getController().bLastValidState=true;n.getAnalysisPath().getCarouselView().getController().removeAllThumbnails();s.updatePath(n.getAnalysisPath().getController().callBackForUpdatePath.bind(n.getAnalysisPath().getController()));n.getLayoutView().getController().setPathTitle();r.close();n.getAnalysisPath().getCarouselView().rerender();n.getLayoutView().setBusy(false)},function(){r.close()})}}),endButton:new o({text:s.getTextNotHtmlEncoded("startNewAnalysis"),press:function(){n.getAnalysisPath().getToolbar().getController().resetAnalysisPath();r.close()}}),afterClose:function(){r.destroy()}});r.setInitialFocus(r);r.open()}function b(e,t){var o=m.oCoreApi.isApfStateAvailable();if(o){T(e,t)}else{E(e,t)}}sap.ui.controller("sap.apf.ui.reuse.controller.messageHandler",{onInit:function(){var e=this;if(c.system.desktop){e.getView().addStyleClass("sapUiSizeCompact")}m=e.getView().getViewData()},showMessage:function(t){var o=this;var a=t.getSeverity();var s=sap.apf.core.constants.message.severity;switch(a){case s.fatal:m.uiApi.getLayoutView().setBusy(false);b(o,t);break;case s.error:m.uiApi.getLayoutView().setBusy(false);break;case s.information:v(o,t);break;case s.success:x(o,t);break;default:e.error("Error type not defined");break}if(a===s.warning||a===s.error){r.show(t.getMessage(),{width:"40%",offset:"0 -50",animationDuration:2e3})}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/navigationTarget.controller", ["sap/ui/Device","sap/ui/core/mvc/Controller"],function(i,e){"use strict";return e.extend("sap.apf.ui.reuse.controller.navigationTarget",{onInit:function(){this.oNavigationHandler=this.getView().getViewData().oNavigationHandler;if(i.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},handleNavigation:function(i){this.oNavigationHandler.navigateToApp(i)}})});
sap.ui.predefine("sap/apf/ui/reuse/controller/pathFilterDisplay.controller", ["sap/ui/Device","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery"],function(t,e,i,o,s,jQuery){"use strict";return e.extend("sap.apf.ui.reuse.controller.pathFilterDisplay",{getCoreApi:function(){return this.getView().getViewData().oCoreApi},onInit:function(){var e=this.getView().getViewData().pathFilterInformation;var i=new s(e);this.getView().setModel(i);if(t.system.desktop){this.getView().byId("pathFilterDisplayDialog").addStyleClass("sapUiSizeCompact")}this.getView().byId("pathFilterDisplayDialog").setContentWidth(jQuery(window).height()*.6+"px");this.getView().byId("pathFilterDisplayDialog").setContentHeight(jQuery(window).height()*.6+"px");this.getView().byId("stepPage").setTitle(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("stepPage").setTooltip(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("pathFilterDisplayDialog").getEndButton().setText(this.getCoreApi().getTextNotHtmlEncoded("close"));this.getView().byId("pathFilterDisplayDialog").getBeginButton().setText(this.getCoreApi().getTextNotHtmlEncoded("closeAndNavigate"))},onStepPress:function(t){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(true);var e=this.getView().byId("navContainer");var i=this.getView().byId("filterValuesPage");var o=t.getSource().getBindingContext();i.setBindingContext(o);e.to(i)},onCloseButton:function(){this.getView().byId("pathFilterDisplayDialog").close()},onClose:function(){this.getView().byId("pathFilterDisplayDialog").destroy();this.getView().destroy()},onSearch:function(t){var e=t.getParameters().newValue;var s=this.getView().byId("navContainer").getCurrentPage().getContent()[0];var a=s.getBinding("items");var n=[];if(e){n.push(new i("text",o.Contains,e))}a.filter(n)},getDescriptionForStep:function(t,e){if(t){if(e&&e.length>0){return t+", "+this.getCoreApi().getTextNotHtmlEncoded("amountSelected",[e.length])}return t+", "+this.getCoreApi().getTextNotHtmlEncoded("nothingSelected")}return this.getCoreApi().getTextNotHtmlEncoded("noSelectionPossible")},onBackPress:function(){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(false);var t=this.getView().byId("navContainer");t.back()},onCloseAndNavigatePress:function(t){var e=this.getView().byId("filterValuesPage").data("stepIndex");this.getView().getViewData().oUiApi.getAnalysisPath().getController().navigateToStep(e);this.getView().byId("pathFilterDisplayDialog").close()}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/pathGallery.controller", ["sap/apf/utils/trace","sap/ui/Device","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t,i,a){"use strict";sap.ui.controller("sap.apf.ui.reuse.controller.pathGallery",{onInit:function(){this.oCoreApi=this.getView().getViewData().oInject.oCoreApi;this.oUiApi=this.getView().getViewData().oInject.uiApi;this.oSerializationMediator=this.getView().getViewData().oInject.oSerializationMediator;if(t.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},openPathGallery:function(){if(this.oDialog){this.oDialog.destroy()}this.oDialog=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.pathGallery",this);var e=new a;var i=this.getPathGalleryData();e.setData(i);this.oDialog.setModel(e);if(t.system.desktop){this.oDialog.addStyleClass("sapUiSizeCompact")}this.oDialog.setInitialFocus(this.oDialog);this.oDialog.open()},getPathGalleryData:function(){var e=this;var t=this.getView().getViewData()?this.getView().getViewData().jsonData:{};var i=function(){var t={steps:e.oCoreApi.getStepTemplates()};return t};if(t.GalleryElements.length!==0){var a=t.GalleryElements;var s=i();var o,r,l,n;for(o=0;o<a.length;o++){for(r=0;r<a[o].StructuredAnalysisPath.steps.length;r++){for(l=0;l<s.steps.length;l++){var p=a[o].StructuredAnalysisPath.steps[r].stepId;var u=a[o].StructuredAnalysisPath.steps[r].selectedRepresentationId;if(p===s.steps[l].id){for(n in s.steps[l].getRepresentationInfo()){if(u===s.steps[l].getRepresentationInfo()[n].representationId){t.GalleryElements[o].StructuredAnalysisPath.steps[r].imgSrc=s.steps[l].getRepresentationInfo()[n].picture;t.GalleryElements[o].StructuredAnalysisPath.steps[r].title=e.oCoreApi.getTextNotHtmlEncoded(s.steps[l].title.key)}}}}}}}return t},openPath:function(t,i,a){e.log("pathGallery.openPath",", ",a,", guid",i,"***********************");var s=this;var o;var r=s.oUiApi.getAnalysisPath().getCarouselView();this.oDialog.setBusy(true);this.oUiApi.getAnalysisPath().getCarouselView().oController.removeAllThumbnails();s.oSerializationMediator.openPath(i,function(s){return function(l,n,p){var u=s.oUiApi.getLayoutView().getController();var h=s.oUiApi.getAnalysisPath().getController();e.log("pathGallery.openPath continuation",", activeStepindex=",a,", guid=",i);if(p===undefined&&typeof l==="object"){h.setIsOpenPath(true);s.oUiApi.contextChanged();h.refresh(-1);s.oCoreApi.updatePath(h.callBackForUpdatePath.bind(h));s.oCoreApi.setDirtyState(false);u.setPathTitle();if(s.oDialog!==undefined){s.oDialog.close()}r.rerender();s.oUiApi.getLayoutView().setBusy(false)}else{o=s.oCoreApi.createMessageObject({code:"6008",aParameters:[t]});o.setPrevious(p);s.oUiApi.getLayoutView().setBusy(false);s.oCoreApi.putMessage(o)}}}(this),a)}})});
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/reuse/controller/smartFilterBar.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/v2/ODataModel","sap/ui/model/odata/CountMode"],function(t,e,a,i){"use strict";return t.extend("sap.apf.ui.reuse.controller.smartFilterBar",{onInit:function(){var t=this;var r=t.getView().getViewData().oSmartFilterBarConfiguration.service;var n=t.getView().getViewData().oCoreApi.getAnnotationsForService(r);var o={annotationURI:n,json:true};if(n&&n.length>0){o.loadAnnotationsJoined=true}var s=t.getView().getViewData().oCoreApi.getStartParameterFacade().getSapSystem();if(s){r=e.setOrigin(r,{force:true,alias:s})}var g=new a(r,o);g.getMetaModel().loaded().then(function(){t.getView().getViewData().oCoreApi.getMetadata(r).done(function(e){if(e.getAllEntitySetsExceptParameterEntitySets().indexOf(t.getView().getViewData().oSmartFilterBarConfiguration.entitySet)<0){t.getView().getViewData().oCoreApi.putMessage(t.getView().getViewData().oCoreApi.createMessageObject({code:"5053",aParameters:[t.getView().getViewData().oSmartFilterBarConfiguration.entitySet,r]}))}g.setDefaultCountMode(i.None);t.byId("idAPFSmartFilterBar").setModel(g)})});g.attachMetadataFailed(function(){t.getView().getViewData().oCoreApi.putMessage(t.getView().getViewData().oCoreApi.createMessageObject({code:"5052",aParameters:[r]}))})},afterInitialization:function(){this.handleSplitterSize();this.setFilterData();this.validateFilters();this.registerSFBInstanceWithCore()},registerSFBInstanceWithCore:function(){var t=this;t.getView().getViewData().oCoreApi.registerSmartFilterBarInstance(t.byId("idAPFSmartFilterBar"))},handlePressOfGoButton:function(){var t=this;var e=this.byId("idAPFSmartFilterBar");if(!e._apfOpenPath&&t.getView().getViewData().oCoreApi.getActiveStep()){t.getView().getViewData().oUiApi.selectionChanged(true)}delete e._apfOpenPath},setFilterData:function(){var t=this;var e=this.byId("idAPFSmartFilterBar");var a=t.getView().getViewData().oCoreApi.getStartParameterFacade().getAnalyticalConfigurationId();var i=t.getView().getViewData().oCoreApi.getStartParameterFacade().getXappStateId();var r=e.getUiState();var n=e.mProperties;e.setUiState(r,n);if(a!==undefined||i!==null&&i!==undefined){var o=t.getView().getViewData().oCoreApi;var s=o.getComponent();if(sap.ushell.Container!==undefined){var g=sap.ushell.Container.getService("CrossApplicationNavigation");var d=g.getStartupAppState(s);d.done(function(t){var e=t.getData();if(e){e=JSON.parse(JSON.stringify(e));var a=e.selectionVariant;var i=new sap.ui.comp.state.UIState({selectionVariant:a});var r=this.byId("idAPFSmartFilterBar");r.setUiState(i,{replace:true,strictMode:false});var n=r.getVariantManagement().STANDARDVARIANTKEY;r.getVariantManagement().setCurrentVariantId(n)}}.bind(this))}var l=e.getVariantManagement().STANDARDVARIANTKEY;e.getVariantManagement().setCurrentVariantId(l)}},validateFilters:function(){var t=this.byId("idAPFSmartFilterBar");var e=t.validateMandatoryFields();this.getView().getViewData().oUiApi.getAddAnalysisStepButton().setEnabled(e);this.getView().getViewData().oUiApi.getAddAnalysisStepButton().rerender()},handleSplitterSize:function(){var t=this;var e=this.byId("idAPFSmartFilterBar");var a=e.mAggregations.content[0];var i=a.mAggregations.content[2];i.attachPress(function(){var e=this.getParent().getParent();if(e.getFilterBarExpanded()){t.getView().getViewData().oUiApi.getLayoutView().byId("idSplitterLayoutData").setSize("127px")}else{t.getView().getViewData().oUiApi.getLayoutView().byId("idSplitterLayoutData").setSize("65px")}})}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/stepContainer.controller", ["sap/apf/ui/utils/helper","sap/apf/core/constants","sap/ui/core/mvc/Controller","sap/apf/ui/utils/constants","sap/suite/ui/commons/ChartContainerContent","sap/suite/ui/commons/ChartContainerToolbarPlaceholder","sap/ui/core/Icon","sap/ui/core/CustomData","sap/ui/core/mvc/XMLView","sap/m/Link","sap/m/ToggleButton","sap/m/Label","sap/m/Button","sap/m/ToolbarSpacer","sap/m/List","sap/m/ListMode","sap/m/ListSeparators","sap/m/StandardListItem","sap/m/Popover","sap/m/PlacementType","sap/apf/utils/trace"],function(e,t,n,r,a,i,o,s,l,d,p,c,u,g,f,v,h,C,y,m,S){"use strict";var I,T,b,w=false;function R(){var e=b.getSelectedRepresentation();return e.type===r.representationTypes.TABLE_REPRESENTATION}function A(){var e=b.getSelectedRepresentation();return e.type===r.representationTypes.TREE_TABLE_REPRESENTATION}function P(){if(b.getSelectedRepresentation().bIsAlternateView===undefined||b.getSelectedRepresentation().bIsAlternateView===false){return false}return true}function x(e){var t=e.getCurrentRepresentation();var n=t.getParameter().requiredFilters;if(n===undefined||n.length===0){return undefined}return n[0]}function D(e){S.logCall("StepContainer._setChartContainerContent");var t=e.byId("idChartContainer");var n=e.getCurrentRepresentation();var r=b.longTitle&&!I.isInitialTextKey(b.longTitle.key)?b.longTitle:b.title;var i=I.getTextNotHtmlEncoded(r);S.log("_setChartContainerContent"," title=",i);var o=n.getMainContent(i);var s={onBeforeRendering:function(){E(e,o)}};o.addEventDelegate(s);t.removeAllContent();var l=new a({content:o});t.addContent(l);S.logReturn("_setChartContainerContent")}function E(e,t){var n=e.byId("idChartContainer");var r="0";var a=jQuery(window).width();var i=n.getId();if(jQuery("#"+i).length!==0){r=jQuery("#"+i+" > div:first-child > div:nth-child(2)").offset().top;a=jQuery("#"+i+" > div:first-child > div:nth-child(2)").width()}var o=jQuery(window).height()-r-jQuery(".applicationFooter").height();var s=a;t.setHeight(o+"px");t.setWidth(s+"px")}function V(e,t){var n=e.byId("idSelectedText");var r=e.getCurrentRepresentation();var a=z(e);var i=r.getSelectionFilterLabel();var o=i+" ("+a+") ";var s=e.byId("idSelPropertyAndCount");if(!s){s=new d({id:e.createId("idSelPropertyAndCount"),press:e.handlePressSelectedPropertyCountLink.bind(e)});s.addAriaLabelledBy(n.getId())}else{if(s&&r.chart!==undefined&&(r.chart!==null&&r.chart.setFocusOnSelectLink)){r.chart.detachEvent("setFocusOnSelectedLinkEvent",r.chart.setFocusOnSelectLink)}}if(s&&r.chart!==undefined&&r.chart!==null){r.chart.setFocusOnSelectLink=function(){s.focus()}}s.setVisible(true);s.setText(o);t.addContent(s);t.onAfterRendering=function(){if(s&&r.chart!==undefined&&r.chart!==null){r.chart.fireEvent("setFocusOnSelectedLinkEvent");r.chart.detachEvent("setFocusOnSelectedLinkEvent",r.chart.setFocusOnSelectLink)}}}function N(e){var t=e.byId("idChartContainer");t.removeAllCustomIcons();L(e);B(e);F(e)}function L(t){var n=t.byId("idChartContainer");var r=b.getSelectedRepresentationInfo();var a;if(r.parameter&&r.parameter.orderby){var i=r.parameter.orderby;new e(I).getRepresentationSortInfo(r).done(function(e){for(var s=0;s<e.length;s++){a=i[0].property}var l=i[0].ascending==true?"Sort Order: Ascending":"Sort Order: Descending";var d=I.getTextNotHtmlEncoded(r.label)+"\n"+(a!==undefined?I.getTextNotHtmlEncoded("sortBy")+": "+a:"")+"\n"+l;var p=new o({src:r.picture,tooltip:d,press:function(e){t.handlePressChartIcon(e)}});n.addCustomIcon(p)})}else{var s=I.getTextNotHtmlEncoded(r.label)+"\n"+(a!==undefined?I.getTextNotHtmlEncoded("sortBy")+": "+a:"");var l=new o({src:r.picture,tooltip:s,press:function(e){t.handlePressChartIcon(e)}});n.addCustomIcon(l)}}function B(e){var t=e.byId("idChartContainer");var n=I.getTextNotHtmlEncoded("listView");var r=new o({src:"sap-icon://table-view",tooltip:n,press:e.handlePressAlternateRepIcon.bind(e)});var a=e.getCurrentRepresentation();var i=a.type;if(R()||A()||i=="TableRepresentation"){t.removeCustomIcon(r);return}t.addCustomIcon(r)}function F(e){if(e.getCurrentRepresentation().topN!==undefined||!P()&&!R()||A()){return}var t=e.byId("idChartContainer");var n=I.getTextNotHtmlEncoded("view-Settings-Button");var r=new o({src:"sap-icon://drop-down-list",tooltip:n,press:function(){e.getView().addDependent(e.getCurrentRepresentation().getViewSettingDialog());e.getCurrentRepresentation().getViewSettingDialog().open()}});t.addCustomIcon(r)}function H(e,t){var n=e.byId("idSelectedText");if(!n){n=new c({id:e.createId("idSelectedText"),text:I.getTextNotHtmlEncoded("selectedValue")})}n.setVisible(true);t.addContent(n)}function O(e,t){var n=e.byId("idReset");if(!n){n=new u({text:I.getTextNotHtmlEncoded("reset"),id:e.createId("idReset"),type:"Transparent",press:e.handlePressResetButton.bind(e)}).addStyleClass("chartContainerResetStyle")}n.setVisible(true);t.addContent(n)}function j(e,t){var n=z(e);if(n>0&&x(e)!==undefined){H(e,t);V(e,t);O(e,t)}}function k(e,t){var n=e.byId("idPathFilterDisplayButton");if(!n){n=new u({text:I.getTextNotHtmlEncoded("pathFilterDisplayButton"),id:e.createId("idPathFilterDisplayButton"),icon:"sap-icon://message-information",type:"Transparent",press:function(){if(e.byId("idStepLayout").getBusy()===false){I.getPathFilterInformation().then(function(t){var n=new l({viewName:"sap.apf.ui.reuse.view.pathFilterDisplay",viewData:{pathFilterInformation:t,oCoreApi:I,oUiApi:T},id:e.createId("pathFilterDisplay")});n.setParent(e.getView(),"content",true);n.getContent()[0].open()})}}})}t.addContent(n)}function M(e,t){var n=e.getCurrentRepresentation();var r=n.type;var a=undefined;var i=false;if(r!=="TableRepresentation"&&r!=="listView"&&r!=="TreeTableRepresentation"){if(n.chart!==undefined){if(Object.getOwnPropertyNames(n.chart).length!==0){a=n.chart.vizSelection();i=n.chart.getVizProperties().plotArea.dataLabel.visible}}if(n!==undefined){if(n.aDataResponse!==0){var o=e.byId("idToggleDisplayButton");if(!o){o=new p({id:e.createId("idToggleDisplayButton"),pressed:false,text:I.getTextNotHtmlEncoded("values"),tooltip:I.getTextNotHtmlEncoded("displayValues"),press:e.handleToggleDisplay.bind(e)})}else{n=e.getCurrentRepresentation();o.setPressed(i)}if(a!==undefined){e.getCurrentRepresentation().chart.vizSelection(a,{clearSelection:false})}t.addContent(o)}}}}function Q(e){var t=e.byId("idChartContainer");var n=t.getToolbar();n.removeAllContent();var r=new c({text:I.getTextNotHtmlEncoded("currentStep")});n.addContent(r);var a=new g;n.addContent(a);M(e,n);j(e,n);k(e,n);n.addContent(new i);t.setToolbar(n)}function _(e,t,n){S.logCall("StepContainer._drawChartContainer",", isActiveStep=",n,", oActiveStep=",t);if(t!==undefined){D(e);N(e);Q(e)}S.logReturn("_drawChartContainer")}function z(e){var t=e.getCurrentRepresentation();var n=t.getSelections().length;return n}function U(t,n){var r=new f({mode:v.SingleSelectMaster,showSeparators:h.None,includeItemInSelection:true,selectionChange:t.handleSelectionChartSwitchIcon.bind(t)});var a;var i;for(var o=0;o<b.getRepresentationInfo().length;o++){i=b.getRepresentationInfo()[o];a=undefined;if(i.parameter&&i.parameter.orderby){new e(I).getRepresentationSortInfo(i).done(function(e){var t=[];for(var n=0;n<e.length;n++){e[n].done(function(e){t.push(e)})}a=t.join(", ");var o=a!==undefined?I.getTextNotHtmlEncoded("sortBy")+": "+a:"";var l=new C({description:o,icon:i.picture,title:I.getTextNotHtmlEncoded(i.label),customData:[new s({key:"data",value:{oRepresentationType:i,icon:i.picture}})]});r.addItem(l)})}else{var l=a!==undefined?I.getTextNotHtmlEncoded("sortBy")+": "+a:"";var d=new C({description:l,icon:i.picture,title:I.getTextNotHtmlEncoded(i.label),customData:[new s({key:"data",value:{oRepresentationType:i,icon:i.picture}})]});r.addItem(d)}}if(!t.byId("idAllChartPopover")){var p=new y({id:t.createId("idAllChartPopover"),placement:m.Bottom,showHeader:false,content:[r],afterClose:function(){p.destroy()}})}t.byId("idAllChartPopover").openBy(n)}function X(e,t){e.byId("idReset").setVisible(t);e.byId("idSelPropertyAndCount").setVisible(t);e.byId("idSelectedText").setVisible(t)}return n.extend("sap.apf.ui.reuse.controller.stepContainer",{onInit:function(){var e=this;I=e.getView().getViewData().oCoreApi;T=e.getView().getViewData().uiApi;b=I.getActiveStep();this.initialText=new c({id:this.createId("idInitialText")}).addStyleClass("initialText");this.initialText.setText(I.getTextNotHtmlEncoded("initialText"))},onAfterRendering:function(){jQuery(T.getStepContainer().getDomRef()).hide();if(jQuery("#"+this.initialText.getId()).length===0&&I.getSteps().length===0){jQuery("#"+T.getStepContainer().getId()).parent().append(sap.ui.getCore().getRenderManager().getHTML(this.initialText))}else if(I.getSteps().length>0){jQuery(T.getStepContainer().getDomRef()).show()}if(T.getAnalysisPath().getController().isOpenPath){jQuery(".initialText").remove()}},getCurrentRepresentation:function(){var e=b.getSelectedRepresentation();if(P()){e=b.getSelectedRepresentation().toggleInstance}return e},handlePressSelectedPropertyCountLink:function(){var e=this;e.oCoreApi=I;var t=new sap.ui.jsfragment("idSelectionDisplayFragment","sap.apf.ui.reuse.fragment.selectionDisplay",e);t.open()},handleToggleDisplay:function(){var e=this;e.oCoreApi=I;var t=e.getCurrentRepresentation();var n=e.byId("idToggleDisplayButton");if(t.measures!==undefined){var r=t.getFormatStringForMeasure(t.measures[0]);if(t.type==="PieChart"){t.chart.setVizProperties({plotArea:{dataLabel:{visible:n.getPressed(),type:"percentage"}}})}else{t.chart.setVizProperties({plotArea:{dataLabel:{visible:n.getPressed(),formatString:r}}})}return t.chart.getVizProperties().plotArea.dataLabel.visible}var a=t.chartPlotArea.plotArea.dataLabel.visible;a=n.getPressed();return a},handlePressResetButton:function(){var e=this;if(P()){e.getCurrentRepresentation().removeAllSelection()}e.getCurrentRepresentation().removeAllSelection();X(e,false)},createToggleRepresentationInstance:function(e,n){var r={};function a(n){var r=n.dimensions;var a=e.getMetaData();n.isAlternateRepresentation=true;if(a===undefined){return n}var i,o;for(i=0;i<r.length;i++){var s=a.getPropertyMetadata(r[i].fieldName).hasOwnProperty("text");if(s&&r[i].labelDisplayOption===t.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){o={};o.fieldName=a.getPropertyMetadata(r[i].fieldName).text;n.dimensions.splice(i+1,0,o)}else if(s&&r[i].labelDisplayOption===t.representationMetadata.labelDisplayOptions.TEXT){o={};o.fieldName=a.getPropertyMetadata(r[i].fieldName).text;n.dimensions.splice(i,1,o)}}return n}var i=jQuery.extend(true,{},e.getParameter());delete i.alternateRepresentationTypeId;delete i.alternateRepresentationType;i=a(i);if(n){i.orderby=n}r=I.createRepresentation(e.getParameter().alternateRepresentationType.constructor,i);var o=e.getData(),s=e.getMetaData();if(o!==undefined&&s!==undefined){r.setData(o,s)}return r},handlePressAlternateRepIcon:function(){var e=this;var t=b.getSelectedRepresentation();t.bIsAlternateView=true;if(P()){t.toggleInstance=e.createToggleRepresentationInstance(t)}w=true;e.getView().getViewData().uiApi.selectionChanged(true)},handlePressChartIcon:function(e){var t=this;var n=b.getSelectedRepresentation();var r=I.getSteps().indexOf(b);var a=null;if(b.getRepresentationInfo().length>1){a=e.getParameter("controlReference");U(t,a)}else{n.bIsAlternateView=false;w=true;t.getView().getViewData().uiApi.selectionChanged(true);n.createDataset();t.drawStepContent();T.getAnalysisPath().getController().updateCustomListView(b,r,false)}},handleSelectionChartSwitchIcon:function(e){this.byId("idAllChartPopover").close();var t=b.getSelectedRepresentation();var n=e.getParameter("listItem").getCustomData()[0].getValue();var r=b.getSelectedRepresentationInfo().representationId;var a=n.oRepresentationType.representationId;if(r===a&&t.bIsAlternateView===false){return}w=true;t.bIsAlternateView=false;b.setSelectedRepresentation(n.oRepresentationType.representationId);T.getAnalysisPath().getController().refresh(n.nActiveStepIndex);I.updatePath(T.getAnalysisPath().getController().callBackForUpdatePath.bind(T.getAnalysisPath().getController()));t.createDataset()},drawStepContent:function(e,t){S.logCall("StepContainer.drawStepContent"," bStepUpdated="+e);var n=this;var r=false;var a=b;b=I.getActiveStep();if(b===undefined){S.logReturn("drawStepContent",", the active step === undefined");return}if(a!==b){r=true}if(e||w||r){_(n,b,t)}else{Q(n)}w=false;n.initialText.destroy();n.byId("idStepLayout").setBusy(false);S.logReturn("drawStepContent",", bIsActiveStepChanged",r)}})},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/stepGallery.controller", ["sap/apf/ui/utils/helper","sap/apf/utils/trace","sap/ui/Device","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t,i,a,s){"use strict";function o(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}return a.extend("sap.apf.ui.reuse.controller.stepGallery",{getGalleryElementsData:function(){var t=this;var i=[];var a=this.oCoreApi.getCategories();var s=this.oCoreApi.getTextNotHtmlEncoded("label");var o=this.oCoreApi.getTextNotHtmlEncoded("steps");var r=this.oCoreApi.getTextNotHtmlEncoded("category");var l;if(a.length===0){l=this.oCoreApi.createMessageObject({code:"6001",aParameters:["Categories"]});this.oCoreApi.putMessage(l)}var p;for(p=0;p<a.length;p++){var n={};var c=a[p];var g;if(!c.label){l=this.oCoreApi.createMessageObject({code:"6002",aParameters:[s,r+": "+g]});this.oCoreApi.putMessage(l)}else{g=this.oCoreApi.getTextNotHtmlEncoded(c.label);n.title=this.oCoreApi.getTextNotHtmlEncoded(c.label)}n.id=c.id;n.stepTemplates=[];c.stepTemplates.forEach(function(i){var a={};if(!i.title){l=t.oCoreApi.createMessageObject({code:"6003",aParameters:["Title"]});t.oCoreApi.putMessage(l)}else{a.title=t.oCoreApi.getTextNotHtmlEncoded(i.title)}a.id=i.id;a.representationtypes=i.getRepresentationInfo();a.representationtypes.forEach(function(i){i.title=t.oCoreApi.getTextNotHtmlEncoded(i.label);if(i.parameter&&i.parameter.orderby){new e(t.oCoreApi).getRepresentationSortInfo(i).done(function(e){var t=[];for(var a=0;a<e.length;a++){e[a].done(function(e){t.push(e)})}i.sortDescription=t})}});a.defaultRepresentationType=a.representationtypes[0];n.stepTemplates.push(a)});i.push(n)}var d=this.oCoreApi.getStepTemplates();if(d.length===0){l=this.oCoreApi.createMessageObject({code:"6002",aParameters:[o,r]});this.oCoreApi.putMessage(l)}var h={GalleryElements:i};return h},onInit:function(){if(i.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;var e=this.getGalleryElementsData().GalleryElements;var t=new s({GalleryElements:e});this.getView().setModel(t)},getStepDetails:function(e,t){var i=this.getGalleryElementsData().GalleryElements;var a=i[e].stepTemplates[t];return a},openHierarchicalSelectDialog:function(){if(this.oHierchicalSelectDialog){this.oHierchicalSelectDialog.destroy()}this.oHierchicalSelectDialog=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.stepGallery",this);this.oHierchicalSelectDialog.setModel(this.getView().getModel());if(i.system.desktop){this.oHierchicalSelectDialog.addStyleClass("sapUiSizeCompact")}this.oHierchicalSelectDialog.open()},onStepPress:function(e,i){t.logCall("stepGallery.onStepPress -- adds an active step, id=",e," ************************************** ");var a=this;var s=a.oUiApi.getAnalysisPath().getController();this.oCoreApi.checkAddStep(e).done(function(r,l){t.log("onStepPress->continuation",", bCanStepBeAdded",r," oRepresentationType=",i);if(r){a.oHierchicalSelectDialog.close();a.oCoreApi.createStep(e,s.callBackForUpdatePathAndSetLastStepAsActive.bind(s),i);s.refresh(-1)}else{var p=o(l);var n={oController:a,sMessageText:p};var c=new sap.ui.jsfragment("sap.apf.ui.reuse.fragment.addStepCheckDialog",n);c.open();a.oUiApi.getLayoutView().setBusy(false)}});var r=this.oCoreApi.getSteps();var l=r.length>0?r[r.length-1].getSelectedRepresentation():{};t.logReturn("onStepPress",", step id=",e,", repr.apfId="+(l?l.apfId:"--"),", selectedRepr=",l?l:"error: no step existing")}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/toolbar.controller", ["sap/apf/ui/utils/print","sap/apf/utils/utils","sap/m/Button","sap/m/Dialog","sap/m/Input","sap/m/library","sap/m/Text","sap/ui/Device","sap/ui/core/Item","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/mvc/ViewType","sap/ui/model/json/JSONModel"],function(e,t,a,i,o,s,n,l,r,g,p,h,u){"use strict";var c=s.DialogType;var d=s.InputType;var f=g.ValueState;return p.extend("sap.apf.ui.reuse.controller.toolbar",{resetAnalysisPath:function(){this.oUiApi.getAnalysisPath().getCarouselView().getController().removeAllThumbnails();this.oCoreApi.resetPath();this.oUiApi.getAnalysisPath().getController().isNewPath=true;this.oStartFilterHandler.resetAll();this.oUiApi.contextChanged(true);this.oUiApi.getAnalysisPath().getController().refreshAnalysisPath();this.oCoreApi.setDirtyState(false);this.oCoreApi.setPathName("");this.oUiApi.getLayoutView().getController().setPathTitle();this.oUiApi.getStepContainer().rerender()},onInit:function(){this.view=this.getView();if(l.system.desktop){this.view.addStyleClass("sapUiSizeCompact")}this.oViewData=this.getView().getViewData();this.oCoreApi=this.oViewData.oCoreApi;this.oSerializationMediator=this.oViewData.oSerializationMediator;this.oUiApi=this.oViewData.uiApi;this.oStartFilterHandler=this.oViewData.oStartFilterHandler;this.bIsPathGalleryWithDelete=false;this.oPathGalleryDialog={}},addCompactStyleClassForDialog:function(e){if(l.system.desktop){e.addStyleClass("sapUiSizeCompact")}},onSaveAndSaveAsPress:function(e){var t=this;if(t.oCoreApi.getSteps().length!==0){t.oUiApi.getLayoutView().setBusy(true);t.oCoreApi.readPaths(function(a,i,o){var s=a.paths;if(i!==undefined){t.getView().maxNumberOfSteps=i.getEntityTypeMetadata().maximumNumberOfSteps;t.getView().maxNumberOfPaths=i.getEntityTypeMetadata().maxOccurs}if(o===undefined&&typeof a==="object"){t.getSaveDialog(e,function(){},s)}else{var n=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(o);t.oCoreApi.putMessage(n)}t.oUiApi.getLayoutView().setBusy(false)})}else{var a=t.oCoreApi.createMessageObject({code:"6012",aParameters:[]});t.oCoreApi.putMessage(a)}},openPathGallery:function(e){var t={};var a=this;var i,o;a.oCoreApi.readPaths(function(s,n,l){if(l===undefined&&typeof s==="object"){var r=s.paths;for(i=0;i<r.length;i++){var g=r[i].StructuredAnalysisPath.steps.length;var p=r[i].LastChangeUTCDateTime;var h=/\d+/g;var u=parseInt(p.match(h)[0],10);var c=new Date(u).toString().split(" ");var d=c[1]+"-"+c[2]+"-"+c[3];r[i].title=r[i].AnalysisPathName;r[i].guid=r[i].AnalysisPath;r[i].StructuredAnalysisPath.noOfSteps=g;r[i].description=d+"  -   ("+a.oCoreApi.getTextNotHtmlEncoded("no-of-steps",[g])+")";r[i].summary=r[i].AnalysisPathName+"- ("+d+") - ("+a.oCoreApi.getTextNotHtmlEncoded("no-of-steps",[g])+")"}t={GalleryElements:r};if(e){a.openSavedPathGallery(t,a,"deleteAnalysisPath")}else{a.openSavedPathGallery(t,a,"pathGallery")}a.oUiApi.getLayoutView().setBusy(false)}else{o=a.oCoreApi.createMessageObject({code:"6005",aParameters:[]});o.setPrevious(l);a.oCoreApi.putMessage(o);a.oUiApi.getLayoutView().setBusy(false)}})},openSavedPathGallery:function(e,t,a){if(t.oPathGalleryDialog[a]===undefined||t.oPathGalleryDialog[a]&&t.oPathGalleryDialog[a].bIsDestroyed){t.oPathGalleryDialog[a]=new sap.ui.view({type:h.JS,viewName:"sap.apf.ui.reuse.view."+a,viewData:{oInject:t.oViewData}})}t.oPathGalleryDialog[a].getViewData().jsonData=e;var i=t.oPathGalleryDialog[a].getController().oDialog;if(!i||i&&!i.isOpen()){t.oPathGalleryDialog[a].getController().openPathGallery()}},doPrint:function(){var e=new sap.apf.ui.utils.Print(this.oViewData);e.doPrint()},getSaveDialog:function(e,t,s){var n=this;var l=this.oCoreApi.getTextNotHtmlEncoded("saveName");var g=this.oUiApi.getLayoutView().getController().oSavedPathName.getText();var p=new u;p.setData(s);if(g){if(this.oCoreApi.isDirty()){g=g.split("*")[1]}}this.oInput=new o({type:d.Text,placeholder:l,showSuggestion:true,maxLength:100,suggestionItems:{path:"/",template:new r({text:"{AnalysisPathName}",additionalText:"{AnalysisPath}"})}}).addStyleClass("textStyle");this.oInput.setModel(p);if(!e){this.oInput.destroySuggestionItems()}this.oInput.attachEvent("click",function(e){jQuery(e.currentTarget).attr("value","")});function h(e,t,a,i){n.oInput.setValueState(e);n.oInput.setShowValueStateMessage(t);n.saveDialog.getBeginButton().setEnabled(a);if(a===true){n.saveDialog.getBeginButton().setType("Emphasized")}if(i){n.oInput.setValueStateText(i)}}this.oInput.attachLiveChange(function(e){var t=this.getValue();var a=new RegExp("[*]","g");if(t.trim()===""){h(f.Error,true,false)}else{h(f.None,false,true)}if(t.match(a)!==null){var i=n.oCoreApi.getTextNotHtmlEncoded("invalidPathName");h(f.Error,true,false,i)}n.oInput.setValue(t)});if(g!==n.oCoreApi.getTextNotHtmlEncoded("unsaved")){this.oInput.setValue(g)}this.analysisPathName=n.oInput.getValue().trim();if(n.saveDialog===undefined||n.saveDialog&&n.saveDialog.bIsDestroyed){n.saveDialog=new i({type:c.Message,title:n.oCoreApi.getTextNotHtmlEncoded("save-analysis-path"),content:n.oInput,contentWidth:"110px",contentHeight:"110px",beginButton:new a({text:n.oCoreApi.getTextNotHtmlEncoded("ok"),enabled:false,press:function(){n.saveDialog.getBeginButton().setEnabled(false);n.saveDialog.getEndButton().setEnabled(false);var a=n.oInput.getValue().trim();n.saveAnalysisPath(a,t,e);n.saveDialog.close()}}),endButton:new a({text:n.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){n.saveDialog.close()}}),afterClose:function(){n.oUiApi.getLayoutView().setBusy(false);n.saveDialog.destroy()}}).addStyleClass("saveDialog");this.addCompactStyleClassForDialog(n.saveDialog);if(this.oInput.getValue()===g){n.saveDialog.getBeginButton().setEnabled(true)}}if(n.oCoreApi.getSteps().length>=1){if(!e&&g===n.oCoreApi.getTextNotHtmlEncoded("unsaved")){if(!n.saveDialog||n.saveDialog&&!n.saveDialog.isOpen()){n.saveDialog.open()}}else if(e){if(!n.saveDialog||n.saveDialog&&!n.saveDialog.isOpen()){n.saveDialog.open()}}else{n.saveAnalysisPath(g,t,e)}}},doOkOnNewAnalysisPath:function(){var e=this;this.isOpen=false;e.oCoreApi.readPaths(function(t,a,i){var o=true;var s=t.paths;if(a!==undefined){e.getView().maxNumberOfSteps=a.getEntityTypeMetadata().maximumNumberOfSteps;e.getView().maxNumberOfPaths=a.getEntityTypeMetadata().maxOccurs}if(i===undefined&&typeof t==="object"){e.getSaveDialog(o,function(){e.resetAnalysisPath()},s)}else{var n=e.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(i);e.oCoreApi.putMessage(n)}})},doOkOnOpenAnalysisPath:function(e){var t=this;this.isOpen=true;this.bIsPathGalleryWithDelete=e;t.oCoreApi.readPaths(function(e,a,i){var o=true;var s=e.paths;if(a!==undefined){t.getView().maxNumberOfSteps=a.getEntityTypeMetadata().maximumNumberOfSteps;t.getView().maxNumberOfPaths=a.getEntityTypeMetadata().maxOccurs}if(i===undefined&&typeof e==="object"){t.getSaveDialog(o,function(){return},s)}else{var n=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(i);t.oCoreApi.putMessage(n)}})},getNewAnalysisPathDialog:function(){var e=this;if(this.oCoreApi.isDirty()&&e.oCoreApi.getSteps().length!==0){e.newDialog=new i({type:c.Message,title:e.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new n({text:e.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),beginButton:new a({text:e.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){e.doOkOnNewAnalysisPath();e.newDialog.close()}}),endButton:new a({text:e.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){e.resetAnalysisPath();e.newDialog.close()}}),afterClose:function(){e.oUiApi.getLayoutView().setBusy(false);e.newDialog.destroy()}});this.addCompactStyleClassForDialog(e.newDialog);e.newDialog.setInitialFocus(e.newDialog);e.newDialog.open()}else{this.resetAnalysisPath()}},getOpenDialog:function(e){var t=this;t.newOpenDialog=new i({type:c.Message,title:t.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new n({text:t.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),beginButton:new a({text:t.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){t.doOkOnOpenAnalysisPath(t.bIsPathGalleryWithDelete);t.newOpenDialog.close()}}),endButton:new a({text:t.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){t.resetAnalysisPath();t.openPathGallery(t.bIsPathGalleryWithDelete);t.newOpenDialog.close()}}),afterClose:function(){t.oUiApi.getLayoutView().setBusy(false);t.newOpenDialog.destroy()}});this.addCompactStyleClassForDialog(t.newOpenDialog);t.newOpenDialog.setInitialFocus(t.newOpenDialog);t.newOpenDialog.open()},getConfirmDialog:function(e){var t=this;var o=e||{};var s={success:o.success||function(){return},fail:o.fail||function(){return},msg:o.msg||""};t.confirmDialog=new i({title:t.oCoreApi.getTextNotHtmlEncoded("caution"),type:c.Message,content:new n({text:s.msg}).addStyleClass("textStyle"),beginButton:new a({text:t.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){t.overWriteAnalysisPath();t.confirmDialog.close()}}),endButton:new a({text:t.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){var e=true;var a=t.oInput.getModel().getData();t.getSaveDialog(e,function(){return},a);t.confirmDialog.close()}}),afterClose:function(){t.oUiApi.getLayoutView().setBusy(false);t.confirmDialog.destroy()}});this.addCompactStyleClassForDialog(t.confirmDialog);t.confirmDialog.open()},callbackforSave:function(e){e()},onOpenPathGallery:function(e){if(this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){this.getOpenDialog(e)}else{this.openPathGallery(e)}this.isOpen=false},saveAnalysisPath:function(e,t,a){var i=this;this.saveCallback=t;this.analysisPathName=e;this.aData=i.oInput.getModel().getData();var o=false;this.guid="";for(var s=0;s<this.aData.length;s++){var n=this.aData[s].AnalysisPathName;if(this.analysisPathName===n){o=true;this.guid=this.aData[s].AnalysisPath;break}}var l=o?this.aData.length:this.aData.length+1;var r=i.oCoreApi.getSteps().length;if(l>this.getView().maxNumberOfPaths){i.oCoreApi.putMessage(i.oCoreApi.createMessageObject({code:"6014"}));return false}else if(r>this.getView().maxNumberOfSteps){i.oCoreApi.putMessage(i.oCoreApi.createMessageObject({code:"6015"}));return false}if(!o){i.oSerializationMediator.savePath(i.analysisPathName,function(e,t,a){if(a===undefined&&typeof e==="object"){i.oCoreApi.setDirtyState(false);i.oUiApi.getLayoutView().getController().setPathTitle();i.getSuccessToast(i.analysisPathName,false);if(typeof i.saveCallback==="function"){i.saveCallback()}}else{var o=i.oCoreApi.createMessageObject({code:"6006",aParameters:[i.analysisPathName]});o.setPrevious(a);i.oCoreApi.putMessage(o)}})}else{var g;if(this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){g=i.oUiApi.getLayoutView().getController().oSavedPathName.getText().slice(1,i.oUiApi.getLayoutView().getController().oSavedPathName.getText().length)}else{g=i.oUiApi.getLayoutView().getController().oSavedPathName.getText()}if(!a&&g===i.analysisPathName){i.overWriteAnalysisPath()}else{this.getConfirmDialog({msg:i.oCoreApi.getTextNotHtmlEncoded("path-exists",["'"+i.analysisPathName+"'"])})}}},getSuccessToast:function(e,t){var a=this;var i=a.oCoreApi.createMessageObject({code:t?"6017":"6016",aParameters:[e]});a.oCoreApi.putMessage(i);if(a.isOpen&&a.bIsPathGalleryWithDelete){a.openPathGallery(a.bIsPathGalleryWithDelete)}else if(a.isOpen){a.openPathGallery()}},overWriteAnalysisPath:function(){var e=this;var t=this.analysisPathName;var a=this.guid;e.oSerializationMediator.savePath(a,t,function(a,i,o){if(o===undefined&&typeof a==="object"){e.oCoreApi.setDirtyState(false);e.oUiApi.getLayoutView().getController().setPathTitle();if(e.saveDialog&&e.saveDialog.isOpen()){e.saveDialog.close()}e.getSuccessToast(t,true);if(typeof e.saveCallback==="function"){e.saveCallback()}}else{var s=e.oCoreApi.createMessageObject({code:"6007",aParameters:[t]});s.setPrevious(o);e.oCoreApi.putMessage(s)}})},apfDestroy:function(){t.checkAndCloseDialog(this.saveDialog);t.checkAndCloseDialog(this.newOpenDialog);t.checkAndCloseDialog(this.newDialog);t.checkAndCloseDialog(this.confirmDialog);t.checkAndCloseDialog(this.errorMsgDialog);t.checkAndCloseDialog(this.noPathAddedDialog);if(this.deleteAnalysisPath!==undefined){t.checkAndCloseDialog(this.deleteAnalysisPath.getController().oDialog)}if(this.pathGallery!==undefined){t.checkAndCloseDialog(this.pathGallery.getController().oDialog)}}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/addStepCheckDialog.fragment", ["sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Link","sap/m/Text","sap/m/VBox","sap/base/security/encodeXML","sap/ui/core/HTML","sap/ui/core/library","sap/ui/thirdparty/jquery","sap/ui/core/Fragment"],function(e,t,n,o,i,a,s,r,d,jQuery){"use strict";var p=n.DialogType,c=n.FlexAlignItems,l=d.ValueState;sap.ui.jsfragment("sap.apf.ui.reuse.fragment.addStepCheckDialog",{createContent:function(n){var d=n.oController;var g=new t(d.createId("idAddStepCheckDialog"),{title:d.oCoreApi.getTextNotHtmlEncoded("warning"),type:p.Message,state:l.Warning,content:[new i({text:d.oCoreApi.getTextNotHtmlEncoded("addStepCheck")}),new a({alignItems:c.End,items:[new o(d.createId("idShowDetailsLinkForAddStep"),{text:d.oCoreApi.getTextNotHtmlEncoded("showDetails"),press:function(){var o=new t(d.createId("idShowDetailsDialogForAddStep"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:d.oCoreApi.getTextNotHtmlEncoded("warning"),type:p.Message,state:l.Warning,content:new r({content:["<div><p> "+s(n.sMessageText)+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new e({text:d.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){o.close()}}),afterClose:function(){o.destroy()}});o.setInitialFocus(o);o.open()}})]})],beginButton:new e({text:d.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){g.close()}}),afterClose:function(){g.destroy()}});return g}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/newMessageDialog.fragment", ["sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Text","sap/ui/core/Fragment"],function(e,t,a,o){"use strict";var n=a.DialogType;sap.ui.jsfragment("sap.apf.ui.reuse.fragment.newMessageDialog",{createContent:function(a){var r=new e(a.createId("idYesButton"),{text:a.oCoreApi.getTextNotHtmlEncoded("yes")});var s=new e(a.createId("idNoButton"),{text:a.oCoreApi.getTextNotHtmlEncoded("no")});var i=new t(a.createId("idNewDialog"),{type:n.Standard,title:a.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new o({text:a.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),buttons:[r,s],afterClose:function(){i.destroy()}});return i}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/pathGallery.fragment", ["sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/List","sap/m/NavContainer","sap/m/Page","sap/m/SearchField","sap/m/StandardListItem","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/thirdparty/jquery","sap/ui/core/Fragment"],function(t,e,a,i,n,o,r,l,s,h,jQuery){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.pathGallery",{createContent:function(p){var c=this;this.contentWidth=jQuery(window).height()*.6+"px";this.contentHeight=jQuery(window).height()*.6+"px";this.oCoreApi=p.oCoreApi;this.oUiApi=p.oUiApi;var g=function(t){var e=[];var a=t.getSource().getValue();var i=c.pathGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(a&&a.length>0){var n=new s("title",h.Contains,a);e.push(n)}var o=i.getBinding("items");o.filter(e)};var u=(new i).bindItems({path:"StructuredAnalysisPath/steps",template:new l({title:"{title}",tooltip:"{title}",type:"Active",icon:"{imgSrc}",press:function(t){c.oUiApi.getLayoutView().setBusy(true);var e=t.getSource().getBindingContext().sPath.split("/");var a=this.getModel().getData().GalleryElements[e[2]].AnalysisPathName;var i=this.getModel().getData().GalleryElements[e[2]].AnalysisPath;var n=e[5];p.openPath(a,i,n);c.oUiApi.getLayoutView().setBusy(false)}})});var d=new o({subHeader:new t({contentLeft:[new r({liveChange:g})]}),content:u,showNavButton:true,navButtonPress:function(){c.oPathGalleryNavContainer.back()}});var v=(new i).bindItems({path:"/GalleryElements",template:new l({title:"{title}",tooltip:"{title}",description:"{description}",type:"Navigation",press:function(t){var e=t.getSource().getBindingContext();d.setBindingContext(e);d.setTitle(t.getSource().getTitle());c.oPathGalleryNavContainer.to(c.oPathGalleryNavContainer.getPages()[1])}})});var y=new o({title:c.oCoreApi.getTextNotHtmlEncoded("select-analysis-path"),subHeader:new t({contentLeft:[new r({liveChange:g})]}),content:v});this.oPathGalleryNavContainer=new n({pages:[y,d]});this.oPathGalleryNavContainer.setModel(p.getView().getModel());c.pathGalleryHierarchicalDialog=new a({contentWidth:c.contentWidth,contentHeight:c.contentHeight,showHeader:false,content:[this.oPathGalleryNavContainer],endButton:new e({text:c.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){c.pathGalleryHierarchicalDialog.close()}}),afterClose:function(){c.pathGalleryHierarchicalDialog.destroy()}});return this.pathGalleryHierarchicalDialog}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/selectionDisplay.fragment", ["sap/m/Button","sap/m/Dialog","sap/m/List","sap/m/StandardListItem","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/ui/core/Fragment"],function(e,t,a,i,r,jQuery){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.selectionDisplay",{createContent:function(n){var o=n.getCurrentRepresentation();var s=o.getParameter().requiredFilterOptions;var d=o.getSortedSelections();var l=o.getMetaData().getPropertyMetadata(o.getParameter().requiredFilters[0]);var p=l.label||l.name;if(s&&s.fieldDesc){p=n.oCoreApi.getTextNotHtmlEncoded(s.fieldDesc)}var c=new t({id:this.createId("idSelectionDisplayDialog"),title:n.oCoreApi.getTextNotHtmlEncoded("selected-required-filter",[p])+" ("+d.length+")",contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",buttons:[new e({text:n.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){c.close();c.destroy()}})],afterClose:function(){c.destroy()}});var u={selectionData:d};var g=new a({items:{path:"/selectionData",template:new i({title:"{text}"})}});var m=new r;m.setSizeLimit(d.length);m.setData(u);g.setModel(m);c.addContent(g);return c}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/stepGallery.fragment", ["sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/List","sap/m/NavContainer","sap/m/Page","sap/m/SearchField","sap/m/StandardListItem","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/thirdparty/jquery","sap/ui/core/Fragment"],function(e,t,a,n,i,r,o,l,s,p,jQuery){"use strict";sap.ui.jsfragment("sap.apf.ui.reuse.fragment.stepGallery",{createContent:function(g){var c=this;this.contentWidth=jQuery(window).height()*.6+"px";this.contentHeight=jQuery(window).height()*.6+"px";this.oCoreApi=g.oCoreApi;this.oUiApi=g.oUiApi;var d=function(e){var t=[];var a=e.getSource().getValue();var n=c.oStepGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(a&&a.length>0){var i=new s("title",p.Contains,a);t.push(i)}var r=n.getBinding("items");r.filter(t)};var u=function(e){c.oUiApi.getLayoutView().setBusy(true);var t=e.getSource().getBindingContext().sPath.split("/");var a=t[2];var n=t[4];var i=t[6];var r=g.getStepDetails(a,n);g.onStepPress(r.id,r.representationtypes[i].representationId)};var h=(new n).bindItems({path:"representationtypes",template:new l({title:"{title}",icon:"{picture}",tooltip:"{title}",type:"Active",wrapping:true,press:u}).bindProperty("description","sortDescription",function(e){var t=[];if(e===undefined||e===null){return null}t=e.length?e.join(", "):e;return c.oCoreApi.getTextNotHtmlEncoded("sortBy")+": "+t})});var v=new r({id:this.createId("idStepGalleryRepresentationPage"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:h,showNavButton:true,navButtonPress:function(){c.oStepGalleryNavContainer.back()}});var y=(new n).bindItems({path:"stepTemplates",template:new l({title:"{title}",tooltip:"{title}",type:"Navigation",press:function(e){var t=e.getSource().getBindingContext();v.setBindingContext(t);v.setTitle(e.getSource().getTitle());c.oStepGalleryNavContainer.to(c.oStepGalleryNavContainer.getPages()[2])}})});var C=new r({id:this.createId("idStepGalleryStepPage"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:y,showNavButton:true,navButtonPress:function(){c.oStepGalleryNavContainer.back()}});var S=(new n).bindItems({path:"/GalleryElements",template:new l({title:"{title}",tooltip:"{title}",type:"Navigation",press:function(e){var t=e.getSource().getBindingContext();C.setBindingContext(t);C.setTitle(e.getSource().getTitle());c.oStepGalleryNavContainer.to(c.oStepGalleryNavContainer.getPages()[1])}})});var w=new r({id:this.createId("idStepGalleryCategoryPage"),title:c.oCoreApi.getTextNotHtmlEncoded("category"),tooltip:c.oCoreApi.getTextNotHtmlEncoded("category"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:S});this.oStepGalleryNavContainer=new i({pages:[w,C,v]});this.oStepGalleryNavContainer.setModel(g.getView().getModel());this.oStepGalleryHierarchicalDialog=new a({contentWidth:c.contentWidth,contentHeight:c.contentHeight,showHeader:false,content:[this.oStepGalleryNavContainer],endButton:new t({text:c.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){c.oStepGalleryHierarchicalDialog.close();c.oStepGalleryHierarchicalDialog.destroy()}}),afterClose:function(){c.oStepGalleryHierarchicalDialog.destroy()}});return this.oStepGalleryHierarchicalDialog}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/analysisPath.view", ["sap/m/library","sap/m/Popover","sap/ui/layout/VerticalLayout"],function(t,e,i){"use strict";var a=t.PlacementType;return sap.ui.jsview("sap.apf.ui.reuse.view.analysisPath",{getCarouselView:function(){return this.oCarousel},getToolbar:function(){return this.oActionListItem},getPathGallery:function(){return this.pathGallery},getPathGalleryWithDeleteMode:function(){return this.deleteAnalysisPath},getControllerName:function(){return"sap.apf.ui.reuse.controller.analysisPath"},createContent:function(t){var o=this;this.oController=t;this.oActionListPopover=new e({id:this.createId("idAnalysisPathMenuPopOver"),showHeader:false,placement:a.Bottom,contentWidth:"165px"});var s=this.getViewData();o.oCoreApi=s.oCoreApi;o.oUiApi=s.uiApi;this.oActionListItem=o.oUiApi.getToolbar().addStyleClass("toolbarView");this.oCarousel=o.oUiApi.createCarouselSingleton();this.oCarousel.getViewData().analysisPath=o;this.pathGallery=o.oUiApi.getPathGallery();this.deleteAnalysisPath=o.oUiApi.getDeleteAnalysisPath();this.oAnalysisPath=new i({content:[o.oContentTitle,o.oCarousel],width:"100%"});return this.oAnalysisPath}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/carousel.view", ["sap/apf/ui/utils/constants","sap/m/CustomListItem","sap/m/library","sap/m/List","sap/m/Button"],function(t,e,o,s,n){"use strict";var i=o.ListType;var r=sap.ui.jsview("sap.apf.ui.reuse.view.carousel",{onListItemPressed:function(t){this.getController().listItemPressed(t)},createCustomListItem:function(t){var o=new e({content:t,type:i.Active,press:this.onListItemPressed.bind(this)});o.addEventDelegate({onAfterRendering:function(){}},this);return o},addCustomListItem:function(t){this.oCustomItemList.addItem(t)},onDeleteCustomListItem:function(t){this.getController().deleteCustomListItem(t.getParameters().listItem.sId)},getCustomItemList:function(){return this.oCustomItemList.getItems()},removeCustomItem:function(t){return this.oCustomItemList.removeItem(t)},insertCustomItem:function(t,e){return this.oCustomItemList.insertItem(t,e)},getStepGallery:function(){return this.stepGalleryView},oldCarouselContent:function(t){},getAddStepButton:function(){return this.addStepButton},createCarouselContent:function(t){var e=this;this.addStepButton=new n({id:t.createId("idAddAnalysisStepButtonInFooter"),tooltip:e.oCoreApi.getTextNotHtmlEncoded("add-step"),icon:"sap-icon://add",press:function(e){t.showStepGallery()}});this.moveUpButton=new n({id:t.createId("idMoveStepUpButtonInFooter"),icon:"sap-icon://arrow-top",tooltip:e.oCoreApi.getTextNotHtmlEncoded("moveStepUp"),enabled:false,press:function(e){t.handleMove({down:false})}});this.moveDownButton=new n({id:t.createId("idMoveStepDownButtonInFooter"),icon:"sap-icon://arrow-bottom",tooltip:e.oCoreApi.getTextNotHtmlEncoded("moveStepDown"),enabled:false,press:function(e){t.handleMove({down:true})}});this.oCustomItemList=new s({id:"stepList",mode:"Delete",delete:function(t){e.onDeleteCustomListItem(t)}}).addStyleClass("sapMCarousel");this.oCarousel=this.oCustomItemList;this.stepGalleryView=e.oUiApi.getStepGallery();return this.oCarousel},getControllerName:function(){return"sap.apf.ui.reuse.controller.carousel"},createContent:function(t){var e=this.getViewData().oInject;this.oController=t;this.oCoreApi=e.oCoreApi;this.oUiApi=e.uiApi;return this.createCarouselContent(t)}});return r});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/deleteAnalysisPath.view", ["sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/List","sap/m/StandardListItem","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/core/mvc/JSView"],function(e,t,i,a,s,o,jQuery){"use strict";var n=i.ListMode;sap.ui.jsview("sap.apf.ui.reuse.view.deleteAnalysisPath",{getControllerName:function(){return"sap.apf.ui.reuse.controller.deleteAnalysisPath"},createContent:function(i){var l=jQuery(window).height()*.6+"px";var p=jQuery(window).height()*.6+"px";this.oCoreApi=this.getViewData().oInject.oCoreApi;this.oUiApi=this.getViewData().oInject.uiApi;var r=this;var d=new a({mode:n.Delete,items:{path:"/GalleryElements",template:new s({title:"{AnalysisPathName}",description:"{description}",tooltip:"{AnalysisPathName}"})},delete:i.handleDeleteOfDialog.bind(i)});var c=new t({title:r.oCoreApi.getTextNotHtmlEncoded("delPath"),contentWidth:l,contentHeight:p,content:d,leftButton:new e({text:r.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){c.close();r.oUiApi.getLayoutView().setBusy(false)}}),afterClose:function(){r.destroy()}});if(o.system.desktop){this.addStyleClass("sapUiSizeCompact");c.addStyleClass("sapUiSizeCompact")}return c}})});
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/reuse/view/facetFilter.view", ["sap/m/FacetFilter","sap/ui/Device","sap/ui/core/mvc/JSView"],function(e,t){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.facetFilter",{getControllerName:function(){return"sap.apf.ui.reuse.controller.facetFilter"},createContent:function(i){var r=new e(i.createId("idAPFFacetFilter"),{type:"Simple",showReset:true,showPopoverOKButton:true,reset:i.onResetPress.bind(i)}).addStyleClass("facetFilterInitialAlign");if(t.system.desktop){r.addStyleClass("facetfilter")}return r}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/navigationTarget.view", ["sap/m/library","sap/m/List","sap/m/StandardListItem","sap/ui/core/HTML","sap/ui/model/json/JSONModel","sap/ui/core/mvc/JSView"],function(t,e,i,a,o){"use strict";var n=t.ListType;sap.ui.jsview("sap.apf.ui.reuse.view.navigationTarget",{getControllerName:function(){return"sap.apf.ui.reuse.controller.navigationTarget"},createContent:function(t){var e=this.getViewData();this.oNavListPopover=e.oNavListPopover;this.oOpenInButtonEventSource=e.oOpenInButtonEventSource;this.oNavigationHandler=e.oNavigationHandler;this.oUiApi=e.oUiApi;this.oController=t;this.oUiApi.getLayoutView().byId("applicationPage").setBusy(true);var i=this.oNavigationHandler.getNavigationTargets();i.then(this._prepareActionListModel.bind(this),function(){this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false)})},_prepareActionListModel:function(t){var s=this;var r=[];var p=[];t.global.forEach(function(t){if(t.title){t.text=s.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}r.push(t)});t.stepSpecific.forEach(function(t){if(t.title){t.text=s.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}p.push(t)});this.oNavListPopover.removeAllContent();var v,l;var g=this;if(p.length!==0){var u=new o;var c={navTargets:p};l=new e({items:{path:"/navTargets",template:new i({title:"{text}",type:n.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;g.oController.handleNavigation(e)}})}});u.setData(c);l.setModel(u);var d=new a({content:'<hr class="lineSeparator">',sanitizeContent:true});this.oNavListPopover.addContent(l);this.oNavListPopover.addContent(d)}if(r.length!==0){var h=new o;var f={navTargets:r};v=new e({items:{path:"/navTargets",template:new i({title:"{text}",type:n.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;g.oController.handleNavigation(e)}})}});h.setData(f);v.setModel(h);this.oNavListPopover.addContent(v)}this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false);this.oNavListPopover.openBy(this.oOpenInButtonEventSource)}})});
/*!
 * SAP APF Analysis Path Framework 
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/stepContainer.view", ["sap/suite/ui/commons/ChartContainer","sap/suite/ui/commons/ChartContainerToolbarPlaceholder","sap/m/OverflowToolbar","sap/ui/Device","sap/ui/layout/VerticalLayout"],function(e,t,a,r,i){"use strict";return sap.ui.jsview("sap.apf.ui.reuse.view.stepContainer",{getControllerName:function(){return"sap.apf.ui.reuse.controller.stepContainer"},createContent:function(o){if(r.system.desktop){o.getView().addStyleClass("sapUiSizeCompact")}var n=new e({id:o.createId("idChartContainer"),showFullScreen:true}).addStyleClass("chartContainer ChartArea");var s=new a({id:o.createId("idChartContainerToolbar")});s.addContent(new t);n.setToolbar(s);this.stepLayout=new i({id:o.createId("idStepLayout"),content:[n],width:"100%"});this.stepLayout.setBusy(true);return this.stepLayout}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/toolbar.view", ["sap/m/List","sap/m/ListType","sap/m/StandardListItem"],function(e,t,i){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.toolbar",{getControllerName:function(){return"sap.apf.ui.reuse.controller.toolbar"},createContent:function(s){this.maxNumberOfSteps=32;this.maxNumberOfPaths=255;var a=this;var n=this.getViewData();a.oCoreApi=n.oCoreApi;a.oUiApi=n.uiApi;var o=new i({id:this.createId("idAnalysisPathMenuNewAnalysisPath"),icon:"sap-icon://add-product",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("new"),press:function(){a.getParent().close();a.oUiApi.getLayoutView().setBusy(true);s.getNewAnalysisPathDialog();a.oUiApi.getLayoutView().setBusy(false)}});var r=new i({id:this.createId("idAnalysisPathMenuOpenAnalysisPath"),icon:"sap-icon://open-folder",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("open"),press:function(){s.bIsPathGalleryWithDelete=false;a.oUiApi.getLayoutView().setBusy(true);a.getParent().close();s.onOpenPathGallery(s.bIsPathGalleryWithDelete)}});var l=new i({id:this.createId("idAnalysisPathMenuSaveAnalysisPath"),icon:"sap-icon://save",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("save"),press:function(){a.getParent().close();s.onSaveAndSaveAsPress(false)}});var c=new i({id:this.createId("idAnalysisPathMenuSaveAnalysisPathAs"),icon:"sap-icon://save",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("savePathAs"),press:function(){a.getParent().close();s.onSaveAndSaveAsPress(true)}});var p=new i({id:this.createId("idAnalysisPathMenuDeleteAnalysisPath"),icon:"sap-icon://delete",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("delete"),press:function(){s.bIsPathGalleryWithDelete=true;a.getParent().close();a.oUiApi.getLayoutView().setBusy(true);s.openPathGallery(s.bIsPathGalleryWithDelete)}});var d=new i({id:this.createId("idAnalysisPathMenuPrintAnalysisPath"),icon:"sap-icon://print",type:t.Active,title:a.oCoreApi.getTextNotHtmlEncoded("print"),press:function(){a.getParent().close();s.doPrint()}});this.oActionListItem=new e({items:[o,r,l,c,p,d]});return this.oActionListItem}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/viewSetting.view", ["sap/m/ViewSettingsDialog","sap/m/ViewSettingsItem","sap/ui/core/mvc/JSView"],function(e,t){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.viewSetting",{getControllerName:function(){return"sap.apf.ui.reuse.controller.viewSetting"},createContent:function(a){var n=this.getViewData().oTableInstance;var i=n.tableControl;var r=[];i.getColumns().forEach(function(e){var a=new t({text:e.getCustomData()[0].getValue().text,key:e.getCustomData()[0].getValue().key});r.push(a)});var o=new e({sortItems:r,confirm:a.handleConfirmForSort.bind(a),cancel:a.handleCancel.bind(a)});return o}})});
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/constants", function(){var T={step:{OPEN_OVERLAY_IMAGE_HEIGHT:15,DROP_MARKER_HEIGHT:1},representationTypes:{FORM_REPRESENTATION:"FormRepresentation",TABLE_REPRESENTATION:"TableRepresentation",COLUMN_CHART:"ColumnChart",LINE_CHART:"LineChart",PIE_CHART:"PieChart",DONUT_CHART:"DonutChart",GEO_MAP:"GeoMap",STACKED_COLUMN_CHART:"StackedColumnChart",SCATTERPLOT_CHART:"ScatterPlotChart",PERCENTAGE_STACKED_COLUMN_CHART:"PercentageStackedColumnChart",BUBBLE_CHART:"BubbleChart",BAR_CHART:"BarChart",STACKED_BAR_CHART:"StackedBarChart",PERCENTAGE_STACKED_BAR_CHART:"PercentageStackedBarChart",HEATMAP_CHART:"HeatmapChart",LINE_CHART_WITH_TWO_VERTICAL_AXES:"LineChartWithTwoVerticalAxes",LINE_CHART_WITH_TIME_AXIS:"LineChartWithTimeAxis",TREE_TABLE_REPRESENTATION:"TreeTableRepresentation",COMBINATION_CHART:"CombinationChart",STACKED_COMBINATION_CHART:"StackedCombinationChart",DUAL_COMBINATION_CHART:"DualCombinationChart",DUAL_STACKED_COMBINATION_CHART:"DualStackedCombinationChart"},vizChartTypes:{COLUMN:"Column",LINE:"Line",PIE:"Pie",STACKED_COLUMN:"StackedColumn",PERCENTAGE_STACKED_COLUMN:"StackedColumn100",SCATTERPLOT:"Scatter",BUBBLE:"Bubble"},vizFrameChartTypes:{COLUMN:"column",LINE:"line",PIE:"pie",DONUT:"donut",STACKED_COLUMN:"stacked_column",PERCENTAGE_STACKED_COLUMN:"100_stacked_column",SCATTERPLOT:"scatter",BUBBLE:"bubble",BAR:"bar",STACKED_BAR:"stacked_bar",PERCENTAGE_STACKED_BAR:"100_stacked_bar",HEATMAP:"heatmap",LINE_CHART_WITH_TWO_VERTICAL_AXES:"dual_line",LINE_CHART_WITH_TIME_AXIS:"timeseries_line",COMBINATION:"combination",STACKED_COMBINATION:"stacked_combination",DUAL_COMBINATION:"dual_combination",DUAL_STACKED_COMBINATION:"dual_stacked_combination"},axisTypes:{AXIS:"axis",GROUP:"group"},thumbnailDimensions:{HEIGHT:"75px",WIDTH:"180px",STEP_WIDTH:"202px",STEP_HEIGHT:"170px",STEP_MARGIN:"20px",SEPARATOR_HEIGHT:"25px",REMOVE_ICON_HEIGHT:"20px",TOTAL_STEP_HEIGHT:215},printChartDimensions:{WIDTH:"0.89",POTRAITWIDTH:"793.700787402",LANDSCAPEWIDTH:"1122.519685039"},analysisPathArea:{HEADERHEIGHT:140},chartArea:{CHARTHEADERHEIGHT:120},carousel:{SCROLLCONTAINER:275,DNDBOX:280},landingPage:"landingPage"};sap.apf.ui.utils.CONSTANTS=T;return T},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/dateTimeFormatter", ["sap/ui/core/format/DateFormat"],function(t){"use strict";var e=function(){this.oDisplayFormatterMap=r()};e.prototype.constructor=e;function r(){var t=new Map;t.set("Date",a);t.set(undefined,n);return t}function a(e){var r=t.getDateInstance({style:"short"});var a=r.format(e,true);return a}function n(t){return t}e.prototype.getFormattedValue=function(t,e){var r=t["sap:display-format"]!==undefined?t["sap:display-format"]:undefined;var a=new Date(e);if(a.toLocaleString()==="Invalid Date"){return"-"}var n=this.oDisplayFormatterMap.get(r)!==undefined?this.oDisplayFormatterMap.get(r).call(this,a):a;return n};return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/decimalFormatter", ["sap/ui/core/format/NumberFormat"],function(t){"use strict";var e=function(){this.aSupportedSemantics=["currency-code",undefined];this.oSemanticsFormatterMap=r()};e.prototype.constructor=e;function r(){var t=new Map;t.set("currency-code",n);t.set(undefined,a);return t}function n(e,r){var n=t.getCurrencyInstance();return n.format(r)}function a(e,r,n){var a=t.getFloatInstance({style:"standard",minFractionDigits:n});return a.format(r)}e.prototype.getFormattedValue=function(t,e,r){var n;if(this.aSupportedSemantics.indexOf(t["semantics"])!==-1){n=t["semantics"]}return this.oSemanticsFormatterMap.get(n).call(self,t,e,r)};return e},true);
sap.ui.predefine("sap/apf/ui/utils/determineColumnSettingsForSpreadSheetExport", ["sap/ui/export/library","sap/ui/export/Spreadsheet"],function(e,t){"use strict";var a=e.EdmType;var i=function(e,t){var i={};var r,p;if(t){r=t.getPropertyMetadata(e);var s=r.dataType.type;if(s==="Edm.Int32"){i.type=a.Number;i.scale=0}else if(s==="Edm.Decimal"){i.type=a.Number;i.precision=parseInt(r.precision,10);i.scale=parseInt(r.scale,10);if(r["sap:unit"]){p=t.getPropertyMetadata(r["sap:unit"]);if(p&&p["sap:semantics"]&&p["sap:semantics"]==="currency-code"){i.type=a.Currency;i.unitProperty=p.name;i.displayUnit=true}}}else if(s==="Edm.DateTime"){if(r["sap:display-format"]&&r["sap:display-format"]==="Date"){i.type=a.Date}else{i.type=a.DateTime}}else if(s==="Edm.DateTimeOffset"){i.type=a.DateTime}else if(s==="Edm.String"){i.type=a.String;if(r.MaxLength){i.width=parseInt(r.MaxLength,10)}}else{i.type=a.String}}return i};return i},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterListConverter", ["sap/apf/utils/exportToGlobal"],function(t){"use strict";function e(){"use strict";this.getFFListDataFromFilterValues=function(t,e,i){var a=[];t.forEach(function(t){var r={};r.key=t[e];r.text=t.formattedValue;r.selected=false;if(i){i.forEach(function(i){if(i instanceof Date&&t[e]instanceof Date){if(i.toISOString()===t[e].toISOString()){r.selected=true}}else if(i==t[e]){r.selected=true}})}a.push(r)});return a}}t("sap.apf.ui.utils.FacetFilterListConverter",e);return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterListHandler", ["sap/apf/ui/utils/facetFilterListConverter","sap/apf/ui/utils/facetFilterValueFormatter","sap/apf/utils/exportToGlobal","sap/m/FacetFilterList","sap/m/FacetFilterItem","sap/ui/Device","sap/ui/model/BindingMode","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery"],function(e,t,i,s,a,r,l,n,jQuery){"use strict";function o(e,t,i){"use strict";var o=[];var u;var c=new sap.apf.ui.utils.FacetFilterListConverter;function d(t){if(t===null||t.length===0){var s=e.createMessageObject({code:"6010",aParameters:[e.getTextNotHtmlEncoded(i.getLabel())]});e.putMessage(s);u.setActive(false)}}function f(i,s,a,l){var n=new sap.apf.ui.utils.FacetFilterValueFormatter(t,e);var d=n.getFormattedFFData(i,s,a);var f=c.getFFListDataFromFilterValues(d,s,o);var F=u.getModel();F.setSizeLimit(500);F.setData(f);var g=F.getData();if(l){g.forEach(function(e){if(e.selected==false){if(!r.browser.msie){if(Object.values(u.getSelectedKeys()).indexOf(e.text)>-1){u.removeSelectedKey(e.key)}}else{if(Object.keys(u.getSelectedKeys()).indexOf(e.text)>-1){u.removeSelectedKey(e.key)}}}})}F.updateBindings()}this.createFacetFilterList=function(){var t=this;u=new s({title:e.getTextNotHtmlEncoded(i.getLabel()),multiSelect:i.isMultiSelection(),key:i.getPropertyName(),growing:false,growingScrollToLoad:true,listClose:this.onListClose.bind(this),listOpen:this.onListOpen.bind(this)});u.bindItems("/",new a({key:"{key}",text:"{text}",selected:"{selected}"}));var r=new n([]);r.setDefaultBindingMode(l.OneWay);u.setModel(r);if(!i.hasValueHelpRequest()){this.getFacetFilterListData().done(d)}this.getSelectedFFValues().then(function(e){c(e)});return u;function c(e){e.oFilterRestrictionPropagationPromiseForSelectedValues.done(function(e,t){c({aSelectedFilterValues:e,oFilterRestrictionPropagationPromiseForSelectedValues:t})});if(e.aSelectedFilterValues.length>0||o.length>0){o=e.aSelectedFilterValues;t.getFacetFilterListData().done(function(e,t,i){f(e,t,i,true)})}}};this.getFacetFilterListData=function(){var e;var t=jQuery.Deferred();var s=i.getValues();s.then(function(s){e=i.getAliasNameIfExistsElsePropertyName()||i.getPropertyName();i.getMetadata().then(function(i){t.resolve(s,e,i)})});return t.promise()};this.getSelectedFFValues=function(){var e=jQuery.Deferred();var t=i.getSelectedValues();t.then(function(t,i){e.resolve({aSelectedFilterValues:t,oFilterRestrictionPropagationPromiseForSelectedValues:i})});return e.promise()};this.setSelectedFFValues=function(e){i.setSelectedValues(e)};this.onListClose=function(){var e=[],i,s,a,r;i=u.getSelectedItems();e=i.map(function(e){return e.getKey()});s=JSON.stringify(e.sort());a=JSON.stringify(o.sort());r=s!==a;if(r){o=e;this.setSelectedFFValues(e);t.selectionChanged(true)}};this.onListOpen=function(){u.setBusy(true);this.getFacetFilterListData().done(function(e,t,i){f(e,t,i,false);u.setBusy(false)})}}i("sap.apf.ui.utils.FacetFilterListHandler",o);return o});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterValueFormatter", ["sap/apf/ui/utils/formatter","sap/apf/utils/exportToGlobal"],function(t,e){"use strict";function a(t,e){"use strict";this.getFormattedFFData=function(a,i,r){var u,n;var o=new sap.apf.ui.utils.formatter({getEventCallback:t.getEventCallback.bind(t),getTextNotHtmlEncoded:e.getTextNotHtmlEncoded,getExits:t.getCustomFormatExit()},r,a);var f=r.text;a.forEach(function(t){u=o.getFormattedValue(i,t[i]);n=u;if(f!==undefined&&t[f]!==undefined){n=u+" - "+t[f]}t.formattedValue=n});return a}}e("sap.apf.ui.utils.FacetFilterValueFormatter",a);return a});
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/formatter", ["sap/apf/ui/utils/stringToDateFormatter","sap/apf/ui/utils/dateTimeFormatter","sap/apf/ui/utils/timeFormatter","sap/apf/ui/utils/decimalFormatter"],function(t,e,r,a){"use strict";var n=function(t,e,r){this.metadata=e;this.dataResponse=r;this.oFormatterArgs=t;this.oDataTypeFormatterMap=i()};n.prototype.constructor=n;function i(){var t=new Map;t.set("Edm.String",o);t.set("Edm.DateTime",u);t.set("Edm.Time",s);t.set("Edm.Decimal",d);return t}function o(e,r){var a=new t;return a.getFormattedValue(e,r,this.oFormatterArgs)}function u(t,r){var a=new e;return a.getFormattedValue(t,r)}function s(t,e){var a=new r;return a.getFormattedValue(t,e)}function d(t,e){var r=new a;var n=t.unit!==undefined?m(this,t.unit):t;var i=0;if(t!==undefined&&this.dataResponse!==undefined&&this.dataResponse[0]!==undefined){i=isNaN(t.scale)?this.dataResponse[0][t.scale]:t.scale}return r.getFormattedValue(n,e,i)}function m(t,e){if(t.metadata&&t.metadata.getPropertyMetadata){return t.metadata.getPropertyMetadata(e)}return t.metadata}n.prototype.getFormattedValue=function(t,e){if(e===null){return"null"}var r;var a=m(this,t);var n=a.dataType!==undefined?a.dataType.type:undefined;if(n===undefined){n=a.type}if(this.oDataTypeFormatterMap.has(n)){r=this.oDataTypeFormatterMap.get(n).call(this,a,e)}else{r=e}var i=jQuery.extend(true,{},a);r=p(i,t,e,r,this.oFormatterArgs);return r};n.prototype.getFormattedValueAsString=function(t,e){return this.getFormattedValue(t,e)+""};n.prototype.getFormatStringTooltip=function(t){return this.getFormatString(t)};n.prototype.getFormatString=function(t){var e=this;var r=sap.viz.ui5.format.ChartFormatter.getInstance();sap.viz.ui5.api.env.Format.numericFormatter(r);var a=t.fieldName;r.registerCustomFormatter("measureFormatter",function(t){var r="-";if(t!==null){r=e.getFormattedValue(a,t)}return r});var n="measureFormatter";return n};n.prototype.getFormattedValueForTextProperty=function(t,e){var r;if(e.key){r=e.text+" ("+e.key+")"}else{r=e.text}var a=jQuery.extend(true,{},m(this,t));r=p(a,t,e.text,r,this.oFormatterArgs);return r};function p(t,e,r,a,n){var i;var o=n.getExits!==undefined?n.getExits.customFormat:undefined;if(o===undefined){return a}i=n.getExits.customFormat.apply(n,[t,e,r,a]);a=i!==undefined?i:a;return a}return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/helper", [],function(){"use strict";var e=function(e){this.oCoreApi=e;this.getRepresentationSortInfo=function(e){var r=this;var t=jQuery.Deferred();var o=e.parameter.dimensions.concat(e.parameter.measures);var a=e.parameter.orderby;var i=a.map(function(e){var t;var a=jQuery.Deferred();o.forEach(function(o){if(e.property===o.fieldName&&o.fieldDesc&&r.oCoreApi.getTextNotHtmlEncoded(o.fieldDesc)){t=r.oCoreApi.getTextNotHtmlEncoded(o.fieldDesc);a.resolve(t)}});if(!t){r.oCoreApi.getMetadataFacade().getProperty(e.property).done(function(e){if(e.label||e.name){if(e.label){a.resolve(e.label)}else if(e.name){a.resolve(e.name)}else{a.resolve("")}}})}return a.promise()});t.resolve(i);return t.promise()}};sap.apf.ui.utils.Helper=e;return e},true);
/*
 * ! SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/print", ["sap/apf/ui/utils/printView","sap/apf/ui/utils/formatter","sap/apf/utils/exportToGlobal","sap/viz/ui5/types/legend/Common","sap/base/util/isEmptyObject","sap/ui/Device","sap/ui/layout/VerticalLayout","sap/ui/thirdparty/jquery"],function(t,e,i,n,a,r,o,jQuery){"use strict";function s(t){"use strict";var e=t.oCoreApi;var i=t.uiApi;var n=null;var s=new sap.apf.ui.utils.PrintModel(t);var l=new sap.apf.ui.utils.PrintView(t,s);this.oPrintLayout={};function u(t){if(!a(t.oPrintLayout)){t.oPrintLayout.removeContent()}jQuery("#apfPrintArea").remove();jQuery("body").append('<div id="apfPrintArea"></div>');i.createApplicationLayout(false).then(function(t){t.setBusy(true)})}this.doPrint=function(t){t=t||0;e.getApplicationConfigProperties().done(function(i){s.setApplicationConfig(i);var a,r,f;var d=2e3,h=this;s.nStepRenderCount=0;n=e.getSteps();s.nNoOfSteps=n.length;this.oPrintLayout=new o({id:"idAPFPrintLayout"});u(this);f=new o({id:"idAPFPrintFirstPageLayout",content:[l.getHeaderForFirstPage(),l.getPrintLayoutForFacetFiltersAndFooters()]}).addStyleClass("filterLayout");this.oPrintLayout.addContent(f);for(a=0;a<n.length;a++){r=parseInt(a,10)+1;this.oPrintLayout.addContent(l.getPrintLayoutForEachStep(n[a],r,n.length))}this.oPrintLayout.placeAt("apfPrintArea");p(h.oPrintLayout,d,t)}.bind(this))};function p(t,e,n){new Promise(function(t){setTimeout(function(){t()},e)}).then(function(){h(t);if(n==1){d(n)}else{d()}f(t);return i.createApplicationLayout(false)}).then(function(t){t.setBusy(false)})}function f(t){var e,i;var a,r;for(var o=0;o<jQuery("#apfPrintArea").siblings().length;o++){jQuery("#apfPrintArea").siblings()[o].hidden=false}for(var s=0;s<n.length;s++){e=n[s].getSelectedRepresentation();e=e.bIsAlternateView?e.toggleInstance:e;if(e&&e.titleControl&&e.titleControl.oParent){a=e.titleControl.oParent.getItems();if(a&&a.length>1){for(var l=0;l<a.length;l++){if(a[l].getMetadata()._sClassName==="sap.m.HBox"){r=a[l];r.setVisible(true)}}}}if(e.type!==sap.apf.ui.utils.CONSTANTS.representationTypes.TREE_TABLE_REPRESENTATION&&e.type!==sap.apf.ui.utils.CONSTANTS.representationTypes.TABLE_REPRESENTATION){i=t.getContent()[s+1].getContent()[1].getContent()[0];i.destroy();i=null}}t.destroy();t=null;jQuery("div[id^=idAPFStepLayout]").remove();jQuery("#apfPrintArea").remove()}function d(t){t=t||0;var e=r.system.tablet;var i=r.os.ios;if(e===true&&i===true){var n=jQuery("html").clone();var a=jQuery(n).find("body");jQuery(a).children("div").each(function(t,e){if(jQuery(e).attr("id")==="apfPrintArea"){jQuery(e).show()}else{jQuery(e).remove()}});jQuery(jQuery(n).find("body")).html(jQuery(a.html()));var o="<html>"+jQuery(n).html()+"</html>";var s=window.open("","_blank","width=300,height=300");s.opener=null;s.document.write(o);s.print()}else{if(t==0){var l=window.open("","_blank","height=600,width=700");var u=document.getElementById("apfPrintArea").innerHTML;l.opener=null;l.document.write("<html><head><title>Analysis Path Framework</title>");l.document.write("</head><body >");l.document.write(u);l.document.write("</body></html>");l.document.close();l.print();l.close()}else{window.print()}}}function h(t){var e=t.getDomRef();jQuery("#apfPrintArea").empty();jQuery("#apfPrintArea").append(jQuery(e).html());for(var i=0;i<jQuery("#apfPrintArea").siblings().length;i++){jQuery("#apfPrintArea").siblings()[i].hidden=true}}}i("sap.apf.ui.utils.Print",s);return s});
/* (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
/* (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/printModel", ["sap/apf/ui/utils/formatter","sap/apf/utils/exportToGlobal","sap/viz/ui5/types/legend/Common"],function(e,t,r){"use strict";function a(e){this.oUiApi=e.uiApi;this.oCoreApi=e.oCoreApi;this.oFilterIdHandler=e.oFilterIdHandler}a.prototype.constructor=a;function i(e,t,r,a,i,o){var n=new sap.apf.ui.utils.formatter({getEventCallback:e.oUiApi.getEventCallback.bind(e.oUiApi),getTextNotHtmlEncoded:e.oCoreApi.getTextNotHtmlEncoded,getExits:e.oUiApi.getCustomFormatExit()},t);var l=n.getFormattedValue(r,i);var s=n.getFormattedValue(r,o);var p=e.oCoreApi.getTextNotHtmlEncoded(a,[l,s]);return p}function o(e){var t=e.oUiApi.getSmartFilterForPrint();var r=[];if(t!==undefined&&t!==null){var a=t.getFilterData();var o=t.getAnalyticalParameters();if(o&&o.length>0){o.forEach(function(t){var o=a[t.fieldName];var n=t.fieldNameOData;e.oCoreApi.getMetadataFacade().getProperty(n).done(function(t){r.push({sFilterName:n,sFilterValue:i(e,t,n,"EQ",o)})})})}var n=t.getFilters();if(n.length>0){var l=sap.apf.core.utils.Filter.transformUI5FilterToInternal(e.oCoreApi.getMessageHandler(),n[0]);for(var s in a){var p="";var g=l.getFilterTermsForProperty(s);if(g.length>0){e.oCoreApi.getMetadataFacade().getProperty(s).done(function(t){for(var a=0;a<g.length;a++){p+=i(e,t,s,g[a]["operator"],g[a]["value"],g[a]["highValue"]);if(a!==g.length-1){p+=", "}}r.push({sFilterName:s,sFilterValue:p})})}}}}return r}function n(e){var t,r="",a;var i,o,n=[],s=[],p=[];i=e.oUiApi.getFacetFilterForPrint();if(i){o=i.getLists();for(t=0;t<o.length;t++){r=o[t].getTitle();p=o[t].getSelectedItems();if(p.length>0){s=l(p);if(r!==undefined&&r!==null){a="";for(var g=0;g<s.length;g++){if(g!==s.length-1){a+=s[g]+", "}else{a+=s[g]}}n.push({sFilterName:r,sFilterValue:a})}}else{n.push({sFilterName:r,sFilterValue:e.oCoreApi.getTextNotHtmlEncoded("noSelectionInFilter")})}}}return n}function l(e){var t=[];e.forEach(function(e){t.push(e.getText())});return t}function s(e){var t=e.oFilterIdHandler.getAllInternalIds();var r,a=[],i;if(t.length>0){for(i=0;i<t.length;i++){r=e.oFilterIdHandler.get(t[i]).getExpressions();a.push(r[0])}}return a}function p(e,t){var r=[],a,i,o="",n,l,s;var p=[];for(a=0;a<t.length;a++){for(i=0;i<t[a].length;i++){e.oCoreApi.getMetadataFacade().getProperty(t[a][i].name).done(function(t){s=t;o="";p=[];o=t.label;l=new sap.apf.ui.utils.formatter({getEventCallback:e.oUiApi.getEventCallback.bind(e.oUiApi),getTextNotHtmlEncoded:e.oCoreApi.getTextNotHtmlEncoded,getExits:e.oUiApi.getCustomFormatExit()},t)});p.push(l.getFormattedValue(s.name,t[a][i].value));if(o!==undefined&&o!==null){n="";for(var i=0;i<p.length;i++){if(i!==p.length-1){n+=p[i]+", "}else{n+=p[i]}}r.push({sFilterName:o,sFilterValue:n})}}}return r}function g(e){var t=e.oUiApi.getEventCallback(sap.apf.core.constants.eventTypes.printTriggered);var r=p(e,s(e));if(t!==undefined){var a={getTextNotHtmlEncoded:e.oCoreApi.getTextNotHtmlEncoded};r=t.apply(a,s(e))}return r}function u(e){var t,r,a;var i=n(e);r=o(e);t=g(e);a=t.concat(r,i);return a}a.prototype.getFiltersToPrint=function(){var e=this;var t=u(e);return t};a.prototype.getHeaderForFirstPage=function(){return this.oUiApi.getLayoutView().getController().oSavedPathName.getText()};a.prototype.getApplicationName=function(){var e;var t=this.applicationConfig.appName;if(!t){e=this.oCoreApi.createMessageObject({code:"6003",aParameters:["sAppName"]});this.oCoreApi.putMessage(e)}return t};a.prototype.setApplicationConfig=function(e){this.applicationConfig=e};a.prototype.getRepresentationForPrint=function(e){var t;var r;var a;var i;var o=this.oCoreApi.getTextNotHtmlEncoded(e.title);var n=e.getSelectedRepresentation();var l=n.bIsAlternateView?n.toggleInstance:n;if(l&&l.titleControl&&l.titleControl.oParent){a=l.titleControl.oParent.getItems();if(a&&a.length>1){for(r=0;r<a.length;r++){if(a[r].getMetadata()._sClassName==="sap.m.HBox"){i=a[r];i.setVisible(false)}}}}t=l.getPrintContent(o);return t.oRepresentation};t("sap.apf.ui.utils.PrintModel",a);return a});
sap.ui.predefine("sap/apf/ui/utils/printView", ["sap/apf/ui/utils/printModel","sap/apf/utils/exportToGlobal","sap/base/security/encodeXML","sap/m/Text","sap/ui/core/HTML","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout"],function(t,e,r,i,a,n,o){"use strict";function d(t,e){this.oUiApi=t.uiApi;this.oCoreApi=t.oCoreApi;this.printModel=e}d.prototype.constructor=d;d.prototype.getHeaderForFirstPage=function(){var t=new Date;var e=this.printModel.getApplicationName();e=this.oCoreApi.getTextNotHtmlEncoded(e);var r=this.printModel.getHeaderForFirstPage();var a,o,d;a=new i({text:e+":"}).addStyleClass("printHeaderTitle");o=new i({text:r}).addStyleClass("printHeaderTitle");d=new i({text:t.toTimeString()}).addStyleClass("printHeaderDate");var p=new n({id:"idAPFheaderLayout",content:[a,o,d],sanitizeContent:true}).addStyleClass("subHeaderPrintWrapper");return p};d.prototype.getPrintLayoutForFacetFiltersAndFooters=function(){var t=[];var e="",r="";var a=new o({id:"idAPFFacetAndFooterLayout"});t=this.printModel.getFiltersToPrint();for(var n=0;n<t.length;n++){e=new i({text:t[n].sFilterName}).addStyleClass("printFilterName");r=new i({text:t[n].sFilterValue}).addStyleClass("printFilterValue");a.addContent(e);a.addContent(r)}return a};d.prototype.getPrintLayoutForEachStep=function(t,e,r){var i=new o({id:"idAPFChartLayout"+e});i.addContent(this.printModel.getRepresentationForPrint(t));var a=new o({id:"idAPFStepLayout"+e,content:[p(e,r,this),i]}).addStyleClass("representationContent");return a};function p(t,e,i){var n=new Date;var o=i.printModel.getApplicationName();var d=i.printModel.getHeaderForFirstPage();var p=new a({id:"idAPFHeaderForEachStep"+t,content:['<div class="subHeaderPrintWrapper"><p class="printHeaderTitle"> '+i.oCoreApi.getTextHtmlEncoded(o)+" : "+r(d)+"</p>",'<p class="printHeaderDate"> '+n.toTimeString()+' </p></div><div class="clear"></div>','<br><div class="printChipName"><p>'+i.oCoreApi.getTextHtmlEncoded("print-step-number",[t,e])+"</p></div>"].join(""),sanitizeContent:true});return p}e("sap.apf.ui.utils.PrintView",d);return d});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/representationTypesHandler", ["sap/apf/modeler/ui/utils/labelForRepresentationTypes","sap/apf/modeler/ui/utils/constants","sap/apf/core/representationTypes"],function(e,t,r){"use strict";var n=function(){this.aRepresentationTypes=jQuery.extend(true,[],r())};function i(e,t,r){var n=[],i,a;i=e.indexOfRepresentationType(t);if(i===-1){return n}a=e.aRepresentationTypes[i].metadata.dimensions.supportedKinds;a.forEach(function(e){if(e.defaultCount===r){n.push(e.kind)}});return n}function a(e){if(e==="TableRepresentation"){return true}return false}function p(e){if(e==="TreeTableRepresentation"){return true}return false}n.prototype.getLabelsForChartType=function(t,r,n){var i=new e(t);return i.getLabelsForChartType(r,n)};n.prototype.indexOfRepresentationType=function(e){var t;for(t=0;t<this.aRepresentationTypes.length;t++){if(this.aRepresentationTypes[t].id===e){return t}}return-1};n.prototype.getConstructorOfRepresentationType=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return null}return this.aRepresentationTypes[t].constructor};n.prototype.getPictureOfRepresentationType=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return null}return this.aRepresentationTypes[t].picture};n.prototype.getKindsForDimensionPropertyType=function(e){return i(this,e,1)};n.prototype.getKindsForLegendPropertyType=function(e){return i(this,e,0)};n.prototype.getKindsForMeasurePropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}r=this.aRepresentationTypes[t].metadata.measures.supportedKinds.map(function(e){return e.kind});return r};n.prototype.getKindsForPropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}if(this.aRepresentationTypes[t].metadata.properties){r=this.aRepresentationTypes[t].metadata.properties.supportedKinds.map(function(e){return e.kind})}return r};n.prototype.getKindsForHierarchicalPropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}if(this.aRepresentationTypes[t].metadata.hierarchicalColumn){r=this.aRepresentationTypes[t].metadata.hierarchicalColumn.supportedKinds.map(function(e){return e.kind})}return r};n.prototype.isChartTypeSimilar=function(e,r){var n=t.similarChartTypes;return n.indexOf(e)!==-1&&n.indexOf(r)!==-1};n.prototype.isAdditionToBeEnabled=function(e,r,n){var i=false;var o=t.propertyTypes;var s=this.indexOfRepresentationType(e);if(s===-1){return i}if(r===o.PROPERTY){if(a(e)||p(e)){i=true}return i}if(r===o.LEGEND){r=o.DIMENSION}this.aRepresentationTypes[s].metadata[r].supportedKinds.forEach(function(e){if(n===e.kind&&e.max==="*"){i=true}});return i};n.prototype.isCombinationChart=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return false}if(this.aRepresentationTypes[t].isCombinationChart){return true}return false};n.prototype.getDefaultCountForRepresentationKind=function(e,t){var r=this.indexOfRepresentationType(e);if(r===-1){return 0}var n=this.aRepresentationTypes[r].metadata;for(var i in n){for(var a=0;a<n[i].supportedKinds.length;a++){var p=n[i].supportedKinds[a];if(p.kind===t){return p.defaultCount}}}return 0};return n});
sap.ui.predefine("sap/apf/ui/utils/stringToDateFormatter", ["sap/apf/utils/utils","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var r=function(){this.oSemanticsFormatterMap=n();this.oAnnotationFormatterMap=a()};r.prototype.constructor=r;function a(){var t=new Map;t.set("isCalendarYearMonth",m);t.set("isCalendarDate",u);t.set("isCalendarYearQuarter",d);t.set("isCalendarYearWeek",c);return t}function n(){var t=new Map;t.set("yearmonth",s);t.set("yearmonthday",i);t.set(undefined,o);return t}function o(t,e){return e}function s(t,e,r){var a=r.getTextNotHtmlEncoded("month-1-shortName");var n=r.getTextNotHtmlEncoded("month-2-shortName");var o=r.getTextNotHtmlEncoded("month-3-shortName");var s=r.getTextNotHtmlEncoded("month-4-shortName");var i=r.getTextNotHtmlEncoded("month-5-shortName");var m=r.getTextNotHtmlEncoded("month-6-shortName");var u=r.getTextNotHtmlEncoded("month-7-shortName");var d=r.getTextNotHtmlEncoded("month-8-shortName");var c=r.getTextNotHtmlEncoded("month-9-shortName");var v=r.getTextNotHtmlEncoded("month-10-shortName");var l=r.getTextNotHtmlEncoded("month-11-shortName");var h=r.getTextNotHtmlEncoded("month-12-shortName");var f=[a,n,o,s,i,m,u,d,c,v,l,h];var N=e.substr(0,4);var g=f[e.substr(4,6)-1];return g+" "+N}function i(r,a){var n="-";var o;if(a.length===8){o=t.convertFiscalYearMonthDayToDate(a)}else{o=new Date(Date.parse(a))}if(!isNaN(o.getTime())){var s=e.getDateInstance({style:"short"});n=s.format(o,true)}return n}function m(t,e,r){if(t.isCalendarYearMonth===undefined){return""}var a=s(this,e,r);return a}function u(t,e){if(t.isCalendarDate===undefined){return""}var r=i(this,e);return r}function d(t,e){if(t.isCalendarYearQuarter===undefined){return""}var r=e.substr(0,4);var a=e.substr(4,1);var n=new Date(r);var o=n.getFullYear();var s;s="Q"+a;var i=s+" "+o;return i}function c(t,e){if(t.isCalendarYearWeek===undefined){return""}var r=e.substr(0,4);var a=e.substr(4,2);var n=new Date(r);var o=n.getFullYear();var s;s="CW"+a;var i=s+" "+o;return i}r.prototype.getFormattedValue=function(t,e,r){var a="";var n=t["sap:semantics"]!==undefined&&t["sap:semantics"].String!==undefined?t["sap:semantics"].String:t["sap:semantics"];if(e!==null){var o=this;o.oAnnotationFormatterMap.forEach(function(n,s){if(a===""){a=o.oAnnotationFormatterMap.get(s).call(o,t,e,r)}});if(a===""){a=o.oSemanticsFormatterMap.get(n)!==undefined?o.oSemanticsFormatterMap.get(n).call(o,t,e,r):e}}else{a=e}return a};return r},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/timeFormatter", ["sap/ui/model/odata/type/Time"],function(e){"use strict";var t=function(){};t.prototype.constructor=t;t.prototype.getFormattedValue=function(t,r){var n=r;if(r.__edmType!=undefined&&r.__edmType==="Edm.Time"){var o=new e;n=o.formatValue(r,"string")}return n};return t},true);
/*/
 * Created on 19.04.2019.
 * Copyright(c) 2019 SAP SE
 */
sap.ui.predefine("sap/apf/ui/utils/wrappedChartWithCornerTexts", ["sap/m/VBox","sap/m/FlexBox","sap/m/Text","sap/m/FlexAlignItems","sap/m/FlexJustifyContent","sap/apf/ui/utils/constants","sap/apf/utils/trace","sap/ui/core/Icon","sap/ui/core/library"],function(e,t,i,a,s,l,n,o,r){"use strict";var u=r.TextAlign;var p="120px";var h="200px";var c="80px";var d="100px";var c="150px";var g="carouselActiveBorderedChartWithCornerTexts";var f="carouselBorderedChartWithCornerTexts";var m=0;function T(e){return e.type===l.representationTypes.TREE_TABLE_REPRESENTATION}function y(e){return e.type===l.representationTypes.TABLE_REPRESENTATION||e.type===l.representationTypes.TREE_TABLE_REPRESENTATION||e.bIsAlternateView===true}function C(e){n.logCall("getClonedChart");var t=e.getSelectedRepresentation();var i=t.chart;var a;var s;if(P.isIconDisplayed(t)){n.logReturn("getClonedChart"," return createIconThumbnail()");return P.createIconThumbnail(t)}if(!i){i=t.getChartForCustomListItem();n.log("getClonedChart",",  switches to substitute for main chart ",", cloning:",t.chart4CustomItemList?t.chart4CustomItemList.sId:"undefined");s=t.chart4CustomItemList.clone(1e3+m++)}else{n.log("getClonedChart"," takes oRepr.chart",", cloning:",i.sId);s=i.clone(m++);if(t.fnHandleSelection){s.detachSelectData(t.fnHandleSelection);s.detachDeselectData(t.fnHandleDeselection)}}if(i.getVizProperties){a=i.getVizProperties()}if(s.getVizProperties){s.setVizProperties(a);P.setAllLabelsInvisible(s);P.setAllAxisInvisible(s)}else{n.emphasize("getClonedChart"," cannot set setVizProperties since method is missing")}n.logReturn("getClonedChart"," cloned ID="+(s?s.sId:"-"));return s}function x(e){var t="sap-icon://table-chart";if(P.isTreeTable(e)){t="sap-icon://tree"}var i=new o({src:t,size:"400%"}).addStyleClass("carouselTableIconOldStyle");return i}function v(e){var t=e.getVizProperties();t.title={visible:false};t.categoryAxis={visible:false};t.valueAxis={visible:false};t.categoryAxis2={visible:false};t.valueAxis2={visible:false}}function b(e){var t=e.getVizProperties();if(t){Object.keys(t).forEach(function(e){if(t[e].label){t[e].label.visible=false}})}t.legend={visible:false,title:{visible:false}};t.timeAxis={visible:false,title:{visible:false}};t.plotArea={window:{start:"firstDataPoint",end:"lastDataPoint"}};t.interaction={noninteractiveMode:true,selectability:false};if(t.toolTip){t.toolTip.visible=false}if(!t.general||!t.general.layout){t.general={layout:{}}}t.general.layout.paddingLeft=this.paddingLeft;t.general.layout.paddingRight=this.paddingRight;t.general.layout.paddingBottom=this.paddingBottom;t.general.layout.paddingTop=this.paddingTop;e.setVizProperties(t)}function L(e,t){var i=t.longTitle&&!e.isInitialTextKey(t.longTitle.key)?t.longTitle:t.title;return e.getTextNotHtmlEncoded(i)}function S(e,l){e.oTopLayout=new t({items:[new i({text:l.leftUpper,tooltip:l.leftUpper,wrapping:true,maxLines:2,textAlign:u.Left}).addStyleClass("thumbanilText"),new i({text:l.rightUpper,tooltip:l.rightUpper,wrapping:true,maxLines:2,textAlign:u.Right}).addStyleClass("thumbanilText")],alignItems:a.Start,justifyContent:s.SpaceBetween}).addStyleClass("topLayout")}function I(e,l){e.oBottomLayout=new t({items:[new i({text:l.leftLower,tooltip:l.leftLower,wrapping:true,maxLines:2,textAlign:u.Left}).addStyleClass("thumbanilText"),new i({text:l.rightLower,tooltip:l.rightLower,wrapping:true,maxLines:2,textAlign:u.Right}).addStyleClass("thumbanilText")],alignItems:a.Start,justifyContent:s.SpaceBetween}).addStyleClass("bottomLayout")}function A(t,i){t.oThumbnailChartLayout=new e({items:[i],alignItems:u.Center}).addStyleClass("carouselChartVerticalBox")}function w(e,t){e.oStepTitle=new i({text:"\n"+t,wrapping:true,maxLines:2}).addStyleClass("carouselThumbnailTitle")}function E(t,i,a){t.oThumbnailVLayout=new e({items:[t.oTopLayout,t.oThumbnailChartLayout,t.oBottomLayout]}).addStyleClass(f);if(a){t.setHighlighted()}}function V(t){return new e({items:[t.oStepTitle,t.oThumbnailVLayout]}).addStyleClass("carouselItemVerticalLayout")}function B(e,t){if(e){if(t){e.setHeight(d);e.setWidth(c)}else{e.setHeight(p);e.setWidth(h)}}}function R(e,t,i,a){a=a||{};var s;var l={},n=false,o="initial";var r=a.mode==="preview";if(!r){l=e.getStepData(t).oStepTexts;o=L(e.oCoreApi,t);n=e.oCoreApi.stepIsActive(t)}else{l=a.oCornerTexts;o=a.titleText}var u=true;this.setHighlighted=function(){u=true;this.oThumbnailVLayout.removeStyleClass(f);this.oThumbnailVLayout.addStyleClass(g)};this.setNonHighlighted=function(){u=false;this.oThumbnailVLayout.removeStyleClass(g);this.oThumbnailVLayout.addStyleClass(f)};this.isHighlighted=function(){return u};this.getContent=function(){return s};B(i,r);S(this,l);I(this,l);A(this,i);w(this,o);E(this,t,n);s=V(this)}var P={constructor:R,itemChartHeightWithTexts:p,itemChartWidthWithTexts:h,activeBoxStyleName:g,inactiveBoxStyleName:f,createIconThumbnail:x,setAllAxisInvisible:v,setAllLabelsInvisible:b,getClonedChart:C,isIconDisplayed:y,isTreeTable:T};return P});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/executeFilterMapping", ["sap/apf/core/utils/filter","sap/apf/core/constants"],function(e,n){"use strict";var t=function(t,a,r,s,f){a.sendGetInBatch(t,i);function i(t){var a;if(t&&t.type&&t.type==="messageObject"){f.putMessage(t);s(undefined,t)}else{a=new e(f);t.data.forEach(function(t){var s=new e(f);r.forEach(function(a){s.addAnd(new e(f,a,n.FilterOperators.EQ,t[a]))});a.addOr(s)});s(a,undefined,t.data)}}};return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2023 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/exportToGlobal", ["sap/base/util/ObjectPath"],function(e){return e.set.bind(e)});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2015 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/externalContext", ["sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/constants"],function(e,t,r){var a=function(a){"use strict";var n=jQuery.Deferred();var s=a.instances.startParameter.getEvaluationId();var i=a.instances.startParameter.getXappStateId();var o=a.instances.messageHandler;var c=this;var l=a.functions.ajax;this.getCombinedContext=function(){if(i){f()}else if(s){u()}else{n.resolve(new e(o))}return n.promise();function t(t){if(t.levelOperator===r.BooleFilterOperators.OR){return new e(o,t)}return t}function f(){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(a.instances.component,i).done(function(r){var a=r.getData();if(a&&a.sapApfCumulativeFilter){n.resolve(t(e.transformUI5FilterToInternal(o,a.sapApfCumulativeFilter)))}else if(a&&a.selectionVariant){n.resolve(t(c.convertSelectionVariantToFilter(a.selectionVariant)))}else{n.resolve(new e(o))}}).fail(function(){var e=o.createMessageObject({code:5045,aParameters:[i]});o.putMessage(e)})}function u(){a.functions.getConfigurationProperties().done(function(r){var a=r&&r.smartBusiness&&r.smartBusiness.runtime;if(a&&a.service){var i=a.service+"/EVALUATIONS('"+s+"')/FILTERS?$format=json";l({url:i,success:function(r){var a;var s;var i=new e(o);var c=[];var l={};r.d.results.forEach(f);for(a in l){if(l.hasOwnProperty(a)){s=new e(o);l[a].forEach(u);c.push(s)}}c.forEach(p);n.resolve(t(i));function f(t){if(!l[t.NAME]){l[t.NAME]=[]}l[t.NAME].push(new e(o,t.NAME,t.OPERATOR,t.VALUE_1,t.VALUE_2))}function u(e){s.addOr(e)}function p(e){i.addAnd(e)}},error:function(e,t,r,a){var n=o.createMessageObject({code:5043,aParameters:[s,t]});if(a){n.setPrevious(a)}o.putMessage(n)}})}else{var c=o.createMessageObject({code:5044,aParameters:[s]});o.putMessage(c)}})}};this.convertParameterObject=function(e){var a;if(!e.PropertyName||e.PropertyValue===undefined||e.PropertyValue===null){if(!e.PropertyName){a=o.createMessageObject({code:5046,aParameters:[i]})}else{a=o.createMessageObject({code:5047,aParameters:[i,e.PropertyName]})}o.putMessage(a)}return new t(o,e.PropertyName,r.FilterOperators.EQ,e.PropertyValue)};this.convertSelectOption=function(t){var r=this;var a=null;var n;var s;if(!t.PropertyName||!t.Ranges||!Array.isArray(t.Ranges)){if(!t.PropertyName){s=o.createMessageObject({code:5048,aParameters:[i]})}else{s=o.createMessageObject({code:5049,aParameters:[i,t.PropertyName]})}o.putMessage(s)}a=new e(o);for(n=0;n<t.Ranges.length;n++){var c=r.convertRange(t.Ranges[n],t.PropertyName);a.addOr(c)}return a};this.convertRange=function(e,r){var a,n,s,c;if(e.Sign!="I"){a=o.createMessageObject({code:5050,aParameters:[i,r]});o.putMessage(a)}if(e.Option==="BT"&&(e.High===undefined||e.High===null)){a=o.createMessageObject({code:5051,aParameters:[i,r]});o.putMessage(a)}if(e.Option==="CP"){c=e.Low.split("*");if(c.length>3||c.length===3&&(c[0].length!==0||c[2].length!==0)||c.length===1){a=o.createMessageObject({code:5069,aParameters:[i,r]});o.putMessage(a)}if(e.Low.indexOf("*")===0&&e.Low.lastIndexOf("*")===e.Low.length-1){n=e.Low.substr(1,e.Low.lastIndexOf("*")-1);s="Contains"}else if(e.Low.indexOf("*")===0){n=e.Low.substr(1,e.Low.length-1);s="EndsWith"}else if(e.Low.lastIndexOf("*")===e.Low.length-1){n=e.Low.substring(0,e.Low.indexOf("*"));s="StartsWith"}return new t(o,r,s,n,e.High)}return new t(o,r,e.Option,e.Low,e.High)};this.convertSelectionVariantToFilter=function(t){var r=this;var a=new e(o);var n;if(!t){return a}if(t.Parameters&&!Array.isArray(t.Parameters)){return a}if(t.SelectOptions&&!Array.isArray(t.SelectOptions)){return a}if(t.Parameters){for(n=0;n<t.Parameters.length;n++){var s=r.convertParameterObject(t.Parameters[n]);a.addAnd(s)}}if(t.SelectOptions){for(n=0;n<t.SelectOptions.length;n++){var i=r.convertSelectOption(t.SelectOptions[n]);a.addAnd(i)}}return a}};sap.apf.utils.ExternalContext=a;return a},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/filter", ["sap/apf/core/utils/filter","sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/base/Log"],function(e,t,r,n){"use strict";var i=function(e){var t;var r=this;var a=function(){t=new s(e,i.topAndId)};this.getById=function(e){if(t){if(e===i.topAndId){return t}return t.getById(e)}return undefined};this.type="filter";this.getExpressions=function(){if(t){return t.getExpressions()}return[]};this.getInternalFilter=function(){return t.getInternalFilter()};this.getTopAnd=function(){return t};this.updateExpression=function(t,r){e.check(t===r.id,"sId differs from oExpression.id");var n=this.getById(t);n.update(r)};this.updateValue=function(t,r,n){e.check(t!==undefined,"Filter updateValue: parameter id required");e.check(r!==undefined,"Filter updateValue: parameter value is required");var i=this.getById(t);e.check(i!==undefined,"Filter updateValue: id for expression not valid");i.updateValue(r,n)};this.serialize=function(){function e(t,r){var n={id:r.getId(),type:r.type,expressions:[],terms:[]};t.forEach(function(t,i){if(t instanceof Array){if(r.type==="filterAnd"){n.terms.push(e(t,r.getAndTerms()[i]))}else if(r.type==="filterOr"){n.terms.push(e(t,r.getOrTerms()[i]))}}else{n.expressions.push(t)}});return n}return e(this.getTopAnd().getExpression(),this.getTopAnd())};this.deserialize=function(e){t=undefined;a();function r(e,t){if(e.type==="filterAnd"&&e.id!==i.topAndId){t=t.addAnd(e.id)}else if(e.type==="filterOr"&&e.id!==i.topAndId){t=t.addOr(e.id)}e.expressions.forEach(function(e){t.addExpression(e)});e.terms.forEach(function(e){r(e,t)})}r(e,this.getTopAnd());return this};this.addAnd=function(e){n.error("Method 'addAnd' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.intersectWith=function(t){var n=0;var s=[];var a;var o=new i(e);var d=r.serialize();u(d);switch(arguments.length){case 1:a=arguments[0];if(a instanceof Array){s=a}else{s.push(a)}break;default:s=Array.prototype.slice.call(arguments,0)}s.forEach(function(t){e.check(t instanceof i,"Parameter value is not of type sap.apf.utils.Filter");var r=t.serialize();u(r);Array.prototype.push.apply(d.expressions,r.expressions);Array.prototype.push.apply(d.terms,r.terms)});o.deserialize(d);return o;function u(e){if(e.id!==i.topAndId){e.id="#"+n+++"#"}e.terms.forEach(u)}};a();return this};i.createFilterFromSapUi5FilterJSON=function(e,t){var r=new i(e);function n(e,t,r){var i;t++;if(r.aFilters){if(r.bAnd){if(t!==1){i=e.addAnd()}else{i=e}}else{i=e.addOr()}r.aFilters.forEach(function(e){n(i,t,e)})}else if(r.sOperator){e.addExpression({name:r.sPath,operator:r.sOperator,value:r.oValue1,high:r.oValue2})}}n(r.getTopAnd(),0,t);return r};i.getOperators=function(){return t.FilterOperators};i.prototype.getOperators=i.getOperators;i.topAndId="filterTopAnd";var s=function(r,i){var s=i;var d=[];var u=this;this.type="filterAnd";this.getById=function(e){if(e===s){return this}var t;var r;for(r=0;r<d.length;r++){t=d[r].getById(e);if(t!==undefined){return t}}return undefined};this.getExpressions=function(){var e=[];var t;var r;for(r=0;r<d.length;r++){t=d[r].getExpression();if(t instanceof Array&&t.length===0){continue}if(t instanceof Array){e.push(t)}else{e.push([t])}}return e};this.getExpression=function(){var e=[];var t;var r;for(r=0;r<d.length;r++){t=d[r].getExpression();if(t instanceof Array&&t.length===0){continue}e.push(t)}return e};this.getCompoundExpressions=function(){n.error("Method 'getExpressions' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getId=function(){return i};this.getInternalFilter=function(){var t=new e(r);var n=d.length;var i;for(i=0;i<n;i++){t.addAnd(d[i].getInternalFilter())}return t};this.addAndTerm=function(e){n.error("Method 'addAndTerm' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getAndTerms=function(){return d};this.addOr=function(e){r.check(e===undefined||this.getById(e)===undefined,"Filter includes duplicated identifiers (IDs)");var t=new a(r,e,u);d.push(t);return t};this.addExpression=function(e){if(e.operator.length==2){e.operator=e.operator.toUpperCase()}r.check(e.id===undefined||this.getById(e.id)===undefined,"Filter includes duplicated identifiers (IDs)");r.check(e.operator!==undefined,"sap.apf.utils.Filter oExpression.operator undefined");r.check(jQuery.inArray(e.operator,t.aSelectOpt)>-1,"Filter oExpression.operator "+e.operator+" not supported");d.push(new o(r,e));return this}};var a=function(r,i,a){var d=i;var u=[];var p=a;this.type="filterOr";this.getById=function(e){if(e===d){return this}var t;for(var r=0;r<u.length;r++){t=u[r].getById(e);if(t!==undefined){return t}}return undefined};this.getExpression=function(){var e=[];var t;for(var r=0;r<u.length;r++){t=u[r].getExpression();if(t instanceof Array&&t.length===0){continue}e.push(t)}return e};this.getId=function(){return i};this.getInternalFilter=function(){var t=new e(r);for(var n=0;n<u.length;n++){t.addOr(u[n].getInternalFilter())}return t};this.getAndObject=function(){return p};this.addOrTerm=function(e){n.error("Method 'addOr' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getOrTerms=function(){return u};this.addExpression=function(e){if(e.operator.length==2){e.operator=e.operator.toUpperCase()}r.check(e.id===undefined||this.getAndObject().getById(e.id)===undefined,"Filter includes duplicated identifiers (IDs)");r.check(e.operator!==undefined,"sap.apf.utils.Filter oExpression.operator undefined");r.check(jQuery.inArray(e.operator,t.aSelectOpt)>-1,"Filter oExpression.operator "+e.operator+" not supported");u.push(new o(r,e));return this};this.addAnd=function(e){r.check(e===undefined||this.getById(e)===undefined,"Filter includes duplicated identifiers (IDs)");var t=new s(r,e);u.push(t);return t}};var o=function(r,n){u(n.high,n.operator);var i=n.id;var s=n.name;var a=n.operator;var o=n.value;var d=n.high;this.getById=function(e){if(i===e){return this}return undefined};this.getExpression=function(){if(!a||a!==t.FilterOperators.BT){return{name:s,operator:a,value:o}}return{name:s,operator:a,value:o,high:d}};this.getInternalFilter=function(){return new e(r,s,a,o,d)};this.update=function(e){u(e.high,e.operator);s=e.name;a=e.operator;o=e.value;d=e.high};this.updateValue=function(e,t){o=e;if(t!==undefined){d=t}u(d,a)};function u(e,n){if(!n){return}if(n===t.FilterOperators.BT&&(e===null||e===undefined)){r.check(false,"sap.apf.utils.FilterExpression: High value needed for 'between' selection")}else if(n!==t.FilterOperators.BT&&(e!==null&&e!==undefined)){r.check(false,"sap.apf.utils.FilterExpression: High value only needed for 'between' selection")}}};r("sap.apf.utils.Filter",i);return i},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/filterIdHandler", ["sap/apf/utils/exportToGlobal","sap/base/util/merge","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";function r(e){var r=e.instances.messageHandler;var n=1;var i=[];var s={};this.add=function(t){if(!f(t)){r.putMessage(r.createMessageObject({code:"5301"}))}s[n]=a(t);i.push(n);e.functions.setRestrictionByProperty(t);return n++};this.update=function(t,i){if(typeof t==="number"){if(t<=0||t>=n){r.putMessage(r.createMessageObject({code:"5100",aParameters:["Passed invalid numeric identifier during update of path filter"]}));return}}else if(!t||typeof t!=="string"){r.putMessage(r.createMessageObject({code:"5100",aParameters:['Passed falsity (0,"",undefined,null) or an object as identifier during update of path filter']}));return}var u=a(i);if(s[t]&&s[t]!==u){r.putMessage(r.createMessageObject({code:"5100",aParameters:["Updating filter with different property not allowed"]}));return}if(!f(i)){r.putMessage(r.createMessageObject({code:"5301"}))}e.functions.setRestrictionByProperty(i);s[t]=u};this.get=function(t){switch(typeof t){case"number":r.check(t>0&&t<n,"Passed unknown numeric identifier during get from path context handler");break;case"string":r.check(s[t],"Passed unknown string identifier during get from path context handler");break;default:r.check(false,"Filter Id handler - wrong type of the id parameter in get")}return e.functions.getRestrictionByProperty(s[t])};this.getAllInternalIds=function(e){return t([],i)};this.serialize=function(){return jQuery.extend(true,{},s)};this.deserialize=function(e){n=1;var t;for(t in e){if(typeof u(t)==="number"){n++}}s=jQuery.extend(true,{},e)};function a(e){return e.getInternalFilter().getProperties()[0]}function u(e){if(isNaN(Number(e))){return e}return Number(e)}function f(e){var t=e.getInternalFilter();var r=t.getProperties();if(r.length>1){return false}var n=new i;t.traverse(n);return n.isAccepted();function i(){var e=this;var t=false;var r=false;var n=true;this.isAccepted=function(){return n};this.processEmptyFilter=function(){return};this.processTerm=function(e){var i=e.getOp();if(!r&&!t){if(i==="GE"||i==="LE"||i==="EQ"){return}}if(r&&(i==="GE"||i==="LE")){return}if(t&&i==="EQ"){return}n=false};this.processAnd=function(t,n){if(n&&n.length>0){r=true}this.process(t);n.forEach(function(t){e.process(t)})};this.processOr=function(r,n){if(n&&n.length>0){t=true}this.process(r);n.forEach(function(t){e.process(t)})};this.process=function(e){if(t&&r){n=false}if(!n){return}e.traverse(this)}}}}e("sap.apf.utils.FilterIdHandler",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/hashtable", ["sap/apf/utils/exportToGlobal"],function(e){"use strict";function n(e){var n=0;var t={};var i=[];this.type="hashTable";this.setItem=function(s,r){var u;e.check(s!==undefined&&s!==null,"sap.apf.utils.HashTable.setItem: key undefined");e.check(r!==undefined&&r!==null,"sap.apf.utils.HashTable.setItem: value undefined");if(this.hasItem(s)){u=t[s]}else{n++;i.push(s)}t[s]=r;return u};this.getNumberOfItems=function(){return n};this.getItem=function(n){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.getItem key undefined");return this.hasItem(n)?t[n]:undefined};this.hasItem=function(n){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.hasItem key undefined");return t.hasOwnProperty(n)};this.removeItem=function(s){e.check(s!==undefined&&s!==null,"sap.apf.utils.HashTable.removeItem key undefined");var r;if(this.hasItem(s)){r=t[s];n--;i.splice(i.indexOf(s),1);delete t[s];return r}return undefined};this.getKeys=function(){var e=[];var n;for(n in t){if(this.hasItem(n)){e.push(n)}}return e};this.each=function(e){var n;for(n in t){if(this.hasItem(n)){e(n,t[n])}}};this.forEachOrdered=function(n){var s=this;i.forEach(function(i){if(!s.hasItem(i)){e.check(false,"sap.apf.utils.HashTable.forEachOrdered: key not contained")}else{n(i,t[i])}})};this.getKeysOrdered=function(){var e=[];this.forEachOrdered(function(n){e.push(n)});return e};this.moveUpOrDown=function(n,t){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.moveItemUpOrDown movedKey undefined");var s=i.indexOf(n);var r=s+t;if(s<0){return null}if(t<0){i.splice(s,1);if(r<0){i.splice(0,0,n);return 0}i.splice(s+t,0,n);return s+t}else if(t===0){return s}else if(t>0){i.splice(s,1);if(r>=i.length){i.splice(i.length,0,n);return i.length}i.splice(r,0,n);return r}};this.moveBefore=function(e,n){if(i.indexOf(e)<0||i.indexOf(n)<0){return null}if(e===n){return i.indexOf(n)}i.splice(i.indexOf(n),1);i.splice(i.indexOf(e),0,n);return i.indexOf(n)};this.moveToEnd=function(e){if(i.indexOf(e)<0){return null}i.splice(i.indexOf(e),1);i.push(e);return i.indexOf(e)};this.reset=function(){t={};i=[];n=0}}e("sap.apf.utils.Hashtable",n);return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/navigationHandler", ["sap/apf/core/utils/filterSimplify","sap/apf/utils/utils","sap/apf/utils/executeFilterMapping","sap/base/util/uid","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/jquery"],function(e,t,i,a,n,jQuery){"use strict";var r=function(r){var s;var o;var c;var p=r.instances.messageHandler;var u=this;var l=r.constructors&&r.constructors.FilterReduction||e.FilterReduction;var f;var v=false;this.getNavigationTargets=function(){var e,i;var a=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");if(!a){if(!v){i=p.createMessageObject({code:5074});p.putMessage(i);v=true}o={global:[],stepSpecific:[]};return t.createPromise(o)}e=jQuery.Deferred();r.functions.getCumulativeFilterUpToActiveStep().done(function(t){if(o&&t.isEqual(c)){e.resolve(h(o));return e.promise()}c=t;if(!s){g()}o=jQuery.extend(true,[],s);o.forEach(function(e){e.text=""});n(t).done(function(t){o=t;e.resolve(h(o))})});return e.promise();function n(e){var t=jQuery.Deferred();var i=[];var n=[];var s;o.forEach(function(t){var o;if(t.useDynamicParameters){s=s||S(e);t.parameters=A(t.parameters,s)}o=jQuery.Deferred();n.push(o);a.getLinks({semanticObject:t.semanticObject,action:t.action,params:m(t.parameters),ignoreFormFactor:false,ui5Component:r.instances.component}).then(function(e){e.forEach(function(e){var a=e.intent.split("-");var n=a[1].split("?");n=n[0].split("~");if(e.text!==""&&n[0]===t.action){t.text=e.text;i.push(t)}});o.resolve()},function(){o.resolve()})});jQuery.when.apply(jQuery,n).done(function(){t.resolve(i)});return t.promise()}};this.navigateToApp=function(e){if(!s){g()}var t=d(e);if(!t){return}var a=n&&n.getInstance();r.functions.getCumulativeFilterUpToActiveStep().done(function(e){if(r.functions.isFilterReductionActive&&r.functions.isFilterReductionActive()){f=f||new l;var n=f.reduceFilter(p,e);if(n===null){p.putMessage(p.createMessageObject({code:5235}))}else{e=n}}if(!t.filterMapping||!t.filterMapping.requestForMappedFilter){o(null,null)}else{var s=r.functions.createRequest(t.filterMapping.requestForMappedFilter);i(e,s,t.filterMapping.target,o,p)}function o(i,n){var s;if(n){return}if(i){e=e.addAnd(i)}var o=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("CrossApplicationNavigation");if(o){r.instances.serializationMediator.serialize(true).done(function(i){u.generateSelectionVariant(e).done(function(n){var c;var p={};if(t.useDynamicParameters){c=S(e)}p.sapApfState=i;p.sapApfCumulativeFilter=e.mapToSapUI5FilterExpression();p.selectionVariant=n;s=o.createEmptyAppState(r.instances.component);s.setData(p);s.save();if(a){a.replaceHash("sap-iapp-state="+s.getKey())}var u=t.parameters;if(t.useDynamicParameters){u=A(u,c)}o.toExternal({target:{semanticObject:t.semanticObject,action:t.action},appStateKey:s.getKey(),params:m(u)},r.instances.component)})})}}})};this.checkMode=function(){var e=jQuery.Deferred();var t=n&&n.getInstance&&n.getInstance();var i=/(?:sap-iapp-state=)([^&=]+)/;var a,s,o,c;if(t){o=i.exec(t.getHash());if(o){a=o[1]}}s=r.functions.getXappStateId();if(a){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(r.instances.component,a).done(function(t){c=t.getData();if(c.sapApfState){r.instances.serializationMediator.deserialize(c.sapApfState).done(function(){e.resolve({navigationMode:"backward"})})}})}else if(s){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(r.instances.component,s).done(function(t){c=t.getData();if(c&&c.sapApfCumulativeFilter){e.resolve({navigationMode:"forward",sapApfCumulativeFilter:c.sapApfCumulativeFilter})}else{e.resolve({navigationMode:"forward"})}})}else{e.resolve({navigationMode:"forward"})}if(t){t.replaceHash("")}return e.promise()};this.generateSelectionVariant=function(e){var t=jQuery.Deferred();if(!r.functions.isFilterReductionActive||!r.functions.isFilterReductionActive()){f=f||new l;e=f.reduceFilter(p,e)}if(!f||!f.isContradicted()){var i=e.mapToSelectOptions(r.functions.getAllParameterEntitySetKeyProperties);i.done(function(e){e.SelectionVariantID=a();t.resolve(e)})}else{var n={};n={SelectionVariantID:a(),Text:"Filter could not be converted to a selectionVariant"};t.resolve(n)}return t.promise()};function g(){s=r.functions.getNavigationTargets()}function d(e){for(var t=0,i=s.length;t<i;t++){if(s[t].id===e){return s[t]}}}function m(e){var t;if(e&&e.length>0){t={};e.forEach(function(e){t[e.key]=e.value})}return t}function h(e){var t=jQuery.extend(true,[],e);var i={global:[],stepSpecific:[]};t.forEach(function(e){if(e.isStepSpecific&&a(e.id)){delete e.isStepSpecific;i.stepSpecific.push(e)}else if(!e.isStepSpecific){delete e.isStepSpecific;i.global.push(e)}});return i;function a(e){var t=false;var i;var a=r.functions.getActiveStep();if(a&&a.getAssignedNavigationTargets){i=a.getAssignedNavigationTargets();if(i&&Array.isArray(i)){i.forEach(function(i){if(e===i.id){t=true}})}}return t}}function S(e){f=f||new l;var t=f.reduceFilter(p,e)||e;return t.getSingleValueTerms()}function A(e,t){t.forEach(function(t){e=e||[];e.push({key:t.property,value:t.value})});return e}};sap.apf.utils.NavigationHandler=r;return r},true);
sap.ui.predefine("sap/apf/utils/parseTextPropertyFile", ["sap/apf/utils/utils","sap/ui/core/format/DateFormat","sap/apf/core/constants"],function(e,t,n){"use strict";var a=function(a,i){var s=i.instances.messageHandler;var r=t.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});var l;var u=a.split(/\r?\n/);var c=u.length;var o,p;var f=-1;var m=-1;var g;var h,v,T;var x=false;var A={Application:undefined,TextElements:[],Messages:[]};var d=false;function L(e,t){var n=s.createMessageObject({code:e,aParameters:[t]});A.Messages.push(n)}function M(e){L(11013,e)}function D(e){L(5411,e)}function y(t,n){var a=e.isValidGuid(t);if(!a){L(5412,n);return false}return true}function E(e){L(5415,e)}function H(e){L(5412,e)}for(o=0;o<c;o++){if(!x){var C=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(u[o]);if(C!==null){A.Application=u[o].split("=")[1];if(!e.isValidGuid(A.Application)){A.Application="";M(o)}x=true;continue}}if(u[o]===""){continue}if(d){d=false;continue}if(m===o&&/^\#\s*LastChangeDate/.exec(u[o])){T=u[o].split("=");if(T.length===2){l=r.parse(T[1]);if(!l){E(o);g.LastChangeUTCDateTime=""}else{g.LastChangeUTCDateTime="/Date("+l.getTime()+")/"}A.TextElements.push(g)}else{E(o)}g=null;continue}if(f===o){T=u[o].split("=");if(T.length>1){if(T[0]==="AnalyticalConfigurationName"){m=0;d=true;continue}if(y(T[0],o)){g.TextElement=T[0];g.TextElementDescription=T[1];for(p=2;p<T.length;p++){g.TextElementDescription+="="+T[p]}}else{H(o)}}else{D(o)}continue}h=/^\#(X|Y)[A-Z]{3},[0-9]+:/.exec(u[o]);if(h){if(f===o){D(o)}g={};g.Language=n.developmentLanguage;g.Application=A.Application;g.TextElementType=u[o].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=u[o].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint=u[o].match(/:\s*[0-9a-zA-Z\s]+$/);g.TranslationHint=g.TranslationHint[0].substring(1);f=o+1;m=o+2}else{v=/^\#(X|Y)[A-Z]{3},[0-9]+/.exec(u[o]);if(v){if(f===o){D(o)}g={};g.Language=n.developmentLanguage;g.Application=A.Application;g.TextElementType=u[o].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=u[o].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint="";f=o+1;m=o+2}}}if(!x){L(5410,0)}return A};return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/proxyTextHandlerForLocalTexts", ["sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/apf/utils/parseTextPropertyFile","sap/apf/utils/utils"],function(e,t,n,r){"use strict";var a=function(e){var a=e.instances.messageHandler;var i={};this.initApplicationTexts=function(e,r){var s=i[e]||new t(a);if(r===""||r===null){i[e]=s;return}var l=n(r,{instances:{messageHandler:a}});l.TextElements.forEach(function(e){if(e.TextElement){s.setItem(e.TextElement,e)}});i[e]=s};this.createTextFileOfApplication=function(e){if(!i[e]){return""}var t=r.renderHeaderOfTextPropertyFile(e,a);return t+r.renderTextEntries(i[e],a)};this.getTextElements=function(e){if(!i[e]){return[]}var t=[];i[e].each(function(e,n){t.push(n)});return t};this.addText=function(e){if(!e.TextElement){e.TextElement=r.createPseudoGuid(32)}var n=i[e.Application]||new t(a);n.setItem(e.TextElement,e);i[e.Application]=n;return e.TextElement};this.removeText=function(e){var n=e.application;var r=e.inputParameters[0].value;var s=i[n]||new t(a);if(s.hasItem(r)){s.removeItem(r)}}};e("sap.apf.utils.ProxyTextHandlerForLocalTexts",a);return a},true);
sap.ui.predefine("sap/apf/utils/sbAdapter", ["sap/apf/abap/LrepConnector","sap/base/Log","sap/ui/thirdparty/datajs"],function(e,n){"use strict";var a={semanticObject:"FioriApplication",action:"executeAPFConfiguration"};var t={semanticObject:"FioriApplication",action:"editAPFConfiguration"};var r={semanticObject:"FioriApplication",action:"executeAPFConfigurationS4HANA"};var i={semanticObject:"FioriApplication",action:"editAPFConfigurationS4HANA"};var o="/sap/hba/r/apf/core/odata/modeler/AnalyticalConfiguration.xsodata/AnalyticalConfigurationQueryResults";var s=undefined;var u={};u._hanaConfigurations=undefined;u._lrepConfigurations=undefined;u.getConfigurations=function(e,n){var t=jQuery.Deferred();var i=[];jQuery.when(p(),c()).then(function(o,s){i=s.concat(o);var u=C(e,n);if(u&&!m(u,a)&&!m(u,r)){i.forEach(function(e){e.runtimeIntent=u})}t.resolve(i)});return t.promise()};u.getTargetMappingInstaceIDsWithConfigurations=function(e,n,t,i){var o=jQuery.Deferred();var s=[];var u=[];jQuery.when(p(),c()).then(function(c,p){l(t,i).then(function(t){return f(1e3).then(function(){s=p.concat(c);var i=C(e,n);t.forEach(function(e){if(e.semanticParameters["sap-apf-configuration-id"]){var n=e.semanticParameters["sap-apf-configuration-id"].defaultValue;s.forEach(function(t){if(n.value===t.id){t.targetMappingInstanceId=e;if(i&&!m(i,a)&&!m(i,r)){t.runtimeIntent=i}u.push(t)}})}});o.resolve(u)})})});return o.promise();function f(e,n){return new Promise(function(a){setTimeout(a.bind(null,n),e)})}};u.getConfigurationNameById=function(e){var n=jQuery.Deferred();if(!e){return n.resolve("")}if(e.indexOf(".")>-1){p().done(a)}else{c().done(a)}return n.promise();function a(a){a.forEach(function(a){if(a.id===e){n.resolve(a.title)}});if(n.state!=="resolved"){n.resolve("")}}};function c(){var e=jQuery.Deferred();if(!u._hanaConfigurations){var n={requestUri:o+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,Application",async:true,method:"GET"};OData.request(n,r,i)}else{e.resolve(jQuery.extend(true,[],u._hanaConfigurations))}return e.promise();function r(n){var r=[];n.results.forEach(function(e){r.push({title:e.AnalyticalConfigurationName,id:e.AnalyticalConfiguration,runtimeIntent:a,modelerIntent:t,configurationId:e.AnalyticalConfiguration,applicationId:e.Application})});u._hanaConfigurations=jQuery.extend(true,[],r);e.resolve(r)}function i(){u._hanaConfigurations=[];e.resolve([])}}function p(){var e=jQuery.Deferred();if(!u._lrepConfigurations){g().then(function(n){var a=[];n.response.forEach(function(e){var n;var t;if(e.fileType&&e.fileType==="apfconfiguration"){n=v(e);t=e.name;a.push({title:h(e,"apfdt-configname"),id:n+"."+t,runtimeIntent:r,modelerIntent:i,configurationId:t,applicationId:n})}});u._lrepConfigurations=jQuery.extend(true,[],a);e.resolve(a)},function(){e.resolve([]);u._lrepConfigurations=[]})}else{e.resolve(jQuery.extend(true,[],u._lrepConfigurations))}return e.promise()}function f(e){var n;if(sap.ushell.Container&&sap.ushell.Container.getService){if(e=="S")n=sap.ushell.Container.getService("PageBuilding","CONF").getFactory();else if(e=="C")n=sap.ushell.Container.getService("PageBuilding","CUST").getFactory();else n=sap.ushell.Container.getService("PageBuilding","PERS").getFactory();return n}}function l(e,a){var t=jQuery.Deferred();var r=a;var i=[];var o=f(e);var u=o.getPageBuildingService();u.readCatalog(r,jQuery.proxy(function(e){if(e&&e.Chips&&e.Chips.results instanceof Array){jQuery.each(e.Chips.results,jQuery.proxy(function(e,a){try{if(a&&a.baseChipId==="X-SAP-UI2-CHIP:/UI2/ACTION"){s=a;var r=JSON.parse(s.configuration);var o=JSON.parse(r.tileConfiguration);var u=o.ui5_component;var c="smartbusiness";var p="sap.apf";if(u&&u.indexOf(c)===-1){d(u).then(function(e){jQuery.each(e.response.results,jQuery.proxy(function(e,a){if(a&&a["sap.ui5/dependencies/libs"]){if(a["sap.ui5/dependencies/libs"].indexOf(p)!==-1){var t;var r=JSON.parse(s.configuration);var o=JSON.parse(r.tileConfiguration);var u=o.signature&&o.signature.parameters;if(s.ChipBags&&s.ChipBags.results instanceof Array){jQuery.each(s.ChipBags.results,jQuery.proxy(function(e,a){if(a&&a.id==="tileProperties"){if(a.ChipProperties&&a.ChipProperties.results instanceof Array){jQuery.each(a.ChipProperties.results,jQuery.proxy(function(e,n){if(n&&n.name==="display_title_text"){t=n.value;return false}},this))}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Unable to read the properties inside the chip bag 'tileProperties' for "+s.catalogPageChipInstanceId)}return false}},this))}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Unable to read the chip bags for "+s.catalogPageChipInstanceId)}i.push({instanceID:s.catalogPageChipInstanceId||"",title:t||"",semanticObject:o.semantic_object||"",semanticAction:o.semantic_action||"",ui5Component:o.ui5_component||"",semanticParameters:u||{}});window.TargetMapping=i}}},this))},function(){t.resolve([])})}}}catch(e){n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID",e&&e.message)}},this));t.resolve(i)}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Invalid catalog object");t.reject()}},this),jQuery.proxy(function(e,n){t.reject(n)},this));return t.promise()}function g(){var n=e.createConnector();var a={async:true,contentType:"application/json"};var t=[];t.push({name:"deep-read",value:true});t.push({name:"metadata",value:true});t.push({name:"layer",value:"CUSTOMER"});var r="/sap/bc/lrep/content/sap/apf/dt/";r+=n._buildParams(t);return n.send(r,"GET",{},a)}function d(n){var a=e.createConnector();var t={async:true,contentType:"application/json"};var r=[];r.push({name:"sap.app/id",value:n});r.push({name:"fields",value:"sap.ui5/dependencies/libs"});var i="/sap/bc/ui2/app_index";i+=a._buildParams(r);return a.send(i,"GET",{},t)}function v(e){var n=e.ns.split("/");return n[n.length-2]}function h(e,n){var a;e.metadata.forEach(function(e){if(e.name===n){a=e.value}});return a}function m(e,n){if(e.semanticObject===n.semanticObject&&e.action===n.action){return true}return false}function C(e,n){if(e&&n){return{semanticObject:e,action:n}}}return u},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/serializationMediator", ["sap/apf/core/constants"],function(e){"use strict";var t=function(t){this.savePath=function(e,i,a){this.serialize(false).done(function(n){if(typeof e==="string"&&typeof i==="function"){t.instances.coreApi.savePath(e,i,n)}else if(typeof e==="string"&&typeof i==="string"&&typeof a==="function"){t.instances.coreApi.savePath(e,i,a,n)}})};this.openPath=function(i,a,n){t.instances.coreApi.openPath(i,s.bind(this));function s(i,s,r){t.instances.coreApi.resetPath();t.instances.messageHandler.setCallbackForTriggeringFatal(c);this.deserialize(i.path.SerializedAnalysisPath,n).done(function(){t.instances.messageHandler.setCallbackForTriggeringFatal(undefined);a({},s)});function c(i){if(i.getSeverity()!==e.message.severity.warning){var a=t.instances.messageHandler.createMessageObject({code:"5210"});a.setPrevious(i);t.instances.messageHandler.putMessage(a)}}}};this.deletePath=function(e,i){t.instances.coreApi.deletePath(e,i)};this.readPaths=function(e){t.instances.coreApi.readPaths(e)};this.serialize=function(e,i){var a=jQuery.Deferred();var n={};t.instances.startFilterHandler.serialize(undefined,i).done(function(i){var s=t.instances.coreApi.serialize();n.startFilterHandler=i;n.filterIdHandler=t.instances.filterIdHandler.serialize();n.path=s.path;n.smartFilterBar=s.smartFilterBar;if(e){n.pathName=t.instances.coreApi.getPathName();n.dirtyState=t.instances.coreApi.isDirty()}a.resolve(n)});return a};this.deserialize=function(e,i){var a=jQuery.Deferred();var n;if(e.dirtyState!==undefined){t.instances.coreApi.setDirtyState(e.dirtyState)}if(e.pathName!==undefined){t.instances.coreApi.setPathName(e.pathName)}n={path:e.path,smartFilterBar:e.smartFilterBar};if(i!==undefined){n.path.indicesOfActiveSteps[0]=i}t.instances.coreApi.getApplicationConfigProperties().done(function(){t.instances.coreApi.deserialize(n);t.instances.filterIdHandler.deserialize(e.filterIdHandler);t.instances.startFilterHandler.getStartFilters().done(function(){if(e.startFilterHandler){t.instances.startFilterHandler.deserialize(e.startFilterHandler).done(function(){a.resolve()})}else{a.resolve()}})});return a.promise()}};sap.apf.utils.SerializationMediator=t;return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startFilter", ["sap/apf/core/utils/filter"],function(e){"use strict";var t=function(t,i,r){var n;var s;var l=new e(t.instances.messageHandler);var u;var a;var o=0;var f=0;var c=jQuery.extend(true,[],r);var d;if(i.preselectionDefaults&&i.preselectionDefaults.length>0){d=jQuery.extend(true,[],i.preselectionDefaults)}else if(jQuery.isFunction(i.preselectionFunction)){d=jQuery.extend(true,[],i.preselectionFunction())}var p=false;if(i.valueHelpRequest||Array.isArray(i.valueList)&&i.valueList.length>0){p=true}var v=false;var y={};var h={};var g;j=j.bind(this);q=q.bind(this);x=x.bind(this);R=R.bind(this);Q=Q.bind(this);F=F.bind(this);this.hasValueHelpRequest=function(){return!!i.valueHelpRequest};this.setContext=function(e){if(i.notConfigured===true){r=e}else{t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"5100",aParameters:["Context of configured Startfilter cannot be changed"]}))}};this.getPropertyName=function(){return i.property};this.getLabel=function(){return i.label};this.getAliasNameIfExistsElsePropertyName=function(){return i.alias||i.property};this.isMultiSelection=function(){if(i.multiSelection==="true"||i.multiSelection===true){return true}return false};this.isVisible=function(){if(r&&r.type==="internalFilter"&&!i.filterResolutionRequest){return false}return!i.invisible};this.setRestriction=function(e){l=e.copy();if(!a){a=jQuery.Deferred()}D(++f)};this.setSelectedValues=function(e,t){if(!a){a=jQuery.Deferred()}if(!n){n=jQuery.Deferred();if(!t){Q().done(function(e){if(n){n.resolve(e)}})}else{n.resolve(e)}}if(e.type==="internalFilter"){s=e}else{s=jQuery.extend(true,[],e)}if(!t){D(++f)}};this.getSelectedValues=function(){var e;if(!a){a=jQuery.Deferred();e=a;D(++f)}else if(a.state()==="pending"){e=a;if(n){n.done(function(){D(++f)})}else{D(++f)}}return e.promise()};this.getValues=function(){var e;if(!u||u.state()!=="pending"){u=jQuery.Deferred()}e=u;m(++o);return e.promise()};this.getMetadata=function(){if(i.metadataProperty){return jQuery.Deferred().resolve(i.metadataProperty)}return jQuery.Deferred().resolve({})};this.serialize=function(e,t){var i=jQuery.Deferred();var r={propertyName:this.getPropertyName()};Q().done(function(s){if(s&&s.type==="internalFilter"){s=s.mapToSapUI5FilterExpression()}r.selectedValues=s;if(n){n.done(function(s){if(e===true){r.initiallySelectedValues=s}if(t!==true){n=null}i.resolve(r)})}else{i.resolve(r)}});return i};this.deserialize=function(i){if(i.selectedValues&&(i.selectedValues.aFilters||i.selectedValues.sPath)){i.selectedValues=e.transformUI5FilterToInternal(t.instances.messageHandler,i.selectedValues)}s=null;if(i.initiallySelectedValues){n=jQuery.Deferred().resolve(i.initiallySelectedValues)}else{n=null}if(Array.isArray(i.selectedValues)){c=jQuery.extend(true,[],i.selectedValues);r=jQuery.extend(true,[],i.selectedValues)}else{c=i.selectedValues;r=i.selectedValues}v=false};this.reset=function(){if(n){n.done(function(e){s=e})}};function m(e){F(e,o).done(function(t){if(e===o){u.resolve(t)}})}function D(e){Q(e).done(function(t){if(e===f){var i=a;a=jQuery.Deferred();i.resolve(t,a.promise())}})}function F(e,t){var n=jQuery.Deferred();var s=[];l=l.bind(this);if(p&&Array.isArray(r)){A(e,t).then(function(e){var t=e.data;var i=j(c,t);n.resolve(i)})}else if(r&&r.type==="internalFilter"&&p&&i.filterResolutionRequest){jQuery.when(A(e,t),R(e,t)).then(function(e,t){var i=e.data;l(t.data,i);n.resolve(i)})}else if(p&&(i.preselectionDefaults&&i.preselectionDefaults.length>0||jQuery.isFunction(i.preselectionFunction))){A(e,t).then(function(e){var t=e.data;g=j(d,t);n.resolve(g)})}else if(p){A(e,t).then(function(e){n.resolve(e.data)})}else if(r&&r.type==="internalFilter"&&i.filterResolutionRequest){R(e,t).then(function(e){n.resolve(e.data)})}else if(Array.isArray(r)&&i.filterResolutionRequest&&!p){R(e,t).then(function(e){n.resolve(e.data)})}else if(Array.isArray(r)){s=j(c,s);n.resolve(s)}else if((i.preselectionDefaults&&i.preselectionDefaults.length>0||jQuery.isFunction(i.preselectionFunction))&&!p&&!i.filterResolutionRequest&&!r){if(this.isMultiSelection()){g=j(d,s)}else if(d.length>0){g=j([d[0]],s)}n.resolve(g)}else if((i.preselectionDefaults&&i.preselectionDefaults.length>0||jQuery.isFunction(i.preselectionFunction))&&i.filterResolutionRequest&&!r){if(this.isMultiSelection()){g=j(d,s)}else if(d.length>0){g=j([d[0]],s)}n.resolve(g)}else if(r&&r.type==="internalFilter"||!r){n.resolve(null)}return n.promise();function l(e,t){var i=x(t);for(var r=e.length-1;r>=0;r--){if(!i[e[r][this.getAliasNameIfExistsElsePropertyName()]]){t.unshift(e[r])}}}}function j(e,t){var i=jQuery.extend(true,[],t);var r=x(t);var n;for(var s=e.length-1;s>=0;s--){if(!r[e[s]]){n={};n[this.getAliasNameIfExistsElsePropertyName()]=e[s];i.unshift(n)}else if(!v){e.splice(s,1)}}v=true;return i}function Q(e){var t=jQuery.Deferred();var n;var l;var u;var a=this;if(s){if(!i.invisible){c(jQuery.extend(true,[],s),e)}else{n=s;o()}}else if(jQuery.isFunction(i.preselectionFunction)&&!p){n=i.preselectionFunction();o()}else if(r&&r.type==="internalFilter"&&!i.filterResolutionRequest){t.resolve(r)}else if(i.preselectionDefaults===null&&!r){t.resolve([])}else if(i.filterResolutionRequest&&!r&&!p&&!(i.preselectionDefaults&&i.preselectionDefaults.length>0)){t.resolve(null)}else if(r&&r.type==="internalFilter"&&i.filterResolutionRequest){R(e,f).then(function(t){var i=q(t);c(jQuery.extend(true,[],i),e)})}else if(p&&!Array.isArray(r)&&!(i.preselectionDefaults&&i.preselectionDefaults.length>0)&&!i.preselectionFunction){A(e,f).then(function(e){var t=q(e);if(this.isMultiSelection()){n=t}else{n=[t[0]]}o()}.bind(this))}else if(p&&!Array.isArray(r)&&(i.preselectionDefaults&&i.preselectionDefaults.length>0||i.preselectionFunction)){if(jQuery.isFunction(i.preselectionFunction)){l=i.preselectionFunction()}else{l=i.preselectionDefaults}c(jQuery.extend(true,[],l),e)}else if(Array.isArray(r)){c(r,e)}else if(i.preselectionDefaults&&i.preselectionDefaults.length>0){n=i.preselectionDefaults;c(n,e)}else{t.resolve(null)}return t.promise();function o(){if(n&&n.type==="internalFilter"){t.resolve(n)}else{t.resolve(jQuery.extend(true,[],n))}}function c(e,t){F(t,f).done(function(t){if(t!==null){n=[];u=x(t);e.forEach(function(e){if(u[e]){n.push(e)}});if(e.length!==0&&n.length===0&&i.preselectionDefaults!==null){n=q({data:t})}if(!a.isMultiSelection()){n=[n[0]]}if(s!==null){s=n}}else{n=null}o()})}}function R(n,s){var u;var a=jQuery.Deferred();if(n&&n!==s){return a.promise()}var o;if(Array.isArray(r)){o=new e(t.instances.messageHandler);r.forEach(function(e){o.addOr(this.getAliasNameIfExistsElsePropertyName(),"eq",e)}.bind(this))}else if(r instanceof e){o=r}else{o=new e(t.instances.messageHandler)}if(!l.isEmpty()){u=new e(t.instances.messageHandler);u.addAnd(l).addAnd(o)}else{u=o}if(y.lastMergedFilter&&y.lastMergedFilter.isEqual(u)){y.lastFilterResolutionPromise.done(function(e){a.resolve(e)})}else{y.lastMergedFilter=u.copy();y.lastFilterResolutionPromise=a;t.functions.createRequest(i.filterResolutionRequest).sendGetInBatch(u,f,undefined)}return a.promise();function f(e){a.resolve(e)}}function A(e,t){var r;if(i.valueHelpRequest){return V(e,t)}else if(i.valueList){r={data:j(i.valueList,[])};return jQuery.Deferred().resolve(r)}}function V(e,r){var n=jQuery.Deferred();var s={paging:{top:1e5,skip:0,inlineCount:true}};if(e&&r!==e){return n.promise()}if(h.lastRestriction&&h.lastRestriction.isEqual(l)){h.lastValueHelpPromise.done(function(e){n.resolve(e)})}else{h.lastRestriction=l.copy();h.lastValueHelpPromise=n;t.functions.createRequest(i.valueHelpRequest).sendGetInBatch(l,u,s)}return n.promise();function u(e){n.resolve(e)}}function q(e){var t=[];e.data.forEach(function(e){t.push(e[this.getAliasNameIfExistsElsePropertyName()])}.bind(this));return t}function x(e){var t={};e.forEach(function(e){var i=e[this.getAliasNameIfExistsElsePropertyName()];t[i]=true}.bind(this));return t}};sap.apf.utils.StartFilter=t;return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startFilterHandler", ["sap/apf/utils/filter","sap/apf/core/utils/filter","sap/apf/utils/startFilter","sap/apf/utils/utils"],function(e,r,t,i){"use strict";var n=function(n){var a=[{isLevel:true}];var o=n&&n.constructors&&n.constructors.StartFilter||t;var s={};var f={};var u={};var l={};var c=n.instances.messageHandler;var v=jQuery.Deferred();var d=jQuery.Deferred();var p=false;var y=jQuery.Deferred();var g=0;var h=0;var m;var P=jQuery.Deferred();this.getStartFilters=function(){F().done(function(){v.resolve(D())});return v.promise()};this.setRestrictionByProperty=function(e){if(!m){m=jQuery.Deferred()}g++;var r=e.getInternalFilter();var t=r.getProperties()[0];s[t]=e;F();m.done(function(){var i=true;S().forEach(function(e){if(e.getPropertyName()===t){if(r.isDisjunctionOverEqualities()){var n=P.state()==="pending";e.setSelectedValues(A(r),n)}else{e.setContext(r)}i=false}});if(i){a.unshift(new o(n,{multiSelection:true,property:t,invisible:true,notConfigured:true},r))}if(y.state()==="resolved"){y=jQuery.Deferred()}if(n.functions.getFacetFilterConfigurations().length===0){y.resolve(b(j()))}f[t]=e;delete s[t];if(!u[t]){u[t]=e.serialize()}h++;if(h===g){O();P.resolve()}})};this.getRestrictionByProperty=function(r){if(f[r]){return f[r]}else if(s[r]){return s[r]}return new e(c)};this.getCumulativeFilter=function(){var e=jQuery.Deferred();var t=new r(c);var i;F().done(function(){i=S().length;if(i===0){e.resolve(new r(c))}y.done(function(i,n,a){var o;o=new r(c);if(i&&i.type==="internalFilter"){o=i}if(Array.isArray(i)){i.forEach(function(e){o.addOr(new r(c,a,"eq",e))})}if(n){t.addAnd(n).addAnd(o)}else{t=o}e.resolve(t)})});return e.promise()};this.serialize=function(e,r){var t=jQuery.Deferred();var i;var n;var a={};a.startFilters=[];a.restrictionsSetByApplication={};for(n in f){a.restrictionsSetByApplication[n]=f[n].serialize()}i=S().length;if(S().length>0){S().forEach(function(n){n.serialize(e,r).done(function(e){a.startFilters.push(e);i--;if(i===0){t.resolve(a)}})})}else{t.resolve(a)}return t.promise()};this.deserialize=function(r){var t=jQuery.Deferred();y.done(function(){var i=S();var n;var a;f={};r.startFilters.forEach(function(e){for(var r=0,t=i.length;r<t;r++){if(e.propertyName===i[r].getPropertyName()){i[r].deserialize(e)}}});for(n in r.restrictionsSetByApplication){a=new e(c);a.deserialize(r.restrictionsSetByApplication[n]);f[n]=a}y=jQuery.Deferred();O();y.done(function(){t.resolve()})});return t};this.resetAll=function(){var r;S().forEach(function(e){e.reset()});f={};for(r in u){f[r]=new e(c).deserialize(u[r])}O()};this.resetVisibleStartFilters=function(){D().forEach(function(e){e.reset()});var e=0;var r=a.length;for(var t=0;t<r;t++){if(a[t].isLevel){e=t+1;break}}if(a[e]){a[e].setRestriction(l[a[e].getPropertyName()])}};function F(){if(!p){p=true;n.instances.onBeforeApfStartupPromise.done(function(){n.functions.getReducedCombinedContext().done(function(e){var r=n.functions.getFacetFilterConfigurations();var t=e.getProperties();var s=t.length;var f=null;r.forEach(function(r){for(var u=0;u<s;u++){if(r.property===t[u]){f=t[u];break}}if(f){var l=N(e,f);if(i.isPropertyTypeWithDateSemantics(r.metadataProperty)){l=i.convertDateListToInternalFormat(l,r.metadataProperty)}a.push(new o(n,r,l));t.splice(t.indexOf(f),1);f=null}else{a.push(new o(n,r))}});t.forEach(function(r){a.unshift(new o(n,{property:r,invisible:true,multiSelection:true},N(e,r)))});if(!m){m=jQuery.Deferred();P.resolve()}m.resolve();P.done(function(){Q().done(function(){E();d.resolve()})})})})}return d}function E(){var e=w();e.forEach(function(t){t.getSelectedValues().done(i);function i(n,a){var o;var s=new r(c);var f;a.done(i);for(var u=0;u<e.length;u++){if(e[u]===t){o=u;break}}if(o===e.length-1){if(y.state()==="resolved"){y=jQuery.Deferred()}y.resolve(n,l[t.getPropertyName()],t.getPropertyName());return}else if(y.state()==="resolved"){y=jQuery.Deferred()}if(n&&n.type==="internalFilter"){s=n}else if(Array.isArray(n)){n.forEach(function(e){s.addOr(t.getPropertyName(),"eq",e)})}if(l[t.getPropertyName()]){if(s.isEmpty()){f=l[t.getPropertyName()].copy()}else{if(l[t.getPropertyName()].isOr()){f=new r(c);f.addAnd(l[t.getPropertyName()]).addAnd(s)}else{f=l[t.getPropertyName()].copy().addAnd(s)}}}else{f=s}l[e[o+1].getPropertyName()]=f;e[o+1].setRestriction(f)}})}function A(e){var r=[];e.getFilterTerms().forEach(function(e){r.push(e.getValue())});return r}function N(e,r){var t=[];var i=e.getFilterTermsForProperty(r);var n=e.restrictToProperties([r]);if(n.toUrlParam().indexOf("%20and%20")>-1){return n}for(var a=0,o=i.length;a<o;a++){if(i[a].getOp()!=="EQ"){return n}t.push(i[a].getValue())}return t}function D(){var e=[];S().forEach(function(r){if(r.isVisible()){e.push(r)}});return e}function w(){var e=false;var r=[];a.forEach(function(t){if(t.isLevel){e=true}else if(e===true){r.push(t)}});return r}function S(){var e=[];a.forEach(function(r){if(!r.isLevel){e.push(r)}});return e}function j(){var e=[];for(var r=0,t=a.length;r<t;r++){if(!a[r].isLevel){e.push(a[r])}else{break}}return e}function Q(){var e=jQuery.Deferred();t(b(j()));return e;function t(t){var i;var n=a.length;var o=t;var s=0;for(i=0;i<n;i++){if(a[i].isLevel){s=i+1;break}}if(a[s]){a[s].setRestriction(o);l[a[s].getPropertyName()]=o.copy();f(s)}else{y.resolve(b(j()));e.resolve()}function f(t){if(a[t+1]){a[t].getSelectedValues().done(function(e){var i=new r(c);if(e&&e.type==="internalFilter"){i.addOr(e)}else if(Array.isArray(e)){e.forEach(function(e){i.addOr(a[t].getPropertyName(),"eq",e)})}if(!i.isEmpty()){o.addAnd(i)}a[t+1].setRestriction(o);l[a[t+1].getPropertyName()]=o.copy();f(t+1)})}else{e.resolve()}}}}function b(e){var t=new r(c);e.forEach(function(e){var i=new r(c);e.getSelectedValues().done(function(r){if(r.type==="internalFilter"){i.addOr(r)}else{r.forEach(function(r){i.addOr(e.getPropertyName(),"eq",r)})}});t.addAnd(i)});return t}function O(){var e=0;var r=a.length;for(var t=0;t<r;t++){if(a[t].isLevel){e=t+1;break}}if(a[e]){var i=b(j());l[a[e].getPropertyName()]=i;a[e].setRestriction(i)}else{y.resolve(b(j()))}}};sap.apf.utils.StartFilterHandler=n;return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startParameter", ["sap/base/util/UriParameters"],function(t){"use strict";var a=function(a,i){var e=null;var n=null;var p=null;var r;var s;var f;var o;var u;var l;if(a&&a.getComponentData&&a.getComponentData()&&a.getComponentData().startupParameters){f=a.getComponentData().startupParameters;if(sap&&sap.flp&&sap.flp.FaasInitUtils&&sap.flp.FaasInitUtils.siteType&&sap.flp.FaasInitUtils.siteType=="flp"){if(f["sap-apf-configuration-id"]){l=f["sap-apf-configuration-id"][0].split(".");if(l.length===2){e=null}else{e=f["sap-apf-configuration-id"][0]}}}else if(f["sap-apf-configuration-id"]){e=f["sap-apf-configuration-id"][0]}if(f["sap-apf-step-id"]){n=f["sap-apf-step-id"][0]}if(f["sap-apf-representation-id"]){p=f["sap-apf-representation-id"][0]}if(f["sap-apf-app-config-path"]){r=f["sap-apf-app-config-path"][0]}if(f["evaluationId"]){s=f["evaluationId"][0]}if(f["sap-client"]){o=f["sap-client"][0]}if(f["sap-system"]){u=f["sap-system"][0]}}this.getSapSystem=function(){return u};this.getAnalyticalConfigurationId=function(){var a,i;if(!e){var n=new t(window.location.href);e=n.get("sap-apf-configuration-id")}if(e){i={};a=e.split(".");if(a.length===2){i.applicationId=a[0];i.configurationId=a[1]}else{i.configurationId=e}}return i};this.getSteps=function(){var a=new t(window.location.href);if(!n){n=a.get("sap-apf-step-id")}if(!p){p=a.get("sap-apf-representation-id")}if(!n){return null}return[{stepId:n,representationId:p}]};this.getXappStateId=function(){var t=/(?:sap-xapp-state=)([^&=]+)/;var a=t.exec(window.location.hash);if(a){return a[1]}return null};this.getApplicationConfigurationPath=function(){return r};this.getEvaluationId=function(){return s};this.isLrepActive=function(){if(i&&i.manifest&&i.manifest["sap.apf"]&&i.manifest["sap.apf"].activateLrep){return i.manifest["sap.apf"].activateLrep}return false};this.getSapClient=function(){return o};this.isFilterReductionActive=function(){if(f&&f["sap-apf-filter-reduction"]){return f["sap-apf-filter-reduction"][0]}if(i&&i.manifest&&i.manifest["sap.apf"]&&i.manifest["sap.apf"].activateFilterReduction){return i.manifest["sap.apf"].activateFilterReduction}return false};this.getParameter=function(a){if(f&&f[a]){return f[a][0]}var i=new t(window.location.href);return i.get(a)}};sap.apf.utils.StartParameter=a;return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/utils/trace", [],function(){"use strict";var o={apfLogStyle:"color: blue; font-style: italic; background-color: wheat;padding: 1px",apfWarningStyle:"color: DarkMagenta; font-style: bold; background-color: wheat;padding: 1px",apfErrorStyle:"color: white; font-style: bold; background-color: red;padding: 1px",logCounter:0,_logBase:function(e,n,l,a,t,r,d,g,i){if(jQuery.sap.log.apfTrace===undefined){return}a=a===undefined?"":a||a;t=t===undefined?"":t||t;r=r===undefined?"":r||r;d=d===undefined?"":d||d;g=g===undefined?"":g||g;i=i===undefined?"":i||i;var u="%c%s %s %s ";window.console.log(u,e,n,o.logCounter,l,a,t,r,d,g,i)},log:function(e,n,l,a,t,r,d){o._logBase(o.apfLogStyle,"-APF-",e,n,l,a,t,r,d)},logCall:function(e,n,l,a,t,r,d){++o.logCounter;o._logBase(o.apfLogStyle,">APF>",e,n,l,a,t,r,d)},logReturn:function(e,n,l,a,t,r,d){o._logBase(o.apfLogStyle,"<APF<",e,n,l,a,t,r,d);--o.logCounter},emphasize:function(e,n,l,a,t,r,d){o._logBase(o.apfWarningStyle,"-APF-",e,n,l,a,t,r,d)}};return o});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/utils", ["sap/ui/core/format/DateFormat","sap/apf/utils/hashtable","sap/base/util/UriParameters","sap/m/ViewSettingsDialog","sap/ui/thirdparty/jquery"],function(e,t,r,a,jQuery){"use strict";function n(e){var t=parseInt(e,10);if(t<10){return"0"+t}return e}var i;var s=0;var o={renderHeaderOfTextPropertyFile:function(e,t){var r=e.toLowerCase();var a=/^[0-9a-f]+$/;var n=a.test(r);if(!n||e.length!==32){t.putMessage(t.createMessageObject({code:"5409",aParameters:[e]}));r="<please enter valid translation uuid, if you want to upload into a SAP translation system>"}else{r=r.substring(0,8)+"-"+r.substring(8,12)+"-"+r.substring(12,16)+"-"+r.substring(16,20)+"-"+r.substring(20)}return"#FIORI: insert Fiori-Id\n"+"# __ldi.translation.uuid="+r+"\n"+"#ApfApplicationId="+e+"\n\n"},getUriParameters:function(){var e=r.fromQuery(window.location.search);return e.mParams},createPromise:function(e,t){var r=jQuery.Deferred();if(!t){r.resolve(e)}else{setTimeout(function(){r.resolve(e)},t)}return r.promise()},renderTextEntries:function(e,t){i=false;var r=e.getKeys();r.sort(function(t,r){var a=e.getItem(t);var n=e.getItem(r);if(a.LastChangeUTCDateTime<n.LastChangeUTCDateTime){return-1}if(a.LastChangeUTCDateTime>n.LastChangeUTCDateTime){return 1}return 0});var a=r.length;var n="";var s;for(s=0;s<a;s++){n=n+o.renderEntryOfTextPropertyFile(e.getItem(r[s]),t)}return n},renderEntryOfTextPropertyFile:function(t,r){var a,n;if(!i&&(!t.TextElementType||!t.MaximumLength)){i=true;r.putMessage(r.createMessageObject({code:"5408",aParameters:[t.TextElement]}))}var s="#"+(t.TextElementType||"<Add text type>")+","+(t.MaximumLength||"<Add maximum length>");if(t.TranslationHint&&t.TranslationHint!==""){s=s+":"+t.TranslationHint}s=s+"\n"+t.TextElement+"="+t.TextElementDescription+"\n";var o=e.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});if(t.LastChangeUTCDateTime&&t.LastChangeUTCDateTime!==""){a=t.LastChangeUTCDateTime.replace(/\/Date\(/,"").replace(/\)\//,"");n=new Date(parseInt(a,10))}else{n=new Date}s=s+"# LastChangeDate="+o.format(n)+"\n\n";return s},eliminateDuplicatesInArray:function(e,t){e.check(t!==undefined&&typeof t==="object"&&t.hasOwnProperty("length")===true,"Error - aArray is undefined");var r=[];var a,n;for(a=0;a<t.length;a++){for(n=a+1;n<t.length;n++){if(t[a]===t[n]){n=++a}}r.push(t[a])}return r},hashCode:function(e){var t=0;var r;var a=0;e=e.toString();var n=e.length;for(r=0;r<n;r++){a=e.charCodeAt(r);t=17*t+a<<0}return Math.abs(t)},escapeOdata:function(e){if(typeof e==="string"){return e.replace("'","''")}return e},json2javascriptFormat:function(e,t){var r;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){return e}if(typeof e==="string"){return e.toLowerCase()==="true"}return false;case"Edm.Decimal":case"Edm.Guid":case"Edm.Int64":case"Edm.String":return e;case"Edm.Int16":case"Edm.Int32":return parseInt(e,10);case"Edm.Single":case"Edm.Float":return parseFloat(e);case"Edm.Time":return e;case"Edm.DateTime":r=e.replace("/Date(","").replace(")/","");r=parseFloat(r);return new Date(r);case"Edm.DateTimeOffset":r=e.replace("/Date(","");r=r.replace(")/","");r=parseFloat(r);return new Date(r);default:return e}},formatValue:function(t,r){function a(e){var t;var r=new RegExp("^[0-9]*$");if(e instanceof Date){return e}if(typeof e==="string"){if(e.substring(0,6)==="/Date("){t=e.replace("/Date(","");t=t.replace(")/","");t=parseInt(t,10);return new Date(t)}else if(e.length===8&&r.test(e)){return o.convertFiscalYearMonthDayToDate(e)}return new Date(e)}return undefined}var i;var s="";if(t===null||t===undefined){return"null"}var u=r.dataType.type;switch(u){case"Edm.String":if(r["sap-semantics"]==="yearmonthday"){if(typeof t==="object"&&t instanceof Date){var f=t.getUTCFullYear()+"";var c=n(t.getUTCMonth()+1+"");var m=n(t.getUTCDate()+"");t=f+c+m}}s="'"+String(t).replace(/'/g,"''")+"'";break;case"Edm.Time":if(typeof t==="number"){i=new Date;i.setTime(t);var l=i.getUTCHours();if(l<10){l="0"+l}var p=i.getUTCMinutes();if(p<10){p="0"+p}var d=i.getUTCSeconds();if(d<10){d="0"+d}s="time'"+l+":"+p+":"+d+"'"}else{s="time'"+t+"'"}break;case"Edm.DateTime":if(!o.formatValue.oDateTimeFormat){o.formatValue.oDateTimeFormat=e.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''"})}i=a(t);s=o.formatValue.oDateTimeFormat.format(i,true);break;case"Edm.DateTimeOffset":if(!o.formatValue.oDateTimeOffsetFormat){o.formatValue.oDateTimeOffsetFormat=e.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''"})}i=a(t);s=o.formatValue.oDateTimeOffsetFormat.format(i,true);break;case"Edm.Guid":s="guid'"+t+"'";break;case"Edm.Decimal":s=t+"M";break;case"Edm.Int64":s=String(t)+"L";break;case"Edm.Single":s=t+"f";break;case"Edm.Binary":s="binary'"+t+"'";break;default:s=t;break}return s},extractFunctionFromModulePathString:function(e){if(jQuery.isFunction(e)){return e}var t,r,a;r=e.split(".");t=window;var n;for(n=0;n<r.length-1;n++){t=t[r[n]];if(!t){return undefined}}a=r[r.length-1];return t[a]},isValidGuid:function(e){return/^[0-9A-F]{32}$/.test(e)},isValidPseudoGuid:function(e){return/^[0-9A-F]{32}$/.test(e)},createPseudoGuid:function(e){if(!e&&e!==0){e=32}var t=Date.now().toString();var r=e-t.length;t+=o.createRandomNumberString(r);return t},createRandomNumberString:function(e){var t="";var r,a,n;while(t.length<e){r=Math.min(10,e-t.length);a=Math.pow(10,r);n=u((new Date).getTime());t+=Math.floor(n*a)}return t},migrateConfigToCategoryStepAssignment:function(e,t){var r=t.constructors&&t.constructors.Hashtable||r;var a=new r(t.instances.messageHandler);if(e.steps){e.steps.forEach(function(e){if(e.categories){e.categories.forEach(function(t){var r=a.getItem(t.id);if(!r){r={category:t.id,steps:[{type:"step",id:e.id}]};a.setItem(t.id,r)}else{r.steps.push({type:"step",id:e.id})}});delete e.categories}})}if(e.categories){e.categories.forEach(function(e){if(!e.steps){var t=a.getItem(e.id);if(t){e.steps=t.steps}else{e.steps=[]}}})}},getComponentNameFromManifest:function(e){var t;if(e["sap.ui5"]&&e["sap.ui5"].componentName){t=e["sap.ui5"].componentName}else{t=e["sap.app"].id}if(t.search("Component")>-1){return t}return t+".Component"},validateSelectedValues:function(e,t){var r={valid:[],invalid:[]};if(!e||!Array.isArray(e)||e.length===0){return r}if(!t||!Array.isArray(t)||t.length===0){r.invalid=e;return r}e.forEach(function(e){if(jQuery.inArray(e,t)===-1){r.invalid.push(e)}else{r.valid.push(e)}});return r},extractPathnameFromUrl:function(e){var t="a";var r;var a=document.createElement(t);a.href=e;if(a.pathname){r=a.pathname;if(r&&r[0]!=="/"){r="/"+r}return r}return e},extractOdataErrorResponse:function(e){var t;if(typeof e==="string"){t=JSON.parse(e)}else{t=e}var r=t&&t.error&&t.error.message&&t.error.message.value||t&&t.error&&t.error.message&&t.error.message||e;if(t&&t.error&&t.error.innererror&&t.error.innererror.errordetails){r=r+"\n";t.error.innererror.errordetails.forEach(function(e){r=r+e.message+"\n"})}else if(t&&t.error&&t.error.details){r=r+"\n";t.error.details.forEach(function(e){r=r+e.message+"\n"})}return r},checkAndCloseDialog:function(e){if(e!==undefined){if(e instanceof a){e.destroy()}else if(e.isOpen()){e.close()}}},convertFiscalYearMonthDayToDate:function(e){var t=parseInt(e.substr(0,4),10);var r=parseInt(e.substr(4,2),10);var a=parseInt(e.substr(6,2),10);return new Date(Date.UTC(t,r-1,a))},convertFiscalYearMonthDayToDateString:function(e){return o.convertFiscalYearMonthDayToDate(e).toUTCString()},convertDateListToInternalFormat:function(e,t){function r(e){var t=parseInt(e,10);if(t<10){return"200"+t}else if(t<100){return"20"+t}return e}if(!e||!e.length){return e}var a=[];e.forEach(function(e){var i,s,o,u,f;if(new RegExp("^[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]+$").test(e)){u=e.split(".");o=n(u[0]);s=n(u[1]);i=r(u[2])}else if(new RegExp("^[0-9]{1,2}/[0-9]{1,2}/[0-9]+$").test(e)){u=e.split("/");s=n(u[0]);o=n(u[1]);i=r(u[2])}else if(new RegExp("^[0-9]{4}-[0-9]{2}-[0-9]{2}").test(e)){i=e.slice(0,4);s=e.slice(5,7);o=e.slice(8,10)}if(i!==undefined&&s!==undefined&&o!==undefined){if(t.getAttribute("type")==="Edm.String"){a.push(i+s+o)}else{f=new Date(Date.UTC(parseInt(i,10),parseInt(s,10)-1,parseInt(o,10)));a.push(f)}}else{a.push(e)}});return a},convertToExternalFormat:function(t,r){var a=r.getAttribute("type");var n,i;var s;switch(a){case"Edm.DateTime":s=r.getAttribute("sap:display-format");if(s==="Date"&&t instanceof Date){n=e.getDateInstance({style:"short"});return n.format(t,true)}else if(s==="Date"&&typeof t==="string"){if(t.length===8){i=o.convertFiscalYearMonthDayToDate(t);n=e.getDateInstance({style:"short"});return n.format(i,true)}i=new Date(Date.parse(t));if(isNaN(i.getTime())){return t}n=e.getDateInstance({style:"short"});return n.format(i,true)}return t.toString();case"Edm.String":s=r.getAttribute("sap:semantics");if(s==="yearmonthday"){if(t.length===8){i=o.convertFiscalYearMonthDayToDate(t)}else{i=new Date(Date.parse(t))}if(isNaN(i.getTime())){return t}n=e.getDateInstance({style:"short"});return n.format(i,true)}return t;default:return t}},sortByProperty:function(e,t,r){if(e.length===0){return[]}var a=r?r.type:undefined;var n=e[0][t];var i;if(typeof n==="number"){return e.sort(function(e,r){return e[t]-r[t]})}else if(typeof n==="object"&&n instanceof Date){return e.sort(function(e,r){return e[t].getTime()-r[t].getTime()})}else if(typeof n==="string"){switch(a){case"Edm.DateTime":return e.sort(function(e,r){return Date.parse(e[t])-Date.parse(r[t])});case"Edm.String":i=r["sap:semantics"];if(i==="yearmonthday"&&n.length===8){return e.sort(function(e,r){return e[t].localeCompare(r[t])})}else if(i==="yearmonthday"){return e.sort(function(e,r){return Date.parse(e[t])-Date.parse(r[t])})}return e.sort(function(e,r){return e[t].localeCompare(r[t])});default:return e.sort(function(e,r){return e[t].localeCompare(r[t])})}}},isPropertyTypeWithDateSemantics:function(e){var t=e["type"];var r=e["sap:display-format"];return t==="Edm.DateTime"&&r==="Date"||t==="Edm.String"&&e["sap:semantics"]==="yearmonthday"}};function u(e){s++;var t,r,a;e=s.toString()+e.toString();t=o.hashCode(e);r=t.toString().length;a=t/Math.pow(10,r);return a}Object.keys(o).forEach(function(e){sap.apf.utils[e]=o[e]});return o},true);
sap.ui.require.preload({
	"sap/apf/base/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.apf.base","type":"component","embeddedBy":"../","i18n":"../resources/i18n/apfUi.properties","title":"{{AnalysisPathFramework}}","description":"{{AnalysisPathFrameworkDescription}}","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":false},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":false},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"_version":"1.1.0","dependencies":{"libs":{"sap.ui.core":{"minVersion":"1.30.0"},"sap.m":{"minVersion":"1.30.0"},"sap.ui.layout":{"minVersion":"1.30.0"},"sap.ushell":{"minVersion":"1.30.0"},"sap.viz":{"minVersion":"1.30.0"},"sap.ui.comp":{"minVersion":"1.30.0"},"sap.suite.ui.commons":{"minVersion":"1.30.0"},"sap.ui.export":{"minVersion":"1.50.0"}}},"contentDensities":{"compact":false,"cozy":false},"config":{"fullWidth":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"../resources/i18n/apfUi.properties"}}}}',
	"sap/apf/cloudFoundry/ui/sharedialog/fragment/ShareDialog.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.m"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form"\r\n\txmlns:core="sap.ui.core" ><Dialog id="shareDialog" title="{value: \'shareConfiguration\', formatter: \'.translate\'}" contentWidth="750px" ><content><FlexBox direction="Column" ><FlexBox alignItems="Center" justifyContent="Center" ><items><FlexBox alignItems="Center" justifyContent="Center" ><layoutData><FlexItemData growFactor="1" /></layoutData><GenericTile id="tilePreview" header="{path: \'ui>/TileHeader\'}" subheader="{path: \'ui>/TileSubheader\'}" tooltip="{path: \'ui>/TileTooltip\'}" ><TileContent><ImageContent id="tileImage" src="{path: \'ui>/TileIcon\'}" /></TileContent></GenericTile></FlexBox><FlexBox alignItems="Center" justifyContent="Start" ><layoutData><FlexItemData growFactor="1" /></layoutData><f:SimpleForm id="formTile"\r\n\t\t\t\t\t\t\teditable="true"\r\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\r\n\t\t\t\t\t\t\tlabelSpanXL="3"\r\n\t\t\t\t\t\t\tlabelSpanL="3"\r\n\t\t\t\t\t\t\tlabelSpanM="3"\r\n\t\t\t\t\t\t\tlabelSpanS="3"\r\n\t\t\t\t\t\t\twidth="400px" ><f:content><Label id="labelHeader" text="{value: \'bookmarkHeader\', formatter: \'.translate\'}" labelFor="inputHeader" /><Input id="inputHeader" placeholder="{path: \'ui>/TileHeaderDefault\'}" liveChange="onHeaderChange" /><Label id="labelSubheader" text="{value: \'bookmarkSubheader\', formatter: \'.translate\'}" labelFor="inputSubheader" /><Input id="inputSubheader" placeholder="{value: \'bookmarkSubheaderDefault\', formatter: \'.translate\'}" liveChange="onSubheaderChange" /><Label id="labelIcon" text="{value: \'bookmarkIcon\', formatter: \'.translate\'}" labelFor="inputIcon" /><Input id="inputIcon" change="onIconChange" valueState="{path: \'ui>/TileIconValueState\'}" valueStateText="{value: \'bookmarkIconInvalid\', formatter: \'.translate\'}" /><Label id="labelGroup" text="{value: \'bookmarkGroup\', formatter: \'.translate\'}" labelFor="inputGroup" /><Input id="inputGroup" liveChange="onGroupChange" /></f:content></f:SimpleForm></FlexBox></items></FlexBox><FlexBox justifyContent="Center" ><Button id="buttonLink" text="{value: \'showLink\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://copy" press="onShowLink" class="sapUiMediumMarginEnd" tooltip="{value: \'showLinkTooltip\', formatter: \'.translate\'}" /><Button id="buttonEmail" text="{value: \'sendInEmail\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://email" press="onSendEmail" class="sapUiMediumMarginEnd" tooltip="{value: \'sendInEmailTooltip\', formatter: \'.translate\'}" /><Button id="buttonFavorite" text="{value: \'markAsFavorite\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://add-favorite" press="onMarkFavorite" class="sapUiMediumMarginEnd" tooltip="{value: \'markAsFavoriteTooltip\', formatter: \'.translate\'}" /></FlexBox><Input id="inputCopy" editable="false" visible="false" /></FlexBox></content><buttons><Button id="buttonClose" text="{value: \'close\', formatter: \'.translate\'}" press="onClose" /></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/sharedialog/fragment/ShowLinkDialog.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog\r\n\t\tid="showLinkDialog"\r\n\t\ttitle="{value: \'configurationLink\', formatter: \'.translate\'}"\r\n\t\ttype="Message"\r\n\t\tstate="None"\r\n\t\tbeforeOpen=".onBeforeOpen"\r\n\t\tafterOpen=".onAfterOpen"\r\n\t\tafterClose=".onAfterClose"><content><TextArea id="textAreaLink" width="100%" editable="false" growing="true"/></content><endButton><Button id="buttonCloseLinkDialog" text="{value: \'close\', formatter: \'.translate\'}" press=".onButtonClosePress"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/sharedialog/view/ShareDialog.view.xml":'<mvc:View\r\n\tcontrollerName="sap.apf.cloudFoundry.ui.sharedialog.controller.ShareDialog"\r\n\txmlns="sap.m"\r\n\txmlns:mvc="sap.ui.core.mvc"></mvc:View>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/CatalogBrowser.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><Dialog\r\n        id="catalogBrowser"\r\n        title="{path: \'ui>/Title\'}"\r\n        contentWidth="60%"\r\n        contentHeight="1000px"><subHeader><Bar visible="{path: \'ui>/SearchEnabled\'}"><contentMiddle><SearchField \r\n                        id="searchField"\r\n                        liveChange="onLiveChangeSearch"\r\n                        search="onSearch" /></contentMiddle></Bar></subHeader><content><NavContainer\r\n                id="navContainer"><ScrollContainer horizontal="false" vertical="true" height="100%"><List\r\n                        id="selectDestination"\r\n                        items="{destinations>/destinations}"><items><StandardListItem\r\n                                title="{destinations>name}"\r\n                                description="{destinations>description}"\r\n                                info="{destinations>url}"\r\n                                icon="{path: \'destinations>proxyType\', formatter: \'.proxyTypeIcon\'}"\r\n                                adaptTitleSize="false"\r\n                                type="Navigation"\r\n                                press="onSelectDestination" /></items></List></ScrollContainer><ScrollContainer horizontal="false" vertical="true" height="100%"><Table id="selectService"\r\n                        fixedLayout="false"\r\n                        sticky="ColumnHeaders"\r\n                        inset="false"\r\n                        items="{\r\n                            path: \'catalog>/ServiceCollection\',\r\n                            sorter: { path: \'TechnicalServiceName\', descending: false }\r\n                        }"><columns><Column><Text id="columnTextTechnicalServiceName" text="{value: \'technicalServiceName\', formatter: \'.translate\'}" /></Column><Column\r\n                                minScreenWidth="Tablet"\r\n                                demandPopin="true"><Text id="columnTextUrl" text="{value: \'url\', formatter: \'.translate\'}" /></Column></columns><items><ColumnListItem type="Navigation" press="onSelectService" vAlign="Middle"><cells><ObjectIdentifier\r\n                                        title="{catalog>TechnicalServiceName}"\r\n                                        text="{catalog>Description}"/><Text\r\n                                        text="{path: \'catalog>ServiceUrl\', formatter: \'.getRelativeServiceURL\'}" /></cells></ColumnListItem></items></Table></ScrollContainer><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="urlInputForm"\r\n                        editable="true"\r\n                        layout="ResponsiveGridLayout"\r\n                        labelSpanXL="1"\r\n                        labelSpanL="1"\r\n                        labelSpanM="1"\r\n                        labelSpanS="12"\r\n                        adjustLabelSpan="false"\r\n                        columnsXL="1"\r\n                        columnsL="1"\r\n                        columnsM="1"\r\n                        singleContainerFullSize="false" ><f:content><Label text="{value: \'url\', formatter: \'.translate\'}" /><ComboBox id="urlInput"\r\n                                placeholder="{value: \'serviceURLExample\', formatter: \'.translate\'}"\r\n                                valueState="{path: \'ui>/ServiceUrlValueState\'}"\r\n                                valueStateText="{value: \'serviceURLFormatWarning\', formatter: \'.translate\'}"\r\n                                showButton="false" /><Label /></f:content></f:SimpleForm></ScrollContainer><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.Overview" type="XML" /><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.OverviewReduced" type="XML" /><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.OverviewServiceOnly" type="XML" /></NavContainer></content><buttons><Button id="buttonOk" text="{value: \'ok\', formatter: \'.translate\'}" visible="{ui>/ButtonOkEnabled}" press="onOk" type="Emphasized" /><Button id="buttonSelect" text="{value: \'select\', formatter: \'.translate\'}" visible="{ui>/ButtonSelectEnabled}" press="onSelectServiceUrl" /><Button id="buttonBack" text="{value: \'back\', formatter: \'.translate\'}" visible="{ui>/ButtonBackEnabled}" press="onBack" /><Button id="buttonCancel" text="{value: \'cancel\', formatter: \'.translate\'}" press="onCancel" /></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/Overview.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="destinationOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedDestination\', formatter: \'.translate\'}" /><f:content><Label id="destinationOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="destinationOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="destinationOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="destinationOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /></f:content></f:SimpleForm><f:SimpleForm id="serviceOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedService\', formatter: \'.translate\'}" /><f:content><Label id="serviceOverviewTechnicalServiceName" text="{value: \'technicalServiceName\', formatter: \'.translate\'}" /><Text text="{catalog>TechnicalServiceName}" /><Label id="serviceOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>ServiceUrl\', formatter: \'.getRelativeServiceURL\'}" /><Label id="serviceOverviewDescription" text="{value: \'description\', formatter: \'.translate\'}" /><Text text="{catalog>Description}" /><Label id="serviceOverviewUpdatedDate" text="{value: \'updatedDate\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>UpdatedDate\', type: \'sap.ui.model.type.DateTime\'}" /><Label id="serviceOverviewTechnicalServiceVersion" text="{value: \'technicalServiceVersion\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>TechnicalServiceVersion\'}" /><Label id="serviceOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/OverviewReduced.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="reducedDestinationOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedDestination\', formatter: \'.translate\'}" /><f:content><Label id="reducedDestinationOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="reducedDestinationOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="reducedDestinationOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="reducedDestinationOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /></f:content></f:SimpleForm><f:SimpleForm id="reducedServiceOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedService\', formatter: \'.translate\'}" /><f:content><Label id="reducedServiceOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{ui>/Service}" /><Label id="reducedServiceOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/OverviewServiceOnly.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><MessageStrip text="{value: \'directServiceDestination\', formatter: \'.translate\'}" type="Information" showIcon="true" class="sapUiSmallMargin" /><f:SimpleForm id="serviceOnlyOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><f:content><Label id="serviceOnlyOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="serviceOnlyOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="serviceOnlyOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="serviceOnlyOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /><Label id="serviceOnlyOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/view/CatalogBrowser.view.xml":'<mvc:View\r\n    controllerName="sap.apf.cloudFoundry.ui.valuehelp.controller.CatalogBrowser"\r\n    xmlns="sap.m"\r\n    xmlns:mvc="sap.ui.core.mvc"></mvc:View>',
	"sap/apf/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.apf","type":"library","embeds":["base","modeler"],"applicationVersion":{"version":"1.115.0"},"title":"Analysis Path Framework","description":"Analysis Path Framework","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.115","libs":{"sap.ui.core":{"minVersion":"1.115.0"},"sap.suite.ui.commons":{"minVersion":"1.115.0"},"sap.m":{"minVersion":"1.115.0"},"sap.ui.layout":{"minVersion":"1.115.0"},"sap.ushell":{"minVersion":"1.115.0"},"sap.viz":{"minVersion":"1.115.0"},"sap.ui.comp":{"minVersion":"1.115.0"},"sap.ui.export":{"minVersion":"1.115.0"},"sap.ui.table":{"minVersion":"1.115.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/apf/modeler/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.apf.modeler","type":"component","embeddedBy":"../","i18n":"./resources/i18n/texts.properties","title":"{{configModelerTitle}}","description":"{{configModelerDescription}}","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":false,"dataSources":{"GatewayCatalogService":{"uri":"/sap/opu/odata/iwfnd/catalogservice;v=2"}},"crossNavigation":{"outbounds":{"navigateToGenericRuntime":{"semanticObject":"FioriApplication","action":"executeAPFConfiguration"}}}},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":false,"phone":false},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"_version":"1.1.0","dependencies":{"libs":{"sap.ui.core":{"minVersion":"1.30.0"},"sap.m":{"minVersion":"1.30.0"},"sap.ui.layout":{"minVersion":"1.30.0"},"sap.ui.table":{"minVersion":"1.30.0"},"sap.ui.commons":{"minVersion":"1.30.0"}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","viewPath":"sap.apf.modeler.ui.view","clearTarget":"false"},"routes":{"applicationList":{"pattern":"","view":"applicationList","targetAggregation":"pages","targetControl":"applicationList","subroutes":[{"pattern":"app/{appId}","view":"configurationList","name":"configurationList","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}","view":"configurationList","name":"configuration","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}","view":"configurationList","name":"category","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/facetFilter/{facetFilterId}","view":"configurationList","name":"facetFilter","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/smartFilter/{smartFilterId}","view":"configurationList","name":"smartFilterBar","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}/step/{stepId}","view":"configurationList","name":"step","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}/step/{stepId}/repn/{representationId}","view":"configurationList","name":"representation","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/navigationTarget/{navTargetId}","view":"configurationList","name":"navigationTarget","targetAggregation":"pages"}]}}},"contentDensities":{"compact":true,"cozy":false},"config":{"fullWidth":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"./resources/i18n/texts.properties"}},"rootView":"sap.apf.modeler.ui.view.applicationList"}}',
	"sap/apf/modeler/ui/fragment/addMenu.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:u="sap.ui.unified"><u:Menu id="idAddMenu"><u:MenuItem id="idNewConfig" enabled="true" select="_handleAddMenuItemPress" /><u:MenuItem id="idNewFacetFilter" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewCategory" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewNavigationTarget" enabled="false" select="_handleAddMenuItemPress"/><u:MenuItem id="idStep" enabled="false" select="_handleAddMenuItemPress"><u:Menu><u:MenuItem id="idNewStep" select="_handleAddMenuItemPress"/><u:MenuItem id="idHierarchicalStep" select="_handleAddMenuItemPress"/><u:MenuItem id="idExistingStep" select="_handleAddMenuItemPress"/></u:Menu></u:MenuItem><u:MenuItem id="idNewRepresentation" enabled="false" select="_handleAddMenuItemPress"/></u:Menu></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/deleteConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idDeleteConfirmation" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" ><beginButton><Button xmlns="sap.m" id="idDeleteButton" press="handleConfirmDeletion" type="Emphasized" initialFocus="true"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelButtonDialog" press="closeDialog"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/dialogWithTwoButtons.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idDialogWithTwoButtons" type="Message"\n\t\tclass="sapUiSizeCompact dialogContentPadding" afterClose="handleCancel"><content><Label xmlns="sap.m" id="idLabelForDialog" class="dialogText" /></content><beginButton><Button xmlns="sap.m" id="idBeginButtonForDialog"\n\t\t\t\tinitialFocus="true" press="handleBeginButtonDialogWithTwoButtons" /></beginButton><endButton><Button xmlns="sap.m" id="idEndButtonForDialog" press="handleCancel" /></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/existingStepDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><SelectDialog xmlns="sap.m" id="idExistingStepDialog" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tmultiSelect="true" rememberSelections="false"\r\n\t\tconfirm="_handleExistingStepDialogOK" cancel="_handleExistingStepDialogClose"\r\n\t\tliveChange="_handleExistingStepDialogSearch"\r\n\t\titems="{path:\'/existingStepData\'}"><StandardListItem title="{name}"/></SelectDialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/exportConfiguration.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"><Dialog xmlns="sap.m" id="idExportConfigDialog" icon="" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tshowHeader="true" type="Standard" initialFocus="idExportConfigDialog"><VBox><HBox><Link xmlns="sap.m" id="idDownloadConfig" press="_handleOpenConfigLinkPress" /></HBox><HBox><Link xmlns="sap.m" id="idDownloadTextProperty" press="_handleOpenTextsLinkPress" /></HBox></VBox><beginButton><Button xmlns="sap.m" id="idCloseButton" type="Default" width=""\r\n\t\t\t\tenabled="true" visible="true" press="_handleCloseOfExportDialog"></Button></beginButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/mandatoryDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idMandatoryValidationDialog" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tshowHeader="true" type="Standard" state="Warning" initialFocus="idMandatoryValidationDialog"><beginButton><Button xmlns="sap.m" id="idYesButton" type="Default" enabled="true"\r\n\t\t\t\tvisible="true" iconFirst="true" iconDensityAware="true"\r\n\t\t\t\tpress="handleValidationNavigation"></Button></beginButton><endButton><Button xmlns="sap.m" id="idNoButton" type="Default" enabled="true"\r\n\t\t\t\tvisible="true" iconFirst="true" iconDensityAware="true"\r\n\t\t\t\tpress="handlePreventNavigation"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/overwriteConfirmation.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idOverwriteConfirmationDialog"\r\n\t\tshowHeader="true" type="Standard" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tinitialFocus="idOverwriteConfirmationDialog" afterClose="handleCancelOfOverwriteDialog"><VBox xmlns="sap.m"><items><Text xmlns="sap.m" id="idConfirmationMessage" /><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\tid="idOverwriteConfigRadioGroup" select="handleChangeForOverwriteConfigOptions"\r\n\t\t\t\t\tariaLabelledBy="idConfirmationMessage"><buttons><RadioButton id="idOverwriteConfig" /><RadioButton id="idDoNotOverwriteConfig" /></buttons></RadioButtonGroup><HBox id="idNewConfigTitleLayout" class="newConfigTitleLabel"\r\n\t\t\t\t\tvisible="false"><items><Label xmlns="sap.m" id="idNewConfigTitleLabel" width="65px" /><Input xmlns="sap.m" id="idNewConfigTitleInput" editable="true"\r\n\t\t\t\t\t\t\twidth="290px" ariaLabelledBy="idNewConfigTitleLabel"></Input></items></HBox></items></VBox><beginButton><Button xmlns="sap.m" id="idOkButton" press="handleOkButtonPress" /></beginButton><endButton><Button xmlns="sap.m" id="idCancelButton" press="handleCancelOfOverwriteDialog" /></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/textpoolCleanupConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog id="idTextpoolCleanupConfirmation" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" aria-describedby="textpoolCleanupConfirmation"><beginButton><Button id="idConfirmTextpoolCleanupButton" press="handleConfirmTextpoolCleanup"  initialFocus="true"></Button></beginButton><endButton><Button id="idCancelTextpoolCleanupButton" press="handleCancelTextpoolCleanup"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/unsavedDataConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idMessageDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" state="Warning" initialFocus="idMessageDialog"><buttons><Button xmlns="sap.m" id="idYesButton" press="handleNavigationWithSave"></Button><Button xmlns="sap.m" id="idNoButton" press="handleNavigationWithoutSave"></Button><Button xmlns="sap.m" id="idCancelButton" press="handlePreventNavigation"></Button></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/view/application.view.xml":'<mvc:View resourceBundleAlias="i18n" xmlns:mvc="sap.ui.core.mvc"\r\n\txmlns="sap.m" xmlns:f="sap.ui.layout.form"><Button xmlns="sap.m" id="idButton"></Button></mvc:View>\r\n\r\n',
	"sap/apf/modeler/ui/view/applicationList.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.applicationList"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><App xmlns="sap.m" id="applicationList" height="100%" width="100%"\r\n\t\tbackgroundRepeat="false" backgroundOpacity="1"><Page id="idAppPage" showNavButton="true" enableScrolling="false"\r\n\t\t\tnavButtonType="Back" navButtonPress="handleNavBack"><content><VBox xmlns="sap.m" id="idAppLayout"><items><Panel width="auto"><HBox xmlns="sap.m" alignItems="Start" justifyContent="SpaceBetween"><items><Label xmlns="sap.m" id="idAppTitle" class="applicationTitle"/></items></HBox></Panel><Toolbar id="idApplicationToolbar" class="applicationTitleLayout"><content><Label xmlns="sap.m" id="idAppNumberTitle" class="appCountLabel"></Label><Label xmlns="sap.m" id="idAppCount" class="applicationCount"></Label><ToolbarSpacer/><SearchField liveChange="onSearch" id="idApplicationListSearchField" width="300px" class="sapUiSmallMarginEnd"/><Button xmlns="sap.m" id="idNewButton"\r\n\t\t\t\t\t\t\t\t\ttype="Transparent" press="handleAddNewAppPress" class="newButton" /><Button xmlns="sap.m" id="idImportButton" type="Transparent" press="handleImportPress"/></content></Toolbar><ScrollContainer xmlns="sap.m" id="idAppListScrollContainer"\r\n\t\t\t\t\t\t\tclass="applicationListScroll" width="100%" horizontal="true"\r\n\t\t\t\t\t\t\tvertical="true"><Table xmlns="sap.m" id="idApplicationTable" inset="false"\r\n\t\t\t\t\t\t\t\trememberSelections="true" mode="None"\r\n\t\t\t\t\t\t\t\titems="{/Objects}"\r\n\t\t\t\t\t\t\t\titemPress="handleListItemPress"><columns><Column><Label xmlns="sap.m" id="idDescriptionLabel" /></Column><Column id="idSemanticObjectColumn"><Label xmlns="sap.m" id="idSemanticObjectLabel" /></Column><Column id="idTextpoolCleanupColumn" width="5%"><Label xmlns="sap.m" text=""/></Column><Column id="idEditColumn" width="5%"><Label xmlns="sap.m" text=""/></Column><Column xmlns="sap.m" width="5%" demandPopin="true"><Label text="" /></Column></columns><items><ColumnListItem type="Navigation" vAlign="Middle"><cells><Text xmlns="sap.m" id="idAppDescription" text="{description}"/><Text xmlns="sap.m" id="idSemanticObject" text="{semanticObject}"/><Button id="idTextpoolCleanupIcon" icon="sap-icon://attachment-text-file"\r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleTextpoolCleanupPress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby="idAriaPropertyForTextpoolCleanup"></Button><Button id="idEditIcon" icon="sap-icon://edit" \r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleEditPress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby="idAriaPropertyForEdit"></Button><Button id="idDeleteIcon" icon="sap-icon://delete"\r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleDeletePress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby="idAriaPropertyForDelete"></Button></cells></ColumnListItem></items></Table></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForEdit" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDelete" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForTextpoolCleanup" /></content></Page></App></mvc:View>',
	"sap/apf/modeler/ui/view/catalogService.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.catalogService"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><SelectDialog id="idGatewayCatalogListDialog"\r\n\t\tcontentHeight="60%" class="dialogPadding" search="handleSearch"\r\n\t\tconfirm="handleConfirm" cancel="handleCancel" multiSelect="false"\r\n\t\titems="{\r\n\t\t\tpath: \'/ServiceCollection\',\r\n\t\t\tsorter: { path: \'ServiceUrl\', descending: false}\r\n\t\t}"><StandardListItem\r\n\t\t\ttitle="{ path: \'ServiceUrl\', formatter: \'.handleFormatting\'}" /></SelectDialog></mvc:View>',
	"sap/apf/modeler/ui/view/category.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.category" xmlns:core="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idCategoryform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idCategoryBasicData" level="H4" /><Label xmlns="sap.m" id="idCategoryTitleLabel" required="true" /><Input xmlns="sap.m" id="idCategoryTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeDetailValue" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><Label xmlns="sap.m" id="idTotalStepsLabel" /><Input xmlns="sap.m" id="idTotalSteps" editable="false" /></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/configuration.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.configuration" xmlns:core="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idConfigform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idConfigurationBasicData" level="H4" /><Label xmlns="sap.m" id="idConfigTitleLabel" required="true" /><Input xmlns="sap.m" id="idConfigTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeDetailValue" /><Label xmlns="sap.m" id="idConfigurationIdLabel" /><Input xmlns="sap.m" id="idConfigurationId" editable="false" /><Label xmlns="sap.m" id="idSemanticObjectLabel" /><Input xmlns="sap.m" id="idSemanticObject" editable="false" /><Label xmlns="sap.m" id="idNoOfCategoriesLabel" /><Input xmlns="sap.m" id="idNoOfCategories" editable="false" /><Label xmlns="sap.m" id="idNoOfStepsLabel" /><Input xmlns="sap.m" id="idNoOfSteps" editable="false" /><core:Title id="idFilterTypeData" level="H4" /><Label xmlns="sap.m" id="idFilterTypeLabel" width="100%" /><VBox xmlns="sap.m" id="idFilterTypeRadioGroupVBox" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idFilterTypeRadioGroup" select="handleChangeForFilterType"\r\n\t\t\t\t\t\t\t\t\tenabled="false"\tariaLabelledBy="idAriaPropertyForFilterRadioGp"><buttons><RadioButton id="smartFilterBar" app:value="smartFilterBar" /><RadioButton id="facetFilter" app:value="facetFilter" class="facetFilterRadioLabel"/><RadioButton id="none" app:value="none" /></buttons></RadioButtonGroup></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForFilterRadioGp" /></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/configurationList.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.configurationList"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:t="sap.apf.modeler.ui.utils"><Page xmlns="sap.m" showNavButton="true" showHeader="true"\r\n\t\tenableScrolling="false" navButtonType="Back" showFooter="true" id="configPage"\r\n\t\tnavButtonPress="handleNavBack"><content><Label xmlns="sap.m" id="idConfigTitleMaster" design="Standard"\r\n\t\t\t\ttext="Configuration" visible="true" textAlign="Begin" textDirection="Inherit"\r\n\t\t\t\twidth="" required="false"></Label><HBox xmlns="sap.m" id="idHorizontalLayout" visible="true"><items><VBox xmlns="sap.m" id="idConfigMasterData" visible="true"\r\n\t\t\t\t\t\twidth="34%"><items><ScrollContainer id="idMasterScroll" vertical="true" horizontal="false" ><t:APFTree id="idConfigTree" mode="SingleSelectMaster" toggleOpenState="_handleToggleTreeNode" \r\n\t\t\t\t\t\t\t\tselect="_onTreeNodeSelection" items="{/aConfigDetails}" includeItemInSelection="{selectable}"><StandardTreeItem title="{name}" icon="{icon}"></StandardTreeItem></t:APFTree></ScrollContainer></items></VBox><VBox xmlns="sap.m" id="idConfigDetail" visible="true" width="66%"><l:Grid defaultSpan="L12 M12 S12" id="idConfigDetailData" /></VBox></items></HBox></content><footer><Bar xmlns="sap.m" id="idFooterBarMain" visible="true"><contentRight><Button xmlns="sap.m" id="idSavebutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="true" visible="true" press="handleSavePress"></Button><Button xmlns="sap.m" id="idCancelbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="true" visible="true" press="handleNavBack"></Button><Button xmlns="sap.m" id="idExportbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="true" press="_handleExportButtonPress"></Button><Button xmlns="sap.m" id="idExecuteButton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="true" press="handleExecuteButtonPress"></Button><Button xmlns="sap.m" id="idPublishbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="false" press="handlePublishPress"></Button></contentRight></Bar></footer></Page><core:InvisibleText id="idAriaPropertyForBreadCrumb" /></mvc:View>',
	"sap/apf/modeler/ui/view/cornerTexts.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\tvisible="true" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idThumbnailTexts" level="H4" /><Input xmlns="sap.m" id="idLeftUpper" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setLeftUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="setLeftUpperCornerTextKey" /><core:CustomData key="getLeftUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="getLeftUpperCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Input xmlns="sap.m" id="idRightUpper" editable="true" width="60%"\r\n\t\t\t\tchange="handleChangeForCornerText" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setRightUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="setRightUpperCornerTextKey" /><core:CustomData key="getRightUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="getRightUpperCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Icon xmlns="sap.ui.core" id="idChartIcon" color="black"\r\n\t\t\t\tvisible="true" decorative="true" size="30px" tooltip="sampleChart"><layoutData><GridData xmlns="sap.ui.layout" span="L12 M12 S12" /></layoutData></Icon><Input xmlns="sap.m" id="idLeftLower" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setLeftLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="setLeftLowerCornerTextKey" /><core:CustomData key="getLeftLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="getLeftLowerCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Input xmlns="sap.m" id="idRightLower" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setRightLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="setRightLowerCornerTextKey" /><core:CustomData key="getRightLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="getRightLowerCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input></f:content></f:SimpleForm></mvc:View>',
	"sap/apf/modeler/ui/view/editApplication.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.editApplication"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"><Dialog xmlns="sap.m" id="idEditAppDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding"><VBox><items><HBox class="newAppLayout"><items><Label id="idDescriptionLabel" required="true"\r\n\t\t\t\t\t\t\twidth="110px" labelFor="idDescriptionInput" /><Input id="idDescriptionInput" liveChange="handleAppDescriptionLiveChange"\r\n\t\t\t\t\t\t\trequired="true" aria-required="true" initialFocus="true" ariaLabelledBy="idDescriptionLabel" /></items></HBox><HBox class="newAppLayout" id="idSemanticObjectBox"><items><Label id="idSemanticObjectLabel" width="110px" /><Input id="idSemanticObjectInput" liveChange="handleSemanticObjectLiveChange"\r\n\t\t\t\t\t\t\tariaLabelledBy="idSemanticObjectLabel" /></items></HBox></items></VBox><buttons><Button id="idSaveButton" enabled="false" press="handleSavePress" /><Button id="idCancelButton" press="handleCancelPress" /></buttons></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/facetFilter.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.facetFilter"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idFacetFilterVBox" visible="true" width="100%"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm id="idFFForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formBottomPadding"><f:content><core:Title id="idFacetFilterBasicData" level="H4" /><Label xmlns="sap.m" id="idFFLabel" width="100%" required="true" /><Input xmlns="sap.m" id="idLabel" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForLabel" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><Label xmlns="sap.m" id="idFFPropertyLabel" width="100%"\r\n\t\t\t\t\t\t\trequired="true" /><Select xmlns="sap.m" id="idFFProperty" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="100%" maxWidth="100%" autoAdjustWidth="false"\r\n\t\t\t\t\t\t\tforceSelection="false" change="handleChangeForProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label xmlns="sap.m" id="idDoNotShowAtRuntimeLabel" width="100%" /><CheckBox xmlns="sap.m" id="idDoNotShowAtRuntimeCheckBox"\r\n\t\t\t\t\t\t\tselected="false" width="0px" visible="true" enabled="true"\r\n\t\t\t\t\t\t\tactiveHandling="true" select="handleChangeForVisibilityAtRuntime"></CheckBox><Label xmlns="sap.m" id="idSelectionModeLabel" width="100%" /><VBox xmlns="sap.m" id="idSelectionMode" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idSelectionModeRadioGroup" select="handleChangeForSelectionMode"\r\n\t\t\t\t\t\t\t\t\tariaLabelledBy="idAriaPropertyForSelection"><buttons><RadioButton id="idSingleSelectionMode" /><RadioButton id="idMultiSelectionMode" /></buttons></RadioButtonGroup></items></VBox><core:Title id="idDefaultValuesTitle" level="H4" /><Label xmlns="sap.m" id="idPreselectionModeLabel" width="100%" /><VBox xmlns="sap.m" id="idPreselectionMode" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idPreselectionModeRadioGroup" select="handleChangeForPreselectionMode"\r\n\t\t\t\t\t\t\t\t\tariaLabelledBy="idAriaPropertyForDefaultMode"><buttons><RadioButton id="idNoneSelection" /><RadioButton id="idAutomaticSelection" /><RadioButton id="idFixedValue" /><RadioButton id="idFunction" /></buttons></RadioButtonGroup></items></VBox><Label xmlns="sap.m" id="idPreselectionDefaultsLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" required="true" /><MultiInput id="idPreselectionDefaults" width="100%"\r\n\t\t\t\t\t\t\tenableMultiLineMode="true" visible="false"\r\n\t\t\t\t\t\t\tchange="handleChangeForPreselectionDefaults" showValueHelp="false" /><Label xmlns="sap.m" id="idPreselectionFunctionLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" required="true" /><Input xmlns="sap.m" id="idPreselectionFunction" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForPreselectionFunction" visible="false" /><core:Title id="idValueHelpTitle" level="H4" /></f:content><Label xmlns="sap.m" id="idValueHelpLabel" width="100%" /><VBox xmlns="sap.m" id="idValueHelp" visible="true"\r\n\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m" id="idValueHelpRadioGroup"\r\n\t\t\t\t\t\t\t\tselect="handleChangeForValueHelpOption" ariaLabelledBy="idAriaPropertyForVHR"><buttons><RadioButton id="idVHNone" /><RadioButton id="idValueHelpRequest" /><RadioButton id="idConfigListOfValues" /></buttons></RadioButtonGroup></items></VBox><Label xmlns="sap.m" id="idConfigListOfValuesLabel" width="100%"\r\n\t\t\t\t\t\tvisible="false" required="true" /><MultiInput id="idConfigListOfValuesMultiInput" width="100%"\r\n\t\t\t\t\t\tenableMultiLineMode="true" visible="false"\r\n\t\t\t\t\t\tchange="handleChangeForConfigListOfValues" showValueHelp="false" /></f:SimpleForm><VBox id="idVHRVBox" /><f:SimpleForm id="idFFForm1" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formTopPadding"><f:content><core:Title id="idFilterResolutionTitle" level="H4" /><Label xmlns="sap.m" id="idUseVHRAsFRRCheckBoxLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" /><CheckBox xmlns="sap.m" id="idUseVHRAsFRRCheckBox"\r\n\t\t\t\t\t\t\tselected="false" width="0px" visible="false" enabled="true"\r\n\t\t\t\t\t\t\tactiveHandling="true" select="handleChangeForUseVHRAsFRRCheckBox"></CheckBox></f:content></f:SimpleForm><VBox id="idFRRVBox" /></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForSelection" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDefaultMode" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForVHR" /></mvc:View>',
	"sap/apf/modeler/ui/view/importDeliveredContent.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.importDeliveredContent"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\r\n\tclass="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idImportDeliveredContentDialog"\r\n\t\tshowHeader="true" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tcontentWidth="700px" initialFocus="idImportDeliveredContentDialog"><VBox xmlns="sap.m"><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idConfigLabel" class="importFileUploaderDialogLabels" /><ComboBox xmlns="sap.m" id="idAppConfigCombobox"\r\n\t\t\t\t\tshowSecondaryValues="true" items="{/Objects}"\r\n\t\t\t\t\tselectionChange="handleSelectionChangeOfAppConfigTextField" change="handleChangeOfAppConfigTextField"\r\n\t\t\t\t\tclass="appCofigCombo" ariaLabelledBy="idConfigLabel"><core:ListItem text="{applicationText}"\r\n\t\t\t\t\t\tadditionalText="{configurationText}" app:value="{value}"></core:ListItem></ComboBox></HBox></VBox><beginButton><Button xmlns="sap.m" id="idImportOfConfig" press="handleImportPress"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelImportOfConfig" press="handleCancelOfImportDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/importFiles.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.importFiles"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idImportFilesDialog" showHeader="true"\r\n\t\tafterOpen="addAcceptAttribute"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" initialFocus="idImportFilesDialog" afterClose="handleCancelOfImportFilesDialog"><VBox xmlns="sap.m"><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idJsonFileLabel" class="importFileUploaderDialogLabels" textAlign="Center" width="170px"/><FileUploader xmlns="sap.ui.unified" id="idJsonFileUploader"\r\n\t\t\t\t\tclass="jsonfileuploader" fileType="json" width="600px"\r\n\t\t\t\t\ttypeMissmatch="handleTypeMissmatchForJSONFile" uploadComplete="handleJSONFileUploadComplete"\r\n\t\t\t\t\tsameFilenameAllowed="true" ariaLabelledBy="idJsonFileLabel"></FileUploader></HBox><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idTextFileLabel" class="importFileUploaderDialogLabels" textAlign="Center" width="170px"/><FileUploader xmlns="sap.ui.unified" id="idTextFileUploader"\r\n\t\t\t\t\tclass="propertiesfileuploader" fileType="properties" width="600px"\r\n\t\t\t\t\ttypeMissmatch="handleTypeMissmatchForPropertiesFile"\r\n\t\t\t\t\tuploadComplete="handleTextFileUploadComplete" sameFilenameAllowed="true"\r\n\t\t\t\t\tariaLabelledBy="idTextFileLabel"></FileUploader></HBox></VBox><beginButton><Button xmlns="sap.m" id="idUploadOfConfig" press="handleUploadOfConfig"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelImportOfConfig" press="handleCancelOfImportFilesDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/messageHandler.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.messageHandler"\r\n\txmlns:mvc="sap.ui.core.mvc" class="sapUiSizeCompact"></mvc:View>',
	"sap/apf/modeler/ui/view/navigationTarget.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.navigationTarget"\r\n\txmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\r\n\txmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idNavTargetform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formBottomPadding"><f:content><core:Title id="idNavigationTargetHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idSemanticObjectLabel" required="true" /><ComboBox xmlns="sap.m" id="idSemanticObjectField"\r\n\t\t\t\t\t\t\tvisible="true" enabled="true" width="100%" maxWidth="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeSemanticObjectValue"\r\n\t\t\t\t\t\t\titems="{/Objects}"><core:Item key="{id}" text="{id}" /></ComboBox><Label xmlns="sap.m" id="idActionLabel" required="true" /><ComboBox xmlns="sap.m" id="idActionField" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="100%" maxWidth="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeofAction" items="{/Objects}"><core:Item key="{id}" text="{id}" /></ComboBox><Label xmlns="sap.m" id="idDescriptionLabel" /><Input xmlns="sap.m" id="idDescription" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForTitleText" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><core:Title id="idNavigationParametersHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idUseDynamicParametersCheckBoxLabel" width="100%"></Label><HBox\r\n\t\t\t\t\t\t\talignItems="Start"\r\n\t\t\t\t\t\t\tjustifyContent="Start"><items><CheckBox xmlns="sap.m" id="idUseDynamicParametersCheckBox"\r\n\t\t\t\t \t\t\t\t\tselect="handleChangeForUseDynamicParameters"/><Button xmlns="sap.m" type="Transparent" id="idDisplayHelpAboutDynamicParameters" press="displayHelpAboutDynamicParameters" icon="sap-icon://sys-help"/></items></HBox><VBox id="idNavigationParameterBox"><layoutData><l:GridData span="L12 M12 S12" /></layoutData></VBox><core:Title id="idNavigationTargetTypeHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idNavigationTargetTypeLabel" /><Select xmlns="sap.m" id="idNavigationTargetTypeField"\r\n\t\t\t\t\t\t\tvisible="true" enabled="true" width="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeOfNavigationTargetType"\r\n\t\t\t\t\t\t\titems="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label xmlns="sap.m" id="idAssignedStepsLabel" visible="false" /><MultiComboBox xmlns="sap.m" id="idAssignedStepsCombo"\r\n\t\t\t\t\t\t\tenabled="true" visible="false" editable="true" valueState="None"\r\n\t\t\t\t\t\t\tselectionFinish="handleChangeForAssignedSteps" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{stepKey}" text="{stepName}" /></MultiComboBox><core:Title id="idContextMapping" level="H4" /></f:content></f:SimpleForm><VBox id="idContextMappingVBox" /></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/navigationTargetParameter.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idNavigationTargetParameterForm" maxContainerCols="1"\r\n\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" width="100%"\r\n\t\tclass="formTopPadding formBottomPadding"><f:content><Label xmlns="sap.m" id="idNavigationParametersLabel"></Label><Input xmlns="sap.m" id="idNavigationParametersKey" change="onKeyEntered"><layoutData><l:GridData span="L3 M3 S3" /></layoutData></Input><Input xmlns="sap.m" id="idNavigationParametersValue" change="onValueEntered"><layoutData><l:GridData span="L3 M3 S3" /></layoutData></Input><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData span="L2 M2 S2" /></layoutData><items><Button id="idAddNavigationParameter" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t\t press="onPlus" aria-describedby="idAriaPropertyForAdd"></Button><Button id="idRemoveNavigationParameter" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\t\tpress="onMinus" \r\n\t\t\t\t\t\t\taria-describedby="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>',
	"sap/apf/modeler/ui/view/newApplication.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.newApplication"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idNewAppDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding"><VBox xmlns="sap.m"><items><HBox xmlns="sap.m" class="newAppLayout"><items><Label xmlns="sap.m" id="idDescriptionLabel" required="true" textAlign="Center"\r\n\t\t\t\t\t\t\twidth="135px" labelFor="idDescriptionInput" /><Input xmlns="sap.m" id="idDescriptionInput" liveChange="handleAppDescriptionLiveChange"\r\n\t\t\t\t\t\t\t required="true" aria-required="true" initialFocus="true" ariaLabelledBy="idDescriptionLabel" /></items></HBox><HBox xmlns="sap.m" class="newAppLayout" id="idSemanticObjectBox"><items><Label xmlns="sap.m" id="idSemanticObjectLabel" textAlign="Center"\r\n\t\t\t\t\t\t       width="135px" labelFor="idSemanticObjectInput"/><Input xmlns="sap.m" id="idSemanticObjectInput"\r\n\t\t\t\t\t\t\tariaLabelledBy="idSemanticObjectLabel" /></items></HBox></items></VBox><beginButton><Button xmlns="sap.m" id="idSaveButton" enabled="false"\r\n\t\t\t\tpress="handleSavePress"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelButton" press="handleCancelPress" /></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/previewContent.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.previewContent"\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><Dialog xmlns="sap.m" type="Standard" id="idPreviewContentDialog"\n\t\t class="previewDialogStyle" afterClose="handleClose"><VBox xmlns="sap.m" id="idThumbnail" height="240px" width="30%"\n\t\t\tinitialFocus="true" displayInline="false" direction="Column" fitContainer="true"\n\t\t\trenderType="Div" justifyContent="Left" alignItems="Left"\n\t\t\tclass="previewThumbnailHolder"><items></items></VBox><VBox xmlns="sap.m" id="idMainChart" width="70%" displayInline="false"\n\t\t\tdirection="Column" fitContainer="false" renderType="Div"\n\t\t\tjustifyContent="Right" alignItems="Right"\n\t\t\tclass="previewTable previewMainChartHolder"><items></items></VBox><endButton><Button xmlns="sap.m" id="idCloseButtonDialog" press="handleCloseButtonOfDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/propertyType.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idPropertyTypeForm" maxContainerCols="1"\r\n\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\tlabelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1"\r\n\t\temptySpanM="1" emptySpanS="1" columnsL="1" columnsM="1" width="100%"\r\n\t\tclass="formTopPadding formBottomPadding" ariaLabelledBy="idAriaPropertyForBasicDataGroup"><core:InvisibleText id="idAriaPropertyForBasicDataGroup"/><f:content><Label id="idPropertyTypeLabel"><layoutData><l:GridData span="L2 M2 S2" /></layoutData></Label><Select id="idPropertyType" visible="true" enabled="true"\r\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForPropertyTypeAsPromise" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idPropertyTypeLayout" span="L2 M2 S2" /></layoutData></Select><Select id="idLabelDisplayOptionType" visible="true" enabled="true"\r\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForLabelDisplayOptionType" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData span="L2 M2 S2" /></layoutData></Select><Label id="idPropertyLabel"><layoutData><l:GridData span="L2 M2 S1" /></layoutData></Label><Input id="idPropertyLabelText" editable="true"\r\n\t\t\t\tchange="handleChangeForLabelText" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData span="L3 M3 S2" /></layoutData></Input><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData span="L1 M1 S1" /></layoutData><items><Button id="idAddPropertyIcon" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfAddPropertyIcon" aria-describedby="idAriaPropertyForAdd"></Button><Button id="idRemovePropertyIcon" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\tpress="handlePressOfRemovePropertyIcon" \r\n\t\t\t\t\t\taria-describedby="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>',
	"sap/apf/modeler/ui/view/propertyTypeHandler.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\tvisible="true" xmlns="sap.m"\r\n\tcontrollerName="sap.apf.modeler.ui.controller.propertyTypeHandler"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idPropertyTypeVBox" /></mvc:View>',
	"sap/apf/modeler/ui/view/representation.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.representation"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idRepresentationform" visible="true"\r\n\t\twidth="100%" displayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="1" columnsL="1" columnsM="1"><f:content><core:Title id="idVisualization" level="H4" /><Label xmlns="sap.m" id="idChartTypeLabel"><layoutData><GridData xmlns="sap.ui.layout" span="L2 M2 S2" /></layoutData></Label><Select xmlns="sap.m" id="idChartType" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="95%" maxWidth="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeForChartType" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><GridData xmlns="sap.ui.layout" span="L4 M4 S4" /></layoutData></Select></f:content></f:SimpleForm><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idBasicData" level="H4" /><VBox xmlns="sap.m" id="idBasicDataLayout" width="100%"\r\n\t\t\t\t\t\t\tvisible="true" displayInline="false" direction="Column"\r\n\t\t\t\t\t\t\tfitContainer="false" renderType="Div" justifyContent="Start"\r\n\t\t\t\t\t\t\talignItems="Stretch"></VBox></f:content></f:SimpleForm><f:SimpleForm id="idSecondForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1"\r\n\t\t\t\t\temptySpanM="1" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formTopPadding"><f:content><core:Title id="idSorting" level="H4" /><VBox xmlns="sap.m" id="idSortLayout" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"></VBox></f:content></f:SimpleForm><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlabelMinWidth="300" layout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><VBox xmlns="sap.m" id="idCornerTextsVBox" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"></VBox></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/requestOptions.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\n\tvisible="true" xmlns:f="sap.ui.layout.form" xmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idRequestOptionsForm" maxContainerCols="1"\n\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\n\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\n\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" width="100%"><f:content><Label id="idSourceLabel" /><Input id="idSource" editable="true" showValueHelp="true"\n\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}"\n\t\t\t\tchange="handleChangeForSourceAsPromise" valueHelpRequest="handleShowValueHelpRequest"\n\t\t\t\tsuggest="handleSuggestionsForSource"><core:Item key="{key}" text="{name}" /></Input><Label id="idEntityLabel" /><Select id="idEntity" visible="true" enabled="true" width="100%"\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForEntity" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idOptionalPropertyLabel" visible="false" /><Select id="idOptionalProperty" visible="false" enabled="true"\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForOptionalProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idSelectPropertiesLabel" /><MultiComboBox id="idSelectProperties" value="" width="100%"\n\t\t\t\tenabled="true" visible="true" valueState="None" editable="true"\n\t\t\t\tselectionFinish="handleChangeForSelectProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></MultiComboBox><Label id="idOptionalRequestFieldLabel" visible="false" /><Select id="idOptionalRequestField" visible="false" enabled="true"\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForOptionalRequestField" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Select id="idOptionalLabelDisplayOptionType" visible="false"\n\t\t\t\tenabled="true" width="100%" maxWidth="100%" type="Default"\n\t\t\t\tautoAdjustWidth="false" change="handleChangeForOptionalLabelDisplayOptionType"\n\t\t\t\titems="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idOptionalSelectedPropertyLabel" visible="false"></Label><Input id="idOptionalSelectedPropertyLabelText" editable="true"\n\t\t\t\tvisible="false" change="handleChangeForOptionalSelectedPropertyLabelText"\n\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestionsForSelectedPropertyLabel"><core:Item key="{key}" text="{name}" /></Input></f:content></f:SimpleForm></mvc:View>',
	"sap/apf/modeler/ui/view/smartFilterBar.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.smartFilterBar"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idSFBVBox" visible="true" displayInline="false"\r\n\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\tjustifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><VBox id="idSFBRequestVBox"></VBox></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/sortPropertyType.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idSortPropertyTypeForm"\r\n\t\tmaxContainerCols="1" editable="true" labelMinWidth="300"\r\n\t\tlayout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4"\r\n\t\tlabelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="1" columnsL="1"\r\n\t\tcolumnsM="1" width="100%" class="formTopPadding formBottomPadding" ariaLabelledBy="idAriaPropertyForSortGroup"><core:InvisibleText id="idAriaPropertyForSortGroup"/><f:content><Label id="idSortLabel"><layoutData><l:GridData id="idGridSortLabel" /></layoutData></Label><Select id="idSortProperty" visible="true" width="100%"\r\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForSortProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idGridSortProperty" /></layoutData></Select><Label id="idSortDirectionLabel"><layoutData><l:GridData id="idGridSortDirectionLabel" /></layoutData></Label><Select id="idSortDirection" visible="true" width="100%"\r\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForSortDirection" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idGridSortDirection" /></layoutData></Select><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData id="idGridIconLayout" /></layoutData><items><Button id="idAddPropertyIcon" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfAddPropertyIcon" aria-describedby="idAriaPropertyForAdd"></Button><Button id="idRemovePropertyIcon" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfRemovePropertyIcon" \r\n\t\t\t\t\t\taria-describedby="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/step.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.step"\r\n\txmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\r\n\txmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idStepform" visible="true" displayInline="false"\r\n\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\tjustifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm id="idBasicDataForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" labelMinWidth="300" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formBottomPadding"><f:content><core:Title id="idStepBasicData" level="H4" /><Label id="idStepTitleLabel" required="true" /><Input id="idStepTitle" editable="true" change="handleChangeForStepTitle"\r\n\t\t\t\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}"\r\n\t\t\t\t\t\t\tsuggest="handleSuggestionsForStepTitle"><core:Item key="{key}" text="{name}" /></Input><Label id="idStepLongTitleLabel" /><Input id="idStepLongTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForStepLongTitle" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestionsForStepLongTitle"><core:Item key="{key}" text="{name}" /></Input><Label id="idCategoryTitleLabel" required="true" /><MultiComboBox id="idCategorySelect" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="true"\r\n\t\t\t\t\t\t\tselectionChange="handleChangeForCategory" items="{/Objects}"><core:Item key="{CategoryId}" text="{CategoryTitle}" /></MultiComboBox><core:Title id="idDataRequest" level="H4" /></f:content></f:SimpleForm><VBox id="idStepRequestVBox" /><f:SimpleForm id="idDataReductionForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true" labelMinWidth="300"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding formBottomPadding"><f:content><core:Title id="idDataReduction" level="H4" /><Label id="idDataReductionLabel" width="100%" visible="true" /><VBox id="idDataReductionRadioButton" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup id="idDataReductionRadioGroup"\r\n\t\t\t\t\t\t\t\t\tselect="handleChangeForDataReductionType" ariaLabelledBy="idAriaPropertyForDataReduction"><buttons><RadioButton groupName="groupDataReduction" id="idNoDataReduction" /><RadioButton groupName="groupDataReduction" id="idTopN" /></buttons></RadioButtonGroup></items></VBox><Label id="idNumberOfRecordsLabel" width="100%" required="true"\r\n\t\t\t\t\t\t\tvisible="false" /><Input id="idNumberOfRecordsValue" busy="false" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" type="Number" enabled="true"\r\n\t\t\t\t\t\t\tliveChange="handleValidationForNumberOfRecords" change="handleChangeForNoOfRecords"></Input></f:content></f:SimpleForm><VBox id="idSortLayout" visible="true" displayInline="false"\r\n\t\t\t\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\t\t\t\tjustifyContent="Start" alignItems="Stretch"></VBox><f:SimpleForm id="idFilterMappingHeaderForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true" labelMinWidth="300"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idFilterMapping" level="H4" /></f:content></f:SimpleForm><VBox id="idStepFilterMappingVBox" visible="false" /><f:SimpleForm id="idFilterMapKeepSourceAndNavTargetForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true" labelMinWidth="300"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding formBottomPadding"><f:content><Label id="idFilterMapKeepSourceLabel" visible="false" /><CheckBox xmlns="sap.m" id="idFilterKeepSourceCheckBox"\r\n\t\t\t\t\t\t\tvisible="false" selected="false" select="handleFilterMapKeepSource" /><core:Title id="idNavigationTarget" level="H4" /><Label id="idStepSpecificLabel" /><MultiComboBox id="idStepSpecificCombo" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="true"\r\n\t\t\t\t\t\t\tselectionChange="handleChangeForStepSpecificNavTargets" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{navTargetKey}" text="{navTargetName}" /></MultiComboBox><Label id="idGlobalLabel" /><MultiComboBox id="idGlobalCombo" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="false" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{navTargetKey}" text="{navTargetName}" /></MultiComboBox></f:content></f:SimpleForm><VBox id="idStepCornerTextVBox" /></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDataReduction" /></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/titleBreadCrumb.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.titleBreadCrumb"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"><VBox xmlns="sap.m" id="idFormTitleLayout" visible="true" height=""\r\n\t\twidth="" displayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><Text xmlns="sap.m" id="IdFormTitle" textDirection="Inherit"\r\n\t\t\t\tvisible="true" wrapping="true" textAlign="Begin" width="" class="formTitle"></Text><l:HorizontalLayout xmlns="sap.m" id="IdBreadCrumb"\r\n\t\t\t\tvisible="true" class="breadCrumb"></l:HorizontalLayout></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/toolbar.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.toolbar"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"><Toolbar xmlns="sap.m" id="idTreeToolbar" visible="true" width="100%"\r\n\t\tactive="false" enabled="true" design="Auto"><content><FlexBox alignItems="Start" width="100%"><items><Button xmlns="sap.m" id="idAddButton" type="Default" width="100%"\r\n\t\t\t\t\t\ttap="" press="_handlePressAddButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idCopyButton" enabled="false"\r\n\t\t\t\t\t\twidth="100%" type="Default" tap="" press="_handlePressCopyButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idDeleteButton" type="Default"\r\n\t\t\t\t\t\tenabled="false" width="100%" tap="" press="_handlePressDeleteButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idMoveUp" type="Default" width="100%"\r\n\t\t\t\t\t\ttap="" press="_handlePressMoveUpButton" icon="sap-icon://up"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idMoveDown" type="Default" width="100%"\r\n\t\t\t\t\t\ttap="" press="_handlePressMoveDownButton" icon="sap-icon://down"><layoutData><FlexItemData growFactor="1" /></layoutData></Button></items></FlexBox></content></Toolbar></mvc:View>',
	"sap/apf/ui/reuse/controller/viewSetting.controller.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";function e(e,t){var r={},n;if(e.orderby&&e.orderby.length&&e.orderby[0].ascending!==undefined){n=e.orderby[0].ascending}if(e.orderby&&e.orderby.length>1){r=undefined}else if(e.orderby&&e.orderby.length==1){r=e.orderby[0].property}else{r=undefined;n=true}t.setSortDescending(!n);t.setSelectedSortItem(r)}function t(e,t){var r;if(e.getParameters().sortItem&&e.getParameters().sortItem.getKey()){r=e.getParameters().sortItem.getKey()}else{return false}var n={property:r,ascending:!e.getParameters().sortDescending};var i={property:t._oPreviousState.sortItem?t._oPreviousState.sortItem.getKey():undefined,ascending:!t._oPreviousState.sortDescending};if(i.property===n.property&&i.ascending===n.ascending){return false}return true}sap.ui.controller("sap.apf.ui.reuse.controller.viewSetting",{onInit:function(){var t=this;this.oViewSettingDialog=t.getView().getContent()[0];this.oSelectedRepresentation=t.getView().getViewData().oTableInstance;e(this.oSelectedRepresentation,this.oViewSettingDialog)},handleConfirmForSort:function(e){if(!t(e,this.oViewSettingDialog)){return}if(this.oSelectedRepresentation){this.oSelectedRepresentation.resetPaginationForTable()}this.oSelectedRepresentation.oApi.selectionChanged(true)},handleCancel:function(e){this.oViewSettingDialog.destroy();this.oSelectedRepresentation.oViewSettingDialog=undefined}})})();
},
	"sap/apf/ui/reuse/view/layout.view.xml":'\r\n<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:fiori="sap.f" xmlns:l="sap.ui.layout"\r\n\tcontrollerName="sap.apf.ui.reuse.controller.layout" xmlns="sap.m" class="layoutView"><Page id="applicationPage" xmlns="sap.m" showNavButton="true" floatingFooter = "true" showHeader="false"\r\n\t\tnavButtonPress="handleNavBack" showFooter="true" enableScrolling="false" class="apfAppPage"><content><l:Splitter id="idSplitter" orientation="Vertical" defaultPane="splitPane2"><ScrollContainer xmlns="sap.m" id="subHeader" width="100%"><layoutData><l:SplitterLayoutData id="idSplitterLayoutData" size="127px" ></l:SplitterLayoutData></layoutData></ScrollContainer><SplitApp xmlns="sap.m" id="applicationView" mode="ShowHideMode"><layoutData><l:SplitterLayoutData size="auto"></l:SplitterLayoutData></layoutData><masterPages><Page xmlns="sap.m" id="analysisPath" showHeader="false" showFooter="true" enableScrolling="false"><content><fiori:DynamicPage id="analysisDynamicPage" enableScrolling="false" preserveHeaderStateOnScroll="false" showFooter="false"><fiori:title><fiori:DynamicPageTitle areaShrinkRatio="1:5:0"><fiori:content><Title id="analysisPathTitle" text="" /></fiori:content><fiori:actions><Button id="menuButton" type="Transparent" icon="sap-icon://drop-down-list" press="showMenu" ariaLabelledBy="analysisPathTitle"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" /></layoutData></Button></fiori:actions></fiori:DynamicPageTitle></fiori:title></fiori:DynamicPage></content><footer><Bar xmlns="sap.m" id="deviceFooter" class="applicationFooter" ></Bar></footer></Page></masterPages><detailPages><Page xmlns="sap.m" id="stepContainer" showFooter="false" showHeader="false" enableScrolling="false"/></detailPages></SplitApp></l:Splitter></content><footer><Bar xmlns="sap.m" id="masterFooter" class="applicationFooter" ></Bar></footer></Page></mvc:View>\r\n',
	"sap/apf/ui/reuse/view/messageHandler.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.messageHandler",{getControllerName:function(){return"sap.apf.ui.reuse.controller.messageHandler"},createContent:function(){}})})();
},
	"sap/apf/ui/reuse/view/pathFilterDisplay.view.xml":'\r\n<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="sap.apf.ui.reuse.controller.pathFilterDisplay" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><Dialog id="pathFilterDisplayDialog" showHeader="false" resizable="true" draggable="true" afterClose=".onClose"><content><NavContainer id="navContainer"><pages><Page id="stepPage"><subHeader><Bar class="filterMargin"><contentLeft><SearchField liveChange=".onSearch"/></contentLeft></Bar></subHeader><content><List items = "{path: \'/\', templateShareable:false}"><CustomListItem type="Navigation" press=".onStepPress" class="sapUiSmallMargin"><content><HBox class="sapUiSmallMargin" width="100%" wrap="Wrap"><items><VBox class="sapUiSmallMargin" width="100%"><items><Label text="{text}" design="Bold" tooltip="{text}"/><Label text="{parts:[\'selectablePropertyLabel\', \'filterValues\'], formatter: \'.getDescriptionForStep\'}"/></items></VBox><HBox justifyContent="End" alignItems="Center" width="100%"><items><core:Icon src="sap-icon://message-warning" class="sapUiSmallMarginBegin" visible="{warningIcon}" tooltip="{warningText}"/><core:Icon src="sap-icon://message-information" class="sapUiSmallMarginBegin" visible="{infoIcon}" tooltip="{infoText}"/></items></HBox></items></HBox></content></CustomListItem></List></content></Page><Page id="filterValuesPage" title="{text}" showNavButton="true" navButtonPress=".onBackPress" app:stepIndex="{stepIndex}"><subHeader><Bar><contentLeft><SearchField liveChange=".onSearch"/></contentLeft></Bar></subHeader><content><List items="{filterValues}"><StandardListItem title="{text}"/></List></content></Page></pages></NavContainer></content><beginButton><Button visible="false" press=".onCloseAndNavigatePress"></Button></beginButton><endButton><Button press=".onCloseButton"/></endButton></Dialog></mvc:View>',
	"sap/apf/ui/reuse/view/pathGallery.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.pathGallery",{getControllerName:function(){return"sap.apf.ui.reuse.controller.pathGallery"},createContent:function(e){this.viewData=this.getViewData()}})})();
},
	"sap/apf/ui/reuse/view/smartFilterBar.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.smartFilterBar",{getControllerName:function(){return"sap.apf.ui.reuse.controller.smartFilterBar"},createContent:function(t){var e=this,a,r,i,n;a=e.getViewData().oSmartFilterBarConfiguration.entitySet;r=e.getViewData().oSmartFilterBarConfiguration.id;i=e.getViewData().oCoreApi.getSmartFilterBarPersistenceKey(r);n=new sap.ui.comp.smartfilterbar.SmartFilterBar(t.createId("idAPFSmartFilterBar"),{entitySet:a,controlConfiguration:e.getViewData().controlConfiguration,initialized:t.afterInitialization.bind(t),search:t.handlePressOfGoButton.bind(t),persistencyKey:i,considerAnalyticalParameters:true,customData:{key:"dateFormatSettings",value:{UTC:true}},useDateRangeType:true,liveMode:true,filterChange:t.validateFilters.bind(t)});e.setParent(e.getViewData().parent);return n}})})();
},
	"sap/apf/ui/reuse/view/stepGallery.view.js":function(){
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
(function(){"use strict";sap.ui.jsview("sap.apf.ui.reuse.view.stepGallery",{getControllerName:function(){return"sap.apf.ui.reuse.controller.stepGallery"},createContent:function(e){this.oController=e}})})();
}
});
//# sourceMappingURL=library-preload.js.map
