"use strict";sap.ui.define(["sap/feedback/ui/thirdparty/sap-px/pxapi","sap/m/library","./Ui5ControlFactory","../common/Constants","../data/AppContextData"],function(e,t,n,r,i){function o(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,c(r.key),r)}}function l(e,t,n){if(t)s(e.prototype,t);if(n)s(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return typeof t==="symbol"?t:String(t)}function f(e,t){if(a(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if(a(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y=e["PushType"];var p=t["ButtonType"];var v=t["DialogType"];var h=o(n);var d=o(r);var g=o(i);var m=function(){function e(t){u(this,e);this._resourceBundle=t}l(e,[{key:"surveyInvitationDialogShowCallback",value:function e(t){try{var n=this;n.show(t.pushType);var r=new Promise(function(e){return n._resolveSurveyInvitation=e});return Promise.resolve(r)}catch(e){return Promise.reject(e)}}},{key:"show",value:function e(t){if(!this._dialog){this._dialog=this.createDialog()}if(!this._dialog.isOpen()){this.setDismissButtonText(t);this._dialog.open()}}},{key:"setDismissButtonText",value:function e(t){var n=this.getText("YOUR_OPINION_NOTNOW");if(t===y.timedPush){n=this.getText("YOUR_OPINION_ASKLATERBUTTON")}this._dialog.getEndButton().setText(n)}},{key:"onDialogClose",value:function e(t){try{var n=this;n._dialog.close();return Promise.resolve(g.getData()).then(function(e){n._resolveSurveyInvitation({appContextData:e,surveyUser:t})})}catch(e){return Promise.reject(e)}}},{key:"getText",value:function e(t){return this._resourceBundle.getText(t)||t}},{key:"createFeedbackButton",value:function e(){var t=this;return h.createButton({type:p.Emphasized,text:this.getText("YOUR_OPINION_PROVIDEBUTTON"),press:function e(){t.onDialogClose(true)}})}},{key:"createDismissButton",value:function e(){var t=this;return h.createButton({text:this.getText("YOUR_OPINION_NOTNOW"),press:function e(){t.onDialogClose(false)}})}},{key:"createDialog",value:function e(){return h.createDialog({type:v.Message,title:this.getText("YOUR_OPINION_TITLE"),content:h.createFormattedText({htmlText:this.getText("YOUR_OPINION_TEXT")}),beginButton:this.createFeedbackButton(),endButton:this.createDismissButton(),escapeHandler:this.handleEscape.bind(this)},d.SURVEY_INVITATION_DIALOG_ID)}},{key:"handleEscape",value:function e(t){t.resolve();this.onDialogClose(false)}}]);return e}();return m});
//# sourceMappingURL=InvitationDialog.js.map